var zme=Object.defineProperty;var Hme=(e,t,n)=>t in e?zme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vo=(e,t,n)=>(Hme(e,typeof t!="symbol"?t+"":t,n),n);function Wme(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qme(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var yG={exports:{}},FI={},vG={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=Symbol.for("react.element"),Yme=Symbol.for("react.portal"),Gme=Symbol.for("react.fragment"),Kme=Symbol.for("react.strict_mode"),Qme=Symbol.for("react.profiler"),Xme=Symbol.for("react.provider"),Jme=Symbol.for("react.context"),Zme=Symbol.for("react.forward_ref"),ege=Symbol.for("react.suspense"),tge=Symbol.for("react.memo"),nge=Symbol.for("react.lazy"),bF=Symbol.iterator;function rge(e){return e===null||typeof e!="object"?null:(e=bF&&e[bF]||e["@@iterator"],typeof e=="function"?e:null)}var _G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bG=Object.assign,wG={};function Pg(e,t,n){this.props=e,this.context=t,this.refs=wG,this.updater=n||_G}Pg.prototype.isReactComponent={};Pg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function EG(){}EG.prototype=Pg.prototype;function b$(e,t,n){this.props=e,this.context=t,this.refs=wG,this.updater=n||_G}var w$=b$.prototype=new EG;w$.constructor=b$;bG(w$,Pg.prototype);w$.isPureReactComponent=!0;var wF=Array.isArray,TG=Object.prototype.hasOwnProperty,E$={current:null},SG={key:!0,ref:!0,__self:!0,__source:!0};function xG(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)TG.call(t,r)&&!SG.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Y_,type:e,key:s,ref:o,props:i,_owner:E$.current}}function ige(e,t){return{$$typeof:Y_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function T$(e){return typeof e=="object"&&e!==null&&e.$$typeof===Y_}function sge(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var EF=/\/+/g;function HP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sge(""+e.key):t.toString(36)}function jw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Y_:case Yme:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+HP(o,0):r,wF(i)?(n="",e!=null&&(n=e.replace(EF,"$&/")+"/"),jw(i,t,n,"",function(l){return l})):i!=null&&(T$(i)&&(i=ige(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(EF,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",wF(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+HP(s,a);o+=jw(s,t,n,u,i)}else if(u=rge(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+HP(s,a++),o+=jw(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ub(e,t,n){if(e==null)return e;var r=[],i=0;return jw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function oge(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cs={current:null},Bw={transition:null},age={ReactCurrentDispatcher:Cs,ReactCurrentBatchConfig:Bw,ReactCurrentOwner:E$};sn.Children={map:ub,forEach:function(e,t,n){ub(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ub(e,function(){t++}),t},toArray:function(e){return ub(e,function(t){return t})||[]},only:function(e){if(!T$(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};sn.Component=Pg;sn.Fragment=Gme;sn.Profiler=Qme;sn.PureComponent=b$;sn.StrictMode=Kme;sn.Suspense=ege;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=age;sn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bG({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=E$.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)TG.call(t,u)&&!SG.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Y_,type:e.type,key:i,ref:s,props:r,_owner:o}};sn.createContext=function(e){return e={$$typeof:Jme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xme,_context:e},e.Consumer=e};sn.createElement=xG;sn.createFactory=function(e){var t=xG.bind(null,e);return t.type=e,t};sn.createRef=function(){return{current:null}};sn.forwardRef=function(e){return{$$typeof:Zme,render:e}};sn.isValidElement=T$;sn.lazy=function(e){return{$$typeof:nge,_payload:{_status:-1,_result:e},_init:oge}};sn.memo=function(e,t){return{$$typeof:tge,type:e,compare:t===void 0?null:t}};sn.startTransition=function(e){var t=Bw.transition;Bw.transition={};try{e()}finally{Bw.transition=t}};sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sn.useCallback=function(e,t){return Cs.current.useCallback(e,t)};sn.useContext=function(e){return Cs.current.useContext(e)};sn.useDebugValue=function(){};sn.useDeferredValue=function(e){return Cs.current.useDeferredValue(e)};sn.useEffect=function(e,t){return Cs.current.useEffect(e,t)};sn.useId=function(){return Cs.current.useId()};sn.useImperativeHandle=function(e,t,n){return Cs.current.useImperativeHandle(e,t,n)};sn.useInsertionEffect=function(e,t){return Cs.current.useInsertionEffect(e,t)};sn.useLayoutEffect=function(e,t){return Cs.current.useLayoutEffect(e,t)};sn.useMemo=function(e,t){return Cs.current.useMemo(e,t)};sn.useReducer=function(e,t,n){return Cs.current.useReducer(e,t,n)};sn.useRef=function(e){return Cs.current.useRef(e)};sn.useState=function(e){return Cs.current.useState(e)};sn.useSyncExternalStore=function(e,t,n){return Cs.current.useSyncExternalStore(e,t,n)};sn.useTransition=function(){return Cs.current.useTransition()};sn.version="18.2.0";vG.exports=sn;var b=vG.exports;const $=au(b),yv=Wme({__proto__:null,default:$},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uge=b,lge=Symbol.for("react.element"),cge=Symbol.for("react.fragment"),fge=Object.prototype.hasOwnProperty,dge=uge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hge={key:!0,ref:!0,__self:!0,__source:!0};function IG(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fge.call(t,r)&&!hge.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:lge,type:e,key:s,ref:o,props:i,_owner:dge.current}}FI.Fragment=cge;FI.jsx=IG;FI.jsxs=IG;yG.exports=FI;var C=yG.exports,FR={},CG={exports:{}},Uo={},AG={exports:{}},PG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,re){var A=X.length;X.push(re);e:for(;0<A;){var H=A-1>>>1,G=X[H];if(0<i(G,re))X[H]=re,X[A]=G,A=H;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],A=X.pop();if(A!==re){X[0]=A;e:for(var H=0,G=X.length,P=G>>>1;H<P;){var R=2*(H+1)-1,L=X[R],Y=R+1,le=X[Y];if(0>i(L,A))Y<G&&0>i(le,L)?(X[H]=le,X[Y]=A,H=Y):(X[H]=L,X[R]=A,H=R);else if(Y<G&&0>i(le,A))X[H]=le,X[Y]=A,H=Y;else break e}}return re}function i(X,re){var A=X.sortIndex-re.sortIndex;return A!==0?A:X.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var re=n(l);re!==null;){if(re.callback===null)r(l);else if(re.startTime<=X)r(l),re.sortIndex=re.expirationTime,t(u,re);else break;re=n(l)}}function T(X){if(g=!1,_(X),!p)if(n(u)!==null)p=!0,te(x);else{var re=n(l);re!==null&&se(T,re.startTime-X)}}function x(X,re){p=!1,g&&(g=!1,m(I),I=-1),h=!0;var A=d;try{for(_(re),f=n(u);f!==null&&(!(f.expirationTime>re)||X&&!M());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var G=H(f.expirationTime<=re);re=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(u)&&r(u),_(re)}else r(u);f=n(u)}if(f!==null)var P=!0;else{var R=n(l);R!==null&&se(T,R.startTime-re),P=!1}return P}finally{f=null,d=A,h=!1}}var w=!1,S=null,I=-1,k=5,D=-1;function M(){return!(e.unstable_now()-D<k)}function O(){if(S!==null){var X=e.unstable_now();D=X;var re=!0;try{re=S(!0,X)}finally{re?B():(w=!1,S=null)}}else w=!1}var B;if(typeof v=="function")B=function(){v(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ee=N.port2;N.port1.onmessage=O,B=function(){ee.postMessage(null)}}else B=function(){y(O,0)};function te(X){S=X,w||(w=!0,B())}function se(X,re){I=y(function(){X(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,te(x))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(X){switch(d){case 1:case 2:case 3:var re=3;break;default:re=d}var A=d;d=re;try{return X()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var A=d;d=X;try{return re()}finally{d=A}},e.unstable_scheduleCallback=function(X,re,A){var H=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?H+A:H):A=H,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=A+G,X={id:c++,callback:re,priorityLevel:X,startTime:A,expirationTime:G,sortIndex:-1},A>H?(X.sortIndex=A,t(l,X),n(u)===null&&X===n(l)&&(g?(m(I),I=-1):g=!0,se(T,A-H))):(X.sortIndex=G,t(u,X),p||h||(p=!0,te(x))),X},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(X){var re=d;return function(){var A=d;d=re;try{return X.apply(this,arguments)}finally{d=A}}}})(PG);AG.exports=PG;var pge=AG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OG=b,$o=pge;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RG=new Set,vv={};function Wh(e,t){Bm(e,t),Bm(e+"Capture",t)}function Bm(e,t){for(vv[e]=t,e=0;e<t.length;e++)RG.add(t[e])}var ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jR=Object.prototype.hasOwnProperty,mge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TF={},SF={};function gge(e){return jR.call(SF,e)?!0:jR.call(TF,e)?!1:mge.test(e)?SF[e]=!0:(TF[e]=!0,!1)}function yge(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vge(e,t,n,r){if(t===null||typeof t>"u"||yge(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function As(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bi[e]=new As(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bi[t]=new As(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bi[e]=new As(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bi[e]=new As(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bi[e]=new As(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bi[e]=new As(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bi[e]=new As(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bi[e]=new As(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bi[e]=new As(e,5,!1,e.toLowerCase(),null,!1,!1)});var S$=/[\-:]([a-z])/g;function x$(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S$,x$);Bi[t]=new As(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S$,x$);Bi[t]=new As(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S$,x$);Bi[t]=new As(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bi[e]=new As(e,1,!1,e.toLowerCase(),null,!1,!1)});Bi.xlinkHref=new As("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bi[e]=new As(e,1,!1,e.toLowerCase(),null,!0,!0)});function I$(e,t,n,r){var i=Bi.hasOwnProperty(t)?Bi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vge(t,n,i,r)&&(n=null),r||i===null?gge(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xc=OG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lb=Symbol.for("react.element"),Fp=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),C$=Symbol.for("react.strict_mode"),BR=Symbol.for("react.profiler"),NG=Symbol.for("react.provider"),kG=Symbol.for("react.context"),A$=Symbol.for("react.forward_ref"),UR=Symbol.for("react.suspense"),VR=Symbol.for("react.suspense_list"),P$=Symbol.for("react.memo"),Jc=Symbol.for("react.lazy"),DG=Symbol.for("react.offscreen"),xF=Symbol.iterator;function b0(e){return e===null||typeof e!="object"?null:(e=xF&&e[xF]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,WP;function sy(e){if(WP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);WP=t&&t[1]||""}return`
`+WP+e}var qP=!1;function YP(e,t){if(!e||qP)return"";qP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{qP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sy(e):""}function _ge(e){switch(e.tag){case 5:return sy(e.type);case 16:return sy("Lazy");case 13:return sy("Suspense");case 19:return sy("SuspenseList");case 0:case 2:case 15:return e=YP(e.type,!1),e;case 11:return e=YP(e.type.render,!1),e;case 1:return e=YP(e.type,!0),e;default:return""}}function zR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jp:return"Fragment";case Fp:return"Portal";case BR:return"Profiler";case C$:return"StrictMode";case UR:return"Suspense";case VR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kG:return(e.displayName||"Context")+".Consumer";case NG:return(e._context.displayName||"Context")+".Provider";case A$:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P$:return t=e.displayName||null,t!==null?t:zR(e.type)||"Memo";case Jc:t=e._payload,e=e._init;try{return zR(e(t))}catch{}}return null}function bge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zR(t);case 8:return t===C$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $G(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wge(e){var t=$G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cb(e){e._valueTracker||(e._valueTracker=wge(e))}function LG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$G(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function BE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function HR(e,t){var n=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function IF(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MG(e,t){t=t.checked,t!=null&&I$(e,"checked",t,!1)}function WR(e,t){MG(e,t);var n=Bf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qR(e,t.type,n):t.hasOwnProperty("defaultValue")&&qR(e,t.type,Bf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CF(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qR(e,t,n){(t!=="number"||BE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oy=Array.isArray;function lm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function YR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function AF(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(oy(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bf(n)}}function FG(e,t){var n=Bf(t.value),r=Bf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fb,BG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fb=fb||document.createElement("div"),fb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _v(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ay={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ege=["Webkit","ms","Moz","O"];Object.keys(Ay).forEach(function(e){Ege.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ay[t]=Ay[e]})});function UG(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ay.hasOwnProperty(e)&&Ay[e]?(""+t).trim():t+"px"}function VG(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UG(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Tge=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KR(e,t){if(t){if(Tge[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function QR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XR=null;function O$(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var JR=null,cm=null,fm=null;function OF(e){if(e=Q_(e)){if(typeof JR!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=zI(t),JR(e.stateNode,e.type,t))}}function zG(e){cm?fm?fm.push(e):fm=[e]:cm=e}function HG(){if(cm){var e=cm,t=fm;if(fm=cm=null,OF(e),t)for(e=0;e<t.length;e++)OF(t[e])}}function WG(e,t){return e(t)}function qG(){}var GP=!1;function YG(e,t,n){if(GP)return e(t,n);GP=!0;try{return WG(e,t,n)}finally{GP=!1,(cm!==null||fm!==null)&&(qG(),HG())}}function bv(e,t){var n=e.stateNode;if(n===null)return null;var r=zI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var ZR=!1;if(ic)try{var w0={};Object.defineProperty(w0,"passive",{get:function(){ZR=!0}}),window.addEventListener("test",w0,w0),window.removeEventListener("test",w0,w0)}catch{ZR=!1}function Sge(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Py=!1,UE=null,VE=!1,eN=null,xge={onError:function(e){Py=!0,UE=e}};function Ige(e,t,n,r,i,s,o,a,u){Py=!1,UE=null,Sge.apply(xge,arguments)}function Cge(e,t,n,r,i,s,o,a,u){if(Ige.apply(this,arguments),Py){if(Py){var l=UE;Py=!1,UE=null}else throw Error(Ne(198));VE||(VE=!0,eN=l)}}function qh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function GG(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RF(e){if(qh(e)!==e)throw Error(Ne(188))}function Age(e){var t=e.alternate;if(!t){if(t=qh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return RF(i),e;if(s===r)return RF(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function KG(e){return e=Age(e),e!==null?QG(e):null}function QG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=QG(e);if(t!==null)return t;e=e.sibling}return null}var XG=$o.unstable_scheduleCallback,NF=$o.unstable_cancelCallback,Pge=$o.unstable_shouldYield,Oge=$o.unstable_requestPaint,Fr=$o.unstable_now,Rge=$o.unstable_getCurrentPriorityLevel,R$=$o.unstable_ImmediatePriority,JG=$o.unstable_UserBlockingPriority,zE=$o.unstable_NormalPriority,Nge=$o.unstable_LowPriority,ZG=$o.unstable_IdlePriority,jI=null,Gu=null;function kge(e){if(Gu&&typeof Gu.onCommitFiberRoot=="function")try{Gu.onCommitFiberRoot(jI,e,void 0,(e.current.flags&128)===128)}catch{}}var Ya=Math.clz32?Math.clz32:Lge,Dge=Math.log,$ge=Math.LN2;function Lge(e){return e>>>=0,e===0?32:31-(Dge(e)/$ge|0)|0}var db=64,hb=4194304;function ay(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function HE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ay(a):(s&=o,s!==0&&(r=ay(s)))}else o=n&~i,o!==0?r=ay(o):s!==0&&(r=ay(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ya(t),i=1<<n,r|=e[n],t&=~i;return r}function Mge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ya(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Mge(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function tN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eK(){var e=db;return db<<=1,!(db&4194240)&&(db=64),e}function KP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function G_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ya(t),e[t]=n}function jge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ya(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function N$(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ya(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fn=0;function tK(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nK,k$,rK,iK,sK,nN=!1,pb=[],wf=null,Ef=null,Tf=null,wv=new Map,Ev=new Map,rf=[],Bge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kF(e,t){switch(e){case"focusin":case"focusout":wf=null;break;case"dragenter":case"dragleave":Ef=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":wv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ev.delete(t.pointerId)}}function E0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Q_(t),t!==null&&k$(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Uge(e,t,n,r,i){switch(t){case"focusin":return wf=E0(wf,e,t,n,r,i),!0;case"dragenter":return Ef=E0(Ef,e,t,n,r,i),!0;case"mouseover":return Tf=E0(Tf,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return wv.set(s,E0(wv.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ev.set(s,E0(Ev.get(s)||null,e,t,n,r,i)),!0}return!1}function oK(e){var t=qd(e.target);if(t!==null){var n=qh(t);if(n!==null){if(t=n.tag,t===13){if(t=GG(n),t!==null){e.blockedOn=t,sK(e.priority,function(){rK(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);XR=r,n.target.dispatchEvent(r),XR=null}else return t=Q_(n),t!==null&&k$(t),e.blockedOn=n,!1;t.shift()}return!0}function DF(e,t,n){Uw(e)&&n.delete(t)}function Vge(){nN=!1,wf!==null&&Uw(wf)&&(wf=null),Ef!==null&&Uw(Ef)&&(Ef=null),Tf!==null&&Uw(Tf)&&(Tf=null),wv.forEach(DF),Ev.forEach(DF)}function T0(e,t){e.blockedOn===t&&(e.blockedOn=null,nN||(nN=!0,$o.unstable_scheduleCallback($o.unstable_NormalPriority,Vge)))}function Tv(e){function t(i){return T0(i,e)}if(0<pb.length){T0(pb[0],e);for(var n=1;n<pb.length;n++){var r=pb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wf!==null&&T0(wf,e),Ef!==null&&T0(Ef,e),Tf!==null&&T0(Tf,e),wv.forEach(t),Ev.forEach(t),n=0;n<rf.length;n++)r=rf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rf.length&&(n=rf[0],n.blockedOn===null);)oK(n),n.blockedOn===null&&rf.shift()}var dm=xc.ReactCurrentBatchConfig,WE=!0;function zge(e,t,n,r){var i=Fn,s=dm.transition;dm.transition=null;try{Fn=1,D$(e,t,n,r)}finally{Fn=i,dm.transition=s}}function Hge(e,t,n,r){var i=Fn,s=dm.transition;dm.transition=null;try{Fn=4,D$(e,t,n,r)}finally{Fn=i,dm.transition=s}}function D$(e,t,n,r){if(WE){var i=rN(e,t,n,r);if(i===null)sO(e,t,r,qE,n),kF(e,r);else if(Uge(i,e,t,n,r))r.stopPropagation();else if(kF(e,r),t&4&&-1<Bge.indexOf(e)){for(;i!==null;){var s=Q_(i);if(s!==null&&nK(s),s=rN(e,t,n,r),s===null&&sO(e,t,r,qE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sO(e,t,r,null,n)}}var qE=null;function rN(e,t,n,r){if(qE=null,e=O$(r),e=qd(e),e!==null)if(t=qh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=GG(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qE=e,null}function aK(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rge()){case R$:return 1;case JG:return 4;case zE:case Nge:return 16;case ZG:return 536870912;default:return 16}default:return 16}}var df=null,$$=null,Vw=null;function uK(){if(Vw)return Vw;var e,t=$$,n=t.length,r,i="value"in df?df.value:df.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Vw=i.slice(e,1<r?1-r:void 0)}function zw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mb(){return!0}function $F(){return!1}function Vo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mb:$F,this.isPropagationStopped=$F,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mb)},persist:function(){},isPersistent:mb}),t}var Og={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L$=Vo(Og),K_=_r({},Og,{view:0,detail:0}),Wge=Vo(K_),QP,XP,S0,BI=_r({},K_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M$,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==S0&&(S0&&e.type==="mousemove"?(QP=e.screenX-S0.screenX,XP=e.screenY-S0.screenY):XP=QP=0,S0=e),QP)},movementY:function(e){return"movementY"in e?e.movementY:XP}}),LF=Vo(BI),qge=_r({},BI,{dataTransfer:0}),Yge=Vo(qge),Gge=_r({},K_,{relatedTarget:0}),JP=Vo(Gge),Kge=_r({},Og,{animationName:0,elapsedTime:0,pseudoElement:0}),Qge=Vo(Kge),Xge=_r({},Og,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jge=Vo(Xge),Zge=_r({},Og,{data:0}),MF=Vo(Zge),e0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n0e[e])?!!t[e]:!1}function M$(){return r0e}var i0e=_r({},K_,{key:function(e){if(e.key){var t=e0e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t0e[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M$,charCode:function(e){return e.type==="keypress"?zw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0e=Vo(i0e),o0e=_r({},BI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FF=Vo(o0e),a0e=_r({},K_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M$}),u0e=Vo(a0e),l0e=_r({},Og,{propertyName:0,elapsedTime:0,pseudoElement:0}),c0e=Vo(l0e),f0e=_r({},BI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d0e=Vo(f0e),h0e=[9,13,27,32],F$=ic&&"CompositionEvent"in window,Oy=null;ic&&"documentMode"in document&&(Oy=document.documentMode);var p0e=ic&&"TextEvent"in window&&!Oy,lK=ic&&(!F$||Oy&&8<Oy&&11>=Oy),jF=" ",BF=!1;function cK(e,t){switch(e){case"keyup":return h0e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fK(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bp=!1;function m0e(e,t){switch(e){case"compositionend":return fK(t);case"keypress":return t.which!==32?null:(BF=!0,jF);case"textInput":return e=t.data,e===jF&&BF?null:e;default:return null}}function g0e(e,t){if(Bp)return e==="compositionend"||!F$&&cK(e,t)?(e=uK(),Vw=$$=df=null,Bp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lK&&t.locale!=="ko"?null:t.data;default:return null}}var y0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y0e[e.type]:t==="textarea"}function dK(e,t,n,r){zG(r),t=YE(t,"onChange"),0<t.length&&(n=new L$("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ry=null,Sv=null;function v0e(e){TK(e,0)}function UI(e){var t=zp(e);if(LG(t))return e}function _0e(e,t){if(e==="change")return t}var hK=!1;if(ic){var ZP;if(ic){var eO="oninput"in document;if(!eO){var VF=document.createElement("div");VF.setAttribute("oninput","return;"),eO=typeof VF.oninput=="function"}ZP=eO}else ZP=!1;hK=ZP&&(!document.documentMode||9<document.documentMode)}function zF(){Ry&&(Ry.detachEvent("onpropertychange",pK),Sv=Ry=null)}function pK(e){if(e.propertyName==="value"&&UI(Sv)){var t=[];dK(t,Sv,e,O$(e)),YG(v0e,t)}}function b0e(e,t,n){e==="focusin"?(zF(),Ry=t,Sv=n,Ry.attachEvent("onpropertychange",pK)):e==="focusout"&&zF()}function w0e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return UI(Sv)}function E0e(e,t){if(e==="click")return UI(t)}function T0e(e,t){if(e==="input"||e==="change")return UI(t)}function S0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ja=typeof Object.is=="function"?Object.is:S0e;function xv(e,t){if(Ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jR.call(t,i)||!Ja(e[i],t[i]))return!1}return!0}function HF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WF(e,t){var n=HF(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HF(n)}}function mK(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mK(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gK(){for(var e=window,t=BE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=BE(e.document)}return t}function j$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x0e(e){var t=gK(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mK(n.ownerDocument.documentElement,n)){if(r!==null&&j$(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=WF(n,s);var o=WF(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I0e=ic&&"documentMode"in document&&11>=document.documentMode,Up=null,iN=null,Ny=null,sN=!1;function qF(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sN||Up==null||Up!==BE(r)||(r=Up,"selectionStart"in r&&j$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ny&&xv(Ny,r)||(Ny=r,r=YE(iN,"onSelect"),0<r.length&&(t=new L$("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Up)))}function gb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vp={animationend:gb("Animation","AnimationEnd"),animationiteration:gb("Animation","AnimationIteration"),animationstart:gb("Animation","AnimationStart"),transitionend:gb("Transition","TransitionEnd")},tO={},yK={};ic&&(yK=document.createElement("div").style,"AnimationEvent"in window||(delete Vp.animationend.animation,delete Vp.animationiteration.animation,delete Vp.animationstart.animation),"TransitionEvent"in window||delete Vp.transitionend.transition);function VI(e){if(tO[e])return tO[e];if(!Vp[e])return e;var t=Vp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yK)return tO[e]=t[n];return e}var vK=VI("animationend"),_K=VI("animationiteration"),bK=VI("animationstart"),wK=VI("transitionend"),EK=new Map,YF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ud(e,t){EK.set(e,t),Wh(t,[e])}for(var nO=0;nO<YF.length;nO++){var rO=YF[nO],C0e=rO.toLowerCase(),A0e=rO[0].toUpperCase()+rO.slice(1);ud(C0e,"on"+A0e)}ud(vK,"onAnimationEnd");ud(_K,"onAnimationIteration");ud(bK,"onAnimationStart");ud("dblclick","onDoubleClick");ud("focusin","onFocus");ud("focusout","onBlur");ud(wK,"onTransitionEnd");Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);Wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(uy));function GF(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cge(r,t,void 0,e),e.currentTarget=null}function TK(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;GF(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;GF(i,a,l),s=u}}}if(VE)throw e=eN,VE=!1,eN=null,e}function tr(e,t){var n=t[cN];n===void 0&&(n=t[cN]=new Set);var r=e+"__bubble";n.has(r)||(SK(t,e,2,!1),n.add(r))}function iO(e,t,n){var r=0;t&&(r|=4),SK(n,e,r,t)}var yb="_reactListening"+Math.random().toString(36).slice(2);function Iv(e){if(!e[yb]){e[yb]=!0,RG.forEach(function(n){n!=="selectionchange"&&(P0e.has(n)||iO(n,!1,e),iO(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yb]||(t[yb]=!0,iO("selectionchange",!1,t))}}function SK(e,t,n,r){switch(aK(t)){case 1:var i=zge;break;case 4:i=Hge;break;default:i=D$}n=i.bind(null,t,n,e),i=void 0,!ZR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sO(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}YG(function(){var l=s,c=O$(n),f=[];e:{var d=EK.get(e);if(d!==void 0){var h=L$,p=e;switch(e){case"keypress":if(zw(n)===0)break e;case"keydown":case"keyup":h=s0e;break;case"focusin":p="focus",h=JP;break;case"focusout":p="blur",h=JP;break;case"beforeblur":case"afterblur":h=JP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=LF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Yge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=u0e;break;case vK:case _K:case bK:h=Qge;break;case wK:h=c0e;break;case"scroll":h=Wge;break;case"wheel":h=d0e;break;case"copy":case"cut":case"paste":h=Jge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=FF}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var v=l,_;v!==null;){_=v;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,m!==null&&(T=bv(v,m),T!=null&&g.push(Cv(v,T,_)))),y)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==XR&&(p=n.relatedTarget||n.fromElement)&&(qd(p)||p[sc]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?qd(p):null,p!==null&&(y=qh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=LF,T="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=FF,T="onPointerLeave",m="onPointerEnter",v="pointer"),y=h==null?d:zp(h),_=p==null?d:zp(p),d=new g(T,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,T=null,qd(c)===l&&(g=new g(m,v+"enter",p,n,c),g.target=_,g.relatedTarget=y,T=g),y=T,h&&p)t:{for(g=h,m=p,v=0,_=g;_;_=hp(_))v++;for(_=0,T=m;T;T=hp(T))_++;for(;0<v-_;)g=hp(g),v--;for(;0<_-v;)m=hp(m),_--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=hp(g),m=hp(m)}g=null}else g=null;h!==null&&KF(f,d,h,g,!1),p!==null&&y!==null&&KF(f,y,p,g,!0)}}e:{if(d=l?zp(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=_0e;else if(UF(d))if(hK)x=T0e;else{x=w0e;var w=b0e}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=E0e);if(x&&(x=x(e,l))){dK(f,x,n,c);break e}w&&w(e,d,l),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&qR(d,"number",d.value)}switch(w=l?zp(l):window,e){case"focusin":(UF(w)||w.contentEditable==="true")&&(Up=w,iN=l,Ny=null);break;case"focusout":Ny=iN=Up=null;break;case"mousedown":sN=!0;break;case"contextmenu":case"mouseup":case"dragend":sN=!1,qF(f,n,c);break;case"selectionchange":if(I0e)break;case"keydown":case"keyup":qF(f,n,c)}var S;if(F$)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Bp?cK(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(lK&&n.locale!=="ko"&&(Bp||I!=="onCompositionStart"?I==="onCompositionEnd"&&Bp&&(S=uK()):(df=c,$$="value"in df?df.value:df.textContent,Bp=!0)),w=YE(l,I),0<w.length&&(I=new MF(I,e,null,n,c),f.push({event:I,listeners:w}),S?I.data=S:(S=fK(n),S!==null&&(I.data=S)))),(S=p0e?m0e(e,n):g0e(e,n))&&(l=YE(l,"onBeforeInput"),0<l.length&&(c=new MF("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}TK(f,t)})}function Cv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function YE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bv(e,n),s!=null&&r.unshift(Cv(e,s,i)),s=bv(e,t),s!=null&&r.push(Cv(e,s,i))),e=e.return}return r}function hp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function KF(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=bv(n,s),u!=null&&o.unshift(Cv(n,u,a))):i||(u=bv(n,s),u!=null&&o.push(Cv(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var O0e=/\r\n?/g,R0e=/\u0000|\uFFFD/g;function QF(e){return(typeof e=="string"?e:""+e).replace(O0e,`
`).replace(R0e,"")}function vb(e,t,n){if(t=QF(t),QF(e)!==t&&n)throw Error(Ne(425))}function GE(){}var oN=null,aN=null;function uN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lN=typeof setTimeout=="function"?setTimeout:void 0,N0e=typeof clearTimeout=="function"?clearTimeout:void 0,XF=typeof Promise=="function"?Promise:void 0,k0e=typeof queueMicrotask=="function"?queueMicrotask:typeof XF<"u"?function(e){return XF.resolve(null).then(e).catch(D0e)}:lN;function D0e(e){setTimeout(function(){throw e})}function oO(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tv(t)}function Sf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function JF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rg=Math.random().toString(36).slice(2),Pu="__reactFiber$"+Rg,Av="__reactProps$"+Rg,sc="__reactContainer$"+Rg,cN="__reactEvents$"+Rg,$0e="__reactListeners$"+Rg,L0e="__reactHandles$"+Rg;function qd(e){var t=e[Pu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sc]||n[Pu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=JF(e);e!==null;){if(n=e[Pu])return n;e=JF(e)}return t}e=n,n=e.parentNode}return null}function Q_(e){return e=e[Pu]||e[sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function zI(e){return e[Av]||null}var fN=[],Hp=-1;function ld(e){return{current:e}}function or(e){0>Hp||(e.current=fN[Hp],fN[Hp]=null,Hp--)}function Jn(e,t){Hp++,fN[Hp]=e.current,e.current=t}var Uf={},cs=ld(Uf),to=ld(!1),vh=Uf;function Um(e,t){var n=e.type.contextTypes;if(!n)return Uf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function no(e){return e=e.childContextTypes,e!=null}function KE(){or(to),or(cs)}function ZF(e,t,n){if(cs.current!==Uf)throw Error(Ne(168));Jn(cs,t),Jn(to,n)}function xK(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,bge(e)||"Unknown",i));return _r({},n,r)}function QE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,vh=cs.current,Jn(cs,e),Jn(to,to.current),!0}function e8(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=xK(e,t,vh),r.__reactInternalMemoizedMergedChildContext=e,or(to),or(cs),Jn(cs,e)):or(to),Jn(to,n)}var Fl=null,HI=!1,aO=!1;function IK(e){Fl===null?Fl=[e]:Fl.push(e)}function M0e(e){HI=!0,IK(e)}function cd(){if(!aO&&Fl!==null){aO=!0;var e=0,t=Fn;try{var n=Fl;for(Fn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fl=null,HI=!1}catch(i){throw Fl!==null&&(Fl=Fl.slice(e+1)),XG(R$,cd),i}finally{Fn=t,aO=!1}}return null}var Wp=[],qp=0,XE=null,JE=0,Xo=[],Jo=0,_h=null,Hl=1,Wl="";function Ad(e,t){Wp[qp++]=JE,Wp[qp++]=XE,XE=e,JE=t}function CK(e,t,n){Xo[Jo++]=Hl,Xo[Jo++]=Wl,Xo[Jo++]=_h,_h=e;var r=Hl;e=Wl;var i=32-Ya(r)-1;r&=~(1<<i),n+=1;var s=32-Ya(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hl=1<<32-Ya(t)+i|n<<i|r,Wl=s+e}else Hl=1<<s|n<<i|r,Wl=e}function B$(e){e.return!==null&&(Ad(e,1),CK(e,1,0))}function U$(e){for(;e===XE;)XE=Wp[--qp],Wp[qp]=null,JE=Wp[--qp],Wp[qp]=null;for(;e===_h;)_h=Xo[--Jo],Xo[Jo]=null,Wl=Xo[--Jo],Xo[Jo]=null,Hl=Xo[--Jo],Xo[Jo]=null}var No=null,Ao=null,pr=!1,La=null;function AK(e,t){var n=aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function t8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,No=e,Ao=Sf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,No=e,Ao=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_h!==null?{id:Hl,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,No=e,Ao=null,!0):!1;default:return!1}}function dN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hN(e){if(pr){var t=Ao;if(t){var n=t;if(!t8(e,t)){if(dN(e))throw Error(Ne(418));t=Sf(n.nextSibling);var r=No;t&&t8(e,t)?AK(r,n):(e.flags=e.flags&-4097|2,pr=!1,No=e)}}else{if(dN(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,pr=!1,No=e}}}function n8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;No=e}function _b(e){if(e!==No)return!1;if(!pr)return n8(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uN(e.type,e.memoizedProps)),t&&(t=Ao)){if(dN(e))throw PK(),Error(Ne(418));for(;t;)AK(e,t),t=Sf(t.nextSibling)}if(n8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ao=Sf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ao=null}}else Ao=No?Sf(e.stateNode.nextSibling):null;return!0}function PK(){for(var e=Ao;e;)e=Sf(e.nextSibling)}function Vm(){Ao=No=null,pr=!1}function V$(e){La===null?La=[e]:La.push(e)}var F0e=xc.ReactCurrentBatchConfig;function ka(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ZE=ld(null),eT=null,Yp=null,z$=null;function H$(){z$=Yp=eT=null}function W$(e){var t=ZE.current;or(ZE),e._currentValue=t}function pN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hm(e,t){eT=e,z$=Yp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function ca(e){var t=e._currentValue;if(z$!==e)if(e={context:e,memoizedValue:t,next:null},Yp===null){if(eT===null)throw Error(Ne(308));Yp=e,eT.dependencies={lanes:0,firstContext:e}}else Yp=Yp.next=e;return t}var Yd=null;function q$(e){Yd===null?Yd=[e]:Yd.push(e)}function OK(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,q$(t)):(n.next=i.next,i.next=n),t.interleaved=n,oc(e,r)}function oc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zc=!1;function Y$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,oc(e,n)}return i=r.interleaved,i===null?(t.next=t,q$(r)):(t.next=i.next,i.next=t),r.interleaved=t,oc(e,n)}function Hw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,N$(e,n)}}function r8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tT(e,t,n,r){var i=e.updateQueue;Zc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=_r({},f,d);break e;case 2:Zc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wh|=o,e.lanes=o,e.memoizedState=f}}function i8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var NK=new OG.Component().refs;function mN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var WI={isMounted:function(e){return(e=e._reactInternals)?qh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Es(),i=Cf(e),s=Zl(r,i);s.payload=t,n!=null&&(s.callback=n),t=xf(e,s,i),t!==null&&(Ga(t,e,i,r),Hw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Es(),i=Cf(e),s=Zl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xf(e,s,i),t!==null&&(Ga(t,e,i,r),Hw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Es(),r=Cf(e),i=Zl(n,r);i.tag=2,t!=null&&(i.callback=t),t=xf(e,i,r),t!==null&&(Ga(t,e,r,n),Hw(t,e,r))}};function s8(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!xv(n,r)||!xv(i,s):!0}function kK(e,t,n){var r=!1,i=Uf,s=t.contextType;return typeof s=="object"&&s!==null?s=ca(s):(i=no(t)?vh:cs.current,r=t.contextTypes,s=(r=r!=null)?Um(e,i):Uf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=WI,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function o8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&WI.enqueueReplaceState(t,t.state,null)}function gN(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=NK,Y$(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ca(s):(s=no(t)?vh:cs.current,i.context=Um(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mN(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&WI.enqueueReplaceState(i,i.state,null),tT(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function x0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===NK&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function bb(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a8(e){var t=e._init;return t(e._payload)}function DK(e){function t(m,v){if(e){var _=m.deletions;_===null?(m.deletions=[v],m.flags|=16):_.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Af(m,v),m.index=0,m.sibling=null,m}function s(m,v,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags|=2,v):_):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,_,T){return v===null||v.tag!==6?(v=pO(_,m.mode,T),v.return=m,v):(v=i(v,_),v.return=m,v)}function u(m,v,_,T){var x=_.type;return x===jp?c(m,v,_.props.children,T,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jc&&a8(x)===v.type)?(T=i(v,_.props),T.ref=x0(m,v,_),T.return=m,T):(T=Qw(_.type,_.key,_.props,null,m.mode,T),T.ref=x0(m,v,_),T.return=m,T)}function l(m,v,_,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=mO(_,m.mode,T),v.return=m,v):(v=i(v,_.children||[]),v.return=m,v)}function c(m,v,_,T,x){return v===null||v.tag!==7?(v=fh(_,m.mode,T,x),v.return=m,v):(v=i(v,_),v.return=m,v)}function f(m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pO(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lb:return _=Qw(v.type,v.key,v.props,null,m.mode,_),_.ref=x0(m,null,v),_.return=m,_;case Fp:return v=mO(v,m.mode,_),v.return=m,v;case Jc:var T=v._init;return f(m,T(v._payload),_)}if(oy(v)||b0(v))return v=fh(v,m.mode,_,null),v.return=m,v;bb(m,v)}return null}function d(m,v,_,T){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(m,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lb:return _.key===x?u(m,v,_,T):null;case Fp:return _.key===x?l(m,v,_,T):null;case Jc:return x=_._init,d(m,v,x(_._payload),T)}if(oy(_)||b0(_))return x!==null?null:c(m,v,_,T,null);bb(m,_)}return null}function h(m,v,_,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(_)||null,a(v,m,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lb:return m=m.get(T.key===null?_:T.key)||null,u(v,m,T,x);case Fp:return m=m.get(T.key===null?_:T.key)||null,l(v,m,T,x);case Jc:var w=T._init;return h(m,v,_,w(T._payload),x)}if(oy(T)||b0(T))return m=m.get(_)||null,c(v,m,T,x,null);bb(v,T)}return null}function p(m,v,_,T){for(var x=null,w=null,S=v,I=v=0,k=null;S!==null&&I<_.length;I++){S.index>I?(k=S,S=null):k=S.sibling;var D=d(m,S,_[I],T);if(D===null){S===null&&(S=k);break}e&&S&&D.alternate===null&&t(m,S),v=s(D,v,I),w===null?x=D:w.sibling=D,w=D,S=k}if(I===_.length)return n(m,S),pr&&Ad(m,I),x;if(S===null){for(;I<_.length;I++)S=f(m,_[I],T),S!==null&&(v=s(S,v,I),w===null?x=S:w.sibling=S,w=S);return pr&&Ad(m,I),x}for(S=r(m,S);I<_.length;I++)k=h(S,m,I,_[I],T),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?I:k.key),v=s(k,v,I),w===null?x=k:w.sibling=k,w=k);return e&&S.forEach(function(M){return t(m,M)}),pr&&Ad(m,I),x}function g(m,v,_,T){var x=b0(_);if(typeof x!="function")throw Error(Ne(150));if(_=x.call(_),_==null)throw Error(Ne(151));for(var w=x=null,S=v,I=v=0,k=null,D=_.next();S!==null&&!D.done;I++,D=_.next()){S.index>I?(k=S,S=null):k=S.sibling;var M=d(m,S,D.value,T);if(M===null){S===null&&(S=k);break}e&&S&&M.alternate===null&&t(m,S),v=s(M,v,I),w===null?x=M:w.sibling=M,w=M,S=k}if(D.done)return n(m,S),pr&&Ad(m,I),x;if(S===null){for(;!D.done;I++,D=_.next())D=f(m,D.value,T),D!==null&&(v=s(D,v,I),w===null?x=D:w.sibling=D,w=D);return pr&&Ad(m,I),x}for(S=r(m,S);!D.done;I++,D=_.next())D=h(S,m,I,D.value,T),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?I:D.key),v=s(D,v,I),w===null?x=D:w.sibling=D,w=D);return e&&S.forEach(function(O){return t(m,O)}),pr&&Ad(m,I),x}function y(m,v,_,T){if(typeof _=="object"&&_!==null&&_.type===jp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lb:e:{for(var x=_.key,w=v;w!==null;){if(w.key===x){if(x=_.type,x===jp){if(w.tag===7){n(m,w.sibling),v=i(w,_.props.children),v.return=m,m=v;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jc&&a8(x)===w.type){n(m,w.sibling),v=i(w,_.props),v.ref=x0(m,w,_),v.return=m,m=v;break e}n(m,w);break}else t(m,w);w=w.sibling}_.type===jp?(v=fh(_.props.children,m.mode,T,_.key),v.return=m,m=v):(T=Qw(_.type,_.key,_.props,null,m.mode,T),T.ref=x0(m,v,_),T.return=m,m=T)}return o(m);case Fp:e:{for(w=_.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(m,v.sibling),v=i(v,_.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=mO(_,m.mode,T),v.return=m,m=v}return o(m);case Jc:return w=_._init,y(m,v,w(_._payload),T)}if(oy(_))return p(m,v,_,T);if(b0(_))return g(m,v,_,T);bb(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,_),v.return=m,m=v):(n(m,v),v=pO(_,m.mode,T),v.return=m,m=v),o(m)):n(m,v)}return y}var zm=DK(!0),$K=DK(!1),X_={},Ku=ld(X_),Pv=ld(X_),Ov=ld(X_);function Gd(e){if(e===X_)throw Error(Ne(174));return e}function G$(e,t){switch(Jn(Ov,t),Jn(Pv,e),Jn(Ku,X_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:GR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=GR(t,e)}or(Ku),Jn(Ku,t)}function Hm(){or(Ku),or(Pv),or(Ov)}function LK(e){Gd(Ov.current);var t=Gd(Ku.current),n=GR(t,e.type);t!==n&&(Jn(Pv,e),Jn(Ku,n))}function K$(e){Pv.current===e&&(or(Ku),or(Pv))}var yr=ld(0);function nT(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uO=[];function Q$(){for(var e=0;e<uO.length;e++)uO[e]._workInProgressVersionPrimary=null;uO.length=0}var Ww=xc.ReactCurrentDispatcher,lO=xc.ReactCurrentBatchConfig,bh=0,vr=null,ri=null,gi=null,rT=!1,ky=!1,Rv=0,j0e=0;function Yi(){throw Error(Ne(321))}function X$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ja(e[n],t[n]))return!1;return!0}function J$(e,t,n,r,i,s){if(bh=s,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ww.current=e===null||e.memoizedState===null?z0e:H0e,e=n(r,i),ky){s=0;do{if(ky=!1,Rv=0,25<=s)throw Error(Ne(301));s+=1,gi=ri=null,t.updateQueue=null,Ww.current=W0e,e=n(r,i)}while(ky)}if(Ww.current=iT,t=ri!==null&&ri.next!==null,bh=0,gi=ri=vr=null,rT=!1,t)throw Error(Ne(300));return e}function Z$(){var e=Rv!==0;return Rv=0,e}function _u(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?vr.memoizedState=gi=e:gi=gi.next=e,gi}function fa(){if(ri===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=gi===null?vr.memoizedState:gi.next;if(t!==null)gi=t,ri=e;else{if(e===null)throw Error(Ne(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},gi===null?vr.memoizedState=gi=e:gi=gi.next=e}return gi}function Nv(e,t){return typeof t=="function"?t(e):t}function cO(e){var t=fa(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=ri,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((bh&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,vr.lanes|=c,wh|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Ja(r,t.memoizedState)||(Xs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,vr.lanes|=s,wh|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fO(e){var t=fa(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ja(s,t.memoizedState)||(Xs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function MK(){}function FK(e,t){var n=vr,r=fa(),i=t(),s=!Ja(r.memoizedState,i);if(s&&(r.memoizedState=i,Xs=!0),r=r.queue,e3(UK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||gi!==null&&gi.memoizedState.tag&1){if(n.flags|=2048,kv(9,BK.bind(null,n,r,i,t),void 0,null),bi===null)throw Error(Ne(349));bh&30||jK(n,t,i)}return i}function jK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function BK(e,t,n,r){t.value=n,t.getSnapshot=r,VK(t)&&zK(e)}function UK(e,t,n){return n(function(){VK(t)&&zK(e)})}function VK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ja(e,n)}catch{return!0}}function zK(e){var t=oc(e,1);t!==null&&Ga(t,e,1,-1)}function u8(e){var t=_u();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nv,lastRenderedState:e},t.queue=e,e=e.dispatch=V0e.bind(null,vr,e),[t.memoizedState,e]}function kv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function HK(){return fa().memoizedState}function qw(e,t,n,r){var i=_u();vr.flags|=e,i.memoizedState=kv(1|t,n,void 0,r===void 0?null:r)}function qI(e,t,n,r){var i=fa();r=r===void 0?null:r;var s=void 0;if(ri!==null){var o=ri.memoizedState;if(s=o.destroy,r!==null&&X$(r,o.deps)){i.memoizedState=kv(t,n,s,r);return}}vr.flags|=e,i.memoizedState=kv(1|t,n,s,r)}function l8(e,t){return qw(8390656,8,e,t)}function e3(e,t){return qI(2048,8,e,t)}function WK(e,t){return qI(4,2,e,t)}function qK(e,t){return qI(4,4,e,t)}function YK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GK(e,t,n){return n=n!=null?n.concat([e]):null,qI(4,4,YK.bind(null,t,e),n)}function t3(){}function KK(e,t){var n=fa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&X$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function QK(e,t){var n=fa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&X$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function XK(e,t,n){return bh&21?(Ja(n,t)||(n=eK(),vr.lanes|=n,wh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=n)}function B0e(e,t){var n=Fn;Fn=n!==0&&4>n?n:4,e(!0);var r=lO.transition;lO.transition={};try{e(!1),t()}finally{Fn=n,lO.transition=r}}function JK(){return fa().memoizedState}function U0e(e,t,n){var r=Cf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZK(e))eQ(t,n);else if(n=OK(e,t,n,r),n!==null){var i=Es();Ga(n,e,r,i),tQ(n,t,r)}}function V0e(e,t,n){var r=Cf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZK(e))eQ(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ja(a,o)){var u=t.interleaved;u===null?(i.next=i,q$(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=OK(e,t,i,r),n!==null&&(i=Es(),Ga(n,e,r,i),tQ(n,t,r))}}function ZK(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function eQ(e,t){ky=rT=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tQ(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,N$(e,n)}}var iT={readContext:ca,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},z0e={readContext:ca,useCallback:function(e,t){return _u().memoizedState=[e,t===void 0?null:t],e},useContext:ca,useEffect:l8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qw(4194308,4,YK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qw(4194308,4,e,t)},useInsertionEffect:function(e,t){return qw(4,2,e,t)},useMemo:function(e,t){var n=_u();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_u();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U0e.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=_u();return e={current:e},t.memoizedState=e},useState:u8,useDebugValue:t3,useDeferredValue:function(e){return _u().memoizedState=e},useTransition:function(){var e=u8(!1),t=e[0];return e=B0e.bind(null,e[1]),_u().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=_u();if(pr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),bi===null)throw Error(Ne(349));bh&30||jK(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,l8(UK.bind(null,r,s,e),[e]),r.flags|=2048,kv(9,BK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_u(),t=bi.identifierPrefix;if(pr){var n=Wl,r=Hl;n=(r&~(1<<32-Ya(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=j0e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H0e={readContext:ca,useCallback:KK,useContext:ca,useEffect:e3,useImperativeHandle:GK,useInsertionEffect:WK,useLayoutEffect:qK,useMemo:QK,useReducer:cO,useRef:HK,useState:function(){return cO(Nv)},useDebugValue:t3,useDeferredValue:function(e){var t=fa();return XK(t,ri.memoizedState,e)},useTransition:function(){var e=cO(Nv)[0],t=fa().memoizedState;return[e,t]},useMutableSource:MK,useSyncExternalStore:FK,useId:JK,unstable_isNewReconciler:!1},W0e={readContext:ca,useCallback:KK,useContext:ca,useEffect:e3,useImperativeHandle:GK,useInsertionEffect:WK,useLayoutEffect:qK,useMemo:QK,useReducer:fO,useRef:HK,useState:function(){return fO(Nv)},useDebugValue:t3,useDeferredValue:function(e){var t=fa();return ri===null?t.memoizedState=e:XK(t,ri.memoizedState,e)},useTransition:function(){var e=fO(Nv)[0],t=fa().memoizedState;return[e,t]},useMutableSource:MK,useSyncExternalStore:FK,useId:JK,unstable_isNewReconciler:!1};function Wm(e,t){try{var n="",r=t;do n+=_ge(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function dO(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var q0e=typeof WeakMap=="function"?WeakMap:Map;function nQ(e,t,n){n=Zl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oT||(oT=!0,CN=r),yN(e,t)},n}function rQ(e,t,n){n=Zl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yN(e,t),typeof r!="function"&&(If===null?If=new Set([this]):If.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function c8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new q0e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oye.bind(null,e,t,n),t.then(e,e))}function f8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zl(-1,1),t.tag=2,xf(n,t,1))),n.lanes|=1),e)}var Y0e=xc.ReactCurrentOwner,Xs=!1;function vs(e,t,n,r){t.child=e===null?$K(t,null,n,r):zm(t,e.child,n,r)}function h8(e,t,n,r,i){n=n.render;var s=t.ref;return hm(t,i),r=J$(e,t,n,r,s,i),n=Z$(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(pr&&n&&B$(t),t.flags|=1,vs(e,t,r,i),t.child)}function p8(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!l3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,iQ(e,t,s,r,i)):(e=Qw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xv,n(o,r)&&e.ref===t.ref)return ac(e,t,i)}return t.flags|=1,e=Af(s,r),e.ref=t.ref,e.return=t,t.child=e}function iQ(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(xv(s,r)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,ac(e,t,i)}return vN(e,t,n,r,i)}function sQ(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Kp,To),To|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(Kp,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Jn(Kp,To),To|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Jn(Kp,To),To|=r;return vs(e,t,i,n),t.child}function oQ(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vN(e,t,n,r,i){var s=no(n)?vh:cs.current;return s=Um(t,s),hm(t,i),n=J$(e,t,n,r,s,i),r=Z$(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ac(e,t,i)):(pr&&r&&B$(t),t.flags|=1,vs(e,t,n,i),t.child)}function m8(e,t,n,r,i){if(no(n)){var s=!0;QE(t)}else s=!1;if(hm(t,i),t.stateNode===null)Yw(e,t),kK(t,n,r),gN(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=ca(l):(l=no(n)?vh:cs.current,l=Um(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&o8(t,o,r,l),Zc=!1;var d=t.memoizedState;o.state=d,tT(t,r,o,i),u=t.memoizedState,a!==r||d!==u||to.current||Zc?(typeof c=="function"&&(mN(t,n,c,r),u=t.memoizedState),(a=Zc||s8(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,RK(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ka(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ca(u):(u=no(n)?vh:cs.current,u=Um(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&o8(t,o,r,u),Zc=!1,d=t.memoizedState,o.state=d,tT(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||to.current||Zc?(typeof h=="function"&&(mN(t,n,h,r),p=t.memoizedState),(l=Zc||s8(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _N(e,t,n,r,s,i)}function _N(e,t,n,r,i,s){oQ(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&e8(t,n,!1),ac(e,t,s);r=t.stateNode,Y0e.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zm(t,e.child,null,s),t.child=zm(t,null,a,s)):vs(e,t,a,s),t.memoizedState=r.state,i&&e8(t,n,!0),t.child}function aQ(e){var t=e.stateNode;t.pendingContext?ZF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZF(e,t.context,!1),G$(e,t.containerInfo)}function g8(e,t,n,r,i){return Vm(),V$(i),t.flags|=256,vs(e,t,n,r),t.child}var bN={dehydrated:null,treeContext:null,retryLane:0};function wN(e){return{baseLanes:e,cachePool:null,transitions:null}}function uQ(e,t,n){var r=t.pendingProps,i=yr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jn(yr,i&1),e===null)return hN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=KI(o,r,0,null),e=fh(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=wN(n),t.memoizedState=bN,e):n3(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G0e(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Af(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Af(a,s):(s=fh(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?wN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=bN,r}return s=e.child,e=s.sibling,r=Af(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function n3(e,t){return t=KI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wb(e,t,n,r){return r!==null&&V$(r),zm(t,e.child,null,n),e=n3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function G0e(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=dO(Error(Ne(422))),wb(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=KI({mode:"visible",children:r.children},i,0,null),s=fh(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zm(t,e.child,null,o),t.child.memoizedState=wN(o),t.memoizedState=bN,s);if(!(t.mode&1))return wb(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=dO(s,r,void 0),wb(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xs||a){if(r=bi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oc(e,i),Ga(r,e,i,-1))}return u3(),r=dO(Error(Ne(421))),wb(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=aye.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ao=Sf(i.nextSibling),No=t,pr=!0,La=null,e!==null&&(Xo[Jo++]=Hl,Xo[Jo++]=Wl,Xo[Jo++]=_h,Hl=e.id,Wl=e.overflow,_h=t),t=n3(t,r.children),t.flags|=4096,t)}function y8(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pN(e.return,t,n)}function hO(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lQ(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vs(e,t,r.children,n),r=yr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y8(e,n,t);else if(e.tag===19)y8(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(yr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&nT(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hO(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nT(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hO(t,!0,n,null,s);break;case"together":hO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ac(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Af(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Af(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function K0e(e,t,n){switch(t.tag){case 3:aQ(t),Vm();break;case 5:LK(t);break;case 1:no(t.type)&&QE(t);break;case 4:G$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Jn(ZE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(yr,yr.current&1),t.flags|=128,null):n&t.child.childLanes?uQ(e,t,n):(Jn(yr,yr.current&1),e=ac(e,t,n),e!==null?e.sibling:null);Jn(yr,yr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lQ(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(yr,yr.current),r)break;return null;case 22:case 23:return t.lanes=0,sQ(e,t,n)}return ac(e,t,n)}var cQ,EN,fQ,dQ;cQ=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};EN=function(){};fQ=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gd(Ku.current);var s=null;switch(n){case"input":i=HR(e,i),r=HR(e,r),s=[];break;case"select":i=_r({},i,{value:void 0}),r=_r({},r,{value:void 0}),s=[];break;case"textarea":i=YR(e,i),r=YR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=GE)}KR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vv.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(vv.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&tr("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};dQ=function(e,t,n,r){n!==r&&(t.flags|=4)};function I0(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q0e(e,t,n){var r=t.pendingProps;switch(U$(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:return no(t.type)&&KE(),Gi(t),null;case 3:return r=t.stateNode,Hm(),or(to),or(cs),Q$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_b(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,La!==null&&(ON(La),La=null))),EN(e,t),Gi(t),null;case 5:K$(t);var i=Gd(Ov.current);if(n=t.type,e!==null&&t.stateNode!=null)fQ(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Gi(t),null}if(e=Gd(Ku.current),_b(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pu]=t,r[Av]=s,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<uy.length;i++)tr(uy[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":IF(r,s),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tr("invalid",r);break;case"textarea":AF(r,s),tr("invalid",r)}KR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vb(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vb(r.textContent,a,e),i=["children",""+a]):vv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",r)}switch(n){case"input":cb(r),CF(r,s,!0);break;case"textarea":cb(r),PF(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=GE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jG(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pu]=t,e[Av]=r,cQ(e,t,!1,!1),t.stateNode=e;e:{switch(o=QR(n,r),n){case"dialog":tr("cancel",e),tr("close",e),i=r;break;case"iframe":case"object":case"embed":tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<uy.length;i++)tr(uy[i],e);i=r;break;case"source":tr("error",e),i=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=r;break;case"details":tr("toggle",e),i=r;break;case"input":IF(e,r),i=HR(e,r),tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_r({},r,{value:void 0}),tr("invalid",e);break;case"textarea":AF(e,r),i=YR(e,r),tr("invalid",e);break;default:i=r}KR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?VG(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&BG(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_v(e,u):typeof u=="number"&&_v(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vv.hasOwnProperty(s)?u!=null&&s==="onScroll"&&tr("scroll",e):u!=null&&I$(e,s,u,o))}switch(n){case"input":cb(e),CF(e,r,!1);break;case"textarea":cb(e),PF(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lm(e,!!r.multiple,s,!1):r.defaultValue!=null&&lm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=GE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&t.stateNode!=null)dQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Gd(Ov.current),Gd(Ku.current),_b(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pu]=t,(s=r.nodeValue!==n)&&(e=No,e!==null))switch(e.tag){case 3:vb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vb(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pu]=t,t.stateNode=r}return Gi(t),null;case 13:if(or(yr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&Ao!==null&&t.mode&1&&!(t.flags&128))PK(),Vm(),t.flags|=98560,s=!1;else if(s=_b(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Pu]=t}else Vm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gi(t),s=!1}else La!==null&&(ON(La),La=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?ai===0&&(ai=3):u3())),t.updateQueue!==null&&(t.flags|=4),Gi(t),null);case 4:return Hm(),EN(e,t),e===null&&Iv(t.stateNode.containerInfo),Gi(t),null;case 10:return W$(t.type._context),Gi(t),null;case 17:return no(t.type)&&KE(),Gi(t),null;case 19:if(or(yr),s=t.memoizedState,s===null)return Gi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)I0(s,!1);else{if(ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nT(e),o!==null){for(t.flags|=128,I0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(yr,yr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fr()>qm&&(t.flags|=128,r=!0,I0(s,!1),t.lanes=4194304)}else{if(!r)if(e=nT(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),I0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pr)return Gi(t),null}else 2*Fr()-s.renderingStartTime>qm&&n!==1073741824&&(t.flags|=128,r=!0,I0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fr(),t.sibling=null,n=yr.current,Jn(yr,r?n&1|2:n&1),t):(Gi(t),null);case 22:case 23:return a3(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?To&1073741824&&(Gi(t),t.subtreeFlags&6&&(t.flags|=8192)):Gi(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function X0e(e,t){switch(U$(t),t.tag){case 1:return no(t.type)&&KE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hm(),or(to),or(cs),Q$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return K$(t),null;case 13:if(or(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));Vm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(yr),null;case 4:return Hm(),null;case 10:return W$(t.type._context),null;case 22:case 23:return a3(),null;case 24:return null;default:return null}}var Eb=!1,rs=!1,J0e=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Gp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function TN(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var v8=!1;function Z0e(e,t){if(oN=WE,e=gK(),j$(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(aN={focusedElem:e,selectionRange:n},WE=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ka(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(T){Cr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return p=v8,v8=!1,p}function Dy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&TN(t,n,s)}i=i.next}while(i!==r)}}function YI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function SN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hQ(e){var t=e.alternate;t!==null&&(e.alternate=null,hQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pu],delete t[Av],delete t[cN],delete t[$0e],delete t[L0e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pQ(e){return e.tag===5||e.tag===3||e.tag===4}function _8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=GE));else if(r!==4&&(e=e.child,e!==null))for(xN(e,t,n),e=e.sibling;e!==null;)xN(e,t,n),e=e.sibling}function IN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(IN(e,t,n),e=e.sibling;e!==null;)IN(e,t,n),e=e.sibling}var Pi=null,Da=!1;function Mc(e,t,n){for(n=n.child;n!==null;)mQ(e,t,n),n=n.sibling}function mQ(e,t,n){if(Gu&&typeof Gu.onCommitFiberUnmount=="function")try{Gu.onCommitFiberUnmount(jI,n)}catch{}switch(n.tag){case 5:rs||Gp(n,t);case 6:var r=Pi,i=Da;Pi=null,Mc(e,t,n),Pi=r,Da=i,Pi!==null&&(Da?(e=Pi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pi.removeChild(n.stateNode));break;case 18:Pi!==null&&(Da?(e=Pi,n=n.stateNode,e.nodeType===8?oO(e.parentNode,n):e.nodeType===1&&oO(e,n),Tv(e)):oO(Pi,n.stateNode));break;case 4:r=Pi,i=Da,Pi=n.stateNode.containerInfo,Da=!0,Mc(e,t,n),Pi=r,Da=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&TN(n,t,o),i=i.next}while(i!==r)}Mc(e,t,n);break;case 1:if(!rs&&(Gp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cr(n,t,a)}Mc(e,t,n);break;case 21:Mc(e,t,n);break;case 22:n.mode&1?(rs=(r=rs)||n.memoizedState!==null,Mc(e,t,n),rs=r):Mc(e,t,n);break;default:Mc(e,t,n)}}function b8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J0e),t.forEach(function(r){var i=uye.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Aa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pi=a.stateNode,Da=!1;break e;case 3:Pi=a.stateNode.containerInfo,Da=!0;break e;case 4:Pi=a.stateNode.containerInfo,Da=!0;break e}a=a.return}if(Pi===null)throw Error(Ne(160));mQ(s,o,i),Pi=null,Da=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Cr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gQ(t,e),t=t.sibling}function gQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Aa(t,e),hu(e),r&4){try{Dy(3,e,e.return),YI(3,e)}catch(g){Cr(e,e.return,g)}try{Dy(5,e,e.return)}catch(g){Cr(e,e.return,g)}}break;case 1:Aa(t,e),hu(e),r&512&&n!==null&&Gp(n,n.return);break;case 5:if(Aa(t,e),hu(e),r&512&&n!==null&&Gp(n,n.return),e.flags&32){var i=e.stateNode;try{_v(i,"")}catch(g){Cr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MG(i,s),QR(a,o);var l=QR(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?VG(i,f):c==="dangerouslySetInnerHTML"?BG(i,f):c==="children"?_v(i,f):I$(i,c,f,l)}switch(a){case"input":WR(i,s);break;case"textarea":FG(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?lm(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?lm(i,!!s.multiple,s.defaultValue,!0):lm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Av]=s}catch(g){Cr(e,e.return,g)}}break;case 6:if(Aa(t,e),hu(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Cr(e,e.return,g)}}break;case 3:if(Aa(t,e),hu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tv(t.containerInfo)}catch(g){Cr(e,e.return,g)}break;case 4:Aa(t,e),hu(e);break;case 13:Aa(t,e),hu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s3=Fr())),r&4&&b8(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rs=(l=rs)||c,Aa(t,e),rs=l):Aa(t,e),hu(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ke=e,c=e.child;c!==null;){for(f=Ke=c;Ke!==null;){switch(d=Ke,h=d.child,d.tag){case 0:case 11:case 14:case 15:Dy(4,d,d.return);break;case 1:Gp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cr(r,n,g)}}break;case 5:Gp(d,d.return);break;case 22:if(d.memoizedState!==null){E8(f);continue}}h!==null?(h.return=d,Ke=h):E8(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=UG("display",o))}catch(g){Cr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Cr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Aa(t,e),hu(e),r&4&&b8(e);break;case 21:break;default:Aa(t,e),hu(e)}}function hu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pQ(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_v(i,""),r.flags&=-33);var s=_8(e);IN(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_8(e);xN(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Cr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eye(e,t,n){Ke=e,yQ(e)}function yQ(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Eb;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||rs;a=Eb;var l=rs;if(Eb=o,(rs=u)&&!l)for(Ke=i;Ke!==null;)o=Ke,u=o.child,o.tag===22&&o.memoizedState!==null?T8(i):u!==null?(u.return=o,Ke=u):T8(i);for(;s!==null;)Ke=s,yQ(s),s=s.sibling;Ke=i,Eb=a,rs=l}w8(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):w8(e)}}function w8(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rs||YI(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ka(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&i8(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}i8(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Tv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}rs||t.flags&512&&SN(t)}catch(d){Cr(t,t.return,d)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function E8(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function T8(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{YI(4,t)}catch(u){Cr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Cr(t,i,u)}}var s=t.return;try{SN(t)}catch(u){Cr(t,s,u)}break;case 5:var o=t.return;try{SN(t)}catch(u){Cr(t,o,u)}}}catch(u){Cr(t,t.return,u)}if(t===e){Ke=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ke=a;break}Ke=t.return}}var tye=Math.ceil,sT=xc.ReactCurrentDispatcher,r3=xc.ReactCurrentOwner,la=xc.ReactCurrentBatchConfig,_n=0,bi=null,Xr=null,Li=0,To=0,Kp=ld(0),ai=0,Dv=null,wh=0,GI=0,i3=0,$y=null,qs=null,s3=0,qm=1/0,Dl=null,oT=!1,CN=null,If=null,Tb=!1,hf=null,aT=0,Ly=0,AN=null,Gw=-1,Kw=0;function Es(){return _n&6?Fr():Gw!==-1?Gw:Gw=Fr()}function Cf(e){return e.mode&1?_n&2&&Li!==0?Li&-Li:F0e.transition!==null?(Kw===0&&(Kw=eK()),Kw):(e=Fn,e!==0||(e=window.event,e=e===void 0?16:aK(e.type)),e):1}function Ga(e,t,n,r){if(50<Ly)throw Ly=0,AN=null,Error(Ne(185));G_(e,n,r),(!(_n&2)||e!==bi)&&(e===bi&&(!(_n&2)&&(GI|=n),ai===4&&sf(e,Li)),ro(e,r),n===1&&_n===0&&!(t.mode&1)&&(qm=Fr()+500,HI&&cd()))}function ro(e,t){var n=e.callbackNode;Fge(e,t);var r=HE(e,e===bi?Li:0);if(r===0)n!==null&&NF(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&NF(n),t===1)e.tag===0?M0e(S8.bind(null,e)):IK(S8.bind(null,e)),k0e(function(){!(_n&6)&&cd()}),n=null;else{switch(tK(r)){case 1:n=R$;break;case 4:n=JG;break;case 16:n=zE;break;case 536870912:n=ZG;break;default:n=zE}n=xQ(n,vQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vQ(e,t){if(Gw=-1,Kw=0,_n&6)throw Error(Ne(327));var n=e.callbackNode;if(pm()&&e.callbackNode!==n)return null;var r=HE(e,e===bi?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uT(e,r);else{t=r;var i=_n;_n|=2;var s=bQ();(bi!==e||Li!==t)&&(Dl=null,qm=Fr()+500,ch(e,t));do try{iye();break}catch(a){_Q(e,a)}while(!0);H$(),sT.current=s,_n=i,Xr!==null?t=0:(bi=null,Li=0,t=ai)}if(t!==0){if(t===2&&(i=tN(e),i!==0&&(r=i,t=PN(e,i))),t===1)throw n=Dv,ch(e,0),sf(e,r),ro(e,Fr()),n;if(t===6)sf(e,r);else{if(i=e.current.alternate,!(r&30)&&!nye(i)&&(t=uT(e,r),t===2&&(s=tN(e),s!==0&&(r=s,t=PN(e,s))),t===1))throw n=Dv,ch(e,0),sf(e,r),ro(e,Fr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Pd(e,qs,Dl);break;case 3:if(sf(e,r),(r&130023424)===r&&(t=s3+500-Fr(),10<t)){if(HE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Es(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lN(Pd.bind(null,e,qs,Dl),t);break}Pd(e,qs,Dl);break;case 4:if(sf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ya(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tye(r/1960))-r,10<r){e.timeoutHandle=lN(Pd.bind(null,e,qs,Dl),r);break}Pd(e,qs,Dl);break;case 5:Pd(e,qs,Dl);break;default:throw Error(Ne(329))}}}return ro(e,Fr()),e.callbackNode===n?vQ.bind(null,e):null}function PN(e,t){var n=$y;return e.current.memoizedState.isDehydrated&&(ch(e,t).flags|=256),e=uT(e,t),e!==2&&(t=qs,qs=n,t!==null&&ON(t)),e}function ON(e){qs===null?qs=e:qs.push.apply(qs,e)}function nye(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ja(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sf(e,t){for(t&=~i3,t&=~GI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ya(t),r=1<<n;e[n]=-1,t&=~r}}function S8(e){if(_n&6)throw Error(Ne(327));pm();var t=HE(e,0);if(!(t&1))return ro(e,Fr()),null;var n=uT(e,t);if(e.tag!==0&&n===2){var r=tN(e);r!==0&&(t=r,n=PN(e,r))}if(n===1)throw n=Dv,ch(e,0),sf(e,t),ro(e,Fr()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pd(e,qs,Dl),ro(e,Fr()),null}function o3(e,t){var n=_n;_n|=1;try{return e(t)}finally{_n=n,_n===0&&(qm=Fr()+500,HI&&cd())}}function Eh(e){hf!==null&&hf.tag===0&&!(_n&6)&&pm();var t=_n;_n|=1;var n=la.transition,r=Fn;try{if(la.transition=null,Fn=1,e)return e()}finally{Fn=r,la.transition=n,_n=t,!(_n&6)&&cd()}}function a3(){To=Kp.current,or(Kp)}function ch(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,N0e(n)),Xr!==null)for(n=Xr.return;n!==null;){var r=n;switch(U$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&KE();break;case 3:Hm(),or(to),or(cs),Q$();break;case 5:K$(r);break;case 4:Hm();break;case 13:or(yr);break;case 19:or(yr);break;case 10:W$(r.type._context);break;case 22:case 23:a3()}n=n.return}if(bi=e,Xr=e=Af(e.current,null),Li=To=t,ai=0,Dv=null,i3=GI=wh=0,qs=$y=null,Yd!==null){for(t=0;t<Yd.length;t++)if(n=Yd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yd=null}return e}function _Q(e,t){do{var n=Xr;try{if(H$(),Ww.current=iT,rT){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rT=!1}if(bh=0,gi=ri=vr=null,ky=!1,Rv=0,r3.current=null,n===null||n.return===null){ai=1,Dv=t,Xr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Li,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=f8(o);if(h!==null){h.flags&=-257,d8(h,o,a,s,t),h.mode&1&&c8(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}else{if(!(t&1)){c8(s,l,t),u3();break e}u=Error(Ne(426))}}else if(pr&&a.mode&1){var y=f8(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),d8(y,o,a,s,t),V$(Wm(u,a));break e}}s=u=Wm(u,a),ai!==4&&(ai=2),$y===null?$y=[s]:$y.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=nQ(s,u,t);r8(s,m);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(If===null||!If.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=rQ(s,a,t);r8(s,T);break e}}s=s.return}while(s!==null)}EQ(n)}catch(x){t=x,Xr===n&&n!==null&&(Xr=n=n.return);continue}break}while(!0)}function bQ(){var e=sT.current;return sT.current=iT,e===null?iT:e}function u3(){(ai===0||ai===3||ai===2)&&(ai=4),bi===null||!(wh&268435455)&&!(GI&268435455)||sf(bi,Li)}function uT(e,t){var n=_n;_n|=2;var r=bQ();(bi!==e||Li!==t)&&(Dl=null,ch(e,t));do try{rye();break}catch(i){_Q(e,i)}while(!0);if(H$(),_n=n,sT.current=r,Xr!==null)throw Error(Ne(261));return bi=null,Li=0,ai}function rye(){for(;Xr!==null;)wQ(Xr)}function iye(){for(;Xr!==null&&!Pge();)wQ(Xr)}function wQ(e){var t=SQ(e.alternate,e,To);e.memoizedProps=e.pendingProps,t===null?EQ(e):Xr=t,r3.current=null}function EQ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=X0e(n,t),n!==null){n.flags&=32767,Xr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ai=6,Xr=null;return}}else if(n=Q0e(n,t,To),n!==null){Xr=n;return}if(t=t.sibling,t!==null){Xr=t;return}Xr=t=e}while(t!==null);ai===0&&(ai=5)}function Pd(e,t,n){var r=Fn,i=la.transition;try{la.transition=null,Fn=1,sye(e,t,n,r)}finally{la.transition=i,Fn=r}return null}function sye(e,t,n,r){do pm();while(hf!==null);if(_n&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(jge(e,s),e===bi&&(Xr=bi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tb||(Tb=!0,xQ(zE,function(){return pm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=la.transition,la.transition=null;var o=Fn;Fn=1;var a=_n;_n|=4,r3.current=null,Z0e(e,n),gQ(n,e),x0e(aN),WE=!!oN,aN=oN=null,e.current=n,eye(n),Oge(),_n=a,Fn=o,la.transition=s}else e.current=n;if(Tb&&(Tb=!1,hf=e,aT=i),s=e.pendingLanes,s===0&&(If=null),kge(n.stateNode),ro(e,Fr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oT)throw oT=!1,e=CN,CN=null,e;return aT&1&&e.tag!==0&&pm(),s=e.pendingLanes,s&1?e===AN?Ly++:(Ly=0,AN=e):Ly=0,cd(),null}function pm(){if(hf!==null){var e=tK(aT),t=la.transition,n=Fn;try{if(la.transition=null,Fn=16>e?16:e,hf===null)var r=!1;else{if(e=hf,hf=null,aT=0,_n&6)throw Error(Ne(331));var i=_n;for(_n|=4,Ke=e.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ke=l;Ke!==null;){var c=Ke;switch(c.tag){case 0:case 11:case 15:Dy(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ke=f;else for(;Ke!==null;){c=Ke;var d=c.sibling,h=c.return;if(hQ(c),c===l){Ke=null;break}if(d!==null){d.return=h,Ke=d;break}Ke=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dy(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ke=m;break e}Ke=s.return}}var v=e.current;for(Ke=v;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=v;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:YI(9,a)}}catch(x){Cr(a,a.return,x)}if(a===o){Ke=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ke=T;break e}Ke=a.return}}if(_n=i,cd(),Gu&&typeof Gu.onPostCommitFiberRoot=="function")try{Gu.onPostCommitFiberRoot(jI,e)}catch{}r=!0}return r}finally{Fn=n,la.transition=t}}return!1}function x8(e,t,n){t=Wm(n,t),t=nQ(e,t,1),e=xf(e,t,1),t=Es(),e!==null&&(G_(e,1,t),ro(e,t))}function Cr(e,t,n){if(e.tag===3)x8(e,e,n);else for(;t!==null;){if(t.tag===3){x8(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(If===null||!If.has(r))){e=Wm(n,e),e=rQ(t,e,1),t=xf(t,e,1),e=Es(),t!==null&&(G_(t,1,e),ro(t,e));break}}t=t.return}}function oye(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&n,bi===e&&(Li&n)===n&&(ai===4||ai===3&&(Li&130023424)===Li&&500>Fr()-s3?ch(e,0):i3|=n),ro(e,t)}function TQ(e,t){t===0&&(e.mode&1?(t=hb,hb<<=1,!(hb&130023424)&&(hb=4194304)):t=1);var n=Es();e=oc(e,t),e!==null&&(G_(e,t,n),ro(e,n))}function aye(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),TQ(e,n)}function uye(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),TQ(e,n)}var SQ;SQ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||to.current)Xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xs=!1,K0e(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,pr&&t.flags&1048576&&CK(t,JE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yw(e,t),e=t.pendingProps;var i=Um(t,cs.current);hm(t,n),i=J$(null,t,r,e,i,n);var s=Z$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,no(r)?(s=!0,QE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y$(t),i.updater=WI,t.stateNode=i,i._reactInternals=t,gN(t,r,e,n),t=_N(null,t,r,!0,s,n)):(t.tag=0,pr&&s&&B$(t),vs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cye(r),e=ka(r,e),i){case 0:t=vN(null,t,r,e,n);break e;case 1:t=m8(null,t,r,e,n);break e;case 11:t=h8(null,t,r,e,n);break e;case 14:t=p8(null,t,r,ka(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),vN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),m8(e,t,r,i,n);case 3:e:{if(aQ(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,RK(e,t),tT(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wm(Error(Ne(423)),t),t=g8(e,t,r,n,i);break e}else if(r!==i){i=Wm(Error(Ne(424)),t),t=g8(e,t,r,n,i);break e}else for(Ao=Sf(t.stateNode.containerInfo.firstChild),No=t,pr=!0,La=null,n=$K(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vm(),r===i){t=ac(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return LK(t),e===null&&hN(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,uN(r,i)?o=null:s!==null&&uN(r,s)&&(t.flags|=32),oQ(e,t),vs(e,t,o,n),t.child;case 6:return e===null&&hN(t),null;case 13:return uQ(e,t,n);case 4:return G$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zm(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),h8(e,t,r,i,n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:return vs(e,t,t.pendingProps.children,n),t.child;case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Jn(ZE,r._currentValue),r._currentValue=o,s!==null)if(Ja(s.value,o)){if(s.children===i.children&&!to.current){t=ac(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),pN(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pN(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hm(t,n),i=ca(i),r=r(i),t.flags|=1,vs(e,t,r,n),t.child;case 14:return r=t.type,i=ka(r,t.pendingProps),i=ka(r.type,i),p8(e,t,r,i,n);case 15:return iQ(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ka(r,i),Yw(e,t),t.tag=1,no(r)?(e=!0,QE(t)):e=!1,hm(t,n),kK(t,r,i),gN(t,r,i,n),_N(null,t,r,!0,e,n);case 19:return lQ(e,t,n);case 22:return sQ(e,t,n)}throw Error(Ne(156,t.tag))};function xQ(e,t){return XG(e,t)}function lye(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,n,r){return new lye(e,t,n,r)}function l3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cye(e){if(typeof e=="function")return l3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A$)return 11;if(e===P$)return 14}return 2}function Af(e,t){var n=e.alternate;return n===null?(n=aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qw(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")l3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jp:return fh(n.children,i,s,t);case C$:o=8,i|=8;break;case BR:return e=aa(12,n,t,i|2),e.elementType=BR,e.lanes=s,e;case UR:return e=aa(13,n,t,i),e.elementType=UR,e.lanes=s,e;case VR:return e=aa(19,n,t,i),e.elementType=VR,e.lanes=s,e;case DG:return KI(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NG:o=10;break e;case kG:o=9;break e;case A$:o=11;break e;case P$:o=14;break e;case Jc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=aa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fh(e,t,n,r){return e=aa(7,e,r,t),e.lanes=n,e}function KI(e,t,n,r){return e=aa(22,e,r,t),e.elementType=DG,e.lanes=n,e.stateNode={isHidden:!1},e}function pO(e,t,n){return e=aa(6,e,null,t),e.lanes=n,e}function mO(e,t,n){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fye(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=KP(0),this.expirationTimes=KP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=KP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c3(e,t,n,r,i,s,o,a,u){return e=new fye(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=aa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y$(s),e}function dye(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function IQ(e){if(!e)return Uf;e=e._reactInternals;e:{if(qh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(no(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(no(n))return xK(e,n,t)}return t}function CQ(e,t,n,r,i,s,o,a,u){return e=c3(n,r,!0,e,i,s,o,a,u),e.context=IQ(null),n=e.current,r=Es(),i=Cf(n),s=Zl(r,i),s.callback=t??null,xf(n,s,i),e.current.lanes=i,G_(e,i,r),ro(e,r),e}function QI(e,t,n,r){var i=t.current,s=Es(),o=Cf(i);return n=IQ(n),t.context===null?t.context=n:t.pendingContext=n,t=Zl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xf(i,t,o),e!==null&&(Ga(e,i,o,s),Hw(e,i,o)),o}function lT(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function f3(e,t){I8(e,t),(e=e.alternate)&&I8(e,t)}function hye(){return null}var AQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function d3(e){this._internalRoot=e}XI.prototype.render=d3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));QI(e,t,null,null)};XI.prototype.unmount=d3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(function(){QI(null,e,null,null)}),t[sc]=null}};function XI(e){this._internalRoot=e}XI.prototype.unstable_scheduleHydration=function(e){if(e){var t=iK();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rf.length&&t!==0&&t<rf[n].priority;n++);rf.splice(n,0,e),n===0&&oK(e)}};function h3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function JI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C8(){}function pye(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=lT(o);s.call(l)}}var o=CQ(t,r,e,0,null,!1,!1,"",C8);return e._reactRootContainer=o,e[sc]=o.current,Iv(e.nodeType===8?e.parentNode:e),Eh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=lT(u);a.call(l)}}var u=c3(e,0,!1,null,null,!1,!1,"",C8);return e._reactRootContainer=u,e[sc]=u.current,Iv(e.nodeType===8?e.parentNode:e),Eh(function(){QI(t,u,n,r)}),u}function ZI(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=lT(o);a.call(u)}}QI(t,o,e,i)}else o=pye(n,t,e,i,r);return lT(o)}nK=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ay(t.pendingLanes);n!==0&&(N$(t,n|1),ro(t,Fr()),!(_n&6)&&(qm=Fr()+500,cd()))}break;case 13:Eh(function(){var r=oc(e,1);if(r!==null){var i=Es();Ga(r,e,1,i)}}),f3(e,1)}};k$=function(e){if(e.tag===13){var t=oc(e,134217728);if(t!==null){var n=Es();Ga(t,e,134217728,n)}f3(e,134217728)}};rK=function(e){if(e.tag===13){var t=Cf(e),n=oc(e,t);if(n!==null){var r=Es();Ga(n,e,t,r)}f3(e,t)}};iK=function(){return Fn};sK=function(e,t){var n=Fn;try{return Fn=e,t()}finally{Fn=n}};JR=function(e,t,n){switch(t){case"input":if(WR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zI(r);if(!i)throw Error(Ne(90));LG(r),WR(r,i)}}}break;case"textarea":FG(e,n);break;case"select":t=n.value,t!=null&&lm(e,!!n.multiple,t,!1)}};WG=o3;qG=Eh;var mye={usingClientEntryPoint:!1,Events:[Q_,zp,zI,zG,HG,o3]},C0={findFiberByHostInstance:qd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gye={bundleType:C0.bundleType,version:C0.version,rendererPackageName:C0.rendererPackageName,rendererConfig:C0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KG(e),e===null?null:e.stateNode},findFiberByHostInstance:C0.findFiberByHostInstance||hye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sb.isDisabled&&Sb.supportsFiber)try{jI=Sb.inject(gye),Gu=Sb}catch{}}Uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mye;Uo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h3(t))throw Error(Ne(200));return dye(e,t,null,n)};Uo.createRoot=function(e,t){if(!h3(e))throw Error(Ne(299));var n=!1,r="",i=AQ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=c3(e,1,!1,null,null,n,!1,r,i),e[sc]=t.current,Iv(e.nodeType===8?e.parentNode:e),new d3(t)};Uo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=KG(t),e=e===null?null:e.stateNode,e};Uo.flushSync=function(e){return Eh(e)};Uo.hydrate=function(e,t,n){if(!JI(t))throw Error(Ne(200));return ZI(null,e,t,!0,n)};Uo.hydrateRoot=function(e,t,n){if(!h3(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AQ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=CQ(t,null,e,1,n??null,i,!1,s,o),e[sc]=t.current,Iv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new XI(t)};Uo.render=function(e,t,n){if(!JI(t))throw Error(Ne(200));return ZI(null,e,t,!1,n)};Uo.unmountComponentAtNode=function(e){if(!JI(e))throw Error(Ne(40));return e._reactRootContainer?(Eh(function(){ZI(null,null,e,!1,function(){e._reactRootContainer=null,e[sc]=null})}),!0):!1};Uo.unstable_batchedUpdates=o3;Uo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!JI(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return ZI(e,t,n,!1,r)};Uo.version="18.2.0-next-9e3b772b8-20220608";function PQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PQ)}catch(e){console.error(e)}}PQ(),CG.exports=Uo;var Ic=CG.exports,A8=Ic;FR.createRoot=A8.createRoot,FR.hydrateRoot=A8.hydrateRoot;const OQ=b.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),da=()=>b.useContext(OQ);function yye({children:e}){const[t,n]=$.useState(void 0),r=$.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return C.jsx(OQ.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(this,arguments)}var pf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pf||(pf={}));const P8="popstate";function vye(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return RN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:NQ(i)}return bye(t,n,null,e)}function Vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _ye(){return Math.random().toString(36).substr(2,8)}function O8(e,t){return{usr:e.state,key:e.key,idx:t}}function RN(e,t,n,r){return n===void 0&&(n=null),$v({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ng(t):t,{state:n,key:t&&t.key||r||_ye()})}function NQ(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ng(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bye(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pf.Pop,u=null,l=c();l==null&&(l=0,o.replaceState($v({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=pf.Pop;let y=c(),m=y==null?null:y-l;l=y,u&&u({action:a,location:g.location,delta:m})}function d(y,m){a=pf.Push;let v=RN(g.location,y,m);n&&n(v,y),l=c()+1;let _=O8(v,l),T=g.createHref(v);try{o.pushState(_,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}s&&u&&u({action:a,location:g.location,delta:1})}function h(y,m){a=pf.Replace;let v=RN(g.location,y,m);n&&n(v,y),l=c();let _=O8(v,l),T=g.createHref(v);o.replaceState(_,"",T),s&&u&&u({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:NQ(y);return v=v.replace(/ $/,"%20"),Vr(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let g={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(P8,f),u=y,()=>{i.removeEventListener(P8,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return o.go(y)}};return g}var R8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R8||(R8={}));function wye(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ng(t):t,i=$Q(r.pathname||"/",n);if(i==null)return null;let s=kQ(e);Eye(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=Dye(i);o=Rye(s[a],u)}return o}function kQ(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Vr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Pf([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Vr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),kQ(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:Pye(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of DQ(s.path))i(s,o,u)}),t}function DQ(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DQ(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Eye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Oye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tye=/^:[\w-]+$/,Sye=3,xye=2,Iye=1,Cye=10,Aye=-2,N8=e=>e==="*";function Pye(e,t){let n=e.split("/"),r=n.length;return n.some(N8)&&(r+=Aye),t&&(r+=xye),n.filter(i=>!N8(i)).reduce((i,s)=>i+(Tye.test(s)?Sye:s===""?Iye:Cye),r)}function Oye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Rye(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Nye({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Pf([i,c.pathname]),pathnameBase:Fye(Pf([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Pf([i,c.pathnameBase]))}return s}function Nye(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kye(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function kye(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),RQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Dye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $Q(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $ye(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ng(e):e;return{pathname:n?n.startsWith("/")?n:Lye(n,t):t,search:jye(r),hash:Bye(i)}}function Lye(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gO(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mye(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function p3(e,t){let n=Mye(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ng(e):(i=$v({},e),Vr(!i.pathname||!i.pathname.includes("?"),gO("?","pathname","search",i)),Vr(!i.pathname||!i.pathname.includes("#"),gO("#","pathname","hash",i)),Vr(!i.search||!i.search.includes("#"),gO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=$ye(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Pf=e=>e.join("/").replace(/\/\/+/g,"/"),Fye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LQ=["post","put","patch","delete"];new Set(LQ);const Vye=["get",...LQ];new Set(Vye);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}const g3=b.createContext(null),zye=b.createContext(null),Yh=b.createContext(null),eC=b.createContext(null),Tl=b.createContext({outlet:null,matches:[],isDataRoute:!1}),MQ=b.createContext(null);function Hye(e,t){let{relative:n}=t===void 0?{}:t;kg()||Vr(!1);let{basename:r,navigator:i}=b.useContext(Yh),{hash:s,pathname:o,search:a}=Gye(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Pf([r,o])),i.createHref({pathname:u,search:a,hash:s})}function kg(){return b.useContext(eC)!=null}function Gh(){return kg()||Vr(!1),b.useContext(eC).location}function FQ(e){b.useContext(Yh).static||b.useLayoutEffect(e)}function fd(){let{isDataRoute:e}=b.useContext(Tl);return e?sve():Wye()}function Wye(){kg()||Vr(!1);let e=b.useContext(g3),{basename:t,future:n,navigator:r}=b.useContext(Yh),{matches:i}=b.useContext(Tl),{pathname:s}=Gh(),o=JSON.stringify(p3(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return FQ(()=>{a.current=!0}),b.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=m3(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pf([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const qye=b.createContext(null);function Yye(e){let t=b.useContext(Tl).outlet;return t&&b.createElement(qye.Provider,{value:e},t)}function Th(){let{matches:e}=b.useContext(Tl),t=e[e.length-1];return t?t.params:{}}function Gye(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Yh),{matches:i}=b.useContext(Tl),{pathname:s}=Gh(),o=JSON.stringify(p3(i,r.v7_relativeSplatPath));return b.useMemo(()=>m3(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function jQ(e,t){return Kye(e,t)}function Kye(e,t,n,r){kg()||Vr(!1);let{navigator:i}=b.useContext(Yh),{matches:s}=b.useContext(Tl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=Gh(),c;if(t){var f;let y=typeof t=="string"?Ng(t):t;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||Vr(!1),c=y}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=wye(e,{pathname:h}),g=eve(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Pf([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Pf([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&g?b.createElement(eC.Provider,{value:{location:Lv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:pf.Pop}},g):g}function Qye(){let e=ive(),t=Uye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const Xye=b.createElement(Qye,null);class Jye extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Tl.Provider,{value:this.props.routeContext},b.createElement(MQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zye(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(g3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Tl.Provider,{value:t},r)}function eve(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Vr(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,g=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Xye,u&&(l<0&&d===0?(ove("route-fallback",!1),p=!0,y=null):l===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,d+1)),v=()=>{let _;return h?_=g:p?_=y:f.route.Component?_=b.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,b.createElement(Zye,{match:f,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?b.createElement(Jye,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var BQ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BQ||{}),cT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cT||{});function tve(e){let t=b.useContext(g3);return t||Vr(!1),t}function nve(e){let t=b.useContext(zye);return t||Vr(!1),t}function rve(e){let t=b.useContext(Tl);return t||Vr(!1),t}function UQ(e){let t=rve(),n=t.matches[t.matches.length-1];return n.route.id||Vr(!1),n.route.id}function ive(){var e;let t=b.useContext(MQ),n=nve(cT.UseRouteError),r=UQ(cT.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function sve(){let{router:e}=tve(BQ.UseNavigateStable),t=UQ(cT.UseNavigateStable),n=b.useRef(!1);return FQ(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Lv({fromRouteId:t},s)))},[e,t])}const k8={};function ove(e,t,n){!t&&!k8[e]&&(k8[e]=!0)}function ave(e){let{to:t,replace:n,state:r,relative:i}=e;kg()||Vr(!1);let{future:s,static:o}=b.useContext(Yh),{matches:a}=b.useContext(Tl),{pathname:u}=Gh(),l=fd(),c=m3(t,p3(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return b.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function uve(e){return Yye(e.context)}function NN(e){Vr(!1)}function lve(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pf.Pop,navigator:s,static:o=!1,future:a}=e;kg()&&Vr(!1);let u=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:u,navigator:s,static:o,future:Lv({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Ng(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,g=b.useMemo(()=>{let y=$Q(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return g==null?null:b.createElement(Yh.Provider,{value:l},b.createElement(eC.Provider,{children:n,value:g}))}function cve(e){let{children:t,location:n}=e;return jQ(kN(t),n)}new Promise(()=>{});function kN(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,kN(r.props.children,s));return}r.type!==NN&&Vr(!1),!r.props.index||!r.props.children||Vr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kN(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function fve(e,t){let n=DN(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const dve="6";try{window.__reactRouterVersion=dve}catch{}const hve="startTransition",D8=yv[hve];function pve(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=vye({window:i,v5Compat:!0}));let o=s.current,[a,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=b.useCallback(f=>{l&&D8?D8(()=>u(f)):u(f)},[u,l]);return b.useLayoutEffect(()=>o.listen(c),[o,c]),b.createElement(lve,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var $8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($8||($8={}));var L8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L8||(L8={}));function y3(e){let t=b.useRef(DN(e)),n=b.useRef(!1),r=Gh(),i=b.useMemo(()=>fve(r.search,n.current?null:t.current),[r.search]),s=fd(),o=b.useCallback((a,u)=>{const l=DN(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function fT(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function mve(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function gve(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function yve(e,t,n){return fT(e,n)===fT(t,n)}function vve({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=fT(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(g=>yve(a.currentTarget,g,e)),c=l.findIndex(g=>a.currentTarget===g),f=gve(c,l,r),d=mve(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}function _ve(e,t,n){var r;return n?Array.from(((r=fT(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function tC(e){const t=b.createContext(null);return[({children:i,value:s})=>$.createElement(t.Provider,{value:s},i),()=>{const i=b.useContext(t);if(i===null)throw new Error(e);return i}]}function Sh(e){return Array.isArray(e)?e:[e]}const bve=()=>{};function wve(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||bve:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function ql(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Eve(){const[e,t]=b.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function VQ({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function J_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==$.Fragment:!1}function zQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=zQ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function HQ(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=zQ(t))&&(r&&(r+=" "),r+=n);return r}const Tve={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Sve(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var xve=Object.defineProperty,M8=Object.getOwnPropertySymbols,Ive=Object.prototype.hasOwnProperty,Cve=Object.prototype.propertyIsEnumerable,F8=(e,t,n)=>t in e?xve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j8=(e,t)=>{for(var n in t||(t={}))Ive.call(t,n)&&F8(e,n,t[n]);if(M8)for(var n of M8(t))Cve.call(t,n)&&F8(e,n,t[n]);return e};function Ave(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:j8({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:j8({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function Z_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function v3(e){const t=Z_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function WQ(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function Pve(e,...t){return`linear-gradient(${e}deg, ${WQ(t)})`}function Ove(...e){return`radial-gradient(circle, ${WQ(e)})`}function qQ(e){const t=v3(e),n=Z_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function _3(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Rve(e){return t=>`@media (min-width: ${_3({size:t,sizes:e.breakpoints})}px)`}function Nve(e){return t=>`@media (max-width: ${_3({size:t,sizes:e.breakpoints})-1}px)`}function kve(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Dve(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function $ve(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function b3(e){return kve(e)?Dve(e):e.startsWith("rgb")?$ve(e):{r:0,g:0,b:0,a:1}}function Ap(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=b3(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Lve(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Mve(e,t){const{r:n,g:r,b:i,a:s}=b3(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Fve(e,t){const{r:n,g:r,b:i,a:s}=b3(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function jve(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Bve(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function Uve(e){const t=v3(e),n=Z_(e),r=qQ(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=Bve(s,e);switch(i){case"light":return{border:"transparent",background:Ap(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ap(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ap(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Ap(t(s,5,a,!1),.05):Ap(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function Vve(e){return t=>{const n=Z_(e)(t);return e.colors[e.primaryColor][n]}}function zve(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function Hve(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const ti={fontStyles:Sve,themeColor:v3,focusStyles:Ave,linearGradient:Pve,radialGradient:Ove,smallerThan:Nve,largerThan:Rve,rgba:Ap,size:_3,cover:Lve,darken:Mve,lighten:Fve,radius:jve,variant:Uve,primaryShade:Z_,hover:zve,gradient:qQ,primaryColor:Vve,placeholderStyles:Hve};var Wve=Object.defineProperty,qve=Object.defineProperties,Yve=Object.getOwnPropertyDescriptors,B8=Object.getOwnPropertySymbols,Gve=Object.prototype.hasOwnProperty,Kve=Object.prototype.propertyIsEnumerable,U8=(e,t,n)=>t in e?Wve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qve=(e,t)=>{for(var n in t||(t={}))Gve.call(t,n)&&U8(e,n,t[n]);if(B8)for(var n of B8(t))Kve.call(t,n)&&U8(e,n,t[n]);return e},Xve=(e,t)=>qve(e,Yve(t));function Jve(e){return Xve(Qve({},e),{fn:{fontStyles:ti.fontStyles(e),themeColor:ti.themeColor(e),focusStyles:ti.focusStyles(e),largerThan:ti.largerThan(e),smallerThan:ti.smallerThan(e),radialGradient:ti.radialGradient,linearGradient:ti.linearGradient,gradient:ti.gradient(e),rgba:ti.rgba,size:ti.size,cover:ti.cover,lighten:ti.lighten,darken:ti.darken,primaryShade:ti.primaryShade(e),radius:ti.radius(e),variant:ti.variant(e),hover:ti.hover,primaryColor:ti.primaryColor(e),placeholderStyles:ti.placeholderStyles(e)}})}const YQ=["xs","sm","md","lg","xl"],Zve={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Tve,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},GQ=Jve(Zve);function e_e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function t_e(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var n_e=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(t_e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=e_e(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),es="-ms-",dT="-moz-",Cn="-webkit-",KQ="comm",w3="rule",E3="decl",r_e="@import",QQ="@keyframes",i_e="@layer",s_e=Math.abs,nC=String.fromCharCode,o_e=Object.assign;function a_e(e,t){return Ni(e,0)^45?(((t<<2^Ni(e,0))<<2^Ni(e,1))<<2^Ni(e,2))<<2^Ni(e,3):0}function XQ(e){return e.trim()}function u_e(e,t){return(e=t.exec(e))?e[0]:e}function An(e,t,n){return e.replace(t,n)}function $N(e,t){return e.indexOf(t)}function Ni(e,t){return e.charCodeAt(t)|0}function Mv(e,t,n){return e.slice(t,n)}function Cu(e){return e.length}function T3(e){return e.length}function xb(e,t){return t.push(e),e}function l_e(e,t){return e.map(t).join("")}var rC=1,Ym=1,JQ=0,uo=0,Qr=0,Dg="";function iC(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:rC,column:Ym,length:o,return:""}}function A0(e,t){return o_e(iC("",null,null,"",null,null,0),e,{length:-e.length},t)}function c_e(){return Qr}function f_e(){return Qr=uo>0?Ni(Dg,--uo):0,Ym--,Qr===10&&(Ym=1,rC--),Qr}function ko(){return Qr=uo<JQ?Ni(Dg,uo++):0,Ym++,Qr===10&&(Ym=1,rC++),Qr}function Qu(){return Ni(Dg,uo)}function Xw(){return uo}function e1(e,t){return Mv(Dg,e,t)}function Fv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZQ(e){return rC=Ym=1,JQ=Cu(Dg=e),uo=0,[]}function eX(e){return Dg="",e}function Jw(e){return XQ(e1(uo-1,LN(e===91?e+2:e===40?e+1:e)))}function d_e(e){for(;(Qr=Qu())&&Qr<33;)ko();return Fv(e)>2||Fv(Qr)>3?"":" "}function h_e(e,t){for(;--t&&ko()&&!(Qr<48||Qr>102||Qr>57&&Qr<65||Qr>70&&Qr<97););return e1(e,Xw()+(t<6&&Qu()==32&&ko()==32))}function LN(e){for(;ko();)switch(Qr){case e:return uo;case 34:case 39:e!==34&&e!==39&&LN(Qr);break;case 40:e===41&&LN(e);break;case 92:ko();break}return uo}function p_e(e,t){for(;ko()&&e+Qr!==57;)if(e+Qr===84&&Qu()===47)break;return"/*"+e1(t,uo-1)+"*"+nC(e===47?e:ko())}function m_e(e){for(;!Fv(Qu());)ko();return e1(e,uo)}function g_e(e){return eX(Zw("",null,null,null,[""],e=ZQ(e),0,[0],e))}function Zw(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,g=1,y=1,m=1,v=0,_="",T=i,x=s,w=r,S=_;y;)switch(p=v,v=ko()){case 40:if(p!=108&&Ni(S,f-1)==58){$N(S+=An(Jw(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=Jw(v);break;case 9:case 10:case 13:case 32:S+=d_e(p);break;case 92:S+=h_e(Xw()-1,7);continue;case 47:switch(Qu()){case 42:case 47:xb(y_e(p_e(ko(),Xw()),t,n),u);break;default:S+="/"}break;case 123*g:a[l++]=Cu(S)*m;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:m==-1&&(S=An(S,/\f/g,"")),h>0&&Cu(S)-f&&xb(h>32?z8(S+";",r,n,f-1):z8(An(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(xb(w=V8(S,t,n,l,c,i,a,_,T=[],x=[],f),s),v===123)if(c===0)Zw(S,t,w,w,T,s,f,a,x);else switch(d===99&&Ni(S,3)===110?100:d){case 100:case 108:case 109:case 115:Zw(e,w,w,r&&xb(V8(e,w,w,0,0,i,a,_,i,T=[],f),x),i,x,f,a,r?T:x);break;default:Zw(S,w,w,w,[""],x,0,a,x)}}l=c=h=0,g=m=1,_=S="",f=o;break;case 58:f=1+Cu(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&f_e()==125)continue}switch(S+=nC(v),v*g){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(Cu(S)-1)*m,m=1;break;case 64:Qu()===45&&(S+=Jw(ko())),d=Qu(),c=f=Cu(_=S+=m_e(Xw())),v++;break;case 45:p===45&&Cu(S)==2&&(g=0)}}return s}function V8(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=T3(d),p=0,g=0,y=0;p<r;++p)for(var m=0,v=Mv(e,f+1,f=s_e(g=o[p])),_=e;m<h;++m)(_=XQ(g>0?d[m]+" "+v:An(v,/&\f/g,d[m])))&&(u[y++]=_);return iC(e,t,n,i===0?w3:a,u,l,c)}function y_e(e,t,n){return iC(e,t,n,KQ,nC(c_e()),Mv(e,2,-2),0)}function z8(e,t,n,r){return iC(e,t,n,E3,Mv(e,0,r),Mv(e,r+1,-1),r)}function mm(e,t){for(var n="",r=T3(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function v_e(e,t,n,r){switch(e.type){case i_e:if(e.children.length)break;case r_e:case E3:return e.return=e.return||e.value;case KQ:return"";case QQ:return e.return=e.value+"{"+mm(e.children,r)+"}";case w3:e.value=e.props.join(",")}return Cu(n=mm(e.children,r))?e.return=e.value+"{"+n+"}":""}function __e(e){var t=T3(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function b_e(e){return function(t){t.root||(t=t.return)&&e(t)}}function w_e(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var E_e=function(t,n,r){for(var i=0,s=0;i=s,s=Qu(),i===38&&s===12&&(n[r]=1),!Fv(s);)ko();return e1(t,uo)},T_e=function(t,n){var r=-1,i=44;do switch(Fv(i)){case 0:i===38&&Qu()===12&&(n[r]=1),t[r]+=E_e(uo-1,n,r);break;case 2:t[r]+=Jw(i);break;case 4:if(i===44){t[++r]=Qu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=nC(i)}while(i=ko());return t},S_e=function(t,n){return eX(T_e(ZQ(t),n))},H8=new WeakMap,x_e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!H8.get(r))&&!i){H8.set(t,!0);for(var s=[],o=S_e(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},I_e=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function tX(e,t){switch(a_e(e,t)){case 5103:return Cn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cn+e+dT+e+es+e+e;case 6828:case 4268:return Cn+e+es+e+e;case 6165:return Cn+e+es+"flex-"+e+e;case 5187:return Cn+e+An(e,/(\w+).+(:[^]+)/,Cn+"box-$1$2"+es+"flex-$1$2")+e;case 5443:return Cn+e+es+"flex-item-"+An(e,/flex-|-self/,"")+e;case 4675:return Cn+e+es+"flex-line-pack"+An(e,/align-content|flex-|-self/,"")+e;case 5548:return Cn+e+es+An(e,"shrink","negative")+e;case 5292:return Cn+e+es+An(e,"basis","preferred-size")+e;case 6060:return Cn+"box-"+An(e,"-grow","")+Cn+e+es+An(e,"grow","positive")+e;case 4554:return Cn+An(e,/([^-])(transform)/g,"$1"+Cn+"$2")+e;case 6187:return An(An(An(e,/(zoom-|grab)/,Cn+"$1"),/(image-set)/,Cn+"$1"),e,"")+e;case 5495:case 3959:return An(e,/(image-set\([^]*)/,Cn+"$1$`$1");case 4968:return An(An(e,/(.+:)(flex-)?(.*)/,Cn+"box-pack:$3"+es+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cn+e+e;case 4095:case 3583:case 4068:case 2532:return An(e,/(.+)-inline(.+)/,Cn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cu(e)-1-t>6)switch(Ni(e,t+1)){case 109:if(Ni(e,t+4)!==45)break;case 102:return An(e,/(.+:)(.+)-([^]+)/,"$1"+Cn+"$2-$3$1"+dT+(Ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~$N(e,"stretch")?tX(An(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ni(e,t+1)!==115)break;case 6444:switch(Ni(e,Cu(e)-3-(~$N(e,"!important")&&10))){case 107:return An(e,":",":"+Cn)+e;case 101:return An(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cn+(Ni(e,14)===45?"inline-":"")+"box$3$1"+Cn+"$2$3$1"+es+"$2box$3")+e}break;case 5936:switch(Ni(e,t+11)){case 114:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cn+e+es+An(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cn+e+es+e+e}return e}var C_e=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case E3:t.return=tX(t.value,t.length);break;case QQ:return mm([A0(t,{value:An(t.value,"@","@"+Cn)})],i);case w3:if(t.length)return l_e(t.props,function(s){switch(u_e(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mm([A0(t,{props:[An(s,/:(read-\w+)/,":"+dT+"$1")]})],i);case"::placeholder":return mm([A0(t,{props:[An(s,/:(plac\w+)/,":"+Cn+"input-$1")]}),A0(t,{props:[An(s,/:(plac\w+)/,":"+dT+"$1")]}),A0(t,{props:[An(s,/:(plac\w+)/,es+"input-$1")]})],i)}return""})}},A_e=[C_e],nX=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||A_e,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(g)});var u,l=[x_e,I_e];{var c,f=[v_e,b_e(function(g){c.insert(g)})],d=__e(l.concat(i,f)),h=function(y){return mm(g_e(y),d)};u=function(y,m,v,_){c=v,h(y?y+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new n_e({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}var rX={exports:{}},Bn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=typeof Symbol=="function"&&Symbol.for,S3=Ei?Symbol.for("react.element"):60103,x3=Ei?Symbol.for("react.portal"):60106,sC=Ei?Symbol.for("react.fragment"):60107,oC=Ei?Symbol.for("react.strict_mode"):60108,aC=Ei?Symbol.for("react.profiler"):60114,uC=Ei?Symbol.for("react.provider"):60109,lC=Ei?Symbol.for("react.context"):60110,I3=Ei?Symbol.for("react.async_mode"):60111,cC=Ei?Symbol.for("react.concurrent_mode"):60111,fC=Ei?Symbol.for("react.forward_ref"):60112,dC=Ei?Symbol.for("react.suspense"):60113,P_e=Ei?Symbol.for("react.suspense_list"):60120,hC=Ei?Symbol.for("react.memo"):60115,pC=Ei?Symbol.for("react.lazy"):60116,O_e=Ei?Symbol.for("react.block"):60121,R_e=Ei?Symbol.for("react.fundamental"):60117,N_e=Ei?Symbol.for("react.responder"):60118,k_e=Ei?Symbol.for("react.scope"):60119;function zo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case S3:switch(e=e.type,e){case I3:case cC:case sC:case aC:case oC:case dC:return e;default:switch(e=e&&e.$$typeof,e){case lC:case fC:case pC:case hC:case uC:return e;default:return t}}case x3:return t}}}function iX(e){return zo(e)===cC}Bn.AsyncMode=I3;Bn.ConcurrentMode=cC;Bn.ContextConsumer=lC;Bn.ContextProvider=uC;Bn.Element=S3;Bn.ForwardRef=fC;Bn.Fragment=sC;Bn.Lazy=pC;Bn.Memo=hC;Bn.Portal=x3;Bn.Profiler=aC;Bn.StrictMode=oC;Bn.Suspense=dC;Bn.isAsyncMode=function(e){return iX(e)||zo(e)===I3};Bn.isConcurrentMode=iX;Bn.isContextConsumer=function(e){return zo(e)===lC};Bn.isContextProvider=function(e){return zo(e)===uC};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S3};Bn.isForwardRef=function(e){return zo(e)===fC};Bn.isFragment=function(e){return zo(e)===sC};Bn.isLazy=function(e){return zo(e)===pC};Bn.isMemo=function(e){return zo(e)===hC};Bn.isPortal=function(e){return zo(e)===x3};Bn.isProfiler=function(e){return zo(e)===aC};Bn.isStrictMode=function(e){return zo(e)===oC};Bn.isSuspense=function(e){return zo(e)===dC};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sC||e===cC||e===aC||e===oC||e===dC||e===P_e||typeof e=="object"&&e!==null&&(e.$$typeof===pC||e.$$typeof===hC||e.$$typeof===uC||e.$$typeof===lC||e.$$typeof===fC||e.$$typeof===R_e||e.$$typeof===N_e||e.$$typeof===k_e||e.$$typeof===O_e)};Bn.typeOf=zo;rX.exports=Bn;var D_e=rX.exports,sX=D_e,$_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L_e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oX={};oX[sX.ForwardRef]=$_e;oX[sX.Memo]=L_e;var M_e=!0;function F_e(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var j_e=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||M_e===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},aX=function(t,n,r){j_e(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function B_e(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var U_e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},V_e=/[A-Z]|^ms/g,z_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uX=function(t){return t.charCodeAt(1)===45},W8=function(t){return t!=null&&typeof t!="boolean"},yO=w_e(function(e){return uX(e)?e:e.replace(V_e,"-$&").toLowerCase()}),q8=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(z_e,function(r,i,s){return Au={name:i,styles:s,next:Au},i})}return U_e[t]!==1&&!uX(t)&&typeof n=="number"&&n!==0?n+"px":n};function jv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Au={name:n.name,styles:n.styles,next:Au},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Au={name:r.name,styles:r.styles,next:Au},r=r.next;var i=n.styles+";";return i}return H_e(e,t,n)}case"function":{if(e!==void 0){var s=Au,o=n(e);return Au=s,jv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function H_e(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":W8(o)&&(r+=yO(s)+":"+q8(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)W8(o[a])&&(r+=yO(s)+":"+q8(s,o[a])+";");else{var u=jv(e,t,o);switch(s){case"animation":case"animationName":{r+=yO(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var Y8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Au,C3=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Au=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=jv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=jv(r,n,t[a]),i&&(s+=o[a]);Y8.lastIndex=0;for(var u="",l;(l=Y8.exec(s))!==null;)u+="-"+l[1];var c=B_e(s)+u;return{name:c,styles:s,next:Au}},W_e=yv.useInsertionEffect?yv.useInsertionEffect:!1,G8=W_e||b.useLayoutEffect,lX=b.createContext(typeof HTMLElement<"u"?nX({key:"css"}):null);lX.Provider;var q_e=function(t){return b.forwardRef(function(n,r){var i=b.useContext(lX);return t(n,i,r)})},Y_e=b.createContext({}),G_e=q_e(function(e,t){var n=e.styles,r=C3([n],void 0,b.useContext(Y_e)),i=b.useRef();return G8(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),G8(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&aX(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function cX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C3(t)}var K_e=function(){var t=cX.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function fX(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var Q_e=Object.defineProperty,K8=Object.getOwnPropertySymbols,X_e=Object.prototype.hasOwnProperty,J_e=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?Q_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vO=(e,t)=>{for(var n in t||(t={}))X_e.call(t,n)&&Q8(e,n,t[n]);if(K8)for(var n of K8(t))J_e.call(t,n)&&Q8(e,n,t[n]);return e};const dX=b.createContext({theme:GQ});function Vi(){var e;return((e=b.useContext(dX))==null?void 0:e.theme)||GQ}function Z_e(e){const t=Vi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function hX(){var e;return(e=b.useContext(dX))==null?void 0:e.emotionCache}function qe(e,t,n){var r;const i=Vi(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return vO(vO(vO({},t),o),fX(n))}const e1e={app:100,modal:200,popover:300,overlay:400,max:9999};function Cc(e){return e1e[e]}function t1e(e,t){const n=b.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const n1e=nX({key:"mantine",prepend:!0});function r1e(){return hX()||n1e}var i1e=Object.defineProperty,X8=Object.getOwnPropertySymbols,s1e=Object.prototype.hasOwnProperty,o1e=Object.prototype.propertyIsEnumerable,J8=(e,t,n)=>t in e?i1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a1e=(e,t)=>{for(var n in t||(t={}))s1e.call(t,n)&&J8(e,n,t[n]);if(X8)for(var n of X8(t))o1e.call(t,n)&&J8(e,n,t[n]);return e};const _O="ref";function u1e(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(_O in n))return{args:e,ref:t};t=n[_O];const r=a1e({},n);return delete r[_O],{args:[r],ref:t}}const{cssFactory:l1e}=(()=>{function e(n,r,i){const s=[],o=F_e(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=u1e(o),l=C3(u,r.registered);return aX(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,HQ(o))}}return{cssFactory:t}})();function pX(){const e=r1e();return t1e(()=>l1e({cache:e}),[e])}function c1e({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var f1e=Object.defineProperty,Z8=Object.getOwnPropertySymbols,d1e=Object.prototype.hasOwnProperty,h1e=Object.prototype.propertyIsEnumerable,e9=(e,t,n)=>t in e?f1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bO=(e,t)=>{for(var n in t||(t={}))d1e.call(t,n)&&e9(e,n,t[n]);if(Z8)for(var n of Z8(t))h1e.call(t,n)&&e9(e,n,t[n]);return e};function p1e(e){return`__mantine-ref-${e||""}`}function t9(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=bO(bO({},i[o]),s[o]):i[o]=bO({},s[o])}),i),{}):r(e)}function ft(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Vi(),o=Z_e(i==null?void 0:i.name),a=hX(),{css:u,cx:l}=pX(),c=t(s,r,p1e),f=t9(i==null?void 0:i.styles,s,r),d=t9(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,g]}));return{classes:c1e({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function mX({styles:e}){const t=Vi();return $.createElement(G_e,{styles:cX(typeof e=="function"?e(t):e)})}var m1e=Object.defineProperty,g1e=Object.defineProperties,y1e=Object.getOwnPropertyDescriptors,n9=Object.getOwnPropertySymbols,v1e=Object.prototype.hasOwnProperty,_1e=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?m1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P0=(e,t)=>{for(var n in t||(t={}))v1e.call(t,n)&&r9(e,n,t[n]);if(n9)for(var n of n9(t))_1e.call(t,n)&&r9(e,n,t[n]);return e},O0=(e,t)=>g1e(e,y1e(t));const R0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Ib={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:O0(P0({},R0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":O0(P0({},R0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":O0(P0({},R0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":O0(P0({},R0),{common:{transformOrigin:"top left"}}),"pop-top-right":O0(P0({},R0),{common:{transformOrigin:"top right"}})},i9=["mousedown","touchstart"];function b1e(e,t,n){const r=b.useRef();return b.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||i9).forEach(s=>document.addEventListener(s,i)),()=>{(t||i9).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function w1e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function E1e(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function T1e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=b.useState(n?t:E1e(e,t)),s=b.useRef();return b.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),w1e(s.current,o=>i(o.matches))},[e]),r}function Of(e,t,n){return Math.min(Math.max(e,t),n)}const A3=typeof document<"u"?b.useLayoutEffect:b.useEffect;function io(e,t){const n=b.useRef(!1);b.useEffect(()=>()=>{n.current=!1},[]),b.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function gX({opened:e,shouldReturnFocus:t=!0}){const n=b.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return io(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const S1e=/input|select|textarea|button|object/,yX="a, input, select, textarea, button, object, [tabindex]";function x1e(e){return e.style.display==="none"}function I1e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(x1e(n))return!1;n=n.parentNode}return!0}function vX(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function MN(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(vX(e));return(S1e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&I1e(e)}function _X(e){const t=vX(e);return(Number.isNaN(t)||t>=0)&&MN(e)}function C1e(e){return Array.from(e.querySelectorAll(yX)).filter(_X)}function A1e(e,t){const n=C1e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function P1e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function bX(e=!0){const t=b.useRef(),n=b.useRef(null),r=b.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=P1e(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(yX));o=a.find(_X)||a.find(MN)||null,!o&&MN(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return b.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&A1e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const O1e=e=>(e+1)%1e6;function R1e(){const[,e]=b.useReducer(O1e,0);return e}const N1e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,k1e=$.useId||(()=>{});function D1e(){const[e,t]=b.useState("");return A3(()=>{t(N1e())},[]),e}function $1e(){const e=k1e();return e?`mantine-${e.replace(/:/g,"")}`:""}function uu(e){return typeof e=="string"?e:$1e()||D1e()}function FN(e,t,n){b.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function wX(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function EX(...e){return t=>{e.forEach(n=>wX(n,t))}}function va(...e){return b.useCallback(EX(...e),e)}function TX(e,t,n="ltr"){const r=b.useRef(),i=b.useRef(!1),s=b.useRef(!1),o=b.useRef(0),[a,u]=b.useState(!1);return b.useEffect(()=>{i.current=!0},[]),b.useEffect(()=>{const l=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const x=Of((v-T.left)/T.width,0,1);e({x:n==="ltr"?x:1-x,y:Of((_-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),v.preventDefault(),g(v)},g=v=>l({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),m(v)},m=v=>{v.cancelable&&v.preventDefault(),l({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function ha({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=b.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function mC(e,t){return T1e("(prefers-reduced-motion: reduce)",e,t)}const L1e=e=>e<.5?2*e*e:-1+(4-2*e)*e,M1e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},F1e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},j1e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function SX({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=L1e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=b.useRef(0),u=b.useRef(0),l=b.useRef(!1),c=b.useRef(null),f=b.useRef(null),d=mC(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=b.useCallback(({alignment:y="start"}={})=>{var m;l.current=!1,a.current&&h();const v=(m=F1e({parent:c.current,axis:t}))!=null?m:0,_=M1e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:v);function T(){u.current===0&&(u.current=performance.now());const w=performance.now()-u.current,S=d||e===0?1:w/e,I=v+_*r(S);j1e({parent:c.current,axis:t,distance:I}),!l.current&&S<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),g=()=>{s&&(l.current=!0)};return FN("wheel",g,{passive:!0}),FN("touchmove",g,{passive:!0}),b.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const B1e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Xu(){const e=b.useRef(0),t=b.useRef(null),[n,r]=b.useState(B1e),i=b.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return b.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function U1e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const V1e=({disableBodyPadding:e})=>{const t=e?null:U1e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function z1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function H1e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function W1e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function q1e(e,t={disableBodyPadding:!1}){const[n,r]=b.useState(e||!1),i=b.useRef(0),{disableBodyPadding:s}=t,o=b.useRef(null),a=()=>{i.current=window.scrollY;const l=V1e({disableBodyPadding:s}),c=W1e();z1e(c,l),H1e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return b.useEffect(()=>(n?a():u(),u),[n]),b.useEffect(()=>{e!==void 0&&r(e)},[e]),b.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var Y1e=Object.defineProperty,G1e=Object.defineProperties,K1e=Object.getOwnPropertyDescriptors,s9=Object.getOwnPropertySymbols,Q1e=Object.prototype.hasOwnProperty,X1e=Object.prototype.propertyIsEnumerable,o9=(e,t,n)=>t in e?Y1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J1e=(e,t)=>{for(var n in t||(t={}))Q1e.call(t,n)&&o9(e,n,t[n]);if(s9)for(var n of s9(t))X1e.call(t,n)&&o9(e,n,t[n]);return e},Z1e=(e,t)=>G1e(e,K1e(t));function ebe(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return Z1e(J1e({},n),{key:i})}function tbe(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function nbe(e){return t=>tbe(ebe(e),t)}function rbe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{nbe(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function ibe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function sbe(){return typeof window<"u"?ibe():"undetermined"}function obe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function abe(e){const[t,n]=b.useState(e);return[t,obe(n)]}function xX(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=b.useState(e),o=b.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=b.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=b.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function ube(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var a9=Object.getOwnPropertySymbols,lbe=Object.prototype.hasOwnProperty,cbe=Object.prototype.propertyIsEnumerable,fbe=(e,t)=>{var n={};for(var r in e)lbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&a9)for(var r of a9(e))t.indexOf(r)<0&&cbe.call(e,r)&&(n[r]=e[r]);return n};function dd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:T,fw:x,lts:w,ta:S,lh:I,fs:k,tt:D,td:M,w:O,miw:B,maw:N,h:ee,mih:te,mah:se,bgsz:X,bgp:re,bgr:A,bga:H,pos:G,top:P,left:R,bottom:L,right:Y,inset:le,display:ce}=t,de=fbe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:fX({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:T,fw:x,lts:w,ta:S,lh:I,fs:k,tt:D,td:M,w:O,miw:B,maw:N,h:ee,mih:te,mah:se,bgsz:X,bgp:re,bgr:A,bga:H,pos:G,top:P,left:R,bottom:L,right:Y,inset:le,display:ce}),rest:de}}function dbe(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function hbe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return dbe(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function pbe(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function mbe(e){return e}function gbe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const ybe=["-xs","-sm","-md","-lg","-xl"];function vbe(e,t){return ybe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const _be={color:pbe,default:mbe,fontSize:gbe,spacing:vbe},bbe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var wbe=Object.defineProperty,u9=Object.getOwnPropertySymbols,Ebe=Object.prototype.hasOwnProperty,Tbe=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c9=(e,t)=>{for(var n in t||(t={}))Ebe.call(t,n)&&l9(e,n,t[n]);if(u9)for(var n of u9(t))Tbe.call(t,n)&&l9(e,n,t[n]);return e};function jN(e,t,n=bbe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(hbe({value:e[s],getValue:_be[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=c9(c9({},i[o]),s[o]):i[o]=s[o]}),i),{})}function f9(e,t){return typeof e=="function"?e(t):e}function Sbe(e,t,n){const r=Vi(),{css:i,cx:s}=pX();return Array.isArray(e)?s(n,i(jN(t,r)),e.map(o=>i(f9(o,r)))):s(n,i(f9(e,r)),i(jN(t,r)))}var xbe=Object.defineProperty,hT=Object.getOwnPropertySymbols,IX=Object.prototype.hasOwnProperty,CX=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?xbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ibe=(e,t)=>{for(var n in t||(t={}))IX.call(t,n)&&d9(e,n,t[n]);if(hT)for(var n of hT(t))CX.call(t,n)&&d9(e,n,t[n]);return e},Cbe=(e,t)=>{var n={};for(var r in e)IX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hT)for(var r of hT(e))t.indexOf(r)<0&&CX.call(e,r)&&(n[r]=e[r]);return n};const AX=b.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=Cbe(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=dd(a),c=i||"div";return $.createElement(c,Ibe({ref:t,className:Sbe(o,u,r),style:s},l))});AX.displayName="@mantine/core/Box";const st=AX;var Abe=Object.defineProperty,Pbe=Object.defineProperties,Obe=Object.getOwnPropertyDescriptors,h9=Object.getOwnPropertySymbols,Rbe=Object.prototype.hasOwnProperty,Nbe=Object.prototype.propertyIsEnumerable,p9=(e,t,n)=>t in e?Abe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m9=(e,t)=>{for(var n in t||(t={}))Rbe.call(t,n)&&p9(e,n,t[n]);if(h9)for(var n of h9(t))Nbe.call(t,n)&&p9(e,n,t[n]);return e},kbe=(e,t)=>Pbe(e,Obe(t)),Dbe=ft(e=>({root:kbe(m9(m9({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),$be=Object.defineProperty,pT=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,OX=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?$be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lbe=(e,t)=>{for(var n in t||(t={}))PX.call(t,n)&&g9(e,n,t[n]);if(pT)for(var n of pT(t))OX.call(t,n)&&g9(e,n,t[n]);return e},Mbe=(e,t)=>{var n={};for(var r in e)PX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&OX.call(e,r)&&(n[r]=e[r]);return n};const RX=b.forwardRef((e,t)=>{const n=qe("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=Mbe(n,["className","component","unstyled"]),{classes:a,cx:u}=Dbe(null,{name:"UnstyledButton",unstyled:s});return $.createElement(st,Lbe({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});RX.displayName="@mantine/core/UnstyledButton";const gC=RX;var Fbe=Object.defineProperty,jbe=Object.defineProperties,Bbe=Object.getOwnPropertyDescriptors,mT=Object.getOwnPropertySymbols,NX=Object.prototype.hasOwnProperty,kX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?Fbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ed=(e,t)=>{for(var n in t||(t={}))NX.call(t,n)&&y9(e,n,t[n]);if(mT)for(var n of mT(t))kX.call(t,n)&&y9(e,n,t[n]);return e},wO=(e,t)=>jbe(e,Bbe(t)),Ube=(e,t)=>{var n={};for(var r in e)NX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&kX.call(e,r)&&(n[r]=e[r]);return n};function Vbe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function EO(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Cb=typeof window<"u"&&window.requestAnimationFrame;function zbe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=b.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,u]=b.useState(r?{}:o),l=p=>{Ic.flushSync(()=>u(p))},c=p=>{l(g=>Ed(Ed({},g),p))};function f(p){return{transition:`height ${e||Vbe(p)}ms ${t}`}}io(()=>{Cb(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Cb(()=>{const p=EO(i);c(wO(Ed({},f(p)),{height:p}))})}:()=>{const p=EO(i);c(wO(Ed({},f(p)),{willChange:"height",height:p})),Cb(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const g=EO(i);g===a.height?l({}):c({height:g}),n()}else a.height===s&&(l(o),n())};function h(p={}){var g=p,{style:y={},refKey:m="ref"}=g,v=Ube(g,["style","refKey"]);const _=v[m];return wO(Ed({"aria-hidden":!r},v),{[m]:EX(i,_),onTransitionEnd:d,style:Ed(Ed({boxSizing:"border-box"},y),a)})}return h}var Hbe=Object.defineProperty,gT=Object.getOwnPropertySymbols,DX=Object.prototype.hasOwnProperty,$X=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?Hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ab=(e,t)=>{for(var n in t||(t={}))DX.call(t,n)&&v9(e,n,t[n]);if(gT)for(var n of gT(t))$X.call(t,n)&&v9(e,n,t[n]);return e},Wbe=(e,t)=>{var n={};for(var r in e)DX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gT)for(var r of gT(e))t.indexOf(r)<0&&$X.call(e,r)&&(n[r]=e[r]);return n};const qbe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},LX=b.forwardRef((e,t)=>{const n=qe("Collapse",qbe,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l}=n,c=Wbe(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),f=Vi(),d=mC(),p=(f.respectReducedMotion?d:!1)?0:s,{systemStyles:g,rest:y}=dd(c),m=zbe({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:u});return p===0?i?$.createElement(st,Ab({},y),r):null:$.createElement(st,Ab({},m(Ab(Ab({style:a,ref:t},y),g))),$.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${p}ms ${o}`:"none"}},r))});LX.displayName="@mantine/core/Collapse";var Ybe=Object.defineProperty,_9=Object.getOwnPropertySymbols,Gbe=Object.prototype.hasOwnProperty,Kbe=Object.prototype.propertyIsEnumerable,b9=(e,t,n)=>t in e?Ybe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qbe=(e,t)=>{for(var n in t||(t={}))Gbe.call(t,n)&&b9(e,n,t[n]);if(_9)for(var n of _9(t))Kbe.call(t,n)&&b9(e,n,t[n]);return e};function Xbe(e){return $.createElement("svg",Qbe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),$.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Jbe=Object.defineProperty,Zbe=Object.defineProperties,ewe=Object.getOwnPropertyDescriptors,w9=Object.getOwnPropertySymbols,twe=Object.prototype.hasOwnProperty,nwe=Object.prototype.propertyIsEnumerable,E9=(e,t,n)=>t in e?Jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MX=(e,t)=>{for(var n in t||(t={}))twe.call(t,n)&&E9(e,n,t[n]);if(w9)for(var n of w9(t))nwe.call(t,n)&&E9(e,n,t[n]);return e},rwe=(e,t)=>Zbe(e,ewe(t));const ly={xs:18,sm:22,md:28,lg:34,xl:44};function iwe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:MX({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var swe=ft((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:rwe(MX({},iwe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:ly}),minHeight:e.fn.size({size:n,sizes:ly}),width:e.fn.size({size:n,sizes:ly}),minWidth:e.fn.size({size:n,sizes:ly}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),owe=Object.defineProperty,yT=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty,jX=Object.prototype.propertyIsEnumerable,T9=(e,t,n)=>t in e?owe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,awe=(e,t)=>{for(var n in t||(t={}))FX.call(t,n)&&T9(e,n,t[n]);if(yT)for(var n of yT(t))jX.call(t,n)&&T9(e,n,t[n]);return e},uwe=(e,t)=>{var n={};for(var r in e)FX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yT)for(var r of yT(e))t.indexOf(r)<0&&jX.call(e,r)&&(n[r]=e[r]);return n};function lwe(e){var t=e,{size:n,color:r}=t,i=uwe(t,["size","color"]);return $.createElement("svg",awe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),$.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},$.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var cwe=Object.defineProperty,vT=Object.getOwnPropertySymbols,BX=Object.prototype.hasOwnProperty,UX=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fwe=(e,t)=>{for(var n in t||(t={}))BX.call(t,n)&&S9(e,n,t[n]);if(vT)for(var n of vT(t))UX.call(t,n)&&S9(e,n,t[n]);return e},dwe=(e,t)=>{var n={};for(var r in e)BX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&UX.call(e,r)&&(n[r]=e[r]);return n};function hwe(e){var t=e,{size:n,color:r}=t,i=dwe(t,["size","color"]);return $.createElement("svg",fwe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),$.createElement("g",{fill:"none",fillRule:"evenodd"},$.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},$.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),$.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},$.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var pwe=Object.defineProperty,_T=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,zX=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?pwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mwe=(e,t)=>{for(var n in t||(t={}))VX.call(t,n)&&x9(e,n,t[n]);if(_T)for(var n of _T(t))zX.call(t,n)&&x9(e,n,t[n]);return e},gwe=(e,t)=>{var n={};for(var r in e)VX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&zX.call(e,r)&&(n[r]=e[r]);return n};function ywe(e){var t=e,{size:n,color:r}=t,i=gwe(t,["size","color"]);return $.createElement("svg",mwe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),$.createElement("circle",{cx:"15",cy:"15",r:"15"},$.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},$.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),$.createElement("circle",{cx:"105",cy:"15",r:"15"},$.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),$.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var vwe=Object.defineProperty,bT=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,WX=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?vwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_we=(e,t)=>{for(var n in t||(t={}))HX.call(t,n)&&I9(e,n,t[n]);if(bT)for(var n of bT(t))WX.call(t,n)&&I9(e,n,t[n]);return e},bwe=(e,t)=>{var n={};for(var r in e)HX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&WX.call(e,r)&&(n[r]=e[r]);return n};const TO={bars:lwe,oval:hwe,dots:ywe},wwe={xs:18,sm:22,md:36,lg:44,xl:58},Ewe={size:"md"};function Ac(e){const t=qe("Loader",Ewe,e),{size:n,color:r,variant:i}=t,s=bwe(t,["size","color","variant"]),o=Vi(),a=i in TO?i:o.loader;return $.createElement(st,_we({role:"presentation",component:TO[a]||TO.bars,size:o.fn.size({size:n,sizes:wwe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Ac.displayName="@mantine/core/Loader";var Twe=Object.defineProperty,wT=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,C9=(e,t,n)=>t in e?Twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A9=(e,t)=>{for(var n in t||(t={}))qX.call(t,n)&&C9(e,n,t[n]);if(wT)for(var n of wT(t))YX.call(t,n)&&C9(e,n,t[n]);return e},Swe=(e,t)=>{var n={};for(var r in e)qX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&YX.call(e,r)&&(n[r]=e[r]);return n};const xwe={color:"gray",size:"md",variant:"subtle",loading:!1},GX=b.forwardRef((e,t)=>{const n=qe("ActionIcon",xwe,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=Swe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=swe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),v=m.fn.variant({color:i,variant:u}),_=$.createElement(Ac,A9({color:v.color,size:m.fn.size({size:a,sizes:ly})-12},f));return $.createElement(gC,A9({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:s)});GX.displayName="@mantine/core/ActionIcon";const P3=GX;function KX(e){const{children:t,target:n,className:r}=qe("Portal",{},e),i=Vi(),[s,o]=b.useState(!1),a=b.useRef();return A3(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?Ic.createPortal($.createElement("div",{className:r,dir:i.dir},t),a.current):null}KX.displayName="@mantine/core/Portal";var Iwe=Object.defineProperty,ET=Object.getOwnPropertySymbols,QX=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?Iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cwe=(e,t)=>{for(var n in t||(t={}))QX.call(t,n)&&P9(e,n,t[n]);if(ET)for(var n of ET(t))XX.call(t,n)&&P9(e,n,t[n]);return e},Awe=(e,t)=>{var n={};for(var r in e)QX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&XX.call(e,r)&&(n[r]=e[r]);return n};function t1(e){var t=e,{withinPortal:n=!0,children:r}=t,i=Awe(t,["withinPortal","children"]);return n?$.createElement(KX,Cwe({},i),r):$.createElement($.Fragment,null,r)}t1.displayName="@mantine/core/OptionalPortal";var Pwe=Object.defineProperty,Owe=Object.defineProperties,Rwe=Object.getOwnPropertyDescriptors,O9=Object.getOwnPropertySymbols,Nwe=Object.prototype.hasOwnProperty,kwe=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?Pwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SO=(e,t)=>{for(var n in t||(t={}))Nwe.call(t,n)&&R9(e,n,t[n]);if(O9)for(var n of O9(t))kwe.call(t,n)&&R9(e,n,t[n]);return e},N9=(e,t)=>Owe(e,Rwe(t));function Dwe({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var $we=ft((e,{color:t,radius:n,variant:r})=>({root:SO(N9(SO({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),Dwe({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:N9(SO({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),Lwe=Object.defineProperty,k9=Object.getOwnPropertySymbols,Mwe=Object.prototype.hasOwnProperty,Fwe=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?Lwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jwe=(e,t)=>{for(var n in t||(t={}))Mwe.call(t,n)&&D9(e,n,t[n]);if(k9)for(var n of k9(t))Fwe.call(t,n)&&D9(e,n,t[n]);return e};function JX(e){return $.createElement("svg",jwe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}JX.displayName="@mantine/core/CloseIcon";var Bwe=Object.defineProperty,TT=Object.getOwnPropertySymbols,ZX=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?Bwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uwe=(e,t)=>{for(var n in t||(t={}))ZX.call(t,n)&&$9(e,n,t[n]);if(TT)for(var n of TT(t))eJ.call(t,n)&&$9(e,n,t[n]);return e},Vwe=(e,t)=>{var n={};for(var r in e)ZX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&eJ.call(e,r)&&(n[r]=e[r]);return n};const zwe={xs:12,sm:14,md:16,lg:20,xl:24},Hwe={size:"md"},tJ=b.forwardRef((e,t)=>{const n=qe("CloseButton",Hwe,e),{iconSize:r,size:i="md"}=n,s=Vwe(n,["iconSize","size"]),o=Vi(),a=r||o.fn.size({size:i,sizes:zwe});return $.createElement(P3,Uwe({size:i,ref:t},s),$.createElement(JX,{width:a,height:a}))});tJ.displayName="@mantine/core/CloseButton";const yC=tJ;var Wwe=Object.defineProperty,ST=Object.getOwnPropertySymbols,nJ=Object.prototype.hasOwnProperty,rJ=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?Wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qwe=(e,t)=>{for(var n in t||(t={}))nJ.call(t,n)&&L9(e,n,t[n]);if(ST)for(var n of ST(t))rJ.call(t,n)&&L9(e,n,t[n]);return e},Ywe=(e,t)=>{var n={};for(var r in e)nJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ST)for(var r of ST(e))t.indexOf(r)<0&&rJ.call(e,r)&&(n[r]=e[r]);return n};const Gwe={variant:"light"},iJ=b.forwardRef((e,t)=>{const n=qe("Alert",Gwe,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:g,unstyled:y}=n,m=Ywe(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=$we({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=uu(r),x=s&&`${T}-title`,w=`${T}-body`;return $.createElement(st,qwe({id:T,role:"alert","aria-labelledby":x,"aria-describedby":w,className:_(v.root,v[o],i),ref:t},m),$.createElement("div",{className:v.wrapper},c&&$.createElement("div",{className:v.icon},c),$.createElement("div",{className:v.body},s&&$.createElement("div",{className:v.title,"data-with-close-button":p||void 0},$.createElement("span",{id:x,className:v.label},s)),p&&$.createElement(yC,{className:v.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":g}),$.createElement("div",{id:w,className:v.message},a))))});iJ.displayName="@mantine/core/Alert";var Kwe=Object.defineProperty,Qwe=Object.defineProperties,Xwe=Object.getOwnPropertyDescriptors,M9=Object.getOwnPropertySymbols,Jwe=Object.prototype.hasOwnProperty,Zwe=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?Kwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N0=(e,t)=>{for(var n in t||(t={}))Jwe.call(t,n)&&F9(e,n,t[n]);if(M9)for(var n of M9(t))Zwe.call(t,n)&&F9(e,n,t[n]);return e},eEe=(e,t)=>Qwe(e,Xwe(t));function tEe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function nEe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function rEe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function iEe({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var sEe=ft((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:u,gradient:l,weight:c,transform:f,align:d,strikethrough:h,italic:p})=>{const g=e.fn.variant({variant:"gradient",gradient:l});return{root:N0(eEe(N0(N0(N0(N0({},e.fn.fontStyles()),e.fn.focusStyles()),rEe(i)),iEe({theme:e,truncate:s})),{color:nEe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:tEe({underline:u,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:f,textAlign:d,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&u===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:g.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),oEe=Object.defineProperty,xT=Object.getOwnPropertySymbols,sJ=Object.prototype.hasOwnProperty,oJ=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?oEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aEe=(e,t)=>{for(var n in t||(t={}))sJ.call(t,n)&&j9(e,n,t[n]);if(xT)for(var n of xT(t))oJ.call(t,n)&&j9(e,n,t[n]);return e},uEe=(e,t)=>{var n={};for(var r in e)sJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xT)for(var r of xT(e))t.indexOf(r)<0&&oJ.call(e,r)&&(n[r]=e[r]);return n};const lEe={variant:"text"},aJ=b.forwardRef((e,t)=>{const n=qe("Text",lEe,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,truncate:f,gradient:d,inline:h,inherit:p,underline:g,strikethrough:y,italic:m,classNames:v,styles:_,unstyled:T,span:x}=n,w=uEe(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:S,cx:I}=sEe({variant:l,color:a,size:i,lineClamp:c,truncate:f,inline:h,inherit:p,underline:g,strikethrough:y,italic:m,weight:s,transform:o,align:u,gradient:d},{unstyled:T,name:"Text"});return $.createElement(st,aEe({ref:t,className:I(S.root,{[S.gradient]:l==="gradient"},r),component:x?"span":"div"},w))});aJ.displayName="@mantine/core/Text";const ut=aJ;var cEe=ft(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),fEe=Object.defineProperty,IT=Object.getOwnPropertySymbols,uJ=Object.prototype.hasOwnProperty,lJ=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?fEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U9=(e,t)=>{for(var n in t||(t={}))uJ.call(t,n)&&B9(e,n,t[n]);if(IT)for(var n of IT(t))lJ.call(t,n)&&B9(e,n,t[n]);return e},dEe=(e,t)=>{var n={};for(var r in e)uJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IT)for(var r of IT(e))t.indexOf(r)<0&&lJ.call(e,r)&&(n[r]=e[r]);return n};const hEe={},cJ=b.forwardRef((e,t)=>{const n=qe("Anchor",hEe,e),{component:r,className:i,unstyled:s}=n,o=dEe(n,["component","className","unstyled"]),{classes:a,cx:u}=cEe(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return $.createElement(ut,U9(U9({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});cJ.displayName="@mantine/core/Anchor";const fJ=cJ,dJ=b.createContext({zIndex:1e3,fixed:!1,layout:"default"}),pEe=dJ.Provider;function hJ(){return b.useContext(dJ)}function vC(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var mEe=Object.defineProperty,gEe=Object.defineProperties,yEe=Object.getOwnPropertyDescriptors,V9=Object.getOwnPropertySymbols,vEe=Object.prototype.hasOwnProperty,_Ee=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?mEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pb=(e,t)=>{for(var n in t||(t={}))vEe.call(t,n)&&z9(e,n,t[n]);if(V9)for(var n of V9(t))_Ee.call(t,n)&&z9(e,n,t[n]);return e},H9=(e,t)=>gEe(e,yEe(t)),bEe=ft((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u,layout:l})=>{const c=typeof n=="object"&&n!==null?vC(n,e).reduce((d,[h,p])=>(d[`@media (min-width: ${h}px)`]={width:p,minWidth:p},d),{}):null,f=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:H9(Pb(Pb(H9(Pb(Pb({},e.fn.fontStyles()),i),{top:l==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(l==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),f),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const wEe=bEe;var EEe=Object.defineProperty,CT=Object.getOwnPropertySymbols,pJ=Object.prototype.hasOwnProperty,mJ=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?EEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q9=(e,t)=>{for(var n in t||(t={}))pJ.call(t,n)&&W9(e,n,t[n]);if(CT)for(var n of CT(t))mJ.call(t,n)&&W9(e,n,t[n]);return e},TEe=(e,t)=>{var n={};for(var r in e)pJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CT)for(var r of CT(e))t.indexOf(r)<0&&mJ.call(e,r)&&(n[r]=e[r]);return n};const O3=b.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,v=TEe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=hJ(),{classes:T,cx:x,theme:w}=wEe({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:u,zIndex:a||_.zIndex||Cc("app"),section:g,withBorder:c,layout:_.layout},{classNames:d,styles:h,name:y,unstyled:m}),S=vC(r,w).reduce((I,[k,D])=>(I[`@media (min-width: ${k}px)`]={[`--mantine-${g}-width`]:`${D}px`},I),{});return $.createElement(st,q9({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:x(T.root,f)},v),p,$.createElement(mX,{styles:()=>({":root":q9({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},S)})}))});O3.displayName="@mantine/core/HorizontalSection";var SEe=Object.defineProperty,AT=Object.getOwnPropertySymbols,gJ=Object.prototype.hasOwnProperty,yJ=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?SEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xEe=(e,t)=>{for(var n in t||(t={}))gJ.call(t,n)&&Y9(e,n,t[n]);if(AT)for(var n of AT(t))yJ.call(t,n)&&Y9(e,n,t[n]);return e},IEe=(e,t)=>{var n={};for(var r in e)gJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AT)for(var r of AT(e))t.indexOf(r)<0&&yJ.call(e,r)&&(n[r]=e[r]);return n};const vJ=b.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=IEe(n,["children","grow","sx"]);return $.createElement(st,xEe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Sh(s)]},o),r)});vJ.displayName="@mantine/core/Section";const _J=vJ;var CEe=Object.defineProperty,G9=Object.getOwnPropertySymbols,AEe=Object.prototype.hasOwnProperty,PEe=Object.prototype.propertyIsEnumerable,K9=(e,t,n)=>t in e?CEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OEe=(e,t)=>{for(var n in t||(t={}))AEe.call(t,n)&&K9(e,n,t[n]);if(G9)for(var n of G9(t))PEe.call(t,n)&&K9(e,n,t[n]);return e};const REe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},My=b.forwardRef((e,t)=>{const n=qe("Navbar",REe,e);return $.createElement(O3,OEe({section:"navbar",__staticSelector:"Navbar",ref:t},n))});My.Section=_J;My.displayName="@mantine/core/Navbar";var NEe=Object.defineProperty,kEe=Object.defineProperties,DEe=Object.getOwnPropertyDescriptors,Q9=Object.getOwnPropertySymbols,$Ee=Object.prototype.hasOwnProperty,LEe=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?NEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xO=(e,t)=>{for(var n in t||(t={}))$Ee.call(t,n)&&X9(e,n,t[n]);if(Q9)for(var n of Q9(t))LEe.call(t,n)&&X9(e,n,t[n]);return e},J9=(e,t)=>kEe(e,DEe(t)),MEe=ft((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?vC(t,e).reduce((u,[l,c])=>(u[`@media (min-width: ${l}px)`]={height:c,minHeight:c},u),{}):null;return{root:J9(xO(J9(xO(xO({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const FEe=MEe;var jEe=Object.defineProperty,PT=Object.getOwnPropertySymbols,bJ=Object.prototype.hasOwnProperty,wJ=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?jEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ej=(e,t)=>{for(var n in t||(t={}))bJ.call(t,n)&&Z9(e,n,t[n]);if(PT)for(var n of PT(t))wJ.call(t,n)&&Z9(e,n,t[n]);return e},BEe=(e,t)=>{var n={};for(var r in e)bJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PT)for(var r of PT(e))t.indexOf(r)<0&&wJ.call(e,r)&&(n[r]=e[r]);return n};const EJ=b.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f,section:d,unstyled:h,__staticSelector:p}=n,g=BEe(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=hJ(),m=f||y.zIndex||Cc("app"),{classes:v,cx:_,theme:T}=FEe({height:a,fixed:y.fixed||u,position:c,zIndex:typeof m=="number"&&y.layout==="default"?m+1:m,layout:y.layout,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),x=typeof a=="object"&&a!==null?vC(a,T).reduce((w,[S,I])=>(w[`@media (min-width: ${S}px)`]={[`--mantine-${d}-height`]:`${I}px`},w),{}):null;return $.createElement(st,ej({component:d==="header"?"header":"footer",className:_(v.root,i),ref:t},g),r,$.createElement(mX,{styles:()=>({":root":ej({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},x)})}))});EJ.displayName="@mantine/core/VerticalSection";var UEe=Object.defineProperty,VEe=Object.defineProperties,zEe=Object.getOwnPropertyDescriptors,tj=Object.getOwnPropertySymbols,HEe=Object.prototype.hasOwnProperty,WEe=Object.prototype.propertyIsEnumerable,nj=(e,t,n)=>t in e?UEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qEe=(e,t)=>{for(var n in t||(t={}))HEe.call(t,n)&&nj(e,n,t[n]);if(tj)for(var n of tj(t))WEe.call(t,n)&&nj(e,n,t[n]);return e},YEe=(e,t)=>VEe(e,zEe(t));const GEe={fixed:!1,position:{top:0,left:0,right:0}},TJ=b.forwardRef((e,t)=>{const n=qe("Header",GEe,e);return $.createElement(EJ,YEe(qEe({section:"header",__staticSelector:"Header"},n),{ref:t}))});TJ.displayName="@mantine/core/Header";var KEe=Object.defineProperty,rj=Object.getOwnPropertySymbols,QEe=Object.prototype.hasOwnProperty,XEe=Object.prototype.propertyIsEnumerable,ij=(e,t,n)=>t in e?KEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JEe=(e,t)=>{for(var n in t||(t={}))QEe.call(t,n)&&ij(e,n,t[n]);if(rj)for(var n of rj(t))XEe.call(t,n)&&ij(e,n,t[n]);return e};const ZEe={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},R3=b.forwardRef((e,t)=>{const n=qe("Aside",ZEe,e);return $.createElement(O3,JEe({section:"aside",__staticSelector:"Aside",ref:t},n))});R3.Section=_J;R3.displayName="@mantine/core/Aside";var eTe=Object.defineProperty,sj=Object.getOwnPropertySymbols,tTe=Object.prototype.hasOwnProperty,nTe=Object.prototype.propertyIsEnumerable,oj=(e,t,n)=>t in e?eTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rTe=(e,t)=>{for(var n in t||(t={}))tTe.call(t,n)&&oj(e,n,t[n]);if(sj)for(var n of sj(t))nTe.call(t,n)&&oj(e,n,t[n]);return e};function iTe(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var sTe=ft((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:rTe({flex:1,width:"100vw",boxSizing:"border-box"},iTe(t,e))})),oTe=Object.defineProperty,OT=Object.getOwnPropertySymbols,SJ=Object.prototype.hasOwnProperty,xJ=Object.prototype.propertyIsEnumerable,aj=(e,t,n)=>t in e?oTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aTe=(e,t)=>{for(var n in t||(t={}))SJ.call(t,n)&&aj(e,n,t[n]);if(OT)for(var n of OT(t))xJ.call(t,n)&&aj(e,n,t[n]);return e},uTe=(e,t)=>{var n={};for(var r in e)SJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OT)for(var r of OT(e))t.indexOf(r)<0&&xJ.call(e,r)&&(n[r]=e[r]);return n};const lTe={fixed:!0,padding:"md"},IJ=b.forwardRef((e,t)=>{const n=qe("AppShell",lTe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m,layout:v}=n,_=uTe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:T,cx:x}=sTe({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?$.createElement($.Fragment,null,r):$.createElement(pEe,{value:{fixed:u,zIndex:l,layout:v}},$.createElement(st,aTe({className:x(T.root,h),ref:t},_),s,$.createElement("div",{className:T.body},i,$.createElement("main",{className:T.main},r),a),o))});IJ.displayName="@mantine/core/AppShell";const Ob={xs:1,sm:2,md:3,lg:4,xl:5};function Rb(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var cTe=ft((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Ob})}px ${n} ${Rb(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Ob})}px ${n} ${Rb(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Ob}),borderTopColor:Rb(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Ob}),borderLeftColor:Rb(e,r),borderLeftStyle:n}})),fTe=Object.defineProperty,dTe=Object.defineProperties,hTe=Object.getOwnPropertyDescriptors,RT=Object.getOwnPropertySymbols,CJ=Object.prototype.hasOwnProperty,AJ=Object.prototype.propertyIsEnumerable,uj=(e,t,n)=>t in e?fTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lj=(e,t)=>{for(var n in t||(t={}))CJ.call(t,n)&&uj(e,n,t[n]);if(RT)for(var n of RT(t))AJ.call(t,n)&&uj(e,n,t[n]);return e},pTe=(e,t)=>dTe(e,hTe(t)),mTe=(e,t)=>{var n={};for(var r in e)CJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RT)for(var r of RT(e))t.indexOf(r)<0&&AJ.call(e,r)&&(n[r]=e[r]);return n};const gTe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},NT=b.forwardRef((e,t)=>{const n=qe("Divider",gTe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=mTe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=cTe({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=s==="vertical",v=s==="horizontal",_=!!a&&v,T=!(l!=null&&l.color);return $.createElement(st,lj({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:v,[g.withLabel]:_},r),role:"separator"},p),_&&$.createElement(ut,pTe(lj({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(g.label,g[u],{[g.labelDefaultStyles]:T})}),a))});NT.displayName="@mantine/core/Divider";var yTe=Object.defineProperty,vTe=Object.defineProperties,_Te=Object.getOwnPropertyDescriptors,cj=Object.getOwnPropertySymbols,bTe=Object.prototype.hasOwnProperty,wTe=Object.prototype.propertyIsEnumerable,fj=(e,t,n)=>t in e?yTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dj=(e,t)=>{for(var n in t||(t={}))bTe.call(t,n)&&fj(e,n,t[n]);if(cj)for(var n of cj(t))wTe.call(t,n)&&fj(e,n,t[n]);return e},ETe=(e,t)=>vTe(e,_Te(t)),TTe=ft((e,{size:t})=>({item:ETe(dj({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":dj({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),STe=Object.defineProperty,hj=Object.getOwnPropertySymbols,xTe=Object.prototype.hasOwnProperty,ITe=Object.prototype.propertyIsEnumerable,pj=(e,t,n)=>t in e?STe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CTe=(e,t)=>{for(var n in t||(t={}))xTe.call(t,n)&&pj(e,n,t[n]);if(hj)for(var n of hj(t))ITe.call(t,n)&&pj(e,n,t[n]);return e};function N3({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=TTe({size:f},{classNames:n,styles:r,unstyled:g,name:o}),m=[],v=[];let _=null;const T=(w,S)=>{const I=typeof i=="function"?i(w.value):!1;return $.createElement(c,CTe({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===S||void 0,"data-selected":!w.disabled&&I||void 0,selected:I,onMouseEnter:()=>a(S),id:`${s}-${S}`,role:"option",tabIndex:-1,"aria-selected":t===S,ref:k=>{l&&l.current&&(l.current[w.value]=k)},onMouseDown:w.disabled?null:k=>{k.preventDefault(),u(w)},disabled:w.disabled},w))};let x=null;if(e.forEach((w,S)=>{w.creatable?_=S:w.group?(x!==w.group&&(x=w.group,v.push($.createElement("div",{className:y.separator,key:`__mantine-divider-${S}`},$.createElement(NT,{classNames:{label:y.separatorLabel},label:w.group})))),v.push(T(w,S))):m.push(T(w,S))}),h){const w=e[_];m.push($.createElement("div",{key:ube(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:S=>{S.preventDefault(),u(w)},tabIndex:-1,ref:S=>{l&&l.current&&(l.current[w.value]=S)}},p))}return v.length>0&&m.length>0&&m.unshift($.createElement("div",{className:y.separator,key:"empty-group-separator"},$.createElement(NT,null))),v.length>0||m.length>0?$.createElement($.Fragment,null,v,m):$.createElement(ut,{size:f,unstyled:g,className:y.nothingFound},d)}N3.displayName="@mantine/core/SelectItems";var ATe=Object.defineProperty,kT=Object.getOwnPropertySymbols,PJ=Object.prototype.hasOwnProperty,OJ=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?ATe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PTe=(e,t)=>{for(var n in t||(t={}))PJ.call(t,n)&&mj(e,n,t[n]);if(kT)for(var n of kT(t))OJ.call(t,n)&&mj(e,n,t[n]);return e},OTe=(e,t)=>{var n={};for(var r in e)PJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kT)for(var r of kT(e))t.indexOf(r)<0&&OJ.call(e,r)&&(n[r]=e[r]);return n};const k3=b.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=OTe(n,["label","value"]);return $.createElement("div",PTe({ref:t},s),r||i)});k3.displayName="@mantine/core/DefaultItem";function RTe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function RJ(...e){return t=>e.forEach(n=>RTe(n,t))}function Kh(...e){return b.useCallback(RJ(...e),e)}const NJ=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),s=i.find(kTe);if(s){const o=s.props.children,a=i.map(u=>u===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:u);return b.createElement(BN,gr({},r,{ref:t}),b.isValidElement(o)?b.cloneElement(o,void 0,a):null)}return b.createElement(BN,gr({},r,{ref:t}),n)});NJ.displayName="Slot";const BN=b.forwardRef((e,t)=>{const{children:n,...r}=e;return b.isValidElement(n)?b.cloneElement(n,{...DTe(r,n.props),ref:RJ(t,n.ref)}):b.Children.count(n)>1?b.Children.only(null):null});BN.displayName="SlotClone";const NTe=({children:e})=>b.createElement(b.Fragment,null,e);function kTe(e){return b.isValidElement(e)&&e.type===NTe}function DTe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const $Te=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],n1=$Te.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?NJ:t;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(a,gr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),UN=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function LTe(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const r1=e=>{const{present:t,children:n}=e,r=MTe(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Kh(r.ref,i.ref);return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};r1.displayName="Presence";function MTe(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),s=b.useRef("none"),o=e?"mounted":"unmounted",[a,u]=LTe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const l=Nb(r.current);s.current=a==="mounted"?l:"none"},[a]),UN(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=Nb(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),UN(()=>{if(t){const l=f=>{const h=Nb(r.current).includes(f.animationName);f.target===t&&h&&Ic.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=Nb(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Nb(e){return(e==null?void 0:e.animationName)||"none"}function FTe(e,t=[]){let n=[];function r(s,o){const a=b.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][u])||a,y=b.useMemo(()=>p,Object.values(p));return b.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=b.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,jTe(i,...t)]}function jTe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ld(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const BTe=b.createContext(void 0);function UTe(e){const t=b.useContext(BTe);return e||t||"ltr"}function VTe(e,[t,n]){return Math.min(n,Math.max(t,e))}function dh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function zTe(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const kJ="ScrollArea",[DJ,Cyt]=FTe(kJ),[HTe,_a]=DJ(kJ),WTe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=b.useState(null),[l,c]=b.useState(null),[f,d]=b.useState(null),[h,p]=b.useState(null),[g,y]=b.useState(null),[m,v]=b.useState(0),[_,T]=b.useState(0),[x,w]=b.useState(!1),[S,I]=b.useState(!1),k=Kh(t,M=>u(M)),D=UTe(i);return b.createElement(HTe,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:w,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:T},b.createElement(n1.div,gr({dir:D},o,{ref:k,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),qTe="ScrollAreaViewport",YTe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=_a(qTe,n),o=b.useRef(null),a=Kh(t,o,s.onViewportChange);return b.createElement(b.Fragment,null,b.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),b.createElement(n1.div,gr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),b.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Pc="ScrollAreaScrollbar",GTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_a(Pc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return b.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?b.createElement(KTe,gr({},r,{ref:t,forceMount:n})):i.type==="scroll"?b.createElement(QTe,gr({},r,{ref:t,forceMount:n})):i.type==="auto"?b.createElement($J,gr({},r,{ref:t,forceMount:n})):i.type==="always"?b.createElement(D3,gr({},r,{ref:t})):null}),KTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_a(Pc,e.__scopeScrollArea),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),b.createElement(r1,{present:n||s},b.createElement($J,gr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),QTe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_a(Pc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=bC(()=>u("SCROLL_END"),100),[a,u]=zTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),b.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),b.createElement(r1,{present:n||a!=="hidden"},b.createElement(D3,gr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:dh(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:dh(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),$J=b.forwardRef((e,t)=>{const n=_a(Pc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=b.useState(!1),a=e.orientation==="horizontal",u=bC(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Gm(n.viewport,u),Gm(n.content,u),b.createElement(r1,{present:r||s},b.createElement(D3,gr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),D3=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=_a(Pc,e.__scopeScrollArea),s=b.useRef(null),o=b.useRef(0),[a,u]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=jJ(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return iSe(d,o.current,a,h)}return n==="horizontal"?b.createElement(XTe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=gj(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?b.createElement(JTe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=gj(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),XTe=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=_a(Pc,e.__scopeScrollArea),[o,a]=b.useState(),u=b.useRef(null),l=Kh(t,u,s.onScrollbarXChange);return b.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),b.createElement(MJ,gr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_C(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),UJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:DT(o.paddingLeft),paddingEnd:DT(o.paddingRight)}})}}))}),JTe=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=_a(Pc,e.__scopeScrollArea),[o,a]=b.useState(),u=b.useRef(null),l=Kh(t,u,s.onScrollbarYChange);return b.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),b.createElement(MJ,gr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_C(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),UJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:DT(o.paddingTop),paddingEnd:DT(o.paddingBottom)}})}}))}),[ZTe,LJ]=DJ(Pc),MJ=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=_a(Pc,n),[p,g]=b.useState(null),y=Kh(t,k=>g(k)),m=b.useRef(null),v=b.useRef(""),_=h.viewport,T=r.content-r.viewport,x=Ld(c),w=Ld(u),S=bC(f,10);function I(k){if(m.current){const D=k.clientX-m.current.left,M=k.clientY-m.current.top;l({x:D,y:M})}}return b.useEffect(()=>{const k=D=>{const M=D.target;(p==null?void 0:p.contains(M))&&x(D,T)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[_,p,T,x]),b.useEffect(w,[r,w]),Gm(p,S),Gm(h.content,S),b.createElement(ZTe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Ld(s),onThumbPointerUp:Ld(o),onThumbPositionChange:w,onThumbPointerDown:Ld(a)},b.createElement(n1.div,gr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:dh(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),m.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(k))}),onPointerMove:dh(e.onPointerMove,I),onPointerUp:dh(e.onPointerUp,k=>{const D=k.target;D.hasPointerCapture(k.pointerId)&&D.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=v.current,m.current=null})})))}),VN="ScrollAreaThumb",eSe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=LJ(VN,e.__scopeScrollArea);return b.createElement(r1,{present:n||i.hasThumb},b.createElement(tSe,gr({ref:t},r)))}),tSe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=_a(VN,n),o=LJ(VN,n),{onThumbPositionChange:a}=o,u=Kh(t,f=>o.onThumbChange(f)),l=b.useRef(),c=bC(()=>{l.current&&(l.current(),l.current=void 0)},100);return b.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=sSe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),b.createElement(n1.div,gr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dh(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:dh(e.onPointerUp,o.onThumbPointerUp)}))}),FJ="ScrollAreaCorner",nSe=b.forwardRef((e,t)=>{const n=_a(FJ,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.createElement(rSe,gr({},e,{ref:t})):null}),rSe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=_a(FJ,n),[s,o]=b.useState(0),[a,u]=b.useState(0),l=!!(s&&a);return Gm(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Gm(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?b.createElement(n1.div,gr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function DT(e){return e?parseInt(e,10):0}function jJ(e,t){const n=e/t;return isNaN(n)?0:n}function _C(e){const t=jJ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function iSe(e,t,n,r="ltr"){const i=_C(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return BJ([u,l],f)(e)}function gj(e,t,n="ltr"){const r=_C(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=VTe(e,u);return BJ([0,o],[0,a])(l)}function BJ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function UJ(e,t){return e>0&&e<t}const sSe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function bC(e,t){const n=Ld(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Gm(e,t){const n=Ld(t);UN(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const oSe=WTe,aSe=YTe,yj=GTe,vj=eSe,uSe=nSe;var lSe=ft((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),cSe=Object.defineProperty,fSe=Object.defineProperties,dSe=Object.getOwnPropertyDescriptors,$T=Object.getOwnPropertySymbols,VJ=Object.prototype.hasOwnProperty,zJ=Object.prototype.propertyIsEnumerable,_j=(e,t,n)=>t in e?cSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zN=(e,t)=>{for(var n in t||(t={}))VJ.call(t,n)&&_j(e,n,t[n]);if($T)for(var n of $T(t))zJ.call(t,n)&&_j(e,n,t[n]);return e},HJ=(e,t)=>fSe(e,dSe(t)),WJ=(e,t)=>{var n={};for(var r in e)VJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$T)for(var r of $T(e))t.indexOf(r)<0&&zJ.call(e,r)&&(n[r]=e[r]);return n};const qJ={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},wC=b.forwardRef((e,t)=>{const n=qe("ScrollArea",qJ,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,viewportProps:g}=n,y=WJ(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[m,v]=b.useState(!1),_=Vi(),{classes:T,cx:x}=lSe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:m,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return $.createElement(oSe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},$.createElement(st,zN({className:x(T.root,i)},y),$.createElement(aSe,HJ(zN({},g),{className:T.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:w})=>h({x:w.scrollLeft,y:w.scrollTop}):void 0}),r),$.createElement(yj,{orientation:"horizontal",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},$.createElement(vj,{className:T.thumb})),$.createElement(yj,{orientation:"vertical",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},$.createElement(vj,{className:T.thumb})),$.createElement(uSe,{className:T.corner})))}),YJ=b.forwardRef((e,t)=>{const n=qe("ScrollAreaAutosize",qJ,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=WJ(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return $.createElement(st,HJ(zN({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Sh(g)]}),$.createElement(st,{sx:{display:"flex",flexDirection:"column",flex:1}},$.createElement(wC,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});YJ.displayName="@mantine/core/ScrollAreaAutosize";wC.displayName="@mantine/core/ScrollArea";wC.Autosize=YJ;const $3=wC;var hSe=Object.defineProperty,pSe=Object.defineProperties,mSe=Object.getOwnPropertyDescriptors,LT=Object.getOwnPropertySymbols,GJ=Object.prototype.hasOwnProperty,KJ=Object.prototype.propertyIsEnumerable,bj=(e,t,n)=>t in e?hSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wj=(e,t)=>{for(var n in t||(t={}))GJ.call(t,n)&&bj(e,n,t[n]);if(LT)for(var n of LT(t))KJ.call(t,n)&&bj(e,n,t[n]);return e},gSe=(e,t)=>pSe(e,mSe(t)),ySe=(e,t)=>{var n={};for(var r in e)GJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LT)for(var r of LT(e))t.indexOf(r)<0&&KJ.call(e,r)&&(n[r]=e[r]);return n};const EC=b.forwardRef((e,t)=>{var n=e,{style:r}=n,i=ySe(n,["style"]);return $.createElement($3,gSe(wj({},i),{style:wj({width:"100%"},r),viewportRef:t}),i.children)});EC.displayName="@mantine/core/SelectScrollArea";var vSe=ft(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Za=Math.min,is=Math.max,MT=Math.round,kb=Math.floor,Vf=e=>({x:e,y:e}),_Se={left:"right",right:"left",bottom:"top",top:"bottom"},bSe={start:"end",end:"start"};function HN(e,t,n){return is(e,Za(t,n))}function uc(e,t){return typeof e=="function"?e(t):e}function eu(e){return e.split("-")[0]}function $g(e){return e.split("-")[1]}function L3(e){return e==="x"?"y":"x"}function M3(e){return e==="y"?"height":"width"}function Qh(e){return["top","bottom"].includes(eu(e))?"y":"x"}function F3(e){return L3(Qh(e))}function wSe(e,t,n){n===void 0&&(n=!1);const r=$g(e),i=F3(e),s=M3(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=FT(o)),[o,FT(o)]}function ESe(e){const t=FT(e);return[WN(e),t,WN(t)]}function WN(e){return e.replace(/start|end/g,t=>bSe[t])}function TSe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function SSe(e,t,n,r){const i=$g(e);let s=TSe(eu(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(WN)))),s}function FT(e){return e.replace(/left|right|bottom|top/g,t=>_Se[t])}function xSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function j3(e){return typeof e!="number"?xSe(e):{top:e,right:e,bottom:e,left:e}}function Km(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Ej(e,t,n){let{reference:r,floating:i}=e;const s=Qh(t),o=F3(t),a=M3(o),u=eu(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch($g(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const ISe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Ej(l,r,u),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:v,y:_,data:T,reset:x}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...T}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:f}=Ej(l,d,u)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function B3(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=uc(t,e),p=j3(h),y=a[d?f==="floating"?"reference":"floating":f],m=Km(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Km(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:u}):v);return{top:(m.top-x.top+p.top)/T.y,bottom:(x.bottom-m.bottom+p.bottom)/T.y,left:(m.left-x.left+p.left)/T.x,right:(x.right-m.right+p.right)/T.x}}const CSe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=uc(e,t)||{};if(l==null)return{};const f=j3(c),d={x:n,y:r},h=F3(i),p=M3(h),g=await o.getDimensions(l),y=h==="y",m=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",T=s.reference[p]+s.reference[h]-d[h]-s.floating[p],x=d[h]-s.reference[h],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=w?w[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(w)))&&(S=a.floating[_]||s.floating[p]);const I=T/2-x/2,k=S/2-g[p]/2-1,D=Za(f[m],k),M=Za(f[v],k),O=D,B=S-g[p]-M,N=S/2-g[p]/2+I,ee=HN(O,N,B),te=!u.arrow&&$g(i)!=null&&N!==ee&&s.reference[p]/2-(N<O?D:M)-g[p]/2<0,se=te?N<O?N-O:N-B:0;return{[h]:d[h]+se,data:{[h]:ee,centerOffset:N-ee-se,...te&&{alignmentOffset:se}},reset:te}}}),ASe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=uc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=eu(i),v=eu(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(l.floating)),T=d||(v||!g?[FT(a)]:ESe(a));!d&&p!=="none"&&T.push(...SSe(a,g,p,_));const x=[a,...T],w=await B3(t,y),S=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&S.push(w[m]),f){const O=wSe(i,o,_);S.push(w[O[0]],w[O[1]])}if(I=[...I,{placement:i,overflows:S}],!S.every(O=>O<=0)){var k,D;const O=(((k=s.flip)==null?void 0:k.index)||0)+1,B=x[O];if(B)return{data:{index:O,overflows:I},reset:{placement:B}};let N=(D=I.filter(ee=>ee.overflows[0]<=0).sort((ee,te)=>ee.overflows[1]-te.overflows[1])[0])==null?void 0:D.placement;if(!N)switch(h){case"bestFit":{var M;const ee=(M=I.map(te=>[te.placement,te.overflows.filter(se=>se>0).reduce((se,X)=>se+X,0)]).sort((te,se)=>te[1]-se[1])[0])==null?void 0:M[0];ee&&(N=ee);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function QJ(e){const t=Za(...e.map(s=>s.left)),n=Za(...e.map(s=>s.top)),r=is(...e.map(s=>s.right)),i=is(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function PSe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Km(QJ(i)))}const OSe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=uc(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=PSe(c),d=Km(QJ(c)),h=j3(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(y=>u>y.left-h.left&&u<y.right+h.right&&l>y.top-h.top&&l<y.bottom+h.bottom)||d;if(f.length>=2){if(Qh(n)==="y"){const D=f[0],M=f[f.length-1],O=eu(n)==="top",B=D.top,N=M.bottom,ee=O?D.left:M.left,te=O?D.right:M.right,se=te-ee,X=N-B;return{top:B,bottom:N,left:ee,right:te,width:se,height:X,x:ee,y:B}}const y=eu(n)==="left",m=is(...f.map(D=>D.right)),v=Za(...f.map(D=>D.left)),_=f.filter(D=>y?D.left===v:D.right===m),T=_[0].top,x=_[_.length-1].bottom,w=v,S=m,I=S-w,k=x-T;return{top:T,bottom:x,left:w,right:S,width:I,height:k,x:w,y:T}}return d}const g=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function RSe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=eu(n),a=$g(n),u=Qh(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=uc(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const XJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await RSe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},NSe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:v}=y;return{x:m,y:v}}},...u}=uc(e,t),l={x:n,y:r},c=await B3(t,u),f=Qh(eu(i)),d=L3(f);let h=l[d],p=l[f];if(s){const y=d==="y"?"top":"left",m=d==="y"?"bottom":"right",v=h+c[y],_=h-c[m];h=HN(v,h,_)}if(o){const y=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=p+c[y],_=p-c[m];p=HN(v,p,_)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},kSe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=uc(e,t),c={x:n,y:r},f=Qh(i),d=L3(f);let h=c[d],p=c[f];const g=uc(a,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const _=d==="y"?"height":"width",T=s.reference[d]-s.floating[_]+y.mainAxis,x=s.reference[d]+s.reference[_]-y.mainAxis;h<T?h=T:h>x&&(h=x)}if(l){var m,v;const _=d==="y"?"width":"height",T=["top","left"].includes(eu(i)),x=s.reference[f]-s.floating[_]+(T&&((m=o.offset)==null?void 0:m[f])||0)+(T?0:y.crossAxis),w=s.reference[f]+s.reference[_]+(T?0:((v=o.offset)==null?void 0:v[f])||0)-(T?y.crossAxis:0);p<x?p=x:p>w&&(p=w)}return{[d]:h,[f]:p}}}},DSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=uc(e,t),u=await B3(t,a),l=eu(n),c=$g(n),f=Qh(n)==="y",{width:d,height:h}=r.floating;let p,g;l==="top"||l==="bottom"?(p=l,g=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=l,p=c==="end"?"top":"bottom");const y=h-u[p],m=d-u[g],v=!t.middlewareData.shift;let _=y,T=m;if(f){const w=d-u.left-u.right;T=c||v?Za(m,w):w}else{const w=h-u.top-u.bottom;_=c||v?Za(y,w):w}if(v&&!c){const w=is(u.left,0),S=is(u.right,0),I=is(u.top,0),k=is(u.bottom,0);f?T=d-2*(w!==0||S!==0?w+S:is(u.left,u.right)):_=h-2*(I!==0||k!==0?I+k:is(u.top,u.bottom))}await o({...t,availableWidth:T,availableHeight:_});const x=await i.getDimensions(s.floating);return d!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function zf(e){return JJ(e)?(e.nodeName||"").toLowerCase():"#document"}function Do(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oc(e){var t;return(t=(JJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JJ(e){return e instanceof Node||e instanceof Do(e).Node}function lc(e){return e instanceof Element||e instanceof Do(e).Element}function ll(e){return e instanceof HTMLElement||e instanceof Do(e).HTMLElement}function Tj(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Do(e).ShadowRoot}function i1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function $Se(e){return["table","td","th"].includes(zf(e))}function U3(e){const t=V3(),n=pa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function LSe(e){let t=Qm(e);for(;ll(t)&&!TC(t);){if(U3(t))return t;t=Qm(t)}return null}function V3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function TC(e){return["html","body","#document"].includes(zf(e))}function pa(e){return Do(e).getComputedStyle(e)}function SC(e){return lc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Qm(e){if(zf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tj(e)&&e.host||Oc(e);return Tj(t)?t.host:t}function ZJ(e){const t=Qm(e);return TC(t)?e.ownerDocument?e.ownerDocument.body:e.body:ll(t)&&i1(t)?t:ZJ(t)}function ec(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ZJ(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Do(i);return s?t.concat(o,o.visualViewport||[],i1(i)?i:[],o.frameElement&&n?ec(o.frameElement):[]):t.concat(i,ec(i,[],n))}function eZ(e){const t=pa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ll(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=MT(n)!==s||MT(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function z3(e){return lc(e)?e:e.contextElement}function gm(e){const t=z3(e);if(!ll(t))return Vf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=eZ(t);let o=(s?MT(n.width):n.width)/r,a=(s?MT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const MSe=Vf(0);function tZ(e){const t=Do(e);return!V3()||!t.visualViewport?MSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function FSe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Do(e)?!1:t}function xh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=z3(e);let o=Vf(1);t&&(r?lc(r)&&(o=gm(r)):o=gm(e));const a=FSe(s,n,r)?tZ(s):Vf(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Do(s),h=r&&lc(r)?Do(r):r;let p=d,g=p.frameElement;for(;g&&r&&h!==p;){const y=gm(g),m=g.getBoundingClientRect(),v=pa(g),_=m.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,T=m.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=_,l+=T,p=Do(g),g=p.frameElement}}return Km({width:c,height:f,x:u,y:l})}const jSe=[":popover-open",":modal"];function nZ(e){return jSe.some(t=>{try{return e.matches(t)}catch{return!1}})}function BSe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Oc(r),a=t?nZ(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Vf(1);const c=Vf(0),f=ll(r);if((f||!f&&!s)&&((zf(r)!=="body"||i1(o))&&(u=SC(r)),ll(r))){const d=xh(r);l=gm(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function USe(e){return Array.from(e.getClientRects())}function rZ(e){return xh(Oc(e)).left+SC(e).scrollLeft}function VSe(e){const t=Oc(e),n=SC(e),r=e.ownerDocument.body,i=is(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=is(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rZ(e);const a=-n.scrollTop;return pa(r).direction==="rtl"&&(o+=is(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function zSe(e,t){const n=Do(e),r=Oc(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=V3();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function HSe(e,t){const n=xh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ll(e)?gm(e):Vf(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function Sj(e,t,n){let r;if(t==="viewport")r=zSe(e,n);else if(t==="document")r=VSe(Oc(e));else if(lc(t))r=HSe(t,n);else{const i=tZ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Km(r)}function iZ(e,t){const n=Qm(e);return n===t||!lc(n)||TC(n)?!1:pa(n).position==="fixed"||iZ(n,t)}function WSe(e,t){const n=t.get(e);if(n)return n;let r=ec(e,[],!1).filter(a=>lc(a)&&zf(a)!=="body"),i=null;const s=pa(e).position==="fixed";let o=s?Qm(e):e;for(;lc(o)&&!TC(o);){const a=pa(o),u=U3(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||i1(o)&&!u&&iZ(e,o))?r=r.filter(c=>c!==o):i=a,o=Qm(o)}return t.set(e,r),r}function qSe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?WSe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=Sj(t,c,i);return l.top=is(f.top,l.top),l.right=Za(f.right,l.right),l.bottom=Za(f.bottom,l.bottom),l.left=is(f.left,l.left),l},Sj(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function YSe(e){const{width:t,height:n}=eZ(e);return{width:t,height:n}}function GSe(e,t,n){const r=ll(t),i=Oc(t),s=n==="fixed",o=xh(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Vf(0);if(r||!r&&!s)if((zf(t)!=="body"||i1(i))&&(a=SC(t)),r){const f=xh(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=rZ(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function xj(e,t){return!ll(e)||pa(e).position==="fixed"?null:t?t(e):e.offsetParent}function sZ(e,t){const n=Do(e);if(!ll(e)||nZ(e))return n;let r=xj(e,t);for(;r&&$Se(r)&&pa(r).position==="static";)r=xj(r,t);return r&&(zf(r)==="html"||zf(r)==="body"&&pa(r).position==="static"&&!U3(r))?n:r||LSe(e)||n}const KSe=async function(e){const t=this.getOffsetParent||sZ,n=this.getDimensions;return{reference:GSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function QSe(e){return pa(e).direction==="rtl"}const XSe={convertOffsetParentRelativeRectToViewportRelativeRect:BSe,getDocumentElement:Oc,getClippingRect:qSe,getOffsetParent:sZ,getElementRects:KSe,getClientRects:USe,getDimensions:YSe,getScale:gm,isElement:lc,isRTL:QSe};function JSe(e,t){let n=null,r;const i=Oc(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=kb(c),p=kb(i.clientWidth-(l+f)),g=kb(i.clientHeight-(c+d)),y=kb(l),v={rootMargin:-h+"px "+-p+"px "+-g+"px "+-y+"px",threshold:is(0,Za(1,u))||1};let _=!0;function T(x){const w=x[0].intersectionRatio;if(w!==u){if(!_)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(T,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,v)}n.observe(e)}return o(!0),s}function ZSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=z3(e),c=i||s?[...l?ec(l):[],...ec(t)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const f=l&&a?JSe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(m=>{let[v]=m;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,g=u?xh(e):null;u&&y();function y(){const m=xh(e);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,p=requestAnimationFrame(y)}return n(),()=>{var m;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const H3=NSe,oZ=ASe,exe=DSe,Ij=CSe,aZ=OSe,txe=kSe,nxe=(e,t,n)=>{const r=new Map,i={platform:XSe,...n},s={...i.platform,_c:r};return ISe(e,t,{...i,platform:s})},uZ=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Ij({element:t.current,padding:n}).fn(i):{}:t?Ij({element:t,padding:n}).fn(i):{}}}};var eE=typeof document<"u"?b.useLayoutEffect:b.useEffect;function jT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!jT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!jT(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Cj(e){const t=b.useRef(e);return eE(()=>{t.current=e}),t}function rxe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,u]=b.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[l,c]=b.useState(r);jT(l,r)||c(r);const f=b.useRef(null),d=b.useRef(null),h=b.useRef(a),p=Cj(s),g=Cj(i),[y,m]=b.useState(null),[v,_]=b.useState(null),T=b.useCallback(D=>{f.current!==D&&(f.current=D,m(D))},[]),x=b.useCallback(D=>{d.current!==D&&(d.current=D,_(D))},[]),w=b.useCallback(()=>{if(!f.current||!d.current)return;const D={placement:t,strategy:n,middleware:l};g.current&&(D.platform=g.current),nxe(f.current,d.current,D).then(M=>{const O={...M,isPositioned:!0};S.current&&!jT(h.current,O)&&(h.current=O,Ic.flushSync(()=>{u(O)}))})},[l,t,n,g]);eE(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,u(D=>({...D,isPositioned:!1})))},[o]);const S=b.useRef(!1);eE(()=>(S.current=!0,()=>{S.current=!1}),[]),eE(()=>{if(y&&v){if(p.current)return p.current(y,v,w);w()}},[y,v,w,p]);const I=b.useMemo(()=>({reference:f,floating:d,setReference:T,setFloating:x}),[T,x]),k=b.useMemo(()=>({reference:y,floating:v}),[y,v]);return b.useMemo(()=>({...a,update:w,refs:I,elements:k,reference:T,floating:x}),[a,w,I,k,T,x])}var Xm=typeof document<"u"?b.useLayoutEffect:b.useEffect;let IO=!1,ixe=0;const Aj=()=>"floating-ui-"+ixe++;function sxe(){const[e,t]=b.useState(()=>IO?Aj():void 0);return Xm(()=>{e==null&&t(Aj())},[]),b.useEffect(()=>{IO||(IO=!0)},[]),e}const oxe=yv.useId,Pj=oxe||sxe;function axe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const uxe=b.createContext(null),lxe=b.createContext(null),lZ=()=>{var e;return((e=b.useContext(uxe))==null?void 0:e.id)||null},W3=()=>b.useContext(lxe);function mf(e){return(e==null?void 0:e.ownerDocument)||document}function cxe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function fxe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function q3(e){return mf(e).defaultView||window}function Uu(e){return e?e instanceof q3(e).Element:!1}function cZ(e){return e?e instanceof q3(e).HTMLElement:!1}function dxe(e){if(typeof ShadowRoot>"u")return!1;const t=q3(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function hxe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(cxe())||t.test(fxe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function pxe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function fZ(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Oj(e){const t=b.useRef(e);return Xm(()=>{t.current=e}),t}const Rj="data-floating-ui-safe-polygon";function tE(e,t,n){return n&&!fZ(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const mxe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,elements:{domReference:d,floating:h},refs:p}=e,g=W3(),y=lZ(),m=Oj(i),v=Oj(r),_=b.useRef(),T=b.useRef(),x=b.useRef(),w=b.useRef(),S=b.useRef(!0),I=b.useRef(!1),k=b.useRef(()=>{}),D=b.useCallback(()=>{var N;const ee=(N=c.current.openEvent)==null?void 0:N.type;return(ee==null?void 0:ee.includes("mouse"))&&ee!=="mousedown"},[c]);b.useEffect(()=>{if(!n)return;function N(){clearTimeout(T.current),clearTimeout(w.current),S.current=!0}return f.on("dismiss",N),()=>{f.off("dismiss",N)}},[n,f]),b.useEffect(()=>{if(!n||!m.current||!u)return;function N(){D()&&l(!1)}const ee=mf(h).documentElement;return ee.addEventListener("mouseleave",N),()=>{ee.removeEventListener("mouseleave",N)}},[h,u,l,n,m,c,D]);const M=b.useCallback(function(N){N===void 0&&(N=!0);const ee=tE(v.current,"close",_.current);ee&&!x.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),ee)):N&&(clearTimeout(T.current),l(!1))},[v,l]),O=b.useCallback(()=>{k.current(),x.current=void 0},[]),B=b.useCallback(()=>{if(I.current){const N=mf(p.floating.current).body;N.style.pointerEvents="",N.removeAttribute(Rj),I.current=!1}},[p]);return b.useEffect(()=>{if(!n)return;function N(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function ee(X){if(clearTimeout(T.current),S.current=!1,s&&!fZ(_.current)||o>0&&tE(v.current,"open")===0)return;c.current.openEvent=X;const re=tE(v.current,"open",_.current);re?T.current=setTimeout(()=>{l(!0)},re):l(!0)}function te(X){if(N())return;k.current();const re=mf(h);if(clearTimeout(w.current),m.current){u||clearTimeout(T.current),x.current=m.current({...e,tree:g,x:X.clientX,y:X.clientY,onClose(){B(),O(),M()}});const A=x.current;re.addEventListener("mousemove",A),k.current=()=>{re.removeEventListener("mousemove",A)};return}M()}function se(X){N()||m.current==null||m.current({...e,tree:g,x:X.clientX,y:X.clientY,onClose(){B(),O(),M()}})(X)}if(Uu(d)){const X=d;return u&&X.addEventListener("mouseleave",se),h==null||h.addEventListener("mouseleave",se),a&&X.addEventListener("mousemove",ee,{once:!0}),X.addEventListener("mouseenter",ee),X.addEventListener("mouseleave",te),()=>{u&&X.removeEventListener("mouseleave",se),h==null||h.removeEventListener("mouseleave",se),a&&X.removeEventListener("mousemove",ee),X.removeEventListener("mouseenter",ee),X.removeEventListener("mouseleave",te)}}},[d,h,n,e,s,o,a,M,O,B,l,u,g,v,m,c]),Xm(()=>{var N;if(n&&u&&(N=m.current)!=null&&N.__options.blockPointerEvents&&D()){const se=mf(h).body;if(se.setAttribute(Rj,""),se.style.pointerEvents="none",I.current=!0,Uu(d)&&h){var ee,te;const X=d,re=g==null||(ee=g.nodesRef.current.find(A=>A.id===y))==null||(te=ee.context)==null?void 0:te.elements.floating;return re&&(re.style.pointerEvents=""),X.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{X.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,u,y,h,d,g,m,c,D]),Xm(()=>{u||(_.current=void 0,O(),B())},[u,O,B]),b.useEffect(()=>()=>{O(),clearTimeout(T.current),clearTimeout(w.current),B()},[n,O,B]),b.useMemo(()=>{if(!n)return{};function N(ee){_.current=ee.pointerType}return{reference:{onPointerDown:N,onPointerEnter:N,onMouseMove(){u||o===0||(clearTimeout(w.current),w.current=setTimeout(()=>{S.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),M(!1)}}}},[f,n,o,u,l,M])},dZ=b.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),hZ=()=>b.useContext(dZ),gxe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=b.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=b.useRef(null),a=b.useCallback(u=>{s({currentId:u})},[]);return Xm(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),b.createElement(dZ.Provider,{value:b.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},yxe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:u,timeoutMs:l}=hZ();b.useEffect(()=>{s&&(u({delay:{open:1,close:tE(a,"close")}}),s!==i&&r(!1))},[i,r,u,s,a]),b.useEffect(()=>{function c(){r(!1),u({delay:a,currentId:null})}if(!n&&s===i)if(l){const f=window.setTimeout(c,l);return()=>{clearTimeout(f)}}else c()},[n,u,s,i,r,a,l]),b.useEffect(()=>{n&&o(i)},[n,o,i])};function vxe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Nj(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dxe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function CO(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function _xe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const bxe=yv.useInsertionEffect,wxe=bxe||(e=>e());function pZ(e){const t=b.useRef(()=>{});return wxe(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function nE(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Exe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Txe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Sxe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},xxe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:u},dataRef:l}=e,{enabled:c=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:y=!1,bubbles:m=!0}=t===void 0?{}:t;const v=W3(),_=lZ()!=null,T=pZ(typeof d=="function"?d:()=>!1),x=typeof d=="function"?T:d,w=b.useRef(!1),{escapeKeyBubbles:S,outsidePressBubbles:I}=Sxe(m);return b.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=S,l.current.__outsidePressBubbles=I;function k(N){if(N.key==="Escape"){const ee=v?CO(v.nodesRef.current,s):[];if(ee.length>0){let te=!0;if(ee.forEach(se=>{var X;if((X=se.context)!=null&&X.open&&!se.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function D(N){const ee=w.current;if(w.current=!1,ee||typeof x=="function"&&!x(N))return;const te=_xe(N);if(cZ(te)&&u){const re=u.ownerDocument.defaultView||window,A=te.scrollWidth>te.clientWidth,H=te.scrollHeight>te.clientHeight;let G=H&&N.offsetX>te.clientWidth;if(H&&re.getComputedStyle(te).direction==="rtl"&&(G=N.offsetX<=te.offsetWidth-te.clientWidth),G||A&&N.offsetY>te.clientHeight)return}const se=v&&CO(v.nodesRef.current,s).some(re=>{var A;return nE(N,(A=re.context)==null?void 0:A.elements.floating)});if(nE(N,u)||nE(N,a)||se)return;const X=v?CO(v.nodesRef.current,s):[];if(X.length>0){let re=!0;if(X.forEach(A=>{var H;if((H=A.context)!=null&&H.open&&!A.context.dataRef.current.__outsidePressBubbles){re=!1;return}}),!re)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:hxe(N)||pxe(N)}}),r(!1)}function M(){r(!1)}const O=mf(u);f&&O.addEventListener("keydown",k),x&&O.addEventListener(h,D);let B=[];return y&&(Uu(a)&&(B=ec(a)),Uu(u)&&(B=B.concat(ec(u))),!Uu(o)&&o&&o.contextElement&&(B=B.concat(ec(o.contextElement)))),B=B.filter(N=>{var ee;return N!==((ee=O.defaultView)==null?void 0:ee.visualViewport)}),B.forEach(N=>{N.addEventListener("scroll",M,{passive:!0})}),()=>{f&&O.removeEventListener("keydown",k),x&&O.removeEventListener(h,D),B.forEach(N=>{N.removeEventListener("scroll",M)})}},[l,u,a,o,f,x,h,i,v,s,n,r,y,c,S,I,_]),b.useEffect(()=>{w.current=!1},[x,h]),b.useMemo(()=>c?{reference:{[Exe[g]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Txe[h]]:()=>{w.current=!0}}}:{},[c,i,p,h,g,r])},Ixe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:u}}=e,{enabled:l=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const f=b.useRef(""),d=b.useRef(!1),h=b.useRef();return b.useEffect(()=>{if(!l)return;const g=mf(a).defaultView||window;function y(){!n&&cZ(u)&&u===vxe(mf(u))&&(d.current=!0)}return g.addEventListener("blur",y),()=>{g.removeEventListener("blur",y)}},[a,u,n,l]),b.useEffect(()=>{if(!l)return;function p(g){(g.type==="referencePress"||g.type==="escapeKey")&&(d.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,l]),b.useEffect(()=>()=>{clearTimeout(h.current)},[]),b.useMemo(()=>l?{reference:{onPointerDown(p){let{pointerType:g}=p;f.current=g,d.current=!!(g&&c)},onMouseLeave(){d.current=!1},onFocus(p){var g;d.current||p.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&i.current.openEvent&&nE(i.current.openEvent,u)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){d.current=!1;const g=p.relatedTarget,y=Uu(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{Nj(o.floating.current,g)||Nj(u,g)||y||r(!1)})}}}:{},[l,c,u,o,i,r])},Cxe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=Pj(),o=Pj();return b.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function Y3(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=rxe(e),s=W3(),o=b.useRef(null),a=b.useRef({}),u=b.useState(()=>axe())[0],[l,c]=b.useState(null),f=b.useCallback(m=>{const v=Uu(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;i.refs.setReference(v)},[i.refs]),d=b.useCallback(m=>{(Uu(m)||m===null)&&(o.current=m,c(m)),(Uu(i.refs.reference.current)||i.refs.reference.current===null||m!==null&&!Uu(m))&&i.refs.setReference(m)},[i.refs]),h=b.useMemo(()=>({...i.refs,setReference:d,setPositionReference:f,domReference:o}),[i.refs,d,f]),p=b.useMemo(()=>({...i.elements,domReference:l}),[i.elements,l]),g=pZ(n),y=b.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:u,open:t,onOpenChange:g}),[i,r,u,t,g,h,p]);return Xm(()=>{const m=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);m&&(m.context=y)}),b.useMemo(()=>({...i,context:y,refs:h,reference:d,positionReference:f}),[i,h,y,d,f])}function AO(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const Axe=function(e){e===void 0&&(e=[]);const t=e,n=b.useCallback(s=>AO(s,e,"reference"),t),r=b.useCallback(s=>AO(s,e,"floating"),t),i=b.useCallback(s=>AO(s,e,"item"),e.map(s=>s==null?void 0:s.item));return b.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function mZ({opened:e,floating:t,positionDependencies:n}){const[r,i]=b.useState(0);b.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return ZSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),io(()=>{t.update()},n),io(()=>{i(s=>s+1)},[e])}function Pxe(e){const t=[XJ(e.offset)];return e.middlewares.shift&&t.push(H3({limiter:txe()})),e.middlewares.flip&&t.push(oZ()),e.middlewares.inline&&t.push(aZ()),t.push(uZ({element:e.arrowRef,padding:e.arrowOffset})),t}function Oxe(e){const[t,n]=ha({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=Y3({placement:e.position,middleware:[...Pxe(e),...e.width==="target"?[exe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return mZ({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),io(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const gZ={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Rxe,yZ]=tC(gZ.context);var Nxe=Object.defineProperty,kxe=Object.defineProperties,Dxe=Object.getOwnPropertyDescriptors,BT=Object.getOwnPropertySymbols,vZ=Object.prototype.hasOwnProperty,_Z=Object.prototype.propertyIsEnumerable,kj=(e,t,n)=>t in e?Nxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Db=(e,t)=>{for(var n in t||(t={}))vZ.call(t,n)&&kj(e,n,t[n]);if(BT)for(var n of BT(t))_Z.call(t,n)&&kj(e,n,t[n]);return e},$xe=(e,t)=>kxe(e,Dxe(t)),Lxe=(e,t)=>{var n={};for(var r in e)vZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BT)for(var r of BT(e))t.indexOf(r)<0&&_Z.call(e,r)&&(n[r]=e[r]);return n};const Mxe={refProp:"ref",popupType:"dialog"},bZ=b.forwardRef((e,t)=>{const n=qe("PopoverTarget",Mxe,e),{children:r,refProp:i,popupType:s}=n,o=Lxe(n,["children","refProp","popupType"]);if(!J_(r))throw new Error(gZ.children);const a=o,u=yZ(),l=va(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return b.cloneElement(r,Db($xe(Db(Db(Db({},a),c),u.targetProps),{className:HQ(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});bZ.displayName="@mantine/core/PopoverTarget";var Fxe=ft((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const jxe=Fxe;var Bxe=Object.defineProperty,Dj=Object.getOwnPropertySymbols,Uxe=Object.prototype.hasOwnProperty,Vxe=Object.prototype.propertyIsEnumerable,$j=(e,t,n)=>t in e?Bxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pp=(e,t)=>{for(var n in t||(t={}))Uxe.call(t,n)&&$j(e,n,t[n]);if(Dj)for(var n of Dj(t))Vxe.call(t,n)&&$j(e,n,t[n]);return e};const Lj={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function wZ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Ib?pp(pp(pp({transitionProperty:Ib[e].transitionProperty},i),Ib[e].common),Ib[e][Lj[t]]):null:pp(pp(pp({transitionProperty:e.transitionProperty},i),e.common),e[Lj[t]])}function EZ({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Vi(),l=mC(),c=u.respectReducedMotion?l:!1,[f,d]=b.useState(r?"entered":"exited");let h=c?0:e;const p=b.useRef(-1),g=y=>{const m=y?i:s,v=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return io(()=>{g(r)},[r]),b.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function xC({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=EZ({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?$.createElement($.Fragment,null,i({})):null:f==="exited"?null:$.createElement($.Fragment,null,i(wZ({transition:e,duration:c,state:f,timingFunction:d})))}xC.displayName="@mantine/core/Transition";function TZ({children:e,active:t=!0,refProp:n="ref"}){const r=bX(t),i=va(r,e==null?void 0:e.ref);return J_(e)?b.cloneElement(e,{[n]:i}):e}TZ.displayName="@mantine/core/FocusTrap";var zxe=Object.defineProperty,Hxe=Object.defineProperties,Wxe=Object.getOwnPropertyDescriptors,Mj=Object.getOwnPropertySymbols,qxe=Object.prototype.hasOwnProperty,Yxe=Object.prototype.propertyIsEnumerable,Fj=(e,t,n)=>t in e?zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t)=>{for(var n in t||(t={}))qxe.call(t,n)&&Fj(e,n,t[n]);if(Mj)for(var n of Mj(t))Yxe.call(t,n)&&Fj(e,n,t[n]);return e},$b=(e,t)=>Hxe(e,Wxe(t));function jj(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Bj(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const Gxe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Kxe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:u}){const[l,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[Gxe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?$b(Fc(Fc({},f),jj(c,a,r,s)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?$b(Fc(Fc({},f),jj(c,a,r,s)),{left:d,borderRight:0,borderTop:0}):l==="top"?$b(Fc(Fc({},f),Bj(c,o,r,s,u)),{bottom:d,borderTop:0,borderLeft:0}):l==="bottom"?$b(Fc(Fc({},f),Bj(c,o,r,s,u)),{top:d,borderBottom:0,borderRight:0}):{}}var Qxe=Object.defineProperty,Xxe=Object.defineProperties,Jxe=Object.getOwnPropertyDescriptors,UT=Object.getOwnPropertySymbols,SZ=Object.prototype.hasOwnProperty,xZ=Object.prototype.propertyIsEnumerable,Uj=(e,t,n)=>t in e?Qxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zxe=(e,t)=>{for(var n in t||(t={}))SZ.call(t,n)&&Uj(e,n,t[n]);if(UT)for(var n of UT(t))xZ.call(t,n)&&Uj(e,n,t[n]);return e},eIe=(e,t)=>Xxe(e,Jxe(t)),tIe=(e,t)=>{var n={};for(var r in e)SZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UT)for(var r of UT(e))t.indexOf(r)<0&&xZ.call(e,r)&&(n[r]=e[r]);return n};const G3=b.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,visible:l,arrowX:c,arrowY:f}=n,d=tIe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Vi();return l?$.createElement("div",eIe(Zxe({},d),{ref:t,style:Kxe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,dir:h.dir,arrowX:c,arrowY:f})})):null});G3.displayName="@mantine/core/FloatingArrow";var nIe=Object.defineProperty,rIe=Object.defineProperties,iIe=Object.getOwnPropertyDescriptors,VT=Object.getOwnPropertySymbols,IZ=Object.prototype.hasOwnProperty,CZ=Object.prototype.propertyIsEnumerable,Vj=(e,t,n)=>t in e?nIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lb=(e,t)=>{for(var n in t||(t={}))IZ.call(t,n)&&Vj(e,n,t[n]);if(VT)for(var n of VT(t))CZ.call(t,n)&&Vj(e,n,t[n]);return e},zj=(e,t)=>rIe(e,iIe(t)),sIe=(e,t)=>{var n={};for(var r in e)IZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VT)for(var r of VT(e))t.indexOf(r)<0&&CZ.call(e,r)&&(n[r]=e[r]);return n};const oIe={};function AZ(e){const t=qe("PopoverDropdown",oIe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=sIe(t,["style","className","children","onKeyDownCapture"]),a=yZ(),{classes:u,cx:l}=jxe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=gX({opened:a.opened,shouldReturnFocus:a.returnFocus}),f=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:$.createElement(t1,{withinPortal:a.withinPortal},$.createElement(xC,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},d=>{var h,p;return $.createElement(TZ,{active:a.trapFocus},$.createElement(st,Lb(zj(Lb({},f),{tabIndex:-1,key:a.placement,ref:a.floating,style:zj(Lb(Lb({},n),d),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:l(u.dropdown,r),onKeyDownCapture:wve(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,$.createElement(G3,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:u.arrow})))}))}AZ.displayName="@mantine/core/PopoverDropdown";function PZ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var Hj=Object.getOwnPropertySymbols,aIe=Object.prototype.hasOwnProperty,uIe=Object.prototype.propertyIsEnumerable,lIe=(e,t)=>{var n={};for(var r in e)aIe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hj)for(var r of Hj(e))t.indexOf(r)<0&&uIe.call(e,r)&&(n[r]=e[r]);return n};const cIe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Cc("popover"),__staticSelector:"Popover",width:"max-content"};function Ts(e){var t,n,r,i,s,o;const a=b.useRef(null),u=qe("Popover",cIe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:v,withArrow:_,arrowSize:T,arrowOffset:x,arrowRadius:w,arrowPosition:S,unstyled:I,classNames:k,styles:D,closeOnClickOutside:M,withinPortal:O,closeOnEscape:B,clickOutsideEvents:N,trapFocus:ee,onClose:te,onOpen:se,onChange:X,zIndex:re,radius:A,shadow:H,id:G,defaultOpened:P,exitTransitionDuration:R,__staticSelector:L,withRoles:Y,disabled:le,returnFocus:ce}=u,de=lIe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,we]=b.useState(null),[ye,We]=b.useState(null),Qe=uu(G),gt=Vi(),De=Oxe({middlewares:v,width:m,position:PZ(gt.dir,c),offset:f+(_?T/2:0),arrowRef:a,arrowOffset:x,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:P,onChange:X,onOpen:se,onClose:te});b1e(()=>M&&De.onClose(),N,[me,ye]);const Ie=b.useCallback(Yt=>{we(Yt),De.floating.reference(Yt)},[De.floating.reference]),Ye=b.useCallback(Yt=>{We(Yt),De.floating.floating(Yt)},[De.floating.floating]);return $.createElement(Rxe,{value:{returnFocus:ce,disabled:le,controlled:De.controlled,reference:Ie,floating:Ye,x:De.floating.x,y:De.floating.y,arrowX:(r=(n=(t=De.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=De.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:De.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:R,width:m,withArrow:_,arrowSize:T,arrowOffset:x,arrowRadius:w,arrowPosition:S,placement:De.floating.placement,trapFocus:ee,withinPortal:O,zIndex:re,radius:A,shadow:H,closeOnEscape:B,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${Qe}-target`,getDropdownId:()=>`${Qe}-dropdown`,withRoles:Y,targetProps:de,__staticSelector:L,classNames:k,styles:D,unstyled:I}},l)}Ts.Target=bZ;Ts.Dropdown=AZ;Ts.displayName="@mantine/core/Popover";var fIe=Object.defineProperty,zT=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,RZ=Object.prototype.propertyIsEnumerable,Wj=(e,t,n)=>t in e?fIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dIe=(e,t)=>{for(var n in t||(t={}))OZ.call(t,n)&&Wj(e,n,t[n]);if(zT)for(var n of zT(t))RZ.call(t,n)&&Wj(e,n,t[n]);return e},hIe=(e,t)=>{var n={};for(var r in e)OZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zT)for(var r of zT(e))t.indexOf(r)<0&&RZ.call(e,r)&&(n[r]=e[r]);return n};function pIe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=hIe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=vSe(null,{name:u,styles:l,classNames:c,unstyled:f});return $.createElement(Ts.Dropdown,dIe({p:0,onMouseDown:p=>p.preventDefault()},d),$.createElement("div",{style:{maxHeight:i,display:"flex"}},$.createElement(st,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==EC?"auto":void 0},"data-combobox-popover":!0,ref:a},$.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Rf({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return $.createElement(Ts,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Rf.Target=Ts.Target;Rf.Dropdown=pIe;var mIe=Object.defineProperty,gIe=Object.defineProperties,yIe=Object.getOwnPropertyDescriptors,HT=Object.getOwnPropertySymbols,NZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,qj=(e,t,n)=>t in e?mIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mb=(e,t)=>{for(var n in t||(t={}))NZ.call(t,n)&&qj(e,n,t[n]);if(HT)for(var n of HT(t))kZ.call(t,n)&&qj(e,n,t[n]);return e},vIe=(e,t)=>gIe(e,yIe(t)),_Ie=(e,t)=>{var n={};for(var r in e)NZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HT)for(var r of HT(e))t.indexOf(r)<0&&kZ.call(e,r)&&(n[r]=e[r]);return n};function DZ(e,t,n){const r=qe(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:v,size:_,style:T,inputContainer:x,inputWrapperOrder:w,withAsterisk:S}=r,I=_Ie(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),k=uu(v),{systemStyles:D,rest:M}=dd(I),O=Mb({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:l,id:k,size:_,style:T,inputContainer:x,inputWrapperOrder:w,withAsterisk:S},m);return vIe(Mb({},M),{classNames:u,styles:l,unstyled:f,wrapperProps:Mb(Mb({},O),D),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:k,size:_,__staticSelector:d,invalid:!!o}})}var bIe=ft((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),wIe=Object.defineProperty,WT=Object.getOwnPropertySymbols,$Z=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,Yj=(e,t,n)=>t in e?wIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EIe=(e,t)=>{for(var n in t||(t={}))$Z.call(t,n)&&Yj(e,n,t[n]);if(WT)for(var n of WT(t))LZ.call(t,n)&&Yj(e,n,t[n]);return e},TIe=(e,t)=>{var n={};for(var r in e)$Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WT)for(var r of WT(e))t.indexOf(r)<0&&LZ.call(e,r)&&(n[r]=e[r]);return n};const SIe={labelElement:"label",size:"sm"},K3=b.forwardRef((e,t)=>{const n=qe("InputLabel",SIe,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=TIe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:g}=bIe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return $.createElement(st,EIe({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&$.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});K3.displayName="@mantine/core/InputLabel";var xIe=ft((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),IIe=Object.defineProperty,qT=Object.getOwnPropertySymbols,MZ=Object.prototype.hasOwnProperty,FZ=Object.prototype.propertyIsEnumerable,Gj=(e,t,n)=>t in e?IIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CIe=(e,t)=>{for(var n in t||(t={}))MZ.call(t,n)&&Gj(e,n,t[n]);if(qT)for(var n of qT(t))FZ.call(t,n)&&Gj(e,n,t[n]);return e},AIe=(e,t)=>{var n={};for(var r in e)MZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qT)for(var r of qT(e))t.indexOf(r)<0&&FZ.call(e,r)&&(n[r]=e[r]);return n};const PIe={size:"sm"},Q3=b.forwardRef((e,t)=>{const n=qe("InputError",PIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=AIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=xIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return $.createElement(ut,CIe({className:d(f.error,i),ref:t},c),r)});Q3.displayName="@mantine/core/InputError";var OIe=ft((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),RIe=Object.defineProperty,YT=Object.getOwnPropertySymbols,jZ=Object.prototype.hasOwnProperty,BZ=Object.prototype.propertyIsEnumerable,Kj=(e,t,n)=>t in e?RIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NIe=(e,t)=>{for(var n in t||(t={}))jZ.call(t,n)&&Kj(e,n,t[n]);if(YT)for(var n of YT(t))BZ.call(t,n)&&Kj(e,n,t[n]);return e},kIe=(e,t)=>{var n={};for(var r in e)jZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YT)for(var r of YT(e))t.indexOf(r)<0&&BZ.call(e,r)&&(n[r]=e[r]);return n};const DIe={size:"sm"},X3=b.forwardRef((e,t)=>{const n=qe("InputDescription",DIe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=kIe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=OIe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return $.createElement(ut,NIe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});X3.displayName="@mantine/core/InputDescription";const UZ=b.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),$Ie=UZ.Provider,LIe=()=>b.useContext(UZ);function MIe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var FIe=Object.defineProperty,jIe=Object.defineProperties,BIe=Object.getOwnPropertyDescriptors,Qj=Object.getOwnPropertySymbols,UIe=Object.prototype.hasOwnProperty,VIe=Object.prototype.propertyIsEnumerable,Xj=(e,t,n)=>t in e?FIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zIe=(e,t)=>{for(var n in t||(t={}))UIe.call(t,n)&&Xj(e,n,t[n]);if(Qj)for(var n of Qj(t))VIe.call(t,n)&&Xj(e,n,t[n]);return e},HIe=(e,t)=>jIe(e,BIe(t)),WIe=ft(e=>({root:HIe(zIe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),qIe=Object.defineProperty,YIe=Object.defineProperties,GIe=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertySymbols,VZ=Object.prototype.hasOwnProperty,zZ=Object.prototype.propertyIsEnumerable,Jj=(e,t,n)=>t in e?qIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jc=(e,t)=>{for(var n in t||(t={}))VZ.call(t,n)&&Jj(e,n,t[n]);if(GT)for(var n of GT(t))zZ.call(t,n)&&Jj(e,n,t[n]);return e},Zj=(e,t)=>YIe(e,GIe(t)),KIe=(e,t)=>{var n={};for(var r in e)VZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GT)for(var r of GT(e))t.indexOf(r)<0&&zZ.call(e,r)&&(n[r]=e[r]);return n};const QIe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},HZ=b.forwardRef((e,t)=>{const n=qe("InputWrapper",QIe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:v,unstyled:_,inputWrapperOrder:T,withAsterisk:x}=n,w=KIe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:S,cx:I}=WIe(null,{classNames:p,styles:g,name:["InputWrapper",v],unstyled:_}),k={classNames:p,styles:g,unstyled:_,size:y,__staticSelector:v},D=typeof x=="boolean"?x:o,M=a?`${a}-error`:h==null?void 0:h.id,O=a?`${a}-description`:d==null?void 0:d.id,N=`${!!u&&typeof u!="boolean"?M:""} ${l?O:""}`,ee=N.trim().length>0?N.trim():void 0,te=i&&$.createElement(K3,jc(jc({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:D},k),f),i),se=l&&$.createElement(X3,Zj(jc(jc({key:"description"},d),k),{size:(d==null?void 0:d.size)||k.size,id:(d==null?void 0:d.id)||O}),l),X=$.createElement(b.Fragment,{key:"input"},m(s)),re=typeof u!="boolean"&&u&&$.createElement(Q3,Zj(jc(jc({},h),k),{size:(h==null?void 0:h.size)||k.size,key:"error",id:(h==null?void 0:h.id)||M}),u),A=T.map(H=>{switch(H){case"label":return te;case"input":return X;case"description":return se;case"error":return re;default:return null}});return $.createElement($Ie,{value:jc({describedBy:ee},MIe(T,{hasDescription:!!se,hasError:!!re}))},$.createElement(st,jc({className:I(S.root,r),ref:t},w),A))});HZ.displayName="@mantine/core/InputWrapper";var XIe=Object.defineProperty,KT=Object.getOwnPropertySymbols,WZ=Object.prototype.hasOwnProperty,qZ=Object.prototype.propertyIsEnumerable,eB=(e,t,n)=>t in e?XIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JIe=(e,t)=>{for(var n in t||(t={}))WZ.call(t,n)&&eB(e,n,t[n]);if(KT)for(var n of KT(t))qZ.call(t,n)&&eB(e,n,t[n]);return e},ZIe=(e,t)=>{var n={};for(var r in e)WZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KT)for(var r of KT(e))t.indexOf(r)<0&&qZ.call(e,r)&&(n[r]=e[r]);return n};const eCe={},YZ=b.forwardRef((e,t)=>{const n=qe("InputPlaceholder",eCe,e),{sx:r}=n,i=ZIe(n,["sx"]);return $.createElement(st,JIe({component:"span",sx:[s=>s.fn.placeholderStyles(),...Sh(r)],ref:t},i))});YZ.displayName="@mantine/core/InputPlaceholder";var tCe=Object.defineProperty,nCe=Object.defineProperties,rCe=Object.getOwnPropertyDescriptors,tB=Object.getOwnPropertySymbols,iCe=Object.prototype.hasOwnProperty,sCe=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?tCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fb=(e,t)=>{for(var n in t||(t={}))iCe.call(t,n)&&nB(e,n,t[n]);if(tB)for(var n of tB(t))sCe.call(t,n)&&nB(e,n,t[n]);return e},PO=(e,t)=>nCe(e,rCe(t));const Vs={xs:30,sm:36,md:42,lg:50,xl:60};function oCe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var aCe=ft((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Vs}),paddingLeft:e.fn.size({size:t,sizes:Vs})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Vs})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:Fb(PO(Fb(PO(Fb({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Vs}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Vs})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":PO(Fb({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),oCe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Vs})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Vs}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),uCe=Object.defineProperty,lCe=Object.defineProperties,cCe=Object.getOwnPropertyDescriptors,QT=Object.getOwnPropertySymbols,GZ=Object.prototype.hasOwnProperty,KZ=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?uCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jb=(e,t)=>{for(var n in t||(t={}))GZ.call(t,n)&&rB(e,n,t[n]);if(QT)for(var n of QT(t))KZ.call(t,n)&&rB(e,n,t[n]);return e},iB=(e,t)=>lCe(e,cCe(t)),fCe=(e,t)=>{var n={};for(var r in e)GZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QT)for(var r of QT(e))t.indexOf(r)<0&&KZ.call(e,r)&&(n[r]=e[r]);return n};const dCe={rightSectionWidth:36,size:"sm",variant:"default"},Xh=b.forwardRef((e,t)=>{const n=qe("Input",dCe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:v,__staticSelector:_,multiline:T,sx:x,unstyled:w,pointer:S}=n,I=fCe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:k,offsetTop:D,describedBy:M}=LIe(),{classes:O,cx:B}=aCe({radius:p,size:g,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:k,offsetTop:D,pointer:S},{classNames:m,styles:v,name:["Input",_],unstyled:w}),{systemStyles:N,rest:ee}=dd(I);return $.createElement(st,jb(jb({className:B(O.wrapper,r),sx:x,style:l},N),y),u&&$.createElement("div",{className:O.icon},u),$.createElement(st,iB(jb({component:"input"},ee),{ref:t,required:s,"aria-invalid":i,"aria-describedby":M,disabled:o,className:B(O[`${a}Variant`],O.input,{[O.withIcon]:u,[O.invalid]:i,[O.disabled]:o})})),d&&$.createElement("div",iB(jb({},h),{className:O.rightSection}),d))});Xh.displayName="@mantine/core/Input";Xh.Wrapper=HZ;Xh.Label=K3;Xh.Description=X3;Xh.Error=Q3;Xh.Placeholder=YZ;const so=Xh;var hCe=Object.defineProperty,pCe=Object.defineProperties,mCe=Object.getOwnPropertyDescriptors,sB=Object.getOwnPropertySymbols,gCe=Object.prototype.hasOwnProperty,yCe=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?hCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OO=(e,t)=>{for(var n in t||(t={}))gCe.call(t,n)&&oB(e,n,t[n]);if(sB)for(var n of sB(t))yCe.call(t,n)&&oB(e,n,t[n]);return e},vCe=(e,t)=>pCe(e,mCe(t));const RO={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},_Ce={xs:4,sm:4,md:6,lg:8,xl:10};function bCe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:_Ce});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var wCe=ft((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in RO?RO[n]:RO.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:OO(vCe(OO(OO({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),bCe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),ECe=Object.defineProperty,XT=Object.getOwnPropertySymbols,QZ=Object.prototype.hasOwnProperty,XZ=Object.prototype.propertyIsEnumerable,aB=(e,t,n)=>t in e?ECe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TCe=(e,t)=>{for(var n in t||(t={}))QZ.call(t,n)&&aB(e,n,t[n]);if(XT)for(var n of XT(t))XZ.call(t,n)&&aB(e,n,t[n]);return e},SCe=(e,t)=>{var n={};for(var r in e)QZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XT)for(var r of XT(e))t.indexOf(r)<0&&XZ.call(e,r)&&(n[r]=e[r]);return n};const xCe={variant:"light",size:"md",radius:"xl"},JZ=b.forwardRef((e,t)=>{const n=qe("Badge",xCe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=SCe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:v}=wCe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return $.createElement(st,TCe({className:v(m.root,r),ref:t},y),l&&$.createElement("span",{className:m.leftSection},l),$.createElement("span",{className:m.inner},a),c&&$.createElement("span",{className:m.rightSection},c))});JZ.displayName="@mantine/core/Badge";const ICe=JZ;var CCe=ft((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),ACe=Object.defineProperty,JT=Object.getOwnPropertySymbols,ZZ=Object.prototype.hasOwnProperty,eee=Object.prototype.propertyIsEnumerable,uB=(e,t,n)=>t in e?ACe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PCe=(e,t)=>{for(var n in t||(t={}))ZZ.call(t,n)&&uB(e,n,t[n]);if(JT)for(var n of JT(t))eee.call(t,n)&&uB(e,n,t[n]);return e},OCe=(e,t)=>{var n={};for(var r in e)ZZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JT)for(var r of JT(e))t.indexOf(r)<0&&eee.call(e,r)&&(n[r]=e[r]);return n};const RCe={orientation:"horizontal",buttonBorderWidth:1},tee=b.forwardRef((e,t)=>{const n=qe("ButtonGroup",RCe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=OCe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=CCe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return $.createElement(st,PCe({className:l(u.root,r),ref:t},a))});tee.displayName="@mantine/core/ButtonGroup";var NCe=Object.defineProperty,kCe=Object.defineProperties,DCe=Object.getOwnPropertyDescriptors,lB=Object.getOwnPropertySymbols,$Ce=Object.prototype.hasOwnProperty,LCe=Object.prototype.propertyIsEnumerable,cB=(e,t,n)=>t in e?NCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Md=(e,t)=>{for(var n in t||(t={}))$Ce.call(t,n)&&cB(e,n,t[n]);if(lB)for(var n of lB(t))LCe.call(t,n)&&cB(e,n,t[n]);return e},qN=(e,t)=>kCe(e,DCe(t));const YN={xs:{height:Vs.xs,paddingLeft:14,paddingRight:14},sm:{height:Vs.sm,paddingLeft:18,paddingRight:18},md:{height:Vs.md,paddingLeft:22,paddingRight:22},lg:{height:Vs.lg,paddingLeft:26,paddingRight:26},xl:{height:Vs.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function MCe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return YN[`compact-${t}`];const i=YN[t];return qN(Md({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const FCe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function jCe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Md({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var BCe=ft((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:qN(Md(qN(Md(Md(Md(Md({},MCe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),FCe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),jCe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),UCe=Object.defineProperty,ZT=Object.getOwnPropertySymbols,nee=Object.prototype.hasOwnProperty,ree=Object.prototype.propertyIsEnumerable,fB=(e,t,n)=>t in e?UCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dB=(e,t)=>{for(var n in t||(t={}))nee.call(t,n)&&fB(e,n,t[n]);if(ZT)for(var n of ZT(t))ree.call(t,n)&&fB(e,n,t[n]);return e},VCe=(e,t)=>{var n={};for(var r in e)nee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZT)for(var r of ZT(e))t.indexOf(r)<0&&ree.call(e,r)&&(n[r]=e[r]);return n};const zCe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},J3=b.forwardRef((e,t)=>{const n=qe("Button",zCe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:v,gradient:_,classNames:T,styles:x,unstyled:w}=n,S=VCe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:k,theme:D}=BCe({radius:h,color:s,size:i,fullWidth:f,compact:g,gradient:_,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:T,styles:x}),M=D.fn.variant({color:s,variant:d}),O=$.createElement(Ac,dB({color:M.color,size:D.fn.size({size:i,sizes:YN}).height/2},v));return $.createElement(gC,dB({className:k(I.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},S),$.createElement("div",{className:I.inner},(l||y&&m==="left")&&$.createElement("span",{className:k(I.icon,I.leftIcon)},y&&m==="left"?O:l),y&&m==="center"&&$.createElement("span",{className:I.centerLoader},O),$.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&m==="right")&&$.createElement("span",{className:k(I.icon,I.rightIcon)},y&&m==="right"?O:c)))});J3.displayName="@mantine/core/Button";J3.Group=tee;const _i=J3;var HCe=ft((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),WCe=Object.defineProperty,eS=Object.getOwnPropertySymbols,iee=Object.prototype.hasOwnProperty,see=Object.prototype.propertyIsEnumerable,hB=(e,t,n)=>t in e?WCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qCe=(e,t)=>{for(var n in t||(t={}))iee.call(t,n)&&hB(e,n,t[n]);if(eS)for(var n of eS(t))see.call(t,n)&&hB(e,n,t[n]);return e},YCe=(e,t)=>{var n={};for(var r in e)iee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eS)for(var r of eS(e))t.indexOf(r)<0&&see.call(e,r)&&(n[r]=e[r]);return n};const GCe={},oee=b.forwardRef((e,t)=>{const n=qe("Paper",GCe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=YCe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=HCe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return $.createElement(st,qCe({className:f(c.root,r),ref:t},l),i)});oee.displayName="@mantine/core/Paper";const aee=oee,uee=b.createContext({padding:0}),KCe=uee.Provider,QCe=()=>b.useContext(uee).padding;var XCe=ft((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const JCe=XCe;var ZCe=Object.defineProperty,tS=Object.getOwnPropertySymbols,lee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?ZCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eAe=(e,t)=>{for(var n in t||(t={}))lee.call(t,n)&&pB(e,n,t[n]);if(tS)for(var n of tS(t))cee.call(t,n)&&pB(e,n,t[n]);return e},tAe=(e,t)=>{var n={};for(var r in e)lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&cee.call(e,r)&&(n[r]=e[r]);return n};const nAe={withBorder:!1,inheritPadding:!1},fee=b.forwardRef((e,t)=>{const n=qe("CardSection",nAe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=tAe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:u,cx:l}=JCe({padding:QCe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return $.createElement(st,eAe({className:l(u.cardSection,r),ref:t},a))});fee.displayName="@mantine/core/CardSection";const dee=fee;var rAe=ft(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),iAe=Object.defineProperty,nS=Object.getOwnPropertySymbols,hee=Object.prototype.hasOwnProperty,pee=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?iAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sAe=(e,t)=>{for(var n in t||(t={}))hee.call(t,n)&&mB(e,n,t[n]);if(nS)for(var n of nS(t))pee.call(t,n)&&mB(e,n,t[n]);return e},oAe=(e,t)=>{var n={};for(var r in e)hee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nS)for(var r of nS(e))t.indexOf(r)<0&&pee.call(e,r)&&(n[r]=e[r]);return n};const aAe={p:"md"},Z3=b.forwardRef((e,t)=>{const n=qe("Card",aAe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=oAe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=rAe(null,{name:"Card",unstyled:a}),f=b.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===dee?b.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return $.createElement(KCe,{value:{padding:i}},$.createElement(aee,sAe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});Z3.Section=dee;Z3.displayName="@mantine/core/Card";const uAe=Z3;var lAe=Object.defineProperty,rS=Object.getOwnPropertySymbols,mee=Object.prototype.hasOwnProperty,gee=Object.prototype.propertyIsEnumerable,gB=(e,t,n)=>t in e?lAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cAe=(e,t)=>{for(var n in t||(t={}))mee.call(t,n)&&gB(e,n,t[n]);if(rS)for(var n of rS(t))gee.call(t,n)&&gB(e,n,t[n]);return e},fAe=(e,t)=>{var n={};for(var r in e)mee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&gee.call(e,r)&&(n[r]=e[r]);return n};const yee=b.forwardRef((e,t)=>{const n=qe("Center",{},e),{inline:r,sx:i}=n,s=fAe(n,["inline","sx"]);return $.createElement(st,cAe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Sh(i)]},s))});yee.displayName="@mantine/core/Center";const ma=yee,vee=b.createContext(null),dAe=vee.Provider,hAe=()=>b.useContext(vee);function pAe(e){return b.Children.toArray(e).filter(Boolean)}const mAe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var gAe=ft((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:mAe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const yAe=gAe;var vAe=Object.defineProperty,iS=Object.getOwnPropertySymbols,_ee=Object.prototype.hasOwnProperty,bee=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?vAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ae=(e,t)=>{for(var n in t||(t={}))_ee.call(t,n)&&yB(e,n,t[n]);if(iS)for(var n of iS(t))bee.call(t,n)&&yB(e,n,t[n]);return e},bAe=(e,t)=>{var n={};for(var r in e)_ee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&bee.call(e,r)&&(n[r]=e[r]);return n};const wAe={position:"left",spacing:"md"},jr=b.forwardRef((e,t)=>{const n=qe("Group",wAe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=bAe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=pAe(o),{classes:h,cx:p}=yAe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return $.createElement(st,_Ae({className:p(h.root,r),ref:t},f),d)});jr.displayName="@mantine/core/Group";var EAe=ft((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),TAe=Object.defineProperty,sS=Object.getOwnPropertySymbols,wee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?TAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SAe=(e,t)=>{for(var n in t||(t={}))wee.call(t,n)&&vB(e,n,t[n]);if(sS)for(var n of sS(t))Eee.call(t,n)&&vB(e,n,t[n]);return e},xAe=(e,t)=>{var n={};for(var r in e)wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sS)for(var r of sS(e))t.indexOf(r)<0&&Eee.call(e,r)&&(n[r]=e[r]);return n};const IAe={spacing:"md",align:"stretch",justify:"flex-start"},Br=b.forwardRef((e,t)=>{const n=qe("Stack",IAe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=xAe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=EAe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return $.createElement(st,SAe({className:c(l.root,i),ref:t},u))});Br.displayName="@mantine/core/Stack";function Tee({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?$.createElement(jr,{pt:t,spacing:e,role:i,unstyled:s},r):$.createElement(Br,{pt:t,spacing:e,role:i,unstyled:s},r)}var CAe=Object.defineProperty,oS=Object.getOwnPropertySymbols,See=Object.prototype.hasOwnProperty,xee=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?CAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bB=(e,t)=>{for(var n in t||(t={}))See.call(t,n)&&_B(e,n,t[n]);if(oS)for(var n of oS(t))xee.call(t,n)&&_B(e,n,t[n]);return e},AAe=(e,t)=>{var n={};for(var r in e)See.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oS)for(var r of oS(e))t.indexOf(r)<0&&xee.call(e,r)&&(n[r]=e[r]);return n};const PAe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},Iee=b.forwardRef((e,t)=>{const n=qe("CheckboxGroup",PAe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=AAe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=ha({value:i,defaultValue:s,finalValue:[],onChange:o}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(v=>v!==m):[...h,m])};return $.createElement(dAe,{value:{value:h,onChange:g,size:l}},$.createElement(so.Wrapper,bB(bB({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),$.createElement(Tee,{spacing:u,orientation:a,offset:f},r)))});Iee.displayName="@mantine/core/CheckboxGroup";var OAe=Object.defineProperty,aS=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Aee=Object.prototype.propertyIsEnumerable,wB=(e,t,n)=>t in e?OAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GN=(e,t)=>{for(var n in t||(t={}))Cee.call(t,n)&&wB(e,n,t[n]);if(aS)for(var n of aS(t))Aee.call(t,n)&&wB(e,n,t[n]);return e},RAe=(e,t)=>{var n={};for(var r in e)Cee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aS)for(var r of aS(e))t.indexOf(r)<0&&Aee.call(e,r)&&(n[r]=e[r]);return n};function NAe(e){return $.createElement("svg",GN({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function kAe(e){var t=e,{indeterminate:n}=t,r=RAe(t,["indeterminate"]);return n?$.createElement("svg",GN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),$.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):$.createElement(NAe,GN({},r))}var DAe=Object.defineProperty,$Ae=Object.defineProperties,LAe=Object.getOwnPropertyDescriptors,EB=Object.getOwnPropertySymbols,MAe=Object.prototype.hasOwnProperty,FAe=Object.prototype.propertyIsEnumerable,TB=(e,t,n)=>t in e?DAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jAe=(e,t)=>{for(var n in t||(t={}))MAe.call(t,n)&&TB(e,n,t[n]);if(EB)for(var n of EB(t))FAe.call(t,n)&&TB(e,n,t[n]);return e},BAe=(e,t)=>$Ae(e,LAe(t));const UAe={xs:16,sm:20,md:24,lg:30,xl:36},VAe={xs:8,sm:10,md:14,lg:16,xl:20};var zAe=ft((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:UAe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:VAe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:BAe(jAe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const HAe=zAe;var WAe=Object.defineProperty,qAe=Object.defineProperties,YAe=Object.getOwnPropertyDescriptors,SB=Object.getOwnPropertySymbols,GAe=Object.prototype.hasOwnProperty,KAe=Object.prototype.propertyIsEnumerable,xB=(e,t,n)=>t in e?WAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QAe=(e,t)=>{for(var n in t||(t={}))GAe.call(t,n)&&xB(e,n,t[n]);if(SB)for(var n of SB(t))KAe.call(t,n)&&xB(e,n,t[n]);return e},XAe=(e,t)=>qAe(e,YAe(t));const JAe={xs:16,sm:20,md:24,lg:30,xl:36};var ZAe=ft((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:XAe(QAe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:JAe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),ePe=Object.defineProperty,uS=Object.getOwnPropertySymbols,Pee=Object.prototype.hasOwnProperty,Oee=Object.prototype.propertyIsEnumerable,IB=(e,t,n)=>t in e?ePe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tPe=(e,t)=>{for(var n in t||(t={}))Pee.call(t,n)&&IB(e,n,t[n]);if(uS)for(var n of uS(t))Oee.call(t,n)&&IB(e,n,t[n]);return e},nPe=(e,t)=>{var n={};for(var r in e)Pee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uS)for(var r of uS(e))t.indexOf(r)<0&&Oee.call(e,r)&&(n[r]=e[r]);return n};function e6(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=nPe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=ZAe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return $.createElement(st,tPe({className:m(y.root,r)},g),$.createElement("div",{className:m(y.body)},a,$.createElement("div",{className:y.labelWrapper},u&&$.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&$.createElement(so.Description,{className:y.description},l),d&&d!=="boolean"&&$.createElement(so.Error,{className:y.error},d))))}e6.displayName="@mantine/core/InlineInput";var rPe=Object.defineProperty,lS=Object.getOwnPropertySymbols,Ree=Object.prototype.hasOwnProperty,Nee=Object.prototype.propertyIsEnumerable,CB=(e,t,n)=>t in e?rPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bb=(e,t)=>{for(var n in t||(t={}))Ree.call(t,n)&&CB(e,n,t[n]);if(lS)for(var n of lS(t))Nee.call(t,n)&&CB(e,n,t[n]);return e},iPe=(e,t)=>{var n={};for(var r in e)Ree.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lS)for(var r of lS(e))t.indexOf(r)<0&&Nee.call(e,r)&&(n[r]=e[r]);return n};const sPe={size:"sm",transitionDuration:100,icon:kAe,labelPosition:"right"},cS=b.forwardRef((e,t)=>{const n=qe("Checkbox",sPe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:v,icon:_,unstyled:T,labelPosition:x,description:w,error:S}=n,I=iPe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),k=hAe(),D=uu(f),{systemStyles:M,rest:O}=dd(I),{classes:B}=HAe({size:(k==null?void 0:k.size)||d,radius:h,color:u,transitionDuration:v,labelPosition:x,error:!!S,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:T}),N=k?{checked:k.value.includes(O.value),onChange:k.onChange}:{};return $.createElement(e6,Bb(Bb({className:r,sx:s,style:i,id:D,size:(k==null?void 0:k.size)||d,labelPosition:x,label:l,description:w,error:S,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:T,"data-checked":N.checked||void 0},M),p),$.createElement("div",{className:B.inner},$.createElement("input",Bb(Bb({id:D,ref:t,type:"checkbox",className:B.input,checked:o,disabled:a},O),N)),$.createElement(_,{indeterminate:c,className:B.icon})))});cS.displayName="@mantine/core/Checkbox";cS.Group=Iee;var oPe=Object.defineProperty,aPe=Object.defineProperties,uPe=Object.getOwnPropertyDescriptors,AB=Object.getOwnPropertySymbols,lPe=Object.prototype.hasOwnProperty,cPe=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?oPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fPe=(e,t)=>{for(var n in t||(t={}))lPe.call(t,n)&&PB(e,n,t[n]);if(AB)for(var n of AB(t))cPe.call(t,n)&&PB(e,n,t[n]);return e},dPe=(e,t)=>aPe(e,uPe(t)),hPe=ft((e,{size:t,radius:n})=>{const r=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{root:dPe(fPe({},e.fn.focusStyles()),{width:t,height:t,WebkitTapHighlightColor:"transparent",border:0,borderRadius:e.fn.size({size:n,sizes:e.radius}),appearance:"none",WebkitAppearance:"none",padding:0,position:"relative",overflow:"hidden"}),overlay:{position:"absolute",borderRadius:e.fn.size({size:n,sizes:e.radius}),top:0,left:0,right:0,bottom:0},children:{display:"inline-flex",justifyContent:"center",alignItems:"center"},shadowOverlay:{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset",zIndex:1},alphaOverlay:{backgroundImage:`linear-gradient(45deg, ${r} 25%, transparent 25%), linear-gradient(-45deg, ${r} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${r} 75%), linear-gradient(-45deg, ${e.colorScheme==="dark"?e.colors.dark[7]:e.white} 75%, ${r} 75%)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"}}}),pPe=Object.defineProperty,fS=Object.getOwnPropertySymbols,kee=Object.prototype.hasOwnProperty,Dee=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?pPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mPe=(e,t)=>{for(var n in t||(t={}))kee.call(t,n)&&OB(e,n,t[n]);if(fS)for(var n of fS(t))Dee.call(t,n)&&OB(e,n,t[n]);return e},gPe=(e,t)=>{var n={};for(var r in e)kee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fS)for(var r of fS(e))t.indexOf(r)<0&&Dee.call(e,r)&&(n[r]=e[r]);return n};const yPe={size:25,radius:25,withShadow:!0},$ee=b.forwardRef((e,t)=>{const n=qe("ColorSwatch",yPe,e),{color:r,size:i,radius:s,className:o,children:a,classNames:u,styles:l,unstyled:c,withShadow:f}=n,d=gPe(n,["color","size","radius","className","children","classNames","styles","unstyled","withShadow"]),{classes:h,cx:p}=hPe({radius:s,size:i},{classNames:u,styles:l,unstyled:c,name:"ColorSwatch"});return $.createElement(st,mPe({className:p(h.root,o),ref:t},d),$.createElement("div",{className:p(h.alphaOverlay,h.overlay)}),f&&$.createElement("div",{className:p(h.shadowOverlay,h.overlay)}),$.createElement("div",{className:h.overlay,style:{backgroundColor:r}}),$.createElement("div",{className:p(h.children,h.overlay)},a))});$ee.displayName="@mantine/core/ColorSwatch";const RB=$ee;var vPe=ft((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),_Pe=Object.defineProperty,dS=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Mee=Object.prototype.propertyIsEnumerable,NB=(e,t,n)=>t in e?_Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bPe=(e,t)=>{for(var n in t||(t={}))Lee.call(t,n)&&NB(e,n,t[n]);if(dS)for(var n of dS(t))Mee.call(t,n)&&NB(e,n,t[n]);return e},wPe=(e,t)=>{var n={};for(var r in e)Lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dS)for(var r of dS(e))t.indexOf(r)<0&&Mee.call(e,r)&&(n[r]=e[r]);return n};const EPe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},Fee=b.forwardRef((e,t)=>{const n=qe("Container",EPe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=wPe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=vPe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return $.createElement(st,bPe({className:c(l.root,r),ref:t},u))});Fee.displayName="@mantine/core/Container";function jee({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=EZ({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?$.createElement($.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=wZ({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return $.createElement($.Fragment,null,i(h))}jee.displayName="@mantine/core/GroupedTransition";var TPe=ft((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),SPe=Object.defineProperty,xPe=Object.defineProperties,IPe=Object.getOwnPropertyDescriptors,hS=Object.getOwnPropertySymbols,Bee=Object.prototype.hasOwnProperty,Uee=Object.prototype.propertyIsEnumerable,kB=(e,t,n)=>t in e?SPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NO=(e,t)=>{for(var n in t||(t={}))Bee.call(t,n)&&kB(e,n,t[n]);if(hS)for(var n of hS(t))Uee.call(t,n)&&kB(e,n,t[n]);return e},CPe=(e,t)=>xPe(e,IPe(t)),APe=(e,t)=>{var n={};for(var r in e)Bee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hS)for(var r of hS(e))t.indexOf(r)<0&&Uee.call(e,r)&&(n[r]=e[r]);return n};const PPe={opacity:.6,color:"#fff",zIndex:Cc("modal"),radius:0,blur:0},Vee=b.forwardRef((e,t)=>{const n=qe("Overlay",PPe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=APe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=TPe({zIndex:a},{name:"Overlay",unstyled:c}),g=o?{backgroundImage:o}:{backgroundColor:s},y=m=>$.createElement(st,NO({ref:t,className:p(h.root,f),sx:[v=>CPe(NO({},g),{opacity:r,borderRadius:v.fn.size({size:u,sizes:v.radius})}),...Sh(l)]},m));return i?$.createElement(st,NO({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Sh(l)]},d),y()):y(d)});Vee.displayName="@mantine/core/Overlay";const OPe=Vee,RPe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var NPe=Object.defineProperty,kPe=Object.defineProperties,DPe=Object.getOwnPropertyDescriptors,pS=Object.getOwnPropertySymbols,zee=Object.prototype.hasOwnProperty,Hee=Object.prototype.propertyIsEnumerable,DB=(e,t,n)=>t in e?NPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Pe=(e,t)=>{for(var n in t||(t={}))zee.call(t,n)&&DB(e,n,t[n]);if(pS)for(var n of pS(t))Hee.call(t,n)&&DB(e,n,t[n]);return e},LPe=(e,t)=>kPe(e,DPe(t)),MPe=(e,t)=>{var n={};for(var r in e)zee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pS)for(var r of pS(e))t.indexOf(r)<0&&Hee.call(e,r)&&(n[r]=e[r]);return n};const FPe={},IC=b.forwardRef((e,t)=>{const n=qe("Flex",FPe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=MPe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return $.createElement(st,LPe($Pe({},f),{sx:[{display:"flex"},d=>jN({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,RPe),...Sh(c)],ref:t}))});IC.displayName="@mantine/core/Flex";const[jPe,BPe]=tC("Grid component was not found in tree");var UPe=Object.defineProperty,$B=Object.getOwnPropertySymbols,VPe=Object.prototype.hasOwnProperty,zPe=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?UPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HPe=(e,t)=>{for(var n in t||(t={}))VPe.call(t,n)&&LB(e,n,t[n]);if($B)for(var n of $B(t))zPe.call(t,n)&&LB(e,n,t[n]);return e};const t6=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,Wee=(e,t,n)=>n||e==="auto"||e==="content"?"unset":t6(e,t),qee=(e,t)=>{if(e)return e==="auto"||t?1:0},Yee=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,Gee=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function WPe({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return YQ.reduce((a,u)=>(a[`@media (min-width: ${r.breakpoints[u]}px)`]={order:n[u],flexBasis:t6(e[u],i),padding:Gee(s[u],r),flexShrink:0,width:e[u]==="content"?"auto":void 0,maxWidth:Wee(e[u],i,o),marginLeft:Yee(t[u],i),flexGrow:qee(e[u],o)},a),{})}var qPe=ft((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:u,offsetXs:l,offsetSm:c,offsetMd:f,offsetLg:d,offsetXl:h,columns:p,span:g,xs:y,sm:m,md:v,lg:_,xl:T,order:x,orderXs:w,orderSm:S,orderMd:I,orderLg:k,orderXl:D})=>({col:HPe({boxSizing:"border-box",flexGrow:qee(g,a),order:x,padding:Gee(t,e),marginLeft:Yee(u,p),flexBasis:t6(g,p),flexShrink:0,width:g==="content"?"auto":void 0,maxWidth:Wee(g,p,a)},WPe({sizes:{xs:y,sm:m,md:v,lg:_,xl:T},offsets:{xs:l,sm:c,md:f,lg:d,xl:h},orders:{xs:w,sm:S,md:I,lg:k,xl:D},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const YPe=qPe;var GPe=Object.defineProperty,mS=Object.getOwnPropertySymbols,Kee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?GPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KPe=(e,t)=>{for(var n in t||(t={}))Kee.call(t,n)&&MB(e,n,t[n]);if(mS)for(var n of mS(t))Qee.call(t,n)&&MB(e,n,t[n]);return e},QPe=(e,t)=>{var n={};for(var r in e)Kee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mS)for(var r of mS(e))t.indexOf(r)<0&&Qee.call(e,r)&&(n[r]=e[r]);return n};const XPe={};function JPe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Xee=b.forwardRef((e,t)=>{const n=qe("GridCol",XPe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:T,orderXl:x,className:w,id:S,unstyled:I}=n,k=QPe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),D=BPe(),M=i||D.columns,{classes:O,cx:B}=YPe({gutter:D.gutter,gutterXs:D.gutterXs,gutterSm:D.gutterSm,gutterMd:D.gutterMd,gutterLg:D.gutterLg,gutterXl:D.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:T,orderXl:x,grow:D.grow,columns:D.columns,span:M},{unstyled:I,name:"Grid"});return!JPe(M)||M>D.columns?null:$.createElement(st,KPe({className:B(O.col,w),ref:t},k),r)});Xee.displayName="@mantine/core/Col";var ZPe=Object.defineProperty,FB=Object.getOwnPropertySymbols,eOe=Object.prototype.hasOwnProperty,tOe=Object.prototype.propertyIsEnumerable,jB=(e,t,n)=>t in e?ZPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nOe=(e,t)=>{for(var n in t||(t={}))eOe.call(t,n)&&jB(e,n,t[n]);if(FB)for(var n of FB(t))tOe.call(t,n)&&jB(e,n,t[n]);return e};function rOe(e,t){return YQ.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var iOe=ft((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u})=>({root:nOe({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},rOe({xs:i,sm:s,md:o,lg:a,xl:u},e))})),sOe=Object.defineProperty,gS=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,Zee=Object.prototype.propertyIsEnumerable,BB=(e,t,n)=>t in e?sOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oOe=(e,t)=>{for(var n in t||(t={}))Jee.call(t,n)&&BB(e,n,t[n]);if(gS)for(var n of gS(t))Zee.call(t,n)&&BB(e,n,t[n]);return e},aOe=(e,t)=>{var n={};for(var r in e)Jee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gS)for(var r of gS(e))t.indexOf(r)<0&&Zee.call(e,r)&&(n[r]=e[r]);return n};const uOe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Yl=b.forwardRef((e,t)=>{const n=qe("Grid",uOe,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,children:l,grow:c,justify:f,align:d,columns:h,className:p,id:g,unstyled:y}=n,m=aOe(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=iOe({gutter:r,justify:f,align:d,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u},{unstyled:y,name:"Grid"});return $.createElement(jPe,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,grow:c,columns:h}},$.createElement(st,oOe({className:_(v.root,p),ref:t},m),l))});Yl.Col=Xee;Yl.displayName="@mantine/core/Grid";var lOe=ft((e,{color:t})=>({root:{backgroundColor:e.fn.themeColor(t,e.colorScheme==="dark"?5:2),color:e.colorScheme==="dark"?e.colors.dark[9]:"inherit"}})),cOe=Object.defineProperty,yS=Object.getOwnPropertySymbols,ete=Object.prototype.hasOwnProperty,tte=Object.prototype.propertyIsEnumerable,UB=(e,t,n)=>t in e?cOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fOe=(e,t)=>{for(var n in t||(t={}))ete.call(t,n)&&UB(e,n,t[n]);if(yS)for(var n of yS(t))tte.call(t,n)&&UB(e,n,t[n]);return e},dOe=(e,t)=>{var n={};for(var r in e)ete.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yS)for(var r of yS(e))t.indexOf(r)<0&&tte.call(e,r)&&(n[r]=e[r]);return n};const hOe={color:"yellow"},nte=b.forwardRef((e,t)=>{const n=qe("Mark",hOe,e),{color:r,className:i,unstyled:s}=n,o=dOe(n,["color","className","unstyled"]),{classes:a,cx:u}=lOe({color:r},{unstyled:s,name:"Mark"});return $.createElement(st,fOe({component:"mark",ref:t,className:u(a.root,i)},o))});nte.displayName="@mantine/core/Mark";function VB(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function pOe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(VB):VB(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}var mOe=Object.defineProperty,vS=Object.getOwnPropertySymbols,rte=Object.prototype.hasOwnProperty,ite=Object.prototype.propertyIsEnumerable,zB=(e,t,n)=>t in e?mOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gOe=(e,t)=>{for(var n in t||(t={}))rte.call(t,n)&&zB(e,n,t[n]);if(vS)for(var n of vS(t))ite.call(t,n)&&zB(e,n,t[n]);return e},yOe=(e,t)=>{var n={};for(var r in e)rte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vS)for(var r of vS(e))t.indexOf(r)<0&&ite.call(e,r)&&(n[r]=e[r]);return n};const vOe={highlightColor:"yellow"},ste=b.forwardRef((e,t)=>{const n=qe("Highlight",vOe,e),{children:r,highlight:i,highlightColor:s,highlightStyles:o,unstyled:a}=n,u=yOe(n,["children","highlight","highlightColor","highlightStyles","unstyled"]),l=pOe(r,i);return $.createElement(ut,gOe({unstyled:a,ref:t},u),l.map(({chunk:c,highlighted:f},d)=>f?$.createElement(nte,{unstyled:a,key:d,color:s,sx:o},c):$.createElement("span",{key:d},c)))});ste.displayName="@mantine/core/Highlight";const _Oe=ste;function bOe({open:e,close:t,openDelay:n,closeDelay:r}){const i=b.useRef(-1),s=b.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return b.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var wOe=Object.defineProperty,HB=Object.getOwnPropertySymbols,EOe=Object.prototype.hasOwnProperty,TOe=Object.prototype.propertyIsEnumerable,WB=(e,t,n)=>t in e?wOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SOe=(e,t)=>{for(var n in t||(t={}))EOe.call(t,n)&&WB(e,n,t[n]);if(HB)for(var n of HB(t))TOe.call(t,n)&&WB(e,n,t[n]);return e};function xOe(e){return $.createElement("svg",SOe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var IOe=Object.defineProperty,COe=Object.defineProperties,AOe=Object.getOwnPropertyDescriptors,qB=Object.getOwnPropertySymbols,POe=Object.prototype.hasOwnProperty,OOe=Object.prototype.propertyIsEnumerable,YB=(e,t,n)=>t in e?IOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GB=(e,t)=>{for(var n in t||(t={}))POe.call(t,n)&&YB(e,n,t[n]);if(qB)for(var n of qB(t))OOe.call(t,n)&&YB(e,n,t[n]);return e},KB=(e,t)=>COe(e,AOe(t)),ROe=ft((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:KB(GB({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:KB(GB({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),NOe=Object.defineProperty,_S=Object.getOwnPropertySymbols,ote=Object.prototype.hasOwnProperty,ate=Object.prototype.propertyIsEnumerable,QB=(e,t,n)=>t in e?NOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kO=(e,t)=>{for(var n in t||(t={}))ote.call(t,n)&&QB(e,n,t[n]);if(_S)for(var n of _S(t))ate.call(t,n)&&QB(e,n,t[n]);return e},kOe=(e,t)=>{var n={};for(var r in e)ote.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_S)for(var r of _S(e))t.indexOf(r)<0&&ate.call(e,r)&&(n[r]=e[r]);return n};const DOe={fit:"cover",width:"100%",height:"auto",radius:0},s1=b.forwardRef((e,t)=>{const n=qe("Image",DOe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:v}=n,_=kOe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:x}=ROe({radius:l},{classNames:p,styles:g,unstyled:m,name:"Image"}),[w,S]=b.useState(!s),I=f&&w;return io(()=>{S(!s)},[s]),$.createElement(st,kO({className:x(T.root,r),ref:t,style:kO({width:a},v)},_),$.createElement("figure",{className:T.figure},$.createElement("div",{className:T.imageWrapper},$.createElement("img",kO({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:k=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(k)}},c)),I&&$.createElement("div",{className:T.placeholder,title:i},d||$.createElement("div",null,$.createElement(xOe,{style:{width:40,height:40}})))),!!y&&$.createElement(ut,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});s1.displayName="@mantine/core/Image";function $Oe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var LOe=b.useLayoutEffect,MOe=function(t){var n=b.useRef(t);return LOe(function(){n.current=t}),n},XB=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},FOe=function(t,n){var r=b.useRef();return b.useCallback(function(i){t.current=i,r.current&&XB(r.current,null),r.current=n,n&&XB(n,i)},[n])},JB={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},ZB=function(t){Object.keys(JB).forEach(function(n){t.style.setProperty(n,JB[n],"important")})},_o=null,jOe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function BOe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),_o||(_o=document.createElement("textarea"),_o.setAttribute("tabindex","-1"),_o.setAttribute("aria-hidden","true"),ZB(_o)),_o.parentNode===null&&document.body.appendChild(_o);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;_o.style[h]=o[h]}),ZB(_o),_o.value=t;var u=jOe(_o,e);_o.value="x";var l=_o.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var eU=function(){},UOe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},VOe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],zOe=!!document.documentElement.currentStyle,HOe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=UOe(VOe,n),i=r.boxSizing;if(i==="")return null;zOe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},WOe=function(t){var n=MOe(t);b.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},qOe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?eU:o,u=t.onHeightChange,l=u===void 0?eU:u,c=$Oe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=b.useRef(null),h=FOe(d,n),p=b.useRef(0),g=b.useRef(),y=function(){var _=d.current,T=r&&g.current?g.current:HOe(_);if(T){g.current=T;var x=BOe(T,_.value||_.placeholder||"x",s,i),w=x[0],S=x[1];p.current!==w&&(p.current=w,_.style.setProperty("height",w+"px","important"),l(w,{rowHeight:S}))}},m=function(_){f||y(),a(_)};return b.useLayoutEffect(y),WOe(y),b.createElement("textarea",gr({},c,{onChange:m,ref:h}))},YOe=b.forwardRef(qOe);const GOe=YOe;var KOe=ft(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),QOe=Object.defineProperty,XOe=Object.defineProperties,JOe=Object.getOwnPropertyDescriptors,bS=Object.getOwnPropertySymbols,ute=Object.prototype.hasOwnProperty,lte=Object.prototype.propertyIsEnumerable,tU=(e,t,n)=>t in e?QOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mp=(e,t)=>{for(var n in t||(t={}))ute.call(t,n)&&tU(e,n,t[n]);if(bS)for(var n of bS(t))lte.call(t,n)&&tU(e,n,t[n]);return e},DO=(e,t)=>XOe(e,JOe(t)),ZOe=(e,t)=>{var n={};for(var r in e)ute.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bS)for(var r of bS(e))t.indexOf(r)<0&&lte.call(e,r)&&(n[r]=e[r]);return n};const e2e={autosize:!1,size:"sm",__staticSelector:"Textarea"},cte=b.forwardRef((e,t)=>{const n=qe("Textarea",e2e,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,descriptionProps:T,labelProps:x,inputWrapperOrder:w,inputContainer:S,unstyled:I,withAsterisk:k}=n,D=ZOe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),M=uu(l),{classes:O,cx:B}=KOe(),{systemStyles:N,rest:ee}=dd(D),te=mp({required:f,ref:t,invalid:!!a,id:M,classNames:DO(mp({},p),{input:B(O.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:I},ee);return $.createElement(so.Wrapper,mp(mp({label:o,error:a,id:M,description:u,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,labelProps:x,descriptionProps:T,inputContainer:S,inputWrapperOrder:w,unstyled:I,withAsterisk:k},N),h),r?$.createElement(so,DO(mp({},te),{component:GOe,maxRows:i,minRows:s})):$.createElement(so,DO(mp({},te),{component:"textarea",rows:s})))});cte.displayName="@mantine/core/Textarea";const[t2e,n2e]=tC("List component was not found in tree");var r2e=ft((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),i2e=Object.defineProperty,wS=Object.getOwnPropertySymbols,fte=Object.prototype.hasOwnProperty,dte=Object.prototype.propertyIsEnumerable,nU=(e,t,n)=>t in e?i2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s2e=(e,t)=>{for(var n in t||(t={}))fte.call(t,n)&&nU(e,n,t[n]);if(wS)for(var n of wS(t))dte.call(t,n)&&nU(e,n,t[n]);return e},o2e=(e,t)=>{var n={};for(var r in e)fte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wS)for(var r of wS(e))t.indexOf(r)<0&&dte.call(e,r)&&(n[r]=e[r]);return n};const a2e={},hte=b.forwardRef((e,t)=>{const n=qe("ListItem",a2e,e),{className:r,children:i,icon:s}=n,o=o2e(n,["className","children","icon"]),{icon:a,spacing:u,center:l,listStyleType:c,size:f,withPadding:d,classNames:h,styles:p,unstyled:g}=n2e(),y=s||a,{classes:m,cx:v}=r2e({withPadding:d,size:f,listStyleType:c,center:l,spacing:u},{classNames:h,styles:p,unstyled:g,name:"List"});return $.createElement(st,s2e({component:"li",className:v(m.item,{[m.withIcon]:y},r),ref:t},o),$.createElement("div",{className:m.itemWrapper},y&&$.createElement("span",{className:m.itemIcon},y),$.createElement("span",null,i)))});hte.displayName="@mantine/core/ListItem";var u2e=Object.defineProperty,l2e=Object.defineProperties,c2e=Object.getOwnPropertyDescriptors,rU=Object.getOwnPropertySymbols,f2e=Object.prototype.hasOwnProperty,d2e=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?u2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h2e=(e,t)=>{for(var n in t||(t={}))f2e.call(t,n)&&iU(e,n,t[n]);if(rU)for(var n of rU(t))d2e.call(t,n)&&iU(e,n,t[n]);return e},p2e=(e,t)=>l2e(e,c2e(t)),m2e=ft((e,{withPadding:t,size:n,listStyleType:r})=>({root:p2e(h2e({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),g2e=Object.defineProperty,ES=Object.getOwnPropertySymbols,pte=Object.prototype.hasOwnProperty,mte=Object.prototype.propertyIsEnumerable,sU=(e,t,n)=>t in e?g2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y2e=(e,t)=>{for(var n in t||(t={}))pte.call(t,n)&&sU(e,n,t[n]);if(ES)for(var n of ES(t))mte.call(t,n)&&sU(e,n,t[n]);return e},v2e=(e,t)=>{var n={};for(var r in e)pte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ES)for(var r of ES(e))t.indexOf(r)<0&&mte.call(e,r)&&(n[r]=e[r]);return n};const _2e={type:"unordered",size:"md",spacing:0},Jm=b.forwardRef((e,t)=>{const n=qe("List",_2e,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=v2e(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=m2e({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return $.createElement(t2e,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:d,unstyled:p}},$.createElement(st,y2e({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r))});Jm.Item=hte;Jm.displayName="@mantine/core/List";const gte={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[b2e,o1]=tC(gte.context);var w2e=ft(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),E2e=Object.defineProperty,TS=Object.getOwnPropertySymbols,yte=Object.prototype.hasOwnProperty,vte=Object.prototype.propertyIsEnumerable,oU=(e,t,n)=>t in e?E2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T2e=(e,t)=>{for(var n in t||(t={}))yte.call(t,n)&&oU(e,n,t[n]);if(TS)for(var n of TS(t))vte.call(t,n)&&oU(e,n,t[n]);return e},S2e=(e,t)=>{var n={};for(var r in e)yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TS)for(var r of TS(e))t.indexOf(r)<0&&vte.call(e,r)&&(n[r]=e[r]);return n};const x2e={},_te=b.forwardRef((e,t)=>{const n=qe("MenuDivider",x2e,e),{children:r,className:i}=n,s=S2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=o1(),{classes:l,cx:c}=w2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return $.createElement(st,T2e({className:c(l.divider,i),ref:t},s))});_te.displayName="@mantine/core/MenuDivider";var I2e=Object.defineProperty,SS=Object.getOwnPropertySymbols,bte=Object.prototype.hasOwnProperty,wte=Object.prototype.propertyIsEnumerable,aU=(e,t,n)=>t in e?I2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C2e=(e,t)=>{for(var n in t||(t={}))bte.call(t,n)&&aU(e,n,t[n]);if(SS)for(var n of SS(t))wte.call(t,n)&&aU(e,n,t[n]);return e},A2e=(e,t)=>{var n={};for(var r in e)bte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SS)for(var r of SS(e))t.indexOf(r)<0&&wte.call(e,r)&&(n[r]=e[r]);return n};const P2e={};function Ete(e){const t=qe("MenuDropdown",P2e,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=A2e(t,["children","onMouseEnter","onMouseLeave"]),o=b.useRef(),a=o1(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=ql(r,()=>a.trigger==="hover"&&a.openDropdown()),c=ql(i,()=>a.trigger==="hover"&&a.closeDropdown());return $.createElement(Ts.Dropdown,C2e({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),$.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}Ete.displayName="@mantine/core/MenuDropdown";var O2e=Object.defineProperty,R2e=Object.defineProperties,N2e=Object.getOwnPropertyDescriptors,uU=Object.getOwnPropertySymbols,k2e=Object.prototype.hasOwnProperty,D2e=Object.prototype.propertyIsEnumerable,lU=(e,t,n)=>t in e?O2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$2e=(e,t)=>{for(var n in t||(t={}))k2e.call(t,n)&&lU(e,n,t[n]);if(uU)for(var n of uU(t))D2e.call(t,n)&&lU(e,n,t[n]);return e},L2e=(e,t)=>R2e(e,N2e(t)),M2e=ft((e,{color:t,radius:n})=>({item:L2e($2e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const F2e=M2e;var j2e=Object.defineProperty,B2e=Object.defineProperties,U2e=Object.getOwnPropertyDescriptors,xS=Object.getOwnPropertySymbols,Tte=Object.prototype.hasOwnProperty,Ste=Object.prototype.propertyIsEnumerable,cU=(e,t,n)=>t in e?j2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V2e=(e,t)=>{for(var n in t||(t={}))Tte.call(t,n)&&cU(e,n,t[n]);if(xS)for(var n of xS(t))Ste.call(t,n)&&cU(e,n,t[n]);return e},z2e=(e,t)=>B2e(e,U2e(t)),H2e=(e,t)=>{var n={};for(var r in e)Tte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xS)for(var r of xS(e))t.indexOf(r)<0&&Ste.call(e,r)&&(n[r]=e[r]);return n};const W2e={},xte=b.forwardRef((e,t)=>{const n=qe("MenuItem",W2e,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=H2e(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=o1(),{classes:f,cx:d,theme:h}=F2e({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=b.useRef(),g=c.getItemIndex(p.current),y=l,m=ql(y.onMouseLeave,()=>c.setHovered(-1)),v=ql(y.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=ql(y.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),T=ql(y.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return $.createElement(st,z2e(V2e({component:"button",type:"button"},l),{tabIndex:-1,onFocus:T,className:d(f.item,i),ref:va(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===g?!0:void 0,onMouseEnter:v,onMouseLeave:m,onClick:_,onKeyDown:vve({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:y.onKeydown})}),a&&$.createElement("div",{className:f.itemIcon},a),r&&$.createElement("div",{className:f.itemLabel},r),u&&$.createElement("div",{className:f.itemRightSection},u))});xte.displayName="@mantine/core/MenuItem";const q2e=xte;var Y2e=ft(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),G2e=Object.defineProperty,IS=Object.getOwnPropertySymbols,Ite=Object.prototype.hasOwnProperty,Cte=Object.prototype.propertyIsEnumerable,fU=(e,t,n)=>t in e?G2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K2e=(e,t)=>{for(var n in t||(t={}))Ite.call(t,n)&&fU(e,n,t[n]);if(IS)for(var n of IS(t))Cte.call(t,n)&&fU(e,n,t[n]);return e},Q2e=(e,t)=>{var n={};for(var r in e)Ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IS)for(var r of IS(e))t.indexOf(r)<0&&Cte.call(e,r)&&(n[r]=e[r]);return n};const X2e={},Ate=b.forwardRef((e,t)=>{const n=qe("MenuLabel",X2e,e),{children:r,className:i}=n,s=Q2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=o1(),{classes:l,cx:c}=Y2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return $.createElement(ut,K2e({className:c(l.label,i),ref:t},s),r)});Ate.displayName="@mantine/core/MenuLabel";var J2e=Object.defineProperty,CS=Object.getOwnPropertySymbols,Pte=Object.prototype.hasOwnProperty,Ote=Object.prototype.propertyIsEnumerable,dU=(e,t,n)=>t in e?J2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z2e=(e,t)=>{for(var n in t||(t={}))Pte.call(t,n)&&dU(e,n,t[n]);if(CS)for(var n of CS(t))Ote.call(t,n)&&dU(e,n,t[n]);return e},eRe=(e,t)=>{var n={};for(var r in e)Pte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&Ote.call(e,r)&&(n[r]=e[r]);return n};const tRe={refProp:"ref"},Rte=b.forwardRef((e,t)=>{const n=qe("MenuTarget",tRe,e),{children:r,refProp:i}=n,s=eRe(n,["children","refProp"]);if(!J_(r))throw new Error(gte.children);const o=o1(),a=ql(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=ql(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=ql(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return $.createElement(Ts.Target,Z2e({refProp:i,popupType:"menu",ref:t},s),b.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});Rte.displayName="@mantine/core/MenuTarget";var nRe=ft({dropdown:{padding:4}}),rRe=Object.defineProperty,iRe=Object.defineProperties,sRe=Object.getOwnPropertyDescriptors,AS=Object.getOwnPropertySymbols,Nte=Object.prototype.hasOwnProperty,kte=Object.prototype.propertyIsEnumerable,hU=(e,t,n)=>t in e?rRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pU=(e,t)=>{for(var n in t||(t={}))Nte.call(t,n)&&hU(e,n,t[n]);if(AS)for(var n of AS(t))kte.call(t,n)&&hU(e,n,t[n]);return e},mU=(e,t)=>iRe(e,sRe(t)),oRe=(e,t)=>{var n={};for(var r in e)Nte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AS)for(var r of AS(e))t.indexOf(r)<0&&kte.call(e,r)&&(n[r]=e[r]);return n};const aRe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function ss(e){const t=qe("Menu",aRe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,v=oRe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:T}=nRe(),[x,{setHovered:w,resetHovered:S}]=Eve(),[I,k]=ha({value:s,defaultValue:o,finalValue:!1,onChange:a}),D=()=>{k(!1),I&&(i==null||i())},M=()=>{k(!0),!I&&(r==null||r())},O=()=>I?D():M(),{openDropdown:B,closeDropdown:N}=bOe({open:M,close:D,closeDelay:h,openDelay:d}),ee=te=>_ve("[data-menu-item]","[data-menu-dropdown]",te);return io(()=>{S()},[I]),$.createElement(b2e,{value:{opened:I,toggleDropdown:O,getItemIndex:ee,hovered:x,setHovered:w,closeOnItemClick:u,closeDropdown:f==="click"?D:N,openDropdown:f==="click"?M:B,closeDropdownImmediately:D,loop:l,trigger:f,radius:m,classNames:p,styles:g,unstyled:y}},$.createElement(Ts,mU(pU({},v),{radius:m,opened:I,onChange:k,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:mU(pU({},p),{dropdown:T(_.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:D,onOpen:M}),n))}ss.displayName="@mantine/core/Menu";ss.Item=q2e;ss.Label=Ate;ss.Dropdown=Ete;ss.Target=Rte;ss.Divider=_te;var uRe=Object.defineProperty,gU=Object.getOwnPropertySymbols,lRe=Object.prototype.hasOwnProperty,cRe=Object.prototype.propertyIsEnumerable,yU=(e,t,n)=>t in e?uRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fRe=(e,t)=>{for(var n in t||(t={}))lRe.call(t,n)&&yU(e,n,t[n]);if(gU)for(var n of gU(t))cRe.call(t,n)&&yU(e,n,t[n]);return e};const dRe={xs:320,sm:380,md:440,lg:620,xl:780};function hRe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var pRe=ft((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:fRe({position:"relative",width:s?"100vw":e.fn.size({sizes:dRe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},hRe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),mRe=Object.defineProperty,PS=Object.getOwnPropertySymbols,Dte=Object.prototype.hasOwnProperty,$te=Object.prototype.propertyIsEnumerable,vU=(e,t,n)=>t in e?mRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gRe=(e,t)=>{for(var n in t||(t={}))Dte.call(t,n)&&vU(e,n,t[n]);if(PS)for(var n of PS(t))$te.call(t,n)&&vU(e,n,t[n]);return e},yRe=(e,t)=>{var n={};for(var r in e)Dte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PS)for(var r of PS(e))t.indexOf(r)<0&&$te.call(e,r)&&(n[r]=e[r]);return n};const vRe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Cc("modal"),exitTransitionDuration:0};function CC(e){const t=qe("Modal",vRe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:v,id:_,classNames:T,styles:x,closeOnClickOutside:w,trapFocus:S,closeOnEscape:I,centered:k,target:D,withinPortal:M,zIndex:O,overlayBlur:B,transitionTimingFunction:N,fullScreen:ee,unstyled:te,lockScroll:se,withFocusReturn:X}=t,re=yRe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),A=uu(_),H=`${A}-title`,G=`${A}-body`,{classes:P,cx:R,theme:L}=pRe({size:l,overflow:p,centered:k,zIndex:O,fullScreen:ee},{unstyled:te,classNames:T,styles:x,name:"Modal"}),Y=bX(S&&r),le=b.useRef(null),ce=va(Y,le),de=typeof u=="number"?u:L.colorScheme==="dark"?.85:.75;q1e(se&&r);const me=We=>{!S&&We.key==="Escape"&&I&&s()};b.useEffect(()=>{if(!S)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[S]),gX({opened:r,shouldReturnFocus:S&&X});const we=b.useRef(null);FN("mousedown",We=>{we.current=We.target});const ye=()=>{we.current===le.current&&w&&s()};return $.createElement(t1,{withinPortal:M,target:D},$.createElement(jee,{mounted:r,duration:c,exitDuration:f,timingFunction:N,transitions:{modal:{duration:c,transition:g||(ee?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},We=>$.createElement($.Fragment,null,$.createElement(st,gRe({id:A,className:R(P.root,n)},re),$.createElement("div",{style:We.overlay},$.createElement(OPe,{className:P.overlay,sx:{position:"fixed"},zIndex:0,blur:B,color:h||(L.colorScheme==="dark"?L.colors.dark[9]:L.black),opacity:de,unstyled:te})),$.createElement("div",{role:"presentation",className:P.inner,onClick:ye,onKeyDown:Qe=>{var gt;((gt=Qe.target)==null?void 0:gt.getAttribute("data-mantine-stop-propagation"))!=="true"&&Qe.key==="Escape"&&I&&s()},ref:ce},$.createElement(aee,{className:P.modal,shadow:m,p:y,radius:v,role:"dialog","aria-labelledby":H,"aria-describedby":G,"aria-modal":!0,tabIndex:-1,style:We.modal,unstyled:te,onClick:Qe=>Qe.stopPropagation()},(i||a)&&$.createElement("div",{className:P.header},$.createElement(ut,{id:H,className:P.title},i),a&&$.createElement(yC,{iconSize:16,onClick:s,"aria-label":d,className:P.close})),$.createElement("div",{id:G,className:P.body},o)))))))}CC.displayName="@mantine/core/Modal";const _Re={xs:16,sm:22,md:26,lg:30,xl:36},bRe={xs:10,sm:12,md:14,lg:16,xl:18};var wRe=ft((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:_Re}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:bRe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),ERe=Object.defineProperty,OS=Object.getOwnPropertySymbols,Lte=Object.prototype.hasOwnProperty,Mte=Object.prototype.propertyIsEnumerable,_U=(e,t,n)=>t in e?ERe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TRe=(e,t)=>{for(var n in t||(t={}))Lte.call(t,n)&&_U(e,n,t[n]);if(OS)for(var n of OS(t))Mte.call(t,n)&&_U(e,n,t[n]);return e},SRe=(e,t)=>{var n={};for(var r in e)Lte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OS)for(var r of OS(e))t.indexOf(r)<0&&Mte.call(e,r)&&(n[r]=e[r]);return n};const bU={xs:16,sm:22,md:24,lg:26,xl:30};function Fte(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=SRe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=wRe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return $.createElement("div",TRe({className:p(h.defaultValue,s)},d),$.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&$.createElement(yC,{"aria-hidden":!0,onMouseDown:o,size:bU[l],radius:2,color:"blue",variant:"transparent",iconSize:bU[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}Fte.displayName="@mantine/core/MultiSelect/DefaultValue";function xRe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const u=[];for(let l=0;l<e.length;l+=1)(o||!s.some(c=>c===e[l].value&&!e[l].disabled))&&u.push(e[l]);return u}const a=[];for(let u=0;u<e.length&&(i(r,s.some(l=>l===e[u].value&&!e[u].disabled),e[u])&&a.push(e[u]),!(a.length>=n));u+=1);return a}var IRe=Object.defineProperty,RS=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,Bte=Object.prototype.propertyIsEnumerable,wU=(e,t,n)=>t in e?IRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EU=(e,t)=>{for(var n in t||(t={}))jte.call(t,n)&&wU(e,n,t[n]);if(RS)for(var n of RS(t))Bte.call(t,n)&&wU(e,n,t[n]);return e},CRe=(e,t)=>{var n={};for(var r in e)jte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RS)for(var r of RS(e))t.indexOf(r)<0&&Bte.call(e,r)&&(n[r]=e[r]);return n};const ARe={xs:14,sm:18,md:20,lg:24,xl:28};function PRe(e){var t=e,{size:n,error:r,style:i}=t,s=CRe(t,["size","error","style"]);const o=Vi(),a=o.fn.size({size:n,sizes:ARe});return $.createElement("svg",EU({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:EU({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),$.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Ute({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?$.createElement(yC,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):$.createElement(PRe,{error:i,size:r})}Ute.displayName="@mantine/core/SelectRightSection";var ORe=Object.defineProperty,RRe=Object.defineProperties,NRe=Object.getOwnPropertyDescriptors,NS=Object.getOwnPropertySymbols,Vte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,TU=(e,t,n)=>t in e?ORe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$O=(e,t)=>{for(var n in t||(t={}))Vte.call(t,n)&&TU(e,n,t[n]);if(NS)for(var n of NS(t))zte.call(t,n)&&TU(e,n,t[n]);return e},SU=(e,t)=>RRe(e,NRe(t)),kRe=(e,t)=>{var n={};for(var r in e)Vte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NS)for(var r of NS(e))t.indexOf(r)<0&&zte.call(e,r)&&(n[r]=e[r]);return n};const DRe={xs:24,sm:30,md:34,lg:44,xl:54};function Hte(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=kRe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:DRe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&$.createElement(Ute,$O({},o)),styles:SU($O({},a),{rightSection:SU($O({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var $Re=Object.defineProperty,LRe=Object.defineProperties,MRe=Object.getOwnPropertyDescriptors,xU=Object.getOwnPropertySymbols,FRe=Object.prototype.hasOwnProperty,jRe=Object.prototype.propertyIsEnumerable,IU=(e,t,n)=>t in e?$Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BRe=(e,t)=>{for(var n in t||(t={}))FRe.call(t,n)&&IU(e,n,t[n]);if(xU)for(var n of xU(t))jRe.call(t,n)&&IU(e,n,t[n]);return e},URe=(e,t)=>LRe(e,MRe(t)),VRe=ft((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Vs})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:URe(BRe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Vs})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),zRe=Object.defineProperty,HRe=Object.defineProperties,WRe=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertySymbols,Wte=Object.prototype.hasOwnProperty,qte=Object.prototype.propertyIsEnumerable,CU=(e,t,n)=>t in e?zRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gp=(e,t)=>{for(var n in t||(t={}))Wte.call(t,n)&&CU(e,n,t[n]);if(kS)for(var n of kS(t))qte.call(t,n)&&CU(e,n,t[n]);return e},AU=(e,t)=>HRe(e,WRe(t)),qRe=(e,t)=>{var n={};for(var r in e)Wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kS)for(var r of kS(e))t.indexOf(r)<0&&qte.call(e,r)&&(n[r]=e[r]);return n};function YRe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function GRe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function PU(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const KRe={size:"sm",valueComponent:Fte,itemComponent:k3,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:YRe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:GRe,switchDirectionOnFlip:!1,zIndex:Cc("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Yte=b.forwardRef((e,t)=>{const n=qe("MultiSelect",KRe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:v,id:_,transition:T,transitionDuration:x,transitionTimingFunction:w,maxDropdownHeight:S,shadow:I,nothingFound:k,onFocus:D,onBlur:M,searchable:O,placeholder:B,filter:N,limit:ee,clearSearchOnChange:te,clearable:se,clearSearchOnBlur:X,clearButtonLabel:re,variant:A,onSearchChange:H,searchValue:G,disabled:P,initiallyOpened:R,radius:L,icon:Y,rightSection:le,rightSectionWidth:ce,creatable:de,getCreateLabel:me,shouldCreate:we,onCreate:ye,sx:We,dropdownComponent:Qe,onDropdownClose:gt,onDropdownOpen:De,maxSelectedValues:Ie,withinPortal:Ye,switchDirectionOnFlip:Yt,zIndex:zt,selectOnBlur:He,name:je,dropdownPosition:ot,errorProps:ht,labelProps:At,descriptionProps:Xt,clearButtonTabIndex:ge,form:Te,positionDependencies:Me,onKeyDown:Ze,unstyled:ct,inputContainer:xn,inputWrapperOrder:Fe,readOnly:nt,withAsterisk:at,hoverOnSearchChange:Kt,disableSelectedItemFiltering:mt}=n,wr=qRe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:gn,cx:qn,theme:ps}=VRe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ct,name:"MultiSelect"}),{systemStyles:Rs,rest:di}=dd(wr),Nn=b.useRef(),Ca=b.useRef({}),Dr=uu(_),[Er,$n]=b.useState(R),[dn,Kn]=b.useState(-1),[ms,ei]=b.useState("column"),[Hr,Z]=ha({value:G,defaultValue:"",finalValue:void 0,onChange:H}),[W,ne]=b.useState(!1),{scrollIntoView:he,targetRef:pe,scrollableRef:Je}=SX({duration:0,offset:5,cancelable:!1,isList:!0}),et=de&&typeof me=="function";let Ce=null;const rt=g.map(Ge=>typeof Ge=="string"?{label:Ge,value:Ge}:Ge),Ft=VQ({data:rt}),[Be,en]=ha({value:PU(h,g),defaultValue:PU(p,g),finalValue:[],onChange:y}),tn=b.useRef(!!Ie&&Ie<Be.length),yt=Ge=>{if(!nt){const nn=Be.filter(qi=>qi!==Ge);en(nn),Ie&&nn.length<Ie&&(tn.current=!1)}},kn=Ge=>{Z(Ge.currentTarget.value),!P&&!tn.current&&O&&$n(!0)},Vn=Ge=>{typeof D=="function"&&D(Ge),!P&&!tn.current&&O&&$n(!0)},St=xRe({data:Ft,searchable:O,searchValue:Hr,limit:ee,filter:N,value:Be,disableSelectedItemFiltering:mt}),Tr=(Ge,nn,qi)=>{let F=Ge;for(;qi(F);)if(F=nn(F),!St[F].disabled)return F;return Ge};io(()=>{Kn(Kt&&Hr?0:-1)},[Hr,Kt]),io(()=>{!P&&Be.length>g.length&&$n(!1),Ie&&Be.length<Ie&&(tn.current=!1),Ie&&Be.length>=Ie&&(tn.current=!0,$n(!1))},[Be]);const Sr=Ge=>{if(!nt)if(te&&Z(""),Be.includes(Ge.value))yt(Ge.value);else{if(Ge.creatable&&typeof ye=="function"){const nn=ye(Ge.value);typeof nn<"u"&&nn!==null&&en(typeof nn=="string"?[...Be,nn]:[...Be,nn.value])}else en([...Be,Ge.value]);Be.length===Ie-1&&(tn.current=!0,$n(!1)),dn===St.length-1&&Kn(St.length-2),St.length===1&&$n(!1)}},$r=Ge=>{typeof M=="function"&&M(Ge),He&&St[dn]&&Er&&Sr(St[dn]),X&&Z(""),$n(!1)},gs=Ge=>{if(W||(Ze==null||Ze(Ge),nt)||Ge.key!=="Backspace"&&Ie&&tn.current)return;const nn=ms==="column",qi=()=>{Kn(J=>{var V;const ie=Tr(J,ue=>ue+1,ue=>ue<St.length-1);return Er&&(pe.current=Ca.current[(V=St[ie])==null?void 0:V.value],he({alignment:nn?"end":"start"})),ie})},F=()=>{Kn(J=>{var V;const ie=Tr(J,ue=>ue-1,ue=>ue>0);return Er&&(pe.current=Ca.current[(V=St[ie])==null?void 0:V.value],he({alignment:nn?"start":"end"})),ie})};switch(Ge.key){case"ArrowUp":{Ge.preventDefault(),$n(!0),nn?F():qi();break}case"ArrowDown":{Ge.preventDefault(),$n(!0),nn?qi():F();break}case"Enter":{Ge.preventDefault(),St[dn]&&Er?Sr(St[dn]):$n(!0);break}case" ":{O||(Ge.preventDefault(),St[dn]&&Er?Sr(St[dn]):$n(!0));break}case"Backspace":{Be.length>0&&Hr.length===0&&(en(Be.slice(0,-1)),$n(!0),Ie&&(tn.current=!1));break}case"Home":{if(!O){Ge.preventDefault(),Er||$n(!0);const J=St.findIndex(V=>!V.disabled);Kn(J),he({alignment:nn?"end":"start"})}break}case"End":{if(!O){Ge.preventDefault(),Er||$n(!0);const J=St.map(V=>!!V.disabled).lastIndexOf(!1);Kn(J),he({alignment:nn?"end":"start"})}break}case"Escape":$n(!1)}},xi=Be.map(Ge=>{let nn=Ft.find(qi=>qi.value===Ge&&!qi.disabled);return!nn&&et&&(nn={value:Ge,label:Ge}),nn}).filter(Ge=>!!Ge).map(Ge=>$.createElement(m,AU(gp({},Ge),{variant:A,disabled:P,className:gn.value,readOnly:nt,onRemove:nn=>{nn.preventDefault(),nn.stopPropagation(),yt(Ge.value)},key:Ge.value,size:u,styles:f,classNames:c,radius:L}))),Wr=Ge=>Be.includes(Ge),Hi=()=>{var Ge;Z(""),en([]),(Ge=Nn.current)==null||Ge.focus(),Ie&&(tn.current=!1)};et&&we(Hr,Ft)&&(Ce=me(Hr),St.push({label:Hr,value:Hr,creatable:!0}));const Wi=!nt&&(St.length>0?Er:Er&&!!k);return io(()=>{const Ge=Wi?De:gt;typeof Ge=="function"&&Ge()},[Wi]),$.createElement(so.Wrapper,gp(gp({required:s,id:Dr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:We,errorProps:ht,descriptionProps:Xt,labelProps:At,inputContainer:xn,inputWrapperOrder:Fe,unstyled:ct,withAsterisk:at},Rs),d),$.createElement(Rf,{opened:Wi,transition:T,transitionDuration:x,shadow:"sm",withinPortal:Ye,__staticSelector:"MultiSelect",onDirectionChange:ei,switchDirectionOnFlip:Yt,zIndex:zt,dropdownPosition:ot,positionDependencies:[...Me,Hr],classNames:c,styles:f,unstyled:ct},$.createElement(Rf.Target,null,$.createElement("div",{className:gn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Er&&Wi?`${Dr}-items`:null,"aria-controls":Dr,"aria-expanded":Er,onMouseLeave:()=>Kn(-1),tabIndex:-1},$.createElement("input",{type:"hidden",name:je,value:Be.join(","),form:Te,disabled:P}),$.createElement(so,gp({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:A,disabled:P,invalid:!!l,required:s,radius:L,icon:Y,unstyled:ct,onMouseDown:Ge=>{var nn;Ge.preventDefault(),!P&&!tn.current&&$n(!Er),(nn=Nn.current)==null||nn.focus()},classNames:AU(gp({},c),{input:qn({[gn.input]:!O},c==null?void 0:c.input)})},Hte({theme:ps,rightSection:le,rightSectionWidth:ce,styles:f,size:u,shouldClear:se&&Be.length>0,clearButtonLabel:re,onClear:Hi,error:l,disabled:P,clearButtonTabIndex:ge,readOnly:nt})),$.createElement("div",{className:gn.values},xi,$.createElement("input",gp({ref:va(t,Nn),type:"search",id:Dr,className:qn(gn.searchInput,{[gn.searchInputPointer]:!O,[gn.searchInputInputHidden]:!Er&&Be.length>0||!O&&Be.length>0,[gn.searchInputEmpty]:Be.length===0}),onKeyDown:gs,value:Hr,onChange:kn,onFocus:Vn,onBlur:$r,readOnly:!O||tn.current||nt,placeholder:Be.length===0?B:void 0,disabled:P,"data-mantine-stop-propagation":Er,autoComplete:"off",onCompositionStart:()=>ne(!0),onCompositionEnd:()=>ne(!1)},di)))))),$.createElement(Rf.Dropdown,{component:Qe||EC,maxHeight:S,direction:ms,id:Dr,innerRef:Je,__staticSelector:"MultiSelect",classNames:c,styles:f},$.createElement(N3,{data:St,hovered:dn,classNames:c,styles:f,uuid:Dr,__staticSelector:"MultiSelect",onItemHover:Kn,onItemSelect:Sr,itemsRefs:Ca,itemComponent:v,size:u,nothingFound:k,isItemSelected:Wr,creatable:de&&!!Ce,createLabel:Ce,unstyled:ct}))))});Yte.displayName="@mantine/core/MultiSelect";var QRe=Object.defineProperty,XRe=Object.defineProperties,JRe=Object.getOwnPropertyDescriptors,OU=Object.getOwnPropertySymbols,ZRe=Object.prototype.hasOwnProperty,eNe=Object.prototype.propertyIsEnumerable,RU=(e,t,n)=>t in e?QRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NU=(e,t)=>{for(var n in t||(t={}))ZRe.call(t,n)&&RU(e,n,t[n]);if(OU)for(var n of OU(t))eNe.call(t,n)&&RU(e,n,t[n]);return e},tNe=(e,t)=>XRe(e,JRe(t)),nNe=ft((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:tNe(NU({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":NU({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),rNe=Object.defineProperty,DS=Object.getOwnPropertySymbols,Gte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,kU=(e,t,n)=>t in e?rNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iNe=(e,t)=>{for(var n in t||(t={}))Gte.call(t,n)&&kU(e,n,t[n]);if(DS)for(var n of DS(t))Kte.call(t,n)&&kU(e,n,t[n]);return e},sNe=(e,t)=>{var n={};for(var r in e)Gte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DS)for(var r of DS(e))t.indexOf(r)<0&&Kte.call(e,r)&&(n[r]=e[r]);return n};const oNe={variant:"light",childrenOffset:"lg"},Qte=b.forwardRef((e,t)=>{const n=qe("NavLink",oNe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:g,opened:y,defaultOpened:m,onChange:v,disableRightSectionRotation:_,childrenOffset:T,disabled:x,onClick:w}=n,S=sNe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:I,cx:k}=nNe({color:d,variant:h,noWrap:p,childrenOffset:T,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[D,M]=ha({value:y,defaultValue:m,finalValue:!1,onChange:v}),O=!!g,B=N=>{O?(N.preventDefault(),w==null||w(N),M(!D)):w==null||w(N)};return $.createElement($.Fragment,null,$.createElement(gC,iNe({ref:t,className:k(I.root,a),"data-active":f||void 0,onClick:B,unstyled:c,"data-expanded":D||void 0,"data-disabled":x||void 0,disabled:x},S),s&&$.createElement("span",{className:I.icon},s),$.createElement("span",{className:I.body},$.createElement(ut,{component:"span",size:"sm",className:I.label},r),$.createElement(ut,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:I.description},i)),(O||o)&&$.createElement("span",{className:I.rightSection,"data-rotate":D&&!_||void 0},O?o||$.createElement(Xbe,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),$.createElement(LX,{in:D},$.createElement("div",{className:I.children},g)))});Qte.displayName="@mantine/core/NavLink";const Xte=Qte,aNe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function DU({direction:e,size:t}){return $.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const Jte={xs:20,sm:24,md:30,lg:34,xl:36};var uNe=ft((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:Jte}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),lNe=Object.defineProperty,cNe=Object.defineProperties,fNe=Object.getOwnPropertyDescriptors,$S=Object.getOwnPropertySymbols,Zte=Object.prototype.hasOwnProperty,ene=Object.prototype.propertyIsEnumerable,$U=(e,t,n)=>t in e?lNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LO=(e,t)=>{for(var n in t||(t={}))Zte.call(t,n)&&$U(e,n,t[n]);if($S)for(var n of $S(t))ene.call(t,n)&&$U(e,n,t[n]);return e},dNe=(e,t)=>cNe(e,fNe(t)),hNe=(e,t)=>{var n={};for(var r in e)Zte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$S)for(var r of $S(e))t.indexOf(r)<0&&ene.call(e,r)&&(n[r]=e[r]);return n};const pNe={type:"text",size:"sm",__staticSelector:"TextInput"},Bv=b.forwardRef((e,t)=>{const n=DZ("TextInput",pNe,e),{inputProps:r,wrapperProps:i}=n,s=hNe(n,["inputProps","wrapperProps"]);return $.createElement(so.Wrapper,LO({},i),$.createElement(so,dNe(LO(LO({},r),s),{ref:t})))});Bv.displayName="@mantine/core/TextInput";var mNe=Object.defineProperty,gNe=Object.defineProperties,yNe=Object.getOwnPropertyDescriptors,LS=Object.getOwnPropertySymbols,tne=Object.prototype.hasOwnProperty,nne=Object.prototype.propertyIsEnumerable,LU=(e,t,n)=>t in e?mNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vNe=(e,t)=>{for(var n in t||(t={}))tne.call(t,n)&&LU(e,n,t[n]);if(LS)for(var n of LS(t))nne.call(t,n)&&LU(e,n,t[n]);return e},_Ne=(e,t)=>gNe(e,yNe(t)),bNe=(e,t)=>{var n={};for(var r in e)tne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LS)for(var r of LS(e))t.indexOf(r)<0&&nne.call(e,r)&&(n[r]=e[r]);return n};const wNe=e=>e||"",ENe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},MU={xs:10,sm:14,md:16,lg:18,xl:20},TNe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:wNe,parser:ENe,type:"text"},rne=b.forwardRef((e,t)=>{const n=qe("NumberInput",TNe,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:u,max:l,startValue:c,step:f,stepHoldInterval:d,stepHoldDelay:h,onBlur:p,onFocus:g,onKeyDown:y,onKeyUp:m,hideControls:v,radius:_,variant:T,precision:x,removeTrailingZeros:w,defaultValue:S,noClampOnBlur:I,handlersRef:k,classNames:D,styles:M,size:O,rightSection:B,rightSectionWidth:N,formatter:ee,parser:te,inputMode:se,unstyled:X,type:re}=n,A=bNe(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:H,cx:G,theme:P}=uNe({radius:_,size:O},{classNames:D,styles:M,unstyled:X,name:"NumberInput"}),R=Fe=>{if(Fe===void 0)return;let nt=Fe.toFixed(x);return w&&x>0&&(nt=nt.replace(new RegExp(`[0]{0,${x}}$`),""),(nt.endsWith(".")||nt.endsWith(a))&&(nt=nt.slice(0,-1))),nt},[L,Y]=b.useState(!1),[le,ce]=b.useState(typeof s=="number"?s:typeof S=="number"?S:void 0),de=typeof s=="number"?s:le,[me,we]=b.useState(typeof de=="number"?R(de):""),ye=b.useRef(),We=Fe=>{Fe!==le&&!Number.isNaN(Fe)&&(typeof o=="function"&&o(Fe),ce(Fe))},Qe=(Fe="")=>{let nt=typeof Fe=="number"?String(Fe):Fe;return a&&(nt=nt.replace(/\./g,a)),ee(nt)},gt=Fe=>{let nt=Fe;return a&&(nt=nt.replace(new RegExp(`\\${a}`,"g"),".")),te(nt)},De=typeof u=="number"?u:-1/0,Ie=typeof l=="number"?l:1/0,Ye=b.useRef();Ye.current=()=>{var Fe,nt,at;if(le===void 0)We((Fe=c??u)!=null?Fe:0),we((at=(nt=R(c))!=null?nt:R(u))!=null?at:"0");else{const Kt=R(Of(le+f,De,Ie));We(parseFloat(Kt)),we(Kt)}};const Yt=b.useRef();Yt.current=()=>{var Fe,nt,at;if(le===void 0)We((Fe=c??u)!=null?Fe:0),we((at=(nt=R(c))!=null?nt:R(u))!=null?at:"0");else{const Kt=R(Of(le-f,De,Ie));We(parseFloat(Kt)),we(Kt)}},wX(k,{increment:Ye.current,decrement:Yt.current}),b.useEffect(()=>{typeof s=="number"&&!L&&(ce(s),we(R(s))),S===void 0&&s===void 0&&!L&&(ce(s),we(""))},[s,x]);const zt=h!==void 0&&d!==void 0,He=b.useRef(null),je=b.useRef(0),ot=()=>{He.current&&window.clearTimeout(He.current),He.current=null,je.current=0},ht=Fe=>{Fe?Ye.current():Yt.current(),je.current+=1},At=Fe=>{if(ht(Fe),zt){const nt=typeof d=="number"?d:d(je.current);He.current=window.setTimeout(()=>At(Fe),nt)}},Xt=(Fe,nt)=>{Fe.preventDefault(),ye.current.focus(),ht(nt),zt&&(He.current=window.setTimeout(()=>At(nt),h))};b.useEffect(()=>(ot(),ot),[]);const ge=$.createElement("div",{className:H.rightSection},$.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de>=l,className:G(H.control,H.controlUp),onPointerDown:Fe=>{Xt(Fe,!0)},onPointerUp:ot,onPointerLeave:ot},$.createElement(DU,{size:P.fn.size({size:O,sizes:MU}),direction:"up"})),$.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de<=u,className:G(H.control,H.controlDown),onPointerDown:Fe=>{Xt(Fe,!1)},onPointerUp:ot,onPointerLeave:ot},$.createElement(DU,{size:P.fn.size({size:O,sizes:MU}),direction:"down"}))),Te=Fe=>{if(Fe.nativeEvent.isComposing)return;const at=Fe.target.value,Kt=gt(at);we(Kt),at===""||at==="-"?We(void 0):at.trim()!==""&&!Number.isNaN(Kt)&&We(parseFloat(Kt))},Me=Fe=>{var nt;if(Fe.target.value==="")we(""),We(void 0);else{let at=Fe.target.value;(at[0]===`${a}`||at[0]===".")&&(at=`0${at}`);const Kt=gt(at),mt=Of(parseFloat(Kt),De,Ie);Number.isNaN(mt)?we((nt=R(de))!=null?nt:""):I||(we(R(mt)),We(parseFloat(R(mt))))}Y(!1),typeof p=="function"&&p(Fe)},Ze=Fe=>{Y(!0),typeof g=="function"&&g(Fe)},ct=Fe=>{if(typeof y=="function"&&y(Fe),Fe.repeat&&zt&&(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")){Fe.preventDefault();return}r||(Fe.key==="ArrowUp"?Xt(Fe,!0):Fe.key==="ArrowDown"&&Xt(Fe,!1))},xn=Fe=>{typeof m=="function"&&m(Fe),(Fe.key==="ArrowUp"||Fe.key==="ArrowDown")&&ot()};return $.createElement(Bv,_Ne(vNe({},A),{type:re,variant:T,value:Qe(me),disabled:i,readOnly:r,ref:va(ye,t),onChange:Te,onBlur:Me,onFocus:Ze,onKeyDown:ct,onKeyUp:xn,rightSection:B||(i||r||v||T==="unstyled"?null:ge),rightSectionWidth:N||P.fn.size({size:O,sizes:Jte})+1,radius:_,max:l,min:u,step:f,size:O,styles:M,classNames:D,inputMode:se||aNe(f,x,sbe()),__staticSelector:"NumberInput",unstyled:X}))});rne.displayName="@mantine/core/NumberInput";const FU={xs:3,sm:5,md:8,lg:12,xl:16},SNe=K_e({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var xNe=ft((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:FU}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${SNe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:FU})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const ine=b.createContext(!1),INe=ine.Provider,CNe=()=>b.useContext(ine);function sne({children:e,openDelay:t=0,closeDelay:n=0}){return $.createElement(INe,{value:!0},$.createElement(gxe,{delay:{open:t,close:n}},e))}sne.displayName="@mantine/core/TooltipGroup";var ANe=Object.defineProperty,PNe=Object.defineProperties,ONe=Object.getOwnPropertyDescriptors,jU=Object.getOwnPropertySymbols,RNe=Object.prototype.hasOwnProperty,NNe=Object.prototype.propertyIsEnumerable,BU=(e,t,n)=>t in e?ANe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UU=(e,t)=>{for(var n in t||(t={}))RNe.call(t,n)&&BU(e,n,t[n]);if(jU)for(var n of jU(t))NNe.call(t,n)&&BU(e,n,t[n]);return e},kNe=(e,t)=>PNe(e,ONe(t));function DNe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var one=ft((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:kNe(UU(UU({},e.fn.fontStyles()),DNe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const ane={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function $Ne({offset:e,position:t}){const[n,r]=b.useState(!1),i=b.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=Y3({placement:t,middleware:[H3({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=b.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return b.useEffect(()=>{if(l.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=ec(l.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,l.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var LNe=Object.defineProperty,MNe=Object.defineProperties,FNe=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,une=Object.prototype.hasOwnProperty,lne=Object.prototype.propertyIsEnumerable,VU=(e,t,n)=>t in e?LNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MO=(e,t)=>{for(var n in t||(t={}))une.call(t,n)&&VU(e,n,t[n]);if(MS)for(var n of MS(t))lne.call(t,n)&&VU(e,n,t[n]);return e},FO=(e,t)=>MNe(e,FNe(t)),jNe=(e,t)=>{var n={};for(var r in e)une.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&lne.call(e,r)&&(n[r]=e[r]);return n};const BNe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Cc("popover")};function cne(e){var t;const n=qe("TooltipFloating",BNe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:v,disabled:_}=n,T=jNe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:x,x:w,y:S,opened:I,boundaryRef:k,floating:D,setOpened:M}=$Ne({offset:p,position:g}),{classes:O,cx:B}=one({radius:f,color:d,multiline:y,width:m},{name:"TooltipFloating",classNames:u,styles:l,unstyled:c});if(!J_(r))throw new Error(ane.children);const N=va(k,r.ref),ee=se=>{var X,re;(re=(X=r.props).onMouseEnter)==null||re.call(X,se),x(se),M(!0)},te=se=>{var X,re;(re=(X=r.props).onMouseLeave)==null||re.call(X,se),M(!1)};return $.createElement($.Fragment,null,$.createElement(t1,{withinPortal:s},$.createElement(st,FO(MO({},T),{ref:D,className:B(O.tooltip,a),style:FO(MO({},o),{zIndex:v,display:!_&&I?"block":"none",top:S??"",left:(t=Math.round(w))!=null?t:""})}),h)),b.cloneElement(r,FO(MO({},r.props),{[i]:N,onMouseEnter:ee,onMouseLeave:te})))}cne.displayName="@mantine/core/TooltipFloating";function UNe(e){const[t,n]=b.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=CNe(),o=uu(),{delay:a,currentId:u,setCurrentId:l}=hZ(),c=b.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:v,middlewareData:{arrow:{x:_,y:T}={}}}=Y3({placement:e.position,open:i,onOpenChange:c,middleware:[XJ(e.offset),H3({padding:8}),oZ(),uZ({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[aZ()]:[]]}),{getReferenceProps:x,getFloatingProps:w}=Axe([mxe(g,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),Ixe(g,{enabled:e.events.focus,keyboardOnly:!0}),Cxe(g,{role:"tooltip"}),xxe(g,{enabled:typeof e.opened===void 0}),yxe(g,{id:o})]);return mZ({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),io(()=>{var I;(I=e.onPositionChange)==null||I.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:T,reference:h,floating:p,getFloatingProps:w,getReferenceProps:x,isGroupPhase:i&&u&&u!==o,opened:i,placement:v}}var VNe=Object.defineProperty,zNe=Object.defineProperties,HNe=Object.getOwnPropertyDescriptors,FS=Object.getOwnPropertySymbols,fne=Object.prototype.hasOwnProperty,dne=Object.prototype.propertyIsEnumerable,zU=(e,t,n)=>t in e?VNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0=(e,t)=>{for(var n in t||(t={}))fne.call(t,n)&&zU(e,n,t[n]);if(FS)for(var n of FS(t))dne.call(t,n)&&zU(e,n,t[n]);return e},WNe=(e,t)=>zNe(e,HNe(t)),qNe=(e,t)=>{var n={};for(var r in e)fne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FS)for(var r of FS(e))t.indexOf(r)<0&&dne.call(e,r)&&(n[r]=e[r]);return n};const YNe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Cc("popover"),positionDependencies:[]},AC=b.forwardRef((e,t)=>{const n=b.useRef(null),r=qe("Tooltip",YNe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:v,className:_,withArrow:T,arrowSize:x,arrowOffset:w,arrowRadius:S,arrowPosition:I,offset:k,transition:D,transitionDuration:M,multiline:O,width:B,events:N,zIndex:ee,disabled:te,positionDependencies:se,onClick:X,onMouseEnter:re,onMouseLeave:A,inline:H}=r,G=qNe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:P,cx:R,theme:L}=one({radius:h,color:p,width:B,multiline:O},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),Y=UNe({position:PZ(L.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:N,arrowRef:n,arrowOffset:w,offset:k+(T?x/2:0),positionDependencies:[...se,i],inline:H});if(!J_(i))throw new Error(ane.children);const le=va(Y.reference,i.ref,t);return $.createElement($.Fragment,null,$.createElement(t1,{withinPortal:d},$.createElement(xC,{mounted:!te&&Y.opened,transition:D,duration:Y.isGroupPhase?10:M},ce=>{var de,me;return $.createElement(st,k0(k0({},G),Y.getFloatingProps({ref:Y.floating,className:P.tooltip,style:WNe(k0(k0({},v),ce),{zIndex:ee,top:(de=Y.y)!=null?de:0,left:(me=Y.x)!=null?me:0})})),a,$.createElement(G3,{ref:n,arrowX:Y.arrowX,arrowY:Y.arrowY,visible:T,withBorder:!1,position:Y.placement,arrowSize:x,arrowOffset:w,arrowRadius:S,arrowPosition:I,className:P.arrow}))})),b.cloneElement(i,Y.getReferenceProps(k0({onClick:X,onMouseEnter:re,onMouseLeave:A,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:le,className:R(_,i.props.className)},i.props))))});AC.Group=sne;AC.Floating=cne;AC.displayName="@mantine/core/Tooltip";const a1=AC;var GNe=Object.defineProperty,KNe=Object.defineProperties,QNe=Object.getOwnPropertyDescriptors,jS=Object.getOwnPropertySymbols,hne=Object.prototype.hasOwnProperty,pne=Object.prototype.propertyIsEnumerable,HU=(e,t,n)=>t in e?GNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KN=(e,t)=>{for(var n in t||(t={}))hne.call(t,n)&&HU(e,n,t[n]);if(jS)for(var n of jS(t))pne.call(t,n)&&HU(e,n,t[n]);return e},mne=(e,t)=>KNe(e,QNe(t)),WU=(e,t)=>{var n={};for(var r in e)hne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jS)for(var r of jS(e))t.indexOf(r)<0&&pne.call(e,r)&&(n[r]=e[r]);return n};function XNe(e){return e.reduce((t,n)=>(t.sections.push(mne(KN({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const JNe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},gne=b.forwardRef((e,t)=>{const n=qe("Progress",JNe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=WU(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:v,theme:_}=xNe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:g,name:"Progress"}),T=Array.isArray(p)?XNe(p).map((x,w)=>{var S=x,{tooltip:I,accumulated:k,value:D,label:M,color:O}=S,B=WU(S,["tooltip","accumulated","value","label","color"]);return $.createElement(a1.Floating,{label:I,disabled:!I,key:w},$.createElement(st,mne(KN({},B),{className:v(m.bar,B.className),sx:{width:`${D}%`,left:`${k}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:O||_.primaryColor}).background}}),M&&$.createElement(ut,{className:m.label},M)))}):null;return $.createElement(st,KN({className:v(m.root,r),ref:t},y),T||$.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?$.createElement(ut,{className:m.label},c):""))});gne.displayName="@mantine/core/Progress";var ZNe=Object.defineProperty,qU=Object.getOwnPropertySymbols,eke=Object.prototype.hasOwnProperty,tke=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?ZNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nke=(e,t)=>{for(var n in t||(t={}))eke.call(t,n)&&YU(e,n,t[n]);if(qU)for(var n of qU(t))tke.call(t,n)&&YU(e,n,t[n]);return e};function rke(e){return $.createElement("svg",nke({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),$.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const yne=b.createContext(null),ike=yne.Provider,ske=()=>b.useContext(yne);var oke=Object.defineProperty,BS=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,GU=(e,t,n)=>t in e?oke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KU=(e,t)=>{for(var n in t||(t={}))vne.call(t,n)&&GU(e,n,t[n]);if(BS)for(var n of BS(t))_ne.call(t,n)&&GU(e,n,t[n]);return e},ake=(e,t)=>{var n={};for(var r in e)vne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BS)for(var r of BS(e))t.indexOf(r)<0&&_ne.call(e,r)&&(n[r]=e[r]);return n};const uke={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},bne=b.forwardRef((e,t)=>{const n=qe("RadioGroup",uke,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=ake(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),g=uu(h),[y,m]=ha({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>m(_.currentTarget.value);return $.createElement(ike,{value:{value:y,onChange:v,size:l,name:g}},$.createElement(so.Wrapper,KU(KU({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),$.createElement(Tee,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});bne.displayName="@mantine/core/RadioGroup";var lke=Object.defineProperty,cke=Object.defineProperties,fke=Object.getOwnPropertyDescriptors,QU=Object.getOwnPropertySymbols,dke=Object.prototype.hasOwnProperty,hke=Object.prototype.propertyIsEnumerable,XU=(e,t,n)=>t in e?lke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pke=(e,t)=>{for(var n in t||(t={}))dke.call(t,n)&&XU(e,n,t[n]);if(QU)for(var n of QU(t))hke.call(t,n)&&XU(e,n,t[n]);return e},mke=(e,t)=>cke(e,fke(t));const jO={xs:16,sm:20,md:24,lg:30,xl:36},Ub={xs:6,sm:8,md:10,lg:14,xl:16};var gke=ft((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Ub,size:t}),height:e.fn.size({sizes:Ub,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Ub,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Ub,size:t})/2}px)`},radio:mke(pke({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:jO,size:t}),height:e.fn.size({sizes:jO,size:t}),borderRadius:e.fn.size({sizes:jO,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),yke=Object.defineProperty,US=Object.getOwnPropertySymbols,wne=Object.prototype.hasOwnProperty,Ene=Object.prototype.propertyIsEnumerable,JU=(e,t,n)=>t in e?yke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vb=(e,t)=>{for(var n in t||(t={}))wne.call(t,n)&&JU(e,n,t[n]);if(US)for(var n of US(t))Ene.call(t,n)&&JU(e,n,t[n]);return e},vke=(e,t)=>{var n={};for(var r in e)wne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&US)for(var r of US(e))t.indexOf(r)<0&&Ene.call(e,r)&&(n[r]=e[r]);return n};const _ke={icon:rke,transitionDuration:100,size:"sm",labelPosition:"right"},VS=b.forwardRef((e,t)=>{var n,r;const i=qe("Radio",_ke,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:v,unstyled:_,labelPosition:T,description:x,error:w}=i,S=vke(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=ske(),k=(n=I==null?void 0:I.size)!=null?n:l,D=e.size?l:k,{classes:M}=gke({color:d,size:D,transitionDuration:m,labelPosition:T,error:!!w},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:O,rest:B}=dd(S),N=uu(a),ee=I?{checked:I.value===B.value,name:(r=B.name)!=null?r:I.name,onChange:I.onChange}:{};return $.createElement(e6,Vb(Vb({className:s,sx:g,style:o,id:N,size:D,labelPosition:T,label:u,description:x,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":ee.checked||void 0},O),v),$.createElement("div",{className:M.inner},$.createElement("input",Vb(Vb({ref:t,className:M.radio,type:"radio",id:N,disabled:f},B),ee)),$.createElement(y,{className:M.icon,"aria-hidden":!0})))});VS.displayName="@mantine/core/Radio";VS.Group=bne;var bke=Object.defineProperty,wke=Object.defineProperties,Eke=Object.getOwnPropertyDescriptors,ZU=Object.getOwnPropertySymbols,Tke=Object.prototype.hasOwnProperty,Ske=Object.prototype.propertyIsEnumerable,eV=(e,t,n)=>t in e?bke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zb=(e,t)=>{for(var n in t||(t={}))Tke.call(t,n)&&eV(e,n,t[n]);if(ZU)for(var n of ZU(t))Ske.call(t,n)&&eV(e,n,t[n]);return e},xke=(e,t)=>wke(e,Eke(t));const rE=4,tV={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var Ike=ft((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:xke(zb(zb({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:tV[a in tV?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:zb({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:zb({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:rE},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),Cke=Object.defineProperty,zS=Object.getOwnPropertySymbols,Tne=Object.prototype.hasOwnProperty,Sne=Object.prototype.propertyIsEnumerable,nV=(e,t,n)=>t in e?Cke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ake=(e,t)=>{for(var n in t||(t={}))Tne.call(t,n)&&nV(e,n,t[n]);if(zS)for(var n of zS(t))Sne.call(t,n)&&nV(e,n,t[n]);return e},Pke=(e,t)=>{var n={};for(var r in e)Tne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zS)for(var r of zS(e))t.indexOf(r)<0&&Sne.call(e,r)&&(n[r]=e[r]);return n};const Oke={disabled:!1,size:"sm",transitionDuration:200},xne=b.forwardRef((e,t)=>{var n,r,i,s;const o=qe("SegmentedControl",Oke,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:v,classNames:_,styles:T,defaultValue:x,orientation:w,unstyled:S}=o,I=Pke(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),k=Vi(),D=mC(),M=k.respectReducedMotion?D:!1,O=l.map(ce=>typeof ce=="string"?{label:ce,value:ce}:ce),B=b.useRef(),[N,ee]=b.useState(!1),[te,se]=ha({value:f,defaultValue:x,finalValue:Array.isArray(O)&&(s=(i=(n=O.find(ce=>!ce.disabled))==null?void 0:n.value)!=null?i:(r=O[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:X,cx:re}=Ike({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:M||!N,transitionDuration:m,transitionTimingFunction:v,orientation:w},{classNames:_,styles:T,unstyled:S,name:"SegmentedControl"}),[A,H]=b.useState({width:0,height:0,translate:[0,0]}),G=uu(c),P=b.useRef({}),[R,L]=Xu();A3(()=>{B.current?ee(!0):(B.current=!0,ee(!1))}),b.useEffect(()=>{if(te in P.current&&R.current){const ce=P.current[te],de=ce.getBoundingClientRect(),me=ce.offsetWidth/de.width,we=de.width*me||0,ye=de.height*me||0,We=L.width-ce.parentElement.offsetLeft+rE-we,Qe=ce.parentElement.offsetLeft-rE;H({width:we,height:ye,translate:[k.dir==="rtl"?We:Qe,ce.parentElement.offsetTop-rE]})}},[te,L]);const Y=O.map(ce=>$.createElement("div",{className:re(X.control,{[X.controlActive]:te===ce.value}),key:ce.value},$.createElement("input",{className:X.input,disabled:u||ce.disabled,type:"radio",name:G,value:ce.value,id:`${G}-${ce.value}`,checked:te===ce.value,onChange:()=>se(ce.value)}),$.createElement("label",{className:re(X.label,{[X.labelActive]:te===ce.value,[X.disabled]:u||ce.disabled}),htmlFor:`${G}-${ce.value}`,ref:de=>{P.current[ce.value]=de}},ce.label))),le=va(R,t);return O.length===0?null:$.createElement(st,Ake({className:re(X.root,a),ref:le},I),typeof te=="string"&&N&&$.createElement(st,{component:"span",className:X.active,sx:{width:A.width,height:A.height,transform:`translate(${A.translate[0]}px, ${A.translate[1]}px )`}}),Y)});xne.displayName="@mantine/core/SegmentedControl";function Rke({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const l=e.indexOf(a),c=l+n,f=c-e.length;return f>0?e.slice(l-f):e.slice(l,c)}return e}const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var Nke=ft(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),kke=Object.defineProperty,Dke=Object.defineProperties,$ke=Object.getOwnPropertyDescriptors,HS=Object.getOwnPropertySymbols,Ine=Object.prototype.hasOwnProperty,Cne=Object.prototype.propertyIsEnumerable,rV=(e,t,n)=>t in e?kke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D0=(e,t)=>{for(var n in t||(t={}))Ine.call(t,n)&&rV(e,n,t[n]);if(HS)for(var n of HS(t))Cne.call(t,n)&&rV(e,n,t[n]);return e},BO=(e,t)=>Dke(e,$ke(t)),Lke=(e,t)=>{var n={};for(var r in e)Ine.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HS)for(var r of HS(e))t.indexOf(r)<0&&Cne.call(e,r)&&(n[r]=e[r]);return n};function Mke(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Fke(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const jke={required:!1,size:"sm",shadow:"sm",itemComponent:k3,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:Mke,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:Fke,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Cc("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Fy=b.forwardRef((e,t)=>{const n=DZ("Select",jke,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:v,classNames:_,styles:T,filter:x,maxDropdownHeight:w,searchable:S,clearable:I,nothingFound:k,clearButtonLabel:D,limit:M,disabled:O,onSearchChange:B,searchValue:N,rightSection:ee,rightSectionWidth:te,creatable:se,getCreateLabel:X,shouldCreate:re,selectOnBlur:A,onCreate:H,dropdownComponent:G,onDropdownClose:P,onDropdownOpen:R,withinPortal:L,switchDirectionOnFlip:Y,zIndex:le,name:ce,dropdownPosition:de,allowDeselect:me,placeholder:we,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:We,form:Qe,positionDependencies:gt,readOnly:De,hoverOnSearchChange:Ie}=n,Ye=Lke(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:Yt,cx:zt,theme:He}=Nke(),[je,ot]=b.useState(y),[ht,At]=b.useState(-1),Xt=b.useRef(),ge=b.useRef({}),[Te,Me]=b.useState("column"),Ze=Te==="column",{scrollIntoView:ct,targetRef:xn,scrollableRef:Fe}=SX({duration:0,offset:5,cancelable:!1,isList:!0}),nt=me===void 0?I:me,at=Ce=>{if(je!==Ce){ot(Ce);const rt=Ce?R:P;typeof rt=="function"&&rt()}},Kt=se&&typeof X=="function";let mt=null;const wr=o.map(Ce=>typeof Ce=="string"?{label:Ce,value:Ce}:Ce),gn=VQ({data:wr}),[qn,ps,Rs]=ha({value:a,defaultValue:u,finalValue:null,onChange:l}),di=gn.find(Ce=>Ce.value===qn),[Nn,Ca]=ha({value:N,defaultValue:(di==null?void 0:di.label)||"",finalValue:void 0,onChange:B}),Dr=Ce=>{Ca(Ce),S&&typeof B=="function"&&B(Ce)},Er=()=>{var Ce;De||(ps(null),Rs||Dr(""),(Ce=Xt.current)==null||Ce.focus())};b.useEffect(()=>{const Ce=gn.find(rt=>rt.value===qn);Ce?Dr(Ce.label):(!Kt||!qn)&&Dr("")},[qn]),b.useEffect(()=>{di&&(!S||!je)&&Dr(di.label)},[di==null?void 0:di.label]);const $n=Ce=>{if(!De)if(nt&&(di==null?void 0:di.value)===Ce.value)ps(null),at(!1);else{if(Ce.creatable&&typeof H=="function"){const rt=H(Ce.value);typeof rt<"u"&&rt!==null&&ps(typeof rt=="string"?rt:rt.value)}else ps(Ce.value);Rs||Dr(Ce.label),At(-1),at(!1),Xt.current.focus()}},dn=Rke({data:gn,searchable:S,limit:M,searchValue:Nn,filter:x,filterDataOnExactSearchMatch:ye,value:qn});Kt&&re(Nn,dn)&&(mt=X(Nn),dn.push({label:Nn,value:Nn,creatable:!0}));const Kn=(Ce,rt,Ft)=>{let Be=Ce;for(;Ft(Be);)if(Be=rt(Be),!dn[Be].disabled)return Be;return Ce};io(()=>{At(Ie&&Nn?0:-1)},[Nn,Ie]);const ms=qn?dn.findIndex(Ce=>Ce.value===qn):0,ei=!De&&(dn.length>0?je:je&&!!k),Hr=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,Be=>Be-1,Be=>Be>0);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],ei&&ct({alignment:Ze?"start":"end"}),Ft})},Z=()=>{At(Ce=>{var rt;const Ft=Kn(Ce,Be=>Be+1,Be=>Be<dn.length-1);return xn.current=ge.current[(rt=dn[Ft])==null?void 0:rt.value],ei&&ct({alignment:Ze?"end":"start"}),Ft})},W=()=>window.setTimeout(()=>{var Ce;xn.current=ge.current[(Ce=dn[ms])==null?void 0:Ce.value],ct({alignment:Ze?"end":"start"})},0);io(()=>{ei&&W()},[ei]);const ne=Ce=>{switch(typeof f=="function"&&f(Ce),Ce.key){case"ArrowUp":{Ce.preventDefault(),je?Ze?Hr():Z():(At(ms),at(!0),W());break}case"ArrowDown":{Ce.preventDefault(),je?Ze?Z():Hr():(At(ms),at(!0),W());break}case"Home":{if(!S){Ce.preventDefault(),je||at(!0);const rt=dn.findIndex(Ft=>!Ft.disabled);At(rt),ei&&ct({alignment:Ze?"end":"start"})}break}case"End":{if(!S){Ce.preventDefault(),je||at(!0);const rt=dn.map(Ft=>!!Ft.disabled).lastIndexOf(!1);At(rt),ei&&ct({alignment:Ze?"end":"start"})}break}case"Escape":{Ce.preventDefault(),at(!1),At(-1);break}case" ":{S||(Ce.preventDefault(),dn[ht]&&je?$n(dn[ht]):(at(!0),At(ms),W()));break}case"Enter":S||Ce.preventDefault(),dn[ht]&&je&&(Ce.preventDefault(),$n(dn[ht]))}},he=Ce=>{typeof d=="function"&&d(Ce);const rt=gn.find(Ft=>Ft.value===qn);A&&dn[ht]&&je&&$n(dn[ht]),Dr((rt==null?void 0:rt.label)||""),at(!1)},pe=Ce=>{typeof h=="function"&&h(Ce),S&&at(!0)},Je=Ce=>{De||(Dr(Ce.currentTarget.value),I&&Ce.currentTarget.value===""&&ps(null),At(-1),at(!0))},et=()=>{De||(at(!je),qn&&!je&&At(ms))};return $.createElement(so.Wrapper,BO(D0({},i),{__staticSelector:"Select"}),$.createElement(Rf,{opened:ei,transition:p,transitionDuration:g,shadow:"sm",withinPortal:L,__staticSelector:"Select",onDirectionChange:Me,switchDirectionOnFlip:Y,zIndex:le,dropdownPosition:de,positionDependencies:[...gt,Nn],classNames:_,styles:T,unstyled:v},$.createElement(Rf.Target,null,$.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":ei?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":ei,onMouseLeave:()=>At(-1),tabIndex:-1},$.createElement("input",{type:"hidden",name:ce,value:qn||"",form:Qe,disabled:O}),$.createElement(so,D0(BO(D0(D0({autoComplete:"off",type:"search"},r),Ye),{ref:va(t,Xt),onKeyDown:ne,__staticSelector:"Select",value:Nn,placeholder:we,onChange:Je,"aria-autocomplete":"list","aria-controls":ei?`${r.id}-items`:null,"aria-activedescendant":ht>=0?`${r.id}-${ht}`:null,onMouseDown:et,onBlur:he,onFocus:pe,readOnly:!S||De,disabled:O,"data-mantine-stop-propagation":ei,name:null,classNames:BO(D0({},_),{input:zt({[Yt.input]:!S},_==null?void 0:_.input)})}),Hte({theme:He,rightSection:ee,rightSectionWidth:te,styles:T,size:r.size,shouldClear:I&&!!di,clearButtonLabel:D,onClear:Er,error:i.error,clearButtonTabIndex:We,disabled:O,readOnly:De}))))),$.createElement(Rf.Dropdown,{component:G||EC,maxHeight:w,direction:Te,id:r.id,innerRef:Fe,__staticSelector:"Select",classNames:_,styles:T},$.createElement(N3,{data:dn,hovered:ht,classNames:_,styles:T,isItemSelected:Ce=>Ce===qn,uuid:r.id,__staticSelector:"Select",onItemHover:At,onItemSelect:$n,itemsRefs:ge,itemComponent:c,size:r.size,nothingFound:k,creatable:Kt&&!!mt,createLabel:mt,"aria-label":i.label,unstyled:v}))))});Fy.displayName="@mantine/core/Select";function WS({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function QN({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var Bke=Object.defineProperty,Uke=Object.defineProperties,Vke=Object.getOwnPropertyDescriptors,iV=Object.getOwnPropertySymbols,zke=Object.prototype.hasOwnProperty,Hke=Object.prototype.propertyIsEnumerable,sV=(e,t,n)=>t in e?Bke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wke=(e,t)=>{for(var n in t||(t={}))zke.call(t,n)&&sV(e,n,t[n]);if(iV)for(var n of iV(t))Hke.call(t,n)&&sV(e,n,t[n]);return e},qke=(e,t)=>Uke(e,Vke(t));const Ks={xs:4,sm:6,md:8,lg:10,xl:12};var Yke=ft((e,{size:t,disabled:n})=>({root:qke(Wke({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ks,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const Gke=Yke;var Kke=Object.defineProperty,Qke=Object.defineProperties,Xke=Object.getOwnPropertyDescriptors,oV=Object.getOwnPropertySymbols,Jke=Object.prototype.hasOwnProperty,Zke=Object.prototype.propertyIsEnumerable,aV=(e,t,n)=>t in e?Kke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eDe=(e,t)=>{for(var n in t||(t={}))Jke.call(t,n)&&aV(e,n,t[n]);if(oV)for(var n of oV(t))Zke.call(t,n)&&aV(e,n,t[n]);return e},tDe=(e,t)=>Qke(e,Xke(t)),nDe=ft((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:tDe(eDe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ks,size:n})*2,width:i||e.fn.size({sizes:Ks,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const qS=b.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:v,children:_=null,disabled:T,unstyled:x,thumbSize:w},S)=>{const{classes:I,cx:k,theme:D}=nDe({color:a,size:c,disabled:T,thumbSize:w},{classNames:u,styles:l,unstyled:x,name:"Slider"}),[M,O]=b.useState(!1),B=p||s||M||v;return $.createElement(st,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:S,className:k(I.thumb,{[I.dragging]:s}),onFocus:()=>{O(!0),typeof y=="function"&&y()},onBlur:()=>{O(!1),typeof m=="function"&&m()},onTouchStart:o,onMouseDown:o,onClick:N=>N.stopPropagation(),style:{[D.dir==="rtl"?"right":"left"]:`${r}%`}},_,$.createElement(xC,{mounted:i!=null&&B,duration:d,transition:f,timingFunction:h||D.transitionTimingFunction},N=>$.createElement("div",{style:N,className:I.label},i)))});qS.displayName="@mantine/core/SliderThumb";function rDe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var iDe=ft((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ks})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ks,size:t}),width:e.fn.size({sizes:Ks,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ks,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function Ane({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=iDe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>$.createElement(st,{className:h.markWrapper,sx:{left:`${WS({value:y.value,min:r,max:i})}%`},key:m},$.createElement("div",{className:p(h.mark,{[h.markFilled]:rDe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&$.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),l(y.value)},onTouchStart:v=>{v.stopPropagation(),l(y.value)}},y.label)));return $.createElement("div",null,g)}Ane.displayName="@mantine/core/SliderMarks";var sDe=ft((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ks,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ks}),marginLeft:e.fn.size({size:n,sizes:Ks}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ks}),left:-e.fn.size({size:n,sizes:Ks}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),oDe=Object.defineProperty,aDe=Object.defineProperties,uDe=Object.getOwnPropertyDescriptors,YS=Object.getOwnPropertySymbols,Pne=Object.prototype.hasOwnProperty,One=Object.prototype.propertyIsEnumerable,uV=(e,t,n)=>t in e?oDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lDe=(e,t)=>{for(var n in t||(t={}))Pne.call(t,n)&&uV(e,n,t[n]);if(YS)for(var n of YS(t))One.call(t,n)&&uV(e,n,t[n]);return e},cDe=(e,t)=>aDe(e,uDe(t)),fDe=(e,t)=>{var n={};for(var r in e)Pne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YS)for(var r of YS(e))t.indexOf(r)<0&&One.call(e,r)&&(n[r]=e[r]);return n};function n6(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=fDe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=sDe({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:s,styles:o,unstyled:p,name:"Slider"});return $.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},$.createElement(st,{className:m.bar,sx:v=>({left:`calc(${l}% - ${v.fn.size({size:r,sizes:Ks})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:Ks})}px)`})}),u,$.createElement(Ane,cDe(lDe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:g})))}n6.displayName="@mantine/core/SliderTrack";var dDe=Object.defineProperty,hDe=Object.defineProperties,pDe=Object.getOwnPropertyDescriptors,GS=Object.getOwnPropertySymbols,Rne=Object.prototype.hasOwnProperty,Nne=Object.prototype.propertyIsEnumerable,lV=(e,t,n)=>t in e?dDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mDe=(e,t)=>{for(var n in t||(t={}))Rne.call(t,n)&&lV(e,n,t[n]);if(GS)for(var n of GS(t))Nne.call(t,n)&&lV(e,n,t[n]);return e},gDe=(e,t)=>hDe(e,pDe(t)),yDe=(e,t)=>{var n={};for(var r in e)Rne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GS)for(var r of GS(e))t.indexOf(r)<0&&Nne.call(e,r)&&(n[r]=e[r]);return n};const r6=b.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=yDe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=Gke({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return $.createElement(st,gDe(mDe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});r6.displayName="@mantine/core/SliderRoot";var vDe=Object.defineProperty,_De=Object.defineProperties,bDe=Object.getOwnPropertyDescriptors,KS=Object.getOwnPropertySymbols,kne=Object.prototype.hasOwnProperty,Dne=Object.prototype.propertyIsEnumerable,cV=(e,t,n)=>t in e?vDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wDe=(e,t)=>{for(var n in t||(t={}))kne.call(t,n)&&cV(e,n,t[n]);if(KS)for(var n of KS(t))Dne.call(t,n)&&cV(e,n,t[n]);return e},EDe=(e,t)=>_De(e,bDe(t)),TDe=(e,t)=>{var n={};for(var r in e)kne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KS)for(var r of KS(e))t.indexOf(r)<0&&Dne.call(e,r)&&(n[r]=e[r]);return n};const SDe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},PC=b.forwardRef((e,t)=>{const n=qe("Slider",SDe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:v,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:x,labelAlwaysOn:w,thumbLabel:S,showLabelOnHover:I,thumbChildren:k,disabled:D,unstyled:M,thumbSize:O,scale:B,inverted:N}=n,ee=TDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),te=Vi(),[se,X]=b.useState(!1),[re,A]=ha({value:typeof o=="number"?Of(o,f,d):o,defaultValue:typeof g=="number"?Of(g,f,d):g,finalValue:Of(0,f,d),onChange:a}),H=b.useRef(re),G=b.useRef(),P=WS({value:re,min:f,max:d}),R=B(re),L=typeof v=="function"?v(R):v,Y=b.useCallback(({x:we})=>{if(!D){const ye=QN({value:we,min:f,max:d,step:h,precision:p});A(ye),H.current=ye}},[D,f,d,h,p]),{ref:le,active:ce}=TX(Y,{onScrubEnd:()=>u==null?void 0:u(H.current)},te.dir),de=we=>{we.stopPropagation()},me=we=>{if(!D)switch(we.key){case"ArrowUp":{we.preventDefault(),G.current.focus();const ye=Math.min(Math.max(re+h,f),d);u==null||u(ye),A(ye);break}case"ArrowRight":{we.preventDefault(),G.current.focus();const ye=Math.min(Math.max(te.dir==="rtl"?re-h:re+h,f),d);u==null||u(ye),A(ye);break}case"ArrowDown":{we.preventDefault(),G.current.focus();const ye=Math.min(Math.max(re-h,f),d);u==null||u(ye),A(ye);break}case"ArrowLeft":{we.preventDefault(),G.current.focus();const ye=Math.min(Math.max(te.dir==="rtl"?re+h:re-h,f),d);u==null||u(ye),A(ye);break}case"Home":{we.preventDefault(),G.current.focus(),u==null||u(f),A(f);break}case"End":{we.preventDefault(),G.current.focus(),u==null||u(d),A(d);break}}};return $.createElement(r6,EDe(wDe({},ee),{size:l,ref:va(le,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var we;return(we=le.current)==null?void 0:we.focus()},classNames:r,styles:i,disabled:D,unstyled:M}),$.createElement(n6,{inverted:N,offset:0,filled:P,marks:m,size:l,radius:c,color:s,min:f,max:d,value:R,onChange:A,onMouseEnter:I?()=>X(!0):void 0,onMouseLeave:I?()=>X(!1):void 0,classNames:r,styles:i,disabled:D,unstyled:M},$.createElement(qS,{max:d,min:f,value:R,position:P,dragging:ce,color:s,size:l,label:L,ref:G,onMouseDown:de,labelTransition:_,labelTransitionDuration:T,labelTransitionTimingFunction:x,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:S,showLabelOnHover:I&&se,disabled:D,unstyled:M,thumbSize:O},k)),$.createElement("input",{type:"hidden",name:y,value:R}))});PC.displayName="@mantine/core/Slider";function xDe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var IDe=Object.defineProperty,CDe=Object.defineProperties,ADe=Object.getOwnPropertyDescriptors,QS=Object.getOwnPropertySymbols,$ne=Object.prototype.hasOwnProperty,Lne=Object.prototype.propertyIsEnumerable,fV=(e,t,n)=>t in e?IDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UO=(e,t)=>{for(var n in t||(t={}))$ne.call(t,n)&&fV(e,n,t[n]);if(QS)for(var n of QS(t))Lne.call(t,n)&&fV(e,n,t[n]);return e},VO=(e,t)=>CDe(e,ADe(t)),PDe=(e,t)=>{var n={};for(var r in e)$ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QS)for(var r of QS(e))t.indexOf(r)<0&&Lne.call(e,r)&&(n[r]=e[r]);return n};const ODe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},XN=b.forwardRef((e,t)=>{const n=qe("RangeSlider",ODe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,maxRange:p,step:g,precision:y,defaultValue:m,name:v,marks:_,label:T,labelTransition:x,labelTransitionDuration:w,labelTransitionTimingFunction:S,labelAlwaysOn:I,thumbFromLabel:k,thumbToLabel:D,showLabelOnHover:M,thumbChildren:O,disabled:B,unstyled:N,thumbSize:ee,scale:te,inverted:se}=n,X=PDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),re=Vi(),[A,H]=b.useState(-1),[G,P]=b.useState(!1),[R,L]=ha({value:o,defaultValue:m,finalValue:[f,d],onChange:a}),Y=b.useRef(R),le=b.useRef([]),ce=b.useRef(void 0),de=[WS({value:R[0],min:f,max:d}),WS({value:R[1],min:f,max:d})],me=He=>{L(He),Y.current=He};b.useEffect(()=>{Array.isArray(o)&&(Y.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const we=(He,je,ot)=>{const ht=[...Y.current];ht[je]=He,je===0&&(He>ht[1]-(h-1e-9)&&(ht[1]=Math.min(He+h,d)),He>(d-(h-1e-9)||f)&&(ht[je]=Y.current[je]),ht[1]-He>p&&(ht[1]=He+p)),je===1&&(He<ht[0]+h&&(ht[0]=Math.max(He-h,f)),He<ht[0]+h&&(ht[je]=Y.current[je]),He-ht[0]>p&&(ht[0]=He-p)),me(ht),ot&&(u==null||u(Y.current))},ye=He=>{if(!B){const je=QN({value:He,min:f,max:d,step:g,precision:y});we(je,ce.current,!1)}},{ref:We,active:Qe}=TX(({x:He})=>ye(He),{onScrubEnd:()=>u==null?void 0:u(Y.current)},re.dir);function gt(He,je){He.stopPropagation(),ce.current=je}const De=He=>{We.current.focus();const je=We.current.getBoundingClientRect(),ot=xDe(He.nativeEvent),ht=QN({value:ot-je.left,max:d,min:f,step:g,containerWidth:je.width}),At=Math.abs(R[0]-ht)>Math.abs(R[1]-ht)?1:0,Xt=re.dir==="ltr"?At:At===1?0:1;ce.current=Xt},Ie=()=>A!==1&&A!==0?(H(0),0):A,Ye=He=>{if(!B)switch(He.key){case"ArrowUp":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(Y.current[je]+g,f),d),je,!0);break}case"ArrowRight":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(re.dir==="rtl"?Y.current[je]-g:Y.current[je]+g,f),d),je,!0);break}case"ArrowDown":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(Y.current[je]-g,f),d),je,!0);break}case"ArrowLeft":{He.preventDefault();const je=Ie();le.current[je].focus(),we(Math.min(Math.max(re.dir==="rtl"?Y.current[je]+g:Y.current[je]-g,f),d),je,!0);break}}},Yt={max:d,min:f,color:s,size:l,labelTransition:x,labelTransitionDuration:w,labelTransitionTimingFunction:S,labelAlwaysOn:I,onBlur:()=>H(-1),classNames:r,styles:i},zt=Array.isArray(O);return $.createElement(r6,VO(UO({},X),{size:l,ref:va(We,t),onTouchStartCapture:De,onTouchEndCapture:()=>{ce.current=-1},onMouseDownCapture:De,onMouseUpCapture:()=>{ce.current=-1},onKeyDownCapture:Ye,styles:i,classNames:r,disabled:B,unstyled:N}),$.createElement(n6,{offset:de[0],marksOffset:R[0],filled:de[1]-de[0],marks:_,inverted:se,size:l,radius:c,color:s,min:f,max:d,value:R[1],styles:i,classNames:r,onMouseEnter:M?()=>P(!0):void 0,onMouseLeave:M?()=>P(!1):void 0,onChange:He=>{const je=Math.abs(R[0]-He)>Math.abs(R[1]-He)?1:0,ot=[...R];ot[je]=He,me(ot)},disabled:B,unstyled:N},$.createElement(qS,VO(UO({},Yt),{value:te(R[0]),position:de[0],dragging:Qe,label:typeof T=="function"?T(te(R[0])):T,ref:He=>{le.current[0]=He},thumbLabel:k,onMouseDown:He=>gt(He,0),onFocus:()=>H(0),showLabelOnHover:M&&G,disabled:B,unstyled:N,thumbSize:ee}),zt?O[0]:O),$.createElement(qS,VO(UO({},Yt),{thumbLabel:D,value:te(R[1]),position:de[1],dragging:Qe,label:typeof T=="function"?T(te(R[1])):T,ref:He=>{le.current[1]=He},onMouseDown:He=>gt(He,1),onFocus:()=>H(1),showLabelOnHover:M&&G,disabled:B,unstyled:N,thumbSize:ee}),zt?O[1]:O)),$.createElement("input",{type:"hidden",name:`${v}_from`,value:R[0]}),$.createElement("input",{type:"hidden",name:`${v}_to`,value:R[1]}))});XN.displayName="@mantine/core/RangeSlider";var RDe=Object.defineProperty,XS=Object.getOwnPropertySymbols,Mne=Object.prototype.hasOwnProperty,Fne=Object.prototype.propertyIsEnumerable,dV=(e,t,n)=>t in e?RDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NDe=(e,t)=>{for(var n in t||(t={}))Mne.call(t,n)&&dV(e,n,t[n]);if(XS)for(var n of XS(t))Fne.call(t,n)&&dV(e,n,t[n]);return e},kDe=(e,t)=>{var n={};for(var r in e)Mne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XS)for(var r of XS(e))t.indexOf(r)<0&&Fne.call(e,r)&&(n[r]=e[r]);return n};const DDe={w:0,h:0},JS=b.forwardRef((e,t)=>{const n=qe("Space",DDe,e),{w:r,h:i}=n,s=kDe(n,["w","h"]);return $.createElement(st,NDe({ref:t,w:r,miw:r,h:i,mih:i},s))});JS.displayName="@mantine/core/Space";var $De=Object.defineProperty,LDe=Object.defineProperties,MDe=Object.getOwnPropertyDescriptors,hV=Object.getOwnPropertySymbols,FDe=Object.prototype.hasOwnProperty,jDe=Object.prototype.propertyIsEnumerable,pV=(e,t,n)=>t in e?$De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BDe=(e,t)=>{for(var n in t||(t={}))FDe.call(t,n)&&pV(e,n,t[n]);if(hV)for(var n of hV(t))jDe.call(t,n)&&pV(e,n,t[n]);return e},UDe=(e,t)=>LDe(e,MDe(t));function VDe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function zDe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var HDe=ft((e,{element:t,weight:n,size:r,inline:i})=>({root:UDe(BDe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:VDe(r,t,e),lineHeight:i?1:zDe(r,t,e),margin:0})})),WDe=Object.defineProperty,ZS=Object.getOwnPropertySymbols,jne=Object.prototype.hasOwnProperty,Bne=Object.prototype.propertyIsEnumerable,mV=(e,t,n)=>t in e?WDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qDe=(e,t)=>{for(var n in t||(t={}))jne.call(t,n)&&mV(e,n,t[n]);if(ZS)for(var n of ZS(t))Bne.call(t,n)&&mV(e,n,t[n]);return e},YDe=(e,t)=>{var n={};for(var r in e)jne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZS)for(var r of ZS(e))t.indexOf(r)<0&&Bne.call(e,r)&&(n[r]=e[r]);return n};const GDe={order:1},ef=b.forwardRef((e,t)=>{const n=qe("Title",GDe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=YDe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=HDe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?$.createElement(ut,qDe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});ef.displayName="@mantine/core/Title";function JN(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Sl="/ThinkAloud/";function KDe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=fd();return C.jsxs(Fee,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[C.jsx(s1,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Sl}assets/revisitLogoSquare.svg`,alt:"reVISit"}),C.jsx(ut,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=JN(i);return C.jsx(gC,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:C.jsxs(uAe,{shadow:"sm",radius:"md",withBorder:!0,children:[C.jsx(ut,{fw:"bold",children:s.studyMetadata.title}),C.jsxs(ut,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),C.jsx(ut,{c:"dimmed",children:s.studyMetadata.description}),C.jsx(ut,{c:"dimmed",ta:"right",style:{paddingRight:5}})]})},i)})]})}var Une={exports:{}},Vne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=b;function QDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XDe=typeof Object.is=="function"?Object.is:QDe,JDe=Zm.useState,ZDe=Zm.useEffect,e$e=Zm.useLayoutEffect,t$e=Zm.useDebugValue;function n$e(e,t){var n=t(),r=JDe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return e$e(function(){i.value=n,i.getSnapshot=t,zO(i)&&s({inst:i})},[e,n,t]),ZDe(function(){return zO(i)&&s({inst:i}),e(function(){zO(i)&&s({inst:i})})},[e]),t$e(n),n}function zO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!XDe(e,n)}catch{return!0}}function r$e(e,t){return t()}var i$e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r$e:n$e;Vne.useSyncExternalStore=Zm.useSyncExternalStore!==void 0?Zm.useSyncExternalStore:i$e;Une.exports=Vne;var s$e=Une.exports,zne={exports:{}},Hne={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC=b,o$e=s$e;function a$e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u$e=typeof Object.is=="function"?Object.is:a$e,l$e=o$e.useSyncExternalStore,c$e=OC.useRef,f$e=OC.useEffect,d$e=OC.useMemo,h$e=OC.useDebugValue;Hne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=c$e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=d$e(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,u$e(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=l$e(e,s[0],s[1]);return f$e(function(){o.hasValue=!0,o.value=a},[a]),h$e(a),a};zne.exports=Hne;var p$e=zne.exports;function m$e(e){e()}let Wne=m$e;const g$e=e=>Wne=e,y$e=()=>Wne,gV=Symbol.for("react-redux-context"),yV=typeof globalThis<"u"?globalThis:{};function v$e(){var e;if(!b.createContext)return{};const t=(e=yV[gV])!=null?e:yV[gV]=new Map;let n=t.get(b.createContext);return n||(n=b.createContext(null),t.set(b.createContext,n)),n}const Hf=v$e();function i6(e=Hf){return function(){return b.useContext(e)}}const qne=i6(),_$e=()=>{throw new Error("uSES not initialized!")};let Yne=_$e;const b$e=e=>{Yne=e},w$e=(e,t)=>e===t;function E$e(e=Hf){const t=e===Hf?qne:i6(e);return function(r,i={}){const{equalityFn:s=w$e,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=t();b.useRef(!0);const h=b.useCallback({[r.name](g){return r(g)}}[r.name],[r,f,o]),p=Yne(l.addNestedSub,u.getState,c||u.getState,h,s);return b.useDebugValue(p),p}}const T$e=E$e();var Hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s6=Symbol.for("react.element"),o6=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),kC=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),S$e=Symbol.for("react.server_context"),LC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),FC=Symbol.for("react.suspense_list"),jC=Symbol.for("react.memo"),BC=Symbol.for("react.lazy"),x$e=Symbol.for("react.offscreen"),Gne;Gne=Symbol.for("react.module.reference");function ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s6:switch(e=e.type,e){case RC:case kC:case NC:case MC:case FC:return e;default:switch(e=e&&e.$$typeof,e){case S$e:case $C:case LC:case BC:case jC:case DC:return e;default:return t}}case o6:return t}}}Hn.ContextConsumer=$C;Hn.ContextProvider=DC;Hn.Element=s6;Hn.ForwardRef=LC;Hn.Fragment=RC;Hn.Lazy=BC;Hn.Memo=jC;Hn.Portal=o6;Hn.Profiler=kC;Hn.StrictMode=NC;Hn.Suspense=MC;Hn.SuspenseList=FC;Hn.isAsyncMode=function(){return!1};Hn.isConcurrentMode=function(){return!1};Hn.isContextConsumer=function(e){return ba(e)===$C};Hn.isContextProvider=function(e){return ba(e)===DC};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s6};Hn.isForwardRef=function(e){return ba(e)===LC};Hn.isFragment=function(e){return ba(e)===RC};Hn.isLazy=function(e){return ba(e)===BC};Hn.isMemo=function(e){return ba(e)===jC};Hn.isPortal=function(e){return ba(e)===o6};Hn.isProfiler=function(e){return ba(e)===kC};Hn.isStrictMode=function(e){return ba(e)===NC};Hn.isSuspense=function(e){return ba(e)===MC};Hn.isSuspenseList=function(e){return ba(e)===FC};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===RC||e===kC||e===NC||e===MC||e===FC||e===x$e||typeof e=="object"&&e!==null&&(e.$$typeof===BC||e.$$typeof===jC||e.$$typeof===DC||e.$$typeof===$C||e.$$typeof===LC||e.$$typeof===Gne||e.getModuleId!==void 0)};Hn.typeOf=ba;function I$e(){const e=y$e();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const vV={notify(){},get:()=>[]};function C$e(e,t){let n,r=vV,i=0,s=!1;function o(g){c();const y=r.subscribe(g);let m=!1;return()=>{m||(m=!0,y(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=I$e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=vV)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}const A$e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P$e=A$e?b.useLayoutEffect:b.useEffect;function O$e({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=b.useMemo(()=>{const l=C$e(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=b.useMemo(()=>e.getState(),[e]);P$e(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||Hf;return b.createElement(u.Provider,{value:o},n)}function Kne(e=Hf){const t=e===Hf?qne:i6(e);return function(){const{store:r}=t();return r}}const R$e=Kne();function N$e(e=Hf){const t=e===Hf?R$e:Kne(e);return function(){return t().dispatch}}const Qne=N$e();b$e(p$e.useSyncExternalStoreWithSelector);g$e(Ic.unstable_batchedUpdates);const k$e={},D$e=Object.freeze(Object.defineProperty({__proto__:null,default:k$e},Symbol.toStringTag,{value:"Module"})),$$e=qme(D$e);var L$e=$$e;function M$e(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function F$e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function j$e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function B$e(e){return e.__COMMENTS__}function U$e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var UC={EOL:L$e.EOL||`
`,tryParseNumber:M$e,createComment:F$e,removeComment:j$e,getComment:B$e,forceComment:U$e},V$e="3.2.1";function z$e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return _V}else if(e.length===0)return _V;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return W$e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),H$e.bind(null,n)}function H$e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function _V(){}function W$e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function Xne(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}Xne.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function Jne(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}Jne.description="parse hexadecimal numbers prefixed with 0x";function Zne(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}Zne.description="support ISO dates";var a6={loadDsf:z$e,std:{math:Xne,hex:Jne,date:Zne}},q$e=function(e,t){var n=UC,r=a6,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(N){return N==="{"||N==="}"||N==="["||N==="]"||N===","||N===":"}function d(N){var ee,te=0,se=1;for(ee=s-1;ee>0&&i[ee]!==`
`;ee--,te++);for(;ee>0;ee--)i[ee]===`
`&&se++;throw new Error(N+" at line "+se+","+te+" >>>"+i.substr(s-te,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(N){return i.charAt(s+N)}function g(N){for(var ee="",te=o;h();){if(o===te)return h(),N&&te==="'"&&o==="'"&&ee.length===0?(h(),y()):ee;if(o==="\\")if(h(),o==="u"){for(var se=0,X=0;X<4;X++){h();var re=o.charCodeAt(0),A;o>="0"&&o<="9"?A=re-48:o>="a"&&o<="f"?A=re-97+10:o>="A"&&o<="F"?A=re-65+10:d("Bad \\u char "+o),se=se*16+A}ee+=String.fromCharCode(se)}else if(typeof a[o]=="string")ee+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):ee+=o}d("Bad string")}function y(){for(var N="",ee=0,te=0;;){var se=p(-te-5);if(!se||se===`
`)break;te++}function X(){for(var re=te;o&&o<=" "&&o!==`
`&&re-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),X());;){if(!o)d("Bad multiline string");else if(o==="'"){if(ee++,h(),ee===3)return N.slice(-1)===`
`&&(N=N.slice(0,-1)),N;continue}else for(;ee>0;)N+="'",ee--;o===`
`?(N+=`
`,h(),X()):(o!=="\r"&&(N+=o),h())}}function m(){if(o==='"'||o==="'")return g(!1);for(var N="",ee=s,te=-1;;){if(o===":")return N?te>=0&&te!==N.length&&(s=ee+te,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),N;o<=" "?o?te<0&&(te=N.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):N+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var N=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var ee=o==="\r"||o===`
`||o==="";if(ee||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var te=N[0];switch(te){case"f":if(N.trim()==="false")return!1;break;case"n":if(N.trim()==="null")return null;break;case"t":if(N.trim()==="true")return!0;break;default:if(te==="-"||te>="0"&&te<="9"){var se=n.tryParseNumber(N);if(se!==void 0)return se}}if(ee){N=N.trim();var X=l(N);return X!==void 0?X:N}}N+=o}}function T(N,ee){var te;for(N--,te=s-2;te>N&&i[te]<=" "&&i[te]!==`
`;te--);i[te]===`
`&&te--,i[te]==="\r"&&te--;var se=i.substr(N,te-N+1);for(te=0;te<se.length;te++)if(se[te]>" "){var X=se.indexOf(`
`);if(X>=0){var re=[se.substr(0,X),se.substr(X+1)];return ee&&re[0].trim().length===0&&re.shift(),re}else return[se]}return[]}function x(N){function ee(se,X){var re,A,H,G;switch(typeof se){case"string":se.indexOf(X)>=0&&(G=se);break;case"object":if(Object.prototype.toString.apply(se)==="[object Array]")for(re=0,H=se.length;re<H;re++)G=ee(se[re],X)||G;else for(A in se)Object.prototype.hasOwnProperty.call(se,A)&&(G=ee(se[A],X)||G)}return G}function te(se){var X=ee(N,se);return X?"found '"+se+`' in a string value, your mistake could be with:
  > `+X+`
  (unquoted strings contain everything up to the next line!)`:""}return te("}")||te("]")}function w(){var N=[],ee,te,se;try{if(u&&(ee=n.createComment(N,{a:[]})),h(),te=s,v(),ee&&(se=T(te,!0).join(`
`)),o==="]")return h(),ee&&(ee.e=[se]),N;for(;o;){if(N.push(I()),te=s,v(),o===","&&(h(),te=s,v()),ee){var X=T(te);ee.a.push([se||"",X[0]||""]),se=X[1]}if(o==="]")return h(),ee&&(ee.a[ee.a.length-1][1]+=se||""),N;v()}d("End of input while parsing an array (missing ']')")}catch(re){throw re.hint=re.hint||x(N),re}}function S(N){var ee="",te={},se,X,re;try{if(u&&(se=n.createComment(te,{c:{},o:[]})),N?X=1:(h(),X=s),v(),se&&(re=T(X,!0).join(`
`)),o==="}"&&!N)return se&&(se.e=[re]),h(),te;for(;o;){if(ee=m(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),te[ee]=I(),X=s,v(),o===","&&(h(),X=s,v()),se){var A=T(X);se.c[ee]=[re||"",A[0]||""],re=A[1],se.o.push(ee)}if(o==="}"&&!N)return h(),se&&(se.c[ee][1]+=re||""),te;v()}if(N)return te;d("End of input while parsing an object (missing '}')")}catch(H){throw H.hint=H.hint||x(te),H}}function I(){switch(v(),o){case"{":return S();case"[":return w();case"'":case'"':return g(!0);default:return _()}}function k(N,ee){var te=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var se=ee.join(`
`),X=T(te).join(`
`);if(X||se){var re=n.createComment(N,n.getComment(N));re.r=[se,X]}}return N}function D(){v();var N=u?T(1):null;switch(o){case"{":return k(S(),N);case"[":return k(w(),N);default:return k(I(),N)}}function M(){v();var N=u?T(1):null;switch(o){case"{":return k(S(),N);case"[":return k(w(),N)}try{return k(S(!0),N)}catch(ee){c();try{return k(I(),N)}catch{throw ee}}}if(typeof e!="string")throw new Error("source is not a string");var O=null,B=!0;return t&&typeof t=="object"&&(u=t.keepWsc,O=t.dsf,B=t.legacyRoot!==!1),l=r.loadDsf(O,"parse"),i=e,c(),B?M():D()},Y$e=function(e,t){var n=UC,r=a6,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,v=Object.keys(i);for(m=v.length-1;m>=0;m--){var _=v[m];y[_].push(i[_][0].length,i[_][1].length)}}var T,x="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+x+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+x+"]","g"),k=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},M=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,O="",B=0;function N(G,P){return B+=G[0].length+G[1].length-G[2]-G[3],G[0]+P+G[1]}function ee(G){return G.replace(w,function(P){var R=D[P];return typeof R=="string"?N(y.esc,R):N(y.uni,("0000"+P.charCodeAt(0).toString(16)).slice(-4))})}function te(G,P,R,L){return G?(S.lastIndex=0,k.lastIndex=0,c||R||S.test(G)||n.tryParseNumber(G,!0)!==void 0||k.test(G)?(w.lastIndex=0,I.lastIndex=0,w.test(G)?!I.test(G)&&!L&&d?se(G,P):N(y.qstr,ee(G)):N(y.qstr,G)):N(y.str,G)):N(y.qstr,"")}function se(G,P){var R,L=G.replace(/\r/g,"").split(`
`);if(P+=o,L.length===1)return N(y.mstr,L[0]);var Y=s+P+y.mstr[0];for(R=0;R<L.length;R++)Y+=s,L[R]&&(Y+=P+L[R]);return Y+s+P+y.mstr[1]}function X(G){return G?l||M.test(G)?(w.lastIndex=0,N(y.qkey,w.test(G)?ee(G):G)):N(y.key,G):'""'}function re(G,P,R,L){function Y(at){return at&&at[at[0]==="\r"?1:0]===`
`}function le(at){return at&&!Y(at)}function ce(at,Kt,mt){if(!at)return"";at=n.forceComment(at);var wr,gn=at.length;for(wr=0;wr<gn&&at[wr]<=" ";wr++);return mt&&wr>0&&(at=at.substr(wr)),wr<gn?Kt+N(y.rem,at):at}var de=T(G);if(de!==void 0)return N(y.dsf,de);switch(typeof G){case"string":return te(G,O,P,L);case"number":return isFinite(G)?N(y.num,String(G)):N(y.lit,"null");case"boolean":return N(y.lit,String(G));case"object":if(!G)return N(y.lit,"null");var me;a&&(me=n.getComment(G));var we=Object.prototype.toString.apply(G)==="[object Array]",ye=O;O+=o;var We=s+ye,Qe=s+O,gt=R||u?"":We,De=[],Ie,Ye=f?[]:null,Yt=c,zt=d,He=h?"":y.com[0],je=0,ot,ht,At,Xt,ge,Te,Me,Ze,ct;if(we){for(ot=0,ht=G.length;ot<ht;ot++){if(Ie=ot<ht-1,me?(Te=me.a[ot]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),Ye&&(Te[0]||Te[1]||Me)&&(Ye=null)):De.push(Qe),B=0,Xt=G[ot],De.push(re(Xt,me?Me:!1,!0)+(Ie?h:"")),Ye){switch(typeof Xt){case"string":B=0,c=!0,d=0,Ye.push(re(Xt,!1,!0)+(Ie?y.com[0]:"")),c=Yt,d=zt;break;case"object":if(Xt){Ye=null;break}default:Ye.push(De[De.length-1]+(Ie?He:""));break}Ie&&(B+=y.com[0].length-y.com[2]),je+=B}me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me))}ht===0?me&&me.e&&De.push(ce(me.e[0],`
`)+We):De.push(We),De.length===0?Ze=N(y.arr,""):(Ze=gt+N(y.arr,De.join("")),Ye&&(ct=Ye.join(" "),ct.length-je<=f&&(Ze=N(y.arr,ct))))}else{var xn=me?me.o.slice():[],Fe=[];for(At in G)Object.prototype.hasOwnProperty.call(G,At)&&xn.indexOf(At)<0&&Fe.push(At);g&&Fe.sort();var nt=xn.concat(Fe);for(ot=0,ht=nt.length;ot<ht;ot++)if(Ie=ot<ht-1,At=nt[ot],me?(Te=me.c[At]||[],Me=le(Te[1]),De.push(ce(Te[0],`
`)+Qe),Ye&&(Te[0]||Te[1]||Me)&&(Ye=null)):De.push(Qe),B=0,Xt=G[At],ge=re(Xt,me&&Me),De.push(X(At)+y.col[0]+(Y(ge)?"":" ")+ge+(Ie?h:"")),me&&Te[1]&&De.push(ce(Te[1],Me?" ":`
`,Me)),Ye){switch(typeof Xt){case"string":B=0,c=!0,d=0,ge=re(Xt,!1),c=Yt,d=zt,Ye.push(X(At)+y.col[0]+" "+ge+(Ie?y.com[0]:""));break;case"object":if(Xt){Ye=null;break}default:Ye.push(De[De.length-1]+(Ie?He:""));break}B+=y.col[0].length-y.col[2],Ie&&(B+=y.com[0].length-y.com[2]),je+=B}ht===0?me&&me.e&&De.push(ce(me.e[0],`
`)+We):De.push(We),De.length===0?Ze=N(y.obj,""):(Ze=gt+N(y.obj,De.join("")),Ye&&(ct=Ye.join(" "),ct.length-je<=f&&(Ze=N(y.obj,ct))))}return O=ye,Ze}}T=r.loadDsf(p,"stringify");var A="",H=a?H=(n.getComment(e)||{}).r:null;return H&&H[0]&&(A=H[0]+`
`),A+=re(e,null,!0,!0),H&&(A+=H[1]||""),A},ym=UC;function jy(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function ZN(e,t){if(!(e===null||typeof e!="object")){var n=ym.getComment(e);n&&ym.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)bV(o.a,r,n.a[r],ZN(e[r]))&&(s=!0);!s&&n.e&&(o.e=jy(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];bV(o.s,l,n.c[l],ZN(e[l]))&&(s=!0)}!s&&n.e&&(o.e=jy(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=jy(n.r[0],n.r[1])),s?o:void 0}}function G$e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function K$e(e,t){var n=[];if(ek(e,t,n,[]),n.length>0){var r=ex(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+G$e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),ex(t,r,1)}}function bV(e,t,n,r){var i=jy(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function By(e,t){var n=jy(t.b,t.a);return n.path=e,n}function Uy(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(By(s,o)),Uy(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(By(u,l)),Uy(l.x,t,u))});e.e&&t.push(By(n,e.e))}}function ek(e,t,n,r){if(e){if(t===null||typeof t!="object"){Uy(e,n,r);return}var i,s=ym.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],ek(u.x,t[i],n,l)):(n.push(By(l,u)),Uy(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],ek(d.x,t[c],n,f))):d&&(n.push(By(f,d)),Uy(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function ex(e,t,n){var r=ym.createComment(e,ym.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=ym.forceComment(t)),r.r[n]||""}var Q$e={extract:function(e){return ZN(e,!0)},merge:K$e,header:function(e,t){return ex(e,t,0)},footer:function(e,t){return ex(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var wV=UC,X$e=V$e,EV=q$e,TV=Y$e,J$e=Q$e,Z$e=a6,u6={parse:EV,stringify:TV,endOfLine:function(){return wV.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(wV.EOL=e)},version:X$e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,EV(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,TV(e,t)}},comments:J$e,dsf:Z$e.std},tk={exports:{}},ere={},Ka={},eg={},u1={},Zt={},Uv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,T)=>`${_}${T}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,T)=>(T instanceof n&&(_[T.str]=(_[T.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(m,...v){const _=[m[0]];let T=0;for(;T<v.length;)a(_,v[T]),_.push(m[++T]);return new r(_)}e._=i;const s=new r("+");function o(m,...v){const _=[h(m[0])];let T=0;for(;T<v.length;)_.push(s),a(_,v[T]),_.push(s,h(m[++T]));return u(_),new r(_)}e.str=o;function a(m,v){v instanceof r?m.push(...v._items):v instanceof n?m.push(v):m.push(f(v))}e.addCodeArg=a;function u(m){let v=1;for(;v<m.length-1;){if(m[v]===s){const _=l(m[v-1],m[v+1]);if(_!==void 0){m.splice(v-1,3,_);continue}m[v++]="+"}v++}}function l(m,v){if(v==='""')return m;if(m==='""')return v;if(typeof m=="string")return v instanceof n||m[m.length-1]!=='"'?void 0:typeof v!="string"?`${m.slice(0,-1)}${v}"`:v[0]==='"'?m.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(m instanceof n))return`"${m}${v.slice(1)}`}function c(m,v){return v.emptyStr()?m:m.emptyStr()?v:o`${m}${v}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(Uv);var nk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Uv;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const v=g.get(p);if(v)return v}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const g=l[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let v=c(m);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${m} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(m))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(nk);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Uv,n=nk;var r=Uv;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=nk;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(R,L){return this}}class o extends s{constructor(R,L,Y){super(),this.varKind=R,this.name=L,this.rhs=Y}render({es5:R,_n:L}){const Y=R?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${Y} ${this.name}${le};`+L}optimizeNames(R,L){if(R[this.name.str])return this.rhs&&(this.rhs=N(this.rhs,R,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(R,L,Y){super(),this.lhs=R,this.rhs=L,this.sideEffects=Y}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,L){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=N(this.rhs,R,L),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return B(R,this.rhs)}}class u extends a{constructor(R,L,Y,le){super(R,Y,le),this.op=L}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}}class l extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}}class c extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}}class f extends s{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}}class d extends s{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,L){return this.code=N(this.code,R,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((L,Y)=>L+Y.render(R),"")}optimizeNodes(){const{nodes:R}=this;let L=R.length;for(;L--;){const Y=R[L].optimizeNodes();Array.isArray(Y)?R.splice(L,1,...Y):Y?R[L]=Y:R.splice(L,1)}return R.length>0?this:void 0}optimizeNames(R,L){const{nodes:Y}=this;let le=Y.length;for(;le--;){const ce=Y[le];ce.optimizeNames(R,L)||(ee(R,ce.names),Y.splice(le,1))}return Y.length>0?this:void 0}get names(){return this.nodes.reduce((R,L)=>O(R,L.names),{})}}class p extends h{render(R){return"{"+R._n+super.render(R)+"}"+R._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor(R,L){super(L),this.condition=R}render(R){let L=`if(${this.condition})`+super.render(R);return this.else&&(L+="else "+this.else.render(R)),L}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let L=this.else;if(L){const Y=L.optimizeNodes();L=this.else=Array.isArray(Y)?new y(Y):Y}if(L)return R===!1?L instanceof m?L:L.nodes:this.nodes.length?this:new m(te(R),L instanceof m?[L]:L.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,L){var Y;if(this.else=(Y=this.else)===null||Y===void 0?void 0:Y.optimizeNames(R,L),!!(super.optimizeNames(R,L)||this.else))return this.condition=N(this.condition,R,L),this}get names(){const R=super.names;return B(R,this.condition),this.else&&O(R,this.else.names),R}}m.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,L){if(super.optimizeNames(R,L))return this.iteration=N(this.iteration,R,L),this}get names(){return O(super.names,this.iteration.names)}}class T extends v{constructor(R,L,Y,le){super(),this.varKind=R,this.name=L,this.from=Y,this.to=le}render(R){const L=R.es5?n.varKinds.var:this.varKind,{name:Y,from:le,to:ce}=this;return`for(${L} ${Y}=${le}; ${Y}<${ce}; ${Y}++)`+super.render(R)}get names(){const R=B(super.names,this.from);return B(R,this.to)}}class x extends v{constructor(R,L,Y,le){super(),this.loop=R,this.varKind=L,this.name=Y,this.iterable=le}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,L){if(super.optimizeNames(R,L))return this.iterable=N(this.iterable,R,L),this}get names(){return O(super.names,this.iterable.names)}}class w extends p{constructor(R,L,Y){super(),this.name=R,this.args=L,this.async=Y}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}}w.kind="func";class S extends h{render(R){return"return "+super.render(R)}}S.kind="return";class I extends p{render(R){let L="try"+super.render(R);return this.catch&&(L+=this.catch.render(R)),this.finally&&(L+=this.finally.render(R)),L}optimizeNodes(){var R,L;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(R,L){var Y,le;return super.optimizeNames(R,L),(Y=this.catch)===null||Y===void 0||Y.optimizeNames(R,L),(le=this.finally)===null||le===void 0||le.optimizeNames(R,L),this}get names(){const R=super.names;return this.catch&&O(R,this.catch.names),this.finally&&O(R,this.finally.names),R}}class k extends p{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}}k.kind="catch";class D extends p{render(R){return"finally"+super.render(R)}}D.kind="finally";class M{constructor(R,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=R,this._scope=new n.Scope({parent:R}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,L){const Y=this._extScope.value(R,L);return(this._values[Y.prefix]||(this._values[Y.prefix]=new Set)).add(Y),Y}getScopeValue(R,L){return this._extScope.getValue(R,L)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,L,Y,le){const ce=this._scope.toName(L);return Y!==void 0&&le&&(this._constants[ce.str]=Y),this._leafNode(new o(R,ce,Y)),ce}const(R,L,Y){return this._def(n.varKinds.const,R,L,Y)}let(R,L,Y){return this._def(n.varKinds.let,R,L,Y)}var(R,L,Y){return this._def(n.varKinds.var,R,L,Y)}assign(R,L,Y){return this._leafNode(new a(R,L,Y))}add(R,L){return this._leafNode(new u(R,e.operators.ADD,L))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new d(R)),this}object(...R){const L=["{"];for(const[Y,le]of R)L.length>1&&L.push(","),L.push(Y),(Y!==le||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,le));return L.push("}"),new t._Code(L)}if(R,L,Y){if(this._blockNode(new m(R)),L&&Y)this.code(L).else().code(Y).endIf();else if(L)this.code(L).endIf();else if(Y)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new m(R))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(R,L){return this._blockNode(R),L&&this.code(L).endFor(),this}for(R,L){return this._for(new _(R),L)}forRange(R,L,Y,le,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(R);return this._for(new T(ce,de,L,Y),()=>le(de))}forOf(R,L,Y,le=n.varKinds.const){const ce=this._scope.toName(R);if(this.opts.es5){const de=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${de}.length`,me=>{this.var(ce,(0,t._)`${de}[${me}]`),Y(ce)})}return this._for(new x("of",le,ce,L),()=>Y(ce))}forIn(R,L,Y,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${L})`,Y);const ce=this._scope.toName(R);return this._for(new x("in",le,ce,L),()=>Y(ce))}endFor(){return this._endBlockNode(v)}label(R){return this._leafNode(new l(R))}break(R){return this._leafNode(new c(R))}return(R){const L=new S;if(this._blockNode(L),this.code(R),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(R,L,Y){if(!L&&!Y)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new I;if(this._blockNode(le),this.code(R),L){const ce=this.name("e");this._currNode=le.catch=new k(ce),L(ce)}return Y&&(this._currNode=le.finally=new D,this.code(Y)),this._endBlockNode(k,D)}throw(R){return this._leafNode(new f(R))}block(R,L){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(L),this}endBlock(R){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const Y=this._nodes.length-L;if(Y<0||R!==void 0&&Y!==R)throw new Error(`CodeGen: wrong number of nodes: ${Y} vs ${R} expected`);return this._nodes.length=L,this}func(R,L=t.nil,Y,le){return this._blockNode(new w(R,L,Y)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,L){const Y=this._currNode;if(Y instanceof R||L&&Y instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${R.kind}/${L.kind}`:R.kind}"`)}_elseNode(R){const L=this._currNode;if(!(L instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const L=this._nodes;L[L.length-1]=R}}e.CodeGen=M;function O(P,R){for(const L in R)P[L]=(P[L]||0)+(R[L]||0);return P}function B(P,R){return R instanceof t._CodeOrName?O(P,R.names):P}function N(P,R,L){if(P instanceof t.Name)return Y(P);if(!le(P))return P;return new t._Code(P._items.reduce((ce,de)=>(de instanceof t.Name&&(de=Y(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function Y(ce){const de=L[ce.str];return de===void 0||R[ce.str]!==1?ce:(delete R[ce.str],de)}function le(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&R[de.str]===1&&L[de.str]!==void 0)}}function ee(P,R){for(const L in R)P[L]=(P[L]||0)-(R[L]||0)}function te(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${G(P)}`}e.not=te;const se=H(e.operators.AND);function X(...P){return P.reduce(se)}e.and=X;const re=H(e.operators.OR);function A(...P){return P.reduce(re)}e.or=A;function H(P){return(R,L)=>R===t.nil?L:L===t.nil?R:(0,t._)`${G(R)} ${P} ${G(L)}`}function G(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(Zt);var bn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Zt,n=Uv;function r(w){const S={};for(const I of w)S[I]=!0;return S}e.toHash=r;function i(w,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(w,S),!o(S,w.self.RULES.all))}e.alwaysValidSchema=i;function s(w,S=w.schema){const{opts:I,self:k}=w;if(!I.strictSchema||typeof S=="boolean")return;const D=k.RULES.keywords;for(const M in S)D[M]||x(w,`unknown keyword: "${M}"`)}e.checkUnknownRules=s;function o(w,S){if(typeof w=="boolean")return!w;for(const I in w)if(S[I])return!0;return!1}e.schemaHasRules=o;function a(w,S){if(typeof w=="boolean")return!w;for(const I in w)if(I!=="$ref"&&S.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:S},I,k,D){if(!D){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${w}${S}${(0,t.getProperty)(k)}`}e.schemaRefOrVal=u;function l(w){return d(decodeURIComponent(w))}e.unescapeFragment=l;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,S){if(Array.isArray(w))for(const I of w)S(I);else S(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:S,mergeValues:I,resultToName:k}){return(D,M,O,B)=>{const N=O===void 0?M:O instanceof t.Name?(M instanceof t.Name?w(D,M,O):S(D,M,O),O):M instanceof t.Name?(S(D,O,M),M):I(M,O);return B===t.Name&&!(N instanceof t.Name)?k(D,N):N}}e.mergeEvaluated={props:p({mergeNames:(w,S,I)=>w.if((0,t._)`${I} !== true && ${S} !== undefined`,()=>{w.if((0,t._)`${S} === true`,()=>w.assign(I,!0),()=>w.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${S})`))}),mergeToName:(w,S,I)=>w.if((0,t._)`${I} !== true`,()=>{S===!0?w.assign(I,!0):(w.assign(I,(0,t._)`${I} || {}`),y(w,I,S))}),mergeValues:(w,S)=>w===!0?!0:{...w,...S},resultToName:g}),items:p({mergeNames:(w,S,I)=>w.if((0,t._)`${I} !== true && ${S} !== undefined`,()=>w.assign(I,(0,t._)`${S} === true ? true : ${I} > ${S} ? ${I} : ${S}`)),mergeToName:(w,S,I)=>w.if((0,t._)`${I} !== true`,()=>w.assign(I,S===!0?!0:(0,t._)`${I} > ${S} ? ${I} : ${S}`)),mergeValues:(w,S)=>w===!0?!0:Math.max(w,S),resultToName:(w,S)=>w.var("items",S)})};function g(w,S){if(S===!0)return w.var("props",!0);const I=w.var("props",(0,t._)`{}`);return S!==void 0&&y(w,I,S),I}e.evaluatedPropsToName=g;function y(w,S,I){Object.keys(I).forEach(k=>w.assign((0,t._)`${S}${(0,t.getProperty)(k)}`,!0))}e.setEvaluated=y;const m={};function v(w,S){return w.scopeValue("func",{ref:S,code:m[S.code]||(m[S.code]=new n._Code(S.code))})}e.useFunc=v;var _;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(_=e.Type||(e.Type={}));function T(w,S,I){if(w instanceof t.Name){const k=S===_.Num;return I?k?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:k?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=T;function x(w,S,I=w.opts.strictSchema){if(I){if(S=`strict mode: ${S}`,I===!0)throw new Error(S);w.self.logger.warn(S)}}e.checkStrictMode=x})(bn);var xl={};Object.defineProperty(xl,"__esModule",{value:!0});const Ki=Zt,e3e={data:new Ki.Name("data"),valCxt:new Ki.Name("valCxt"),instancePath:new Ki.Name("instancePath"),parentData:new Ki.Name("parentData"),parentDataProperty:new Ki.Name("parentDataProperty"),rootData:new Ki.Name("rootData"),dynamicAnchors:new Ki.Name("dynamicAnchors"),vErrors:new Ki.Name("vErrors"),errors:new Ki.Name("errors"),this:new Ki.Name("this"),self:new Ki.Name("self"),scope:new Ki.Name("scope"),json:new Ki.Name("json"),jsonPos:new Ki.Name("jsonPos"),jsonLen:new Ki.Name("jsonLen"),jsonPart:new Ki.Name("jsonPart")};xl.default=e3e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Zt,n=bn,r=xl;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,v,_){const{it:T}=y,{gen:x,compositeRule:w,allErrors:S}=T,I=f(y,m,v);_??(w||S)?u(x,I):l(T,(0,t._)`[${I}]`)}e.reportError=i;function s(y,m=e.keywordError,v){const{it:_}=y,{gen:T,compositeRule:x,allErrors:w}=_,S=f(y,m,v);u(T,S),x||w||l(_,r.default.vErrors)}e.reportExtraError=s;function o(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:m,schemaValue:v,data:_,errsCount:T,it:x}){if(T===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",T,r.default.errors,S=>{y.const(w,(0,t._)`${r.default.vErrors}[${S}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${m}`),x.opts.verbose&&(y.assign((0,t._)`${w}.schema`,v),y.assign((0,t._)`${w}.data`,_))})}e.extendErrors=a;function u(y,m){const v=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,m){const{gen:v,validateName:_,schemaEnv:T}=y;T.$async?v.throw((0,t._)`new ${y.ValidationError}(${m})`):(v.assign((0,t._)`${_}.errors`,m),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,m,v)}function d(y,m,v={}){const{gen:_,it:T}=y,x=[h(T,v),p(y,v)];return g(y,m,x),_.object(...x)}function h({errorPath:y},{instancePath:m}){const v=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:v,parentSchema:_}){let T=_?m:(0,t.str)`${m}/${y}`;return v&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,T]}function g(y,{params:m,message:v},_){const{keyword:T,data:x,schemaValue:w,it:S}=y,{opts:I,propertyName:k,topSchemaRef:D,schemaPath:M}=S;_.push([c.keyword,T],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),I.messages&&_.push([c.message,typeof v=="function"?v(y):v]),I.verbose&&_.push([c.schema,w],[c.parentSchema,(0,t._)`${D}${M}`],[r.default.data,x]),k&&_.push([c.propertyName,k])}})(u1);Object.defineProperty(eg,"__esModule",{value:!0});eg.boolOrEmptySchema=eg.topBoolOrEmptySchema=void 0;const t3e=u1,n3e=Zt,r3e=xl,i3e={message:"boolean schema is false"};function s3e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?tre(e,!1):typeof n=="object"&&n.$async===!0?t.return(r3e.default.data):(t.assign((0,n3e._)`${r}.errors`,null),t.return(!0))}eg.topBoolOrEmptySchema=s3e;function o3e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),tre(e)):n.var(t,!0)}eg.boolOrEmptySchema=o3e;function tre(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,t3e.reportError)(i,i3e,void 0,t)}var l1={},Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.getRules=Ih.isJSONType=void 0;const a3e=["string","number","integer","boolean","null","object","array"],u3e=new Set(a3e);function l3e(e){return typeof e=="string"&&u3e.has(e)}Ih.isJSONType=l3e;function c3e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ih.getRules=c3e;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.shouldUseRule=tc.shouldUseGroup=tc.schemaHasRulesForType=void 0;function f3e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&nre(e,r)}tc.schemaHasRulesForType=f3e;function nre(e,t){return t.rules.some(n=>rre(e,n))}tc.shouldUseGroup=nre;function rre(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}tc.shouldUseRule=rre;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Ih,n=tc,r=u1,i=Zt,s=bn;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const T=u(_.type);if(T.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(_){const T=Array.isArray(_)?_:_?[_]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(_,T){const{gen:x,data:w,opts:S}=_,I=f(T,S.coerceTypes),k=T.length>0&&!(I.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(_,T[0]));if(k){const D=g(T,w,S.strictNumbers,o.Wrong);x.if(D,()=>{I.length?d(_,T,I):m(_)})}return k}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(_,T){return T?_.filter(x=>c.has(x)||T==="array"&&x==="array"):[]}function d(_,T,x){const{gen:w,data:S,opts:I}=_,k=w.let("dataType",(0,i._)`typeof ${S}`),D=w.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&w.if((0,i._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>w.assign(S,(0,i._)`${S}[0]`).assign(k,(0,i._)`typeof ${S}`).if(g(T,S,I.strictNumbers),()=>w.assign(D,S))),w.if((0,i._)`${D} !== undefined`);for(const O of x)(c.has(O)||O==="array"&&I.coerceTypes==="array")&&M(O);w.else(),m(_),w.endIf(),w.if((0,i._)`${D} !== undefined`,()=>{w.assign(S,D),h(_,D)});function M(O){switch(O){case"string":w.elseIf((0,i._)`${k} == "number" || ${k} == "boolean"`).assign(D,(0,i._)`"" + ${S}`).elseIf((0,i._)`${S} === null`).assign(D,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(D,(0,i._)`+${S}`);return;case"integer":w.elseIf((0,i._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(D,(0,i._)`+${S}`);return;case"boolean":w.elseIf((0,i._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(D,!1).elseIf((0,i._)`${S} === "true" || ${S} === 1`).assign(D,!0);return;case"null":w.elseIf((0,i._)`${S} === "" || ${S} === 0 || ${S} === false`),w.assign(D,null);return;case"array":w.elseIf((0,i._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(D,(0,i._)`[${S}]`)}}}function h({gen:_,parentData:T,parentDataProperty:x},w){_.if((0,i._)`${T} !== undefined`,()=>_.assign((0,i._)`${T}[${x}]`,w))}function p(_,T,x,w=o.Correct){const S=w===o.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(_){case"null":return(0,i._)`${T} ${S} null`;case"array":I=(0,i._)`Array.isArray(${T})`;break;case"object":I=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":I=k((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":I=k();break;default:return(0,i._)`typeof ${T} ${S} ${_}`}return w===o.Correct?I:(0,i.not)(I);function k(D=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,D,x?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function g(_,T,x,w){if(_.length===1)return p(_[0],T,x,w);let S;const I=(0,s.toHash)(_);if(I.array&&I.object){const k=(0,i._)`typeof ${T} != "object"`;S=I.null?k:(0,i._)`!${T} || ${k}`,delete I.null,delete I.array,delete I.object}else S=i.nil;I.number&&delete I.integer;for(const k in I)S=(0,i.and)(S,p(k,T,x,w));return S}e.checkDataTypes=g;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:T})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${T}}`};function m(_){const T=v(_);(0,r.reportError)(T,y)}e.reportTypeError=m;function v(_){const{gen:T,data:x,schema:w}=_,S=(0,s.schemaRefOrVal)(_,w,"type");return{gen:T,keyword:"type",data:x,schema:w.type,schemaCode:S,schemaValue:S,parentSchema:w,params:{},it:_}}})(l1);var VC={};Object.defineProperty(VC,"__esModule",{value:!0});VC.assignDefaults=void 0;const yp=Zt,d3e=bn;function h3e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)SV(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>SV(e,s,i.default))}VC.assignDefaults=h3e;function SV(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,yp._)`${s}${(0,yp.getProperty)(t)}`;if(i){(0,d3e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,yp._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,yp._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,yp._)`${a} = ${(0,yp.stringify)(n)}`)}var Vu={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateUnion=Jt.validateArray=Jt.usePattern=Jt.callValidateCode=Jt.schemaProperties=Jt.allSchemaProperties=Jt.noPropertyInData=Jt.propertyInData=Jt.isOwnProperty=Jt.hasPropFunc=Jt.reportMissingProp=Jt.checkMissingProp=Jt.checkReportMissingProp=void 0;const rr=Zt,l6=bn,Bc=xl,p3e=bn;function m3e(e,t){const{gen:n,data:r,it:i}=e;n.if(f6(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,rr._)`${t}`},!0),e.error()})}Jt.checkReportMissingProp=m3e;function g3e({gen:e,data:t,it:{opts:n}},r,i){return(0,rr.or)(...r.map(s=>(0,rr.and)(f6(e,t,s,n.ownProperties),(0,rr._)`${i} = ${s}`)))}Jt.checkMissingProp=g3e;function y3e(e,t){e.setParams({missingProperty:t},!0),e.error()}Jt.reportMissingProp=y3e;function ire(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,rr._)`Object.prototype.hasOwnProperty`})}Jt.hasPropFunc=ire;function c6(e,t,n){return(0,rr._)`${ire(e)}.call(${t}, ${n})`}Jt.isOwnProperty=c6;function v3e(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} !== undefined`;return r?(0,rr._)`${i} && ${c6(e,t,n)}`:i}Jt.propertyInData=v3e;function f6(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} === undefined`;return r?(0,rr.or)(i,(0,rr.not)(c6(e,t,n))):i}Jt.noPropertyInData=f6;function sre(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Jt.allSchemaProperties=sre;function _3e(e,t){return sre(t).filter(n=>!(0,l6.alwaysValidSchema)(e,t[n]))}Jt.schemaProperties=_3e;function b3e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,rr._)`${e}, ${t}, ${r}${i}`:t,f=[[Bc.default.instancePath,(0,rr.strConcat)(Bc.default.instancePath,s)],[Bc.default.parentData,o.parentData],[Bc.default.parentDataProperty,o.parentDataProperty],[Bc.default.rootData,Bc.default.rootData]];o.opts.dynamicRef&&f.push([Bc.default.dynamicAnchors,Bc.default.dynamicAnchors]);const d=(0,rr._)`${c}, ${n.object(...f)}`;return u!==rr.nil?(0,rr._)`${a}.call(${u}, ${d})`:(0,rr._)`${a}(${d})`}Jt.callValidateCode=b3e;const w3e=(0,rr._)`new RegExp`;function E3e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,rr._)`${i.code==="new RegExp"?w3e:(0,p3e.useFunc)(e,i)}(${n}, ${r})`})}Jt.usePattern=E3e;function T3e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,rr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:l6.Type.Num},s),t.if((0,rr.not)(s),a)})}}Jt.validateArray=T3e;function S3e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,l6.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,rr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,rr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Jt.validateUnion=S3e;Object.defineProperty(Vu,"__esModule",{value:!0});Vu.validateKeywordUsage=Vu.validSchemaType=Vu.funcKeywordCode=Vu.macroKeywordCode=void 0;const _s=Zt,Fd=xl,x3e=Jt,I3e=u1;function C3e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=ore(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:_s.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Vu.macroKeywordCode=C3e;function A3e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;O3e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=ore(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&xV(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&xV(e),y(()=>P3e(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,_s._)`await `),v=>r.assign(f,!1).if((0,_s._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(m,(0,_s._)`${v}.errors`),()=>r.throw(v))),m}function p(){const m=(0,_s._)`${c}.errors`;return r.assign(m,null),g(_s.nil),m}function g(m=t.async?(0,_s._)`await `:_s.nil){const v=u.opts.passContext?Fd.default.this:Fd.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,_s._)`${m}${(0,x3e.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(m){var v;r.if((0,_s.not)((v=t.valid)!==null&&v!==void 0?v:f),m)}}Vu.funcKeywordCode=A3e;function xV(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,_s._)`${r.parentData}[${r.parentDataProperty}]`))}function P3e(e,t){const{gen:n}=e;n.if((0,_s._)`Array.isArray(${t})`,()=>{n.assign(Fd.default.vErrors,(0,_s._)`${Fd.default.vErrors} === null ? ${t} : ${Fd.default.vErrors}.concat(${t})`).assign(Fd.default.errors,(0,_s._)`${Fd.default.vErrors}.length`),(0,I3e.extendErrors)(e)},()=>e.error())}function O3e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ore(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,_s.stringify)(n)})}function R3e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Vu.validSchemaType=R3e;function N3e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}Vu.validateKeywordUsage=N3e;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.extendSubschemaMode=Nf.extendSubschemaData=Nf.getSubschema=void 0;const Ou=Zt,are=bn;function k3e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ou._)`${e.schemaPath}${(0,Ou.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ou._)`${e.schemaPath}${(0,Ou.getProperty)(t)}${(0,Ou.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,are.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Nf.getSubschema=k3e;function D3e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ou._)`${t.data}${(0,Ou.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ou.str)`${l}${(0,are.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ou._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ou.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Nf.extendSubschemaData=D3e;function $3e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}Nf.extendSubschemaMode=$3e;var ki={},d6=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const IV=au(d6);var ure={exports:{}},gf=ure.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};iE(t,r,i,e,"",e)};gf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};gf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};gf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};gf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function iE(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in gf.arrayKeywords)for(var d=0;d<f.length;d++)iE(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in gf.propsKeywords){if(f&&typeof f=="object")for(var h in f)iE(e,t,n,f[h],i+"/"+c+"/"+L3e(h),s,i,c,r,h)}else(c in gf.keywords||e.allKeys&&!(c in gf.skipKeywords))&&iE(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function L3e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var M3e=ure.exports;Object.defineProperty(ki,"__esModule",{value:!0});ki.getSchemaRefs=ki.resolveUrl=ki.normalizeId=ki._getFullPath=ki.getFullPath=ki.inlineRef=void 0;const F3e=bn,j3e=d6,B3e=M3e,U3e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function V3e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!rk(e):t?lre(e)<=t:!1}ki.inlineRef=V3e;const z3e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function rk(e){for(const t in e){if(z3e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(rk)||typeof n=="object"&&rk(n))return!0}return!1}function lre(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!U3e.has(n)&&(typeof e[n]=="object"&&(0,F3e.eachItem)(e[n],r=>t+=lre(r)),t===1/0))return 1/0}return t}function cre(e,t="",n){n!==!1&&(t=vm(t));const r=e.parse(t);return fre(e,r)}ki.getFullPath=cre;function fre(e,t){return e.serialize(t).split("#")[0]+"#"}ki._getFullPath=fre;const H3e=/#\/?$/;function vm(e){return e?e.replace(H3e,""):""}ki.normalizeId=vm;function W3e(e,t,n){return n=vm(n),e.resolve(t,n)}ki.resolveUrl=W3e;const q3e=/^[a-z_][-a-z0-9._]*$/i;function Y3e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=vm(e[n]||t),s={"":i},o=cre(r,i,!1),a={},u=new Set;return B3e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=o+d;let y=s[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=y;function m(_){const T=this.opts.uriResolver.resolve;if(_=vm(y?T(y,_):_),u.has(_))throw c(_);u.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(f,x.schema,_):_!==vm(g)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=g),_}function v(_){if(typeof _=="string"){if(!q3e.test(_))throw new Error(`invalid anchor "${_}"`);m.call(this,`#${_}`)}}}),a;function l(f,d,h){if(d!==void 0&&!j3e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ki.getSchemaRefs=Y3e;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getData=Ka.KeywordCxt=Ka.validateFunctionCode=void 0;const dre=eg,CV=l1,h6=tc,tx=l1,G3e=VC,Vy=Vu,HO=Nf,lt=Zt,Rt=xl,K3e=ki,nc=bn,$0=u1;function Q3e(e){if(mre(e)&&(gre(e),pre(e))){Z3e(e);return}hre(e,()=>(0,dre.topBoolOrEmptySchema)(e))}Ka.validateFunctionCode=Q3e;function hre({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,lt._)`${Rt.default.data}, ${Rt.default.valCxt}`,r.$async,()=>{e.code((0,lt._)`"use strict"; ${AV(n,i)}`),J3e(e,i),e.code(s)}):e.func(t,(0,lt._)`${Rt.default.data}, ${X3e(i)}`,r.$async,()=>e.code(AV(n,i)).code(s))}function X3e(e){return(0,lt._)`{${Rt.default.instancePath}="", ${Rt.default.parentData}, ${Rt.default.parentDataProperty}, ${Rt.default.rootData}=${Rt.default.data}${e.dynamicRef?(0,lt._)`, ${Rt.default.dynamicAnchors}={}`:lt.nil}}={}`}function J3e(e,t){e.if(Rt.default.valCxt,()=>{e.var(Rt.default.instancePath,(0,lt._)`${Rt.default.valCxt}.${Rt.default.instancePath}`),e.var(Rt.default.parentData,(0,lt._)`${Rt.default.valCxt}.${Rt.default.parentData}`),e.var(Rt.default.parentDataProperty,(0,lt._)`${Rt.default.valCxt}.${Rt.default.parentDataProperty}`),e.var(Rt.default.rootData,(0,lt._)`${Rt.default.valCxt}.${Rt.default.rootData}`),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,lt._)`${Rt.default.valCxt}.${Rt.default.dynamicAnchors}`)},()=>{e.var(Rt.default.instancePath,(0,lt._)`""`),e.var(Rt.default.parentData,(0,lt._)`undefined`),e.var(Rt.default.parentDataProperty,(0,lt._)`undefined`),e.var(Rt.default.rootData,Rt.default.data),t.dynamicRef&&e.var(Rt.default.dynamicAnchors,(0,lt._)`{}`)})}function Z3e(e){const{schema:t,opts:n,gen:r}=e;hre(e,()=>{n.$comment&&t.$comment&&vre(e),i6e(e),r.let(Rt.default.vErrors,null),r.let(Rt.default.errors,0),n.unevaluated&&e6e(e),yre(e),a6e(e)})}function e6e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,lt._)`${n}.evaluated`),t.if((0,lt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,lt._)`${e.evaluated}.props`,(0,lt._)`undefined`)),t.if((0,lt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,lt._)`${e.evaluated}.items`,(0,lt._)`undefined`))}function AV(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,lt._)`/*# sourceURL=${n} */`:lt.nil}function t6e(e,t){if(mre(e)&&(gre(e),pre(e))){n6e(e,t);return}(0,dre.boolOrEmptySchema)(e,t)}function pre({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function mre(e){return typeof e.schema!="boolean"}function n6e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&vre(e),s6e(e),o6e(e);const s=r.const("_errs",Rt.default.errors);yre(e,s),r.var(t,(0,lt._)`${s} === ${Rt.default.errors}`)}function gre(e){(0,nc.checkUnknownRules)(e),r6e(e)}function yre(e,t){if(e.opts.jtd)return PV(e,[],!1,t);const n=(0,CV.getSchemaTypes)(e.schema),r=(0,CV.coerceAndCheckDataType)(e,n);PV(e,n,!r,t)}function r6e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,nc.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function i6e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,nc.checkStrictMode)(e,"default is ignored in the schema root")}function s6e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,K3e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function o6e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function vre({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,lt._)`${Rt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,lt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,lt._)`${Rt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function a6e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,lt._)`${Rt.default.errors} === 0`,()=>t.return(Rt.default.data),()=>t.throw((0,lt._)`new ${i}(${Rt.default.vErrors})`)):(t.assign((0,lt._)`${r}.errors`,Rt.default.vErrors),s.unevaluated&&u6e(e),t.return((0,lt._)`${Rt.default.errors} === 0`))}function u6e({gen:e,evaluated:t,props:n,items:r}){n instanceof lt.Name&&e.assign((0,lt._)`${t}.props`,n),r instanceof lt.Name&&e.assign((0,lt._)`${t}.items`,r)}function PV(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,nc.schemaHasRulesButRef)(s,c))){i.block(()=>wre(e,"$ref",c.all.$ref.definition));return}u.jtd||l6e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,h6.shouldUseGroup)(s,d)&&(d.type?(i.if((0,tx.checkDataType)(d.type,o,u.strictNumbers)),OV(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,tx.reportTypeError)(e)),i.endIf()):OV(e,d),a||i.if((0,lt._)`${Rt.default.errors} === ${r||0}`))}}function OV(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,G3e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,h6.shouldUseRule)(r,s)&&wre(e,s.keyword,s.definition,t.type)})}function l6e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(c6e(e,t),e.opts.allowUnionTypes||f6e(e,t),d6e(e,e.dataTypes))}function c6e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{_re(e.dataTypes,n)||p6(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),p6e(e,t)}}function f6e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&p6(e,"use allowUnionTypes to allow union type keyword")}function d6e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,h6.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>h6e(t,o))&&p6(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function h6e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function _re(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function p6e(e,t){const n=[];for(const r of e.dataTypes)_re(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function p6(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,nc.checkStrictMode)(e,t,e.opts.strictTypes)}class bre{constructor(t,n,r){if((0,Vy.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nc.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",Ere(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Vy.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Rt.default.errors))}result(t,n,r){this.failResult((0,lt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,lt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,lt._)`${n} !== undefined && (${(0,lt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?$0.reportExtraError:$0.reportError)(this,this.def.error,n)}$dataError(){(0,$0.reportError)(this,this.def.$dataError||$0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=lt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=lt.nil,n=lt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,lt.or)((0,lt._)`${i} === undefined`,n)),t!==lt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==lt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,lt.or)(o(),a());function o(){if(r.length){if(!(n instanceof lt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,lt._)`${(0,tx.checkDataTypes)(u,n,s.opts.strictNumbers,tx.DataType.Wrong)}`}return lt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,lt._)`!${u}(${n})`}return lt.nil}}subschema(t,n){const r=(0,HO.getSubschema)(this.it,t);(0,HO.extendSubschemaData)(r,this.it,t),(0,HO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return t6e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=nc.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=nc.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,lt.Name)),!0}}Ka.KeywordCxt=bre;function wre(e,t,n,r){const i=new bre(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Vy.funcKeywordCode)(i,n):"macro"in n?(0,Vy.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Vy.funcKeywordCode)(i,n)}const m6e=/^\/(?:[^~]|~0|~1)*$/,g6e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ere(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return Rt.default.rootData;if(e[0]==="/"){if(!m6e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=Rt.default.rootData}else{const l=g6e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,lt._)`${s}${(0,lt.getProperty)((0,nc.unescapeJsonPointer)(l))}`,o=(0,lt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ka.getData=Ere;var c1={};Object.defineProperty(c1,"__esModule",{value:!0});class y6e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}c1.default=y6e;var f1={};Object.defineProperty(f1,"__esModule",{value:!0});const WO=ki;class v6e extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,WO.resolveUrl)(t,n,r),this.missingSchema=(0,WO.normalizeId)((0,WO.getFullPath)(t,this.missingRef))}}f1.default=v6e;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.resolveSchema=Qs.getCompilingSchema=Qs.resolveRef=Qs.compileSchema=Qs.SchemaEnv=void 0;const Pa=Zt,_6e=c1,Td=xl,Ba=ki,RV=bn,b6e=Ka;class zC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Ba.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Qs.SchemaEnv=zC;function m6(e){const t=Tre.call(this,e);if(t)return t;const n=(0,Ba.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Pa.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:_6e.default,code:(0,Pa._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Td.default.data,parentData:Td.default.parentData,parentDataProperty:Td.default.parentDataProperty,dataNames:[Td.default.data],dataPathArr:[Pa.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Pa.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Pa.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Pa._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,b6e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Td.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Td.default.self}`,`${Td.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:g}=l;h.evaluated={props:p instanceof Pa.Name?void 0:p,items:g instanceof Pa.Name?void 0:g,dynamicProps:p instanceof Pa.Name,dynamicItems:g instanceof Pa.Name},h.source&&(h.source.evaluated=(0,Pa.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Qs.compileSchema=m6;function w6e(e,t,n){var r;n=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=S6e.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new zC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=E6e.call(this,s)}Qs.resolveRef=w6e;function E6e(e){return(0,Ba.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:m6.call(this,e)}function Tre(e){for(const t of this._compilations)if(T6e(t,e))return t}Qs.getCompilingSchema=Tre;function T6e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function S6e(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||HC.call(this,e,t)}function HC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Ba._getFullPath)(this.opts.uriResolver,n);let i=(0,Ba.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return qO.call(this,n,e);const s=(0,Ba.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=HC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:qO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||m6.call(this,o),s===(0,Ba.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Ba.resolveUrl)(this.opts.uriResolver,i,l)),new zC({schema:a,schemaId:u,root:e,baseId:i})}return qO.call(this,n,o)}}Qs.resolveSchema=HC;const x6e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function qO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,RV.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!x6e.has(a)&&l&&(t=(0,Ba.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,RV.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Ba.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=HC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new zC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const I6e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",C6e="Meta-schema for $data reference (JSON AnySchema extension proposal)",A6e="object",P6e=["$data"],O6e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},R6e=!1,N6e={$id:I6e,description:C6e,type:A6e,required:P6e,properties:O6e,additionalProperties:R6e};var g6={},ik={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Co,function(n){function r(){for(var Z=arguments.length,W=Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];if(W.length>1){W[0]=W[0].slice(0,-1);for(var he=W.length-1,pe=1;pe<he;++pe)W[pe]=W[pe].slice(1,-1);return W[he]=W[he].slice(1),W.join("")}else return W[0]}function i(Z){return"(?:"+Z+")"}function s(Z){return Z===void 0?"undefined":Z===null?"null":Object.prototype.toString.call(Z).split(" ").pop().split("]").shift().toLowerCase()}function o(Z){return Z.toUpperCase()}function a(Z){return Z!=null?Z instanceof Array?Z:typeof Z.length!="number"||Z.split||Z.setInterval||Z.call?[Z]:Array.prototype.slice.call(Z):[]}function u(Z,W){var ne=Z;if(W)for(var he in W)ne[he]=W[he];return ne}function l(Z){var W="[A-Za-z]",ne="[0-9]",he=r(ne,"[A-Fa-f]"),pe=i(i("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+i("%[89A-Fa-f]"+he+"%"+he+he)+"|"+i("%"+he+he)),Je="[\\:\\/\\?\\#\\[\\]\\@]",et="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ce=r(Je,et),rt=Z?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ft=Z?"[\\uE000-\\uF8FF]":"[]",Be=r(W,ne,"[\\-\\.\\_\\~]",rt);i(W+r(W,ne,"[\\+\\-\\.]")+"*"),i(i(pe+"|"+r(Be,et,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+ne)+"|"+i("1"+ne+ne)+"|"+i("0?[1-9]"+ne)+"|0?0?"+ne),tn=i(en+"\\."+en+"\\."+en+"\\."+en),yt=i(he+"{1,4}"),kn=i(i(yt+"\\:"+yt)+"|"+tn),Vn=i(i(yt+"\\:")+"{6}"+kn),St=i("\\:\\:"+i(yt+"\\:")+"{5}"+kn),Tr=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+kn),Sr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+kn),$r=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+kn),gs=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+kn),xi=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+kn),Wr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Hi=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Wi=i([Vn,St,Tr,Sr,$r,gs,xi,Wr,Hi].join("|")),Ge=i(i(Be+"|"+pe)+"+");i("[vV]"+he+"+\\."+r(Be,et,"[\\:]")+"+"),i(i(pe+"|"+r(Be,et))+"*");var nn=i(pe+"|"+r(Be,et,"[\\:\\@]"));return i(i(pe+"|"+r(Be,et,"[\\@]"))+"+"),i(i(nn+"|"+r("[\\/\\?]",Ft))+"*"),{NOT_SCHEME:new RegExp(r("[^]",W,ne,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Be,et),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Be,et),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Be,et),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Be,et),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Be,et,"[\\:\\@\\/\\?]",Ft),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Be,et,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Be,et),"g"),UNRESERVED:new RegExp(Be,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Be,Ce),"g"),PCT_ENCODED:new RegExp(pe,"g"),IPV4ADDRESS:new RegExp("^("+tn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Wi+")"+i(i("\\%25|\\%(?!"+he+"{2})")+"("+Ge+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function Z(W,ne){var he=[],pe=!0,Je=!1,et=void 0;try{for(var Ce=W[Symbol.iterator](),rt;!(pe=(rt=Ce.next()).done)&&(he.push(rt.value),!(ne&&he.length===ne));pe=!0);}catch(Ft){Je=!0,et=Ft}finally{try{!pe&&Ce.return&&Ce.return()}finally{if(Je)throw et}}return he}return function(W,ne){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Z(W,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(Z){if(Array.isArray(Z)){for(var W=0,ne=Array(Z.length);W<Z.length;W++)ne[W]=Z[W];return ne}else return Array.from(Z)},p=2147483647,g=36,y=1,m=26,v=38,_=700,T=72,x=128,w="-",S=/^xn--/,I=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=g-y,O=Math.floor,B=String.fromCharCode;function N(Z){throw new RangeError(D[Z])}function ee(Z,W){for(var ne=[],he=Z.length;he--;)ne[he]=W(Z[he]);return ne}function te(Z,W){var ne=Z.split("@"),he="";ne.length>1&&(he=ne[0]+"@",Z=ne[1]),Z=Z.replace(k,".");var pe=Z.split("."),Je=ee(pe,W).join(".");return he+Je}function se(Z){for(var W=[],ne=0,he=Z.length;ne<he;){var pe=Z.charCodeAt(ne++);if(pe>=55296&&pe<=56319&&ne<he){var Je=Z.charCodeAt(ne++);(Je&64512)==56320?W.push(((pe&1023)<<10)+(Je&1023)+65536):(W.push(pe),ne--)}else W.push(pe)}return W}var X=function(W){return String.fromCodePoint.apply(String,h(W))},re=function(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:g},A=function(W,ne){return W+22+75*(W<26)-((ne!=0)<<5)},H=function(W,ne,he){var pe=0;for(W=he?O(W/_):W>>1,W+=O(W/ne);W>M*m>>1;pe+=g)W=O(W/M);return O(pe+(M+1)*W/(W+v))},G=function(W){var ne=[],he=W.length,pe=0,Je=x,et=T,Ce=W.lastIndexOf(w);Ce<0&&(Ce=0);for(var rt=0;rt<Ce;++rt)W.charCodeAt(rt)>=128&&N("not-basic"),ne.push(W.charCodeAt(rt));for(var Ft=Ce>0?Ce+1:0;Ft<he;){for(var Be=pe,en=1,tn=g;;tn+=g){Ft>=he&&N("invalid-input");var yt=re(W.charCodeAt(Ft++));(yt>=g||yt>O((p-pe)/en))&&N("overflow"),pe+=yt*en;var kn=tn<=et?y:tn>=et+m?m:tn-et;if(yt<kn)break;var Vn=g-kn;en>O(p/Vn)&&N("overflow"),en*=Vn}var St=ne.length+1;et=H(pe-Be,St,Be==0),O(pe/St)>p-Je&&N("overflow"),Je+=O(pe/St),pe%=St,ne.splice(pe++,0,Je)}return String.fromCodePoint.apply(String,ne)},P=function(W){var ne=[];W=se(W);var he=W.length,pe=x,Je=0,et=T,Ce=!0,rt=!1,Ft=void 0;try{for(var Be=W[Symbol.iterator](),en;!(Ce=(en=Be.next()).done);Ce=!0){var tn=en.value;tn<128&&ne.push(B(tn))}}catch(be){rt=!0,Ft=be}finally{try{!Ce&&Be.return&&Be.return()}finally{if(rt)throw Ft}}var yt=ne.length,kn=yt;for(yt&&ne.push(w);kn<he;){var Vn=p,St=!0,Tr=!1,Sr=void 0;try{for(var $r=W[Symbol.iterator](),gs;!(St=(gs=$r.next()).done);St=!0){var xi=gs.value;xi>=pe&&xi<Vn&&(Vn=xi)}}catch(be){Tr=!0,Sr=be}finally{try{!St&&$r.return&&$r.return()}finally{if(Tr)throw Sr}}var Wr=kn+1;Vn-pe>O((p-Je)/Wr)&&N("overflow"),Je+=(Vn-pe)*Wr,pe=Vn;var Hi=!0,Wi=!1,Ge=void 0;try{for(var nn=W[Symbol.iterator](),qi;!(Hi=(qi=nn.next()).done);Hi=!0){var F=qi.value;if(F<pe&&++Je>p&&N("overflow"),F==pe){for(var J=Je,V=g;;V+=g){var ie=V<=et?y:V>=et+m?m:V-et;if(J<ie)break;var ue=J-ie,oe=g-ie;ne.push(B(A(ie+ue%oe,0))),J=O(ue/oe)}ne.push(B(A(J,0))),et=H(Je,Wr,kn==yt),Je=0,++kn}}}catch(be){Wi=!0,Ge=be}finally{try{!Hi&&nn.return&&nn.return()}finally{if(Wi)throw Ge}}++Je,++pe}return ne.join("")},R=function(W){return te(W,function(ne){return S.test(ne)?G(ne.slice(4).toLowerCase()):ne})},L=function(W){return te(W,function(ne){return I.test(ne)?"xn--"+P(ne):ne})},Y={version:"2.1.0",ucs2:{decode:se,encode:X},decode:G,encode:P,toASCII:L,toUnicode:R},le={};function ce(Z){var W=Z.charCodeAt(0),ne=void 0;return W<16?ne="%0"+W.toString(16).toUpperCase():W<128?ne="%"+W.toString(16).toUpperCase():W<2048?ne="%"+(W>>6|192).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase():ne="%"+(W>>12|224).toString(16).toUpperCase()+"%"+(W>>6&63|128).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase(),ne}function de(Z){for(var W="",ne=0,he=Z.length;ne<he;){var pe=parseInt(Z.substr(ne+1,2),16);if(pe<128)W+=String.fromCharCode(pe),ne+=3;else if(pe>=194&&pe<224){if(he-ne>=6){var Je=parseInt(Z.substr(ne+4,2),16);W+=String.fromCharCode((pe&31)<<6|Je&63)}else W+=Z.substr(ne,6);ne+=6}else if(pe>=224){if(he-ne>=9){var et=parseInt(Z.substr(ne+4,2),16),Ce=parseInt(Z.substr(ne+7,2),16);W+=String.fromCharCode((pe&15)<<12|(et&63)<<6|Ce&63)}else W+=Z.substr(ne,9);ne+=9}else W+=Z.substr(ne,3),ne+=3}return W}function me(Z,W){function ne(he){var pe=de(he);return pe.match(W.UNRESERVED)?pe:he}return Z.scheme&&(Z.scheme=String(Z.scheme).replace(W.PCT_ENCODED,ne).toLowerCase().replace(W.NOT_SCHEME,"")),Z.userinfo!==void 0&&(Z.userinfo=String(Z.userinfo).replace(W.PCT_ENCODED,ne).replace(W.NOT_USERINFO,ce).replace(W.PCT_ENCODED,o)),Z.host!==void 0&&(Z.host=String(Z.host).replace(W.PCT_ENCODED,ne).toLowerCase().replace(W.NOT_HOST,ce).replace(W.PCT_ENCODED,o)),Z.path!==void 0&&(Z.path=String(Z.path).replace(W.PCT_ENCODED,ne).replace(Z.scheme?W.NOT_PATH:W.NOT_PATH_NOSCHEME,ce).replace(W.PCT_ENCODED,o)),Z.query!==void 0&&(Z.query=String(Z.query).replace(W.PCT_ENCODED,ne).replace(W.NOT_QUERY,ce).replace(W.PCT_ENCODED,o)),Z.fragment!==void 0&&(Z.fragment=String(Z.fragment).replace(W.PCT_ENCODED,ne).replace(W.NOT_FRAGMENT,ce).replace(W.PCT_ENCODED,o)),Z}function we(Z){return Z.replace(/^0*(.*)/,"$1")||"0"}function ye(Z,W){var ne=Z.match(W.IPV4ADDRESS)||[],he=d(ne,2),pe=he[1];return pe?pe.split(".").map(we).join("."):Z}function We(Z,W){var ne=Z.match(W.IPV6ADDRESS)||[],he=d(ne,3),pe=he[1],Je=he[2];if(pe){for(var et=pe.toLowerCase().split("::").reverse(),Ce=d(et,2),rt=Ce[0],Ft=Ce[1],Be=Ft?Ft.split(":").map(we):[],en=rt.split(":").map(we),tn=W.IPV4ADDRESS.test(en[en.length-1]),yt=tn?7:8,kn=en.length-yt,Vn=Array(yt),St=0;St<yt;++St)Vn[St]=Be[St]||en[kn+St]||"";tn&&(Vn[yt-1]=ye(Vn[yt-1],W));var Tr=Vn.reduce(function(Wr,Hi,Wi){if(!Hi||Hi==="0"){var Ge=Wr[Wr.length-1];Ge&&Ge.index+Ge.length===Wi?Ge.length++:Wr.push({index:Wi,length:1})}return Wr},[]),Sr=Tr.sort(function(Wr,Hi){return Hi.length-Wr.length})[0],$r=void 0;if(Sr&&Sr.length>1){var gs=Vn.slice(0,Sr.index),xi=Vn.slice(Sr.index+Sr.length);$r=gs.join(":")+"::"+xi.join(":")}else $r=Vn.join(":");return Je&&($r+="%"+Je),$r}else return Z}var Qe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,gt="".match(/(){0}/)[1]===void 0;function De(Z){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne={},he=W.iri!==!1?f:c;W.reference==="suffix"&&(Z=(W.scheme?W.scheme+":":"")+"//"+Z);var pe=Z.match(Qe);if(pe){gt?(ne.scheme=pe[1],ne.userinfo=pe[3],ne.host=pe[4],ne.port=parseInt(pe[5],10),ne.path=pe[6]||"",ne.query=pe[7],ne.fragment=pe[8],isNaN(ne.port)&&(ne.port=pe[5])):(ne.scheme=pe[1]||void 0,ne.userinfo=Z.indexOf("@")!==-1?pe[3]:void 0,ne.host=Z.indexOf("//")!==-1?pe[4]:void 0,ne.port=parseInt(pe[5],10),ne.path=pe[6]||"",ne.query=Z.indexOf("?")!==-1?pe[7]:void 0,ne.fragment=Z.indexOf("#")!==-1?pe[8]:void 0,isNaN(ne.port)&&(ne.port=Z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pe[4]:void 0)),ne.host&&(ne.host=We(ye(ne.host,he),he)),ne.scheme===void 0&&ne.userinfo===void 0&&ne.host===void 0&&ne.port===void 0&&!ne.path&&ne.query===void 0?ne.reference="same-document":ne.scheme===void 0?ne.reference="relative":ne.fragment===void 0?ne.reference="absolute":ne.reference="uri",W.reference&&W.reference!=="suffix"&&W.reference!==ne.reference&&(ne.error=ne.error||"URI is not a "+W.reference+" reference.");var Je=le[(W.scheme||ne.scheme||"").toLowerCase()];if(!W.unicodeSupport&&(!Je||!Je.unicodeSupport)){if(ne.host&&(W.domainHost||Je&&Je.domainHost))try{ne.host=Y.toASCII(ne.host.replace(he.PCT_ENCODED,de).toLowerCase())}catch(et){ne.error=ne.error||"Host's domain name can not be converted to ASCII via punycode: "+et}me(ne,c)}else me(ne,he);Je&&Je.parse&&Je.parse(ne,W)}else ne.error=ne.error||"URI can not be parsed.";return ne}function Ie(Z,W){var ne=W.iri!==!1?f:c,he=[];return Z.userinfo!==void 0&&(he.push(Z.userinfo),he.push("@")),Z.host!==void 0&&he.push(We(ye(String(Z.host),ne),ne).replace(ne.IPV6ADDRESS,function(pe,Je,et){return"["+Je+(et?"%25"+et:"")+"]"})),(typeof Z.port=="number"||typeof Z.port=="string")&&(he.push(":"),he.push(String(Z.port))),he.length?he.join(""):void 0}var Ye=/^\.\.?\//,Yt=/^\/\.(\/|$)/,zt=/^\/\.\.(\/|$)/,He=/^\/?(?:.|\n)*?(?=\/|$)/;function je(Z){for(var W=[];Z.length;)if(Z.match(Ye))Z=Z.replace(Ye,"");else if(Z.match(Yt))Z=Z.replace(Yt,"/");else if(Z.match(zt))Z=Z.replace(zt,"/"),W.pop();else if(Z==="."||Z==="..")Z="";else{var ne=Z.match(He);if(ne){var he=ne[0];Z=Z.slice(he.length),W.push(he)}else throw new Error("Unexpected dot segment condition")}return W.join("")}function ot(Z){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=W.iri?f:c,he=[],pe=le[(W.scheme||Z.scheme||"").toLowerCase()];if(pe&&pe.serialize&&pe.serialize(Z,W),Z.host&&!ne.IPV6ADDRESS.test(Z.host)){if(W.domainHost||pe&&pe.domainHost)try{Z.host=W.iri?Y.toUnicode(Z.host):Y.toASCII(Z.host.replace(ne.PCT_ENCODED,de).toLowerCase())}catch(Ce){Z.error=Z.error||"Host's domain name can not be converted to "+(W.iri?"Unicode":"ASCII")+" via punycode: "+Ce}}me(Z,ne),W.reference!=="suffix"&&Z.scheme&&(he.push(Z.scheme),he.push(":"));var Je=Ie(Z,W);if(Je!==void 0&&(W.reference!=="suffix"&&he.push("//"),he.push(Je),Z.path&&Z.path.charAt(0)!=="/"&&he.push("/")),Z.path!==void 0){var et=Z.path;!W.absolutePath&&(!pe||!pe.absolutePath)&&(et=je(et)),Je===void 0&&(et=et.replace(/^\/\//,"/%2F")),he.push(et)}return Z.query!==void 0&&(he.push("?"),he.push(Z.query)),Z.fragment!==void 0&&(he.push("#"),he.push(Z.fragment)),he.join("")}function ht(Z,W){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],pe={};return he||(Z=De(ot(Z,ne),ne),W=De(ot(W,ne),ne)),ne=ne||{},!ne.tolerant&&W.scheme?(pe.scheme=W.scheme,pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=je(W.path||""),pe.query=W.query):(W.userinfo!==void 0||W.host!==void 0||W.port!==void 0?(pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=je(W.path||""),pe.query=W.query):(W.path?(W.path.charAt(0)==="/"?pe.path=je(W.path):((Z.userinfo!==void 0||Z.host!==void 0||Z.port!==void 0)&&!Z.path?pe.path="/"+W.path:Z.path?pe.path=Z.path.slice(0,Z.path.lastIndexOf("/")+1)+W.path:pe.path=W.path,pe.path=je(pe.path)),pe.query=W.query):(pe.path=Z.path,W.query!==void 0?pe.query=W.query:pe.query=Z.query),pe.userinfo=Z.userinfo,pe.host=Z.host,pe.port=Z.port),pe.scheme=Z.scheme),pe.fragment=W.fragment,pe}function At(Z,W,ne){var he=u({scheme:"null"},ne);return ot(ht(De(Z,he),De(W,he),he,!0),he)}function Xt(Z,W){return typeof Z=="string"?Z=ot(De(Z,W),W):s(Z)==="object"&&(Z=De(ot(Z,W),W)),Z}function ge(Z,W,ne){return typeof Z=="string"?Z=ot(De(Z,ne),ne):s(Z)==="object"&&(Z=ot(Z,ne)),typeof W=="string"?W=ot(De(W,ne),ne):s(W)==="object"&&(W=ot(W,ne)),Z===W}function Te(Z,W){return Z&&Z.toString().replace(!W||!W.iri?c.ESCAPE:f.ESCAPE,ce)}function Me(Z,W){return Z&&Z.toString().replace(!W||!W.iri?c.PCT_ENCODED:f.PCT_ENCODED,de)}var Ze={scheme:"http",domainHost:!0,parse:function(W,ne){return W.host||(W.error=W.error||"HTTP URIs must have a host."),W},serialize:function(W,ne){var he=String(W.scheme).toLowerCase()==="https";return(W.port===(he?443:80)||W.port==="")&&(W.port=void 0),W.path||(W.path="/"),W}},ct={scheme:"https",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize};function xn(Z){return typeof Z.secure=="boolean"?Z.secure:String(Z.scheme).toLowerCase()==="wss"}var Fe={scheme:"ws",domainHost:!0,parse:function(W,ne){var he=W;return he.secure=xn(he),he.resourceName=(he.path||"/")+(he.query?"?"+he.query:""),he.path=void 0,he.query=void 0,he},serialize:function(W,ne){if((W.port===(xn(W)?443:80)||W.port==="")&&(W.port=void 0),typeof W.secure=="boolean"&&(W.scheme=W.secure?"wss":"ws",W.secure=void 0),W.resourceName){var he=W.resourceName.split("?"),pe=d(he,2),Je=pe[0],et=pe[1];W.path=Je&&Je!=="/"?Je:void 0,W.query=et,W.resourceName=void 0}return W.fragment=void 0,W}},nt={scheme:"wss",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize},at={},Kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",mt="[0-9A-Fa-f]",wr=i(i("%[EFef]"+mt+"%"+mt+mt+"%"+mt+mt)+"|"+i("%[89A-Fa-f]"+mt+"%"+mt+mt)+"|"+i("%"+mt+mt)),gn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",qn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ps=r(qn,'[\\"\\\\]'),Rs="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",di=new RegExp(Kt,"g"),Nn=new RegExp(wr,"g"),Ca=new RegExp(r("[^]",gn,"[\\.]",'[\\"]',ps),"g"),Dr=new RegExp(r("[^]",Kt,Rs),"g"),Er=Dr;function $n(Z){var W=de(Z);return W.match(di)?W:Z}var dn={scheme:"mailto",parse:function(W,ne){var he=W,pe=he.to=he.path?he.path.split(","):[];if(he.path=void 0,he.query){for(var Je=!1,et={},Ce=he.query.split("&"),rt=0,Ft=Ce.length;rt<Ft;++rt){var Be=Ce[rt].split("=");switch(Be[0]){case"to":for(var en=Be[1].split(","),tn=0,yt=en.length;tn<yt;++tn)pe.push(en[tn]);break;case"subject":he.subject=Me(Be[1],ne);break;case"body":he.body=Me(Be[1],ne);break;default:Je=!0,et[Me(Be[0],ne)]=Me(Be[1],ne);break}}Je&&(he.headers=et)}he.query=void 0;for(var kn=0,Vn=pe.length;kn<Vn;++kn){var St=pe[kn].split("@");if(St[0]=Me(St[0]),ne.unicodeSupport)St[1]=Me(St[1],ne).toLowerCase();else try{St[1]=Y.toASCII(Me(St[1],ne).toLowerCase())}catch(Tr){he.error=he.error||"Email address's domain name can not be converted to ASCII via punycode: "+Tr}pe[kn]=St.join("@")}return he},serialize:function(W,ne){var he=W,pe=a(W.to);if(pe){for(var Je=0,et=pe.length;Je<et;++Je){var Ce=String(pe[Je]),rt=Ce.lastIndexOf("@"),Ft=Ce.slice(0,rt).replace(Nn,$n).replace(Nn,o).replace(Ca,ce),Be=Ce.slice(rt+1);try{Be=ne.iri?Y.toUnicode(Be):Y.toASCII(Me(Be,ne).toLowerCase())}catch(kn){he.error=he.error||"Email address's domain name can not be converted to "+(ne.iri?"Unicode":"ASCII")+" via punycode: "+kn}pe[Je]=Ft+"@"+Be}he.path=pe.join(",")}var en=W.headers=W.headers||{};W.subject&&(en.subject=W.subject),W.body&&(en.body=W.body);var tn=[];for(var yt in en)en[yt]!==at[yt]&&tn.push(yt.replace(Nn,$n).replace(Nn,o).replace(Dr,ce)+"="+en[yt].replace(Nn,$n).replace(Nn,o).replace(Er,ce));return tn.length&&(he.query=tn.join("&")),he}},Kn=/^([^\:]+)\:(.*)/,ms={scheme:"urn",parse:function(W,ne){var he=W.path&&W.path.match(Kn),pe=W;if(he){var Je=ne.scheme||pe.scheme||"urn",et=he[1].toLowerCase(),Ce=he[2],rt=Je+":"+(ne.nid||et),Ft=le[rt];pe.nid=et,pe.nss=Ce,pe.path=void 0,Ft&&(pe=Ft.parse(pe,ne))}else pe.error=pe.error||"URN can not be parsed.";return pe},serialize:function(W,ne){var he=ne.scheme||W.scheme||"urn",pe=W.nid,Je=he+":"+(ne.nid||pe),et=le[Je];et&&(W=et.serialize(W,ne));var Ce=W,rt=W.nss;return Ce.path=(pe||ne.nid)+":"+rt,Ce}},ei=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Hr={scheme:"urn:uuid",parse:function(W,ne){var he=W;return he.uuid=he.nss,he.nss=void 0,!ne.tolerant&&(!he.uuid||!he.uuid.match(ei))&&(he.error=he.error||"UUID is not valid."),he},serialize:function(W,ne){var he=W;return he.nss=(W.uuid||"").toLowerCase(),he}};le[Ze.scheme]=Ze,le[ct.scheme]=ct,le[Fe.scheme]=Fe,le[nt.scheme]=nt,le[dn.scheme]=dn,le[ms.scheme]=ms,le[Hr.scheme]=Hr,n.SCHEMES=le,n.pctEncChar=ce,n.pctDecChars=de,n.parse=De,n.removeDotSegments=je,n.serialize=ot,n.resolveComponents=ht,n.resolve=At,n.normalize=Xt,n.equal=ge,n.escapeComponent=Te,n.unescapeComponent=Me,Object.defineProperty(n,"__esModule",{value:!0})})})(ik,ik.exports);var k6e=ik.exports;Object.defineProperty(g6,"__esModule",{value:!0});const Sre=k6e;Sre.code='require("ajv/dist/runtime/uri").default';g6.default=Sre;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ka;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Zt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=c1,i=f1,s=Ih,o=Qs,a=Zt,u=ki,l=l1,c=bn,f=N6e,d=g6,h=(A,H)=>new RegExp(A,H);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(A){var H,G,P,R,L,Y,le,ce,de,me,we,ye,We,Qe,gt,De,Ie,Ye,Yt,zt,He,je,ot,ht,At;const Xt=A.strict,ge=(H=A.code)===null||H===void 0?void 0:H.optimize,Te=ge===!0||ge===void 0?1:ge||0,Me=(P=(G=A.code)===null||G===void 0?void 0:G.regExp)!==null&&P!==void 0?P:h,Ze=(R=A.uriResolver)!==null&&R!==void 0?R:d.default;return{strictSchema:(Y=(L=A.strictSchema)!==null&&L!==void 0?L:Xt)!==null&&Y!==void 0?Y:!0,strictNumbers:(ce=(le=A.strictNumbers)!==null&&le!==void 0?le:Xt)!==null&&ce!==void 0?ce:!0,strictTypes:(me=(de=A.strictTypes)!==null&&de!==void 0?de:Xt)!==null&&me!==void 0?me:"log",strictTuples:(ye=(we=A.strictTuples)!==null&&we!==void 0?we:Xt)!==null&&ye!==void 0?ye:"log",strictRequired:(Qe=(We=A.strictRequired)!==null&&We!==void 0?We:Xt)!==null&&Qe!==void 0?Qe:!1,code:A.code?{...A.code,optimize:Te,regExp:Me}:{optimize:Te,regExp:Me},loopRequired:(gt=A.loopRequired)!==null&&gt!==void 0?gt:v,loopEnum:(De=A.loopEnum)!==null&&De!==void 0?De:v,meta:(Ie=A.meta)!==null&&Ie!==void 0?Ie:!0,messages:(Ye=A.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(Yt=A.inlineRefs)!==null&&Yt!==void 0?Yt:!0,schemaId:(zt=A.schemaId)!==null&&zt!==void 0?zt:"$id",addUsedSchema:(He=A.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(je=A.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(ot=A.validateFormats)!==null&&ot!==void 0?ot:!0,unicodeRegExp:(ht=A.unicodeRegExp)!==null&&ht!==void 0?ht:!0,int32range:(At=A.int32range)!==null&&At!==void 0?At:!0,uriResolver:Ze}}class T{constructor(H={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,H=this.opts={...H,..._(H)};const{es5:G,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:G,lines:P}),this.logger=O(H.logger);const R=H.validateFormats;H.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,y,H,"NOT SUPPORTED"),x.call(this,m,H,"DEPRECATED","warn"),this._metaOpts=D.call(this),H.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),H.keywords&&k.call(this,H.keywords),typeof H.meta=="object"&&this.addMetaSchema(H.meta),S.call(this),H.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:H,meta:G,schemaId:P}=this.opts;let R=f;P==="id"&&(R={...f},R.id=R.$id,delete R.$id),G&&H&&this.addMetaSchema(R,R[P],!1)}defaultMeta(){const{meta:H,schemaId:G}=this.opts;return this.opts.defaultMeta=typeof H=="object"?H[G]||H:void 0}validate(H,G){let P;if(typeof H=="string"){if(P=this.getSchema(H),!P)throw new Error(`no schema with key or ref "${H}"`)}else P=this.compile(H);const R=P(G);return"$async"in P||(this.errors=P.errors),R}compile(H,G){const P=this._addSchema(H,G);return P.validate||this._compileSchemaEnv(P)}compileAsync(H,G){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return R.call(this,H,G);async function R(me,we){await L.call(this,me.$schema);const ye=this._addSchema(me,we);return ye.validate||Y.call(this,ye)}async function L(me){me&&!this.getSchema(me)&&await R.call(this,{$ref:me},!0)}async function Y(me){try{return this._compileSchemaEnv(me)}catch(we){if(!(we instanceof i.default))throw we;return le.call(this,we),await ce.call(this,we.missingSchema),Y.call(this,me)}}function le({missingSchema:me,missingRef:we}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${we} cannot be resolved`)}async function ce(me){const we=await de.call(this,me);this.refs[me]||await L.call(this,we.$schema),this.refs[me]||this.addSchema(we,me,G)}async function de(me){const we=this._loading[me];if(we)return we;try{return await(this._loading[me]=P(me))}finally{delete this._loading[me]}}}addSchema(H,G,P,R=this.opts.validateSchema){if(Array.isArray(H)){for(const Y of H)this.addSchema(Y,void 0,P,R);return this}let L;if(typeof H=="object"){const{schemaId:Y}=this.opts;if(L=H[Y],L!==void 0&&typeof L!="string")throw new Error(`schema ${Y} must be string`)}return G=(0,u.normalizeId)(G||L),this._checkUnique(G),this.schemas[G]=this._addSchema(H,P,G,R,!0),this}addMetaSchema(H,G,P=this.opts.validateSchema){return this.addSchema(H,G,!0,P),this}validateSchema(H,G){if(typeof H=="boolean")return!0;let P;if(P=H.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(P,H);if(!R&&G){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return R}getSchema(H){let G;for(;typeof(G=w.call(this,H))=="string";)H=G;if(G===void 0){const{schemaId:P}=this.opts,R=new o.SchemaEnv({schema:{},schemaId:P});if(G=o.resolveSchema.call(this,R,H),!G)return;this.refs[H]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(H){if(H instanceof RegExp)return this._removeAllSchemas(this.schemas,H),this._removeAllSchemas(this.refs,H),this;switch(typeof H){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const G=w.call(this,H);return typeof G=="object"&&this._cache.delete(G.schema),delete this.schemas[H],delete this.refs[H],this}case"object":{const G=H;this._cache.delete(G);let P=H[this.opts.schemaId];return P&&(P=(0,u.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(H){for(const G of H)this.addKeyword(G);return this}addKeyword(H,G){let P;if(typeof H=="string")P=H,typeof G=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=P);else if(typeof H=="object"&&G===void 0){if(G=H,P=G.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(N.call(this,P,G),!G)return(0,c.eachItem)(P,L=>ee.call(this,L)),this;se.call(this,G);const R={...G,type:(0,l.getJSONTypes)(G.type),schemaType:(0,l.getJSONTypes)(G.schemaType)};return(0,c.eachItem)(P,R.type.length===0?L=>ee.call(this,L,R):L=>R.type.forEach(Y=>ee.call(this,L,R,Y))),this}getKeyword(H){const G=this.RULES.all[H];return typeof G=="object"?G.definition:!!G}removeKeyword(H){const{RULES:G}=this;delete G.keywords[H],delete G.all[H];for(const P of G.rules){const R=P.rules.findIndex(L=>L.keyword===H);R>=0&&P.rules.splice(R,1)}return this}addFormat(H,G){return typeof G=="string"&&(G=new RegExp(G)),this.formats[H]=G,this}errorsText(H=this.errors,{separator:G=", ",dataVar:P="data"}={}){return!H||H.length===0?"No errors":H.map(R=>`${P}${R.instancePath} ${R.message}`).reduce((R,L)=>R+G+L)}$dataMetaSchema(H,G){const P=this.RULES.all;H=JSON.parse(JSON.stringify(H));for(const R of G){const L=R.split("/").slice(1);let Y=H;for(const le of L)Y=Y[le];for(const le in P){const ce=P[le];if(typeof ce!="object")continue;const{$data:de}=ce.definition,me=Y[le];de&&me&&(Y[le]=re(me))}}return H}_removeAllSchemas(H,G){for(const P in H){const R=H[P];(!G||G.test(P))&&(typeof R=="string"?delete H[P]:R&&!R.meta&&(this._cache.delete(R.schema),delete H[P]))}}_addSchema(H,G,P,R=this.opts.validateSchema,L=this.opts.addUsedSchema){let Y;const{schemaId:le}=this.opts;if(typeof H=="object")Y=H[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof H!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(H);if(ce!==void 0)return ce;P=(0,u.normalizeId)(Y||P);const de=u.getSchemaRefs.call(this,H,P);return ce=new o.SchemaEnv({schema:H,schemaId:le,meta:G,baseId:P,localRefs:de}),this._cache.set(ce.schema,ce),L&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=ce),R&&this.validateSchema(H,!0),ce}_checkUnique(H){if(this.schemas[H]||this.refs[H])throw new Error(`schema with key or id "${H}" already exists`)}_compileSchemaEnv(H){if(H.meta?this._compileMetaSchema(H):o.compileSchema.call(this,H),!H.validate)throw new Error("ajv implementation error");return H.validate}_compileMetaSchema(H){const G=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,H)}finally{this.opts=G}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function x(A,H,G,P="error"){for(const R in A){const L=R;L in H&&this.logger[P](`${G}: option ${R}. ${A[L]}`)}}function w(A){return A=(0,u.normalizeId)(A),this.schemas[A]||this.refs[A]}function S(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const H in A)this.addSchema(A[H],H)}function I(){for(const A in this.opts.formats){const H=this.opts.formats[A];H&&this.addFormat(A,H)}}function k(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const H in A){const G=A[H];G.keyword||(G.keyword=H),this.addKeyword(G)}}function D(){const A={...this.opts};for(const H of p)delete A[H];return A}const M={log(){},warn(){},error(){}};function O(A){if(A===!1)return M;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const B=/^[a-z_$][a-z0-9_$:-]*$/i;function N(A,H){const{RULES:G}=this;if((0,c.eachItem)(A,P=>{if(G.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!B.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!H&&H.$data&&!("code"in H||"validate"in H))throw new Error('$data keyword must have "code" or "validate" function')}function ee(A,H,G){var P;const R=H==null?void 0:H.post;if(G&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let Y=R?L.post:L.rules.find(({type:ce})=>ce===G);if(Y||(Y={type:G,rules:[]},L.rules.push(Y)),L.keywords[A]=!0,!H)return;const le={keyword:A,definition:{...H,type:(0,l.getJSONTypes)(H.type),schemaType:(0,l.getJSONTypes)(H.schemaType)}};H.before?te.call(this,Y,le,H.before):Y.rules.push(le),L.all[A]=le,(P=H.implements)===null||P===void 0||P.forEach(ce=>this.addKeyword(ce))}function te(A,H,G){const P=A.rules.findIndex(R=>R.keyword===G);P>=0?A.rules.splice(P,0,H):(A.rules.push(H),this.logger.warn(`rule ${G} is not defined`))}function se(A){let{metaSchema:H}=A;H!==void 0&&(A.$data&&this.opts.$data&&(H=re(H)),A.validateSchema=this.compile(H,!0))}const X={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function re(A){return{anyOf:[A,X]}}})(ere);var y6={},v6={},_6={};Object.defineProperty(_6,"__esModule",{value:!0});const D6e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};_6.default=D6e;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.callRef=Ch.getValidate=void 0;const $6e=f1,NV=Jt,Bs=Zt,vp=xl,kV=Qs,Hb=bn,L6e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=kV.resolveRef.call(u,l,i,n);if(c===void 0)throw new $6e.default(r.opts.uriResolver,i,n);if(c instanceof kV.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return sE(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return sE(e,(0,Bs._)`${p}.validate`,l,l.$async)}function d(p){const g=xre(e,p);sE(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Bs.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:Bs.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function xre(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Bs._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Ch.getValidate=xre;function sE(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?vp.default.this:Bs.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Bs._)`await ${(0,NV.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},g=>{i.if((0,Bs._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),d(g),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,NV.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const g=(0,Bs._)`${p}.errors`;i.assign(vp.default.vErrors,(0,Bs._)`${vp.default.vErrors} === null ? ${g} : ${vp.default.vErrors}.concat(${g})`),i.assign(vp.default.errors,(0,Bs._)`${vp.default.vErrors}.length`)}function h(p){var g;if(!s.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Hb.mergeEvaluated.props(i,y.props,s.props));else{const m=i.var("props",(0,Bs._)`${p}.evaluated.props`);s.props=Hb.mergeEvaluated.props(i,m,s.props,Bs.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Hb.mergeEvaluated.items(i,y.items,s.items));else{const m=i.var("items",(0,Bs._)`${p}.evaluated.items`);s.items=Hb.mergeEvaluated.items(i,m,s.items,Bs.Name)}}}Ch.callRef=sE;Ch.default=L6e;Object.defineProperty(v6,"__esModule",{value:!0});const M6e=_6,F6e=Ch,j6e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",M6e.default,F6e.default];v6.default=j6e;var b6={},w6={};Object.defineProperty(w6,"__esModule",{value:!0});const nx=Zt,Uc=nx.operators,rx={maximum:{okStr:"<=",ok:Uc.LTE,fail:Uc.GT},minimum:{okStr:">=",ok:Uc.GTE,fail:Uc.LT},exclusiveMaximum:{okStr:"<",ok:Uc.LT,fail:Uc.GTE},exclusiveMinimum:{okStr:">",ok:Uc.GT,fail:Uc.LTE}},B6e={message:({keyword:e,schemaCode:t})=>(0,nx.str)`must be ${rx[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,nx._)`{comparison: ${rx[e].okStr}, limit: ${t}}`},U6e={keyword:Object.keys(rx),type:"number",schemaType:"number",$data:!0,error:B6e,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,nx._)`${n} ${rx[t].fail} ${r} || isNaN(${n})`)}};w6.default=U6e;var E6={};Object.defineProperty(E6,"__esModule",{value:!0});const zy=Zt,V6e={message:({schemaCode:e})=>(0,zy.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,zy._)`{multipleOf: ${e}}`},z6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:V6e,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,zy._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,zy._)`${o} !== parseInt(${o})`;e.fail$data((0,zy._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};E6.default=z6e;var T6={},S6={};Object.defineProperty(S6,"__esModule",{value:!0});function Ire(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}S6.default=Ire;Ire.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(T6,"__esModule",{value:!0});const jd=Zt,H6e=bn,W6e=S6,q6e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,jd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,jd._)`{limit: ${e}}`},Y6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:q6e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?jd.operators.GT:jd.operators.LT,o=i.opts.unicode===!1?(0,jd._)`${n}.length`:(0,jd._)`${(0,H6e.useFunc)(e.gen,W6e.default)}(${n})`;e.fail$data((0,jd._)`${o} ${s} ${r}`)}};T6.default=Y6e;var x6={};Object.defineProperty(x6,"__esModule",{value:!0});const G6e=Jt,ix=Zt,K6e={message:({schemaCode:e})=>(0,ix.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ix._)`{pattern: ${e}}`},Q6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:K6e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,ix._)`(new RegExp(${i}, ${o}))`:(0,G6e.usePattern)(e,r);e.fail$data((0,ix._)`!${a}.test(${t})`)}};x6.default=Q6e;var I6={};Object.defineProperty(I6,"__esModule",{value:!0});const Hy=Zt,X6e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Hy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Hy._)`{limit: ${e}}`},J6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:X6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Hy.operators.GT:Hy.operators.LT;e.fail$data((0,Hy._)`Object.keys(${n}).length ${i} ${r}`)}};I6.default=J6e;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});const L0=Jt,Wy=Zt,Z6e=bn,eLe={message:({params:{missingProperty:e}})=>(0,Wy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Wy._)`{missingProperty: ${e}}`},tLe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:eLe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,Z6e.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Wy.nil,f);else for(const h of n)(0,L0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,L0.checkMissingProp)(e,n,h)),(0,L0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,L0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,L0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Wy.not)(p),()=>{e.error(),t.break()})},Wy.nil)}}};C6.default=tLe;var A6={};Object.defineProperty(A6,"__esModule",{value:!0});const qy=Zt,nLe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,qy.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,qy._)`{limit: ${e}}`},rLe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:nLe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?qy.operators.GT:qy.operators.LT;e.fail$data((0,qy._)`${n}.length ${i} ${r}`)}};A6.default=rLe;var P6={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});const Cre=d6;Cre.code='require("ajv/dist/runtime/equal").default';d1.default=Cre;Object.defineProperty(P6,"__esModule",{value:!0});const YO=l1,Ai=Zt,iLe=bn,sLe=d1,oLe={message:({params:{i:e,j:t}})=>(0,Ai.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ai._)`{i: ${e}, j: ${t}}`},aLe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:oLe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,YO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ai._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ai._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(u,!0),t.if((0,Ai._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,YO.checkDataTypes)(l,y,a.opts.strictNumbers,YO.DataType.Wrong),v=t.const("indices",(0,Ai._)`{}`);t.for((0,Ai._)`;${p}--;`,()=>{t.let(y,(0,Ai._)`${n}[${p}]`),t.if(m,(0,Ai._)`continue`),l.length>1&&t.if((0,Ai._)`typeof ${y} == "string"`,(0,Ai._)`${y} += "_"`),t.if((0,Ai._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(g,(0,Ai._)`${v}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ai._)`${v}[${y}] = ${p}`)})}function h(p,g){const y=(0,iLe.useFunc)(t,sLe.default),m=t.name("outer");t.label(m).for((0,Ai._)`;${p}--;`,()=>t.for((0,Ai._)`${g} = ${p}; ${g}--;`,()=>t.if((0,Ai._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};P6.default=aLe;var O6={};Object.defineProperty(O6,"__esModule",{value:!0});const sk=Zt,uLe=bn,lLe=d1,cLe={message:"must be equal to constant",params:({schemaCode:e})=>(0,sk._)`{allowedValue: ${e}}`},fLe={keyword:"const",$data:!0,error:cLe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,sk._)`!${(0,uLe.useFunc)(t,lLe.default)}(${n}, ${i})`):e.fail((0,sk._)`${s} !== ${n}`)}};O6.default=fLe;var R6={};Object.defineProperty(R6,"__esModule",{value:!0});const cy=Zt,dLe=bn,hLe=d1,pLe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,cy._)`{allowedValues: ${e}}`},mLe={keyword:"enum",schemaType:"array",$data:!0,error:pLe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,dLe.useFunc)(t,hLe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,cy.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,cy._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,cy._)`${l()}(${n}, ${h}[${p}])`:(0,cy._)`${n} === ${g}`}}};R6.default=mLe;Object.defineProperty(b6,"__esModule",{value:!0});const gLe=w6,yLe=E6,vLe=T6,_Le=x6,bLe=I6,wLe=C6,ELe=A6,TLe=P6,SLe=O6,xLe=R6,ILe=[gLe.default,yLe.default,vLe.default,_Le.default,bLe.default,wLe.default,ELe.default,TLe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},SLe.default,xLe.default];b6.default=ILe;var N6={},Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.validateAdditionalItems=void 0;const Bd=Zt,ok=bn,CLe={message:({params:{len:e}})=>(0,Bd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Bd._)`{limit: ${e}}`},ALe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:CLe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,ok.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}Are(e,r)}};function Are(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Bd._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Bd._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,ok.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Bd._)`${a} <= ${t.length}`);n.if((0,Bd.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:ok.Type.Num},l),o.allErrors||n.if((0,Bd.not)(l),()=>n.break())})}}Lg.validateAdditionalItems=Are;Lg.default=ALe;var k6={},Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.validateTuple=void 0;const DV=Zt,oE=bn,PLe=Jt,OLe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return Pre(e,"additionalItems",t);n.items=!0,!(0,oE.alwaysValidSchema)(n,t)&&e.ok((0,PLe.validateArray)(e))}};function Pre(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=oE.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,DV._)`${s}.length`);n.forEach((f,d)=>{(0,oE.alwaysValidSchema)(a,f)||(r.if((0,DV._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,oE.checkStrictMode)(a,y,d.strictTuples)}}}Mg.validateTuple=Pre;Mg.default=OLe;Object.defineProperty(k6,"__esModule",{value:!0});const RLe=Mg,NLe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,RLe.validateTuple)(e,"items")};k6.default=NLe;var D6={};Object.defineProperty(D6,"__esModule",{value:!0});const $V=Zt,kLe=bn,DLe=Jt,$Le=Lg,LLe={message:({params:{len:e}})=>(0,$V.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$V._)`{limit: ${e}}`},MLe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:LLe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,kLe.alwaysValidSchema)(r,t)&&(i?(0,$Le.validateAdditionalItems)(e,i):e.ok((0,DLe.validateArray)(e)))}};D6.default=MLe;var $6={};Object.defineProperty($6,"__esModule",{value:!0});const Qo=Zt,Wb=bn,FLe={message:({params:{min:e,max:t}})=>t===void 0?(0,Qo.str)`must contain at least ${e} valid item(s)`:(0,Qo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Qo._)`{minContains: ${e}}`:(0,Qo._)`{minContains: ${e}, maxContains: ${t}}`},jLe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:FLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Qo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Wb.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Wb.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Wb.alwaysValidSchema)(s,n)){let g=(0,Qo._)`${c} >= ${o}`;a!==void 0&&(g=(0,Qo._)`${g} && ${c} <= ${a}`),e.pass(g);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Qo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Wb.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,Qo._)`${g}++`),a===void 0?t.if((0,Qo._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Qo._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Qo._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};$6.default=jLe;var Ore={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Zt,n=bn,r=Jt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const g=l[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(u,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,g,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const g in l)(0,n.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:g},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(Ore);var L6={};Object.defineProperty(L6,"__esModule",{value:!0});const Rre=Zt,BLe=bn,ULe={message:"property name must be valid",params:({params:e})=>(0,Rre._)`{propertyName: ${e.propertyName}}`},VLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ULe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,BLe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Rre.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};L6.default=VLe;var WC={};Object.defineProperty(WC,"__esModule",{value:!0});const qb=Jt,Oa=Zt,zLe=xl,Yb=bn,HLe={message:"must NOT have additional properties",params:({params:e})=>(0,Oa._)`{additionalProperty: ${e.additionalProperty}}`},WLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:HLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Yb.alwaysValidSchema)(o,n))return;const l=(0,qb.allSchemaProperties)(r.properties),c=(0,qb.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Oa._)`${s} === ${zLe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(l.length>8){const v=(0,Yb.schemaRefOrVal)(o,r.properties,"properties");m=(0,qb.isOwnProperty)(t,v,y)}else l.length?m=(0,Oa.or)(...l.map(v=>(0,Oa._)`${y} === ${v}`)):m=Oa.nil;return c.length&&(m=(0,Oa.or)(m,...c.map(v=>(0,Oa._)`${(0,qb.usePattern)(e,v)}.test(${y})`))),(0,Oa.not)(m)}function h(y){t.code((0,Oa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,Yb.alwaysValidSchema)(o,n)){const m=t.name("valid");u.removeAdditional==="failing"?(g(y,m,!1),t.if((0,Oa.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,Oa.not)(m),()=>t.break()))}}function g(y,m,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:Yb.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,m)}}};WC.default=WLe;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});const qLe=Ka,LV=Jt,GO=bn,MV=WC,YLe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&MV.default.code(new qLe.KeywordCxt(s,MV.default,"additionalProperties"));const o=(0,LV.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=GO.mergeEvaluated.props(t,(0,GO.toHash)(o),s.props));const a=o.filter(f=>!(0,GO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,LV.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};M6.default=YLe;var F6={};Object.defineProperty(F6,"__esModule",{value:!0});const FV=Jt,Gb=Zt,jV=bn,BV=bn,GLe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,FV.allSchemaProperties)(n),u=a.filter(g=>(0,jV.alwaysValidSchema)(s,n[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Gb.Name)&&(s.props=(0,BV.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const g of a)l&&h(g),s.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in l)new RegExp(g).test(y)&&(0,jV.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,Gb._)`${(0,FV.usePattern)(e,g)}.test(${y})`,()=>{const m=u.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:BV.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Gb._)`${f}[${y}]`,!0):!m&&!s.allErrors&&t.if((0,Gb.not)(c),()=>t.break())})})}}};F6.default=GLe;var j6={};Object.defineProperty(j6,"__esModule",{value:!0});const KLe=bn,QLe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,KLe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};j6.default=QLe;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});const XLe=Jt,JLe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:XLe.validateUnion,error:{message:"must match a schema in anyOf"}};B6.default=JLe;var U6={};Object.defineProperty(U6,"__esModule",{value:!0});const aE=Zt,ZLe=bn,eMe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,aE._)`{passingSchemas: ${e.passing}}`},tMe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:eMe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,ZLe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,aE._)`${u} && ${o}`).assign(o,!1).assign(a,(0,aE._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,aE.Name)})})}}};U6.default=tMe;var V6={};Object.defineProperty(V6,"__esModule",{value:!0});const nMe=bn,rMe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,nMe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};V6.default=rMe;var z6={};Object.defineProperty(z6,"__esModule",{value:!0});const sx=Zt,Nre=bn,iMe={message:({params:e})=>(0,sx.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,sx._)`{failingKeyword: ${e.ifClause}}`},sMe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:iMe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,Nre.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=UV(r,"then"),s=UV(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,sx.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,sx._)`${c}`):e.setParams({ifClause:c})}}}};function UV(e,t){const n=e.schema[t];return n!==void 0&&!(0,Nre.alwaysValidSchema)(e,n)}z6.default=sMe;var H6={};Object.defineProperty(H6,"__esModule",{value:!0});const oMe=bn,aMe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,oMe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};H6.default=aMe;Object.defineProperty(N6,"__esModule",{value:!0});const uMe=Lg,lMe=k6,cMe=Mg,fMe=D6,dMe=$6,hMe=Ore,pMe=L6,mMe=WC,gMe=M6,yMe=F6,vMe=j6,_Me=B6,bMe=U6,wMe=V6,EMe=z6,TMe=H6;function SMe(e=!1){const t=[vMe.default,_Me.default,bMe.default,wMe.default,EMe.default,TMe.default,pMe.default,mMe.default,hMe.default,gMe.default,yMe.default];return e?t.push(lMe.default,fMe.default):t.push(uMe.default,cMe.default),t.push(dMe.default),t}N6.default=SMe;var W6={},q6={};Object.defineProperty(q6,"__esModule",{value:!0});const Mr=Zt,xMe={message:({schemaCode:e})=>(0,Mr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Mr._)`{format: ${e}}`},IMe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:xMe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=n.const("fDef",(0,Mr._)`${p}[${o}]`),y=n.let("fType"),m=n.let("format");n.if((0,Mr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,Mr._)`${g}.type || "string"`).assign(m,(0,Mr._)`${g}.validate`),()=>n.assign(y,(0,Mr._)`"string"`).assign(m,g)),e.fail$data((0,Mr.or)(v(),_()));function v(){return u.strictSchema===!1?Mr.nil:(0,Mr._)`${o} && !${m}`}function _(){const T=c.$async?(0,Mr._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,Mr._)`${m}(${r})`,x=(0,Mr._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${r}))`;return(0,Mr._)`${m} && ${m} !== true && ${y} === ${t} && !${x}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[g,y,m]=_(p);g===t&&e.pass(T());function v(){if(u.strictSchema===!1){f.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _(x){const w=x instanceof RegExp?(0,Mr.regexpCode)(x):u.code.formats?(0,Mr._)`${u.code.formats}${(0,Mr.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:x,code:w});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Mr._)`${S}.validate`]:["string",x,S]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Mr._)`await ${m}(${r})`}return typeof y=="function"?(0,Mr._)`${m}(${r})`:(0,Mr._)`${m}.test(${r})`}}}};q6.default=IMe;Object.defineProperty(W6,"__esModule",{value:!0});const CMe=q6,AMe=[CMe.default];W6.default=AMe;var tg={};Object.defineProperty(tg,"__esModule",{value:!0});tg.contentVocabulary=tg.metadataVocabulary=void 0;tg.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];tg.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(y6,"__esModule",{value:!0});const PMe=v6,OMe=b6,RMe=N6,NMe=W6,VV=tg,kMe=[PMe.default,OMe.default,(0,RMe.default)(),NMe.default,VV.metadataVocabulary,VV.contentVocabulary];y6.default=kMe;var Y6={},kre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(kre);Object.defineProperty(Y6,"__esModule",{value:!0});const Pp=Zt,ak=kre,zV=Qs,DMe=bn,$Me={message:({params:{discrError:e,tagName:t}})=>e===ak.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Pp._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},LMe={keyword:"discriminator",type:"object",schemaType:"object",error:$Me,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Pp._)`${n}${(0,Pp.getProperty)(a)}`);t.if((0,Pp._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:ak.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Pp._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:ak.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,Pp.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let T=0;T<o.length;T++){let x=o[T];x!=null&&x.$ref&&!(0,DMe.schemaHasRulesButRef)(x,s.self.RULES)&&(x=zV.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x==null?void 0:x.$ref),x instanceof zV.SchemaEnv&&(x=x.schema));const w=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(x)),v(w,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:T}){return Array.isArray(T)&&T.includes(a)}function v(T,x){if(T.const)_(T.const,x);else if(T.enum)for(const w of T.enum)_(w,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(T,x){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=x}}}};Y6.default=LMe;const MMe="http://json-schema.org/draft-07/schema#",FMe="http://json-schema.org/draft-07/schema#",jMe="Core schema meta-schema",BMe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},UMe=["object","boolean"],VMe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},zMe={$schema:MMe,$id:FMe,title:jMe,definitions:BMe,type:UMe,properties:VMe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=ere,r=y6,i=Y6,s=zMe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ka;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Zt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=c1;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=f1;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(tk,tk.exports);var HMe=tk.exports;const Dre=au(HMe),WMe="#/definitions/StudyConfig",qMe="http://json-schema.org/draft-07/schema#",YMe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},tasksToNotRecordAudio:{items:{type:"string"},type:"array"},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},GMe={$ref:WMe,$schema:qMe,definitions:YMe},KMe="#/definitions/GlobalConfig",QMe="http://json-schema.org/draft-07/schema#",XMe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},JMe={$ref:KMe,$schema:QMe,definitions:XMe},$re=new Dre;$re.addSchema(JMe);const HV=$re.getSchema("#/definitions/GlobalConfig"),Lre=new Dre;Lre.addSchema(GMe);const WV=Lre.getSchema("#/definitions/StudyConfig");function ZMe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function qC(e){return e.baseComponent!==void 0}function e4e(e){const t=u6.parse(e),n=HV(t),r=ZMe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...HV.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function t4e(e){const t=[];return[Object.values(e.components).every(r=>{var i;return qC(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Mre(e,t){const n=u6.parse(e),r=WV(n),i=t4e(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...WV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ua(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wf(e){return!!e&&!!e[hr]}function cc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===c4e}(e)||Array.isArray(e)||!!e[JV]||!!(!((t=e.constructor)===null||t===void 0)&&t[JV])||G6(e)||K6(e))}function Ah(e,t,n){n===void 0&&(n=!1),Fg(e)===0?(n?Object.keys:bm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Fg(e){var t=e[hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:G6(e)?2:K6(e)?3:0}function _m(e,t){return Fg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function n4e(e,t){return Fg(e)===2?e.get(t):e[t]}function Fre(e,t,n){var r=Fg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jre(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function G6(e){return u4e&&e instanceof Map}function K6(e){return l4e&&e instanceof Set}function Od(e){return e.o||e.t}function Q6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ure(e);delete t[hr];for(var n=bm(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function X6(e,t){return t===void 0&&(t=!1),J6(e)||Wf(e)||!cc(e)||(Fg(e)>1&&(e.set=e.add=e.clear=e.delete=r4e),Object.freeze(e),t&&Ah(e,function(n,r){return X6(r,!0)},!0)),e}function r4e(){Ua(2)}function J6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ju(e){var t=fk[e];return t||Ua(18,e),t}function i4e(e,t){fk[e]||(fk[e]=t)}function uk(){return Vv}function KO(e,t){t&&(Ju("Patches"),e.u=[],e.s=[],e.v=t)}function ox(e){lk(e),e.p.forEach(s4e),e.p=null}function lk(e){e===Vv&&(Vv=e.l)}function qV(e){return Vv={p:[],l:Vv,h:e,m:!0,_:0}}function s4e(e){var t=e[hr];t.i===0||t.i===1?t.j():t.g=!0}function QO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ju("ES5").S(t,e,r),r?(n[hr].P&&(ox(t),Ua(4)),cc(e)&&(e=ax(t,e),t.l||ux(t,e)),t.u&&Ju("Patches").M(n[hr].t,e,t.u,t.s)):e=ax(t,n,[]),ox(t),t.u&&t.v(t.u,t.s),e!==Bre?e:void 0}function ax(e,t,n){if(J6(t))return t;var r=t[hr];if(!r)return Ah(t,function(a,u){return YV(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return ux(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Q6(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ah(s,function(a,u){return YV(e,r,i,a,u,n,o)}),ux(e,i,!1),n&&e.u&&Ju("Patches").N(r,n,e.u,e.s)}return r.o}function YV(e,t,n,r,i,s,o){if(Wf(i)){var a=ax(e,i,s&&t&&t.i!==3&&!_m(t.R,r)?s.concat(r):void 0);if(Fre(n,r,a),!Wf(a))return;e.m=!1}else o&&n.add(i);if(cc(i)&&!J6(i)){if(!e.h.D&&e._<1)return;ax(e,i),t&&t.A.l||ux(e,i)}}function ux(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&X6(t,n)}function XO(e,t){var n=e[hr];return(n?Od(n):e)[t]}function GV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function of(e){e.P||(e.P=!0,e.l&&of(e.l))}function JO(e){e.o||(e.o=Q6(e.t))}function ck(e,t,n){var r=G6(t)?Ju("MapSet").F(t,n):K6(t)?Ju("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:uk(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=zv;o&&(u=[a],l=fy);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ju("ES5").J(t,n);return(n?n.A:uk()).p.push(r),r}function o4e(e){return Wf(e)||Ua(22,e),function t(n){if(!cc(n))return n;var r,i=n[hr],s=Fg(n);if(i){if(!i.P&&(i.i<4||!Ju("ES5").K(i)))return i.t;i.I=!0,r=KV(n,s),i.I=!1}else r=KV(n,s);return Ah(r,function(o,a){i&&n4e(i.t,o)===a||Fre(r,o,t(a))}),s===3?new Set(r):r}(e)}function KV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Q6(e)}function a4e(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[hr];return zv.get(u,s)},set:function(u){var l=this[hr];zv.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][hr];if(!a.P)switch(a.i){case 5:r(a)&&of(a);break;case 4:n(a)&&of(a)}}}function n(s){for(var o=s.t,a=s.k,u=bm(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==hr){var f=o[c];if(f===void 0&&!_m(o,c))return!0;var d=a[c],h=d&&d[hr];if(h?h.t!==f:!jre(d,f))return!0}}var p=!!o[hr];return u.length!==bm(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};i4e("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Ure(f);delete p[hr];for(var g=bm(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:uk(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,hr,{value:l,writable:!0}),u},S:function(s,o,a){a?Wf(o)&&o[hr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[hr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Ah(d,function(_){_!==hr&&(f[_]!==void 0||_m(f,_)?h[_]||u(d[_]):(h[_]=!0,of(c)))}),Ah(f,function(_){d[_]!==void 0||_m(d,_)||(h[_]=!1,of(c))});else if(p===5){if(r(c)&&(of(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),v=0;v<m;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var QV,Vv,Z6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",u4e=typeof Map<"u",l4e=typeof Set<"u",XV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Bre=Z6?Symbol.for("immer-nothing"):((QV={})["immer-nothing"]=!0,QV),JV=Z6?Symbol.for("immer-draftable"):"__$immer_draftable",hr=Z6?Symbol.for("immer-state"):"__$immer_state",c4e=""+Object.prototype.constructor,bm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ure=Object.getOwnPropertyDescriptors||function(e){var t={};return bm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},fk={},zv={get:function(e,t){if(t===hr)return e;var n=Od(e);if(!_m(n,t))return function(i,s,o){var a,u=GV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!cc(r)?r:r===XO(e.t,t)?(JO(e),e.o[t]=ck(e.A.h,r,e)):r},has:function(e,t){return t in Od(e)},ownKeys:function(e){return Reflect.ownKeys(Od(e))},set:function(e,t,n){var r=GV(Od(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=XO(Od(e),t),s=i==null?void 0:i[hr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(jre(n,i)&&(n!==void 0||_m(e.t,t)))return!0;JO(e),of(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return XO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,JO(e),of(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Od(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ua(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ua(12)}},fy={};Ah(zv,function(e,t){fy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),fy.deleteProperty=function(e,t){return fy.set.call(this,e,t,void 0)},fy.set=function(e,t,n){return zv.set.call(this,e[0],t,n,e[0])};var f4e=function(){function e(n){var r=this;this.O=XV,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return u.produce(g,function(T){var x;return(x=s).call.apply(x,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Ua(6),o!==void 0&&typeof o!="function"&&Ua(7),cc(i)){var c=qV(r),f=ck(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?ox(c):lk(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return KO(c,o),QO(g,c)},function(g){throw ox(c),g}):(KO(c,o),QO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===Bre&&(l=void 0),r.D&&X6(l,!0),o){var h=[],p=[];Ju("Patches").M(i,l,h,p),o(h,p)}return l}Ua(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){cc(n)||Ua(8),Wf(n)&&(n=o4e(n));var r=qV(this),i=ck(this,n,void 0);return i[hr].C=!0,lk(r),i},t.finishDraft=function(n,r){var i=n&&n[hr],s=i.A;return KO(s,r),QO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!XV&&Ua(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ju("Patches").$;return Wf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Lo=new f4e,Vre=Lo.produce;Lo.produceWithPatches.bind(Lo);Lo.setAutoFreeze.bind(Lo);Lo.setUseProxies.bind(Lo);Lo.applyPatches.bind(Lo);Lo.createDraft.bind(Lo);Lo.finishDraft.bind(Lo);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function d4e(e,t){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h4e(e){var t=d4e(e,"string");return Hv(t)=="symbol"?t:String(t)}function p4e(e,t,n){return t=h4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZV(Object(n),!0).forEach(function(r){p4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ts(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var t7=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ZO=function(){return Math.random().toString(36).substring(7).split("").join(".")},lx={INIT:"@@redux/INIT"+ZO(),REPLACE:"@@redux/REPLACE"+ZO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ZO()}};function m4e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zre(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ts(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ts(1));return n(zre)(e,t)}if(typeof e!="function")throw new Error(ts(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ts(3));return s}function f(g){if(typeof g!="function")throw new Error(ts(4));if(u)throw new Error(ts(5));var y=!0;return l(),a.push(g),function(){if(y){if(u)throw new Error(ts(6));y=!1,l();var v=a.indexOf(g);a.splice(v,1),o=null}}}function d(g){if(!m4e(g))throw new Error(ts(7));if(typeof g.type>"u")throw new Error(ts(8));if(u)throw new Error(ts(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var y=o=a,m=0;m<y.length;m++){var v=y[m];v()}return g}function h(g){if(typeof g!="function")throw new Error(ts(10));i=g,d({type:lx.REPLACE})}function p(){var g,y=f;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ts(11));function _(){v.next&&v.next(c())}_();var T=y(_);return{unsubscribe:T}}},g[t7]=function(){return this},g}return d({type:lx.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[t7]=p,r}function g4e(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:lx.INIT});if(typeof r>"u")throw new Error(ts(12));if(typeof n(void 0,{type:lx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ts(13))})}function y4e(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{g4e(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],g=u[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(ts(14));f[h]=y,c=c||y!==g}return c=c||s.length!==Object.keys(u).length,c?f:u}}function cx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function v4e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ts(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=cx.apply(void 0,a)(i.dispatch),e7(e7({},i),{},{dispatch:s})}}}function Hre(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Wre=Hre();Wre.withExtraArgument=Hre;const n7=Wre;var qre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),h1=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ph=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},_4e=Object.defineProperty,b4e=Object.defineProperties,w4e=Object.getOwnPropertyDescriptors,r7=Object.getOwnPropertySymbols,E4e=Object.prototype.hasOwnProperty,T4e=Object.prototype.propertyIsEnumerable,i7=function(e,t,n){return t in e?_4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kf=function(e,t){for(var n in t||(t={}))E4e.call(t,n)&&i7(e,n,t[n]);if(r7)for(var r=0,i=r7(t);r<i.length;r++){var n=i[r];T4e.call(t,n)&&i7(e,n,t[n])}return e},e2=function(e,t){return b4e(e,w4e(t))},p1=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},S4e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cx:cx.apply(null,arguments)};function Yre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var x4e=function(e){return e&&typeof e.match=="function"};function Zu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return kf(kf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function I4e(e){return Yre(e)&&"type"in e}var C4e=function(e){qre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ph([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ph([void 0],n.concat(this))))},t}(Array),A4e=function(e){qre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Ph([void 0],n[0].concat(this)))):new(t.bind.apply(t,Ph([void 0],n.concat(this))))},t}(Array);function dk(e){return cc(e)?Vre(e,function(){}):e}function P4e(e){return typeof e=="boolean"}function O4e(){return function(t){return R4e(t)}}function R4e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new C4e;return n&&(P4e(n)?r.push(n7):r.push(n7.withExtraArgument(n.extraArgument))),r}var N4e=!0;function Gre(e){var t=O4e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Yre(i))h=y4e(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=v4e.apply(void 0,p),y=cx;u&&(y=S4e(kf({trace:!N4e},typeof u=="object"&&u)));var m=new A4e(g),v=m;Array.isArray(d)?v=Ph([g],d):typeof d=="function"&&(v=d(m));var _=y.apply(void 0,v);return zre(h,c,_)}function Kre(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function k4e(e){return typeof e=="function"}function D4e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Kre(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(k4e(e))u=function(){return dk(e())};else{var l=dk(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Ph([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(Wf(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if(cc(p))return Vre(p,function(v){return g(v,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function $4e(e,t){return e+"/"+t}function Qre(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:dk(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=$4e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Zu(d,p):Zu(d)});function u(){var c=typeof e.extraReducers=="function"?Kre(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=kf(kf({},d),o);return D4e(n,function(v){for(var _ in m)v.addCase(_,m[_]);for(var T=0,x=p;T<x.length;T++){var w=x[T];v.addMatcher(w.matcher,w.reducer)}y&&v.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var L4e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=L4e[Math.random()*64|0];return t},M4e=["name","message","stack","code"],t2=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),s7=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),F4e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=M4e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Zu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:e2(kf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Zu(t+"/pending",function(l,c,f){return{payload:void 0,meta:e2(kf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Zu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||F4e)(l||"Rejected"),meta:e2(kf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):Xre(),p=new a,g;function y(v){g=v,p.abort()}var m=function(){return p1(this,null,function(){var v,_,T,x,w,S,I;return h1(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),B4e(x)?[4,x]:[3,2];case 1:x=k.sent(),k.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(D,M){return p.signal.addEventListener("abort",function(){return M({name:"AbortError",message:g||"Aborted"})})}),c(s(h,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(D,M){return new t2(D,M)},fulfillWithValue:function(D,M){return new s7(D,M)}})).then(function(D){if(D instanceof t2)throw D;return D instanceof s7?i(D.payload,h,l,D.meta):i(D,h,l)})])];case 3:return T=k.sent(),[3,5];case 4:return S=k.sent(),T=S instanceof t2?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,I||c(T),[2,T]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:l,unwrap:function(){return m.then(j4e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function j4e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function B4e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var U4e=function(e,t){return x4e(e)?e.match(t):e(t)};function o7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return U4e(r,n)})}}var eL=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},hk=function(){},Jre=function(e,t){return t===void 0&&(t=hk),e.catch(t),e},Zre=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},wm=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},V4e="task",eie="listener",tie="completed",tL="cancelled",z4e="task-"+tL,H4e="task-"+tie,nie=eie+"-"+tL,W4e=eie+"-"+tie,YC=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=V4e+" "+tL+" (reason: "+t+")"}return e}(),Em=function(e){if(e.aborted)throw new YC(e.reason)};function rie(e,t){var n=hk;return new Promise(function(r,i){var s=function(){return i(new YC(e.reason))};if(e.aborted){s();return}n=Zre(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=hk})}var q4e=function(e,t){return p1(void 0,null,function(){var n,r;return h1(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof YC?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},fx=function(e){return function(t){return Jre(rie(e,t).then(function(n){return Em(e),n}))}},iie=function(e){var t=fx(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},Y4e=Object.assign,a7={},m1="listenerMiddleware",G4e=function(e,t){var n=function(r){return Zre(e,function(){return wm(r,e.reason)})};return function(r,i){eL(r,"taskExecutor");var s=new AbortController;n(s);var o=q4e(function(){return p1(void 0,null,function(){var a;return h1(this,function(u){switch(u.label){case 0:return Em(e),Em(s.signal),[4,r({pause:fx(s.signal),delay:iie(s.signal),signal:s.signal})];case 1:return a=u.sent(),Em(s.signal),[2,a]}})})},function(){return wm(s,H4e)});return i!=null&&i.autoJoin&&t.push(o),{result:fx(e)(o),cancel:function(){wm(s,z4e)}}}},K4e=function(e,t){var n=function(r,i){return p1(void 0,null,function(){var s,o,a,u;return h1(this,function(l){switch(l.label){case 0:Em(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,rie(t,Promise.race(a))];case 2:return u=l.sent(),Em(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Jre(n(r,i))}},sie=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Zu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return eL(s,"options.listener"),{predicate:i,type:t,effect:s}},Q4e=function(e){var t=sie(e),n=t.type,r=t.predicate,i=t.effect,s=Xre(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},pk=function(e){e.pending.forEach(function(t){wm(t,nie)})},X4e=function(e){return function(){e.forEach(pk),e.clear()}},u7=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},J4e=Zu(m1+"/add"),Z4e=Zu(m1+"/removeAll"),e5e=Zu(m1+"/remove"),t5e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Ph([m1+"/error"],e))};function n5e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?t5e:i;eL(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&pk(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},u=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=Q4e(h)),o(p)},l=function(h){var p=sie(h),g=p.type,y=p.effect,m=p.predicate,v=a(function(_){var T=typeof g=="string"?_.type===g:_.predicate===m;return T&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&pk(v)),!!v},c=function(h,p,g,y){return p1(t,null,function(){var m,v,_,T;return h1(this,function(x){switch(x.label){case 0:m=new AbortController,v=K4e(u,m.signal),_=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),h.pending.add(m),[4,Promise.resolve(h.effect(p,Y4e({},g,{getOriginalState:y,condition:function(w,S){return v(w,S).then(Boolean)},take:v,delay:iie(m.signal),pause:fx(m.signal),extra:r,signal:m.signal,fork:G4e(m.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(w,S,I){w!==m&&(wm(w,nie),I.delete(w))})}})))];case 2:return x.sent(),[3,6];case 3:return T=x.sent(),T instanceof YC||u7(s,T,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return x.sent(),wm(m,W4e),h.pending.delete(m),[7];case 6:return[2]}})})},f=X4e(n),d=function(h){return function(p){return function(g){if(!I4e(g))return p(g);if(J4e.match(g))return u(g.payload);if(Z4e.match(g)){f();return}if(e5e.match(g))return l(g.payload);var y=h.getState(),m=function(){if(y===a7)throw new Error(m1+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(g),n.size>0)for(var _=h.getState(),T=Array.from(n.values()),x=0,w=T;x<w.length;x++){var S=w[x],I=!1;try{I=S.predicate(g,_,y)}catch(k){I=!1,u7(s,k,{raisedBy:"predicate"})}I&&c(S,g,h,m)}}finally{y=a7}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var l7;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);a4e();async function r5e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=Qre({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},setIsRecording(c,f){c.isRecording=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}}}});return{store:Gre({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const oie=b.createContext(null);function cl(){return b.useContext(oie).actions}const fl=Qne,ga=T$e;function i5e(e){return ga(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var dx={exports:{}};dx.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",v="[object Object]",_="[object Proxy]",T="[object RegExp]",x="[object Set]",w="[object String]",S="[object Undefined]",I="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",M="[object Float32Array]",O="[object Float64Array]",B="[object Int8Array]",N="[object Int16Array]",ee="[object Int32Array]",te="[object Uint8Array]",se="[object Uint8ClampedArray]",X="[object Uint16Array]",re="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,P={};P[M]=P[O]=P[B]=P[N]=P[ee]=P[te]=P[se]=P[X]=P[re]=!0,P[a]=P[u]=P[k]=P[c]=P[D]=P[f]=P[d]=P[h]=P[g]=P[y]=P[v]=P[T]=P[x]=P[w]=P[I]=!1;var R=typeof Co=="object"&&Co&&Co.Object===Object&&Co,L=typeof self=="object"&&self&&self.Object===Object&&self,Y=R||L||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&!0&&e&&!e.nodeType&&e,de=ce&&ce.exports===le,me=de&&R.process,we=function(){try{var q=ce&&ce.require&&ce.require("util").types;return q||me&&me.binding&&me.binding("util")}catch{}}(),ye=we&&we.isTypedArray;function We(q,ae,ve){switch(ve.length){case 0:return q.call(ae);case 1:return q.call(ae,ve[0]);case 2:return q.call(ae,ve[0],ve[1]);case 3:return q.call(ae,ve[0],ve[1],ve[2])}return q.apply(ae,ve)}function Qe(q,ae){for(var ve=-1,Xe=Array(q);++ve<q;)Xe[ve]=ae(ve);return Xe}function gt(q){return function(ae){return q(ae)}}function De(q,ae){return q==null?void 0:q[ae]}function Ie(q,ae){return function(ve){return q(ae(ve))}}var Ye=Array.prototype,Yt=Function.prototype,zt=Object.prototype,He=Y["__core-js_shared__"],je=Yt.toString,ot=zt.hasOwnProperty,ht=function(){var q=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),At=zt.toString,Xt=je.call(Object),ge=RegExp("^"+je.call(ot).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=de?Y.Buffer:void 0,Me=Y.Symbol,Ze=Y.Uint8Array,ct=Te?Te.allocUnsafe:void 0,xn=Ie(Object.getPrototypeOf,Object),Fe=Object.create,nt=zt.propertyIsEnumerable,at=Ye.splice,Kt=Me?Me.toStringTag:void 0,mt=function(){try{var q=Re(Object,"defineProperty");return q({},"",{}),q}catch{}}(),wr=Te?Te.isBuffer:void 0,gn=Math.max,qn=Date.now,ps=Re(Y,"Map"),Rs=Re(Object,"create"),di=function(){function q(){}return function(ae){if(!wd(ae))return{};if(Fe)return Fe(ae);q.prototype=ae;var ve=new q;return q.prototype=void 0,ve}}();function Nn(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Xe=q[ae];this.set(Xe[0],Xe[1])}}function Ca(){this.__data__=Rs?Rs(null):{},this.size=0}function Dr(q){var ae=this.has(q)&&delete this.__data__[q];return this.size-=ae?1:0,ae}function Er(q){var ae=this.__data__;if(Rs){var ve=ae[q];return ve===r?void 0:ve}return ot.call(ae,q)?ae[q]:void 0}function $n(q){var ae=this.__data__;return Rs?ae[q]!==void 0:ot.call(ae,q)}function dn(q,ae){var ve=this.__data__;return this.size+=this.has(q)?0:1,ve[q]=Rs&&ae===void 0?r:ae,this}Nn.prototype.clear=Ca,Nn.prototype.delete=Dr,Nn.prototype.get=Er,Nn.prototype.has=$n,Nn.prototype.set=dn;function Kn(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Xe=q[ae];this.set(Xe[0],Xe[1])}}function ms(){this.__data__=[],this.size=0}function ei(q){var ae=this.__data__,ve=Tr(ae,q);if(ve<0)return!1;var Xe=ae.length-1;return ve==Xe?ae.pop():at.call(ae,ve,1),--this.size,!0}function Hr(q){var ae=this.__data__,ve=Tr(ae,q);return ve<0?void 0:ae[ve][1]}function Z(q){return Tr(this.__data__,q)>-1}function W(q,ae){var ve=this.__data__,Xe=Tr(ve,q);return Xe<0?(++this.size,ve.push([q,ae])):ve[Xe][1]=ae,this}Kn.prototype.clear=ms,Kn.prototype.delete=ei,Kn.prototype.get=Hr,Kn.prototype.has=Z,Kn.prototype.set=W;function ne(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Xe=q[ae];this.set(Xe[0],Xe[1])}}function he(){this.size=0,this.__data__={hash:new Nn,map:new(ps||Kn),string:new Nn}}function pe(q){var ae=Oe(this,q).delete(q);return this.size-=ae?1:0,ae}function Je(q){return Oe(this,q).get(q)}function et(q){return Oe(this,q).has(q)}function Ce(q,ae){var ve=Oe(this,q),Xe=ve.size;return ve.set(q,ae),this.size+=ve.size==Xe?0:1,this}ne.prototype.clear=he,ne.prototype.delete=pe,ne.prototype.get=Je,ne.prototype.has=et,ne.prototype.set=Ce;function rt(q){var ae=this.__data__=new Kn(q);this.size=ae.size}function Ft(){this.__data__=new Kn,this.size=0}function Be(q){var ae=this.__data__,ve=ae.delete(q);return this.size=ae.size,ve}function en(q){return this.__data__.get(q)}function tn(q){return this.__data__.has(q)}function yt(q,ae){var ve=this.__data__;if(ve instanceof Kn){var Xe=ve.__data__;if(!ps||Xe.length<n-1)return Xe.push([q,ae]),this.size=++ve.size,this;ve=this.__data__=new ne(Xe)}return ve.set(q,ae),this.size=ve.size,this}rt.prototype.clear=Ft,rt.prototype.delete=Be,rt.prototype.get=en,rt.prototype.has=tn,rt.prototype.set=yt;function kn(q,ae){var ve=jP(q),Xe=!ve&&dp(q),hn=!ve&&!Xe&&pF(q),Yn=!ve&&!Xe&&!hn&&gF(q),lr=ve||Xe||hn||Yn,an=lr?Qe(q.length,String):[],cr=an.length;for(var Wo in q)(ae||ot.call(q,Wo))&&!(lr&&(Wo=="length"||hn&&(Wo=="offset"||Wo=="parent")||Yn&&(Wo=="buffer"||Wo=="byteLength"||Wo=="byteOffset")||Ht(Wo,cr)))&&an.push(Wo);return an}function Vn(q,ae,ve){(ve!==void 0&&!fp(q[ae],ve)||ve===void 0&&!(ae in q))&&Sr(q,ae,ve)}function St(q,ae,ve){var Xe=q[ae];(!(ot.call(q,ae)&&fp(Xe,ve))||ve===void 0&&!(ae in q))&&Sr(q,ae,ve)}function Tr(q,ae){for(var ve=q.length;ve--;)if(fp(q[ve][0],ae))return ve;return-1}function Sr(q,ae,ve){ae=="__proto__"&&mt?mt(q,ae,{configurable:!0,enumerable:!0,value:ve,writable:!0}):q[ae]=ve}var $r=Ae();function gs(q){return q==null?q===void 0?S:m:Kt&&Kt in Object(q)?Le(q):bd(q)}function xi(q){return v0(q)&&gs(q)==a}function Wr(q){if(!wd(q)||xr(q))return!1;var ae=UP(q)?ge:H;return ae.test(FP(q))}function Hi(q){return v0(q)&&mF(q.length)&&!!P[gs(q)]}function Wi(q){if(!wd(q))return Ns(q);var ae=ur(q),ve=[];for(var Xe in q)Xe=="constructor"&&(ae||!ot.call(q,Xe))||ve.push(Xe);return ve}function Ge(q,ae,ve,Xe,hn){q!==ae&&$r(ae,function(Yn,lr){if(hn||(hn=new rt),wd(Yn))nn(q,ae,lr,ve,Ge,Xe,hn);else{var an=Xe?Xe(g0(q,lr),Yn,lr+"",q,ae,hn):void 0;an===void 0&&(an=Yn),Vn(q,lr,an)}},yF)}function nn(q,ae,ve,Xe,hn,Yn,lr){var an=g0(q,ve),cr=g0(ae,ve),Wo=lr.get(cr);if(Wo){Vn(q,ve,Wo);return}var yo=Yn?Yn(an,cr,ve+"",q,ae,lr):void 0,_0=yo===void 0;if(_0){var VP=jP(cr),zP=!VP&&pF(cr),_F=!VP&&!zP&&gF(cr);yo=cr,VP||zP||_F?jP(an)?yo=an:Mme(an)?yo=ue(an):zP?(_0=!1,yo=J(cr,!0)):_F?(_0=!1,yo=ie(cr,!0)):yo=[]:Fme(cr)||dp(cr)?(yo=an,dp(an)?yo=jme(an):(!wd(an)||UP(an))&&(yo=it(cr))):_0=!1}_0&&(lr.set(cr,yo),hn(yo,cr,Xe,Yn,lr),lr.delete(cr)),Vn(q,ve,yo)}function qi(q,ae){return y0(m0(q,ae,vF),q+"")}var F=mt?function(q,ae){return mt(q,"toString",{configurable:!0,enumerable:!1,value:Ume(ae),writable:!0})}:vF;function J(q,ae){if(ae)return q.slice();var ve=q.length,Xe=ct?ct(ve):new q.constructor(ve);return q.copy(Xe),Xe}function V(q){var ae=new q.constructor(q.byteLength);return new Ze(ae).set(new Ze(q)),ae}function ie(q,ae){var ve=ae?V(q.buffer):q.buffer;return new q.constructor(ve,q.byteOffset,q.length)}function ue(q,ae){var ve=-1,Xe=q.length;for(ae||(ae=Array(Xe));++ve<Xe;)ae[ve]=q[ve];return ae}function oe(q,ae,ve,Xe){var hn=!ve;ve||(ve={});for(var Yn=-1,lr=ae.length;++Yn<lr;){var an=ae[Yn],cr=Xe?Xe(ve[an],q[an],an,ve,q):void 0;cr===void 0&&(cr=q[an]),hn?Sr(ve,an,cr):St(ve,an,cr)}return ve}function be(q){return qi(function(ae,ve){var Xe=-1,hn=ve.length,Yn=hn>1?ve[hn-1]:void 0,lr=hn>2?ve[2]:void 0;for(Yn=q.length>3&&typeof Yn=="function"?(hn--,Yn):void 0,lr&&wn(ve[0],ve[1],lr)&&(Yn=hn<3?void 0:Yn,hn=1),ae=Object(ae);++Xe<hn;){var an=ve[Xe];an&&q(ae,an,Xe,Yn)}return ae})}function Ae(q){return function(ae,ve,Xe){for(var hn=-1,Yn=Object(ae),lr=Xe(ae),an=lr.length;an--;){var cr=lr[q?an:++hn];if(ve(Yn[cr],cr,Yn)===!1)break}return ae}}function Oe(q,ae){var ve=q.__data__;return In(ae)?ve[typeof ae=="string"?"string":"hash"]:ve.map}function Re(q,ae){var ve=De(q,ae);return Wr(ve)?ve:void 0}function Le(q){var ae=ot.call(q,Kt),ve=q[Kt];try{q[Kt]=void 0;var Xe=!0}catch{}var hn=At.call(q);return Xe&&(ae?q[Kt]=ve:delete q[Kt]),hn}function it(q){return typeof q.constructor=="function"&&!ur(q)?di(xn(q)):{}}function Ht(q,ae){var ve=typeof q;return ae=ae??o,!!ae&&(ve=="number"||ve!="symbol"&&G.test(q))&&q>-1&&q%1==0&&q<ae}function wn(q,ae,ve){if(!wd(ve))return!1;var Xe=typeof ae;return(Xe=="number"?BP(ve)&&Ht(ae,ve.length):Xe=="string"&&ae in ve)?fp(ve[ae],q):!1}function In(q){var ae=typeof q;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?q!=="__proto__":q===null}function xr(q){return!!ht&&ht in q}function ur(q){var ae=q&&q.constructor,ve=typeof ae=="function"&&ae.prototype||zt;return q===ve}function Ns(q){var ae=[];if(q!=null)for(var ve in Object(q))ae.push(ve);return ae}function bd(q){return At.call(q)}function m0(q,ae,ve){return ae=gn(ae===void 0?q.length-1:ae,0),function(){for(var Xe=arguments,hn=-1,Yn=gn(Xe.length-ae,0),lr=Array(Yn);++hn<Yn;)lr[hn]=Xe[ae+hn];hn=-1;for(var an=Array(ae+1);++hn<ae;)an[hn]=Xe[hn];return an[ae]=ve(lr),We(q,this,an)}}function g0(q,ae){if(!(ae==="constructor"&&typeof q[ae]=="function")&&ae!="__proto__")return q[ae]}var y0=hF(F);function hF(q){var ae=0,ve=0;return function(){var Xe=qn(),hn=s-(Xe-ve);if(ve=Xe,hn>0){if(++ae>=i)return arguments[0]}else ae=0;return q.apply(void 0,arguments)}}function FP(q){if(q!=null){try{return je.call(q)}catch{}try{return q+""}catch{}}return""}function fp(q,ae){return q===ae||q!==q&&ae!==ae}var dp=xi(function(){return arguments}())?xi:function(q){return v0(q)&&ot.call(q,"callee")&&!nt.call(q,"callee")},jP=Array.isArray;function BP(q){return q!=null&&mF(q.length)&&!UP(q)}function Mme(q){return v0(q)&&BP(q)}var pF=wr||Vme;function UP(q){if(!wd(q))return!1;var ae=gs(q);return ae==h||ae==p||ae==l||ae==_}function mF(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=o}function wd(q){var ae=typeof q;return q!=null&&(ae=="object"||ae=="function")}function v0(q){return q!=null&&typeof q=="object"}function Fme(q){if(!v0(q)||gs(q)!=v)return!1;var ae=xn(q);if(ae===null)return!0;var ve=ot.call(ae,"constructor")&&ae.constructor;return typeof ve=="function"&&ve instanceof ve&&je.call(ve)==Xt}var gF=ye?gt(ye):Hi;function jme(q){return oe(q,yF(q))}function yF(q){return BP(q)?kn(q,!0):Wi(q)}var Bme=be(function(q,ae,ve){Ge(q,ae,ve)});function Ume(q){return function(){return q}}function vF(q){return q}function Vme(){return!1}e.exports=Bme})(dx,dx.exports);var s5e=dx.exports;const nL=au(s5e);function aie(){return Gh().pathname.split("/")[1]}function lu(){const{trialName:e}=Th();return e||""}function jg(e){return structuredClone(e)}function rL(){const{answers:e}=ga(n=>n),t=lu();return e[t]}const uie=b.createContext(null);function o5e(){const e=b.useContext(uie);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function lie(){const e=lu(),{sequence:t,trialValidation:n}=ga(m=>m),r=rL(),i=fl(),{saveTrialAnswer:s,setIframeAnswers:o}=cl(),{storageEngine:a}=da(),l=!i5e(e),c=r==null?void 0:r.answer,f=fd(),d=b.useMemo(()=>{const m=t.indexOf(e);return t[m+1]||"end"},[e,t]),h=`/${aie()}/${d}`,p=b.useMemo(()=>Date.now(),[]),g=o5e(),y=b.useCallback(()=>{const m=jg(n[e]),v=Object.values(m).reduce((w,S)=>Object.hasOwn(S,"values")?{...w,...S.values}:w,{}),{provenanceGraph:_}=m,T=Date.now(),x=g&&"current"in g&&g.current?g.current.splice(0,g.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:x})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:T,provenanceGraph:_,windowEvents:x}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,g]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function a5e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=lie(),o=b.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return C.jsx(_i,{type:"submit",disabled:t||i,onClick:o,children:e})}function mk(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var u5e=Object.defineProperty,c7=Object.getOwnPropertySymbols,l5e=Object.prototype.hasOwnProperty,c5e=Object.prototype.propertyIsEnumerable,f7=(e,t,n)=>t in e?u5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f5e=(e,t)=>{for(var n in t||(t={}))l5e.call(t,n)&&f7(e,n,t[n]);if(c7)for(var n of c7(t))c5e.call(t,n)&&f7(e,n,t[n]);return e};function cie(e,t){if(t===null||typeof t!="object")return{};const n=f5e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const d5e="__MANTINE_FORM_INDEX__";function d7(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${d5e}`)):!1:!1}function h7(e,t,n){typeof n.value=="object"&&(n.value=Qp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Qp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Qp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Qp(a),Qp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Qp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)h7(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||h7(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function fie(e){return typeof e!="string"?[]:e.split(".")}function GC(e,t,n){const r=fie(e);if(r.length===0)return n;const i=Qp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Bl(e,t){const n=fie(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function p7(e){const t=mk(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function gk(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Bl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>gk(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||gk(o,t,a,i)),i},r)}function yk(e,t){return p7(typeof e=="function"?e(t):gk(e,t))}function Kb(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=yk(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function h5e(e,{from:t,to:n},r){const i=Bl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),GC(e,s,r)}var p5e=Object.defineProperty,m7=Object.getOwnPropertySymbols,m5e=Object.prototype.hasOwnProperty,g5e=Object.prototype.propertyIsEnumerable,g7=(e,t,n)=>t in e?p5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y5e=(e,t)=>{for(var n in t||(t={}))m5e.call(t,n)&&g7(e,n,t[n]);if(m7)for(var n of m7(t))g5e.call(t,n)&&g7(e,n,t[n]);return e};function v5e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=y5e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function _5e(e,t,n){const r=Bl(e,n);return Array.isArray(r)?GC(e,r.filter((i,s)=>s!==t),n):n}var b5e=Object.defineProperty,y7=Object.getOwnPropertySymbols,w5e=Object.prototype.hasOwnProperty,E5e=Object.prototype.propertyIsEnumerable,v7=(e,t,n)=>t in e?b5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T5e=(e,t)=>{for(var n in t||(t={}))w5e.call(t,n)&&v7(e,n,t[n]);if(y7)for(var n of y7(t))E5e.call(t,n)&&v7(e,n,t[n]);return e};function _7(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function b7(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=cie(`${i}.${t}`,s));const o=T5e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=_7(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=_7(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function S5e(e,t,n,r){const i=Bl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),GC(e,s,r)}function w7(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function x5e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var I5e=Object.defineProperty,C5e=Object.defineProperties,A5e=Object.getOwnPropertyDescriptors,E7=Object.getOwnPropertySymbols,P5e=Object.prototype.hasOwnProperty,O5e=Object.prototype.propertyIsEnumerable,T7=(e,t,n)=>t in e?I5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vc=(e,t)=>{for(var n in t||(t={}))P5e.call(t,n)&&T7(e,n,t[n]);if(E7)for(var n of E7(t))O5e.call(t,n)&&T7(e,n,t[n]);return e},n2=(e,t)=>C5e(e,A5e(t));function R5e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=b.useState(r),[f,d]=b.useState(n),[h,p]=b.useState(e),[g,y]=b.useState(mk(t)),m=b.useRef(e),v=L=>{m.current=L},_=b.useCallback(()=>c({}),[]),T=L=>{const Y=L?Vc(Vc({},h),L):h;v(Y),d({})},x=b.useCallback(L=>y(Y=>mk(typeof L=="function"?L(Y):L)),[]),w=b.useCallback(()=>y({}),[]),S=b.useCallback(()=>{p(e),w(),v(e),d({}),_()},[]),I=b.useCallback((L,Y)=>x(le=>n2(Vc({},le),{[L]:Y})),[]),k=b.useCallback(L=>x(Y=>{if(typeof L!="string")return Y;const le=Vc({},Y);return delete le[L],le}),[]),D=b.useCallback(L=>d(Y=>{if(typeof L!="string")return Y;const le=cie(L,Y);return delete le[L],le}),[]),M=b.useCallback((L,Y)=>{const le=d7(L,s);D(L),c(ce=>n2(Vc({},ce),{[L]:!0})),p(ce=>{const de=GC(L,Y,ce);if(le){const me=Kb(L,u,de);me.hasError?I(L,me.error):k(L)}return de}),!le&&i&&I(L,null)},[]),O=b.useCallback(L=>{p(Y=>{const le=typeof L=="function"?L(Y):L;return Vc(Vc({},Y),le)}),i&&w()},[]),B=b.useCallback((L,Y)=>{D(L),p(le=>h5e(L,Y,le)),y(le=>v5e(L,Y,le))},[]),N=b.useCallback((L,Y)=>{D(L),p(le=>_5e(L,Y,le)),y(le=>b7(L,Y,le,-1))},[]),ee=b.useCallback((L,Y,le)=>{D(L),p(ce=>S5e(L,Y,le,ce)),y(ce=>b7(L,le,ce,1))},[]),te=b.useCallback(()=>{const L=yk(u,h);return y(L.errors),L},[h,u]),se=b.useCallback(L=>{const Y=Kb(L,u,h);return Y.hasError?I(L,Y.error):k(L),Y},[h,u]),X=(L,{type:Y="input",withError:le=!0,withFocus:ce=!0}={})=>{const me={onChange:x5e(we=>M(L,we))};return le&&(me.error=g[L]),Y==="checkbox"?me.checked=Bl(L,h):me.value=Bl(L,h),ce&&(me.onFocus=()=>c(we=>n2(Vc({},we),{[L]:!0})),me.onBlur=()=>{if(d7(L,o)){const we=Kb(L,u,h);we.hasError?I(L,we.error):k(L)}}),me},re=(L,Y)=>le=>{le==null||le.preventDefault();const ce=te();ce.hasErrors?Y==null||Y(ce.errors,h,le):L==null||L(a(h),le)},A=L=>a(L||h),H=b.useCallback(L=>{L.preventDefault(),S()},[]),G=L=>{if(L){const le=Bl(L,f);if(typeof le=="boolean")return le;const ce=Bl(L,h),de=Bl(L,m.current);return!IV(ce,de)}return Object.keys(f).length>0?w7(f):!IV(h,m.current)},P=b.useCallback(L=>w7(l,L),[l]),R=b.useCallback(L=>L?!Kb(L,u,h).hasError:!yk(u,h).hasErrors,[h,u]);return{values:h,errors:g,setValues:O,setErrors:x,setFieldValue:M,setFieldError:I,clearFieldError:k,clearErrors:w,reset:S,validate:te,validateField:se,reorderListItem:B,removeListItem:N,insertListItem:ee,getInputProps:X,onSubmit:re,onReset:H,isDirty:G,isTouched:P,setTouched:c,setDirty:d,resetTouched:_,resetDirty:T,isValid:R,getTransformedValues:A}}const N5e=new URLSearchParams(window.location.search),k5e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?N5e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},D5e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function $5e(e,t,n){const[r,i]=b.useState(null),s=R5e({initialValues:k5e(e,n),validate:D5e(e)});return b.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Jh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const S7=["http","https","mailto","tel"];function L5e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<S7.length;){const s=S7[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var M5e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const iL=au(M5e);function Tm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?x7(e.position):"start"in e||"end"in e?x7(e):"line"in e||"column"in e?vk(e):""}function vk(e){return I7(e&&e.line)+":"+I7(e&&e.column)}function x7(e){return vk(e&&e.start)+"-"+vk(e&&e.end)}function I7(e){return e&&typeof e=="number"?e:1}let wa=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Tm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};wa.prototype.file="";wa.prototype.name="";wa.prototype.reason="";wa.prototype.message="";wa.prototype.stack="";wa.prototype.fatal=null;wa.prototype.column=null;wa.prototype.line=null;wa.prototype.source=null;wa.prototype.ruleId=null;wa.prototype.position=null;const bu={basename:F5e,dirname:j5e,extname:B5e,join:U5e,sep:"/"};function F5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');g1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function j5e(e){if(g1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function B5e(e){g1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function U5e(...e){let t=-1,n;for(;++t<e.length;)g1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":V5e(n)}function V5e(e){g1(e);const t=e.charCodeAt(0)===47;let n=z5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function z5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function g1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const H5e={cwd:W5e};function W5e(){return"/"}function _k(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function q5e(e){if(typeof e=="string")e=new URL(e);else if(!_k(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Y5e(e)}function Y5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const r2=["history","path","basename","stem","extname","dirname"];let G5e=class{constructor(t){let n;t?typeof t=="string"||K5e(t)?n={value:t}:_k(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=H5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<r2.length;){const s=r2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)r2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){_k(t)&&(t=q5e(t)),s2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?bu.dirname(this.path):void 0}set dirname(t){C7(this.basename,"dirname"),this.path=bu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?bu.basename(this.path):void 0}set basename(t){s2(t,"basename"),i2(t,"basename"),this.path=bu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?bu.extname(this.path):void 0}set extname(t){if(i2(t,"extname"),C7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?bu.basename(this.path,this.extname):void 0}set stem(t){s2(t,"stem"),i2(t,"stem"),this.path=bu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new wa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function i2(e,t){if(e&&e.includes(bu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+bu.sep+"`")}function s2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function C7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function K5e(e){return iL(e)}function A7(e){if(e)throw e}var uE=Object.prototype.hasOwnProperty,die=Object.prototype.toString,P7=Object.defineProperty,O7=Object.getOwnPropertyDescriptor,R7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):die.call(t)==="[object Array]"},N7=function(t){if(!t||die.call(t)!=="[object Object]")return!1;var n=uE.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&uE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||uE.call(t,i)},k7=function(t,n){P7&&n.name==="__proto__"?P7(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},D7=function(t,n){if(n==="__proto__")if(uE.call(t,n)){if(O7)return O7(t,n).value}else return;return t[n]},Q5e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=D7(a,n),i=D7(t,n),a!==i&&(c&&i&&(N7(i)||(s=R7(i)))?(s?(s=!1,o=r&&R7(r)?r:[]):o=r&&N7(r)?r:{},k7(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&k7(a,{name:n,newValue:i}));return a};const $7=au(Q5e);function bk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function X5e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?J5e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function J5e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Ea extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Tm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ea.prototype.file="";Ea.prototype.name="";Ea.prototype.reason="";Ea.prototype.message="";Ea.prototype.stack="";Ea.prototype.fatal=null;Ea.prototype.column=null;Ea.prototype.line=null;Ea.prototype.source=null;Ea.prototype.ruleId=null;Ea.prototype.position=null;const wu={basename:Z5e,dirname:eFe,extname:tFe,join:nFe,sep:"/"};function Z5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');y1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function eFe(e){if(y1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function tFe(e){y1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function nFe(...e){let t=-1,n;for(;++t<e.length;)y1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":rFe(n)}function rFe(e){y1(e);const t=e.charCodeAt(0)===47;let n=iFe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function iFe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function y1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sFe={cwd:oFe};function oFe(){return"/"}function wk(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function aFe(e){if(typeof e=="string")e=new URL(e);else if(!wk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uFe(e)}function uFe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const o2=["history","path","basename","stem","extname","dirname"];class lFe{constructor(t){let n;t?typeof t=="string"||cFe(t)?n={value:t}:wk(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=sFe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<o2.length;){const s=o2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)o2.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){wk(t)&&(t=aFe(t)),u2(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?wu.dirname(this.path):void 0}set dirname(t){L7(this.basename,"dirname"),this.path=wu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?wu.basename(this.path):void 0}set basename(t){u2(t,"basename"),a2(t,"basename"),this.path=wu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?wu.extname(this.path):void 0}set extname(t){if(a2(t,"extname"),L7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?wu.basename(this.path,this.extname):void 0}set stem(t){u2(t,"stem"),a2(t,"stem"),this.path=wu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new Ea(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function a2(e,t){if(e&&e.includes(wu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+wu.sep+"`")}function u2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function L7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function cFe(e){return iL(e)}const fFe=pie().freeze(),hie={}.hasOwnProperty;function pie(){const e=X5e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const g=pie();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data($7(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(f2("data",r),n[g]=y,s):hie.call(n,g)&&n[g]||null:g?(f2("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(s,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(g,...y){let m;if(f2("use",r),g!=null)if(typeof g=="function")x(g,...y);else if(typeof g=="object")Array.isArray(g)?T(g):_(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),s;function v(w){if(typeof w=="function")x(w);else if(typeof w=="object")if(Array.isArray(w)){const[S,...I]=w;x(S,...I)}else _(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function _(w){T(w.plugins),w.settings&&(m=Object.assign(m||{},w.settings))}function T(w){let S=-1;if(w!=null)if(Array.isArray(w))for(;++S<w.length;){const I=w[S];v(I)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function x(w,S){let I=-1,k;for(;++I<t.length;)if(t[I][0]===w){k=t[I];break}k?(bk(k[1])&&bk(S)&&(S=$7(!0,k[1],S)),k[1]=S):t.push([...arguments])}}function l(g){s.freeze();const y=M0(g),m=s.Parser;return l2("parse",m),M7(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){s.freeze();const m=M0(y),v=s.Compiler;return c2("stringify",v),F7(g),M7(v,"compile")?new v(g,m).compile():v(g,m)}function f(g,y,m){if(F7(g),s.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(v);v(null,m);function v(_,T){e.run(g,M0(y),x);function x(w,S,I){S=S||g,w?T(w):_?_(S):m(null,S,I)}}}function d(g,y){let m,v;return s.run(g,y,_),j7("runSync","run",v),m;function _(T,x){A7(T),m=x,v=!0}}function h(g,y){if(s.freeze(),l2("process",s.Parser),c2("process",s.Compiler),!y)return new Promise(m);m(null,y);function m(v,_){const T=M0(g);s.run(s.parse(T),T,(w,S,I)=>{if(w||!S||!I)x(w);else{const k=s.stringify(S,I);k==null||(pFe(k)?I.value=k:I.result=k),x(w,I)}});function x(w,S){w||!S?_(w):v?v(S):y(null,S)}}}function p(g){let y;s.freeze(),l2("processSync",s.Parser),c2("processSync",s.Compiler);const m=M0(g);return s.process(m,v),j7("processSync","process",y),m;function v(_){y=!0,A7(_)}}}function M7(e,t){return typeof e=="function"&&e.prototype&&(dFe(e.prototype)||t in e.prototype)}function dFe(e){let t;for(t in e)if(hie.call(e,t))return!0;return!1}function l2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function c2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function f2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function F7(e){if(!bk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function j7(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function M0(e){return hFe(e)?e:new lFe(e)}function hFe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pFe(e){return typeof e=="string"||iL(e)}const mFe={};function gFe(e,t){const n=t||mFe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mie(e,r,i)}function mie(e,t,n){if(yFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return B7(e.children,t,n)}return Array.isArray(e)?B7(e,t,n):""}function B7(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=mie(e[i],t,n);return r.join("")}function yFe(e){return!!(e&&typeof e=="object")}function dl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Zo(e,t){return e.length>0?(dl(e,e.length,0,t),e):t}const U7={}.hasOwnProperty;function vFe(e){const t={};let n=-1;for(;++n<e.length;)_Fe(t,e[n]);return t}function _Fe(e,t){let n;for(n in t){const i=(U7.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){U7.call(i,o)||(i[o]=[]);const a=s[o];bFe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function bFe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dl(e,0,0,r)}const wFe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ru=hd(/[A-Za-z]/),Po=hd(/[\dA-Za-z]/),EFe=hd(/[#-'*+\--9=?A-Z^-~]/);function Ek(e){return e!==null&&(e<32||e===127)}const Tk=hd(/\d/),TFe=hd(/[\dA-Fa-f]/),SFe=hd(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function oo(e){return e!==null&&(e<0||e===32)}function On(e){return e===-2||e===-1||e===32}const xFe=hd(wFe),IFe=hd(/\s/);function hd(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Zn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return On(u)?(e.enter(n),a(u)):t(u)}function a(u){return On(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const CFe={tokenize:AFe};function AFe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Zn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Pt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const PFe={tokenize:OFe},V7={tokenize:RFe};function OFe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const T=t.events.length;let x=T,w;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){w=t.events[x][1].end;break}m(r);let S=T;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},w),S++;return dl(t.events,x+1,0,t.events.slice(T)),t.events.length=S,l(_)}return a(_)}function l(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(V7,c,f)(_)}function c(_){return i&&v(),m(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(V7,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),m(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(_)}function g(_){if(_===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(_);return}return Pt(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),g)}function y(_,T){const x=t.sliceStream(_);if(T&&x.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(x),t.parser.lazy[_.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const S=t.events.length;let I=S,k,D;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(k){D=t.events[I][1].end;break}k=!0}for(m(r),w=S;w<t.events.length;)t.events[w][1].end=Object.assign({},D),w++;dl(t.events,I+1,0,t.events.slice(S)),t.events.length=w}}function m(_){let T=n.length;for(;T-- >_;){const x=n[T];t.containerState=x[1],x[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function RFe(e,t,n){return Zn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function z7(e){if(e===null||oo(e)||IFe(e))return 1;if(xFe(e))return 2}function sL(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Sk={name:"attention",tokenize:kFe,resolveAll:NFe};function NFe(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);H7(f,-u),H7(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Zo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Zo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Zo(l,sL(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Zo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Zo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,dl(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function kFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=z7(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=z7(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function H7(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const DFe={name:"autolink",tokenize:$Fe};function $Fe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Ru(h)?(e.consume(h),o):l(h)}function o(h){return h===43||h===45||h===46||Po(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Po(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Ek(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):EFe(h)?(e.consume(h),l):n(h)}function c(h){return Po(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Po(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const KC={tokenize:LFe,partial:!0};function LFe(e,t,n){return r;function r(s){return On(s)?Zn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Pt(s)?t(s):n(s)}}const gie={name:"blockQuote",tokenize:MFe,continuation:{tokenize:FFe},exit:jFe};function MFe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return On(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function FFe(e,t,n){const r=this;return i;function i(o){return On(o)?Zn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(gie,t,n)(o)}}function jFe(e){e.exit("blockQuote")}const yie={name:"characterEscape",tokenize:BFe};function BFe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return SFe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const W7=document.createElement("i");function oL(e){const t="&"+e+";";W7.innerHTML=t;const n=W7.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const vie={name:"characterReference",tokenize:UFe};function UFe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=Po,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=TFe,c):(e.enter("characterReferenceValue"),s=7,o=Tk,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===Po&&!oL(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const q7={tokenize:zFe,partial:!0},Y7={name:"codeFenced",tokenize:VFe,concrete:!0};function VFe(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return u;function u(w){return l(w)}function l(w){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===a?(o++,e.consume(w),c):o<3?n(w):(e.exit("codeFencedFenceSequence"),On(w)?Zn(e,f,"whitespace")(w):f(w))}function f(w){return w===null||Pt(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(q7,g,T)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||Pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(w)):On(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Zn(e,h,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),d)}function h(w){return w===null||Pt(w)?f(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||Pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(w)):w===96&&w===a?n(w):(e.consume(w),p)}function g(w){return e.attempt(i,T,y)(w)}function y(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m}function m(w){return s>0&&On(w)?Zn(e,v,"linePrefix",s+1)(w):v(w)}function v(w){return w===null||Pt(w)?e.check(q7,g,T)(w):(e.enter("codeFlowValue"),_(w))}function _(w){return w===null||Pt(w)?(e.exit("codeFlowValue"),v(w)):(e.consume(w),_)}function T(w){return e.exit("codeFenced"),t(w)}function x(w,S,I){let k=0;return D;function D(ee){return w.enter("lineEnding"),w.consume(ee),w.exit("lineEnding"),M}function M(ee){return w.enter("codeFencedFence"),On(ee)?Zn(w,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):O(ee)}function O(ee){return ee===a?(w.enter("codeFencedFenceSequence"),B(ee)):I(ee)}function B(ee){return ee===a?(k++,w.consume(ee),B):k>=o?(w.exit("codeFencedFenceSequence"),On(ee)?Zn(w,N,"whitespace")(ee):N(ee)):I(ee)}function N(ee){return ee===null||Pt(ee)?(w.exit("codeFencedFence"),S(ee)):I(ee)}}}function zFe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const d2={name:"codeIndented",tokenize:WFe},HFe={tokenize:qFe,partial:!0};function WFe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Zn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Pt(l)?e.attempt(HFe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Pt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function qFe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Zn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Pt(o)?i(o):n(o)}}const YFe={name:"codeText",tokenize:QFe,resolve:GFe,previous:KFe};function GFe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function KFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function QFe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):Pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Pt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function _ie(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,XFe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),dl(e,i,n-i+1,a))}}return!l}function XFe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),v=s.pop();u.unshift([v,v+m.length-1]),dl(e,v,2,m)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const JFe={tokenize:t8e,resolve:e8e},ZFe={tokenize:n8e,partial:!0};function e8e(e){return _ie(e),e}function t8e(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Pt(a)?e.check(ZFe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function n8e(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Zn(e,s,"linePrefix")}function s(o){if(o===null||Pt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function bie(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),d):m===null||m===32||m===41||Ek(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||Pt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return!c&&(m===null||m===41||oo(m))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):c<l&&m===40?(e.consume(m),c++,g):m===41?(e.consume(m),c--,g):m===null||m===32||m===40||Ek(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function wie(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Pt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!On(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function Eie(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Pt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Zn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Pt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Yy(e,t){let n;return r;function r(i){return Pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):On(i)?Zn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Sm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const r8e={name:"definition",tokenize:s8e},i8e={tokenize:o8e,partial:!0};function s8e(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return wie.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=Sm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return oo(h)?Yy(e,l)(h):l(h)}function l(h){return bie(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(i8e,f,f)(h)}function f(h){return On(h)?Zn(e,d,"whitespace")(h):d(h)}function d(h){return h===null||Pt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function o8e(e,t,n){return r;function r(a){return oo(a)?Yy(e,i)(a):n(a)}function i(a){return Eie(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return On(a)?Zn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Pt(a)?t(a):n(a)}}const a8e={name:"hardBreakEscape",tokenize:u8e};function u8e(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Pt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const l8e={name:"headingAtx",tokenize:f8e,resolve:c8e};function c8e(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function f8e(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||oo(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Pt(c)?(e.exit("atxHeading"),t(c)):On(c)?Zn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||oo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const d8e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],G7=["pre","script","style","textarea"],h8e={name:"htmlFlow",tokenize:y8e,resolveTo:g8e,concrete:!0},p8e={tokenize:_8e,partial:!0},m8e={tokenize:v8e,partial:!0};function g8e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function y8e(e,t,n){const r=this;let i,s,o,a,u;return l;function l(P){return c(P)}function c(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),f}function f(P){return P===33?(e.consume(P),d):P===47?(e.consume(P),s=!0,g):P===63?(e.consume(P),i=3,r.interrupt?t:A):Ru(P)?(e.consume(P),o=String.fromCharCode(P),y):n(P)}function d(P){return P===45?(e.consume(P),i=2,h):P===91?(e.consume(P),i=5,a=0,p):Ru(P)?(e.consume(P),i=4,r.interrupt?t:A):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:A):n(P)}function p(P){const R="CDATA[";return P===R.charCodeAt(a++)?(e.consume(P),a===R.length?r.interrupt?t:O:p):n(P)}function g(P){return Ru(P)?(e.consume(P),o=String.fromCharCode(P),y):n(P)}function y(P){if(P===null||P===47||P===62||oo(P)){const R=P===47,L=o.toLowerCase();return!R&&!s&&G7.includes(L)?(i=1,r.interrupt?t(P):O(P)):d8e.includes(o.toLowerCase())?(i=6,R?(e.consume(P),m):r.interrupt?t(P):O(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?v(P):_(P))}return P===45||Po(P)?(e.consume(P),o+=String.fromCharCode(P),y):n(P)}function m(P){return P===62?(e.consume(P),r.interrupt?t:O):n(P)}function v(P){return On(P)?(e.consume(P),v):D(P)}function _(P){return P===47?(e.consume(P),D):P===58||P===95||Ru(P)?(e.consume(P),T):On(P)?(e.consume(P),_):D(P)}function T(P){return P===45||P===46||P===58||P===95||Po(P)?(e.consume(P),T):x(P)}function x(P){return P===61?(e.consume(P),w):On(P)?(e.consume(P),x):_(P)}function w(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),u=P,S):On(P)?(e.consume(P),w):I(P)}function S(P){return P===u?(e.consume(P),u=null,k):P===null||Pt(P)?n(P):(e.consume(P),S)}function I(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||oo(P)?x(P):(e.consume(P),I)}function k(P){return P===47||P===62||On(P)?_(P):n(P)}function D(P){return P===62?(e.consume(P),M):n(P)}function M(P){return P===null||Pt(P)?O(P):On(P)?(e.consume(P),M):n(P)}function O(P){return P===45&&i===2?(e.consume(P),te):P===60&&i===1?(e.consume(P),se):P===62&&i===4?(e.consume(P),H):P===63&&i===3?(e.consume(P),A):P===93&&i===5?(e.consume(P),re):Pt(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(p8e,G,B)(P)):P===null||Pt(P)?(e.exit("htmlFlowData"),B(P)):(e.consume(P),O)}function B(P){return e.check(m8e,N,G)(P)}function N(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),ee}function ee(P){return P===null||Pt(P)?B(P):(e.enter("htmlFlowData"),O(P))}function te(P){return P===45?(e.consume(P),A):O(P)}function se(P){return P===47?(e.consume(P),o="",X):O(P)}function X(P){if(P===62){const R=o.toLowerCase();return G7.includes(R)?(e.consume(P),H):O(P)}return Ru(P)&&o.length<8?(e.consume(P),o+=String.fromCharCode(P),X):O(P)}function re(P){return P===93?(e.consume(P),A):O(P)}function A(P){return P===62?(e.consume(P),H):P===45&&i===2?(e.consume(P),A):O(P)}function H(P){return P===null||Pt(P)?(e.exit("htmlFlowData"),G(P)):(e.consume(P),H)}function G(P){return e.exit("htmlFlow"),t(P)}}function v8e(e,t,n){const r=this;return i;function i(o){return Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function _8e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(KC,t,n)}}const b8e={name:"htmlText",tokenize:w8e};function w8e(e,t,n){const r=this;let i,s,o;return a;function a(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),l):A===47?(e.consume(A),x):A===63?(e.consume(A),_):Ru(A)?(e.consume(A),I):n(A)}function l(A){return A===45?(e.consume(A),c):A===91?(e.consume(A),s=0,p):Ru(A)?(e.consume(A),v):n(A)}function c(A){return A===45?(e.consume(A),h):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),d):Pt(A)?(o=f,se(A)):(e.consume(A),f)}function d(A){return A===45?(e.consume(A),h):f(A)}function h(A){return A===62?te(A):A===45?d(A):f(A)}function p(A){const H="CDATA[";return A===H.charCodeAt(s++)?(e.consume(A),s===H.length?g:p):n(A)}function g(A){return A===null?n(A):A===93?(e.consume(A),y):Pt(A)?(o=g,se(A)):(e.consume(A),g)}function y(A){return A===93?(e.consume(A),m):g(A)}function m(A){return A===62?te(A):A===93?(e.consume(A),m):g(A)}function v(A){return A===null||A===62?te(A):Pt(A)?(o=v,se(A)):(e.consume(A),v)}function _(A){return A===null?n(A):A===63?(e.consume(A),T):Pt(A)?(o=_,se(A)):(e.consume(A),_)}function T(A){return A===62?te(A):_(A)}function x(A){return Ru(A)?(e.consume(A),w):n(A)}function w(A){return A===45||Po(A)?(e.consume(A),w):S(A)}function S(A){return Pt(A)?(o=S,se(A)):On(A)?(e.consume(A),S):te(A)}function I(A){return A===45||Po(A)?(e.consume(A),I):A===47||A===62||oo(A)?k(A):n(A)}function k(A){return A===47?(e.consume(A),te):A===58||A===95||Ru(A)?(e.consume(A),D):Pt(A)?(o=k,se(A)):On(A)?(e.consume(A),k):te(A)}function D(A){return A===45||A===46||A===58||A===95||Po(A)?(e.consume(A),D):M(A)}function M(A){return A===61?(e.consume(A),O):Pt(A)?(o=M,se(A)):On(A)?(e.consume(A),M):k(A)}function O(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,B):Pt(A)?(o=O,se(A)):On(A)?(e.consume(A),O):(e.consume(A),N)}function B(A){return A===i?(e.consume(A),i=void 0,ee):A===null?n(A):Pt(A)?(o=B,se(A)):(e.consume(A),B)}function N(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||oo(A)?k(A):(e.consume(A),N)}function ee(A){return A===47||A===62||oo(A)?k(A):n(A)}function te(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function se(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),X}function X(A){return On(A)?Zn(e,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):re(A)}function re(A){return e.enter("htmlTextData"),o(A)}}const aL={name:"labelEnd",tokenize:C8e,resolveTo:I8e,resolveAll:x8e},E8e={tokenize:A8e},T8e={tokenize:P8e},S8e={tokenize:O8e};function x8e(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function I8e(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Zo(a,e.slice(s+1,s+r+3)),a=Zo(a,[["enter",c,t]]),a=Zo(a,sL(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Zo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Zo(a,e.slice(o+1)),a=Zo(a,[["exit",u,t]]),dl(e,s,e.length,a),e}function C8e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(Sm(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(E8e,c,o?c:f)(d):d===91?e.attempt(T8e,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(S8e,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function A8e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return oo(f)?Yy(e,s)(f):s(f)}function s(f){return f===41?c(f):bie(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return oo(f)?Yy(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?Eie(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return oo(f)?Yy(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function P8e(e,t,n){const r=this;return i;function i(a){return wie.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Sm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function O8e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const R8e={name:"labelStartImage",tokenize:N8e,resolveAll:aL.resolveAll};function N8e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const k8e={name:"labelStartLink",tokenize:D8e,resolveAll:aL.resolveAll};function D8e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const h2={name:"lineEnding",tokenize:$8e};function $8e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Zn(e,t,"linePrefix")}}const lE={name:"thematicBreak",tokenize:L8e};function L8e(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Pt(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),On(l)?Zn(e,a,"whitespace")(l):a(l))}}const Ms={name:"list",tokenize:j8e,continuation:{tokenize:B8e},exit:V8e},M8e={tokenize:z8e,partial:!0},F8e={tokenize:U8e,partial:!0};function j8e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Tk(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(lE,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return Tk(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(KC,r.interrupt?n:c,e.attempt(M8e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return On(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function B8e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(KC,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!On(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(F8e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zn(e,e.attempt(Ms,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function U8e(e,t,n){const r=this;return Zn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function V8e(e){e.exit(this.containerState.type)}function z8e(e,t,n){const r=this;return Zn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!On(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const K7={name:"setextUnderline",tokenize:W8e,resolveTo:H8e};function H8e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function W8e(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),On(l)?Zn(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Pt(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const q8e={tokenize:Y8e};function Y8e(e){const t=this,n=e.attempt(KC,r,e.attempt(this.parser.constructs.flowInitial,i,Zn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(JFe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const G8e={resolveAll:Sie()},K8e=Tie("string"),Q8e=Tie("text");function Tie(e){return{tokenize:t,resolveAll:Sie(e==="text"?X8e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Sie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function X8e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function J8e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:_,exit:T,attempt:S(x),check:S(w),interrupt:S(w,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(M){return o=Zo(o,M),y(),o[o.length-1]!==null?[]:(I(t,0),l.events=sL(s,l.events,l),l.events)}function d(M,O){return e9e(h(M),O)}function h(M){return Z8e(o,M)}function p(){const{line:M,column:O,offset:B,_index:N,_bufferIndex:ee}=r;return{line:M,column:O,offset:B,_index:N,_bufferIndex:ee}}function g(M){i[M.line]=M.column,D()}function y(){let M;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<O.length;)m(O.charCodeAt(r._bufferIndex));else m(O)}}function m(M){c=c(M)}function v(M){Pt(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,D()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=M}function _(M,O){const B=O||{};return B.type=M,B.start=p(),l.events.push(["enter",B,l]),a.push(B),B}function T(M){const O=a.pop();return O.end=p(),l.events.push(["exit",O,l]),O}function x(M,O){I(M,O.from)}function w(M,O){O.restore()}function S(M,O){return B;function B(N,ee,te){let se,X,re,A;return Array.isArray(N)?G(N):"tokenize"in N?G([N]):H(N);function H(Y){return le;function le(ce){const de=ce!==null&&Y[ce],me=ce!==null&&Y.null,we=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(me)?me:me?[me]:[]];return G(we)(ce)}}function G(Y){return se=Y,X=0,Y.length===0?te:P(Y[X])}function P(Y){return le;function le(ce){return A=k(),re=Y,Y.partial||(l.currentConstruct=Y),Y.name&&l.parser.constructs.disable.null.includes(Y.name)?L():Y.tokenize.call(O?Object.assign(Object.create(l),O):l,u,R,L)(ce)}}function R(Y){return M(re,A),ee}function L(Y){return A.restore(),++X<se.length?P(se[X]):te}}}function I(M,O){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&dl(l.events,O,l.events.length-O,M.resolve(l.events.slice(O),l)),M.resolveTo&&(l.events=M.resolveTo(l.events,l))}function k(){const M=p(),O=l.previous,B=l.currentConstruct,N=l.events.length,ee=Array.from(a);return{restore:te,from:N};function te(){r=M,l.previous=O,l.currentConstruct=B,l.events.length=N,a=ee,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Z8e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function e9e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const t9e={42:Ms,43:Ms,45:Ms,48:Ms,49:Ms,50:Ms,51:Ms,52:Ms,53:Ms,54:Ms,55:Ms,56:Ms,57:Ms,62:gie},n9e={91:r8e},r9e={[-2]:d2,[-1]:d2,32:d2},i9e={35:l8e,42:lE,45:[K7,lE],60:h8e,61:K7,95:lE,96:Y7,126:Y7},s9e={38:vie,92:yie},o9e={[-5]:h2,[-4]:h2,[-3]:h2,33:R8e,38:vie,42:Sk,60:[DFe,b8e],91:k8e,92:[a8e,yie],93:aL,95:Sk,96:YFe},a9e={null:[Sk,G8e]},u9e={null:[42,95]},l9e={null:[]},c9e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:u9e,contentInitial:n9e,disable:l9e,document:t9e,flow:i9e,flowInitial:r9e,insideSpan:a9e,string:s9e,text:o9e},Symbol.toStringTag,{value:"Module"}));function f9e(e){const n=vFe([c9e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(CFe),document:i(PFe),flow:i(q8e),string:i(K8e),text:i(Q8e)};return r;function i(s){return o;function o(a){return J8e(r,s,a)}}}const Q7=/[\0\t\n\r]/g;function d9e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(Q7.lastIndex=f,l=Q7.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function h9e(e){for(;!_ie(e););return e}function xie(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const p9e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function m9e(e){return e.replace(p9e,g9e)}function g9e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return xie(n.slice(s?2:1),s?16:10)}return oL(n)||e}const Iie={}.hasOwnProperty,y9e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),v9e(n)(h9e(f9e(n).document().write(d9e()(e,t,!0))))};function v9e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:M,autolinkEmail:M,atxHeading:a(De),blockQuote:a(we),characterEscape:M,characterReference:M,codeFenced:a(ye),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(ye,u),codeText:a(We,u),codeTextData:M,data:M,codeFlowValue:M,definition:a(Qe),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(gt),hardBreakEscape:a(Ie),hardBreakTrailing:a(Ie),htmlFlow:a(Ye,u),htmlFlowData:M,htmlText:a(Ye,u),htmlTextData:M,image:a(Yt),label:u,link:a(zt),listItem:a(je),listItemValue:p,listOrdered:a(He,h),listUnordered:a(He),paragraph:a(ot),reference:L,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(De),strong:a(ht),thematicBreak:a(Xt)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:me,autolinkProtocol:de,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ce,codeFenced:c(v),codeFencedFence:m,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:O,codeIndented:c(_),codeText:c(se),codeTextData:O,data:O,definition:c(),definitionDestinationString:w,definitionLabelString:T,definitionTitleString:x,emphasis:c(),hardBreakEscape:c(N),hardBreakTrailing:c(N),htmlFlow:c(ee),htmlFlowData:O,htmlText:c(te),htmlTextData:O,image:c(re),label:H,labelText:A,lineEnding:B,link:c(X),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Y,resourceDestinationString:G,resourceTitleString:P,resource:R,setextHeading:c(D),setextHeadingLineSequence:k,setextHeadingText:I,strong:c(),thematicBreak:c()}};Cie(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Me={stack:[Te],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:d,setData:s,getData:o},Ze=[];let ct=-1;for(;++ct<ge.length;)if(ge[ct][1].type==="listOrdered"||ge[ct][1].type==="listUnordered")if(ge[ct][0]==="enter")Ze.push(ct);else{const xn=Ze.pop();ct=i(ge,xn,ct)}for(ct=-1;++ct<ge.length;){const xn=t[ge[ct][0]];Iie.call(xn,ge[ct][1].type)&&xn[ge[ct][1].type].call(Object.assign({sliceSerialize:ge[ct][2].sliceSerialize},Me),ge[ct][1])}if(Me.tokenStack.length>0){const xn=Me.tokenStack[Me.tokenStack.length-1];(xn[1]||X7).call(Me,void 0,xn[0])}for(Te.position={start:zc(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:zc(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<t.transforms.length;)Te=t.transforms[ct](Te)||Te;return Te}function i(ge,Te,Me){let Ze=Te-1,ct=-1,xn=!1,Fe,nt,at,Kt;for(;++Ze<=Me;){const mt=ge[Ze];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?ct++:ct--,Kt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&(Fe&&!Kt&&!ct&&!at&&(at=Ze),Kt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(Kt=void 0),!ct&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||ct===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(Fe){let wr=Ze;for(nt=void 0;wr--;){const gn=ge[wr];if(gn[1].type==="lineEnding"||gn[1].type==="lineEndingBlank"){if(gn[0]==="exit")continue;nt&&(ge[nt][1].type="lineEndingBlank",xn=!0),gn[1].type="lineEnding",nt=wr}else if(!(gn[1].type==="linePrefix"||gn[1].type==="blockQuotePrefix"||gn[1].type==="blockQuotePrefixWhitespace"||gn[1].type==="blockQuoteMarker"||gn[1].type==="listItemIndent"))break}at&&(!nt||at<nt)&&(Fe._spread=!0),Fe.end=Object.assign({},nt?ge[nt][1].start:mt[1].end),ge.splice(nt||Ze,0,["exit",Fe,mt[2]]),Ze++,Me++}mt[1].type==="listItemPrefix"&&(Fe={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0},ge.splice(Ze,0,["enter",Fe,mt[2]]),Ze++,Me++,at=void 0,Kt=!0)}}return ge[Te][1]._spread=xn,Me}function s(ge,Te){n[ge]=Te}function o(ge){return n[ge]}function a(ge,Te){return Me;function Me(Ze){l.call(this,ge(Ze),Ze),Te&&Te.call(this,Ze)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(ge,Te,Me){return this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Me]),ge.position={start:zc(Te.start)},ge}function c(ge){return Te;function Te(Me){ge&&ge.call(this,Me),f.call(this,Me)}}function f(ge,Te){const Me=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==ge.type&&(Te?Te.call(this,ge,Ze[0]):(Ze[1]||X7).call(this,ge,Ze[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Tm({start:ge.start,end:ge.end})+"): its not open");return Me.position.end=zc(ge.end),Me}function d(){return gFe(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(ge){if(o("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),s("expectingFirstListItemValue")}}function g(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function m(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function T(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Sm(this.sliceSerialize(ge)).toLowerCase()}function x(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function w(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function S(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Me=this.sliceSerialize(ge).length;Te.depth=Me}}function I(){s("setextHeadingSlurpLineEnding",!0)}function k(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).charCodeAt(0)===61?1:2}function D(){s("setextHeadingSlurpLineEnding")}function M(ge){const Te=this.stack[this.stack.length-1];let Me=Te.children[Te.children.length-1];(!Me||Me.type!=="text")&&(Me=At(),Me.position={start:zc(ge.start)},Te.children.push(Me)),this.stack.push(Me)}function O(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=zc(ge.end)}function B(ge){const Te=this.stack[this.stack.length-1];if(o("atHardBreak")){const Me=Te.children[Te.children.length-1];Me.position.end=zc(ge.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Te.type)&&(M.call(this,ge),O.call(this,ge))}function N(){s("atHardBreak",!0)}function ee(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function te(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function se(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function X(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function re(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Te=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function A(ge){const Te=this.sliceSerialize(ge),Me=this.stack[this.stack.length-2];Me.label=m9e(Te),Me.identifier=Sm(Te).toLowerCase()}function H(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Me=this.stack[this.stack.length-1];if(s("inReference",!0),Me.type==="link"){const Ze=ge.children;Me.children=Ze}else Me.alt=Te}function G(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function P(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function R(){s("inReference")}function L(){s("referenceType","collapsed")}function Y(ge){const Te=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Te,Me.identifier=Sm(this.sliceSerialize(ge)).toLowerCase(),s("referenceType","full")}function le(ge){s("characterReferenceType",ge.type)}function ce(ge){const Te=this.sliceSerialize(ge),Me=o("characterReferenceType");let Ze;Me?(Ze=xie(Te,Me==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Ze=oL(Te);const ct=this.stack.pop();ct.value+=Ze,ct.position.end=zc(ge.end)}function de(ge){O.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function me(ge){O.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function We(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:void 0,children:[]}}function Ie(){return{type:"break"}}function Ye(){return{type:"html",value:""}}function Yt(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function He(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function je(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ot(){return{type:"paragraph",children:[]}}function ht(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function Xt(){return{type:"thematicBreak"}}}function zc(e){return{line:e.line,column:e.column,offset:e.offset}}function Cie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Cie(e,r):_9e(e,r)}}function _9e(e,t){let n;for(n in t)if(Iie.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function X7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Tm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Tm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Tm({start:t.start,end:t.end})+") is still open")}function b9e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return y9e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function w9e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function E9e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function T9e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function S9e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function x9e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Po(e.charCodeAt(n+1))&&Po(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Aie(e,t){const n=String(t.identifier).toUpperCase(),r=Bg(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function I9e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Aie(e,{type:"footnoteReference",identifier:i,position:t.position})}function C9e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A9e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function Pie(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function P9e(e,t){const n=e.definition(t.identifier);if(!n)return Pie(e,t);const r={src:Bg(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function O9e(e,t){const n={src:Bg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function R9e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function N9e(e,t){const n=e.definition(t.identifier);if(!n)return Pie(e,t);const r={href:Bg(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function k9e(e,t){const n={href:Bg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function D9e(e,t,n){const r=e.all(t),i=n?$9e(n):Oie(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function $9e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Oie(n[r])}return t}function Oie(e){const t=e.spread;return t??e.children.length>1}function L9e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function M9e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F9e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function j9e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const uL=Rie("start"),lL=Rie("end");function B9e(e){return{start:uL(e),end:lL(e)}}function Rie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function U9e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=uL(t.children[1]),u=lL(t.children[t.children.length-1]);a.line&&u.line&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function V9e(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function z9e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const J7=9,Z7=32;function H9e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(ez(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(ez(t.slice(i),i>0,!1)),s.join("")}function ez(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===J7||s===Z7;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===J7||s===Z7;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function W9e(e,t){const n={type:"text",value:H9e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function q9e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Y9e={blockquote:w9e,break:E9e,code:T9e,delete:S9e,emphasis:x9e,footnoteReference:Aie,footnote:I9e,heading:C9e,html:A9e,imageReference:P9e,image:O9e,inlineCode:R9e,linkReference:N9e,link:k9e,listItem:D9e,list:L9e,paragraph:M9e,root:F9e,strong:j9e,table:U9e,tableCell:z9e,tableRow:V9e,text:W9e,thematicBreak:q9e,toml:Qb,yaml:Qb,definition:Qb,footnoteDefinition:Qb};function Qb(){return null}const Nie=function(e){if(e==null)return X9e;if(typeof e=="string")return Q9e(e);if(typeof e=="object")return Array.isArray(e)?G9e(e):K9e(e);if(typeof e=="function")return QC(e);throw new Error("Expected function, string, or object as test")};function G9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Nie(e[n]);return QC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function K9e(e){return QC(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Q9e(e){return QC(t);function t(n){return n&&n.type===e}}function QC(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function X9e(){return!0}const J9e=!0,tz=!1,Z9e="skip",eje=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Nie(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,g;if((!t||i(a,u,l[l.length-1]||null))&&(d=tje(n(a,l)),d[0]===tz))return d;if(a.children&&d[0]!==Z9e)for(p=(r?a.children.length:-1)+s,g=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,g)(),h[0]===tz)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function tje(e){return Array.isArray(e)?e:typeof e=="number"?[J9e,e]:[e]}const cL=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),eje(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function nje(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const nz={}.hasOwnProperty;function rje(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return cL(e,"definition",r=>{const i=rz(r.identifier);i&&!nz.call(t,i)&&(t[i]=r)}),n;function n(r){const i=rz(r);return i&&nz.call(t,i)?t[i]:null}}function rz(e){return String(e||"").toUpperCase()}const hx={}.hasOwnProperty;function ije(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...Y9e,...n.handlers},o.definition=rje(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=sje,o.applyData=oje,o.one=a,o.all=u,o.wrap=uje,o.augment=s,cL(e,"footnoteDefinition",l=>{const c=String(l.identifier).toUpperCase();hx.call(i,c)||(i[c]=l)}),o;function s(l,c){if(l&&"data"in l&&l.data){const f=l.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(l){const f="type"in l?l:{position:l};nje(f)||(c.position={start:uL(f),end:lL(f)})}return c}function o(l,c,f,d){return Array.isArray(f)&&(d=f,f={}),s(l,{type:"element",tagName:c,properties:f||{},children:d||[]})}function a(l,c){return kie(o,l,c)}function u(l){return fL(o,l)}}function sje(e,t){e.position&&(t.position=B9e(e))}function oje(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function kie(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return hx.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:fL(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):aje(e,t)}function fL(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=kie(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function aje(e,t){const n=t.data||{},r="value"in t&&!(hx.call(n,"hProperties")||hx.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:fL(e,t)};return e.patch(t,r),e.applyData(t,r)}function uje(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function lje(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Bg(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function Die(e,t){const n=ije(e,t),r=n.one(e,null),i=lje(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const cje=function(e,t){return e&&"run"in e?dje(e,t):hje(e||t)},fje=cje;function dje(e,t){return(n,r,i)=>{e.run(Die(n,t),r,s=>{i(s)})}}function hje(e){return t=>Die(t,e)}var $ie={exports:{}},pje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mje=pje,gje=mje;function Lie(){}function Mie(){}Mie.resetWarningCache=Lie;var yje=function(){function e(r,i,s,o,a,u){if(u!==gje){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mie,resetWarningCache:Lie};return n.PropTypes=n,n};$ie.exports=yje();var vje=$ie.exports;const vt=au(vje);let v1=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};v1.prototype.property={};v1.prototype.normal={};v1.prototype.space=null;function Fie(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new v1(n,r,t)}function Wv(e){return e.toLowerCase()}class Ta{constructor(t,n){this.property=t,this.attribute=n}}Ta.prototype.space=null;Ta.prototype.boolean=!1;Ta.prototype.booleanish=!1;Ta.prototype.overloadedBoolean=!1;Ta.prototype.number=!1;Ta.prototype.commaSeparated=!1;Ta.prototype.spaceSeparated=!1;Ta.prototype.commaOrSpaceSeparated=!1;Ta.prototype.mustUseProperty=!1;Ta.prototype.defined=!1;let _je=0;const Wt=Zh(),Yr=Zh(),jie=Zh(),ke=Zh(),Xn=Zh(),xm=Zh(),wo=Zh();function Zh(){return 2**++_je}const xk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Wt,booleanish:Yr,commaOrSpaceSeparated:wo,commaSeparated:xm,number:ke,overloadedBoolean:jie,spaceSeparated:Xn},Symbol.toStringTag,{value:"Module"})),p2=Object.keys(xk);class dL extends Ta{constructor(t,n,r,i){let s=-1;if(super(t,n),iz(this,"space",i),typeof r=="number")for(;++s<p2.length;){const o=p2[s];iz(this,p2[s],(r&xk[o])===xk[o])}}}dL.prototype.defined=!0;function iz(e,t,n){n&&(e[t]=n)}const bje={}.hasOwnProperty;function Ug(e){const t={},n={};let r;for(r in e.properties)if(bje.call(e.properties,r)){const i=e.properties[r],s=new dL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Wv(r)]=r,n[Wv(s.attribute)]=r}return new v1(t,n,e.space)}const Bie=Ug({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Uie=Ug({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Vie(e,t){return t in e?e[t]:t}function zie(e,t){return Vie(e,t.toLowerCase())}const Hie=Ug({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:zie,properties:{xmlns:null,xmlnsXLink:null}}),Wie=Ug({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Xn,ariaCurrent:null,ariaDescribedBy:Xn,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:Xn,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:Xn,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xn,ariaLevel:ke,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:Xn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:Xn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Yr,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),wje=Ug({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:zie,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xm,acceptCharset:Xn,accessKey:Xn,action:null,allow:null,allowFullScreen:Wt,allowPaymentRequest:Wt,allowUserMedia:Wt,alt:null,as:null,async:Wt,autoCapitalize:null,autoComplete:Xn,autoFocus:Wt,autoPlay:Wt,blocking:Xn,capture:null,charSet:null,checked:Wt,cite:null,className:Xn,cols:ke,colSpan:null,content:null,contentEditable:Yr,controls:Wt,controlsList:Xn,coords:ke|xm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wt,defer:Wt,dir:null,dirName:null,disabled:Wt,download:jie,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wt,formTarget:null,headers:Xn,height:ke,hidden:Wt,high:ke,href:null,hrefLang:null,htmlFor:Xn,httpEquiv:Xn,id:null,imageSizes:null,imageSrcSet:null,inert:Wt,inputMode:null,integrity:null,is:null,isMap:Wt,itemId:null,itemProp:Xn,itemRef:Xn,itemScope:Wt,itemType:Xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Wt,muted:Wt,name:null,nonce:null,noModule:Wt,noValidate:Wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wt,optimum:ke,pattern:null,ping:Xn,placeholder:null,playsInline:Wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wt,referrerPolicy:null,rel:Xn,required:Wt,reversed:Wt,rows:ke,rowSpan:ke,sandbox:Xn,scope:null,scoped:Wt,seamless:Wt,selected:Wt,shadowRootDelegatesFocus:Wt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Wt,useMap:null,value:Yr,width:ke,wrap:null,align:null,aLink:null,archive:Xn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wt,declare:Wt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Wt,noHref:Wt,noShade:Wt,noWrap:Wt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wt,disableRemotePlayback:Wt,prefix:null,property:null,results:ke,security:null,unselectable:null}}),Eje=Ug({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Vie,properties:{about:wo,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xm,g2:xm,glyphName:xm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:wo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wo,rev:wo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wo,requiredFeatures:wo,requiredFonts:wo,requiredFormats:wo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:wo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wo,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Tje=/^data[-\w.:]+$/i,sz=/-[a-z]/g,Sje=/[A-Z]/g;function XC(e,t){const n=Wv(t);let r=t,i=Ta;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Tje.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(sz,Ije);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!sz.test(s)){let o=s.replace(Sje,xje);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=dL}return new i(r,t)}function xje(e){return"-"+e.toLowerCase()}function Ije(e){return e.charAt(1).toUpperCase()}const oz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_1=Fie([Uie,Bie,Hie,Wie,wje],"html"),Vg=Fie([Uie,Bie,Hie,Wie,Eje],"svg");function Cje(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{cL(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var qie={exports:{}},Un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL=Symbol.for("react.element"),pL=Symbol.for("react.portal"),JC=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),Aje=Symbol.for("react.server_context"),rA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),sA=Symbol.for("react.suspense_list"),oA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),Pje=Symbol.for("react.offscreen"),Yie;Yie=Symbol.for("react.module.reference");function Sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hL:switch(e=e.type,e){case JC:case eA:case ZC:case iA:case sA:return e;default:switch(e=e&&e.$$typeof,e){case Aje:case nA:case rA:case aA:case oA:case tA:return e;default:return t}}case pL:return t}}}Un.ContextConsumer=nA;Un.ContextProvider=tA;Un.Element=hL;Un.ForwardRef=rA;Un.Fragment=JC;Un.Lazy=aA;Un.Memo=oA;Un.Portal=pL;Un.Profiler=eA;Un.StrictMode=ZC;Un.Suspense=iA;Un.SuspenseList=sA;Un.isAsyncMode=function(){return!1};Un.isConcurrentMode=function(){return!1};Un.isContextConsumer=function(e){return Sa(e)===nA};Un.isContextProvider=function(e){return Sa(e)===tA};Un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hL};Un.isForwardRef=function(e){return Sa(e)===rA};Un.isFragment=function(e){return Sa(e)===JC};Un.isLazy=function(e){return Sa(e)===aA};Un.isMemo=function(e){return Sa(e)===oA};Un.isPortal=function(e){return Sa(e)===pL};Un.isProfiler=function(e){return Sa(e)===eA};Un.isStrictMode=function(e){return Sa(e)===ZC};Un.isSuspense=function(e){return Sa(e)===iA};Un.isSuspenseList=function(e){return Sa(e)===sA};Un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===JC||e===eA||e===ZC||e===iA||e===sA||e===Pje||typeof e=="object"&&e!==null&&(e.$$typeof===aA||e.$$typeof===oA||e.$$typeof===tA||e.$$typeof===nA||e.$$typeof===rA||e.$$typeof===Yie||e.getModuleId!==void 0)};Un.typeOf=Sa;qie.exports=Un;var Oje=qie.exports;const Rje=au(Oje);function Nje(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function az(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Gie(e){return e.join(" ").trim()}function uz(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Kie(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var mL={exports:{}},lz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kje=/\n/g,Dje=/^\s*/,$je=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Lje=/^:\s*/,Mje=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Fje=/^[;\s]*/,jje=/^\s+|\s+$/g,Bje=`
`,cz="/",fz="*",Ud="",Uje="comment",Vje="declaration",zje=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(kje);g&&(n+=g.length);var y=p.lastIndexOf(Bje);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),l(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function u(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function l(){u(Dje)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=s();if(!(cz!=e.charAt(0)||fz!=e.charAt(1))){for(var g=2;Ud!=e.charAt(g)&&(fz!=e.charAt(g)||cz!=e.charAt(g+1));)++g;if(g+=2,Ud===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Uje,comment:y})}}function d(){var p=s(),g=u($je);if(g){if(f(),!u(Lje))return a("property missing ':'");var y=u(Mje),m=p({type:Vje,property:dz(g[0].replace(lz,Ud)),value:y?dz(y[0].replace(lz,Ud)):Ud});return u(Fje),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return l(),h()};function dz(e){return e?e.replace(jje,Ud):Ud}var Hje=zje;function Qie(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=Hje(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}mL.exports=Qie;mL.exports.default=Qie;var Wje=mL.exports;const qje=au(Wje),Ik={}.hasOwnProperty,Yje=new Set(["table","thead","tbody","tfoot","tr"]);function Xie(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(Gje(e,i,r,t)):i.type==="text"?(t.type!=="element"||!Yje.has(t.tagName)||!Nje(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function Gje(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?L5e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Vg,e.schema=l),t.properties)for(c in t.properties)Ik.call(t.properties,c)&&Qje(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Xie(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Ik.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===$.Fragment;if(!Rje.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=n,a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const g=Kje(t);u.checked=g&&g.properties?!!g.properties.checked:null,u.index=m2(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=Zje(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=m2(r,t),u.siblingCount=m2(r)),p||(u.node=t),f.length>0?$.createElement(h,u,f):$.createElement(h,u)}function Kje(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function m2(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Qje(e,t,n,r){const i=XC(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Kie(s):Gie(s)),i.property==="style"&&typeof s=="string"&&(s=Xje(s)),i.space&&i.property?e[Ik.call(oz,i.property)?oz[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function Xje(e){const t={};try{qje(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,Jje)]=i}}function Jje(e,t){return t.toUpperCase()}function Zje(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const hz={}.hasOwnProperty,eBe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Xb={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Jie(e){for(const s in Xb)if(hz.call(Xb,s)&&hz.call(e,s)){const o=Xb[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${eBe}#${o.id}> for more info)`),delete Xb[s]}const t=fFe().use(b9e).use(e.remarkPlugins||[]).use(fje,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Cje,e),n=new G5e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=$.createElement($.Fragment,{},Xie({options:e,schema:_1,listDepth:0},r));return e.className&&(i=$.createElement("div",{className:e.className},i)),i}Jie.propTypes={children:vt.string,className:vt.string,allowElement:vt.func,allowedElements:vt.arrayOf(vt.string),disallowedElements:vt.arrayOf(vt.string),unwrapDisallowed:vt.bool,remarkPlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),rehypePlugins:vt.arrayOf(vt.oneOfType([vt.object,vt.func,vt.arrayOf(vt.oneOfType([vt.bool,vt.string,vt.object,vt.func,vt.arrayOf(vt.any)]))])),sourcePos:vt.bool,rawSourcePos:vt.bool,skipHtml:vt.bool,includeElementIndex:vt.bool,transformLinkUri:vt.oneOfType([vt.func,vt.bool]),linkTarget:vt.oneOfType([vt.func,vt.string]),transformImageUri:vt.func,components:vt.object};const Zie=-1,uA=0,px=1,mx=2,gL=3,yL=4,vL=5,_L=6,ese=7,tse=8,pz=typeof self=="object"?self:globalThis,tBe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case uA:case Zie:return n(o,i);case px:{const a=n([],i);for(const u of o)a.push(r(u));return a}case mx:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case gL:return n(new Date(o),i);case yL:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case vL:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case _L:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case ese:{const{name:a,message:u}=o;return n(new pz[a](u),i)}case tse:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new pz[s](o),i)};return r},mz=e=>tBe(new Map,e)(0),_p="",{toString:nBe}={},{keys:rBe}=Object,F0=e=>{const t=typeof e;if(t!=="object"||!e)return[uA,t];const n=nBe.call(e).slice(8,-1);switch(n){case"Array":return[px,_p];case"Object":return[mx,_p];case"Date":return[gL,_p];case"RegExp":return[yL,_p];case"Map":return[vL,_p];case"Set":return[_L,_p]}return n.includes("Array")?[px,n]:n.includes("Error")?[ese,n]:[mx,n]},Jb=([e,t])=>e===uA&&(t==="function"||t==="symbol"),iBe=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=F0(o);switch(a){case uA:{let c=o;switch(u){case"bigint":a=tse,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([Zie],o)}return i([a,c],o)}case px:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case mx:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of rBe(o))(e||!Jb(F0(o[d])))&&c.push([s(d),s(o[d])]);return f}case gL:return i([a,o.toISOString()],o);case yL:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case vL:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(Jb(F0(d))||Jb(F0(h))))&&c.push([s(d),s(h)]);return f}case _L:{const c=[],f=i([a,c],o);for(const d of o)(e||!Jb(F0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},gz=(e,{json:t,lossy:n}={})=>{const r=[];return iBe(!(t||n),!!t,new Map,r)(e),r},yz=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?mz(gz(e,t)):structuredClone(e):(e,t)=>mz(gz(e,t));const vz=/[#.]/g;function sBe(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){vz.lastIndex=i;const a=vz.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const oBe=new Set(["button","menu","reset","submit"]),Ck={}.hasOwnProperty;function nse(e,t,n){const r=n&&cBe(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=sBe(s,t),l.tagName=l.tagName.toLowerCase(),r&&Ck.call(r,l.tagName)&&(l.tagName=r[l.tagName]),aBe(o,l.tagName)){let c;for(c in o)Ck.call(o,c)&&uBe(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)Ak(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function aBe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?oBe.has(e.type.toLowerCase()):!("value"in e)}function uBe(e,t,n,r){const i=XC(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=az(r):i.commaSeparated?o=uz(r):i.commaOrSpaceSeparated?o=az(uz(r).join(" ")):o=_z(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?lBe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=_z(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function Ak(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Ak(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?Ak(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function _z(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Wv(n)===Wv(t)))return!0}return n}function lBe(e){const t=[];let n;for(n in e)Ck.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function cBe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const fBe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],dBe=nse(_1,"div"),hBe=nse(Vg,"g",fBe),g2=/\r?\n|\r/g;function pBe(e){const t=String(e),n=[];for(g2.lastIndex=0;g2.test(t);)n.push(g2.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Kd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rse={}.hasOwnProperty,mBe=Object.prototype;function gBe(e,t){const n=t||{};return bL({file:n.file||void 0,location:!1,schema:n.space==="svg"?Vg:_1,verbose:n.verbose||!1},e)}function bL(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},cE(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ise(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=pBe(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},cE(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},cE(e,r,n),n}default:return n=yBe(e,t),n}}function ise(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=bL(e,t[n]);r.push(i)}return r}function yBe(e,t){const n=e.schema;e.schema=t.namespaceURI===Kd.svg?Vg:_1;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;rse.call(mBe,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?hBe:dBe)(t.tagName,i,ise(e,t.childNodes));if(cE(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Xp(u.startTag),c=u&&u.endTag&&Xp(u.endTag),f=bL(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function cE(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=vBe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function vBe(e,t,n){const r=Xp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)rse.call(n.attrs,o)&&(s[XC(e.schema,o).property]=Xp(n.attrs[o]));n.startTag;const a=Xp(n.startTag),u=n.endTag?Xp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Xp(e){const t=bz({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=bz({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function bz(e){return e.line&&e.column?e:void 0}const wz={}.hasOwnProperty;function sse(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&wz.call(i,e)){const u=String(i[e]);o=wz.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const _Be={},bBe={}.hasOwnProperty,ose=sse("type",{handlers:{root:EBe,element:CBe,text:xBe,comment:IBe,doctype:SBe}});function wBe(e,t){const r=(t||_Be).space;return ose(e,r==="svg"?Vg:_1)}function EBe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=wL(e.children,n,t),zg(e,n),n}function TBe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=wL(e.children,n,t),zg(e,n),n}function SBe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return zg(e,t),t}function xBe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return zg(e,t),t}function IBe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return zg(e,t),t}function CBe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Vg);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&bBe.call(e.properties,s)){const u=ABe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Kd[o],childNodes:[],parentNode:null};return a.childNodes=wL(e.children,a,r),zg(e,a),e.tagName==="template"&&e.content&&(a.content=TBe(e.content,r)),a}function ABe(e,t,n){const r=XC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Kie(n):Gie(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Kd[r.space]}return i}function wL(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=ose(e[r],n);s.parentNode=t,i.push(s)}return i}function zg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const PBe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],OBe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),fr="";var U;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(U=U||(U={}));const ks={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ase(e){return e>=55296&&e<=57343}function RBe(e){return e>=56320&&e<=57343}function NBe(e,t){return(e-55296)*1024+9216+t}function use(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function lse(e){return e>=64976&&e<=65007||OBe.has(e)}var _e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e=_e||(_e={}));const kBe=65536;class DBe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=kBe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(RBe(n))return this.pos++,this._addGap(),NBe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,U.EOF;return this._err(_e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;const r=this.html.charCodeAt(n);return r===U.CARRIAGE_RETURN?U.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;let t=this.html.charCodeAt(this.pos);return t===U.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,U.LINE_FEED):t===U.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ase(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===U.LINE_FEED||t===U.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){use(t)?this._err(_e.controlCharacterInInputStream):lse(t)&&this._err(_e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Qt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Qt=Qt||(Qt={}));function cse(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Kc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),$Be=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var y2;const LBe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),MBe=(y2=String.fromCodePoint)!==null&&y2!==void 0?y2:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function FBe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=LBe.get(e))!==null&&t!==void 0?t:e}var vi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(vi||(vi={}));const jBe=32;var zu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(zu||(zu={}));function Pk(e){return e>=vi.ZERO&&e<=vi.NINE}function BBe(e){return e>=vi.UPPER_A&&e<=vi.UPPER_F||e>=vi.LOWER_A&&e<=vi.LOWER_F}function UBe(e){return e>=vi.UPPER_A&&e<=vi.UPPER_Z||e>=vi.LOWER_A&&e<=vi.LOWER_Z||Pk(e)}function VBe(e){return e===vi.EQUALS||UBe(e)}var hi;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(hi||(hi={}));var Vd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Vd||(Vd={}));class zBe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=hi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Vd.Strict}startEntity(t){this.decodeMode=t,this.state=hi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case hi.EntityStart:return t.charCodeAt(n)===vi.NUM?(this.state=hi.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=hi.NamedEntity,this.stateNamedEntity(t,n));case hi.NumericStart:return this.stateNumericStart(t,n);case hi.NumericDecimal:return this.stateNumericDecimal(t,n);case hi.NumericHex:return this.stateNumericHex(t,n);case hi.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|jBe)===vi.LOWER_X?(this.state=hi.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=hi.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Pk(i)||BBe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Pk(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===vi.SEMI)this.consumed+=1;else if(this.decodeMode===Vd.Strict)return 0;return this.emitCodePoint(FBe(this.result),this.consumed),this.errors&&(t!==vi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=dse(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Vd.Attribute&&(s===0||VBe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&zu.VALUE_LENGTH)>>14,s!==0){if(o===vi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Vd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&zu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~zu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case hi.NamedEntity:return this.result!==0&&(this.decodeMode!==Vd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case hi.NumericDecimal:return this.emitNumericEntity(0,2);case hi.NumericHex:return this.emitNumericEntity(0,3);case hi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case hi.EntityStart:return 0}}}function fse(e){let t="";const n=new zBe(e,r=>t+=MBe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function dse(e,t,n,r){const i=(t&zu.BRANCH_LENGTH)>>7,s=t&zu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}fse(Kc);fse($Be);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Df;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Df=Df||(Df={}));var So;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(So=So||(So={}));var fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(fe=fe||(fe={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(E=E||(E={}));const HBe=new Map([[fe.A,E.A],[fe.ADDRESS,E.ADDRESS],[fe.ANNOTATION_XML,E.ANNOTATION_XML],[fe.APPLET,E.APPLET],[fe.AREA,E.AREA],[fe.ARTICLE,E.ARTICLE],[fe.ASIDE,E.ASIDE],[fe.B,E.B],[fe.BASE,E.BASE],[fe.BASEFONT,E.BASEFONT],[fe.BGSOUND,E.BGSOUND],[fe.BIG,E.BIG],[fe.BLOCKQUOTE,E.BLOCKQUOTE],[fe.BODY,E.BODY],[fe.BR,E.BR],[fe.BUTTON,E.BUTTON],[fe.CAPTION,E.CAPTION],[fe.CENTER,E.CENTER],[fe.CODE,E.CODE],[fe.COL,E.COL],[fe.COLGROUP,E.COLGROUP],[fe.DD,E.DD],[fe.DESC,E.DESC],[fe.DETAILS,E.DETAILS],[fe.DIALOG,E.DIALOG],[fe.DIR,E.DIR],[fe.DIV,E.DIV],[fe.DL,E.DL],[fe.DT,E.DT],[fe.EM,E.EM],[fe.EMBED,E.EMBED],[fe.FIELDSET,E.FIELDSET],[fe.FIGCAPTION,E.FIGCAPTION],[fe.FIGURE,E.FIGURE],[fe.FONT,E.FONT],[fe.FOOTER,E.FOOTER],[fe.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[fe.FORM,E.FORM],[fe.FRAME,E.FRAME],[fe.FRAMESET,E.FRAMESET],[fe.H1,E.H1],[fe.H2,E.H2],[fe.H3,E.H3],[fe.H4,E.H4],[fe.H5,E.H5],[fe.H6,E.H6],[fe.HEAD,E.HEAD],[fe.HEADER,E.HEADER],[fe.HGROUP,E.HGROUP],[fe.HR,E.HR],[fe.HTML,E.HTML],[fe.I,E.I],[fe.IMG,E.IMG],[fe.IMAGE,E.IMAGE],[fe.INPUT,E.INPUT],[fe.IFRAME,E.IFRAME],[fe.KEYGEN,E.KEYGEN],[fe.LABEL,E.LABEL],[fe.LI,E.LI],[fe.LINK,E.LINK],[fe.LISTING,E.LISTING],[fe.MAIN,E.MAIN],[fe.MALIGNMARK,E.MALIGNMARK],[fe.MARQUEE,E.MARQUEE],[fe.MATH,E.MATH],[fe.MENU,E.MENU],[fe.META,E.META],[fe.MGLYPH,E.MGLYPH],[fe.MI,E.MI],[fe.MO,E.MO],[fe.MN,E.MN],[fe.MS,E.MS],[fe.MTEXT,E.MTEXT],[fe.NAV,E.NAV],[fe.NOBR,E.NOBR],[fe.NOFRAMES,E.NOFRAMES],[fe.NOEMBED,E.NOEMBED],[fe.NOSCRIPT,E.NOSCRIPT],[fe.OBJECT,E.OBJECT],[fe.OL,E.OL],[fe.OPTGROUP,E.OPTGROUP],[fe.OPTION,E.OPTION],[fe.P,E.P],[fe.PARAM,E.PARAM],[fe.PLAINTEXT,E.PLAINTEXT],[fe.PRE,E.PRE],[fe.RB,E.RB],[fe.RP,E.RP],[fe.RT,E.RT],[fe.RTC,E.RTC],[fe.RUBY,E.RUBY],[fe.S,E.S],[fe.SCRIPT,E.SCRIPT],[fe.SECTION,E.SECTION],[fe.SELECT,E.SELECT],[fe.SOURCE,E.SOURCE],[fe.SMALL,E.SMALL],[fe.SPAN,E.SPAN],[fe.STRIKE,E.STRIKE],[fe.STRONG,E.STRONG],[fe.STYLE,E.STYLE],[fe.SUB,E.SUB],[fe.SUMMARY,E.SUMMARY],[fe.SUP,E.SUP],[fe.TABLE,E.TABLE],[fe.TBODY,E.TBODY],[fe.TEMPLATE,E.TEMPLATE],[fe.TEXTAREA,E.TEXTAREA],[fe.TFOOT,E.TFOOT],[fe.TD,E.TD],[fe.TH,E.TH],[fe.THEAD,E.THEAD],[fe.TITLE,E.TITLE],[fe.TR,E.TR],[fe.TRACK,E.TRACK],[fe.TT,E.TT],[fe.U,E.U],[fe.UL,E.UL],[fe.SVG,E.SVG],[fe.VAR,E.VAR],[fe.WBR,E.WBR],[fe.XMP,E.XMP]]);function Hg(e){var t;return(t=HBe.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const Pe=E,WBe={[Ee.HTML]:new Set([Pe.ADDRESS,Pe.APPLET,Pe.AREA,Pe.ARTICLE,Pe.ASIDE,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BLOCKQUOTE,Pe.BODY,Pe.BR,Pe.BUTTON,Pe.CAPTION,Pe.CENTER,Pe.COL,Pe.COLGROUP,Pe.DD,Pe.DETAILS,Pe.DIR,Pe.DIV,Pe.DL,Pe.DT,Pe.EMBED,Pe.FIELDSET,Pe.FIGCAPTION,Pe.FIGURE,Pe.FOOTER,Pe.FORM,Pe.FRAME,Pe.FRAMESET,Pe.H1,Pe.H2,Pe.H3,Pe.H4,Pe.H5,Pe.H6,Pe.HEAD,Pe.HEADER,Pe.HGROUP,Pe.HR,Pe.HTML,Pe.IFRAME,Pe.IMG,Pe.INPUT,Pe.LI,Pe.LINK,Pe.LISTING,Pe.MAIN,Pe.MARQUEE,Pe.MENU,Pe.META,Pe.NAV,Pe.NOEMBED,Pe.NOFRAMES,Pe.NOSCRIPT,Pe.OBJECT,Pe.OL,Pe.P,Pe.PARAM,Pe.PLAINTEXT,Pe.PRE,Pe.SCRIPT,Pe.SECTION,Pe.SELECT,Pe.SOURCE,Pe.STYLE,Pe.SUMMARY,Pe.TABLE,Pe.TBODY,Pe.TD,Pe.TEMPLATE,Pe.TEXTAREA,Pe.TFOOT,Pe.TH,Pe.THEAD,Pe.TITLE,Pe.TR,Pe.TRACK,Pe.UL,Pe.WBR,Pe.XMP]),[Ee.MATHML]:new Set([Pe.MI,Pe.MO,Pe.MN,Pe.MS,Pe.MTEXT,Pe.ANNOTATION_XML]),[Ee.SVG]:new Set([Pe.TITLE,Pe.FOREIGN_OBJECT,Pe.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function hse(e){return e===Pe.H1||e===Pe.H2||e===Pe.H3||e===Pe.H4||e===Pe.H5||e===Pe.H6}fe.STYLE,fe.SCRIPT,fe.XMP,fe.IFRAME,fe.NOEMBED,fe.NOFRAMES,fe.PLAINTEXT;const qBe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(z||(z={}));const Ur={DATA:z.DATA,RCDATA:z.RCDATA,RAWTEXT:z.RAWTEXT,SCRIPT_DATA:z.SCRIPT_DATA,PLAINTEXT:z.PLAINTEXT,CDATA_SECTION:z.CDATA_SECTION};function Gy(e){return e>=U.DIGIT_0&&e<=U.DIGIT_9}function dy(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_Z}function YBe(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_Z}function Qc(e){return YBe(e)||dy(e)}function Ok(e){return Qc(e)||Gy(e)}function pse(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_F}function mse(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_F}function GBe(e){return Gy(e)||pse(e)||mse(e)}function Zb(e){return e+32}function gse(e){return e===U.SPACE||e===U.LINE_FEED||e===U.TABULATION||e===U.FORM_FEED}function KBe(e){return e===U.EQUALS_SIGN||Ok(e)}function Ez(e){return gse(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN}class QBe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=z.DATA,this.returnState=z.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new DBe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qt.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qt.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(cse(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Hg(t.tagName),t.type===Qt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(_e.endTagWithAttributes),t.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=gse(t)?Qt.WHITESPACE_CHARACTER:t===U.NULL?Qt.NULL_CHARACTER:Qt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Kc[0];s>=0&&(s=dse(Kc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Kc[s];const a=o&zu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==U.SEMICOLON&&this._isCharacterReferenceInAttribute()&&KBe(this.preprocessor.peek(1))?(n=[U.AMPERSAND],s+=u):(n=u===0?[Kc[s]&~zu.VALUE_LENGTH]:u===1?[Kc[++s]]:[Kc[++s],Kc[++s]],r=0,i=t!==U.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(_e.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case z.DATA:{this._stateData(t);break}case z.RCDATA:{this._stateRcdata(t);break}case z.RAWTEXT:{this._stateRawtext(t);break}case z.SCRIPT_DATA:{this._stateScriptData(t);break}case z.PLAINTEXT:{this._statePlaintext(t);break}case z.TAG_OPEN:{this._stateTagOpen(t);break}case z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case z.TAG_NAME:{this._stateTagName(t);break}case z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case z.COMMENT_START:{this._stateCommentStart(t);break}case z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case z.COMMENT:{this._stateComment(t);break}case z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case z.COMMENT_END:{this._stateCommentEnd(t);break}case z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case z.DOCTYPE:{this._stateDoctype(t);break}case z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case z.CDATA_SECTION:{this._stateCdataSection(t);break}case z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case z.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case z.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case z.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case z.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case z.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case z.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case z.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.TAG_OPEN;break}case U.AMPERSAND:{this.returnState=z.DATA,this.state=z.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(t);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case U.AMPERSAND:{this.returnState=z.RCDATA,this.state=z.CHARACTER_REFERENCE;break}case U.LESS_THAN_SIGN:{this.state=z.RCDATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.RAWTEXT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Qc(t))this._createStartTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case U.EXCLAMATION_MARK:{this.state=z.MARKUP_DECLARATION_OPEN;break}case U.SOLIDUS:{this.state=z.END_TAG_OPEN;break}case U.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t);break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Qc(t))this._createEndTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case U.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(dy(t)?Zb(t):t)}}_stateRcdataLessThanSign(t){t===U.SOLIDUS?this.state=z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Qc(t)?(this.state=z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=z.BEFORE_ATTRIBUTE_NAME,!1;case U.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=z.SELF_CLOSING_START_TAG,!1;case U.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===U.SOLIDUS?this.state=z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Qc(t)?(this.state=z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case U.SOLIDUS:{this.state=z.SCRIPT_DATA_END_TAG_OPEN;break}case U.EXCLAMATION_MARK:{this.state=z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Qc(t)?(this.state=z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===U.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===U.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===U.SOLIDUS?this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Qc(t)?(this._emitChars("<"),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Qc(t)?(this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ks.SCRIPT,!1)&&Ez(this.preprocessor.peek(ks.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ks.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===U.SOLIDUS?(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ks.SCRIPT,!1)&&Ez(this.preprocessor.peek(ks.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ks.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this._leaveAttrName(),this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._leaveAttrName(),this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=fr;break}default:this.currentAttr.name+=String.fromCodePoint(dy(t)?Zb(t):t)}}_stateAfterAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case U.EQUALS_SIGN:{this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{this.state=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this.state=z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=z.DATA,this.emitCurrentTagToken();break}default:this.state=z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=z.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case U.APOSTROPHE:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=z.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.AMPERSAND:{this.returnState=z.ATTRIBUTE_VALUE_UNQUOTED,this.state=z.CHARACTER_REFERENCE;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:case U.EQUALS_SIGN:case U.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this._leaveAttrValue(),this.state=z.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case U.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ks.DASH_DASH,!0)?(this._createCommentToken(ks.DASH_DASH.length+1),this.state=z.COMMENT_START):this._consumeSequenceIfMatch(ks.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ks.DOCTYPE.length+1),this.state=z.DOCTYPE):this._consumeSequenceIfMatch(ks.CDATA_START,!0)?this.inForeignNode?this.state=z.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(ks.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_START_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END_DASH;break}case U.LESS_THAN_SIGN:{n.data+="<",this.state=z.COMMENT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case U.EXCLAMATION_MARK:{n.data+="!",this.state=z.COMMENT_LESS_THAN_SIGN_BANG;break}case U.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===U.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===U.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==U.GREATER_THAN_SIGN&&t!==U.EOF&&this._err(_e.nestedComment),this.state=z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case U.EXCLAMATION_MARK:{this.state=z.COMMENT_END_BANG;break}case U.HYPHEN_MINUS:{n.data+="-";break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{n.data+="--!",this.state=z.COMMENT_END_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(dy(t))this._createDoctypeToken(String.fromCharCode(Zb(t))),this.state=z.DOCTYPE_NAME;else switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(fr),this.state=z.DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.AFTER_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=fr;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(dy(t)?Zb(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ks.PUBLIC,!1)?this.state=z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ks.SYSTEM,!1)?this.state=z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.NULL:{this._err(_e.unexpectedNullCharacter);break}case U.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case U.RIGHT_SQUARE_BRACKET:{this.state=z.CDATA_SECTION_BRACKET;break}case U.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===U.RIGHT_SQUARE_BRACKET?this.state=z.CDATA_SECTION_END:(this._emitChars("]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA;break}case U.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===U.NUMBER_SIGN?this.state=z.NUMERIC_CHARACTER_REFERENCE:Ok(t)?(this.state=z.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this.state=z.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){Ok(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===U.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===U.LATIN_SMALL_X||t===U.LATIN_CAPITAL_X?this.state=z.HEXADEMICAL_CHARACTER_REFERENCE_START:Gy(t)?(this.state=z.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){GBe(t)?(this.state=z.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){pse(t)?this.charRefCode=this.charRefCode*16+t-55:mse(t)?this.charRefCode=this.charRefCode*16+t-87:Gy(t)?this.charRefCode=this.charRefCode*16+t-48:t===U.SEMICOLON?this.state=z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Gy(t)?this.charRefCode=this.charRefCode*10+t-48:t===U.SEMICOLON?this.state=z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===U.NULL)this._err(_e.nullCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_e.characterReferenceOutsideUnicodeRange),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(ase(this.charRefCode))this._err(_e.surrogateCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(lse(this.charRefCode))this._err(_e.noncharacterCharacterReference);else if(use(this.charRefCode)||this.charRefCode===U.CARRIAGE_RETURN){this._err(_e.controlCharacterReference);const n=qBe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const yse=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),Tz=new Set([...yse,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),ew=new Map([[E.APPLET,Ee.HTML],[E.CAPTION,Ee.HTML],[E.HTML,Ee.HTML],[E.MARQUEE,Ee.HTML],[E.OBJECT,Ee.HTML],[E.TABLE,Ee.HTML],[E.TD,Ee.HTML],[E.TEMPLATE,Ee.HTML],[E.TH,Ee.HTML],[E.ANNOTATION_XML,Ee.MATHML],[E.MI,Ee.MATHML],[E.MN,Ee.MATHML],[E.MO,Ee.MATHML],[E.MS,Ee.MATHML],[E.MTEXT,Ee.MATHML],[E.DESC,Ee.SVG],[E.FOREIGN_OBJECT,Ee.SVG],[E.TITLE,Ee.SVG]]),XBe=[E.H1,E.H2,E.H3,E.H4,E.H5,E.H6],JBe=[E.TR,E.TEMPLATE,E.HTML],ZBe=[E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML],eUe=[E.TABLE,E.TEMPLATE,E.HTML],tUe=[E.TD,E.TH];class nUe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(XBe,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(tUe,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(eUe,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(ZBe,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(JBe,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(ew.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(hse(n)&&r===Ee.HTML)return!0;if(ew.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===E.UL||r===E.OL)&&i===Ee.HTML||ew.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===E.BUTTON&&i===Ee.HTML||ew.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===E.TABLE||r===E.TEMPLATE||r===E.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===E.TBODY||n===E.THEAD||n===E.TFOOT)return!0;if(n===E.TABLE||n===E.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==E.OPTION&&r!==E.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;yse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Tz.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Tz.has(this.currentTagId);)this.pop()}}const v2=3;var Ma;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ma=Ma||(Ma={}));const Sz={type:Ma.Marker};class rUe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Ma.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<v2)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<v2)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=v2&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Sz)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ma.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ma.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Sz);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ma.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ma.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ma.Element&&n.element===t)}}function xz(e){return{nodeName:"#text",value:e,parentNode:null}}const Op={createDocument(){return{nodeName:"#document",mode:So.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Op.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Op.isTextNode(n)){n.value+=t;return}}Op.appendChild(e,xz(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Op.isTextNode(r)?r.value+=t:Op.insertBefore(e,xz(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},vse="html",iUe="about:legacy-compat",sUe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",_se=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],oUe=[..._se,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],aUe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),bse=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],uUe=[...bse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Iz(e,t){return t.some(n=>e.startsWith(n))}function lUe(e){return e.name===vse&&e.publicId===null&&(e.systemId===null||e.systemId===iUe)}function cUe(e){if(e.name!==vse)return So.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===sUe)return So.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),aUe.has(n))return So.QUIRKS;let r=t===null?oUe:_se;if(Iz(n,r))return So.QUIRKS;if(r=t===null?bse:uUe,Iz(n,r))return So.LIMITED_QUIRKS}return So.NO_QUIRKS}const Cz={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},fUe="definitionurl",dUe="definitionURL",hUe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),pUe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),mUe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),gUe=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function yUe(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:r})=>r===Df.COLOR||r===Df.SIZE||r===Df.FACE)||gUe.has(t)}function wse(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===fUe){e.attrs[t].name=dUe;break}}function Ese(e){for(let t=0;t<e.attrs.length;t++){const n=hUe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function EL(e){for(let t=0;t<e.attrs.length;t++){const n=pUe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function vUe(e){const t=mUe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Hg(e.tagName))}function _Ue(e,t){return t===Ee.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function bUe(e,t,n){if(t===Ee.MATHML&&e===E.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Df.ENCODING){const i=n[r].value.toLowerCase();return i===Cz.TEXT_HTML||i===Cz.APPLICATION_XML}}return t===Ee.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function wUe(e,t,n,r){return(!r||r===Ee.HTML)&&bUe(e,t,n)||(!r||r===Ee.MATHML)&&_Ue(e,t)}const EUe="hidden",TUe=8,SUe=3;var Q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Q||(Q={}));const xUe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Tse=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),Az={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Op,onParseError:null};let Pz=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Q.INITIAL,this.originalInsertionMode=Q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Az,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new QBe(this.options,this),this.activeFormattingElements=new rUe(this.treeAdapter),this.fragmentContextID=r?Hg(this.treeAdapter.getTagName(r)):E.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new nUe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Az,...n};t??(t=r.treeAdapter.createElement(fe.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:xUe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Q.TEXT}switchToPlaintextParsing(){this.insertionMode=Q.TEXT,this.originalInsertionMode=Q.IN_BODY,this.tokenizer.state=Ur.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Ur.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Ur.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Ur.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Ur.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(fe.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Qt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(n)===fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Qt.CHARACTER:{this.onCharacter(t);break}case Qt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Qt.COMMENT:{this.onComment(t);break}case Qt.DOCTYPE:{this.onDoctype(t);break}case Qt.START_TAG:{this._processStartTag(t);break}case Qt.END_TAG:{this.onEndTag(t);break}case Qt.EOF:{this.onEof(t);break}case Qt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return wUe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ma.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=Q.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=Q.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=Q.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=Q.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=Q.IN_TABLE;return}case E.BODY:{this.insertionMode=Q.IN_BODY;return}case E.FRAMESET:{this.insertionMode=Q.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?Q.AFTER_HEAD:Q.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=Q.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=Q.IN_HEAD;return}break}}this.insertionMode=Q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===E.TEMPLATE)break;if(r===E.TABLE){this.insertionMode=Q.IN_SELECT_IN_TABLE;return}}this.insertionMode=Q.IN_SELECT}_isElementCausesFosterParenting(t){return Tse.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return WBe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){t7e(this,t);return}switch(this.insertionMode){case Q.INITIAL:{j0(this,t);break}case Q.BEFORE_HTML:{Ky(this,t);break}case Q.BEFORE_HEAD:{Qy(this,t);break}case Q.IN_HEAD:{Xy(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Jy(this,t);break}case Q.AFTER_HEAD:{Zy(this,t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:{xse(this,t);break}case Q.TEXT:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{_2(this,t);break}case Q.IN_TABLE_TEXT:{Rse(this,t);break}case Q.IN_COLUMN_GROUP:{gx(this,t);break}case Q.AFTER_BODY:{yx(this,t);break}case Q.AFTER_AFTER_BODY:{fE(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){e7e(this,t);return}switch(this.insertionMode){case Q.INITIAL:{j0(this,t);break}case Q.BEFORE_HTML:{Ky(this,t);break}case Q.BEFORE_HEAD:{Qy(this,t);break}case Q.IN_HEAD:{Xy(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Jy(this,t);break}case Q.AFTER_HEAD:{Zy(this,t);break}case Q.TEXT:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{_2(this,t);break}case Q.IN_COLUMN_GROUP:{gx(this,t);break}case Q.AFTER_BODY:{yx(this,t);break}case Q.AFTER_AFTER_BODY:{fE(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Rk(this,t);return}switch(this.insertionMode){case Q.INITIAL:case Q.BEFORE_HTML:case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_TEMPLATE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{Rk(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.AFTER_BODY:{NUe(this,t);break}case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{kUe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Q.INITIAL:{DUe(this,t);break}case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:{this._err(t,_e.misplacedDoctype);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?n7e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{j0(this,t);break}case Q.BEFORE_HTML:{$Ue(this,t);break}case Q.BEFORE_HEAD:{MUe(this,t);break}case Q.IN_HEAD:{cu(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{BUe(this,t);break}case Q.AFTER_HEAD:{VUe(this,t);break}case Q.IN_BODY:{hs(this,t);break}case Q.IN_TABLE:{ng(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.IN_CAPTION:{FVe(this,t);break}case Q.IN_COLUMN_GROUP:{xL(this,t);break}case Q.IN_TABLE_BODY:{fA(this,t);break}case Q.IN_ROW:{dA(this,t);break}case Q.IN_CELL:{UVe(this,t);break}case Q.IN_SELECT:{Dse(this,t);break}case Q.IN_SELECT_IN_TABLE:{zVe(this,t);break}case Q.IN_TEMPLATE:{WVe(this,t);break}case Q.AFTER_BODY:{YVe(this,t);break}case Q.IN_FRAMESET:{GVe(this,t);break}case Q.AFTER_FRAMESET:{QVe(this,t);break}case Q.AFTER_AFTER_BODY:{JVe(this,t);break}case Q.AFTER_AFTER_FRAMESET:{ZVe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?r7e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{j0(this,t);break}case Q.BEFORE_HTML:{LUe(this,t);break}case Q.BEFORE_HEAD:{FUe(this,t);break}case Q.IN_HEAD:{jUe(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{UUe(this,t);break}case Q.AFTER_HEAD:{zUe(this,t);break}case Q.IN_BODY:{cA(this,t);break}case Q.TEXT:{AVe(this,t);break}case Q.IN_TABLE:{qv(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.IN_CAPTION:{jVe(this,t);break}case Q.IN_COLUMN_GROUP:{BVe(this,t);break}case Q.IN_TABLE_BODY:{Nk(this,t);break}case Q.IN_ROW:{kse(this,t);break}case Q.IN_CELL:{VVe(this,t);break}case Q.IN_SELECT:{$se(this,t);break}case Q.IN_SELECT_IN_TABLE:{HVe(this,t);break}case Q.IN_TEMPLATE:{qVe(this,t);break}case Q.AFTER_BODY:{Mse(this,t);break}case Q.IN_FRAMESET:{KVe(this,t);break}case Q.AFTER_FRAMESET:{XVe(this,t);break}case Q.AFTER_AFTER_BODY:{fE(this,t);break}}}onEof(t){switch(this.insertionMode){case Q.INITIAL:{j0(this,t);break}case Q.BEFORE_HTML:{Ky(this,t);break}case Q.BEFORE_HEAD:{Qy(this,t);break}case Q.IN_HEAD:{Xy(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Jy(this,t);break}case Q.AFTER_HEAD:{Zy(this,t);break}case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{Pse(this,t);break}case Q.TEXT:{PVe(this,t);break}case Q.IN_TABLE_TEXT:{B0(this,t);break}case Q.IN_TEMPLATE:{Lse(this,t);break}case Q.AFTER_BODY:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{SL(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===U.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.TEXT:case Q.IN_COLUMN_GROUP:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{this._insertCharacters(t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:case Q.AFTER_BODY:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{Sse(this,t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{_2(this,t);break}case Q.IN_TABLE_TEXT:{Ose(this,t);break}}}};function IUe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Ase(e,t),n}function CUe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function AUe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=SUe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=PUe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function PUe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function OUe(e,t,n){const r=e.treeAdapter.getTagName(t),i=Hg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===E.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function RUe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function TL(e,t){for(let n=0;n<TUe;n++){const r=IUe(e,t);if(!r)break;const i=CUe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=AUe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&OUe(e,o,s),RUe(e,i,r)}}function Rk(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function NUe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function kUe(e,t){e._appendCommentNode(t,e.document)}function SL(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function DUe(e,t){e._setDocumentType(t);const n=t.forceQuirks?So.QUIRKS:cUe(t);lUe(t)||e._err(t,_e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Q.BEFORE_HTML}function j0(e,t){e._err(t,_e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,So.QUIRKS),e.insertionMode=Q.BEFORE_HTML,e._processToken(t)}function $Ue(e,t){t.tagID===E.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=Q.BEFORE_HEAD):Ky(e,t)}function LUe(e,t){const n=t.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&Ky(e,t)}function Ky(e,t){e._insertFakeRootElement(),e.insertionMode=Q.BEFORE_HEAD,e._processToken(t)}function MUe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD;break}default:Qy(e,t)}}function FUe(e,t){const n=t.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?Qy(e,t):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Qy(e,t){e._insertFakeElement(fe.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD,e._processToken(t)}function cu(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Ur.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ur.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Ur.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Ur.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:Xy(e,t)}}function jUe(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{Xy(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function ep(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,_e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Xy(e,t){e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD,e._processToken(t)}function BUe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{cu(e,t);break}case E.NOSCRIPT:{e._err(t,_e.nestedNoscriptInHead);break}default:Jy(e,t)}}function UUe(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Q.IN_HEAD;break}case E.BR:{Jy(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Jy(e,t){const n=t.type===Qt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Q.IN_HEAD,e._processToken(t)}function VUe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,_e.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),cu(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:Zy(e,t)}}function zUe(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{Zy(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Zy(e,t){e._insertFakeElement(fe.BODY,E.BODY),e.insertionMode=Q.IN_BODY,lA(e,t)}function lA(e,t){switch(t.type){case Qt.CHARACTER:{xse(e,t);break}case Qt.WHITESPACE_CHARACTER:{Sse(e,t);break}case Qt.COMMENT:{Rk(e,t);break}case Qt.START_TAG:{hs(e,t);break}case Qt.END_TAG:{cA(e,t);break}case Qt.EOF:{Pse(e,t);break}}}function Sse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function xse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function HUe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function WUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function qUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_FRAMESET)}function YUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function GUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),hse(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function KUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function QUe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function XUe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===E.LI&&i===E.LI||(n===E.DD||n===E.DT)&&(i===E.DD||i===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==E.ADDRESS&&i!==E.DIV&&i!==E.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function JUe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=Ur.PLAINTEXT}function ZUe(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function eVe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(fe.A);n&&(TL(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function tVe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function nVe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(TL(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function rVe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function iVe(e,t){e.treeAdapter.getDocumentMode(e.document)!==So.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_TABLE}function Ise(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Cse(e){const t=cse(e,Df.TYPE);return t!=null&&t.toLowerCase()===EUe}function sVe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),Cse(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function oVe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function aVe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function uVe(e,t){t.tagName=fe.IMG,t.tagID=E.IMG,Ise(e,t)}function lVe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ur.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Q.TEXT}function cVe(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ur.RAWTEXT)}function fVe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ur.RAWTEXT)}function Oz(e,t){e._switchToTextParsing(t,Ur.RAWTEXT)}function dVe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Q.IN_TABLE||e.insertionMode===Q.IN_CAPTION||e.insertionMode===Q.IN_TABLE_BODY||e.insertionMode===Q.IN_ROW||e.insertionMode===Q.IN_CELL?Q.IN_SELECT_IN_TABLE:Q.IN_SELECT}function hVe(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function pVe(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function mVe(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,Ee.HTML)}function gVe(e,t){e._reconstructActiveFormattingElements(),wse(t),EL(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function yVe(e,t){e._reconstructActiveFormattingElements(),Ese(t),EL(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function Rz(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function hs(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{tVe(e,t);break}case E.A:{eVe(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{GUe(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{YUe(e,t);break}case E.LI:case E.DD:case E.DT:{XUe(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{Ise(e,t);break}case E.HR:{aVe(e,t);break}case E.RB:case E.RTC:{pVe(e,t);break}case E.RT:case E.RP:{mVe(e,t);break}case E.PRE:case E.LISTING:{KUe(e,t);break}case E.XMP:{cVe(e,t);break}case E.SVG:{yVe(e,t);break}case E.HTML:{HUe(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{cu(e,t);break}case E.BODY:{WUe(e,t);break}case E.FORM:{QUe(e,t);break}case E.NOBR:{nVe(e,t);break}case E.MATH:{gVe(e,t);break}case E.TABLE:{iVe(e,t);break}case E.INPUT:{sVe(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{oVe(e,t);break}case E.IMAGE:{uVe(e,t);break}case E.BUTTON:{ZUe(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{rVe(e,t);break}case E.IFRAME:{fVe(e,t);break}case E.SELECT:{dVe(e,t);break}case E.OPTION:case E.OPTGROUP:{hVe(e,t);break}case E.NOEMBED:{Oz(e,t);break}case E.FRAMESET:{qUe(e,t);break}case E.TEXTAREA:{lVe(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?Oz(e,t):Rz(e,t);break}case E.PLAINTEXT:{JUe(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:Rz(e,t)}}function vVe(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=Q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function _Ve(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=Q.AFTER_BODY,Mse(e,t))}function bVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function wVe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):n&&e.openElements.remove(n))}function EVe(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(fe.P,E.P),e._closePElement()}function TVe(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function SVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function xVe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function IVe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function CVe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(fe.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function Ase(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==E.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function cA(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{TL(e,t);break}case E.P:{EVe(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{bVe(e,t);break}case E.LI:{TVe(e);break}case E.DD:case E.DT:{SVe(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{xVe(e);break}case E.BR:{CVe(e);break}case E.BODY:{vVe(e,t);break}case E.HTML:{_Ve(e,t);break}case E.FORM:{wVe(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{IVe(e,t);break}case E.TEMPLATE:{ep(e,t);break}default:Ase(e,t)}}function Pse(e,t){e.tmplInsertionModeStack.length>0?Lse(e,t):SL(e,t)}function AVe(e,t){var n;t.tagID===E.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function PVe(e,t){e._err(t,_e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function _2(e,t){if(Tse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Q.IN_TABLE_TEXT,t.type){case Qt.CHARACTER:{Rse(e,t);break}case Qt.WHITESPACE_CHARACTER:{Ose(e,t);break}}else b1(e,t)}function OVe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_CAPTION}function RVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_COLUMN_GROUP}function NVe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.COLGROUP,E.COLGROUP),e.insertionMode=Q.IN_COLUMN_GROUP,xL(e,t)}function kVe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_TABLE_BODY}function DVe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.TBODY,E.TBODY),e.insertionMode=Q.IN_TABLE_BODY,fA(e,t)}function $Ve(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function LVe(e,t){Cse(t)?e._appendElement(t,Ee.HTML):b1(e,t),t.ackSelfClosing=!0}function MVe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ng(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{DVe(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{cu(e,t);break}case E.COL:{NVe(e,t);break}case E.FORM:{MVe(e,t);break}case E.TABLE:{$Ve(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{kVe(e,t);break}case E.INPUT:{LVe(e,t);break}case E.CAPTION:{OVe(e,t);break}case E.COLGROUP:{RVe(e,t);break}default:b1(e,t)}}function qv(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{ep(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:b1(e,t)}}function b1(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,lA(e,t),e.fosterParentingEnabled=n}function Ose(e,t){e.pendingCharacterTokens.push(t)}function Rse(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function B0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)b1(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Nse=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function FVe(e,t){const n=t.tagID;Nse.has(n)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,ng(e,t)):hs(e,t)}function jVe(e,t){const n=t.tagID;switch(n){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,n===E.TABLE&&qv(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:cA(e,t)}}function xL(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{cu(e,t);break}default:gx(e,t)}}function BVe(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case E.TEMPLATE:{ep(e,t);break}case E.COL:break;default:gx(e,t)}}function gx(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE,e._processToken(t))}function fA(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(fe.TR,E.TR),e.insertionMode=Q.IN_ROW,dA(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,ng(e,t));break}default:ng(e,t)}}function Nk(e,t){const n=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,qv(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:qv(e,t)}}function dA(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Q.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,fA(e,t));break}default:ng(e,t)}}function kse(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,Nk(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,Nk(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:qv(e,t)}}function UVe(e,t){const n=t.tagID;Nse.has(n)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),dA(e,t)):hs(e,t)}function VVe(e,t){const n=t.tagID;switch(n){case E.TD:case E.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),kse(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:cA(e,t)}}function Dse(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{cu(e,t);break}}}function $se(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{ep(e,t);break}}}function zVe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Dse(e,t)}function HVe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):$se(e,t)}function WVe(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{cu(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=Q.IN_TABLE,e.insertionMode=Q.IN_TABLE,ng(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=Q.IN_COLUMN_GROUP,e.insertionMode=Q.IN_COLUMN_GROUP,xL(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=Q.IN_TABLE_BODY,e.insertionMode=Q.IN_TABLE_BODY,fA(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=Q.IN_ROW,e.insertionMode=Q.IN_ROW,dA(e,t);break}default:e.tmplInsertionModeStack[0]=Q.IN_BODY,e.insertionMode=Q.IN_BODY,hs(e,t)}}function qVe(e,t){t.tagID===E.TEMPLATE&&ep(e,t)}function Lse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):SL(e,t)}function YVe(e,t){t.tagID===E.HTML?hs(e,t):yx(e,t)}function Mse(e,t){var n;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=Q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else yx(e,t)}function yx(e,t){e.insertionMode=Q.IN_BODY,lA(e,t)}function GVe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.FRAMESET:{e._insertElement(t,Ee.HTML);break}case E.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{cu(e,t);break}}}function KVe(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=Q.AFTER_FRAMESET))}function QVe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.NOFRAMES:{cu(e,t);break}}}function XVe(e,t){t.tagID===E.HTML&&(e.insertionMode=Q.AFTER_AFTER_FRAMESET)}function JVe(e,t){t.tagID===E.HTML?hs(e,t):fE(e,t)}function fE(e,t){e.insertionMode=Q.IN_BODY,lA(e,t)}function ZVe(e,t){switch(t.tagID){case E.HTML:{hs(e,t);break}case E.NOFRAMES:{cu(e,t);break}}}function e7e(e,t){t.chars=fr,e._insertCharacters(t)}function t7e(e,t){e._insertCharacters(t),e.framesetOk=!1}function Fse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function n7e(e,t){if(yUe(t))Fse(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?wse(t):r===Ee.SVG&&(vUe(t),Ese(t)),EL(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function r7e(e,t){if(t.tagID===E.P||t.tagID===E.BR){Fse(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}fe.AREA,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BR,fe.COL,fe.EMBED,fe.FRAME,fe.HR,fe.IMG,fe.INPUT,fe.KEYGEN,fe.LINK,fe.META,fe.PARAM,fe.SOURCE,fe.TRACK,fe.WBR;const jse=Bse("end"),tp=Bse("start");function Bse(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Use=function(e){if(e==null)return a7e;if(typeof e=="function")return hA(e);if(typeof e=="object")return Array.isArray(e)?i7e(e):s7e(e);if(typeof e=="string")return o7e(e);throw new Error("Expected function, string, or object as test")};function i7e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Use(e[n]);return hA(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function s7e(e){const t=e;return hA(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function o7e(e){return hA(t);function t(n){return n&&n.type===e}}function hA(e){return t;function t(n,r,i){return!!(u7e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function a7e(){return!0}function u7e(e){return e!==null&&typeof e=="object"&&"type"in e}const Vse=[],l7e=!0,Nz=!1,c7e="skip";function f7e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Use(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Vse,p,g,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=d7e(n(u,c)),h[0]===Nz))return h;if("children"in u&&u.children){const m=u;if(m.children&&h[0]!==c7e)for(g=(r?m.children.length:-1)+o,y=c.concat(m);g>-1&&g<m.children.length;){const v=m.children[g];if(p=a(v,g,y)(),p[0]===Nz)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function d7e(e){return Array.isArray(e)?e:typeof e=="number"?[l7e,e]:e==null?Vse:[e]}function h7e(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),f7e(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const p7e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),kz={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function zse(e,t){const n=S7e(e),r=sse("type",{handlers:{root:m7e,element:g7e,text:y7e,comment:Wse,doctype:v7e,raw:b7e},unknown:w7e}),i={parser:n?new Pz(kz):Pz.getFragmentParser(void 0,kz),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Wg(i,tp());const s=n?i.parser.document:i.parser.getFragment(),o=gBe(s,{file:i.options.file});return i.stitches&&h7e(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Hse(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function m7e(e,t){Hse(e.children,t)}function g7e(e,t){E7e(e,t),Hse(e.children,t),T7e(e,t)}function y7e(e,t){const n={type:Qt.CHARACTER,chars:e.value,location:w1(e)};Wg(t,tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function v7e(e,t){const n={type:Qt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:w1(e)};Wg(t,tp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function _7e(e,t){t.stitches=!0;const n=x7e(e);if("children"in e&&"children"in n){const r=zse({type:"root",children:e.children},t.options);n.children=r.children}Wse({type:"comment",value:{stitch:n}},t)}function Wse(e,t){const n=e.value,r={type:Qt.COMMENT,data:n,location:w1(e)};Wg(t,tp(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function b7e(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,qse(t,tp(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function w7e(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))_7e(n,t);else{let r="";throw p7e.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Wg(e,t){qse(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Ur.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function qse(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function E7e(e,t){if(t.parser.tokenizer.state===Ur.PLAINTEXT)return;Wg(t,tp(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Kd.html;r===Kd.html&&e.tagName==="svg"&&(r=Kd.svg);const i=wBe({...e,children:[]},{space:r===Kd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Qt.START_TAG,tagName:e.tagName,tagID:Hg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:w1(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function T7e(e,t){if(!t.parser.tokenizer.inForeignNode&&PBe.includes(e.tagName)||t.parser.tokenizer.state===Ur.PLAINTEXT)return;Wg(t,jse(e));const n={type:Qt.END_TAG,tagName:e.tagName,tagID:Hg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:w1(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Ur.RCDATA||t.parser.tokenizer.state===Ur.RAWTEXT||t.parser.tokenizer.state===Ur.SCRIPT_DATA)&&(t.parser.tokenizer.state=Ur.DATA)}function S7e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function w1(e){const t=tp(e)||{line:void 0,column:void 0,offset:void 0},n=jse(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function x7e(e){return"children"in e?yz({...e,children:[]}):yz(e)}function I7e(e){return function(t,n){return zse(t,{...e,file:n})}}function lo({text:e}){const t={img:({node:n,...r})=>C.jsx(s1,{...r}),p:({node:n,...r})=>C.jsx(ut,{...r,pb:8}),h1:({node:n,...r})=>C.jsx(ef,{order:1,...r,pb:12}),h2:({node:n,...r})=>C.jsx(ef,{order:2,...r,pb:12}),h3:({node:n,...r})=>C.jsx(ef,{order:3,...r,pb:12}),h4:({node:n,...r})=>C.jsx(ef,{order:4,...r,pb:12}),h5:({node:n,...r})=>C.jsx(ef,{order:5,...r,pb:12}),h6:({node:n,...r})=>C.jsx(ef,{order:6,...r,pb:12}),a:({node:n,...r})=>C.jsx(fJ,{...r}),ul:({node:n,...r})=>C.jsx(Jm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>C.jsx(Jm,{type:"ordered",withPadding:!0,...r,pb:8})};return C.jsx("div",{style:{display:"inherit"},children:C.jsx(Jie,{components:t,rehypePlugins:[I7e],children:e})})}function C7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return C.jsx(cS.Group,{label:C.jsx(lo,{text:r}),withAsterisk:i,...n,error:Jh(e,n,s),size:"md",children:C.jsx(jr,{mt:"md",children:s.map(o=>C.jsx(cS,{disabled:t,value:o.value,label:o.label},o.value))})})}function A7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return C.jsx(Fy,{disabled:t,label:C.jsx(lo,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Jh(e,n,o)})}function P7e({response:e,answer:t}){const{prompt:n}=e;return C.jsxs(C.Fragment,{children:[C.jsx(ut,{fz:"md",fw:500,children:C.jsx(lo,{text:n})}),C.jsx(Jm,{children:Array.isArray(t.value)&&t.value.map(r=>C.jsx(Jm.Item,{children:r},r))})]})}function Yse({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return C.jsxs(VS.Group,{name:`radioInput${e.id}`,label:C.jsx(lo,{text:r}),withAsterisk:i,size:"md",...n,error:Jh(e,n,s),children:[o?C.jsx(ut,{children:o}):null,C.jsx(jr,{mt:"xs",noWrap:!0,children:s.map(u=>C.jsx(VS,{disabled:t,value:u.value,label:u.label},u.label))}),C.jsx(ut,{children:a})]},e.id)}function O7e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return C.jsx(Yse,{disabled:t,response:s,answer:n})}function R7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return C.jsx(rne,{disabled:t,placeholder:a,label:C.jsx(lo,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Jh(e,n)})}function N7e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=Jh(e,n);return C.jsx(so.Wrapper,{withAsterisk:i,label:C.jsx(lo,{text:r}),error:o,size:"md",children:C.jsx(PC,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function k7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(Bv,{disabled:t,placeholder:r,label:C.jsx(lo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Jh(e,n)})}function D7e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(cte,{disabled:t,placeholder:r,label:C.jsx(lo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Jh(e,n)})}function $7e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=y3(),o=b.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return C.jsxs(st,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&C.jsx(R7e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&C.jsx(k7e,{response:e,disabled:o,answer:r}),e.type==="longText"&&C.jsx(D7e,{response:e,disabled:o,answer:r}),e.type==="likert"&&C.jsx(O7e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&C.jsx(A7e,{response:e,disabled:o,answer:r}),e.type==="slider"&&C.jsx(N7e,{response:e,disabled:o,answer:r}),e.type==="radio"&&C.jsx(Yse,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&C.jsx(C7e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&C.jsx(P7e,{response:e,answer:r})]})}function vx({config:e,location:t,status:n,style:r}){var y,m;const i=lu(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],u=fl(),{updateResponseBlockValidation:l}=cl(),c=$5e(a,i,s||{}),[f,d]=b.useState(!1),{iframeAnswers:h}=ga(v=>v),p=(((m=o==null?void 0:o.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return b.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),b.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:jg(c.values)}))},[c.values,i,t]),C.jsxs("div",{style:r,children:[a.map(v=>{var _,T;return C.jsx($.Fragment,{children:v.hidden?"":C.jsxs(C.Fragment,{children:[C.jsx($7e,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&C.jsx(ut,{children:`The correct answer is: ${(T=(_=o.correctAnswer)==null?void 0:_.find(x=>x.id===v.id))==null?void 0:T.answer}`})]})},`${v.id}-${i}`)}),C.jsxs(jr,{position:"right",spacing:"xs",mt:"xl",children:[p&&g&&C.jsx(_i,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&C.jsx(a5e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const tw="@REVISIT_COMMS",L7e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function M7e({currentConfig:e}){const{setIframeAnswers:t}=cl(),n=fl(),r=Qne(),i=b.useRef(null),s=b.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=lu(),a=fd(),u=b.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${tw}/${l}`,iframeId:s,message:c},"*")},[i,s]);return b.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${tw}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${tw}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${tw}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),C.jsx("div",{children:C.jsx("iframe",{ref:i,src:`${Sl}${e.path}?trialid=${o}&id=${s}`,style:L7e})})}const F7e={maxWidth:"100%"};function j7e({currentConfig:e}){const t={...F7e,...e.style};return C.jsx(s1,{mx:"auto",src:`${Sl}${e.path}`,style:t})}var B7e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},U7e=Object.defineProperty,V7e=Object.defineProperties,z7e=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,Gse=Object.prototype.hasOwnProperty,Kse=Object.prototype.propertyIsEnumerable,Dz=(e,t,n)=>t in e?U7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$z=(e,t)=>{for(var n in t||(t={}))Gse.call(t,n)&&Dz(e,n,t[n]);if(_x)for(var n of _x(t))Kse.call(t,n)&&Dz(e,n,t[n]);return e},H7e=(e,t)=>V7e(e,z7e(t)),W7e=(e,t)=>{var n={};for(var r in e)Gse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_x)for(var r of _x(e))t.indexOf(r)<0&&Kse.call(e,r)&&(n[r]=e[r]);return n},Il=(e,t,n)=>{const r=b.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=W7e(o,["color","size","stroke","children"]);return b.createElement("svg",$z(H7e($z({ref:s},B7e),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>b.createElement(d,h)),...c||[]])});return r.propTypes={color:vt.string,size:vt.oneOfType([vt.string,vt.number]),stroke:vt.oneOfType([vt.string,vt.number])},r.displayName=`${t}`,r},q7e=Il("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),Y7e=Il("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),Lz=Il("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),G7e=Il("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),K7e=Il("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),Q7e=Il("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),X7e=Il("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),J7e=Il("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),Mz=Il("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Qse=Il("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);function Z7e({columns:e,catColumns:t,onAdd:n,onAddHistogram:r}){const[i,s]=b.useState(!1),[o,a]=b.useState(null),[u,l]=b.useState(null),[c,f]=b.useState(null);return i?C.jsxs(Br,{children:[C.jsx(Fy,{data:e,onChange:d=>a(d),placeholder:"Select X Column"}),C.jsx(Fy,{data:e,onChange:d=>l(d),placeholder:"Select Y Column"}),C.jsx(_i,{disabled:!o||!u,onClick:()=>{n(o,u),s(!1)},children:"Create plot"}),C.jsx(Fy,{data:t,onChange:d=>f(d),placeholder:"Select X Column"}),C.jsx(_i,{disabled:!c,onClick:()=>{r(c),s(!1)},children:"Add Histogram"})]}):C.jsx(Br,{children:C.jsx(P3,{variant:"light",size:150,onClick:()=>s(!0),children:C.jsx(J7e,{size:50})})})}const eze=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:Z7e},Symbol.toStringTag,{value:"Module"}));function Fz({parameters:e,setAnswer:t}){return b.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(r=>{new MediaRecorder(r).start();const s=new AudioContext,o=s.createMediaStreamSource(r),a=s.createAnalyser();a.minDecibels=-45,o.connect(a);const u=a.frequencyBinCount,l=new Uint8Array(u);let c=!1;const f=()=>{if(!c){a.getByteFrequencyData(l);for(let d=0;d<u;d+=1)l[d]>0&&(c=!0,t({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(f)}};window.requestAnimationFrame(f)})},[t]),C.jsx(ma,{style:{height:"70%",width:"100%"},children:C.jsxs(Br,{children:[C.jsx(ut,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),C.jsx(ut,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),C.jsx(ut,{ta:"center",weight:700,children:"If you are not comfortable or able to speak English during this study, please close it now."})]})})}const tze=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Fz,default:Fz},Symbol.toStringTag,{value:"Module"}));function dE(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nze(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IL(e){let t,n,r;e.length!==2?(t=dE,n=(a,u)=>dE(e(a),u),r=(a,u)=>e(a)-u):(t=e===dE||e===nze?e:rze,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function rze(){return 0}function ize(e){return e===null?NaN:+e}const sze=IL(dE),oze=sze.right;IL(ize).center;function Yv(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class jz extends Map{constructor(t,n=lze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Bz(this,t))}has(t){return super.has(Bz(this,t))}set(t,n){return super.set(aze(this,t),n)}delete(t){return super.delete(uze(this,t))}}function Bz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function aze({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function uze({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lze(e){return e!==null&&typeof e=="object"?e.valueOf():e}const cze=Math.sqrt(50),fze=Math.sqrt(10),dze=Math.sqrt(2);function bx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=cze?10:s>=fze?5:s>=dze?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?bx(e,t,n*2):[a,u,l]}function hze(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?bx(t,e,n):bx(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function kk(e,t,n){return t=+t,e=+e,n=+n,bx(e,t,n)[2]}function Dk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kk(t,e,n):kk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function pze(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function mze(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var gze={value:()=>{}};function CL(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new hE(n)}function hE(e){this._=e}function yze(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}hE.prototype=CL.prototype={constructor:hE,on:function(e,t){var n=this._,r=yze(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=vze(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Uz(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Uz(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new hE(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function vze(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Uz(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=gze,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $k="http://www.w3.org/1999/xhtml";const Vz={svg:"http://www.w3.org/2000/svg",xhtml:$k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pA(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vz.hasOwnProperty(t)?{space:Vz[t],local:e}:e}function _ze(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$k&&t.documentElement.namespaceURI===$k?t.createElement(e):t.createElementNS(n,e)}}function bze(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xse(e){var t=pA(e);return(t.local?bze:_ze)(t)}function wze(){}function AL(e){return e==null?wze:function(){return this.querySelector(e)}}function Eze(e){typeof e!="function"&&(e=AL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Ss(r,this._parents)}function Jse(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Tze(){return[]}function Zse(e){return e==null?Tze:function(){return this.querySelectorAll(e)}}function Sze(e){return function(){return Jse(e.apply(this,arguments))}}function xze(e){typeof e=="function"?e=Sze(e):e=Zse(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new Ss(r,i)}function eoe(e){return function(){return this.matches(e)}}function toe(e){return function(t){return t.matches(e)}}var Ize=Array.prototype.find;function Cze(e){return function(){return Ize.call(this.children,e)}}function Aze(){return this.firstElementChild}function Pze(e){return this.select(e==null?Aze:Cze(typeof e=="function"?e:toe(e)))}var Oze=Array.prototype.filter;function Rze(){return Array.from(this.children)}function Nze(e){return function(){return Oze.call(this.children,e)}}function kze(e){return this.selectAll(e==null?Rze:Nze(typeof e=="function"?e:toe(e)))}function Dze(e){typeof e!="function"&&(e=eoe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ss(r,this._parents)}function noe(e){return new Array(e.length)}function $ze(){return new Ss(this._enter||this._groups.map(noe),this._parents)}function wx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wx.prototype={constructor:wx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Lze(e){return function(){return e}}function Mze(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new wx(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function Fze(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new wx(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function jze(e){return e.__data__}function Bze(e,t){if(!arguments.length)return Array.from(this,jze);var n=t?Fze:Mze,r=this._parents,i=this._groups;typeof e!="function"&&(e=Lze(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=Uze(e.call(c,c&&c.__data__,l,r)),p=h.length,g=a[l]=new Array(p),y=o[l]=new Array(p),m=u[l]=new Array(d);n(c,f,g,y,m,h,t);for(var v=0,_=0,T,x;v<p;++v)if(T=g[v]){for(v>=_&&(_=v+1);!(x=y[_])&&++_<p;);T._next=x||null}}return o=new Ss(o,r),o._enter=a,o._exit=u,o}function Uze(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vze(){return new Ss(this._exit||this._groups.map(noe),this._parents)}function zze(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Hze(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Ss(a,this._parents)}function Wze(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function qze(e){e||(e=Yze);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Ss(i,this._parents).order()}function Yze(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Gze(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Kze(){return Array.from(this)}function Qze(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Xze(){let e=0;for(const t of this)++e;return e}function Jze(){return!this.node()}function Zze(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function eHe(e){return function(){this.removeAttribute(e)}}function tHe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nHe(e,t){return function(){this.setAttribute(e,t)}}function rHe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function iHe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function sHe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function oHe(e,t){var n=pA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?tHe:eHe:typeof t=="function"?n.local?sHe:iHe:n.local?rHe:nHe)(n,t))}function roe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aHe(e){return function(){this.style.removeProperty(e)}}function uHe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lHe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function cHe(e,t,n){return arguments.length>1?this.each((t==null?aHe:typeof t=="function"?lHe:uHe)(e,t,n??"")):rg(this.node(),e)}function rg(e,t){return e.style.getPropertyValue(t)||roe(e).getComputedStyle(e,null).getPropertyValue(t)}function fHe(e){return function(){delete this[e]}}function dHe(e,t){return function(){this[e]=t}}function hHe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pHe(e,t){return arguments.length>1?this.each((t==null?fHe:typeof t=="function"?hHe:dHe)(e,t)):this.node()[e]}function ioe(e){return e.trim().split(/^|\s+/)}function PL(e){return e.classList||new soe(e)}function soe(e){this._node=e,this._names=ioe(e.getAttribute("class")||"")}soe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ooe(e,t){for(var n=PL(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function aoe(e,t){for(var n=PL(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function mHe(e){return function(){ooe(this,e)}}function gHe(e){return function(){aoe(this,e)}}function yHe(e,t){return function(){(t.apply(this,arguments)?ooe:aoe)(this,e)}}function vHe(e,t){var n=ioe(e+"");if(arguments.length<2){for(var r=PL(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?yHe:t?mHe:gHe)(n,t))}function _He(){this.textContent=""}function bHe(e){return function(){this.textContent=e}}function wHe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function EHe(e){return arguments.length?this.each(e==null?_He:(typeof e=="function"?wHe:bHe)(e)):this.node().textContent}function THe(){this.innerHTML=""}function SHe(e){return function(){this.innerHTML=e}}function xHe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function IHe(e){return arguments.length?this.each(e==null?THe:(typeof e=="function"?xHe:SHe)(e)):this.node().innerHTML}function CHe(){this.nextSibling&&this.parentNode.appendChild(this)}function AHe(){return this.each(CHe)}function PHe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OHe(){return this.each(PHe)}function RHe(e){var t=typeof e=="function"?e:Xse(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function NHe(){return null}function kHe(e,t){var n=typeof e=="function"?e:Xse(e),r=t==null?NHe:typeof t=="function"?t:AL(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function DHe(){var e=this.parentNode;e&&e.removeChild(this)}function $He(){return this.each(DHe)}function LHe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function MHe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FHe(e){return this.select(e?MHe:LHe)}function jHe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function BHe(e){return function(t){e.call(this,t,this.__data__)}}function UHe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function VHe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function zHe(e,t,n){return function(){var r=this.__on,i,s=BHe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function HHe(e,t,n){var r=UHe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?zHe:VHe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function uoe(e,t,n){var r=roe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function WHe(e,t){return function(){return uoe(this,e,t)}}function qHe(e,t){return function(){return uoe(this,e,t.apply(this,arguments))}}function YHe(e,t){return this.each((typeof t=="function"?qHe:WHe)(e,t))}function*GHe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var OL=[null];function Ss(e,t){this._groups=e,this._parents=t}function E1(){return new Ss([[document.documentElement]],OL)}function KHe(){return this}Ss.prototype=E1.prototype={constructor:Ss,select:Eze,selectAll:xze,selectChild:Pze,selectChildren:kze,filter:Dze,data:Bze,enter:$ze,exit:Vze,join:zze,merge:Hze,selection:KHe,order:Wze,sort:qze,call:Gze,nodes:Kze,node:Qze,size:Xze,empty:Jze,each:Zze,attr:oHe,style:cHe,property:pHe,classed:vHe,text:EHe,html:IHe,raise:AHe,lower:OHe,append:RHe,insert:kHe,remove:$He,clone:FHe,datum:jHe,on:HHe,dispatch:YHe,[Symbol.iterator]:GHe};function Gr(e){return typeof e=="string"?new Ss([[document.querySelector(e)]],[document.documentElement]):new Ss([[e]],OL)}function QHe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Lk(e,t){if(e=QHe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function XHe(e){return typeof e=="string"?new Ss([document.querySelectorAll(e)],[document.documentElement]):new Ss([Jse(e)],OL)}const Mk={capture:!0,passive:!1};function Fk(e){e.preventDefault(),e.stopImmediatePropagation()}function JHe(e){var t=e.document.documentElement,n=Gr(e).on("dragstart.drag",Fk,Mk);"onselectstart"in t?n.on("selectstart.drag",Fk,Mk):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ZHe(e,t){var n=e.document.documentElement,r=Gr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Fk,Mk),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function RL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function loe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function T1(){}var Kv=.7,Ex=1/Kv,Im="\\s*([+-]?\\d+)\\s*",Qv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",el="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eWe=/^#([0-9a-f]{3,8})$/,tWe=new RegExp(`^rgb\\(${Im},${Im},${Im}\\)$`),nWe=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),rWe=new RegExp(`^rgba\\(${Im},${Im},${Im},${Qv}\\)$`),iWe=new RegExp(`^rgba\\(${el},${el},${el},${Qv}\\)$`),sWe=new RegExp(`^hsl\\(${Qv},${el},${el}\\)$`),oWe=new RegExp(`^hsla\\(${Qv},${el},${el},${Qv}\\)$`),zz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RL(T1,Oh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hz,formatHex:Hz,formatHex8:aWe,formatHsl:uWe,formatRgb:Wz,toString:Wz});function Hz(){return this.rgb().formatHex()}function aWe(){return this.rgb().formatHex8()}function uWe(){return coe(this).formatHsl()}function Wz(){return this.rgb().formatRgb()}function Oh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eWe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qz(t):n===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tWe.exec(e))?new Js(t[1],t[2],t[3],1):(t=nWe.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rWe.exec(e))?nw(t[1],t[2],t[3],t[4]):(t=iWe.exec(e))?nw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sWe.exec(e))?Kz(t[1],t[2]/100,t[3]/100,1):(t=oWe.exec(e))?Kz(t[1],t[2]/100,t[3]/100,t[4]):zz.hasOwnProperty(e)?qz(zz[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function qz(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function nw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Js(e,t,n,r)}function lWe(e){return e instanceof T1||(e=Oh(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function jk(e,t,n,r){return arguments.length===1?lWe(e):new Js(e,t,n,r??1)}function Js(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}RL(Js,jk,loe(T1,{brighter(e){return e=e==null?Ex:Math.pow(Ex,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(hh(this.r),hh(this.g),hh(this.b),Tx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yz,formatHex:Yz,formatHex8:cWe,formatRgb:Gz,toString:Gz}));function Yz(){return`#${Qd(this.r)}${Qd(this.g)}${Qd(this.b)}`}function cWe(){return`#${Qd(this.r)}${Qd(this.g)}${Qd(this.b)}${Qd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gz(){const e=Tx(this.opacity);return`${e===1?"rgb(":"rgba("}${hh(this.r)}, ${hh(this.g)}, ${hh(this.b)}${e===1?")":`, ${e})`}`}function Tx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qd(e){return e=hh(e),(e<16?"0":"")+e.toString(16)}function Kz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function coe(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof T1||(e=Oh(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Va(o,a,u,e.opacity)}function fWe(e,t,n,r){return arguments.length===1?coe(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}RL(Va,fWe,loe(T1,{brighter(e){return e=e==null?Ex:Math.pow(Ex,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Js(b2(e>=240?e-240:e+120,i,r),b2(e,i,r),b2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Va(Qz(this.h),rw(this.s),rw(this.l),Tx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tx(this.opacity);return`${e===1?"hsl(":"hsla("}${Qz(this.h)}, ${rw(this.s)*100}%, ${rw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qz(e){return e=(e||0)%360,e<0?e+360:e}function rw(e){return Math.max(0,Math.min(1,e||0))}function b2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const NL=e=>()=>e;function dWe(e,t){return function(n){return e+n*t}}function hWe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pWe(e){return(e=+e)==1?foe:function(t,n){return n-t?hWe(t,n,e):NL(isNaN(t)?n:t)}}function foe(e,t){var n=t-e;return n?dWe(e,n):NL(isNaN(e)?t:e)}const Sx=function e(t){var n=pWe(t);function r(i,s){var o=n((i=jk(i)).r,(s=jk(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=foe(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function mWe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function gWe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yWe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=mA(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function vWe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _We(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=mA(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Bk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w2=new RegExp(Bk.source,"g");function bWe(e){return function(){return e}}function wWe(e){return function(t){return e(t)+""}}function doe(e,t){var n=Bk.lastIndex=w2.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Bk.exec(e))&&(i=w2.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Fa(r,i)})),n=w2.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?wWe(u[0].x):bWe(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function mA(e,t){var n=typeof t,r;return t==null||n==="boolean"?NL(t):(n==="number"?Fa:n==="string"?(r=Oh(t))?(t=r,Sx):doe:t instanceof Oh?Sx:t instanceof Date?vWe:gWe(t)?mWe:Array.isArray(t)?yWe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_We:Fa)(e,t)}function EWe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Xz=180/Math.PI,Uk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hoe(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Xz,skewX:Math.atan(u)*Xz,scaleX:o,scaleY:a}}var iw;function TWe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uk:hoe(t.a,t.b,t.c,t.d,t.e,t.f)}function SWe(e){return e==null||(iw||(iw=document.createElementNS("http://www.w3.org/2000/svg","g")),iw.setAttribute("transform",e),!(e=iw.transform.baseVal.consolidate()))?Uk:(e=e.matrix,hoe(e.a,e.b,e.c,e.d,e.e,e.f))}function poe(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Fa(l,f)},{i:g-2,x:Fa(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Fa(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Fa(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Fa(l,f)},{i:g-2,x:Fa(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var xWe=poe(TWe,"px, ","px)","deg)"),IWe=poe(SWe,", ",")",")"),ig=0,hy=0,U0=0,moe=1e3,xx,py,Ix=0,Rh=0,gA=0,Xv=typeof performance=="object"&&performance.now?performance:Date,goe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kL(){return Rh||(goe(CWe),Rh=Xv.now()+gA)}function CWe(){Rh=0}function Cx(){this._call=this._time=this._next=null}Cx.prototype=yoe.prototype={constructor:Cx,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?kL():+n)+(t==null?0:+t),!this._next&&py!==this&&(py?py._next=this:xx=this,py=this),this._call=e,this._time=n,Vk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vk())}};function yoe(e,t,n){var r=new Cx;return r.restart(e,t,n),r}function AWe(){kL(),++ig;for(var e=xx,t;e;)(t=Rh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ig}function Jz(){Rh=(Ix=Xv.now())+gA,ig=hy=0;try{AWe()}finally{ig=0,OWe(),Rh=0}}function PWe(){var e=Xv.now(),t=e-Ix;t>moe&&(gA-=t,Ix=e)}function OWe(){for(var e,t=xx,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xx=n);py=e,Vk(r)}function Vk(e){if(!ig){hy&&(hy=clearTimeout(hy));var t=e-Rh;t>24?(e<1/0&&(hy=setTimeout(Jz,e-Xv.now()-gA)),U0&&(U0=clearInterval(U0))):(U0||(Ix=Xv.now(),U0=setInterval(PWe,moe)),ig=1,goe(Jz))}}function Zz(e,t,n){var r=new Cx;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var RWe=CL("start","end","cancel","interrupt"),NWe=[],voe=0,eH=1,zk=2,pE=3,tH=4,Hk=5,mE=6;function yA(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;kWe(e,n,{name:t,index:r,group:i,on:RWe,tween:NWe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:voe})}function DL(e,t){var n=fu(e,t);if(n.state>voe)throw new Error("too late; already scheduled");return n}function Cl(e,t){var n=fu(e,t);if(n.state>pE)throw new Error("too late; already running");return n}function fu(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kWe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=yoe(s,0,n.time);function s(l){n.state=eH,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==eH)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===pE)return Zz(o);h.state===tH?(h.state=mE,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=mE,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Zz(function(){n.state===pE&&(n.state=tH,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=zk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zk){for(n.state=pE,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Hk,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Hk&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=mE,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Wk(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>zk&&r.state<Hk,r.state=mE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function DWe(e){return this.each(function(){Wk(this,e)})}function $We(e,t){var n,r;return function(){var i=Cl(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function LWe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Cl(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function MWe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fu(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?$We:LWe)(n,e,t))}function $L(e,t,n){var r=e._id;return e.each(function(){var i=Cl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fu(i,r).value[t]}}function _oe(e,t){var n;return(typeof t=="number"?Fa:t instanceof Oh?Sx:(n=Oh(t))?(t=n,Sx):doe)(e,t)}function FWe(e){return function(){this.removeAttribute(e)}}function jWe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BWe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function UWe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function VWe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function zWe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function HWe(e,t){var n=pA(e),r=n==="transform"?IWe:_oe;return this.attrTween(e,typeof t=="function"?(n.local?zWe:VWe)(n,r,$L(this,"attr."+e,t)):t==null?(n.local?jWe:FWe)(n):(n.local?UWe:BWe)(n,r,t))}function WWe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qWe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function YWe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&qWe(e,s)),n}return i._value=t,i}function GWe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&WWe(e,s)),n}return i._value=t,i}function KWe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=pA(e);return this.tween(n,(r.local?YWe:GWe)(r,t))}function QWe(e,t){return function(){DL(this,e).delay=+t.apply(this,arguments)}}function XWe(e,t){return t=+t,function(){DL(this,e).delay=t}}function JWe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?QWe:XWe)(t,e)):fu(this.node(),t).delay}function ZWe(e,t){return function(){Cl(this,e).duration=+t.apply(this,arguments)}}function eqe(e,t){return t=+t,function(){Cl(this,e).duration=t}}function tqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ZWe:eqe)(t,e)):fu(this.node(),t).duration}function nqe(e,t){if(typeof t!="function")throw new Error;return function(){Cl(this,e).ease=t}}function rqe(e){var t=this._id;return arguments.length?this.each(nqe(t,e)):fu(this.node(),t).ease}function iqe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Cl(this,e).ease=n}}function sqe(e){if(typeof e!="function")throw new Error;return this.each(iqe(this._id,e))}function oqe(e){typeof e!="function"&&(e=eoe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new fc(r,this._parents,this._name,this._id)}function aqe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new fc(o,this._parents,this._name,this._id)}function uqe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function lqe(e,t,n){var r,i,s=uqe(t)?DL:Cl;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function cqe(e,t){var n=this._id;return arguments.length<2?fu(this.node(),n).on.on(e):this.each(lqe(n,e,t))}function fqe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function dqe(){return this.on("end.remove",fqe(this._id))}function hqe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=AL(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,yA(l[d],t,n,d,l,fu(c,n)));return new fc(s,this._parents,t,n)}function pqe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zse(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=fu(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&yA(h,t,n,g,d,p);s.push(d),o.push(c)}return new fc(s,o,t,n)}var mqe=E1.prototype.constructor;function gqe(){return new mqe(this._groups,this._parents)}function yqe(e,t){var n,r,i;return function(){var s=rg(this,e),o=(this.style.removeProperty(e),rg(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function boe(e){return function(){this.style.removeProperty(e)}}function vqe(e,t,n){var r,i=n+"",s;return function(){var o=rg(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function _qe(e,t,n){var r,i,s;return function(){var o=rg(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),rg(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function bqe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Cl(this,e),l=u.on,c=u.value[s]==null?a||(a=boe(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function wqe(e,t,n){var r=(e+="")=="transform"?xWe:_oe;return t==null?this.styleTween(e,yqe(e,r)).on("end.style."+e,boe(e)):typeof t=="function"?this.styleTween(e,_qe(e,r,$L(this,"style."+e,t))).each(bqe(this._id,e)):this.styleTween(e,vqe(e,r,t),n).on("end.style."+e,null)}function Eqe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tqe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Eqe(e,o,n)),r}return s._value=t,s}function Sqe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Tqe(e,t,n??""))}function xqe(e){return function(){this.textContent=e}}function Iqe(e){return function(){var t=e(this);this.textContent=t??""}}function Cqe(e){return this.tween("text",typeof e=="function"?Iqe($L(this,"text",e)):xqe(e==null?"":e+""))}function Aqe(e){return function(t){this.textContent=e.call(this,t)}}function Pqe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Aqe(i)),t}return r._value=e,r}function Oqe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pqe(e))}function Rqe(){for(var e=this._name,t=this._id,n=woe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=fu(u,t);yA(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fc(r,this._parents,e,n)}function Nqe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Cl(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var kqe=0;function fc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function woe(){return++kqe}var Rl=E1.prototype;fc.prototype={constructor:fc,select:hqe,selectAll:pqe,selectChild:Rl.selectChild,selectChildren:Rl.selectChildren,filter:oqe,merge:aqe,selection:gqe,transition:Rqe,call:Rl.call,nodes:Rl.nodes,node:Rl.node,size:Rl.size,empty:Rl.empty,each:Rl.each,on:cqe,attr:HWe,attrTween:KWe,style:wqe,styleTween:Sqe,text:Cqe,textTween:Oqe,remove:dqe,tween:MWe,delay:JWe,duration:tqe,ease:rqe,easeVarying:sqe,end:Nqe,[Symbol.iterator]:Rl[Symbol.iterator]};const Dqe=e=>+e;function $qe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lqe={time:null,delay:0,duration:250,ease:$qe};function Mqe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Fqe(e){var t,n;e instanceof fc?(t=e._id,e=e._name):(t=woe(),(n=Lqe).time=kL(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&yA(u,e,t,l,o,n||Mqe(u,t));return new fc(r,this._parents,e,t)}E1.prototype.interrupt=DWe;E1.prototype.transition=Fqe;const E2=e=>()=>e;function jqe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Bqe(e){e.stopImmediatePropagation()}function T2(e){e.preventDefault(),e.stopImmediatePropagation()}var nH={name:"drag"},S2={name:"space"},bp={name:"handle"},wp={name:"center"};const{abs:rH,max:Qi,min:Xi}=Math;function iH(e){return[+e[0],+e[1]]}function qk(e){return[iH(e[0]),iH(e[1])]}var gE={name:"x",handles:["w","e"].map(Jv),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},yE={name:"y",handles:["n","s"].map(Jv),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Uqe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Jv),input:function(e){return e==null?null:qk(e)},output:function(e){return e}},Nl={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},sH={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},oH={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Vqe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},zqe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Jv(e){return{type:e}}function Hqe(e){return!e.ctrlKey&&!e.button}function Wqe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function qqe(){return navigator.maxTouchPoints||"ontouchstart"in this}function x2(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Yqe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Gqe(){return LL(gE)}function Kqe(){return LL(yE)}function Qqe(){return LL(Uqe)}function LL(e){var t=Wqe,n=Hqe,r=qqe,i=!0,s=CL("start","brush","end"),o=6,a;function u(y){var m=y.property("__brush",g).selectAll(".overlay").data([Jv("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Nl.overlay).merge(m).each(function(){var _=x2(this).extent;Gr(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([Jv("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Nl.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=y.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Nl[_.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,m,v){y.tween?y.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,T=_.__brush,x=c(_,arguments),w=T.selection,S=e.input(typeof m=="function"?m.apply(this,arguments):m,T.extent),I=mA(w,S);function k(D){T.selection=D===1&&S===null?null:I(D),l.call(_),x.brush()}return w!==null&&S!==null?k:k(1)}):y.each(function(){var _=this,T=arguments,x=_.__brush,w=e.input(typeof m=="function"?m.apply(_,T):m,x.extent),S=c(_,T).beforestart();Wk(_),x.selection=w===null?null:w,l.call(_),S.start(v).brush(v).end(v)})},u.clear=function(y,m){u.move(y,null,m)};function l(){var y=Gr(this),m=x2(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?m[1][1]-m[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,v){var _=y.__brush.emitter;return _&&(!v||!_.clean)?_:new f(y,m,v)}function f(y,m,v){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,v){var _=Gr(this.that).datum();s.call(y,this.that,new jqe(y,{sourceEvent:m,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,v=y.target.__data__.type,_=(i&&y.metaKey?v="overlay":v)==="selection"?nH:i&&y.altKey?wp:bp,T=e===yE?null:Vqe[v],x=e===gE?null:zqe[v],w=x2(m),S=w.extent,I=w.selection,k=S[0][0],D,M,O=S[0][1],B,N,ee=S[1][0],te,se,X=S[1][1],re,A,H=0,G=0,P,R=T&&x&&i&&y.shiftKey,L,Y,le=Array.from(y.touches||[y],Ie=>{const Ye=Ie.identifier;return Ie=Lk(Ie,m),Ie.point0=Ie.slice(),Ie.identifier=Ye,Ie});Wk(m);var ce=c(m,arguments,!0).beforestart();if(v==="overlay"){I&&(P=!0);const Ie=[le[0],le[1]||le[0]];w.selection=I=[[D=e===yE?k:Xi(Ie[0][0],Ie[1][0]),B=e===gE?O:Xi(Ie[0][1],Ie[1][1])],[te=e===yE?ee:Qi(Ie[0][0],Ie[1][0]),re=e===gE?X:Qi(Ie[0][1],Ie[1][1])]],le.length>1&&We(y)}else D=I[0][0],B=I[0][1],te=I[1][0],re=I[1][1];M=D,N=B,se=te,A=re;var de=Gr(m).attr("pointer-events","none"),me=de.selectAll(".overlay").attr("cursor",Nl[v]);if(y.touches)ce.moved=ye,ce.ended=Qe;else{var we=Gr(y.view).on("mousemove.brush",ye,!0).on("mouseup.brush",Qe,!0);i&&we.on("keydown.brush",gt,!0).on("keyup.brush",De,!0),JHe(y.view)}l.call(m),ce.start(y,_.name);function ye(Ie){for(const Ye of Ie.changedTouches||[Ie])for(const Yt of le)Yt.identifier===Ye.identifier&&(Yt.cur=Lk(Ye,m));if(R&&!L&&!Y&&le.length===1){const Ye=le[0];rH(Ye.cur[0]-Ye[0])>rH(Ye.cur[1]-Ye[1])?Y=!0:L=!0}for(const Ye of le)Ye.cur&&(Ye[0]=Ye.cur[0],Ye[1]=Ye.cur[1]);P=!0,T2(Ie),We(Ie)}function We(Ie){const Ye=le[0],Yt=Ye.point0;var zt;switch(H=Ye[0]-Yt[0],G=Ye[1]-Yt[1],_){case S2:case nH:{T&&(H=Qi(k-D,Xi(ee-te,H)),M=D+H,se=te+H),x&&(G=Qi(O-B,Xi(X-re,G)),N=B+G,A=re+G);break}case bp:{le[1]?(T&&(M=Qi(k,Xi(ee,le[0][0])),se=Qi(k,Xi(ee,le[1][0])),T=1),x&&(N=Qi(O,Xi(X,le[0][1])),A=Qi(O,Xi(X,le[1][1])),x=1)):(T<0?(H=Qi(k-D,Xi(ee-D,H)),M=D+H,se=te):T>0&&(H=Qi(k-te,Xi(ee-te,H)),M=D,se=te+H),x<0?(G=Qi(O-B,Xi(X-B,G)),N=B+G,A=re):x>0&&(G=Qi(O-re,Xi(X-re,G)),N=B,A=re+G));break}case wp:{T&&(M=Qi(k,Xi(ee,D-H*T)),se=Qi(k,Xi(ee,te+H*T))),x&&(N=Qi(O,Xi(X,B-G*x)),A=Qi(O,Xi(X,re+G*x)));break}}se<M&&(T*=-1,zt=D,D=te,te=zt,zt=M,M=se,se=zt,v in sH&&me.attr("cursor",Nl[v=sH[v]])),A<N&&(x*=-1,zt=B,B=re,re=zt,zt=N,N=A,A=zt,v in oH&&me.attr("cursor",Nl[v=oH[v]])),w.selection&&(I=w.selection),L&&(M=I[0][0],se=I[1][0]),Y&&(N=I[0][1],A=I[1][1]),(I[0][0]!==M||I[0][1]!==N||I[1][0]!==se||I[1][1]!==A)&&(w.selection=[[M,N],[se,A]],l.call(m),ce.brush(Ie,_.name))}function Qe(Ie){if(Bqe(Ie),Ie.touches){if(Ie.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else ZHe(Ie.view,P),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);de.attr("pointer-events","all"),me.attr("cursor",Nl.overlay),w.selection&&(I=w.selection),Yqe(I)&&(w.selection=null,l.call(m)),ce.end(Ie,_.name)}function gt(Ie){switch(Ie.keyCode){case 16:{R=T&&x;break}case 18:{_===bp&&(T&&(te=se-H*T,D=M+H*T),x&&(re=A-G*x,B=N+G*x),_=wp,We(Ie));break}case 32:{(_===bp||_===wp)&&(T<0?te=se-H:T>0&&(D=M-H),x<0?re=A-G:x>0&&(B=N-G),_=S2,me.attr("cursor",Nl.selection),We(Ie));break}default:return}T2(Ie)}function De(Ie){switch(Ie.keyCode){case 16:{R&&(L=Y=R=!1,We(Ie));break}case 18:{_===wp&&(T<0?te=se:T>0&&(D=M),x<0?re=A:x>0&&(B=N),_=bp,We(Ie));break}case 32:{_===S2&&(Ie.altKey?(T&&(te=se-H*T,D=M+H*T),x&&(re=A-G*x,B=N+G*x),_=wp):(T<0?te=se:T>0&&(D=M),x<0?re=A:x>0&&(B=N),_=bp),me.attr("cursor",Nl[v]),We(Ie));break}default:return}T2(Ie)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=qk(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:E2(qk(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:E2(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:E2(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const Yk=Math.PI,Gk=2*Yk,Rd=1e-6,Xqe=Gk-Rd;function Eoe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jqe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Eoe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zqe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Eoe:Jqe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Rd)if(!(Math.abs(f*u-l*c)>Rd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,g=u*u+l*l,y=h*h+p*p,m=Math.sqrt(g),v=Math.sqrt(d),_=s*Math.tan((Yk-Math.acos((g+d-y)/(2*m*v)))/2),T=_/v,x=_/m;Math.abs(T-1)>Rd&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+x*u},${this._y1=n+x*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Rd||Math.abs(this._y1-c)>Rd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Gk+Gk),d>Xqe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Rd&&this._append`A${r},${r},0,${+(d>=Yk)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var aH={},I2={},C2=34,V0=10,A2=13;function Toe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function eYe(e,t){var n=Toe(e);return function(r,i){return t(n(r),i,e)}}function uH(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function js(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function tYe(e){return e<0?"-"+js(-e,6):e>9999?"+"+js(e,6):js(e,4)}function nYe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":tYe(e.getUTCFullYear())+"-"+js(e.getUTCMonth()+1,2)+"-"+js(e.getUTCDate(),2)+(i?"T"+js(t,2)+":"+js(n,2)+":"+js(r,2)+"."+js(i,3)+"Z":r?"T"+js(t,2)+":"+js(n,2)+":"+js(r,2)+"Z":n||t?"T"+js(t,2)+":"+js(n,2)+"Z":"")}function rYe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?eYe(y,d):Toe(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,v=p<=0,_=!1;f.charCodeAt(p-1)===V0&&--p,f.charCodeAt(p-1)===A2&&--p;function T(){if(v)return I2;if(_)return _=!1,aH;var w,S=g,I;if(f.charCodeAt(S)===C2){for(;g++<p&&f.charCodeAt(g)!==C2||f.charCodeAt(++g)===C2;);return(w=g)>=p?v=!0:(I=f.charCodeAt(g++))===V0?_=!0:I===A2&&(_=!0,f.charCodeAt(g)===V0&&++g),f.slice(S+1,w-1).replace(/""/g,'"')}for(;g<p;){if((I=f.charCodeAt(w=g++))===V0)_=!0;else if(I===A2)_=!0,f.charCodeAt(g)===V0&&++g;else if(I!==n)continue;return f.slice(S,w)}return v=!0,f.slice(S,p)}for(;(m=T())!==I2;){for(var x=[];m!==aH&&m!==I2;)x.push(m),m=T();d&&(x=d(x,y++))==null||h.push(x)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=uH(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=uH(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?nYe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var iYe=rYe(","),sYe=iYe.parse;function oYe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function aYe(e,t){return fetch(e,t).then(oYe)}function uYe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),aYe(t,n).then(function(i){return e(i,r)})}}var lYe=uYe(sYe);function cYe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ax(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sg(e){return e=Ax(Math.abs(e)),e?e[1]:NaN}function fYe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function dYe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var hYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Px(e){if(!(t=hYe.exec(e)))throw new Error("invalid format: "+e);var t;return new ML({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Px.prototype=ML.prototype;function ML(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ML.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pYe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Soe;function mYe(e,t){var n=Ax(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Soe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ax(e,Math.max(0,t+s-1))[0]}function lH(e,t){var n=Ax(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cYe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lH(e*100,t),r:lH,s:mYe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fH(e){return e}var dH=Array.prototype.map,hH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gYe(e){var t=e.grouping===void 0||e.thousands===void 0?fH:fYe(dH.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?fH:dYe(dH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Px(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,v=f.comma,_=f.precision,T=f.trim,x=f.type;x==="n"?(v=!0,x="g"):cH[x]||(_===void 0&&(_=12),T=!0,x="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=g==="$"?r:/[%p]/.test(x)?o:"",I=cH[x],k=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(M){var O=w,B=S,N,ee,te;if(x==="c")B=I(M)+B,M="";else{M=+M;var se=M<0||1/M<0;if(M=isNaN(M)?u:I(Math.abs(M),_),T&&(M=pYe(M)),se&&+M==0&&p!=="+"&&(se=!1),O=(se?p==="("?p:a:p==="-"||p==="("?"":p)+O,B=(x==="s"?hH[8+Soe/3]:"")+B+(se&&p==="("?")":""),k){for(N=-1,ee=M.length;++N<ee;)if(te=M.charCodeAt(N),48>te||te>57){B=(te===46?i+M.slice(N+1):M.slice(N))+B,M=M.slice(0,N);break}}}v&&!y&&(M=t(M,1/0));var X=O.length+M.length+B.length,re=X<m?new Array(m-X+1).join(d):"";switch(v&&y&&(M=t(re+M,re.length?m-B.length:1/0),re=""),h){case"<":M=O+M+B+re;break;case"=":M=O+re+M+B;break;case"^":M=re.slice(0,X=re.length>>1)+O+M+B+re.slice(X);break;default:M=re+O+M+B;break}return s(M)}return D.toString=function(){return f+""},D}function c(f,d){var h=l((f=Px(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(sg(d)/3)))*3,g=Math.pow(10,-p),y=hH[8+p/3];return function(m){return h(g*m)+y}}return{format:l,formatPrefix:c}}var sw,vA,xoe;yYe({thousands:",",grouping:[3],currency:["$",""]});function yYe(e){return sw=gYe(e),vA=sw.format,xoe=sw.formatPrefix,sw}function vYe(e){return Math.max(0,-sg(Math.abs(e)))}function _Ye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sg(t)/3)))*3-sg(Math.abs(e)))}function bYe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sg(t)-sg(e))+1}function wYe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function EYe(){return this.eachAfter(wYe)}function TYe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function SYe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function xYe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function IYe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function CYe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function AYe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function PYe(e){for(var t=this,n=OYe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function OYe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function RYe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function NYe(){return Array.from(this)}function kYe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function DYe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*$Ye(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function FL(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=FYe)):t===void 0&&(t=MYe);for(var n=new Ox(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new Ox(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(BYe)}function LYe(){return FL(this).eachBefore(jYe)}function MYe(e){return e.children}function FYe(e){return Array.isArray(e)?e[1]:null}function jYe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function BYe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ox(e){this.data=e,this.depth=this.height=0,this.parent=null}Ox.prototype=FL.prototype={constructor:Ox,count:EYe,each:TYe,eachAfter:xYe,eachBefore:SYe,find:IYe,sum:CYe,sort:AYe,path:PYe,ancestors:RYe,descendants:NYe,leaves:kYe,links:DYe,copy:LYe,[Symbol.iterator]:$Ye};function UYe(e){return e==null?null:VYe(e)}function VYe(e){if(typeof e!="function")throw new Error;return e}function pH(){return 0}function zYe(e){return function(){return e}}const HYe=1664525,WYe=1013904223,mH=4294967296;function qYe(){let e=1;return()=>(e=(HYe*e+WYe)%mH)/mH}function YYe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GYe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function KYe(e,t){for(var n=0,r=(e=GYe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&Ioe(o,s)?++n:(o=XYe(i=QYe(i,s)),n=0);return o}function QYe(e,t){var n,r;if(P2(t,e))return[t];for(n=0;n<e.length;++n)if(ow(t,e[n])&&P2(my(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(ow(my(e[n],e[r]),t)&&ow(my(e[n],t),e[r])&&ow(my(e[r],t),e[n])&&P2(Coe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function ow(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Ioe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function P2(e,t){for(var n=0;n<t.length;++n)if(!Ioe(e,t[n]))return!1;return!0}function XYe(e){switch(e.length){case 1:return JYe(e[0]);case 2:return my(e[0],e[1]);case 3:return Coe(e[0],e[1],e[2])}}function JYe(e){return{x:e.x,y:e.y,r:e.r}}function my(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function Coe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,g=i-c,y=u-s,m=f-s,v=r*r+i*i-s*s,_=v-o*o-a*a+u*u,T=v-l*l-c*c+f*f,x=h*p-d*g,w=(p*T-g*_)/(x*2)-r,S=(g*y-p*m)/x,I=(h*_-d*T)/(x*2)-i,k=(d*m-h*y)/x,D=S*S+k*k-1,M=2*(s+w*S+I*k),O=w*w+I*I-s*s,B=-(Math.abs(D)>1e-6?(M+Math.sqrt(M*M-4*D*O))/(2*D):O/M);return{x:r+w+S*B,y:i+I+k*B,r:B}}function gH(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function yH(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function vH(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function aw(e){this._=e,this.next=null,this.previous=null}function ZYe(e,t){if(!(s=(e=YYe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;gH(r,n,i=e[2]),n=new aw(n),r=new aw(r),i=new aw(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){gH(n._,r._,i=e[u]),i=new aw(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(yH(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(yH(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=vH(n);(i=i.next)!==r;)(a=vH(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=KYe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function eGe(e){return Math.sqrt(e.value)}function tGe(){var e=null,t=1,n=1,r=pH;function i(s){const o=qYe();return s.x=t/2,s.y=n/2,e?s.eachBefore(_H(e)).eachAfter(O2(r,.5,o)).eachBefore(bH(1)):s.eachBefore(_H(eGe)).eachAfter(O2(pH,1,o)).eachAfter(O2(r,s.r/Math.min(t,n),o)).eachBefore(bH(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=UYe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:zYe(+s),i):r},i}function _H(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function O2(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=ZYe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function bH(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function _A(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const wH=Symbol("implicit");function bA(){var e=new jz,t=[],n=[],r=wH;function i(s){let o=e.get(s);if(o===void 0){if(r!==wH)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return bA(t,n).unknown(r)},_A.apply(i,arguments),i}function np(){var e=bA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;s=(g-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=mze(d).map(function(m){return p+s*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return np(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},_A.apply(f(),arguments)}function nGe(e){return function(){return e}}function rGe(e){return+e}var EH=[0,1];function Jp(e){return e}function Kk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:nGe(isNaN(t)?NaN:.5)}function iGe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sGe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Kk(i,r),s=n(o,s)):(r=Kk(r,i),s=n(s,o)),function(a){return s(r(a))}}function oGe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Kk(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=oze(e,a,1,r)-1;return s[u](i[u](a))}}function Aoe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function aGe(){var e=EH,t=EH,n=mA,r,i,s,o=Jp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Jp&&(o=iGe(e[0],e[d-1])),a=d>2?oGe:sGe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Fa)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,rGe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=EWe,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Jp,c()):o!==Jp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function Poe(){return aGe()(Jp,Jp)}function uGe(e,t,n,r){var i=Dk(e,t,n),s;switch(r=Px(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=_Ye(i,o))&&(r.precision=s),xoe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=bYe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vYe(i))&&(r.precision=s-(r.type==="%")*2);break}}return vA(r)}function lGe(e){var t=e.domain;return e.ticks=function(n){var r=t();return hze(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return uGe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=kk(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function co(){var e=Poe();return e.copy=function(){return Aoe(e,co())},_A.apply(e,arguments),lGe(e)}function cGe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const R2=new Date,N2=new Date;function fi(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>fi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(R2.setTime(+s),N2.setTime(+o),e(R2),e(N2),Math.floor(n(R2,N2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Rx=fi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Rx);Rx.range;const Gl=1e3,ua=Gl*60,Kl=ua*60,dc=Kl*24,jL=dc*7,TH=dc*30,k2=dc*365,Zp=fi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getUTCSeconds());Zp.range;const BL=fi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gl)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());BL.range;const fGe=fi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());fGe.range;const UL=fi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gl-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getHours());UL.range;const dGe=fi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCHours());dGe.range;const S1=fi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/dc,e=>e.getDate()-1);S1.range;const VL=fi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>e.getUTCDate()-1);VL.range;const hGe=fi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>Math.floor(e/dc));hGe.range;function rp(e){return fi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ua)/jL)}const wA=rp(0),Nx=rp(1),pGe=rp(2),mGe=rp(3),og=rp(4),gGe=rp(5),yGe=rp(6);wA.range;Nx.range;pGe.range;mGe.range;og.range;gGe.range;yGe.range;function ip(e){return fi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jL)}const Ooe=ip(0),kx=ip(1),vGe=ip(2),_Ge=ip(3),ag=ip(4),bGe=ip(5),wGe=ip(6);Ooe.range;kx.range;vGe.range;_Ge.range;ag.range;bGe.range;wGe.range;const zL=fi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zL.range;const EGe=fi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());EGe.range;const hc=fi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hc.range;const Nh=fi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Nh.range;function TGe(e,t,n,r,i,s){const o=[[Zp,1,Gl],[Zp,5,5*Gl],[Zp,15,15*Gl],[Zp,30,30*Gl],[s,1,ua],[s,5,5*ua],[s,15,15*ua],[s,30,30*ua],[i,1,Kl],[i,3,3*Kl],[i,6,6*Kl],[i,12,12*Kl],[r,1,dc],[r,2,2*dc],[n,1,jL],[t,1,TH],[t,3,3*TH],[e,1,k2]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=IL(([,,y])=>y).right(o,d);if(h===o.length)return e.every(Dk(l/k2,c/k2,f));if(h===0)return Rx.every(Math.max(Dk(l,c,f),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[a,u]}const[SGe,xGe]=TGe(hc,zL,wA,S1,UL,BL);function D2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function z0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function IGe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=H0(i),c=W0(i),f=H0(s),d=W0(s),h=H0(o),p=W0(o),g=H0(a),y=W0(a),m=H0(u),v=W0(u),_={a:se,A:X,b:re,B:A,c:null,d:PH,e:PH,f:KGe,g:sKe,G:aKe,H:qGe,I:YGe,j:GGe,L:Roe,m:QGe,M:XGe,p:H,q:G,Q:NH,s:kH,S:JGe,u:ZGe,U:eKe,V:tKe,w:nKe,W:rKe,x:null,X:null,y:iKe,Y:oKe,Z:uKe,"%":RH},T={a:P,A:R,b:L,B:Y,c:null,d:OH,e:OH,f:dKe,g:EKe,G:SKe,H:lKe,I:cKe,j:fKe,L:koe,m:hKe,M:pKe,p:le,q:ce,Q:NH,s:kH,S:mKe,u:gKe,U:yKe,V:vKe,w:_Ke,W:bKe,x:null,X:null,y:wKe,Y:TKe,Z:xKe,"%":RH},x={a:D,A:M,b:O,B,c:N,d:CH,e:CH,f:VGe,g:IH,G:xH,H:AH,I:AH,j:FGe,L:UGe,m:MGe,M:jGe,p:k,q:LGe,Q:HGe,s:WGe,S:BGe,u:RGe,U:NGe,V:kGe,w:OGe,W:DGe,x:ee,X:te,y:IH,Y:xH,Z:$Ge,"%":zGe};_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),T.x=w(n,T),T.X=w(r,T),T.c=w(t,T);function w(de,me){return function(we){var ye=[],We=-1,Qe=0,gt=de.length,De,Ie,Ye;for(we instanceof Date||(we=new Date(+we));++We<gt;)de.charCodeAt(We)===37&&(ye.push(de.slice(Qe,We)),(Ie=SH[De=de.charAt(++We)])!=null?De=de.charAt(++We):Ie=De==="e"?" ":"0",(Ye=me[De])&&(De=Ye(we,Ie)),ye.push(De),Qe=We+1);return ye.push(de.slice(Qe,We)),ye.join("")}}function S(de,me){return function(we){var ye=z0(1900,void 0,1),We=I(ye,de,we+="",0),Qe,gt;if(We!=we.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(me&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Qe=$2(z0(ye.y,0,1)),gt=Qe.getUTCDay(),Qe=gt>4||gt===0?kx.ceil(Qe):kx(Qe),Qe=VL.offset(Qe,(ye.V-1)*7),ye.y=Qe.getUTCFullYear(),ye.m=Qe.getUTCMonth(),ye.d=Qe.getUTCDate()+(ye.w+6)%7):(Qe=D2(z0(ye.y,0,1)),gt=Qe.getDay(),Qe=gt>4||gt===0?Nx.ceil(Qe):Nx(Qe),Qe=S1.offset(Qe,(ye.V-1)*7),ye.y=Qe.getFullYear(),ye.m=Qe.getMonth(),ye.d=Qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),gt="Z"in ye?$2(z0(ye.y,0,1)).getUTCDay():D2(z0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(gt+5)%7:ye.w+ye.U*7-(gt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,$2(ye)):D2(ye)}}function I(de,me,we,ye){for(var We=0,Qe=me.length,gt=we.length,De,Ie;We<Qe;){if(ye>=gt)return-1;if(De=me.charCodeAt(We++),De===37){if(De=me.charAt(We++),Ie=x[De in SH?me.charAt(We++):De],!Ie||(ye=Ie(de,we,ye))<0)return-1}else if(De!=we.charCodeAt(ye++))return-1}return ye}function k(de,me,we){var ye=l.exec(me.slice(we));return ye?(de.p=c.get(ye[0].toLowerCase()),we+ye[0].length):-1}function D(de,me,we){var ye=h.exec(me.slice(we));return ye?(de.w=p.get(ye[0].toLowerCase()),we+ye[0].length):-1}function M(de,me,we){var ye=f.exec(me.slice(we));return ye?(de.w=d.get(ye[0].toLowerCase()),we+ye[0].length):-1}function O(de,me,we){var ye=m.exec(me.slice(we));return ye?(de.m=v.get(ye[0].toLowerCase()),we+ye[0].length):-1}function B(de,me,we){var ye=g.exec(me.slice(we));return ye?(de.m=y.get(ye[0].toLowerCase()),we+ye[0].length):-1}function N(de,me,we){return I(de,t,me,we)}function ee(de,me,we){return I(de,n,me,we)}function te(de,me,we){return I(de,r,me,we)}function se(de){return o[de.getDay()]}function X(de){return s[de.getDay()]}function re(de){return u[de.getMonth()]}function A(de){return a[de.getMonth()]}function H(de){return i[+(de.getHours()>=12)]}function G(de){return 1+~~(de.getMonth()/3)}function P(de){return o[de.getUTCDay()]}function R(de){return s[de.getUTCDay()]}function L(de){return u[de.getUTCMonth()]}function Y(de){return a[de.getUTCMonth()]}function le(de){return i[+(de.getUTCHours()>=12)]}function ce(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var me=w(de+="",_);return me.toString=function(){return de},me},parse:function(de){var me=S(de+="",!1);return me.toString=function(){return de},me},utcFormat:function(de){var me=w(de+="",T);return me.toString=function(){return de},me},utcParse:function(de){var me=S(de+="",!0);return me.toString=function(){return de},me}}}var SH={"-":"",_:" ",0:"0"},Ti=/^\s*\d+/,CGe=/^%/,AGe=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function PGe(e){return e.replace(AGe,"\\$&")}function H0(e){return new RegExp("^(?:"+e.map(PGe).join("|")+")","i")}function W0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function OGe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function RGe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function NGe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kGe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DGe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xH(e,t,n){var r=Ti.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function IH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $Ge(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function LGe(e,t,n){var r=Ti.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function MGe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function CH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FGe(e,t,n){var r=Ti.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function AH(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jGe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function BGe(e,t,n){var r=Ti.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function UGe(e,t,n){var r=Ti.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function VGe(e,t,n){var r=Ti.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zGe(e,t,n){var r=CGe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function HGe(e,t,n){var r=Ti.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function WGe(e,t,n){var r=Ti.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function PH(e,t){return Sn(e.getDate(),t,2)}function qGe(e,t){return Sn(e.getHours(),t,2)}function YGe(e,t){return Sn(e.getHours()%12||12,t,2)}function GGe(e,t){return Sn(1+S1.count(hc(e),e),t,3)}function Roe(e,t){return Sn(e.getMilliseconds(),t,3)}function KGe(e,t){return Roe(e,t)+"000"}function QGe(e,t){return Sn(e.getMonth()+1,t,2)}function XGe(e,t){return Sn(e.getMinutes(),t,2)}function JGe(e,t){return Sn(e.getSeconds(),t,2)}function ZGe(e){var t=e.getDay();return t===0?7:t}function eKe(e,t){return Sn(wA.count(hc(e)-1,e),t,2)}function Noe(e){var t=e.getDay();return t>=4||t===0?og(e):og.ceil(e)}function tKe(e,t){return e=Noe(e),Sn(og.count(hc(e),e)+(hc(e).getDay()===4),t,2)}function nKe(e){return e.getDay()}function rKe(e,t){return Sn(Nx.count(hc(e)-1,e),t,2)}function iKe(e,t){return Sn(e.getFullYear()%100,t,2)}function sKe(e,t){return e=Noe(e),Sn(e.getFullYear()%100,t,2)}function oKe(e,t){return Sn(e.getFullYear()%1e4,t,4)}function aKe(e,t){var n=e.getDay();return e=n>=4||n===0?og(e):og.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function uKe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function OH(e,t){return Sn(e.getUTCDate(),t,2)}function lKe(e,t){return Sn(e.getUTCHours(),t,2)}function cKe(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function fKe(e,t){return Sn(1+VL.count(Nh(e),e),t,3)}function koe(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function dKe(e,t){return koe(e,t)+"000"}function hKe(e,t){return Sn(e.getUTCMonth()+1,t,2)}function pKe(e,t){return Sn(e.getUTCMinutes(),t,2)}function mKe(e,t){return Sn(e.getUTCSeconds(),t,2)}function gKe(e){var t=e.getUTCDay();return t===0?7:t}function yKe(e,t){return Sn(Ooe.count(Nh(e)-1,e),t,2)}function Doe(e){var t=e.getUTCDay();return t>=4||t===0?ag(e):ag.ceil(e)}function vKe(e,t){return e=Doe(e),Sn(ag.count(Nh(e),e)+(Nh(e).getUTCDay()===4),t,2)}function _Ke(e){return e.getUTCDay()}function bKe(e,t){return Sn(kx.count(Nh(e)-1,e),t,2)}function wKe(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function EKe(e,t){return e=Doe(e),Sn(e.getUTCFullYear()%100,t,2)}function TKe(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function SKe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ag(e):ag.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function xKe(){return"+0000"}function RH(){return"%"}function NH(e){return+e}function kH(e){return Math.floor(+e/1e3)}var Ep,$oe,Loe;IKe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IKe(e){return Ep=IGe(e),$oe=Ep.format,Ep.parse,Loe=Ep.utcFormat,Ep.utcParse,Ep}function CKe(e){return new Date(e)}function AKe(e){return e instanceof Date?+e:+new Date(+e)}function Moe(e,t,n,r,i,s,o,a,u,l){var c=Poe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),y=l("%I %p"),m=l("%a %d"),v=l("%b %d"),_=l("%B"),T=l("%Y");function x(w){return(u(w)<w?h:a(w)<w?p:o(w)<w?g:s(w)<w?y:r(w)<w?i(w)<w?m:v:n(w)<w?_:T)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,AKe)):d().map(CKe)},c.ticks=function(w){var S=d();return e(S[0],S[S.length-1],w??10)},c.tickFormat=function(w,S){return S==null?x:l(S)},c.nice=function(w){var S=d();return(!w||typeof w.range!="function")&&(w=t(S[0],S[S.length-1],w??10)),w?d(cGe(S,w)):c},c.copy=function(){return Aoe(c,Moe(e,t,n,r,i,s,o,a,u,l))},c}function PKe(){return _A.apply(Moe(SGe,xGe,hc,zL,wA,S1,UL,BL,Zp,$oe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OKe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Foe=OKe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function nr(e){return function(){return e}}const DH=Math.abs,Ji=Math.atan2,Sd=Math.cos,RKe=Math.max,L2=Math.min,pu=Math.sin,em=Math.sqrt,Fs=1e-12,Zv=Math.PI,Dx=Zv/2,vE=2*Zv;function NKe(e){return e>1?0:e<-1?Zv:Math.acos(e)}function $H(e){return e>=1?Dx:e<=-1?-Dx:Math.asin(e)}function joe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Zqe(t)}function kKe(e){return e.innerRadius}function DKe(e){return e.outerRadius}function $Ke(e){return e.startAngle}function LKe(e){return e.endAngle}function MKe(e){return e&&e.padAngle}function FKe(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Fs))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function uw(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/em(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,v=p-d,_=g-h,T=v*v+_*_,x=i-s,w=d*g-p*h,S=(_<0?-1:1)*em(RKe(0,x*x*T-w*w)),I=(w*_-v*S)/T,k=(-w*v-_*S)/T,D=(w*_+v*S)/T,M=(-w*v+_*S)/T,O=I-y,B=k-m,N=D-y,ee=M-m;return O*O+B*B>N*N+ee*ee&&(I=D,k=M),{cx:I,cy:k,x01:-c,y01:-f,x11:I*(i/x-1),y11:k*(i/x-1)}}function LH(){var e=kKe,t=DKe,n=nr(0),r=null,i=$Ke,s=LKe,o=MKe,a=null,u=joe(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Dx,g=s.apply(this,arguments)-Dx,y=DH(g-p),m=g>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Fs))a.moveTo(0,0);else if(y>vE-Fs)a.moveTo(h*Sd(p),h*pu(p)),a.arc(0,0,h,p,g,!m),d>Fs&&(a.moveTo(d*Sd(g),d*pu(g)),a.arc(0,0,d,g,p,m));else{var v=p,_=g,T=p,x=g,w=y,S=y,I=o.apply(this,arguments)/2,k=I>Fs&&(r?+r.apply(this,arguments):em(d*d+h*h)),D=L2(DH(h-d)/2,+n.apply(this,arguments)),M=D,O=D,B,N;if(k>Fs){var ee=$H(k/d*pu(I)),te=$H(k/h*pu(I));(w-=ee*2)>Fs?(ee*=m?1:-1,T+=ee,x-=ee):(w=0,T=x=(p+g)/2),(S-=te*2)>Fs?(te*=m?1:-1,v+=te,_-=te):(S=0,v=_=(p+g)/2)}var se=h*Sd(v),X=h*pu(v),re=d*Sd(x),A=d*pu(x);if(D>Fs){var H=h*Sd(_),G=h*pu(_),P=d*Sd(T),R=d*pu(T),L;if(y<Zv)if(L=FKe(se,X,P,R,H,G,re,A)){var Y=se-L[0],le=X-L[1],ce=H-L[0],de=G-L[1],me=1/pu(NKe((Y*ce+le*de)/(em(Y*Y+le*le)*em(ce*ce+de*de)))/2),we=em(L[0]*L[0]+L[1]*L[1]);M=L2(D,(d-we)/(me-1)),O=L2(D,(h-we)/(me+1))}else M=O=0}S>Fs?O>Fs?(B=uw(P,R,se,X,h,O,m),N=uw(H,G,re,A,h,O,m),a.moveTo(B.cx+B.x01,B.cy+B.y01),O<D?a.arc(B.cx,B.cy,O,Ji(B.y01,B.x01),Ji(N.y01,N.x01),!m):(a.arc(B.cx,B.cy,O,Ji(B.y01,B.x01),Ji(B.y11,B.x11),!m),a.arc(0,0,h,Ji(B.cy+B.y11,B.cx+B.x11),Ji(N.cy+N.y11,N.cx+N.x11),!m),a.arc(N.cx,N.cy,O,Ji(N.y11,N.x11),Ji(N.y01,N.x01),!m))):(a.moveTo(se,X),a.arc(0,0,h,v,_,!m)):a.moveTo(se,X),!(d>Fs)||!(w>Fs)?a.lineTo(re,A):M>Fs?(B=uw(re,A,H,G,d,-M,m),N=uw(se,X,P,R,d,-M,m),a.lineTo(B.cx+B.x01,B.cy+B.y01),M<D?a.arc(B.cx,B.cy,M,Ji(B.y01,B.x01),Ji(N.y01,N.x01),!m):(a.arc(B.cx,B.cy,M,Ji(B.y01,B.x01),Ji(B.y11,B.x11),!m),a.arc(0,0,d,Ji(B.cy+B.y11,B.cx+B.x11),Ji(N.cy+N.y11,N.cx+N.x11),m),a.arc(N.cx,N.cy,M,Ji(N.y11,N.x11),Ji(N.y01,N.x01),!m))):a.arc(0,0,d,x,T,m)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Zv/2;return[Sd(f)*c,pu(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:nr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:nr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:nr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:nr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:nr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:nr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:nr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function HL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Boe(e){this._context=e}Boe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jKe(e){return new Boe(e)}function BKe(e){return e[0]}function UKe(e){return e[1]}function MH(e,t){var n=nr(!0),r=null,i=jKe,s=null,o=joe(a);e=typeof e=="function"?e:e===void 0?BKe:nr(e),t=typeof t=="function"?t:t===void 0?UKe:nr(t);function a(u){var l,c=(u=HL(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nr(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function VKe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function zKe(e){return e}function HKe(){var e=zKe,t=VKe,n=null,r=nr(0),i=nr(vE),s=nr(0);function o(a){var u,l=(a=HL(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),g=+r.apply(this,arguments),y=Math.min(vE,Math.max(-vE,i.apply(this,arguments)-g)),m,v=Math.min(Math.abs(y)/l,s.apply(this,arguments)),_=v*(y<0?-1:1),T;for(u=0;u<l;++u)(T=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=T);for(t!=null?h.sort(function(x,w){return t(p[x],p[w])}):n!=null&&h.sort(function(x,w){return n(a[x],a[w])}),u=0,f=d?(y-l*_)/d:0;u<l;++u,g=m)c=h[u],T=p[c],m=g+(T>0?T*f:0)+_,p[c]={data:a[c],index:u,value:T,startAngle:g,endAngle:m,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:nr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:nr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:nr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:nr(+a),o):s},o}function FH(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Uoe(e){this._context=e}Uoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:FH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:FH(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jH(e){return new Uoe(e)}function BH(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function UH(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function WKe(e,t){return e[t]}function qKe(e){const t=[];return t.key=e,t}function YKe(){var e=nr([]),t=UH,n=BH,r=WKe;function i(s){var o=Array.from(e.apply(this,arguments),qKe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=HL(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:nr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:nr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?UH:typeof s=="function"?s:nr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??BH,i):n},i}function gy(e,t,n){this.k=e,this.x=t,this.y=n}gy.prototype={constructor:gy,scale:function(e){return e===1?this:new gy(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gy(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};gy.prototype;function x1({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:u=!1,columnList:l,setColumn:c,stringTicks:f=!1}){const d=b.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),h=b.useCallback(p=>(s?Loe("%B"):vA(".2s"))(p),[s]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:C.jsx(ma,{children:C.jsx(jr,{spacing:3,children:C.jsx(ut,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?C.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:p,offset:g})=>C.jsxs("g",{transform:`translate(${g}, ${n})`,children:[C.jsx("line",{y2:"6",stroke:"currentColor"}),o?C.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,C.jsx("foreignObject",{x:0-d/2,y:10,width:d,height:20,children:C.jsx(ma,{children:C.jsx(a1,{withinPortal:!0,label:p,children:C.jsx(ut,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:f?p:+p==0?0:h(s?new Date(p):p)})})})})]},`${p}test`))]})}const GKe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:x1},Symbol.toStringTag,{value:"Module"}));function EA({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=b.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>20?120:u*6},[i]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(ma,{children:C.jsx(jr,{spacing:3,children:C.jsx(ut,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>C.jsxs("g",{transform:`translate(${n}, ${l})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),s?C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,C.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:C.jsx("foreignObject",{width:a,height:20,children:C.jsx(jr,{style:{width:"100%",height:"100%"},position:"right",children:C.jsx(ut,{lineClamp:1,sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const KKe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:EA},Symbol.toStringTag,{value:"Module"})),Ds={top:15,left:160,right:50,bottom:130};function Qk({barsTable:e,fullTable:t,parameters:n,data:r,setSelection:i}){const[s,{height:o,width:a}]=Xu(),u=b.useMemo(()=>a-Ds.left-Ds.right,[a]),l=b.useMemo(()=>o-Ds.top-Ds.bottom,[o]),c=b.useMemo(()=>t==null?void 0:t.groupby(n.category).count(),[]),f=b.useMemo(()=>{const y=Array.from(new Set(r.map(m=>m[n.category])));return bA(Foe).domain(y)},[r,n.category]),d=b.useMemo(()=>c?co([Ds.left,u+Ds.left]).domain([0,Gv(c.objects().map(y=>y.count))]).nice():null,[c,u]),h=b.useMemo(()=>c?np([Ds.top,l+Ds.top]).domain(c.array(n.category).sort()).paddingInner(.1):null,[c,l,n.category]),p=b.useMemo(()=>!d||!h||!f||!e?null:e.objects().map((y,m)=>y[n.category]===null||y.count===null?null:C.jsxs("g",{children:[C.jsx("rect",{onClick:v=>i(r.filter(_=>_[n.category]===y[n.category]).map(_=>_[n.ids]),v),x:Ds.left,y:h(y[n.category]),fill:f(y[n.category]),height:h.bandwidth(),width:d(y.count)-Ds.left},m),C.jsx("text",{x:d(y.count)+5,y:h(y[n.category])+h.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:y.count})]},m)),[e,f,r,n.category,n.ids,i,d,h]),g=b.useMemo(()=>!d||!h||!f||!c?null:c.objects().map((y,m)=>y[n.category]===null||y.count===null?null:C.jsx("g",{children:C.jsx("rect",{opacity:.7,onClick:v=>i(r.filter(_=>_[n.category]===y[n.category]).map(_=>_[n.ids]),v),x:Ds.left,y:h(y[n.category]),fill:"lightgray",height:h.bandwidth(),width:d(y.count)-Ds.left},m)},m)),[f,r,c,n.category,n.ids,i,d,h]);return h&&d?C.jsxs("svg",{ref:s,style:{height:"500px",width:"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(x1,{xScale:d,yRange:h.range(),vertPosition:l+Ds.top,showLines:!1,label:"Count",ticks:d.ticks(5).map(y=>({value:y.toString(),offset:d(y)}))}),h?C.jsx(EA,{yScale:h,horizontalPosition:Ds.left,xRange:d.range(),label:n.category,ticks:f.domain().map(y=>({value:y,offset:h(y)+h.bandwidth()/2}))}):null,g,p]}):C.jsx(Ac,{})}const QKe=Object.freeze(Object.defineProperty({__proto__:null,Bar:Qk,default:Qk},Symbol.toStringTag,{value:"Module"})),En=Array.isArray;function fo(e){return e!=null?En(e)?e:[e]:[]}function XKe(e=0,t=1/0){return`${VH(e)} < row_number() && row_number() <= ${VH(t)}`}function VH(e){return e<0?`count() + ${e}`:e}class Voe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(XKe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,fo(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function qt(e){throw Error(e)}function xs(e){return typeof e=="number"}function ar(e){return typeof e=="function"}function TA(e,t){const n=Array(e);if(ar(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let JKe=class extends Voe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){qt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){qt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){qt("Not implemented")}getter(t){qt("Not implemented")}objects(t){qt("Not implemented")}object(t){qt("Not implemented")}[Symbol.iterator](){qt("Not implemented")}print(t={}){xs(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=TA(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},ZKe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},eQe=function(e){return e&&ar(e.get)?e:new ZKe(e)};function pc(e){return e instanceof Date}function fs(e){return e===Object(e)}function $x(e){return e instanceof RegExp}function zi(e){return typeof e=="string"}function tQe(e,t){const n=r=>qt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?zH(e.entries(),t):pc(e)?n("Date"):$x(e)?n("RegExp"):zi(e)?n():En(e)?nQe(e,t):ar(e[Symbol.iterator])?rQe(e,t):fs(e)?zH(Object.entries(e),t):n()}function zH(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function nQe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function rQe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:iQe}=Object.prototype;function tu(e,t){return iQe.call(e,t)}function Ho(e){return e?new HH({...e.data()},e.columnNames()):new HH}class HH{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return tu(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const vn=void 0,sQe=Object.getPrototypeOf(Int8Array);function I1(e){return e instanceof sQe}function Xd(e){return En(e)||I1(e)}function Ha(e){return e!=null&&e===e}const q0=e=>Xd(e)||zi(e),oQe={compact:e=>Xd(e)?e.filter(t=>Ha(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>q0(e)?e.includes(t,n):!1,indexof:(e,t)=>q0(e)?e.indexOf(t):-1,join:(e,t)=>Xd(e)?e.join(t):vn,lastindexof:(e,t)=>q0(e)?e.lastIndexOf(t):-1,length:e=>q0(e)?e.length:0,pluck:(e,t)=>Xd(e)?e.map(n=>Ha(n)?n[t]:vn):vn,reverse:e=>Xd(e)?e.slice().reverse():zi(e)?e.split("").reverse().join(""):vn,slice:(e,t,n)=>q0(e)?e.slice(t,n):vn};function aQe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function _E(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const mu=e=>(e<10?"0":"")+e,uQe=e=>e<0?"-"+_E(-e,6):e>9999?"+"+_E(e,6):_E(e,4);function zoe(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return uQe(e)+"-"+mu(t+1)+"-"+mu(n)+(!u||o?"T"+mu(r)+":"+mu(i)+":"+mu(s)+"."+_E(o,3)+l:s?"T"+mu(r)+":"+mu(i)+":"+mu(s)+l:i||r||!a?"T"+mu(r)+":"+mu(i)+l:"")}function Hoe(e,t){return isNaN(e)?"Invalid Date":zoe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function SA(e,t){return isNaN(e)?"Invalid Date":zoe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const lQe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function cQe(e){return e.match(lQe)&&!isNaN(Date.parse(e))}function fQe(e,t=Date.parse){return cQe(e)?t(e):e}const Woe=6e4,qoe=864e5,Yoe=6048e5,Ar=new Date,Pr=new Date,Lr=e=>(Ar.setTime(typeof e=="string"?fQe(e):e),Ar);function dQe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function hQe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function pQe(e){Pr.setTime(+e),Pr.setHours(0,0,0,0),Ar.setTime(+Pr),Ar.setMonth(0),Ar.setDate(1);const t=(Pr.getTimezoneOffset()-Ar.getTimezoneOffset())*Woe;return Math.floor(1+(Pr-Ar-t)/qoe)}function mQe(e){Pr.setTime(+e),Pr.setUTCHours(0,0,0,0);const t=Date.UTC(Pr.getUTCFullYear(),0,1);return Math.floor(1+(Pr-t)/qoe)}function gQe(e,t){const n=t||0;Pr.setTime(+e),Pr.setDate(Pr.getDate()-(Pr.getDay()+7-n)%7),Pr.setHours(0,0,0,0),Ar.setTime(+e),Ar.setMonth(0),Ar.setDate(1),Ar.setDate(1-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0);const r=(Pr.getTimezoneOffset()-Ar.getTimezoneOffset())*Woe;return Math.floor((1+(Pr-Ar)-r)/Yoe)}function yQe(e,t){const n=t||0;return Pr.setTime(+e),Pr.setUTCDate(Pr.getUTCDate()-(Pr.getUTCDay()+7-n)%7),Pr.setUTCHours(0,0,0,0),Ar.setTime(+e),Ar.setUTCMonth(0),Ar.setUTCDate(1),Ar.setUTCDate(1-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Math.floor((1+(Pr-Ar))/Yoe)}const vQe={format_date:(e,t)=>Hoe(Lr(e),!t),format_utcdate:(e,t)=>SA(Lr(e),!t),timestamp:e=>+Lr(e),year:e=>Lr(e).getFullYear(),quarter:e=>Math.floor(Lr(e).getMonth()/3),month:e=>Lr(e).getMonth(),date:e=>Lr(e).getDate(),dayofweek:e=>Lr(e).getDay(),hours:e=>Lr(e).getHours(),minutes:e=>Lr(e).getMinutes(),seconds:e=>Lr(e).getSeconds(),milliseconds:e=>Lr(e).getMilliseconds(),utcyear:e=>Lr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Lr(e).getUTCMonth()/3),utcmonth:e=>Lr(e).getUTCMonth(),utcdate:e=>Lr(e).getUTCDate(),utcdayofweek:e=>Lr(e).getUTCDay(),utchours:e=>Lr(e).getUTCHours(),utcminutes:e=>Lr(e).getUTCMinutes(),utcseconds:e=>Lr(e).getUTCSeconds(),utcmilliseconds:e=>Lr(e).getUTCMilliseconds(),datetime:dQe,dayofyear:pQe,week:gQe,utcdatetime:hQe,utcdayofyear:mQe,utcweek:yQe,now:Date.now};function WL(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:pc(e)||pc(t)?+e==+t:$x(e)&&$x(t)?e+""==t+"":fs(e)&&fs(t)?_Qe(e,t):!1}function _Qe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return WH(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!WH(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!WL(e[o],t[o]))return!1}return!0}function WH(e,t,n=WL){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const bQe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let wQe=Math.random;function qg(){return wQe()}const EQe={random:qg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function qL(e){return e instanceof Map}function TQe(e){return e instanceof Set}function bE(e){return qL(e)||TQe(e)}function M2(e){return Array.from(e)}const SQe={has:(e,t)=>bE(e)?e.has(t):e!=null?tu(e,t):!1,keys:e=>qL(e)?M2(e.keys()):e!=null?Object.keys(e):[],values:e=>bE(e)?M2(e.values()):e!=null?Object.values(e):[],entries:e=>bE(e)?M2(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):vn};function xQe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(tu(t,e))return t[e];return n!==void 0?n:e}function IQe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const CQe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},tm={bin:aQe,equal:WL,recode:xQe,sequence:IQe,...oQe,...vQe,...bQe,...EQe,...SQe,...CQe};function e_(e){return typeof e=="bigint"}function hl(e){return e===void 0?e+"":e_(e)?e+"n":JSON.stringify(e)}function Vt(e,t=[],n=[]){return new AQe(e,fo(t),fo(n))}let AQe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${hl(n)}]`),...this.params.map(hl)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Goe=e=>Vt("any",e),Koe=()=>Vt("count"),Qoe=e=>Vt("array_agg",e),Xoe=e=>Vt("array_agg_distinct",e),Joe=(e,t)=>Vt("map_agg",[e,t]),Zoe=(e,t)=>Vt("object_agg",[e,t]),eae=(e,t)=>Vt("entries_agg",[e,t]),Jd={...tm,row_object:(...e)=>Vt("row_object",null,e.flat()),count:Koe,any:Goe,array_agg:Qoe,array_agg_distinct:Xoe,object_agg:Zoe,map_agg:Joe,entries_agg:eae,valid:e=>Vt("valid",e),invalid:e=>Vt("invalid",e),distinct:e=>Vt("distinct",e),mode:e=>Vt("mode",e),sum:e=>Vt("sum",e),product:e=>Vt("product",e),mean:e=>Vt("mean",e),average:e=>Vt("average",e),variance:e=>Vt("variance",e),variancep:e=>Vt("variancep",e),stdev:e=>Vt("stdev",e),stdevp:e=>Vt("stdevp",e),min:e=>Vt("min",e),max:e=>Vt("max",e),quantile:(e,t)=>Vt("quantile",e,t),median:e=>Vt("median",e),covariance:(e,t)=>Vt("covariance",[e,t]),covariancep:(e,t)=>Vt("covariancep",[e,t]),corr:(e,t)=>Vt("corr",[e,t]),bins:(e,t,n,r)=>Vt("bins",e,[t,n,r]),row_number:()=>Vt("row_number"),rank:()=>Vt("rank"),avg_rank:()=>Vt("avg_rank"),dense_rank:()=>Vt("dense_rank"),percent_rank:()=>Vt("percent_rank"),cume_dist:()=>Vt("cume_dist"),ntile:e=>Vt("ntile",null,e),lag:(e,t,n)=>Vt("lag",e,[t,n]),lead:(e,t,n)=>Vt("lead",e,[t,n]),first_value:e=>Vt("first_value",e),last_value:e=>Vt("last_value",e),nth_value:(e,t)=>Vt("nth_value",e,t),fill_down:(e,t)=>Vt("fill_down",e,t),fill_up:(e,t)=>Vt("fill_up",e,t)};function PQe(e,t){e=bE(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function OQe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function RQe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,g)=>p+g,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function NQe(e,t,n,r){const i=r==="map"||r===!0?Joe:r==="entries"?eae:r==="object"?Zoe:qt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=PQe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Qoe(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const kQe="ArrayPattern",DQe="ArrowFunctionExpression",$Qe="FunctionExpression",$f="Identifier",Yg="Literal",tae="MemberExpression",LQe="ObjectExpression",nae="ObjectPattern",rae="Property",C1="Column",MQe="Constant",FQe="Dictionary",jQe="Function",BQe="Parameter",iae="Op",Qn=(e,t)=>{const n=UQe[e.type];return n?n(e,t):qt(`Unsupported expression construct: ${e.type}`)},F2=(e,t)=>"("+Qn(e.left,t)+" "+e.operator+" "+Qn(e.right,t)+")",j2=(e,t)=>"("+Eu(e.params,t)+")=>"+Qn(e.body,t),qH=(e,t)=>Qn(e.callee,t)+"("+Eu(e.arguments,t)+")",Eu=(e,t,n=",")=>e.map(r=>Qn(r,t)).join(n),sae=e=>e.computed?`[${hl(e.name)}]`:`.${e.name}`,YH=(e,t,n)=>{const r=e.table||"";return`data${r}${sae(e)}.${n}(${t.index}${r})`},UQe={Constant:e=>e.raw,Column:(e,t)=>YH(e,t,"get"),Dictionary:(e,t)=>YH(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${sae(e)}`,Op:(e,t)=>`op(${hl(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Qn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Qn(e.object,t),i=Qn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:qH,NewExpression:(e,t)=>"new "+qH(e,t),ArrayExpression:(e,t)=>"["+Eu(e.elements,t)+"]",AssignmentExpression:F2,BinaryExpression:F2,LogicalExpression:F2,UnaryExpression:(e,t)=>"("+e.operator+Qn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Qn(e.test,t)+"?"+Qn(e.consequent,t)+":"+Qn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Eu(e.properties,t)+"})",Property:(e,t)=>{const n=Qn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Qn(e.value,t)},ArrowFunctionExpression:j2,FunctionExpression:j2,FunctionDeclaration:j2,ArrayPattern:(e,t)=>"["+Eu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Eu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Eu(e.declarations,t,","),VariableDeclarator:(e,t)=>Qn(e.id,t)+"="+Qn(e.init,t),SpreadElement:(e,t)=>"..."+Qn(e.argument,t),BlockStatement:(e,t)=>"{"+Eu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Qn(e.expression,t),IfStatement:(e,t)=>"if ("+Qn(e.test,t)+")"+Qn(e.consequent,t)+(e.alternate?" else "+Qn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Qn(e.discriminant,t)+") {"+Eu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Qn(e.test,t):"default")+": "+Eu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Qn(e.argument,t),Program:(e,t)=>Qn(e.body[0],t)};function Lx(e,t={index:"row"}){return Qn(e,t)}function VQe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function ug(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:pc(e)?+e:En(e)||I1(e)?`[${e.map(ug)}]`:$x(e)?e+"":zQe(e)}function zQe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${ug(e[r])}`;return t+="}",t}function Mx(e,t){const n=e.length;return n===1?(r,i)=>ug(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=ug(a)}return s}}function HQe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=ug(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=ug(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function jl(){}function WQe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function ni(e){return e.init=e.init||jl,e.add=e.add||jl,e.rem=e.rem||jl,e}function GH(e,t){return e.product_v=!1,e.product=t}const oae={count:{create:()=>ni({value:e=>e.count}),param:[]},array_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>ni({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>ni({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:vn}),param:[1]},valid:{create:()=>ni({value:e=>e.valid}),param:[1]},invalid:{create:()=>ni({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=HQe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>ni({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>ni({value:e=>{let t=vn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:vn,add:(e,t)=>e_(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>GH(e,1),value:e=>e.valid?e.product_v?GH(e,WQe(e.list.values())):e.product:void 0,add:(e,t)=>e_(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:vn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>ni({value:e=>e.valid?e.mean:vn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):vn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>ni({value:e=>e.valid>1?e.dev/e.valid:vn}),param:[1],req:["variance"]},stdev:{create:()=>ni({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):vn}),param:[1],req:["variance"]},stdevp:{create:()=>ni({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):vn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=vn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===vn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=vn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===vn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>ni({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>ni({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):vn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>ni({value:e=>e.valid>1?e.cov/e.valid:vn}),param:[2],req:["covariance"]},corr:{create:()=>ni({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):vn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>ni({value:i=>VQe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},KH={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},QH={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},aae={row_number:{create(){return{init:jl,value:e=>e.index+1}},param:[]},rank:KH,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=KH.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:QH,ntile:{create(e){e=+e,e>0||qt("ntile num must be greater than zero.");const{init:t,value:n}=QH.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=vn){return e=+e||1,{init:jl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=vn){return e=+e||1,{init:jl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:jl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:jl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||qt("nth_value nth must be greater than zero."),{init:jl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):vn}}},param:[1,1]},fill_down:{create(e=vn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Ha(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=vn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=qQe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function qQe(e,t,n){for(const r=e.size;n<r;++n)if(Ha(e.value(n,t)))return n;return-1}function YL(e){return tu(oae,e)}function GL(e){return tu(aae,e)}function uae(e){return tu(tm,e)||e==="row_object"}function lae(e){return YL(e)&&oae[e]}function cae(e){return GL(e)&&aae[e]}function Y0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const KL={escape:(e,t,n)=>Y0(e,t,n),expr:(e,t)=>Y0(`(row,data,op)=>${e}`,tm,t),expr2:(e,t)=>Y0(`(row0,data0,row,data)=>${e}`,tm,t),join:(e,t)=>Y0(`(row1,data1,row2,data2)=>${e}`,tm,t),param:(e,t)=>Y0(e,tm,t)},YQe={"==":1,"!=":1,"===":1,"!==":1};function fae(e,t,n=0,r,i){if(e.type=C1,e.name=t,e.table=n,i&&r&&ar(r.keyFor)){const s=YQe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Yg&&GQe(i,e,s,r.keyFor(s.value))}return e}function GQe(e,t,n,r){return r<0?(e.type=Yg,e.value=!1,e.raw="false"):(t.type=FQe,n.value=r,n.raw=r+""),!0}function xA(e){return En(e)?e:qL(e)?e.entries():e?Object.entries(e):[]}const dae="row_object";function hae(e,t){e.type=LQe;const n=e.properties=[];for(const r of xA(t)){const[i,s]=En(r)?r:[r,r];n.push({type:rae,key:{type:Yg,raw:hl(s)},value:fae({computed:!0},i)})}return e}function pae(e){return Lx(hae({},e))}function mae(e){return KL.expr(pae(e))}function QL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ul(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function XH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function Zd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof cn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function B2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:cn(e[i](o)),done:!1}:s?s(o):o}:s}}function ev(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof XH=="function"?XH(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const KQe=new TextDecoder("utf-8"),Xk=e=>KQe.decode(e),QQe=new TextEncoder,XL=e=>QQe.encode(e),XQe=e=>typeof e=="boolean",zs=e=>typeof e=="function",pd=e=>e!=null&&Object(e)===e,IA=e=>pd(e)&&zs(e.then),JL=e=>pd(e)&&zs(e[Symbol.iterator]),CA=e=>pd(e)&&zs(e[Symbol.asyncIterator]),JQe=e=>pd(e)&&"done"in e&&"value"in e,gae=e=>"_getDOMStream"in e&&"_getNodeStream"in e,ZQe=e=>pd(e)&&zs(e.abort)&&zs(e.getWriter)&&!gae(e),eXe=e=>pd(e)&&zs(e.end)&&zs(e.write)&&XQe(e.writable)&&!gae(e),tXe=e=>pd(e)&&zs(e.clear)&&zs(e.bytes)&&zs(e.position)&&zs(e.setPosition)&&zs(e.capacity)&&zs(e.getBufferIdentifier)&&zs(e.createLong),ZL=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function nXe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function Fx(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function pl(e,t){const n=nXe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?Fx(o,s,a):o=s;break}Fx(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function pi(e,t){let n=JQe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=XL(n)),n instanceof ArrayBuffer?new e(n):n instanceof ZL?new e(n):tXe(n)?pi(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const G0=e=>pi(Int32Array,e),Mn=e=>pi(Uint8Array,e),Jk=e=>(e.next(),e);function*rXe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ZL?n(t):JL(t)?t:n(t);return yield*Jk(function*(i){let s=null;do s=i.next(yield pi(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const iXe=e=>rXe(Uint8Array,e);function yae(e,t){return Zd(this,arguments,function*(){if(IA(t))return yield cn(yield cn(yield*B2(ev(yae(e,yield cn(t))))));const r=function(o){return Zd(this,arguments,function*(){yield yield cn(yield cn(o))})},i=function(o){return Zd(this,arguments,function*(){yield cn(yield*B2(ev(Jk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ZL?r(t):JL(t)?i(t):CA(t)?t:r(t);return yield cn(yield*B2(ev(Jk(function(o){return Zd(this,arguments,function*(){let a=null;do a=yield cn(o.next(yield yield cn(pi(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield cn(new e)})}const sXe=e=>yae(Uint8Array,e);function vae(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function oXe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const JH={fromIterable(e){return lw(aXe(e))},fromAsyncIterable(e){return lw(uXe(e))},fromDOMStream(e){return lw(lXe(e))},fromNodeStream(e){return lw(fXe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},lw=e=>(e.next(),e);function*aXe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?pl(r,o)[0]:([i,r,a]=pl(r,o),i)}({cmd:s,size:o}=yield null);const l=iXe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function uXe(e){return Zd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?pl(i,a)[0]:([s,i,u]=pl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=sXe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.next()):yield cn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield cn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield cn(c.return(new Uint8Array(0))))}return yield cn(null)})}function lXe(e){return Zd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?pl(i,a)[0]:([s,i,u]=pl(i,a),s)}({cmd:o,size:a}=yield yield cn(null));const c=new cXe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield cn(c.read()):yield cn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Mn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield cn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield cn(c.cancel(f)))}finally{r===!1?yield cn(c.cancel()):e.locked&&c.releaseLock()}return yield cn(null)})}class cXe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Ul(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Ul(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Mn(n)),n})}}const U2=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function fXe(e){return Zd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?pl(l,a)[0]:([c,l,u]=pl(l,a),c)}if({cmd:o,size:a}=yield yield cn(null),e.isTTY)return yield yield cn(new Uint8Array(0)),yield cn(null);try{n[0]=U2(e,"end"),n[1]=U2(e,"error");do{if(n[2]=U2(e,"readable"),[r,s]=yield cn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Mn(e.read(a-u)),c.byteLength<a-u&&(c=Mn(e.read()))):c=Mn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield cn(f()));while(a<u)}while(!i)}finally{yield cn(d(n,r==="error"?s:null))}return yield cn(null);function d(h,p){return c=l=null,new Promise((g,y)=>{for(const[m,v]of h)e.off(m,v);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var bs;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(bs||(bs={}));var ho;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ho||(ho={}));var Mi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Mi||(Mi={}));var ml;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(ml||(ml={}));var _t;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(_t||(_t={}));var gl;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(gl||(gl={}));var yi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(yi||(yi={}));var K;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(K||(K={}));var $l;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})($l||($l={}));const dXe=void 0;function kh(e){if(e===null)return"null";if(e===dXe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>kh(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const hXe=Symbol.for("isArrowBigNum");function du(e,...t){return t.length===0?Object.setPrototypeOf(pi(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}du.prototype[hXe]=!0;du.prototype.toJSON=function(){return`"${n_(this)}"`};du.prototype.valueOf=function(){return _ae(this)};du.prototype.toString=function(){return n_(this)};du.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return _ae(this);case"string":return n_(this);case"default":return pXe(this)}return n_(this)};function Cm(...e){return du.apply(this,e)}function Am(...e){return du.apply(this,e)}function t_(...e){return du.apply(this,e)}Object.setPrototypeOf(Cm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Am.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(t_.prototype,Object.create(Uint32Array.prototype));Object.assign(Cm.prototype,du.prototype,{constructor:Cm,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Am.prototype,du.prototype,{constructor:Am,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(t_.prototype,du.prototype,{constructor:t_,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function _ae(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const n_=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return V2(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return V2(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${V2(t)}`},pXe=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:n_(e);function V2(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class eM{static new(t,n){switch(n){case!0:return new Cm(t);case!1:return new Am(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Cm(t)}return t.byteLength===16?new t_(t):new Am(t)}static signed(t){return new Cm(t)}static unsigned(t){return new Am(t)}static decimal(t){return new t_(t)}constructor(t,n){return eM.new(t,n)}}function nu(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var bae,wae,Eae,Tae,Sae,xae,Iae,Cae,Aae,Pae,Oae,Rae,Nae,kae,Dae,$ae,Lae,Mae,Fae,jae;class jt{static isNull(t){return(t==null?void 0:t.typeId)===K.Null}static isInt(t){return(t==null?void 0:t.typeId)===K.Int}static isFloat(t){return(t==null?void 0:t.typeId)===K.Float}static isBinary(t){return(t==null?void 0:t.typeId)===K.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===K.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===K.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===K.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===K.Date}static isTime(t){return(t==null?void 0:t.typeId)===K.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===K.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===K.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===K.Duration}static isList(t){return(t==null?void 0:t.typeId)===K.List}static isStruct(t){return(t==null?void 0:t.typeId)===K.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===K.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===K.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===K.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===K.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===K.Dictionary}static isDenseUnion(t){return jt.isUnion(t)&&t.mode===ho.Dense}static isSparseUnion(t){return jt.isUnion(t)&&t.mode===ho.Sparse}get typeId(){return K.NONE}}bae=Symbol.toStringTag;jt[bae]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(jt.prototype);let mc=class extends jt{toString(){return"Null"}get typeId(){return K.Null}};wae=Symbol.toStringTag;mc[wae]=(e=>e[Symbol.toStringTag]="Null")(mc.prototype);class Is extends jt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return K.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Eae=Symbol.toStringTag;Is[Eae]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Is.prototype);class tM extends Is{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class nM extends Is{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class qf extends Is{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class rM extends Is{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class iM extends Is{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class sM extends Is{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class oM extends Is{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class aM extends Is{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(tM.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(nM.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(qf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(rM.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(iM.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(sM.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(oM.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(aM.prototype,"ArrayType",{value:BigUint64Array});class Yf extends jt{constructor(t){super(),this.precision=t}get typeId(){return K.Float}get ArrayType(){switch(this.precision){case Mi.HALF:return Uint16Array;case Mi.SINGLE:return Float32Array;case Mi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Tae=Symbol.toStringTag;Yf[Tae]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Yf.prototype);class Bae extends Yf{constructor(){super(Mi.HALF)}}class uM extends Yf{constructor(){super(Mi.SINGLE)}}class lM extends Yf{constructor(){super(Mi.DOUBLE)}}Object.defineProperty(Bae.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(uM.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(lM.prototype,"ArrayType",{value:Float64Array});let r_=class extends jt{constructor(){super()}get typeId(){return K.Binary}toString(){return"Binary"}};Sae=Symbol.toStringTag;r_[Sae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(r_.prototype);let lg=class extends jt{constructor(){super()}get typeId(){return K.Utf8}toString(){return"Utf8"}};xae=Symbol.toStringTag;lg[xae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(lg.prototype);let i_=class extends jt{constructor(){super()}get typeId(){return K.Bool}toString(){return"Bool"}};Iae=Symbol.toStringTag;i_[Iae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(i_.prototype);let jx=class extends jt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return K.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Cae=Symbol.toStringTag;jx[Cae]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(jx.prototype);class cg extends jt{constructor(t){super(),this.unit=t}get typeId(){return K.Date}toString(){return`Date${(this.unit+1)*32}<${ml[this.unit]}>`}}Aae=Symbol.toStringTag;cg[Aae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(cg.prototype);class mXe extends cg{constructor(){super(ml.DAY)}}class gXe extends cg{constructor(){super(ml.MILLISECOND)}}class gc extends jt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return K.Time}toString(){return`Time${this.bitWidth}<${_t[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Pae=Symbol.toStringTag;gc[Pae]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(gc.prototype);class yXe extends gc{constructor(){super(_t.SECOND,32)}}class vXe extends gc{constructor(){super(_t.MILLISECOND,32)}}class _Xe extends gc{constructor(){super(_t.MICROSECOND,64)}}class bXe extends gc{constructor(){super(_t.NANOSECOND,64)}}class Bx extends jt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return K.Timestamp}toString(){return`Timestamp<${_t[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Oae=Symbol.toStringTag;Bx[Oae]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(Bx.prototype);class fg extends jt{constructor(t){super(),this.unit=t}get typeId(){return K.Interval}toString(){return`Interval<${gl[this.unit]}>`}}Rae=Symbol.toStringTag;fg[Rae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(fg.prototype);class wXe extends fg{constructor(){super(gl.DAY_TIME)}}class EXe extends fg{constructor(){super(gl.YEAR_MONTH)}}let Ux=class extends jt{constructor(t){super(),this.unit=t}get typeId(){return K.Duration}toString(){return`Duration<${_t[this.unit]}>`}};Nae=Symbol.toStringTag;Ux[Nae]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(Ux.prototype);let dg=class extends jt{constructor(t){super(),this.children=[t]}get typeId(){return K.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};kae=Symbol.toStringTag;dg[kae]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(dg.prototype);class as extends jt{constructor(t){super(),this.children=t}get typeId(){return K.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Dae=Symbol.toStringTag;as[Dae]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(as.prototype);class s_ extends jt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return K.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}$ae=Symbol.toStringTag;s_[$ae]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(s_.prototype);let Vx=class extends jt{constructor(t){super(),this.byteWidth=t}get typeId(){return K.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Lae=Symbol.toStringTag;Vx[Lae]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Vx.prototype);let hg=class extends jt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return K.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Mae=Symbol.toStringTag;hg[Mae]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(hg.prototype);class o_ extends jt{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return K.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Fae=Symbol.toStringTag;o_[Fae]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(o_.prototype);const TXe=(e=>()=>++e)(-1);class Gf extends jt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?TXe():nu(r)}get typeId(){return K.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}jae=Symbol.toStringTag;Gf[jae]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Gf.prototype);function xu(e){const t=e;switch(e.typeId){case K.Decimal:return e.bitWidth/32;case K.Timestamp:return 2;case K.Date:return 1+t.unit;case K.Interval:return 1+t.unit;case K.FixedSizeList:return t.listSize;case K.FixedSizeBinary:return t.byteWidth;default:return 1}}class Gt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return SXe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Rp(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function SXe(e,t,n=!0){return typeof t=="number"?Rp(e,t,n):typeof t=="string"&&t in K?Rp(e,K[t],n):t&&t instanceof jt?Rp(e,ZH(t),n):t!=null&&t.type&&t.type instanceof jt?Rp(e,ZH(t.type),n):Rp(e,K.NONE,n)}function Rp(e,t,n=!0){let r=null;switch(t){case K.Null:r=e.visitNull;break;case K.Bool:r=e.visitBool;break;case K.Int:r=e.visitInt;break;case K.Int8:r=e.visitInt8||e.visitInt;break;case K.Int16:r=e.visitInt16||e.visitInt;break;case K.Int32:r=e.visitInt32||e.visitInt;break;case K.Int64:r=e.visitInt64||e.visitInt;break;case K.Uint8:r=e.visitUint8||e.visitInt;break;case K.Uint16:r=e.visitUint16||e.visitInt;break;case K.Uint32:r=e.visitUint32||e.visitInt;break;case K.Uint64:r=e.visitUint64||e.visitInt;break;case K.Float:r=e.visitFloat;break;case K.Float16:r=e.visitFloat16||e.visitFloat;break;case K.Float32:r=e.visitFloat32||e.visitFloat;break;case K.Float64:r=e.visitFloat64||e.visitFloat;break;case K.Utf8:r=e.visitUtf8;break;case K.Binary:r=e.visitBinary;break;case K.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case K.Date:r=e.visitDate;break;case K.DateDay:r=e.visitDateDay||e.visitDate;break;case K.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case K.Timestamp:r=e.visitTimestamp;break;case K.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case K.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case K.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case K.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case K.Time:r=e.visitTime;break;case K.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case K.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case K.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case K.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case K.Decimal:r=e.visitDecimal;break;case K.List:r=e.visitList;break;case K.Struct:r=e.visitStruct;break;case K.Union:r=e.visitUnion;break;case K.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case K.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case K.Dictionary:r=e.visitDictionary;break;case K.Interval:r=e.visitInterval;break;case K.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case K.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case K.Duration:r=e.visitDuration;break;case K.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case K.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case K.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case K.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case K.FixedSizeList:r=e.visitFixedSizeList;break;case K.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${K[t]}'`)}function ZH(e){switch(e.typeId){case K.Null:return K.Null;case K.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?K.Int8:K.Uint8;case 16:return n?K.Int16:K.Uint16;case 32:return n?K.Int32:K.Uint32;case 64:return n?K.Int64:K.Uint64}return K.Int}case K.Float:switch(e.precision){case Mi.HALF:return K.Float16;case Mi.SINGLE:return K.Float32;case Mi.DOUBLE:return K.Float64}return K.Float;case K.Binary:return K.Binary;case K.Utf8:return K.Utf8;case K.Bool:return K.Bool;case K.Decimal:return K.Decimal;case K.Time:switch(e.unit){case _t.SECOND:return K.TimeSecond;case _t.MILLISECOND:return K.TimeMillisecond;case _t.MICROSECOND:return K.TimeMicrosecond;case _t.NANOSECOND:return K.TimeNanosecond}return K.Time;case K.Timestamp:switch(e.unit){case _t.SECOND:return K.TimestampSecond;case _t.MILLISECOND:return K.TimestampMillisecond;case _t.MICROSECOND:return K.TimestampMicrosecond;case _t.NANOSECOND:return K.TimestampNanosecond}return K.Timestamp;case K.Date:switch(e.unit){case ml.DAY:return K.DateDay;case ml.MILLISECOND:return K.DateMillisecond}return K.Date;case K.Interval:switch(e.unit){case gl.DAY_TIME:return K.IntervalDayTime;case gl.YEAR_MONTH:return K.IntervalYearMonth}return K.Interval;case K.Duration:switch(e.unit){case _t.SECOND:return K.DurationSecond;case _t.MILLISECOND:return K.DurationMillisecond;case _t.MICROSECOND:return K.DurationMicrosecond;case _t.NANOSECOND:return K.DurationNanosecond}return K.Duration;case K.Map:return K.Map;case K.List:return K.List;case K.Struct:return K.Struct;case K.Union:switch(e.mode){case ho.Dense:return K.DenseUnion;case ho.Sparse:return K.SparseUnion}return K.Union;case K.FixedSizeBinary:return K.FixedSizeBinary;case K.FixedSizeList:return K.FixedSizeList;case K.Dictionary:return K.Dictionary}throw new Error(`Unrecognized type '${K[e.typeId]}'`)}Gt.prototype.visitInt8=null;Gt.prototype.visitInt16=null;Gt.prototype.visitInt32=null;Gt.prototype.visitInt64=null;Gt.prototype.visitUint8=null;Gt.prototype.visitUint16=null;Gt.prototype.visitUint32=null;Gt.prototype.visitUint64=null;Gt.prototype.visitFloat16=null;Gt.prototype.visitFloat32=null;Gt.prototype.visitFloat64=null;Gt.prototype.visitDateDay=null;Gt.prototype.visitDateMillisecond=null;Gt.prototype.visitTimestampSecond=null;Gt.prototype.visitTimestampMillisecond=null;Gt.prototype.visitTimestampMicrosecond=null;Gt.prototype.visitTimestampNanosecond=null;Gt.prototype.visitTimeSecond=null;Gt.prototype.visitTimeMillisecond=null;Gt.prototype.visitTimeMicrosecond=null;Gt.prototype.visitTimeNanosecond=null;Gt.prototype.visitDenseUnion=null;Gt.prototype.visitSparseUnion=null;Gt.prototype.visitIntervalDayTime=null;Gt.prototype.visitIntervalYearMonth=null;Gt.prototype.visitDuration=null;Gt.prototype.visitDurationSecond=null;Gt.prototype.visitDurationMillisecond=null;Gt.prototype.visitDurationMicrosecond=null;Gt.prototype.visitDurationNanosecond=null;const Uae=new Float64Array(1),Tp=new Uint32Array(Uae.buffer);function Vae(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function zae(e){if(e!==e)return 32256;Uae[0]=e;const t=(Tp[1]&2147483648)>>16&65535;let n=Tp[1]&2146435072,r=0;return n>=1089470464?Tp[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Tp[1]&1048575)>>10):n<=1056964608?(r=1048576+(Tp[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Tp[1]&1048575)+512>>10),t|n|r&65535}class xt extends Gt{}function Ot(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const xXe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},cM=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},IXe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},CXe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Hae=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},AXe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Rc=({values:e},t,n)=>{e[t]=n},fM=({values:e},t,n)=>{e[t]=n},Wae=({values:e},t,n)=>{e[t]=zae(n)},PXe=(e,t,n)=>{switch(e.type.precision){case Mi.HALF:return Wae(e,t,n);case Mi.SINGLE:case Mi.DOUBLE:return fM(e,t,n)}},dM=({values:e},t,n)=>{xXe(e,t,n.valueOf())},hM=({values:e},t,n)=>{cM(e,t*2,n.valueOf())},qae=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},OXe=({values:e,valueOffsets:t},n,r)=>Hae(e,t,n,r),RXe=({values:e,valueOffsets:t},n,r)=>{Hae(e,t,n,XL(r))},Yae=(e,t,n)=>{e.type.unit===ml.DAY?dM(e,t,n):hM(e,t,n)},pM=({values:e},t,n)=>cM(e,t*2,n/1e3),mM=({values:e},t,n)=>cM(e,t*2,n),gM=({values:e},t,n)=>IXe(e,t*2,n),yM=({values:e},t,n)=>CXe(e,t*2,n),Gae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return pM(e,t,n);case _t.MILLISECOND:return mM(e,t,n);case _t.MICROSECOND:return gM(e,t,n);case _t.NANOSECOND:return yM(e,t,n)}},vM=({values:e},t,n)=>{e[t]=n},_M=({values:e},t,n)=>{e[t]=n},bM=({values:e},t,n)=>{e[t]=n},wM=({values:e},t,n)=>{e[t]=n},Kae=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return vM(e,t,n);case _t.MILLISECOND:return _M(e,t,n);case _t.MICROSECOND:return bM(e,t,n);case _t.NANOSECOND:return wM(e,t,n)}},Qae=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},NXe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ya.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},kXe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ya.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},DXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),$Xe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),LXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),MXe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),FXe=(e,t,n)=>{const r=e.type.children.map(s=>ya.getVisitFn(s.type)),i=n instanceof Map?LXe(t,n):n instanceof Tn?$Xe(t,n):Array.isArray(n)?DXe(t,n):MXe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},jXe=(e,t,n)=>{e.type.mode===ho.Dense?Xae(e,t,n):Jae(e,t,n)},Xae=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ya.visit(i,e.valueOffsets[t],n)},Jae=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ya.visit(i,t,n)},BXe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Zae=(e,t,n)=>{e.type.unit===gl.DAY_TIME?EM(e,t,n):TM(e,t,n)},EM=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},TM=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},SM=({values:e},t,n)=>{e[t]=n},xM=({values:e},t,n)=>{e[t]=n},IM=({values:e},t,n)=>{e[t]=n},CM=({values:e},t,n)=>{e[t]=n},eue=(e,t,n)=>{switch(e.type.unit){case _t.SECOND:return SM(e,t,n);case _t.MILLISECOND:return xM(e,t,n);case _t.MICROSECOND:return IM(e,t,n);case _t.NANOSECOND:return CM(e,t,n)}},UXe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ya.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};xt.prototype.visitBool=Ot(AXe);xt.prototype.visitInt=Ot(Rc);xt.prototype.visitInt8=Ot(Rc);xt.prototype.visitInt16=Ot(Rc);xt.prototype.visitInt32=Ot(Rc);xt.prototype.visitInt64=Ot(Rc);xt.prototype.visitUint8=Ot(Rc);xt.prototype.visitUint16=Ot(Rc);xt.prototype.visitUint32=Ot(Rc);xt.prototype.visitUint64=Ot(Rc);xt.prototype.visitFloat=Ot(PXe);xt.prototype.visitFloat16=Ot(Wae);xt.prototype.visitFloat32=Ot(fM);xt.prototype.visitFloat64=Ot(fM);xt.prototype.visitUtf8=Ot(RXe);xt.prototype.visitBinary=Ot(OXe);xt.prototype.visitFixedSizeBinary=Ot(qae);xt.prototype.visitDate=Ot(Yae);xt.prototype.visitDateDay=Ot(dM);xt.prototype.visitDateMillisecond=Ot(hM);xt.prototype.visitTimestamp=Ot(Gae);xt.prototype.visitTimestampSecond=Ot(pM);xt.prototype.visitTimestampMillisecond=Ot(mM);xt.prototype.visitTimestampMicrosecond=Ot(gM);xt.prototype.visitTimestampNanosecond=Ot(yM);xt.prototype.visitTime=Ot(Kae);xt.prototype.visitTimeSecond=Ot(vM);xt.prototype.visitTimeMillisecond=Ot(_M);xt.prototype.visitTimeMicrosecond=Ot(bM);xt.prototype.visitTimeNanosecond=Ot(wM);xt.prototype.visitDecimal=Ot(Qae);xt.prototype.visitList=Ot(NXe);xt.prototype.visitStruct=Ot(FXe);xt.prototype.visitUnion=Ot(jXe);xt.prototype.visitDenseUnion=Ot(Xae);xt.prototype.visitSparseUnion=Ot(Jae);xt.prototype.visitDictionary=Ot(BXe);xt.prototype.visitInterval=Ot(Zae);xt.prototype.visitIntervalDayTime=Ot(EM);xt.prototype.visitIntervalYearMonth=Ot(TM);xt.prototype.visitDuration=Ot(eue);xt.prototype.visitDurationSecond=Ot(SM);xt.prototype.visitDurationMillisecond=Ot(xM);xt.prototype.visitDurationMicrosecond=Ot(IM);xt.prototype.visitDurationNanosecond=Ot(CM);xt.prototype.visitFixedSizeList=Ot(UXe);xt.prototype.visitMap=Ot(kXe);const ya=new xt,$a=Symbol.for("parent"),Pm=Symbol.for("rowIndex");class AM{constructor(t,n){return this[$a]=t,this[Pm]=n,new Proxy(this,new zXe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Pm],n=this[$a],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=po.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${kh(t)}: ${kh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new VXe(this[$a],this[Pm])}}class VXe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,po.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(AM.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$a]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Pm]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class zXe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[$a].type.children.map(n=>n.name)}has(t,n){return t[$a].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[$a].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[$a].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=po.visit(t[$a].children[r],t[Pm]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[$a].type.children.findIndex(s=>s.name===n);return i!==-1?(ya.visit(t[$a].children[i],t[Pm],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class bt extends Gt{}function It(e){return(t,n)=>t.getValid(n)?e(t,n):null}const HXe=(e,t)=>864e5*e[t],PM=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),WXe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,qXe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,tue=e=>new Date(e),YXe=(e,t)=>tue(HXe(e,t)),GXe=(e,t)=>tue(PM(e,t)),KXe=(e,t)=>null,nue=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},QXe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},rue=({values:e},t)=>YXe(e,t),iue=({values:e},t)=>GXe(e,t*2),md=({stride:e,values:t},n)=>t[e*n],XXe=({stride:e,values:t},n)=>Vae(t[e*n]),sue=({values:e},t)=>e[t],JXe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),ZXe=({values:e,valueOffsets:t},n)=>nue(e,t,n),eJe=({values:e,valueOffsets:t},n)=>{const r=nue(e,t,n);return r!==null?Xk(r):null},tJe=({values:e},t)=>e[t],nJe=({type:e,values:t},n)=>e.precision!==Mi.HALF?t[n]:Vae(t[n]),rJe=(e,t)=>e.type.unit===ml.DAY?rue(e,t):iue(e,t),oue=({values:e},t)=>1e3*PM(e,t*2),aue=({values:e},t)=>PM(e,t*2),uue=({values:e},t)=>WXe(e,t*2),lue=({values:e},t)=>qXe(e,t*2),iJe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return oue(e,t);case _t.MILLISECOND:return aue(e,t);case _t.MICROSECOND:return uue(e,t);case _t.NANOSECOND:return lue(e,t)}},cue=({values:e},t)=>e[t],fue=({values:e},t)=>e[t],due=({values:e},t)=>e[t],hue=({values:e},t)=>e[t],sJe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return cue(e,t);case _t.MILLISECOND:return fue(e,t);case _t.MICROSECOND:return due(e,t);case _t.NANOSECOND:return hue(e,t)}},oJe=({values:e,stride:t},n)=>eM.decimal(e.subarray(t*n,t*(n+1))),aJe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new Tn([u])},uJe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new AA(o.slice(i,s-i))},lJe=(e,t)=>new AM(e,t),cJe=(e,t)=>e.type.mode===ho.Dense?pue(e,t):mue(e,t),pue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return po.visit(r,e.valueOffsets[t])},mue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return po.visit(r,t)},fJe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},dJe=(e,t)=>e.type.unit===gl.DAY_TIME?gue(e,t):yue(e,t),gue=({values:e},t)=>e.subarray(2*t,2*(t+1)),yue=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},vue=({values:e},t)=>e[t],_ue=({values:e},t)=>e[t],bue=({values:e},t)=>e[t],wue=({values:e},t)=>e[t],hJe=(e,t)=>{switch(e.type.unit){case _t.SECOND:return vue(e,t);case _t.MILLISECOND:return _ue(e,t);case _t.MICROSECOND:return bue(e,t);case _t.NANOSECOND:return wue(e,t)}},pJe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Tn([s])};bt.prototype.visitNull=It(KXe);bt.prototype.visitBool=It(QXe);bt.prototype.visitInt=It(tJe);bt.prototype.visitInt8=It(md);bt.prototype.visitInt16=It(md);bt.prototype.visitInt32=It(md);bt.prototype.visitInt64=It(sue);bt.prototype.visitUint8=It(md);bt.prototype.visitUint16=It(md);bt.prototype.visitUint32=It(md);bt.prototype.visitUint64=It(sue);bt.prototype.visitFloat=It(nJe);bt.prototype.visitFloat16=It(XXe);bt.prototype.visitFloat32=It(md);bt.prototype.visitFloat64=It(md);bt.prototype.visitUtf8=It(eJe);bt.prototype.visitBinary=It(ZXe);bt.prototype.visitFixedSizeBinary=It(JXe);bt.prototype.visitDate=It(rJe);bt.prototype.visitDateDay=It(rue);bt.prototype.visitDateMillisecond=It(iue);bt.prototype.visitTimestamp=It(iJe);bt.prototype.visitTimestampSecond=It(oue);bt.prototype.visitTimestampMillisecond=It(aue);bt.prototype.visitTimestampMicrosecond=It(uue);bt.prototype.visitTimestampNanosecond=It(lue);bt.prototype.visitTime=It(sJe);bt.prototype.visitTimeSecond=It(cue);bt.prototype.visitTimeMillisecond=It(fue);bt.prototype.visitTimeMicrosecond=It(due);bt.prototype.visitTimeNanosecond=It(hue);bt.prototype.visitDecimal=It(oJe);bt.prototype.visitList=It(aJe);bt.prototype.visitStruct=It(lJe);bt.prototype.visitUnion=It(cJe);bt.prototype.visitDenseUnion=It(pue);bt.prototype.visitSparseUnion=It(mue);bt.prototype.visitDictionary=It(fJe);bt.prototype.visitInterval=It(dJe);bt.prototype.visitIntervalDayTime=It(gue);bt.prototype.visitIntervalYearMonth=It(yue);bt.prototype.visitDuration=It(hJe);bt.prototype.visitDurationSecond=It(vue);bt.prototype.visitDurationMillisecond=It(_ue);bt.prototype.visitDurationMicrosecond=It(bue);bt.prototype.visitDurationNanosecond=It(wue);bt.prototype.visitFixedSizeList=It(pJe);bt.prototype.visitMap=It(uJe);const po=new bt,za=Symbol.for("keys"),Om=Symbol.for("vals");class AA{constructor(t){return this[za]=new Tn([t.children[0]]).memoize(),this[Om]=t.children[1],new Proxy(this,new gJe)}[Symbol.iterator](){return new mJe(this[za],this[Om])}get size(){return this[za].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[za],n=this[Om],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=po.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${kh(t)}: ${kh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class mJe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),po.visit(this.vals,t)]})}}class gJe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[za].toArray().map(String)}has(t,n){return t[za].includes(n)}getOwnPropertyDescriptor(t,n){if(t[za].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[za].indexOf(n);if(r!==-1){const i=po.visit(Reflect.get(t,Om),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[za].indexOf(n);return i!==-1?(ya.visit(Reflect.get(t,Om),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(AA.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[za]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Om]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let eW;function Eue(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(eW=s,s=o,o=eW),o>i&&(o=i),r?r(e,s,o):[s,o]}const tW=e=>e!==e;function Gg(e){if(typeof e!=="object"||e===null)return tW(e)?tW:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?oXe(e,n):!1:e instanceof Map?vJe(e):Array.isArray(e)?yJe(e):e instanceof Tn?_Je(e):bJe(e,!0)}function yJe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Gg(e[n]);return PA(t)}function vJe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Gg(r);return PA(n)}function _Je(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Gg(e.get(n));return PA(t)}function bJe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Gg(e[n[i]]);return PA(r,n)}function PA(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return wJe(e,n);case Map:return nW(e,n,n.keys());case AA:case AM:case Object:case void 0:return nW(e,n,t||Object.keys(n))}return n instanceof Tn?EJe(e,n):!1}}function wJe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function EJe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function nW(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Tue(e,t,n,r){return(n&1<<r)!==0}function TJe(e,t,n,r){return(n&1<<r)>>r}function zx(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Sue(new OM(n,e,t,null,Tue)).subarray(0,r)),i}return n}function Sue(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class OM{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Zk(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new OM(e,t,n-t,e,TJe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return Zk(e,t,i)+Zk(e,r,n)+SJe(e,i>>3,r-i>>3)}function SJe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=z2(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=z2(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=z2(s.getUint8(i)),i+=1;return r}function z2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const xJe=-1;class Ln{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return jt.isSparseUnion(t)?this.children.some(n=>n.nullable):jt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(jt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=xJe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-Zk(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Ln?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=xu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(jt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===ho.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(jt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===ho.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(zx(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Ln(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===K.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(zx(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[$l.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[$l.TYPE])&&(o[$l.TYPE]=s.subarray(t,t+n)),(s=o[$l.OFFSET])&&(o[$l.OFFSET]=s.subarray(t,t+n+1))||(s=o[$l.DATA])&&(o[$l.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Ln.prototype.children=Object.freeze([]);class tv extends Gt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Ln(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.data),s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Mn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=pi(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(jt.isSparseUnion(n))return new Ln(n,r,o,a,[void 0,void 0,void 0,s],i);const u=G0(t.valueOffsets);return new Ln(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.indices.ArrayType,t.data),{["dictionary"]:o=new Tn([new tv().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Mn(t.nullBitmap),s=pi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new tv().visit({type:n.valueType})}=t,s=Mn(t.nullBitmap),{["length"]:o=i.length/xu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new tv().visit({type:n.childType})}=t,s=Mn(t.nullBitmap),o=G0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}}const IJe=new tv;function ns(e){return IJe.visit(e)}class rW{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function xue(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Iue(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Cue(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function RM(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function NM(e,t){return e.getValid(t)}function Rm(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return RM(r,this._offsets,n,t)}}function Aue(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=RM(s,this._offsets,r,n);return t=void 0,o}}function Pue(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):RM(s,this._offsets,i,n);return t=void 0,o}}class wt extends Gt{}function CJe(e,t){return t===null&&e.length>0?0:-1}function AJe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new OM(n,e.offset+(t||0),e.length,n,Tue)){if(!i)return r;++r}return-1}function $t(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case K.Union:break;case K.Dictionary:break;default:return AJe(e,n)}const r=po.getVisitFn(e),i=Gg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Oue(e,t,n){const r=po.getVisitFn(e),i=Gg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}wt.prototype.visitNull=CJe;wt.prototype.visitBool=$t;wt.prototype.visitInt=$t;wt.prototype.visitInt8=$t;wt.prototype.visitInt16=$t;wt.prototype.visitInt32=$t;wt.prototype.visitInt64=$t;wt.prototype.visitUint8=$t;wt.prototype.visitUint16=$t;wt.prototype.visitUint32=$t;wt.prototype.visitUint64=$t;wt.prototype.visitFloat=$t;wt.prototype.visitFloat16=$t;wt.prototype.visitFloat32=$t;wt.prototype.visitFloat64=$t;wt.prototype.visitUtf8=$t;wt.prototype.visitBinary=$t;wt.prototype.visitFixedSizeBinary=$t;wt.prototype.visitDate=$t;wt.prototype.visitDateDay=$t;wt.prototype.visitDateMillisecond=$t;wt.prototype.visitTimestamp=$t;wt.prototype.visitTimestampSecond=$t;wt.prototype.visitTimestampMillisecond=$t;wt.prototype.visitTimestampMicrosecond=$t;wt.prototype.visitTimestampNanosecond=$t;wt.prototype.visitTime=$t;wt.prototype.visitTimeSecond=$t;wt.prototype.visitTimeMillisecond=$t;wt.prototype.visitTimeMicrosecond=$t;wt.prototype.visitTimeNanosecond=$t;wt.prototype.visitDecimal=$t;wt.prototype.visitList=$t;wt.prototype.visitStruct=$t;wt.prototype.visitUnion=$t;wt.prototype.visitDenseUnion=Oue;wt.prototype.visitSparseUnion=Oue;wt.prototype.visitDictionary=$t;wt.prototype.visitInterval=$t;wt.prototype.visitIntervalDayTime=$t;wt.prototype.visitIntervalYearMonth=$t;wt.prototype.visitDuration=$t;wt.prototype.visitDurationSecond=$t;wt.prototype.visitDurationMillisecond=$t;wt.prototype.visitDurationMicrosecond=$t;wt.prototype.visitDurationNanosecond=$t;wt.prototype.visitFixedSizeList=$t;wt.prototype.visitMap=$t;const Hx=new wt;class Et extends Gt{}function Ct(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===K.Timestamp||t instanceof Is&&t.bitWidth!==64||t instanceof gc&&t.bitWidth!==64||t instanceof Yf&&t.precision!==Mi.HALF))return new rW(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new rW(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new PJe(o)})}class PJe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Et.prototype.visitNull=Ct;Et.prototype.visitBool=Ct;Et.prototype.visitInt=Ct;Et.prototype.visitInt8=Ct;Et.prototype.visitInt16=Ct;Et.prototype.visitInt32=Ct;Et.prototype.visitInt64=Ct;Et.prototype.visitUint8=Ct;Et.prototype.visitUint16=Ct;Et.prototype.visitUint32=Ct;Et.prototype.visitUint64=Ct;Et.prototype.visitFloat=Ct;Et.prototype.visitFloat16=Ct;Et.prototype.visitFloat32=Ct;Et.prototype.visitFloat64=Ct;Et.prototype.visitUtf8=Ct;Et.prototype.visitBinary=Ct;Et.prototype.visitFixedSizeBinary=Ct;Et.prototype.visitDate=Ct;Et.prototype.visitDateDay=Ct;Et.prototype.visitDateMillisecond=Ct;Et.prototype.visitTimestamp=Ct;Et.prototype.visitTimestampSecond=Ct;Et.prototype.visitTimestampMillisecond=Ct;Et.prototype.visitTimestampMicrosecond=Ct;Et.prototype.visitTimestampNanosecond=Ct;Et.prototype.visitTime=Ct;Et.prototype.visitTimeSecond=Ct;Et.prototype.visitTimeMillisecond=Ct;Et.prototype.visitTimeMicrosecond=Ct;Et.prototype.visitTimeNanosecond=Ct;Et.prototype.visitDecimal=Ct;Et.prototype.visitList=Ct;Et.prototype.visitStruct=Ct;Et.prototype.visitUnion=Ct;Et.prototype.visitDenseUnion=Ct;Et.prototype.visitSparseUnion=Ct;Et.prototype.visitDictionary=Ct;Et.prototype.visitInterval=Ct;Et.prototype.visitIntervalDayTime=Ct;Et.prototype.visitIntervalYearMonth=Ct;Et.prototype.visitDuration=Ct;Et.prototype.visitDurationSecond=Ct;Et.prototype.visitDurationMillisecond=Ct;Et.prototype.visitDurationMicrosecond=Ct;Et.prototype.visitDurationNanosecond=Ct;Et.prototype.visitFixedSizeList=Ct;Et.prototype.visitMap=Ct;const kM=new Et,OJe=(e,t)=>e+t;class gd extends Gt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===_t.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+yl.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+yl.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const RJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),NJe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),kJe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=yl.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},DJe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=yl.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},$Je=(e,t)=>e.type.mode===ho.Dense?Rue(e,t):Nue(e,t),Rue=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+yl.visit(t[s],r[i])},Nue=({children:e},t)=>4+yl.visitMany(e,e.map(()=>t)).reduce(OJe,0);gd.prototype.visitUtf8=RJe;gd.prototype.visitBinary=NJe;gd.prototype.visitList=kJe;gd.prototype.visitFixedSizeList=DJe;gd.prototype.visitUnion=$Je;gd.prototype.visitDenseUnion=Rue;gd.prototype.visitSparseUnion=Nue;const yl=new gd;var kue;const Due={},$ue={};class Tn{constructor(t){var n,r,i;const s=t[0]instanceof Tn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Ln)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Due[o.typeId],f=s[0];this.isValid=d=>NM(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,$ue[o.typeId]),this._offsets=Iue(s);break}this.data=s,this.type=o,this.stride=xu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return xue(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return kM.visit(this)}concat(...t){return new Tn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Tn(Eue(this,t,n,({data:r,_offsets:i},s,o)=>Cue(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case K.Int:case K.Float:case K.Decimal:case K.Time:case K.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Tn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return jt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(jt.isDictionary(this.type)){const t=new Wx(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return new Wx(this)}unmemoize(){if(jt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Tn(n)}return this}}kue=Symbol.toStringTag;Tn[kue]=(e=>{e.type=jt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(K).map(n=>K[n]).filter(n=>typeof n=="number"&&n!==K.NONE);for(const n of t){const r=po.getVisitFnByTypeId(n),i=ya.getVisitFnByTypeId(n),s=Hx.getVisitFnByTypeId(n),o=yl.getVisitFnByTypeId(n);Due[n]={get:r,set:i,indexOf:s,byteLength:o},$ue[n]=Object.create(e,{isValid:{value:Rm(NM)},get:{value:Rm(po.getVisitFnByTypeId(n))},set:{value:Aue(ya.getVisitFnByTypeId(n))},indexOf:{value:Pue(Hx.getVisitFnByTypeId(n))},getByteLength:{value:Rm(yl.getVisitFnByTypeId(n))}})}return"Vector"})(Tn.prototype);class Wx extends Tn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Wx(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Tn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function LJe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${MJe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function MJe(e){return typeof e!="bigint"?kh(e):`${kh(e)}n`}const H2=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,FJe=(e,t=0)=>e.length>=t?e.subarray(0,t):Fx(new e.constructor(t),e,0);class OA{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?H2(r*1,this.BYTES_PER_ELEMENT):H2(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=H2(t*this.stride,this.BYTES_PER_ELEMENT);const n=FJe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=Fx(new this.ArrayType(t),this.buffer)}}OA.prototype.offset=0;class A1 extends OA{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class Lue extends A1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Mue extends A1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let go=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=xu(t),this._nulls=new Lue,n&&n.length>0&&(this._isValid=LJe(n))}toVector(){return new Tn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),ns({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};go.prototype.length=1;go.prototype.stride=1;go.prototype.children=null;go.prototype.finished=!1;go.prototype.nullValues=null;go.prototype._isValid=()=>!0;class Nc extends go{constructor(t){super(t),this._values=new A1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class RA extends go{constructor(t){super(t),this._pendingLength=0,this._offsets=new Mue}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof AA?n[za].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class eD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const W2=2,Nu=4,Vl=4,Wn=4,tf=new Int32Array(2),iW=new Float32Array(tf.buffer),sW=new Float64Array(tf.buffer),cw=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var tD;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(tD||(tD={}));let qx=class Fue{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Fue(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return tf[0]=this.readInt32(t),iW[0]}readFloat64(t){return tf[cw?0:1]=this.readInt32(t),tf[cw?1:0]=this.readInt32(t+4),sW[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){iW[0]=n,this.writeInt32(t,tf[0])}writeFloat64(t,n){sW[0]=n,this.writeInt32(t,tf[cw?0:1]),this.writeInt32(t+4,tf[cw?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Nu+Vl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Vl;n++)t+=String.fromCharCode(this.readInt8(this.position_+Nu+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Nu;const i=this.bytes_.subarray(t,t+r);return n===tD.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Nu}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Vl)throw new Error("FlatBuffers: file identifier must be length "+Vl);for(let n=0;n<Vl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Nu+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},jue=class Bue{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=qx.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Bue.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=qx.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Nu,0),this.writeInt32(this.offset()-t+Nu)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*W2;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=W2;l<s;l+=W2)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Wn:0;if(n){const s=n;if(this.prep(this.minalign,Nu+Vl+i),s.length!=Vl)throw new TypeError("FlatBuffers: file identifier must be length "+Vl);for(let o=Vl-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Nu+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Nu,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ii{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Wn),(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return ii.startKeyValue(t),ii.addKey(t,n),ii.addValue(t,r),ii.endKeyValue(t)}}var pg;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(pg||(pg={}));var mg;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(mg||(mg={}));var Yx;(function(e){e[e.DenseArray=0]="DenseArray"})(Yx||(Yx={}));class xo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new xo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Wn),(n||new xo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return xo.startInt(t),xo.addBitWidth(t,n),xo.addIsSigned(t,r),xo.endInt(t)}}class zl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new zl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Wn),(n||new zl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new xo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Yx.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,Yx.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class eh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Wn),(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return eh.startBinary(t),eh.endBinary(t)}}class th{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Wn),(n||new th).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return th.startBool(t),th.endBool(t)}}var Gx;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Gx||(Gx={}));let wE=class Np{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Wn),(n||new Np).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Gx.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Gx.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Np.startDate(t),Np.addUnit(t,n),Np.endDate(t)}};class Hs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Hs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Wn),(n||new Hs).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Hs.startDecimal(t),Hs.addPrecision(t,n),Hs.addScale(t,r),Hs.addBitWidth(t,i),Hs.endDecimal(t)}}var Kf;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Kf||(Kf={}));class ku{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Wn),(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return ku.startDuration(t),ku.addUnit(t,n),ku.endDuration(t)}}class Du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Wn),(n||new Du).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Du.startFixedSizeBinary(t),Du.addByteWidth(t,n),Du.endFixedSizeBinary(t)}}class $u{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Wn),(n||new $u).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return $u.startFixedSizeList(t),$u.addListSize(t,n),$u.endFixedSizeList(t)}}var Kx;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Kx||(Kx={}));class Lu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Wn),(n||new Lu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kx.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Kx.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Lu.startFloatingPoint(t),Lu.addPrecision(t,n),Lu.endFloatingPoint(t)}}var Qx;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Qx||(Qx={}));class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Wn),(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Qx.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Qx.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Mu.startInterval(t),Mu.addUnit(t,n),Mu.endInterval(t)}}class nh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Wn),(n||new nh).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return nh.startList(t),nh.endList(t)}}let EE=class kp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Wn),(n||new kp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return kp.startMap(t),kp.addKeysSorted(t,n),kp.endMap(t)}};class rh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Wn),(n||new rh).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return rh.startNull(t),rh.endNull(t)}}class ih{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Wn),(n||new ih).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ih.startStruct_(t),ih.endStruct_(t)}}class ea{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ea).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Wn),(n||new ea).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ea.startTime(t),ea.addUnit(t,n),ea.addBitWidth(t,r),ea.endTime(t)}}let yy=class Nd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Nd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Wn),(n||new Nd).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Kf.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Kf.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Nd.startTimestamp(t),Nd.addUnit(t,n),Nd.addTimezone(t,r),Nd.endTimestamp(t)}};var Xx;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Xx||(Xx={}));class Ys{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Ys).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Wn),(n||new Ys).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Xx.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Xx.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Ys.startUnion(t),Ys.addMode(t,n),Ys.addTypeIds(t,r),Ys.endUnion(t)}}class sh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Wn),(n||new sh).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return sh.startUtf8(t),sh.endUtf8(t)}}var dr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(dr||(dr={}));let Go=class TE{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new TE).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Wn),(n||new TE).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):dr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new zl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new TE).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,dr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Tu=class kl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new kl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Wn),(n||new kl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mg.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Go).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,mg.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return kl.startSchema(t),kl.addEndianness(t,n),kl.addFields(t,r),kl.addCustomMetadata(t,i),kl.addFeatures(t,s),kl.endSchema(t)}};class Eo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Eo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Wn),(n||new Eo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pg.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Tu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new eD).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new eD).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,pg.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Dn{constructor(t=[],n,r,i=bs.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=nD(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Dn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Dn(n,this.metadata)}assign(...t){const n=t[0]instanceof Dn?t[0]:Array.isArray(t[0])?new Dn(t[0]):new Dn(t),r=[...this.fields],i=fw(fw(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:fw(fw(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=nD(s,new Map);return new Dn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Dn.prototype.fields=null;Dn.prototype.metadata=null;Dn.prototype.dictionaries=null;class Rn{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Rn(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Rn.new(n,r,i,s)}}Rn.prototype.type=null;Rn.prototype.name=null;Rn.prototype.nullable=null;Rn.prototype.metadata=null;function fw(e,t){return new Map([...e||new Map,...t||new Map])}function nD(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(jt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&nD(s.children,t)}return t}var jJe=jue,BJe=qx;class rD{static decode(t){t=new BJe(Mn(t));const n=Eo.getRootAsFooter(t),r=Dn.decode(n.schema(),new Map,n.version());return new UJe(r,n)}static encode(t){const n=new jJe,r=Dn.encode(n,t.schema);Eo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Qf.encode(n,o);const i=n.endVector();Eo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Qf.encode(n,o);const s=n.endVector();return Eo.startFooter(n),Eo.addSchema(n,r),Eo.addVersion(n,bs.V5),Eo.addRecordBatches(n,i),Eo.addDictionaries(n,s),Eo.finishFooterBuffer(n,Eo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=bs.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class UJe extends rD{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Qf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Qf.decode(n)}return null}}class Qf{static decode(t){return new Qf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return eD.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=nu(r),this.bodyLength=nu(n)}}const dw=Object.freeze({done:!0,value:void 0});class Uue{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class VJe extends Uue{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Ul(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(dw);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return JH.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return JH.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Ul(this,void 0,void 0,function*(){return yield this.abort(t),dw})}return(t){return Ul(this,void 0,void 0,function*(){return yield this.close(),dw})}read(t){return Ul(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ul(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(dw)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class q2 extends VJe{write(t){if((t=Mn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Xk(this.toUint8Array(!0)):this.toUint8Array(!1).then(Xk)}toUint8Array(t=!1){return t?pl(this._values)[0]:Ul(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=ev(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return pl(o,a)[0]})}}class Vue extends RA{constructor(t){super(t),this._values=new OA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Mn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class zJe extends go{constructor(t){super(t),this._values=new Lue}setValue(t,n){this._values.set(t,+n)}}class NA extends Nc{}NA.prototype._setValue=Yae;class zue extends NA{}zue.prototype._setValue=dM;class Hue extends NA{}Hue.prototype._setValue=hM;class Wue extends Nc{}Wue.prototype._setValue=Qae;class HJe extends go{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Gf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Jx({type:this.type.indices,nullValues:n}),this.dictionary=Jx({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class que extends Nc{}que.prototype._setValue=qae;class WJe extends go{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new hg(this.type.listSize,new Rn(n,t.type,!0)),r}}class kA extends Nc{setValue(t,n){this._values.set(t,n)}}class qJe extends kA{setValue(t,n){super.setValue(t,zae(n))}}class YJe extends kA{}class GJe extends kA{}class DA extends Nc{}DA.prototype._setValue=Zae;class Yue extends DA{}Yue.prototype._setValue=EM;class Gue extends DA{}Gue.prototype._setValue=TM;class Kg extends Nc{}Kg.prototype._setValue=eue;class Kue extends Kg{}Kue.prototype._setValue=SM;class Que extends Kg{}Que.prototype._setValue=xM;class Xue extends Kg{}Xue.prototype._setValue=IM;class Jue extends Kg{}Jue.prototype._setValue=CM;class kc extends Nc{setValue(t,n){this._values.set(t,n)}}class KJe extends kc{}class QJe extends kc{}class XJe extends kc{}class JJe extends kc{}class ZJe extends kc{}class eZe extends kc{}class tZe extends kc{}class nZe extends kc{}class rZe extends RA{constructor(t){super(t),this._offsets=new Mue}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new dg(new Rn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class iZe extends RA{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new o_(new Rn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class sZe extends go{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class oZe extends go{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new as([...this.type.children,new Rn(n,t.type,!0)]),r}}class Qg extends Nc{}Qg.prototype._setValue=Gae;class Zue extends Qg{}Zue.prototype._setValue=pM;class ele extends Qg{}ele.prototype._setValue=mM;class tle extends Qg{}tle.prototype._setValue=gM;class nle extends Qg{}nle.prototype._setValue=yM;class Xg extends Nc{}Xg.prototype._setValue=Kae;class rle extends Xg{}rle.prototype._setValue=vM;class ile extends Xg{}ile.prototype._setValue=_M;class sle extends Xg{}sle.prototype._setValue=bM;class ole extends Xg{}ole.prototype._setValue=wM;class DM extends go{constructor(t){super(t),this._typeIds=new A1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Rn(n,t.type)];return this.type=new s_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class aZe extends DM{}class uZe extends DM{constructor(t){super(t),this._offsets=new A1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class ale extends RA{constructor(t){super(t),this._values=new OA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,XL(n))}_flushPending(t,n){}}ale.prototype._flushPending=Vue.prototype._flushPending;class lZe extends Gt{visitNull(){return sZe}visitBool(){return zJe}visitInt(){return kc}visitInt8(){return KJe}visitInt16(){return QJe}visitInt32(){return XJe}visitInt64(){return JJe}visitUint8(){return ZJe}visitUint16(){return eZe}visitUint32(){return tZe}visitUint64(){return nZe}visitFloat(){return kA}visitFloat16(){return qJe}visitFloat32(){return YJe}visitFloat64(){return GJe}visitUtf8(){return ale}visitBinary(){return Vue}visitFixedSizeBinary(){return que}visitDate(){return NA}visitDateDay(){return zue}visitDateMillisecond(){return Hue}visitTimestamp(){return Qg}visitTimestampSecond(){return Zue}visitTimestampMillisecond(){return ele}visitTimestampMicrosecond(){return tle}visitTimestampNanosecond(){return nle}visitTime(){return Xg}visitTimeSecond(){return rle}visitTimeMillisecond(){return ile}visitTimeMicrosecond(){return sle}visitTimeNanosecond(){return ole}visitDecimal(){return Wue}visitList(){return rZe}visitStruct(){return oZe}visitUnion(){return DM}visitDenseUnion(){return uZe}visitSparseUnion(){return aZe}visitDictionary(){return HJe}visitInterval(){return DA}visitIntervalDayTime(){return Yue}visitIntervalYearMonth(){return Gue}visitDuration(){return Kg}visitDurationSecond(){return Kue}visitDurationMillisecond(){return Que}visitDurationMicrosecond(){return Xue}visistDurationNanosecond(){return Jue}visitFixedSizeList(){return WJe}visitMap(){return iZe}}const cZe=new lZe;class Tt extends Gt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Ps(e,t){return t instanceof e.constructor}function P1(e,t){return e===t||Ps(e,t)}function Dc(e,t){return e===t||Ps(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function $A(e,t){return e===t||Ps(e,t)&&e.precision===t.precision}function fZe(e,t){return e===t||Ps(e,t)&&e.byteWidth===t.byteWidth}function $M(e,t){return e===t||Ps(e,t)&&e.unit===t.unit}function O1(e,t){return e===t||Ps(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function R1(e,t){return e===t||Ps(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function dZe(e,t){return e===t||Ps(e,t)&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function hZe(e,t){return e===t||Ps(e,t)&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function LM(e,t){return e===t||Ps(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Xf.compareManyFields(e.children,t.children)}function pZe(e,t){return e===t||Ps(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Xf.visit(e.indices,t.indices)&&Xf.visit(e.dictionary,t.dictionary)}function MM(e,t){return e===t||Ps(e,t)&&e.unit===t.unit}function N1(e,t){return e===t||Ps(e,t)&&e.unit===t.unit}function mZe(e,t){return e===t||Ps(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}function gZe(e,t){return e===t||Ps(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Xf.compareManyFields(e.children,t.children)}Tt.prototype.visitNull=P1;Tt.prototype.visitBool=P1;Tt.prototype.visitInt=Dc;Tt.prototype.visitInt8=Dc;Tt.prototype.visitInt16=Dc;Tt.prototype.visitInt32=Dc;Tt.prototype.visitInt64=Dc;Tt.prototype.visitUint8=Dc;Tt.prototype.visitUint16=Dc;Tt.prototype.visitUint32=Dc;Tt.prototype.visitUint64=Dc;Tt.prototype.visitFloat=$A;Tt.prototype.visitFloat16=$A;Tt.prototype.visitFloat32=$A;Tt.prototype.visitFloat64=$A;Tt.prototype.visitUtf8=P1;Tt.prototype.visitBinary=P1;Tt.prototype.visitFixedSizeBinary=fZe;Tt.prototype.visitDate=$M;Tt.prototype.visitDateDay=$M;Tt.prototype.visitDateMillisecond=$M;Tt.prototype.visitTimestamp=O1;Tt.prototype.visitTimestampSecond=O1;Tt.prototype.visitTimestampMillisecond=O1;Tt.prototype.visitTimestampMicrosecond=O1;Tt.prototype.visitTimestampNanosecond=O1;Tt.prototype.visitTime=R1;Tt.prototype.visitTimeSecond=R1;Tt.prototype.visitTimeMillisecond=R1;Tt.prototype.visitTimeMicrosecond=R1;Tt.prototype.visitTimeNanosecond=R1;Tt.prototype.visitDecimal=P1;Tt.prototype.visitList=dZe;Tt.prototype.visitStruct=hZe;Tt.prototype.visitUnion=LM;Tt.prototype.visitDenseUnion=LM;Tt.prototype.visitSparseUnion=LM;Tt.prototype.visitDictionary=pZe;Tt.prototype.visitInterval=MM;Tt.prototype.visitIntervalDayTime=MM;Tt.prototype.visitIntervalYearMonth=MM;Tt.prototype.visitDuration=N1;Tt.prototype.visitDurationSecond=N1;Tt.prototype.visitDurationMillisecond=N1;Tt.prototype.visitDurationMicrosecond=N1;Tt.prototype.visitDurationNanosecond=N1;Tt.prototype.visitFixedSizeList=mZe;Tt.prototype.visitMap=gZe;const Xf=new Tt;function iD(e,t){return Xf.compareSchemas(e,t)}function Jx(e){const t=e.type,n=new(cZe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(Jx(Object.assign(Object.assign({},l),{type:u})))}}return n}function Y2(e,t){return yZe(e,t.map(n=>n.data.concat()))}function yZe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=vZe(n,o,c,t,i),o>0&&(r[s++]=ns({type:new as(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new Io(e,f))]}function vZe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ns({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var ule;class Gs{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Dn([]),this._offsets=[0],this;let i,s;t[0]instanceof Dn&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof Io)return[u];if(u instanceof Gs)return u.batches;if(u instanceof Ln){if(u.type instanceof as)return[new Io(new Dn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new Tn([u[h]])),f=new Dn(l.map((h,p)=>new Rn(String(h),c[p].type))),[,d]=Y2(f,c);return d.length===0?[new Io(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Dn([]),!(i instanceof Dn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof Io))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!iD(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Iue(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=xue(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?kM.visit(new Tn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Gs(n,r.map(i=>new Io(n,i)))}slice(t,n){const r=this.schema;[t,n]=Eue({length:this.numRows},t,n);const i=Cue(this.data,this._offsets,t,n);return new Gs(r,i.map(s=>new Io(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=ns({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Tn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new mc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=Y2(r,a)}return new Gs(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Gs(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Gs(...Y2(s,o))}}ule=Symbol.toStringTag;Gs[ule]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Rm(NM),e.get=Rm(po.getVisitFn(K.Struct)),e.set=Aue(ya.getVisitFn(K.Struct)),e.indexOf=Pue(Hx.getVisitFn(K.Struct)),e.getByteLength=Rm(yl.getVisitFn(K.Struct)),"Table"))(Gs.prototype);var lle;let Io=class vy{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Dn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ns({nullCount:0,type:new as(this.schema.fields),children:this.schema.fields.map(n=>ns({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Ln))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=oW(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Rn.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Dn(r),a=ns({type:new as(r),length:s,children:i,nullCount:0});[this.schema,this.data]=oW(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=cle(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return po.visit(this.data,t)}set(t,n){return ya.visit(this.data,t,n)}indexOf(t,n){return Hx.visit(this.data,t,n)}getByteLength(t){return yl.visit(this.data,t)}[Symbol.iterator](){return kM.visit(new Tn([this.data]))}toArray(){return[...this]}concat(...t){return new Gs(this.schema,[this,...t])}slice(t,n){const[r]=new Tn([this.data]).slice(t,n).data;return new vy(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Tn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Tn([ns({type:new mc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Dn(s,new Map(this.schema.metadata)),i=ns({type:new as(s),children:o})}return new vy(r,i)}select(t){const n=this.schema.select(t),r=new as(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new vy(n,ns({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ns({type:new as(n.fields),length:this.numRows,children:r});return new vy(n,i)}};lle=Symbol.toStringTag;Io[lle]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Io.prototype);function oW(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ns({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),ns({type:new as(i),length:n,children:s})]}function cle(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])cle(a.children,l==null?void 0:l.children,n);if(jt.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class _Ze extends Io{constructor(t){const n=t.fields.map(i=>ns({type:i.type})),r=ns({type:new as(t.fields),nullCount:0,children:n});super(t,r)}}var Zx;(function(e){e[e.BUFFER=0]="BUFFER"})(Zx||(Zx={}));var eI;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(eI||(eI={}));class nf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new nf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Wn),(n||new nf).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):eI.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Zx.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,eI.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Zx.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return nf.startBodyCompression(t),nf.addCodec(t,n),nf.addMethod(t,r),nf.endBodyCompression(t)}}class fle{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let dle=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Ll=class sD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new sD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Wn),(n||new sD).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new dle).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new fle).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new nf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Dp=class oD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new oD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Wn),(n||new oD).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ll).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var tI;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(tI||(tI={}));let Hc=class yu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new yu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Wn),(n||new yu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pg.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):tI.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,pg.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,tI.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return yu.startMessage(t),yu.addVersion(t,n),yu.addHeaderType(t,r),yu.addHeader(t,i),yu.addBodyLength(t,s),yu.addCustomMetadata(t,o),yu.endMessage(t)}};class bZe extends Gt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return rh.startNull(n),rh.endNull(n)}visitInt(t,n){return xo.startInt(n),xo.addBitWidth(n,t.bitWidth),xo.addIsSigned(n,t.isSigned),xo.endInt(n)}visitFloat(t,n){return Lu.startFloatingPoint(n),Lu.addPrecision(n,t.precision),Lu.endFloatingPoint(n)}visitBinary(t,n){return eh.startBinary(n),eh.endBinary(n)}visitBool(t,n){return th.startBool(n),th.endBool(n)}visitUtf8(t,n){return sh.startUtf8(n),sh.endUtf8(n)}visitDecimal(t,n){return Hs.startDecimal(n),Hs.addScale(n,t.scale),Hs.addPrecision(n,t.precision),Hs.addBitWidth(n,t.bitWidth),Hs.endDecimal(n)}visitDate(t,n){return wE.startDate(n),wE.addUnit(n,t.unit),wE.endDate(n)}visitTime(t,n){return ea.startTime(n),ea.addUnit(n,t.unit),ea.addBitWidth(n,t.bitWidth),ea.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return yy.startTimestamp(n),yy.addUnit(n,t.unit),r!==void 0&&yy.addTimezone(n,r),yy.endTimestamp(n)}visitInterval(t,n){return Mu.startInterval(n),Mu.addUnit(n,t.unit),Mu.endInterval(n)}visitDuration(t,n){return ku.startDuration(n),ku.addUnit(n,t.unit),ku.endDuration(n)}visitList(t,n){return nh.startList(n),nh.endList(n)}visitStruct(t,n){return ih.startStruct_(n),ih.endStruct_(n)}visitUnion(t,n){Ys.startTypeIdsVector(n,t.typeIds.length);const r=Ys.createTypeIdsVector(n,t.typeIds);return Ys.startUnion(n),Ys.addMode(n,t.mode),Ys.addTypeIds(n,r),Ys.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return zl.startDictionaryEncoding(n),zl.addId(n,BigInt(t.id)),zl.addIsOrdered(n,t.isOrdered),r!==void 0&&zl.addIndexType(n,r),zl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Du.startFixedSizeBinary(n),Du.addByteWidth(n,t.byteWidth),Du.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return $u.startFixedSizeList(n),$u.addListSize(n,t.listSize),$u.endFixedSizeList(n)}visitMap(t,n){return EE.startMap(n),EE.addKeysSorted(n,t.keysSorted),EE.endMap(n)}}const G2=new bZe;function wZe(e,t=new Map){return new Dn(TZe(e,t),SE(e.metadata),t)}function hle(e){return new Mo(e.count,ple(e.columns),mle(e.columns))}function EZe(e){return new vl(hle(e.data),e.id,e.isDelta)}function TZe(e,t){return(e.fields||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function aW(e,t){return(e.children||[]).filter(Boolean).map(n=>Rn.fromJSON(n,t))}function ple(e){return(e||[]).reduce((t,n)=>[...t,new Jf(n.count,SZe(n.VALIDITY)),...ple(n.children)],[])}function mle(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Hu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Hu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Hu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Hu(t.length,i.DATA.length)),t=mle(i.children,t)}return t}function SZe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function xZe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=lW(e,aW(e,t)),i=new Rn(e.name,o,e.nullable,SE(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?uW(r):new qf,a=new Gf(t.get(n),r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,SE(e.metadata))):(r=(r=s.indexType)?uW(r):new qf,t.set(n,o=lW(e,aW(e,t))),a=new Gf(o,r,n,s.isOrdered),i=new Rn(e.name,a,e.nullable,SE(e.metadata))),i||null}function SE(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function uW(e){return new Is(e.isSigned,e.bitWidth)}function lW(e,t){const n=e.type.name;switch(n){case"NONE":return new mc;case"null":return new mc;case"binary":return new r_;case"utf8":return new lg;case"bool":return new i_;case"list":return new dg((t||[])[0]);case"struct":return new as(t||[]);case"struct_":return new as(t||[])}switch(n){case"int":{const r=e.type;return new Is(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new Yf(Mi[r.precision])}case"decimal":{const r=e.type;return new jx(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new cg(ml[r.unit])}case"time":{const r=e.type;return new gc(_t[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new Bx(_t[r.unit],r.timezone)}case"interval":{const r=e.type;return new fg(gl[r.unit])}case"duration":{const r=e.type;return new Ux(_t[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new s_(ho[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new Vx(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new hg(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new o_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var IZe=jue,CZe=qx;class Fu{static fromJSON(t,n){const r=new Fu(0,bs.V5,n);return r._createHeader=AZe(t,n),r}static decode(t){t=new CZe(Mn(t));const n=Hc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Fu(r,i,s);return o._createHeader=PZe(n,s),o}static encode(t){const n=new IZe;let r=-1;return t.isSchema()?r=Dn.encode(n,t.header()):t.isRecordBatch()?r=Mo.encode(n,t.header()):t.isDictionaryBatch()&&(r=vl.encode(n,t.header())),Hc.startMessage(n),Hc.addVersion(n,bs.V5),Hc.addHeader(n,r),Hc.addHeaderType(n,t.headerType),Hc.addBodyLength(n,BigInt(t.bodyLength)),Hc.finishMessageBuffer(n,Hc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Dn)return new Fu(0,bs.V5,yi.Schema,t);if(t instanceof Mo)return new Fu(n,bs.V5,yi.RecordBatch,t);if(t instanceof vl)return new Fu(n,bs.V5,yi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===yi.Schema}isRecordBatch(){return this.headerType===yi.RecordBatch}isDictionaryBatch(){return this.headerType===yi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=nu(t)}}class Mo{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=nu(t)}}class vl{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=nu(n)}}class Hu{constructor(t,n){this.offset=nu(t),this.length=nu(n)}}class Jf{constructor(t,n){this.length=nu(t),this.nullCount=nu(n)}}function AZe(e,t){return()=>{switch(t){case yi.Schema:return Dn.fromJSON(e);case yi.RecordBatch:return Mo.fromJSON(e);case yi.DictionaryBatch:return vl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${yi[t]}, type: ${t} }`)}}function PZe(e,t){return()=>{switch(t){case yi.Schema:return Dn.decode(e.header(new Tu),new Map,e.version());case yi.RecordBatch:return Mo.decode(e.header(new Ll),e.version());case yi.DictionaryBatch:return vl.decode(e.header(new Dp),e.version())}throw new Error(`Unrecognized Message type: { name: ${yi[t]}, type: ${t} }`)}}Rn.encode=BZe;Rn.decode=FZe;Rn.fromJSON=xZe;Dn.encode=jZe;Dn.decode=OZe;Dn.fromJSON=wZe;Mo.encode=UZe;Mo.decode=RZe;Mo.fromJSON=hle;vl.encode=VZe;vl.decode=NZe;vl.fromJSON=EZe;Jf.encode=zZe;Jf.decode=DZe;Hu.encode=HZe;Hu.decode=kZe;function OZe(e,t=new Map,n=bs.V5){const r=MZe(e,t);return new Dn(r,xE(e),t,n)}function RZe(e,t=bs.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Mo(e.length(),$Ze(e),LZe(e,t))}function NZe(e,t=bs.V5){return new vl(Mo.decode(e.data(),t),e.id(),e.isDelta())}function kZe(e){return new Hu(e.offset(),e.length())}function DZe(e){return new Jf(e.length(),e.nullCount())}function $Ze(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Jf.decode(n));return t}function LZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<bs.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Hu.decode(r));return n}function MZe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Rn.decode(r,t));return n}function cW(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Rn.decode(r,t));return n}function FZe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=dW(e,cW(e,t)),r=new Rn(e.name(),i,e.nullable(),xE(e))):t.has(n=nu(a.id()))?(s=(s=a.indexType())?fW(s):new qf,o=new Gf(t.get(n),s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),xE(e))):(s=(s=a.indexType())?fW(s):new qf,t.set(n,i=dW(e,cW(e,t))),o=new Gf(i,s,n,a.isOrdered()),r=new Rn(e.name(),o,e.nullable(),xE(e))),r||null}function xE(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function fW(e){return new Is(e.isSigned(),e.bitWidth())}function dW(e,t){const n=e.typeType();switch(n){case dr.NONE:return new mc;case dr.Null:return new mc;case dr.Binary:return new r_;case dr.Utf8:return new lg;case dr.Bool:return new i_;case dr.List:return new dg((t||[])[0]);case dr.Struct_:return new as(t||[])}switch(n){case dr.Int:{const r=e.type(new xo);return new Is(r.isSigned(),r.bitWidth())}case dr.FloatingPoint:{const r=e.type(new Lu);return new Yf(r.precision())}case dr.Decimal:{const r=e.type(new Hs);return new jx(r.scale(),r.precision(),r.bitWidth())}case dr.Date:{const r=e.type(new wE);return new cg(r.unit())}case dr.Time:{const r=e.type(new ea);return new gc(r.unit(),r.bitWidth())}case dr.Timestamp:{const r=e.type(new yy);return new Bx(r.unit(),r.timezone())}case dr.Interval:{const r=e.type(new Mu);return new fg(r.unit())}case dr.Duration:{const r=e.type(new ku);return new Ux(r.unit())}case dr.Union:{const r=e.type(new Ys);return new s_(r.mode(),r.typeIdsArray()||[],t||[])}case dr.FixedSizeBinary:{const r=e.type(new Du);return new Vx(r.byteWidth())}case dr.FixedSizeList:{const r=e.type(new $u);return new hg(r.listSize(),(t||[])[0])}case dr.Map:{const r=e.type(new EE);return new o_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${dr[n]}" (${n})`)}function jZe(e,t){const n=t.fields.map(s=>Rn.encode(e,s));Tu.startFieldsVector(e,n.length);const r=Tu.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Tu.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return ii.startKeyValue(e),ii.addKey(e,a),ii.addValue(e,u),ii.endKeyValue(e)})):-1;return Tu.startSchema(e),Tu.addFields(e,r),Tu.addEndianness(e,WZe?mg.Little:mg.Big),i!==-1&&Tu.addCustomMetadata(e,i),Tu.endSchema(e)}function BZe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;jt.isDictionary(s)?(o=s.dictionary.typeId,i=G2.visit(s,e),r=G2.visit(s.dictionary,e)):r=G2.visit(s,e);const a=(s.children||[]).map(c=>Rn.encode(e,c)),u=Go.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Go.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return ii.startKeyValue(e),ii.addKey(e,d),ii.addValue(e,h),ii.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Go.startField(e),Go.addType(e,r),Go.addTypeType(e,o),Go.addChildren(e,u),Go.addNullable(e,!!t.nullable),n!==-1&&Go.addName(e,n),i!==-1&&Go.addDictionary(e,i),l!==-1&&Go.addCustomMetadata(e,l),Go.endField(e)}function UZe(e,t){const n=t.nodes||[],r=t.buffers||[];Ll.startNodesVector(e,n.length);for(const o of n.slice().reverse())Jf.encode(e,o);const i=e.endVector();Ll.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Hu.encode(e,o);const s=e.endVector();return Ll.startRecordBatch(e),Ll.addLength(e,BigInt(t.length)),Ll.addNodes(e,i),Ll.addBuffers(e,s),Ll.endRecordBatch(e)}function VZe(e,t){const n=Mo.encode(e,t.data);return Dp.startDictionaryBatch(e),Dp.addId(e,BigInt(t.id)),Dp.addIsDelta(e,t.isDelta),Dp.addData(e,n),Dp.endDictionaryBatch(e)}function zZe(e,t){return dle.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function HZe(e,t){return fle.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const WZe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),aD="ARROW1",FM=new Uint8Array(aD.length);for(let e=0;e<aD.length;e+=1)FM[e]=aD.codePointAt(e);FM.length;class zr extends Gt{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Io?s.data.children:s.data),r=new zr;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Tn)return this.visitMany(t.data),this;const{type:n}=t;if(!jt.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(jt.isUnion(n))this.nodes.push(new Jf(r,0));else{const{nullCount:i}=t;jt.isNull(n)||Qa.call(this,i<=0?new Uint8Array(0):zx(t.offset,r,t.nullBitmap)),this.nodes.push(new Jf(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Qa(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Hu(this._byteLength,t)),this._byteLength+=t,this}function qZe(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Qa.call(this,i),n.mode===ho.Sparse)return uD.call(this,e);if(n.mode===ho.Dense){if(e.offset<=0)return Qa.call(this,s),uD.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);Qa.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function YZe(e){let t;return e.nullCount>=e.length?Qa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Qa.call(this,zx(e.offset,e.length,t)):Qa.call(this,Sue(e.values))}function $c(e){return Qa.call(this,e.values.subarray(0,e.length*e.stride))}function gle(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Qa.call(this,vae(-i,t+1,r)),Qa.call(this,n.subarray(i,i+o)),this}function jM(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Qa.call(this,vae(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function uD(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}zr.prototype.visitBool=YZe;zr.prototype.visitInt=$c;zr.prototype.visitFloat=$c;zr.prototype.visitUtf8=gle;zr.prototype.visitBinary=gle;zr.prototype.visitFixedSizeBinary=$c;zr.prototype.visitDate=$c;zr.prototype.visitTimestamp=$c;zr.prototype.visitTime=$c;zr.prototype.visitDecimal=$c;zr.prototype.visitList=jM;zr.prototype.visitStruct=uD;zr.prototype.visitUnion=qZe;zr.prototype.visitInterval=$c;zr.prototype.visitDuration=$c;zr.prototype.visitFixedSizeList=jM;zr.prototype.visitMap=jM;class yle extends Uue{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new q2,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,pd(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return IA(t)?t.then(n=>this.writeAll(n)):CA(t)?zM(this,t):VM(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof q2?this._sink=t:(this._sink=new q2,t&&ZQe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&eXe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!iD(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Gs&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Io&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!iD(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Io?t instanceof _Ze||this._writeRecordBatch(t):t instanceof Gs?this.writeAll(t.batches):JL(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Fu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===yi.RecordBatch?this._recordBatchBlocks.push(new Qf(a,t.bodyLength,this._position)):t.headerType===yi.DictionaryBatch&&this._dictionaryBlocks.push(new Qf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Mn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Fu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(FM)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=zr.assemble(t),o=new Mo(t.numRows,r,i),a=Fu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=zr.assemble(new Tn([t])),u=new Mo(t.length,s,o),l=new vl(u,n,r),c=Fu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class BM extends yle{static writeAll(t,n){const r=new BM(n);return IA(t)?t.then(i=>r.writeAll(i)):CA(t)?zM(r,t):VM(r,t)}}class UM extends yle{static writeAll(t){const n=new UM;return IA(t)?t.then(r=>n.writeAll(r)):CA(t)?zM(n,t):VM(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=rD.encode(new rD(t,bs.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function VM(e,t){let n=t;t instanceof Gs&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function zM(e,t){var n,r,i,s,o,a,u;return Ul(this,void 0,void 0,function*(){try{for(n=!0,r=ev(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function GZe(e,t="stream"){return(t==="stream"?BM:UM).writeAll(e).toUint8Array(!0)}function HM(e,t=1){return(e*t+63&-64||64)/t}function Zf(e,t,n=e.BYTES_PER_ELEMENT){return new e(HM(t,n))}function WM(e){return e instanceof Ln?e:new Ln(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function KZe(e){return new Tn([WM(e)])}const qM=new TextEncoder;function QZe(e,t,n){const r=qM.encode(n);return e.set(r,t),r.length}function XZe(e,t,n){return qM.encodeInto(n,e.subarray(t)).written}const JZe=qM.encodeInto?XZe:QZe;function hW(e,t){const n=Zf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function ZZe(e,t){const n=Zf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function eet(e,t){const n=Zf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function tet(e,t){const n=Zf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function net(e){const t=Jx({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function ret(e,t,n){const r=Zf(Int32Array,t+1),i=Zf(Uint8Array,3*n);let s=0;return{set(o,a){s+=JZe(i,s,o),r[a+1]=s},data:()=>{const o=HM(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function iet(e,t){const n=[],r=Zf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:set(e.dictionary,n,o)})}}function set(e,t,n){const r=ret(e,t.length,n);return t.forEach(r.set),KZe(r.data())}function oet(e,t){const n=Zf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function aet(e,t,n=!0){let r;switch(e.typeId){case K.Int:r=e.bitWidth<64?hW:null;break;case K.Float:r=e.precision>0?hW:null;break;case K.Dictionary:r=e.dictionary.typeId===K.Utf8&&e.indices.typeId===K.Int&&e.indices.bitWidth<64?iet:null;break;case K.Bool:r=ZZe;break;case K.Date:r=e.unit?tet:eet;break}return r==null?net(e):n?oet(r(e,t),t):r(e,t)}function uet(e,t){const n=e.length,r=HM(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),WM({type:t,length:n,buffers:[null,i]})}function vle(e,t,n,r,i=!0){const s=aet(r,e,i);return t(n,s.set),WM(s.data())}function YM(e){if(e instanceof jt||e==null)return e;switch(e){case K.Binary:return new r_;case K.Bool:return new i_;case K.DateDay:return new mXe;case K.DateMillisecond:case K.Date:return new gXe;case K.Dictionary:return new Gf(new lg,new qf);case K.Float16:return new Bae;case K.Float32:return new uM;case K.Float64:case K.Float:return new lM;case K.Int8:return new tM;case K.Int16:return new nM;case K.Int32:case K.Int:return new qf;case K.Int64:return new rM;case K.IntervalDayTime:return new wXe;case K.Interval:case K.IntervalYearMonth:return new EXe;case K.Null:return new mc;case K.TimeMicrosecond:return new _Xe;case K.TimeMillisecond:case K.Time:return new vXe;case K.TimeNanosecond:return new bXe;case K.TimeSecond:return new yXe;case K.Uint8:return new iM;case K.Uint16:return new sM;case K.Uint32:return new oM;case K.Uint64:return new aM;case K.Utf8:return new lg;default:qt(`Unsupported type code: ${hl(e)}. Use a data type constructor instead?`)}}function cet(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function _le(e,t){const n=lD();return e(t,n.add),n}function lD(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(pc(t))++e.dates,cet(t)&&++e.utcdays;else if(Xd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=lD());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=lD())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return YM(fet(e))}};return e}function fet(e){const t=e.count-e.nulls;if(t===0)return K.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?K.Float64:n<128?K.Int8:n<32768?K.Int16:K.Int32:n>=2**32?K.Float64:n<256?K.Uint8:n<65536?K.Uint16:K.Uint32}else{if(e.nums===t)return K.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?K.Int64:qt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?K.Uint64:qt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return K.Bool;if(e.utcdays===t)return K.DateDay;if(e.dates===t)return K.DateMillisecond;if(e.arrays===t){const n=Rn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new hg(e.minlen,n):new dg(n)}else if(e.structs===t){const n=e.struct_prof;return new as(Object.keys(n).map(r=>Rn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return K.Dictionary;qt("Type inference failure")}}}}function det(e,t,n,r,i,s=!0){if(i=YM(i),!i){const o=_le(r,t);s=o.nulls>0,i=o.type()}return vle(n,r,t,i,s)}function het(e,t,n,r,i,s=!0){i=YM(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=pet(o);if(u&&a&&pW(u.type,i))return u;const l=o.data;if(I1(l)){const c=met(l);if(a&&c&&pW(c,i))return uet(l,c);i=i||c,s=!1}if(!i){const c=_le(r,o);s=c.nulls>0,i=c.type()}return vle(n,r,o,i,s)}function pet(e){return e instanceof Tn?e:e.vector instanceof Tn?e.vector:null}function met(e){const n={Float32Array:uM,Float64Array:lM,Int8Array:tM,Int16Array:nM,Int32Array:qf,Uint8Array:iM,Uint16Array:sM,Uint32Array:oM,BigInt64Array:rM,BigUint64Array:aM}[e.constructor.name];return n?new n:null}function pW(e,t){return!e||!t?!0:e.compareTo(t)}function get(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function yet(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Xd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const vet=()=>qt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function _et(){try{return Gs}catch{vet()}}function ble(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=bet(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&qt("Column length mismatch"),a[l]=c});const u=_et();return new u(a)}function bet(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=ar(n)?n(e):En(n)?n:null;if(En(e))return{dataFrom:det,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:get(e,r,i)};if(wet(e))return{dataFrom:het,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:yet(e,r,i)};qt("Unsupported input data type")}function wet(e){return e&&ar(e.reify)}function Eet(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return GZe(ble(e,r),n)}function Tet(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function xet(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&pc(u))++i,Tet(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function LA(e,t){return ar(t)?t(e):t||e.columnNames()}function wle(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=xet(Iet(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function Iet(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function GM(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function Cet(e,t={}){const n=LA(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":pc(l)?SA(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return GM(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Ele(e,t={}){if(ar(t))return t(e)+"";const n=typeof e;if(n==="object"){if(pc(e))return t.utc?SA(e):Hoe(e);{const r=JSON.stringify(e,(s,o)=>I1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function MA(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function Aet(e,t={}){const n=LA(e,t.columns),{align:r,format:i}=wle(e,n,t),s=Pet(t),o=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",u=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(g,y)=>u(Ele(g,y)),c=o?(g,y)=>g==null?o(g):l(g,y):l;let f=-1,d=-1;const h=(g,y,m)=>{const v=m?a(r[y]):"",_=s[g]&&s[g](y,d,f)||"",T=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${g}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return GM(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function Pet(e){return MA(e.style,t=>ar(t)?t:()=>t)}function Oet(e,t=!0,n=!1){return e===void 0||e?t:n}const Ret=e=>pc(e)?SA(e,!0):e;function Net(e,t={}){const n=Oet(t.schema),r=t.format||{},i=LA(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||Ret;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function ket(e,t={}){const n=LA(e,t.columns),{align:r,format:i}=wle(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return GM(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Ele(u,i[l]))+"|"}}),a+`
`}function Tle(e,t){for(const[n,r]of xA(t))e.set(n,r);return e}function Det(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function yc(e,t,n=new Map){return t=xs(t)?e.columnName(t):t,zi(t)?n.set(t,t):En(t)?t.forEach(r=>yc(e,r,n)):ar(t)?yc(e,t(e),n):fs(t)?Tle(n,t):qt(`Invalid column selection: ${hl(t)}`),n}function FA(e,t){return e.toObject=t,e}function Sle(e){return En(e)?e.map(Sle):e&&e.toObject?e.toObject():e}function gg(){return FA(e=>e.columnNames(),()=>({all:[]}))}function xle(...e){return e=e.flat(),FA(t=>{const n=yc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Sle(e)}))}function $et(e,t){return FA(n=>{let r=xs(e)?e:n.columnIndex(e),i=xs(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Let(e){return zi(e)&&(e=RegExp(Det(e))),FA(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Met(e){return I1(e.data)?e.data.constructor:Array}class ju extends JKe{static from(t,n){return new ju(tQe(t,n),n)}static new(t,n){if(t instanceof ju)return t;const r={},i=[];for(const[s,o]of xA(t))r[s]=o,i.push(s);return new ju(r,n||i)}constructor(t,n,r,i,s,o){MA(t,eQe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new ju(t||this._data,n||(t?null:this._names),o,i!==void 0?i:OQe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Ho(r).groupby(r.groups());return t.forEach(s=>{s=ju.new(s),s.numRows()!==n&&qt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):qt(`Unrecognized column: ${t}`)}object(t=0){return mW(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=yc(this,t.columns||gg()),o=mae(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),NQe(this,u,a,n)}return a}*[Symbol.iterator](){const t=mW(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(Met(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=RQe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return ble(this,t)}toArrowBuffer(t){return Eet(this,t)}toCSV(t){return Cet(this,t)}toHTML(t){return Aet(this,t)}toJSON(t){return Net(this,t)}toMarkdown(t){return ket(this,t)}}function mW(e){let t=e._builder;if(!t){const n=mae(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Fet{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function mn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=jet[e.type];s&&s(e,t,n)}const hw=(e,t,n)=>{mn(e.argument,t,n,e)},K2=(e,t,n)=>{mn(e.left,t,n,e),mn(e.right,t,n,e)},gW=(e,t,n)=>{mn(e.test,t,n,e),mn(e.consequent,t,n,e),e.alternate&&mn(e.alternate,t,n,e)},Q2=(e,t,n)=>{Su(e.params,t,n,e),mn(e.body,t,n,e)},yW=(e,t,n)=>{mn(e.callee,t,n,e),Su(e.arguments,t,n,e)},Su=(e,t,n,r)=>{e.forEach(i=>mn(i,t,n,r))},jet={TemplateLiteral:(e,t,n)=>{Su(e.expressions,t,n,e),Su(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{mn(e.object,t,n,e),mn(e.property,t,n,e)},CallExpression:yW,NewExpression:yW,ArrayExpression:(e,t,n)=>{Su(e.elements,t,n,e)},AssignmentExpression:K2,AwaitExpression:hw,BinaryExpression:K2,LogicalExpression:K2,UnaryExpression:hw,UpdateExpression:hw,ConditionalExpression:gW,ObjectExpression:(e,t,n)=>{Su(e.properties,t,n,e)},Property:(e,t,n)=>{mn(e.key,t,n,e),mn(e.value,t,n,e)},ArrowFunctionExpression:Q2,FunctionExpression:Q2,FunctionDeclaration:Q2,VariableDeclaration:(e,t,n)=>{Su(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{mn(e.id,t,n,e),mn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{mn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Su(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{mn(e.expression,t,n,e)},IfStatement:gW,ForStatement:(e,t,n)=>{mn(e.init,t,n,e),mn(e.test,t,n,e),mn(e.update,t,n,e),mn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{mn(e.test,t,n,e),mn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{mn(e.body,t,n,e),mn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{mn(e.discriminant,t,n,e),Su(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&mn(e.test,t,n,e),Su(e.consequent,t,n,e)},ReturnStatement:hw,Program:(e,t,n)=>{mn(e.body[0],t,n,e)}};function Ile(e){delete e.start,delete e.end,delete e.optional}function vW(e){Ile(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Bet(e){return mn(e,null,{Column:vW,Constant:vW,Default:Ile}),e}function si(e,t){return t&&t.type===e}function Uet(e){return si($Qe,e)||si(DQe,e)}function Vet(e){return ar(e)?e:()=>e}const zet="Escaped functions are not valid as rollup or pivot values.";function Het(e,t,n){e.aggronly&&qt(zet);const r="(row,data)=>fn("+pae(e.table.columnNames())+",$)";return{escape:KL.escape(r,Vet(t.expr),n)}}var Wet=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Cle=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],qet="-----------------------------------------------------------------------------------------------------------------------------------------------------",Ale="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",X2={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},J2="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Yet={5:J2,"5module":J2+" export import",6:J2+" const class extends export import super"},Get=/^in(stanceof)?$/,Ket=new RegExp("["+Ale+"]"),Qet=new RegExp("["+Ale+qet+"]");function cD(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function vc(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Ket.test(String.fromCharCode(e)):t===!1?!1:cD(e,Cle)}function yg(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Qet.test(String.fromCharCode(e)):t===!1?!1:cD(e,Cle)||cD(e,Wet)}var yn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function qo(e,t){return new yn(e,{beforeExpr:!0,binop:t})}var Yo={beforeExpr:!0},$s={startsExpr:!0},KM={};function un(e,t){return t===void 0&&(t={}),t.keyword=e,KM[e]=new yn(e,t)}var j={num:new yn("num",$s),regexp:new yn("regexp",$s),string:new yn("string",$s),name:new yn("name",$s),privateId:new yn("privateId",$s),eof:new yn("eof"),bracketL:new yn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new yn("]"),braceL:new yn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new yn("}"),parenL:new yn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new yn(")"),comma:new yn(",",Yo),semi:new yn(";",Yo),colon:new yn(":",Yo),dot:new yn("."),question:new yn("?",Yo),questionDot:new yn("?."),arrow:new yn("=>",Yo),template:new yn("template"),invalidTemplate:new yn("invalidTemplate"),ellipsis:new yn("...",Yo),backQuote:new yn("`",$s),dollarBraceL:new yn("${",{beforeExpr:!0,startsExpr:!0}),eq:new yn("=",{beforeExpr:!0,isAssign:!0}),assign:new yn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new yn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new yn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:qo("||",1),logicalAND:qo("&&",2),bitwiseOR:qo("|",3),bitwiseXOR:qo("^",4),bitwiseAND:qo("&",5),equality:qo("==/!=/===/!==",6),relational:qo("</>/<=/>=",7),bitShift:qo("<</>>/>>>",8),plusMin:new yn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:qo("%",10),star:qo("*",10),slash:qo("/",10),starstar:new yn("**",{beforeExpr:!0}),coalesce:qo("??",1),_break:un("break"),_case:un("case",Yo),_catch:un("catch"),_continue:un("continue"),_debugger:un("debugger"),_default:un("default",Yo),_do:un("do",{isLoop:!0,beforeExpr:!0}),_else:un("else",Yo),_finally:un("finally"),_for:un("for",{isLoop:!0}),_function:un("function",$s),_if:un("if"),_return:un("return",Yo),_switch:un("switch"),_throw:un("throw",Yo),_try:un("try"),_var:un("var"),_const:un("const"),_while:un("while",{isLoop:!0}),_with:un("with"),_new:un("new",{beforeExpr:!0,startsExpr:!0}),_this:un("this",$s),_super:un("super",$s),_class:un("class",$s),_extends:un("extends",Yo),_export:un("export"),_import:un("import",$s),_null:un("null",$s),_true:un("true",$s),_false:un("false",$s),_in:un("in",{beforeExpr:!0,binop:7}),_instanceof:un("instanceof",{beforeExpr:!0,binop:7}),_typeof:un("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:un("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:un("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},xa=/\r\n?|\n|\u2028|\u2029/,Xet=new RegExp(xa.source,"g");function Jg(e){return e===10||e===13||e===8232||e===8233}function Ple(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Jg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Ole=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ta=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Rle=Object.prototype,Jet=Rle.hasOwnProperty,Zet=Rle.toString,k1=Object.hasOwn||function(e,t){return Jet.call(e,t)},_W=Array.isArray||function(e){return Zet.call(e)==="[object Array]"},bW=Object.create(null);function yf(e){return bW[e]||(bW[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function ed(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var ett=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,a_=function(t,n){this.line=t,this.column=n};a_.prototype.offset=function(t){return new a_(this.line,this.column+t)};var jA=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function Nle(e,t){for(var n=1,r=0;;){var i=Ple(e,r,t);if(i<0)return new a_(n,t-r);++n,r=i}}var fD={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},wW=!1;function ttt(e){var t={};for(var n in fD)t[n]=e&&k1(e,n)?e[n]:fD[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!wW&&typeof console=="object"&&console.warn&&(wW=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),_W(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return _W(t.onComment)&&(t.onComment=ntt(t,t.onComment)),t}function ntt(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new jA(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var u_=1,Zg=2,QM=4,kle=8,Dle=16,$le=32,XM=64,Lle=128,D1=256,JM=u_|Zg|D1;function ZM(e,t){return Zg|(e?QM:0)|(t?kle:0)}var nI=0,e4=1,Lc=2,Mle=3,Fle=4,jle=5,ci=function(t,n,r){this.options=t=ttt(t),this.sourceFile=t.sourceFile,this.keywords=yf(Yet[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=X2[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=yf(i);var s=(i?i+" ":"")+X2.strict;this.reservedWordsStrict=yf(s),this.reservedWordsStrictBind=yf(s+" "+X2.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(xa).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=j.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(u_),this.regexpState=null,this.privateNameStack=[]},Al={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ci.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Al.inFunction.get=function(){return(this.currentVarScope().flags&Zg)>0};Al.inGenerator.get=function(){return(this.currentVarScope().flags&kle)>0&&!this.currentVarScope().inClassFieldInit};Al.inAsync.get=function(){return(this.currentVarScope().flags&QM)>0&&!this.currentVarScope().inClassFieldInit};Al.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&D1)return!1;if(t.flags&Zg)return(t.flags&QM)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Al.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&XM)>0||n||this.options.allowSuperOutsideMethod};Al.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Lle)>0};Al.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Al.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(Zg|D1))>0||n};Al.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&D1)>0};ci.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ci.parse=function(t,n){return new this(n,t).parse()};ci.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ci.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ci.prototype,Al);var Os=ci.prototype,rtt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Os.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){ta.lastIndex=e,e+=ta.exec(this.input)[0].length;var t=rtt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){ta.lastIndex=e+t[0].length;var n=ta.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||xa.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,ta.lastIndex=e,e+=ta.exec(this.input)[0].length,this.input[e]===";"&&e++}};Os.eat=function(e){return this.type===e?(this.next(),!0):!1};Os.isContextual=function(e){return this.type===j.name&&this.value===e&&!this.containsEsc};Os.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Os.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Os.canInsertSemicolon=function(){return this.type===j.eof||this.type===j.braceR||xa.test(this.input.slice(this.lastTokEnd,this.start))};Os.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Os.semicolon=function(){!this.eat(j.semi)&&!this.insertSemicolon()&&this.unexpected()};Os.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Os.expect=function(e){this.eat(e)||this.unexpected()};Os.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var BA=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Os.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Os.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Os.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Os.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var dt=ci.prototype;dt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==j.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var t4={kind:"loop"},itt={kind:"switch"};dt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ta.lastIndex=this.pos;var t=ta.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(vc(r,!0)){for(var i=n+1;yg(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Get.test(s))return!0}return!1};dt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ta.lastIndex=this.pos;var e=ta.exec(this.input),t=this.pos+e[0].length,n;return!xa.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(yg(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};dt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=j._var,s="let"),r){case j._break:case j._continue:return this.parseBreakContinueStatement(i,r.keyword);case j._debugger:return this.parseDebuggerStatement(i);case j._do:return this.parseDoStatement(i);case j._for:return this.parseForStatement(i);case j._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case j._class:return e&&this.unexpected(),this.parseClass(i,!0);case j._if:return this.parseIfStatement(i);case j._return:return this.parseReturnStatement(i);case j._switch:return this.parseSwitchStatement(i);case j._throw:return this.parseThrowStatement(i);case j._try:return this.parseTryStatement(i);case j._const:case j._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case j._while:return this.parseWhileStatement(i);case j._with:return this.parseWithStatement(i);case j.braceL:return this.parseBlock(!0,i);case j.semi:return this.parseEmptyStatement(i);case j._export:case j._import:if(this.options.ecmaVersion>10&&r===j._import){ta.lastIndex=this.pos;var o=ta.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===j._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===j.name&&c.type==="Identifier"&&this.eat(j.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};dt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(j.semi)||this.insertSemicolon()?e.label=null:this.type!==j.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};dt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};dt.parseDoStatement=function(e){return this.next(),this.labels.push(t4),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(j._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(j.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};dt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(t4),this.enterScope(0),this.expect(j.parenL),this.type===j.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===j._var||this.type===j._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new BA,u=this.parseExpression(t>-1?"await":!0,a);return this.type===j._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};dt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,nv|(n?0:dD),!1,t)};dt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(j._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};dt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(j.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};dt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(j.braceL),this.labels.push(itt),this.enterScope(0);for(var t,n=!1;this.type!==j.braceR;)if(this.type===j._case||this.type===j._default){var r=this.type===j._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(j.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};dt.parseThrowStatement=function(e){return this.next(),xa.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var stt=[];dt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?$le:0),this.checkLValPattern(e,t?Fle:Lc),this.expect(j.parenR),e};dt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===j._catch){var t=this.startNode();this.next(),this.eat(j.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(j._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};dt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};dt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(t4),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};dt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};dt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};dt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===j._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};dt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};dt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(j.braceL),e&&this.enterScope(0);this.type!==j.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};dt.parseFor=function(e,t){return e.init=t,this.expect(j.semi),e.test=this.type===j.semi?null:this.parseExpression(),this.expect(j.semi),e.update=this.type===j.parenR?null:this.parseExpression(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};dt.parseForIn=function(e,t){var n=this.type===j._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};dt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(j.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===j._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(j.comma))break}return e};dt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?e4:Lc,!1)};var nv=1,dD=2,Ble=4;dt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===j.star&&t&dD&&this.unexpected(),e.generator=this.eat(j.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&nv&&(e.id=t&Ble&&this.type!==j.name?null:this.parseIdent(),e.id&&!(t&dD)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?e4:Lc:Mle));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ZM(e.async,e.generator)),t&nv||(e.id=this.type===j.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&nv?"FunctionDeclaration":"FunctionExpression")};dt.parseFunctionParams=function(e){this.expect(j.parenL),e.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};dt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(j.braceL);this.type!==j.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&ott(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};dt.parseClassElement=function(e){if(this.eat(j.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(j.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===j.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===j.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(j.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===j.parenL||o!=="method"||i||s){var l=!n.static&&rI(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};dt.isClassElementNameStart=function(){return this.type===j.name||this.type===j.privateId||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword};dt.parseClassElementName=function(e){this.type===j.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};dt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&rI(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};dt.parseClassField=function(e){if(rI(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&rI(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(j.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};dt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(D1|XM);this.type!==j.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};dt.parseClassId=function(e,t){this.type===j.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Lc,!1)):(t===!0&&this.unexpected(),e.id=null)};dt.parseClassSuper=function(e){e.superClass=this.eat(j._extends)?this.parseExprSubscripts(null,!1):null};dt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};dt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];k1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function ott(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function rI(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}dt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};dt.parseExport=function(e,t){if(this.next(),this.eat(j.star))return this.parseExportAllDeclaration(e,t);if(this.eat(j._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};dt.parseExportDeclaration=function(e){return this.parseStatement(null)};dt.parseExportDefaultDeclaration=function(){var e;if(this.type===j._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,nv|Ble,!1,e)}else if(this.type===j._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};dt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),k1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};dt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};dt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};dt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};dt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};dt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(j.braceL);!this.eat(j.braceR);){if(n)n=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;t.push(this.parseExportSpecifier(e))}return t};dt.parseImport=function(e){return this.next(),this.type===j.string?(e.specifiers=stt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===j.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};dt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportSpecifier")};dt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportDefaultSpecifier")};dt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Lc),this.finishNode(e,"ImportNamespaceSpecifier")};dt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===j.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(j.comma)))return e;if(this.type===j.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(j.braceL);!this.eat(j.braceR);){if(t)t=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;e.push(this.parseImportSpecifier())}return e};dt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===j.string){var e=this.parseLiteral(this.value);return ett.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};dt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};dt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Ia=ci.prototype;Ia.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Ia.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};Ia.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Ia.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==j.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Ia.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case j.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(j.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case j.braceL:return this.parseObj(!0)}return this.parseIdent()};Ia.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(j.comma),t&&this.type===j.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===j.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Ia.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Ia.parseBindingListItem=function(e){return e};Ia.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(j.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Ia.checkLValSimple=function(e,t,n){t===void 0&&(t=nI);var r=t!==nI;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Lc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(k1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==jle&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Ia.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=nI),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};Ia.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=nI),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Ra=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},mr={b_stat:new Ra("{",!1),b_expr:new Ra("{",!0),b_tmpl:new Ra("${",!1),p_stat:new Ra("(",!1),p_expr:new Ra("(",!0),q_tmpl:new Ra("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ra("function",!1),f_expr:new Ra("function",!0),f_expr_gen:new Ra("function",!0,!1,null,!0),f_gen:new Ra("function",!1,!1,null,!0)},e0=ci.prototype;e0.initialContext=function(){return[mr.b_stat]};e0.curContext=function(){return this.context[this.context.length-1]};e0.braceIsBlock=function(e){var t=this.curContext();return t===mr.f_expr||t===mr.f_stat?!0:e===j.colon&&(t===mr.b_stat||t===mr.b_expr)?!t.isExpr:e===j._return||e===j.name&&this.exprAllowed?xa.test(this.input.slice(this.lastTokEnd,this.start)):e===j._else||e===j.semi||e===j.eof||e===j.parenR||e===j.arrow?!0:e===j.braceL?t===mr.b_stat:e===j._var||e===j._const||e===j.name?!1:!this.exprAllowed};e0.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};e0.updateContext=function(e){var t,n=this.type;n.keyword&&e===j.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};e0.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};j.parenR.updateContext=j.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===mr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};j.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?mr.b_stat:mr.b_expr),this.exprAllowed=!0};j.dollarBraceL.updateContext=function(){this.context.push(mr.b_tmpl),this.exprAllowed=!0};j.parenL.updateContext=function(e){var t=e===j._if||e===j._for||e===j._with||e===j._while;this.context.push(t?mr.p_stat:mr.p_expr),this.exprAllowed=!0};j.incDec.updateContext=function(){};j._function.updateContext=j._class.updateContext=function(e){e.beforeExpr&&e!==j._else&&!(e===j.semi&&this.curContext()!==mr.p_stat)&&!(e===j._return&&xa.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===j.colon||e===j.braceL)&&this.curContext()===mr.b_stat)?this.context.push(mr.f_expr):this.context.push(mr.f_stat),this.exprAllowed=!1};j.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};j.backQuote.updateContext=function(){this.curContext()===mr.q_tmpl?this.context.pop():this.context.push(mr.q_tmpl),this.exprAllowed=!1};j.star.updateContext=function(e){if(e===j._function){var t=this.context.length-1;this.context[t]===mr.f_expr?this.context[t]=mr.f_expr_gen:this.context[t]=mr.f_gen}this.exprAllowed=!0};j.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==j.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var kt=ci.prototype;kt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};kt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===j.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(j.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};kt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new BA,r=!0);var a=this.start,u=this.startLoc;(this.type===j.parenL||this.type===j.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===j.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===j.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};kt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(j.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(j.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};kt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};kt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==j._in)&&s>r){var o=this.type===j.logicalOR||this.type===j.logicalAND,a=this.type===j.coalesce;a&&(s=j.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===j.coalesce||a&&(this.type===j.logicalOR||this.type===j.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};kt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};kt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===j.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Ule(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===j.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==j._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(j.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function Ule(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Ule(e.expression)}kt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};kt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};kt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(j.arrow)};kt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};kt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(j.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(j.bracketL);if(l||u&&this.type!==j.parenL&&this.type!==j.backQuote||this.eat(j.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(j.bracketR)):this.type===j.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(j.parenL)){var f=new BA,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===j.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};kt.parseExprAtom=function(e,t,n){this.type===j.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case j._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===j.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==j.dot&&this.type!==j.bracketL&&this.type!==j.parenL&&this.unexpected(),this.finishNode(r,"Super");case j._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case j.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(j._function))return this.overrideContext(mr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(j.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===j.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(j.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case j.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case j.num:case j.string:return this.parseLiteral(this.value);case j._null:case j._true:case j._false:return r=this.startNode(),r.value=this.type===j._null?null:this.type===j._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case j.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case j.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(j.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case j.braceL:return this.overrideContext(mr.b_expr),this.parseObj(!1,e);case j._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case j._class:return this.parseClass(this.startNode(),!1);case j._new:return this.parseNew();case j.backQuote:return this.parseTemplate();case j._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};kt.parseExprAtomDefault=function(){this.unexpected()};kt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===j.parenL&&!e)return this.parseDynamicImport(t);if(this.type===j.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};kt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(j.parenR)){var t=this.start;this.eat(j.comma)&&this.eat(j.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};kt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};kt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};kt.parseParenExpression=function(){this.expect(j.parenL);var e=this.parseExpression();return this.expect(j.parenR),e};kt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};kt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new BA,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==j.parenR;)if(l?l=!1:this.expect(j.comma),s&&this.afterTrailingComma(j.parenR,!0)){c=!0;break}else if(this.type===j.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(j.parenR),e&&this.shouldParseArrow(u)&&this.eat(j.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",g,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};kt.parseParenItem=function(e){return e};kt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var att=[];kt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===j.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(j.parenL)?e.arguments=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1):e.arguments=att,this.finishNode(e,"NewExpression")};kt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===j.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===j.backQuote,this.finishNode(n,"TemplateElement")};kt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===j.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(j.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(j.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};kt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===j.name||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===j.star)&&!xa.test(this.input.slice(this.lastTokEnd,this.start))};kt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(j.braceR);){if(r)r=!1;else if(this.expect(j.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(j.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};kt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(j.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===j.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(j.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(j.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};kt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};kt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===j.colon&&this.unexpected(),this.eat(j.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===j.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==j.comma&&this.type!==j.braceR&&this.type!==j.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===j.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};kt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(j.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(j.bracketR),e.key;e.computed=!1}return e.key=this.type===j.num||this.type===j.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};kt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};kt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ZM(t,r.generator)|XM|(n?Lle:0)),this.expect(j.parenL),r.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};kt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(ZM(n,!1)|Dle),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};kt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==j.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,jle),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};kt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};kt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,e4,t?null:n)}};kt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(j.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===j.comma?o=null:this.type===j.ellipsis?(o=this.parseSpread(r),r&&this.type===j.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};kt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};kt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};kt.parseIdentNode=function(){var e=this.startNode();return this.type===j.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=j.name):this.unexpected(),e};kt.parsePrivateIdent=function(){var e=this.startNode();return this.type===j.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};kt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===j.semi||this.canInsertSemicolon()||this.type!==j.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(j.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};kt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var iI=ci.prototype;iI.raise=function(e,t){var n=Nle(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};iI.raiseRecoverable=iI.raise;iI.curPosition=function(){if(this.options.locations)return new a_(this.curLine,this.pos-this.lineStart)};var yd=ci.prototype,utt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};yd.enterScope=function(e){this.scopeStack.push(new utt(e))};yd.exitScope=function(){this.scopeStack.pop()};yd.treatFunctionsAsVarInScope=function(e){return e.flags&Zg||!this.inModule&&e.flags&u_};yd.declareName=function(e,t,n){var r=!1;if(t===Lc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&u_&&delete this.undefinedExports[e]}else if(t===Fle){var s=this.currentScope();s.lexical.push(e)}else if(t===Mle){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&$le&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&u_&&delete this.undefinedExports[e],u.flags&JM)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};yd.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};yd.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};yd.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&JM)return t}};yd.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&JM&&!(t.flags&Dle))return t}};var UA=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new jA(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},$1=ci.prototype;$1.startNode=function(){return new UA(this,this.start,this.startLoc)};$1.startNodeAt=function(e,t){return new UA(this,e,t)};function Vle(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}$1.finishNode=function(e,t){return Vle.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};$1.finishNodeAt=function(e,t,n,r){return Vle.call(this,e,t,n,r)};$1.copyNode=function(e){var t=new UA(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var zle="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Hle=zle+" Extended_Pictographic",Wle=Hle,qle=Wle+" EBase EComp EMod EPres ExtPict",Yle=qle,ltt=Yle,ctt={9:zle,10:Hle,11:Wle,12:qle,13:Yle,14:ltt},ftt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",dtt={9:"",10:"",11:"",12:"",13:"",14:ftt},EW="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Gle="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Kle=Gle+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Qle=Kle+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Xle=Qle+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Jle=Xle+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",htt=Jle+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",ptt={9:Gle,10:Kle,11:Qle,12:Xle,13:Jle,14:htt},Zle={};function mtt(e){var t=Zle[e]={binary:yf(ctt[e]+" "+EW),binaryOfStrings:yf(dtt[e]),nonBinary:{General_Category:yf(EW),Script:yf(ptt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Z2=0,TW=[9,10,11,12,13,14];Z2<TW.length;Z2+=1){var gtt=TW[Z2];mtt(gtt)}var tt=ci.prototype,Pl=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Zle[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Pl.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Pl.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Pl.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Pl.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Pl.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Pl.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Pl.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Pl.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Pl.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};tt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};tt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};tt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};tt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};tt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};tt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};tt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};tt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};tt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};tt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};tt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};tt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};tt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};tt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};tt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};tt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};tt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return ece(t)?(e.lastIntValue=t,e.advance(),!0):!1};function ece(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}tt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!ece(n);)e.advance();return e.pos!==t};tt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};tt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};tt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};tt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ed(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ed(e.lastIntValue);return!0}return!1};tt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),ytt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function ytt(e){return vc(e,!0)||e===36||e===95}tt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),vtt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function vtt(e){return yg(e,!0)||e===36||e===95||e===8204||e===8205}tt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};tt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};tt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};tt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};tt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};tt.regexp_eatZero=function(e){return e.current()===48&&!VA(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};tt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};tt.regexp_eatControlLetter=function(e){var t=e.current();return tce(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function tce(e){return e>=65&&e<=90||e>=97&&e<=122}tt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&_tt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function _tt(e){return e>=0&&e<=1114111}tt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};tt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var nce=0,_c=1,ra=2;tt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(btt(t))return e.lastIntValue=-1,e.advance(),_c;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ra&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return nce};function btt(e){return e===100||e===68||e===115||e===83||e===119||e===87}tt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),_c}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return nce};tt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){k1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};tt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return _c;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ra;e.raise("Invalid property name")};tt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";rce(t=e.current());)e.lastStringValue+=ed(t),e.advance();return e.lastStringValue!==""};function rce(e){return tce(e)||e===95}tt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";wtt(t=e.current());)e.lastStringValue+=ed(t),e.advance();return e.lastStringValue!==""};function wtt(e){return rce(e)||VA(e)}tt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};tt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ra&&e.raise("Negated character class may contain strings"),!0}return!1};tt.regexp_classContents=function(e){return e.current()===93?_c:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),_c)};tt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};tt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||oce(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};tt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};tt.regexp_classSetExpression=function(e){var t=_c,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ra&&(t=ra);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ra&&(t=_c);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ra&&(t=ra)}};tt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};tt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?_c:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};tt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ra&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};tt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};tt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ra&&(t=ra);return t};tt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?_c:ra};tt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&Ett(n)||Ttt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function Ett(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Ttt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}tt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Stt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Stt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}tt.regexp_eatClassControlLetter=function(e){var t=e.current();return VA(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};tt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};tt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;VA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function VA(e){return e>=48&&e<=57}tt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;ice(n=e.current());)e.lastIntValue=16*e.lastIntValue+sce(n),e.advance();return e.pos!==t};function ice(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function sce(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}tt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};tt.regexp_eatOctalDigit=function(e){var t=e.current();return oce(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function oce(e){return e>=48&&e<=55}tt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!ice(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+sce(i),e.advance()}return!0};var n4=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new jA(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},on=ci.prototype;on.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new n4(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};on.getToken=function(){return this.next(),new n4(this)};typeof Symbol<"u"&&(on[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===j.eof,value:t}}}});on.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(j.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};on.readToken=function(e){return vc(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};on.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};on.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=Ple(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};on.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Jg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};on.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Ole.test(String.fromCharCode(e)))++this.pos;else break e}}};on.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};on.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(j.ellipsis)):(++this.pos,this.finishToken(j.dot))};on.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(j.assign,2):this.finishOp(j.slash,1)};on.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?j.star:j.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=j.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(j.assign,n+1):this.finishOp(r,n)};on.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(j.assign,3)}return this.finishOp(e===124?j.logicalOR:j.logicalAND,2)}return t===61?this.finishOp(j.assign,2):this.finishOp(e===124?j.bitwiseOR:j.bitwiseAND,1)};on.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(j.assign,2):this.finishOp(j.bitwiseXOR,1)};on.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||xa.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(j.incDec,2):t===61?this.finishOp(j.assign,2):this.finishOp(j.plusMin,1)};on.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(j.assign,n+1):this.finishOp(j.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(j.relational,n))};on.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(j.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(j.arrow)):this.finishOp(e===61?j.eq:j.prefix,1)};on.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(j.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(j.assign,3)}return this.finishOp(j.coalesce,2)}}return this.finishOp(j.question,1)};on.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),vc(t,!0)||t===92))return this.finishToken(j.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ed(t)+"'")};on.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(j.parenL);case 41:return++this.pos,this.finishToken(j.parenR);case 59:return++this.pos,this.finishToken(j.semi);case 44:return++this.pos,this.finishToken(j.comma);case 91:return++this.pos,this.finishToken(j.bracketL);case 93:return++this.pos,this.finishToken(j.bracketR);case 123:return++this.pos,this.finishToken(j.braceL);case 125:return++this.pos,this.finishToken(j.braceR);case 58:return++this.pos,this.finishToken(j.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(j.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(j.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ed(e)+"'")};on.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};on.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(xa.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Pl(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(j.regexp,{pattern:i,flags:o,value:u})};on.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function xtt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function ace(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}on.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=ace(this.input.slice(t,this.pos)),++this.pos):vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,n)};on.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=ace(this.input.slice(t,this.pos));return++this.pos,vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),vc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=xtt(this.input.slice(t,this.pos),n);return this.finishToken(j.num,s)};on.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};on.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Jg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(j.string,t)};var uce={};on.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===uce)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};on.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw uce;this.raise(e,t)};on.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===j.template||this.type===j.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(j.dollarBraceL)):(++this.pos,this.finishToken(j.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(j.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Jg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};on.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(j.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};on.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ed(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Jg(t)?"":String.fromCharCode(t)}};on.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};on.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(yg(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?vc:yg)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=ed(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};on.readWord=function(){var e=this.readWord1(),t=j.name;return this.keywords.test(e)&&(t=KM[e]),this.finishToken(t,e)};var Itt="8.11.3";ci.acorn={Parser:ci,version:Itt,defaultOptions:fD,Position:a_,SourceLocation:jA,getLineInfo:Nle,Node:UA,TokenType:yn,tokTypes:j,keywordTypes:KM,TokContext:Ra,tokContexts:mr,isIdentifierChar:yg,isIdentifierStart:vc,Token:n4,isNewLine:Jg,lineBreak:xa,lineBreakG:Xet,nonASCIIwhitespace:Ole};function Ctt(e,t){return ci.parse(e,t)}const r4={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},Att={ecmaVersion:11},SW="$",Ptt="d",Ott="d1",Rtt="d2",Oi=e=>(t,n)=>n.error(t,e+" not allowed"),Ntt=Oi("Aggregate function"),ktt=Oi("Window function"),Dtt="Invalid argument",i4="Invalid column reference",$tt=i4+" (must be input to an aggregate function)",lce="Invalid function call",Ltt="Invalid member expression",Mtt="Invalid operator parameter",Ftt="Invalid param reference",jtt="Invalid variable reference",Btt="Variable not accessible in operator call",Utt="Unsupported variable declaration",Vtt="Unsupported destructuring pattern",cce="Table expressions do not support closures",fce="Use aq.escape(fn) to use a function as-is (including closures)",ztt="use table.params({ name: value }) to define dynamic parameters",Htt="use aq.addFunction(name, fn) to add new op functions",Wtt=`
Note: ${cce}. ${fce}, or ${ztt}.`,dce=`
Note: ${cce}. ${fce}, or ${Htt}.`,qtt=`The ${dae} method is not valid in multi-table expressions.`;function Ytt(e,t){const n=Gtt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Uet(r)?(Qtt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=Ott),e.scope.add(e.tuple2=Rtt),e.scope.add(e.$param=SW)):(e.scope.add(e.tuple=Ptt),e.scope.add(e.$param=SW)),mn(r,e,s4),e.root}function Gtt(e){try{const t=e.field?Ktt(e):En(e)?hl(e):e;return Ctt(`expr=(${t})`,Att).body[0].expression.right}catch{qt(`Expression parse error: ${e+""}`)}}function Ktt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const s4={FunctionDeclaration:Oi("Function definitions"),ForStatement:Oi("For loops"),ForOfStatement:Oi("For-of loops"),ForInStatement:Oi("For-in loops"),WhileStatement:Oi("While loops"),DoWhileStatement:Oi("Do-while loops"),AwaitExpression:Oi("Await expressions"),ArrowFunctionExpression:Oi("Function definitions"),AssignmentExpression:Oi("Assignments"),FunctionExpression:Oi("Function definitions"),NewExpression:Oi('Use of "new"'),UpdateExpression:Oi("Update expressions"),VariableDeclarator(e,t){mD(e.id,t)},Identifier(e,t,n){mce(e,t,n)&&!t.scope.has(e.name)&&t.error(e,jtt,Wtt)},CallExpression(e,t){const n=hce(e.callee),r=lae(n)||cae(n);if(r){if((t.join||t.aggregate===!1)&&YL(n)&&Ntt(e,t),(t.join||t.window===!1)&&GL(n)&&ktt(e,t),t.$op=1,t.ast)pD(e,n,t),e.arguments.forEach(i=>mn(i,t,hD));else{const i=t.op(Xtt(t,r,n,e.arguments));Object.assign(e,{type:iae,name:i.id})}return t.$op=0,!1}else uae(n)?pD(e,n,t):t.error(e,lce,dce)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!si($f,r))return;const{name:s}=r;if(pce(e)&&si($f,i)&&tu(r4,i.name)){vce(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return xW(e,o,t,gce,n);if(s===t.$param)return xW(e,o,t,Ztt);t.paramsRef.has(s)?l_(e,t.paramsRef.get(s)):t.columnRef.has(s)?yce(r,s,t,e):tu(t.params,s)&&l_(r,s)}};function xW(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(si(Yg,s))a=s.value;else try{mn(s,n,s4,e),a=n.param(s)}catch{n.error(e,Ltt)}return r(e,a,t,n,i),!1}const hD={...s4,VariableDeclarator:Oi("Variable declaration in operator call"),Identifier(e,t,n){mce(e,t,n)&&t.error(e,Btt)},CallExpression(e,t){const n=hce(e.callee);uae(n)?pD(e,n,t):t.error(e,lce,dce)}};function Qtt(e,t){e.generator&&Oi("Generator functions")(e,t),e.async&&Oi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(K0(t,n[0],"tuple1",i(1)),r>1&&K0(t,n[1],"tuple2",i(2)),r>2&&K0(t,n[2],"$param",s)):(K0(t,n[0],"tuple",i(0)),r>1&&K0(t,n[1],"$param",s))),t.root=e.body}function K0(e,t,n,r){si($f,t)?(e.scope.add(t.name),e[n]=t.name):si(nae,t)&&t.properties.forEach(i=>{const s=si($f,i.key)?i.key.name:si(Yg,i.key)?i.key.value:e.error(i,Dtt);si($f,i.value)||e.error(i.value,Vtt),r(i.value.name,s)})}function Xtt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(mn(u,e,hD),i.push(e.field(u))):l<a?(mn(u,e,hD),s.push(e.param(u))):e.error(u,Mtt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function hce(e){return si($f,e)?e.name:si(tae,e)?pce(e)?Jtt(e.property.name):e.property.name:null}function pce(e){return si($f,e.object)&&e.object.name==="Math"}function Jtt(e){return e==="max"?"greatest":e==="min"?"least":e}function mce(e,t,n){const{name:r}=e;if(!(si(tae,n)&&n.property===e)){if(!(si(rae,n)&&n.key===e))if(t.paramsRef.has(r))l_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))yce(e,r,t,n);else if(tu(t.params,r))l_(e,r);else if(tu(r4,r))vce(e,r);else return!0}}function gce(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,i4),r.aggronly&&!r.$op&&r.error(e,$tt),fae(e,t,n,o,i)}function yce(e,t,n,r){const[i,s]=n.columnRef.get(t);gce(e,i,s,n,r)}function Ztt(e,t,n,r){r.params&&!tu(r.params,t)&&r.error(e,Ftt),l_(e,t)}function l_(e,t){e.type=BQe,e.name=t}function vce(e,t){e.type=MQe,e.name=t,e.raw=r4[t]}function pD(e,t,n){if(t===dae){const r=n.table;r||n.error(e,qtt),hae(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=xs(s)?r.columnName(s):s;return r.column(o)||n.error(i,i4),o}):r.columnNames())}else e.callee={type:jQe,name:t}}function mD(e,t){si($f,e)?t.scope.add(e.name):si(kQe,e)?e.elements.forEach(n=>mD(n,t)):si(nae,e)?e.properties.forEach(n=>mD(n.value,t)):t.error(e.id,Utt)}const ent={[C1]:1,[iae]:1};function mo(e,t={}){const n=t.generate||Lx,r=t.compiler||KL,i=nnt(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=tnt(g);return o[y]||(g.id=++c,o[y]=g)},field(g){const y=n(g);return s[y]||(s[y]=++l)},param(g){return si(Yg,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?Bet(y):f(n(y),i));u.push(m),ent[y.type]&&m!==y&&fs(m)&&(m.field=y.name)},error(g,y,m=""){const v=g.start-6,_=g.end-6,T=String(d.spec).slice(v,_);qt(`${y}: "${T}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of xA(e))d.value(g+"",y.escape?Het(d,y,i):Ytt(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const g in s)h[s[g]]=r.expr(g,i);const p=Object.values(o);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function tnt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function nnt(e){return(e.table?eR(e.table):e.join?{...eR(e.join[1]),...eR(e.join[0])}:{})||{}}function eR(e){return e&&ar(e.params)?e.params():{}}const _ce="Expr",Na="ExprList",bce="ExprNumber",_y="ExprObject",nm="JoinKeys",sI="JoinValues",Ko="Options",o4="OrderKeys",Xc="SelectionList",zd="TableRef",rm="TableRefList",rnt="Descending",int="Query",snt="Selection",ont="Verb",ant="Window";function zA(e,t){return e&&e.expr?new IW({...e,...t}):new IW(t,e)}class IW{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...ar(this.expr)?{func:!0}:{}}}}function unt(e){return zA(e,{desc:!0})}function Dh(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return zA(e,t?{expr:t,...r}:r)}function lnt(e,t,n){return zA(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function cnt(e){const t=n=>n;return t.toString=()=>e,t}function CW(e,t){return t=t&&ar(t.query)?t.query():t,t&&ar(t.evaluate)?t.evaluate(null,e):e(t)}function wce(e){return fs(e)&&(En(e.all)||En(e.matches)||En(e.not)||En(e.range))}function c_(e){return e&&ar(e.toObject)?e.toObject():ar(e)?{expr:String(e),func:!0}:En(e)?e.map(c_):fs(e)?MA(e,t=>c_(t)):e}function a4(e){return En(e)?e.map(a4):fs(e)?En(e.verbs)?l4.from(e):En(e.all)?gg():En(e.range)?$et(...e.range):En(e.match)?Let(RegExp(...e.match)):En(e.not)?xle(e.not.map(c_)):fnt(e):e}function fnt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Dh(n):e.func===!0&&(t=n=cnt(n)),fs(e.window)){const{frame:r,peers:i}=e.window;t=n=lnt(n,r,i)}e.desc===!0&&(t=unt(n))}return e===t?MA(e,r=>a4(r)):t}function dnt(e){return En(e)?e.map(hnt):e}function hnt(e){const t=[];return fo(e).forEach(n=>{xs(n)?t.push(n):zi(n)?t.push(Dh(n,null)):fs(n)&&n.expr||ar(n)?t.push(n):qt(`Invalid key value: ${n+""}`)}),t}function pnt(e){return En(e)?e.map(mnt):e}function mnt(e,t){return t<2?fo(e):e}function gnt(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(fs(r)&&!ar(r))for(const i in r)t.push(r[i]);else n=xs(r)?r:zi(r)?Dh(n):ar(r)?n:qt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const ynt={[_ce]:xce,[Na]:vg,[bce]:Tnt,[_y]:td,[nm]:Snt,[sI]:xnt,[o4]:vg,[Xc]:wnt};function vnt(e,t,n){return t===zd?AW(e):t===rm?e.map(AW):Ece(c_(e),t,n)}function Ece(e,t,n){return t===Ko?e&&_nt(e,n):ynt[t](e)}function _nt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Ece(i,t[r]):i}return n}function bnt(e,t){return mo({expr:e},{...t,ast:!0}).exprs[0]}function u4(e){return{type:C1,name:e}}function Tce(e){return{type:C1,index:e}}function td(e,t){if(zi(e))return bnt(e,t);if(e.expr){let n;if(e.field===!0?n=u4(e.expr):e.func===!0&&(n=td(e.expr,t)),n)return e.desc&&(n={type:rnt,expr:n}),e.window&&(n={type:ant,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...td(e[n],t),as:n}))}function Sce(e){const t=snt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:vg(e.not)}:e.range?{type:t,operator:"range",arguments:vg(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:qt("Invalid input")}function wnt(e){return fo(e).map(Ent).flat()}function Ent(e){return wce(e)?Sce(e):xs(e)?Tce(e):zi(e)?u4(e):fs(e)?Object.keys(e).map(t=>({type:C1,name:t,as:e[t]})):qt("Invalid input")}function xce(e){return wce(e)?Sce(e):xs(e)?Tce(e):zi(e)?u4(e):fs(e)?td(e):qt("Invalid input")}function vg(e){return fo(e).map(xce).flat()}function Tnt(e){return xs(e)?e:td(e)}function Snt(e){return En(e)?e.map(vg):td(e,{join:!0})}function xnt(e){return En(e)?e.map((t,n)=>n<2?vg(t):td(t,{join:!0})):td(e,{join:!0})}function AW(e){return e&&ar(e.toAST)?e.toAST():e}class Ice{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===nm?dnt(a):o===sI?pnt(a):o===o4?gnt(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=gD[t.verb],r=(n.schema||[]).map(({name:i})=>a4(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===zd?CW(n,o):s===rm?o.map(a=>CW(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=c_(this[n])}),t}toAST(){const t={type:ont,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=vnt(this[n],r,i)}),t}}function zn(e,t){return Object.assign((...n)=>new Ice(e,t,n),{schema:t})}const gD={count:zn("count",[{name:"options",type:Ko}]),derive:zn("derive",[{name:"values",type:_y},{name:"options",type:Ko,props:{before:Xc,after:Xc}}]),filter:zn("filter",[{name:"criteria",type:_y}]),groupby:zn("groupby",[{name:"keys",type:Na}]),orderby:zn("orderby",[{name:"keys",type:o4}]),relocate:zn("relocate",[{name:"columns",type:Xc},{name:"options",type:Ko,props:{before:Xc,after:Xc}}]),rename:zn("rename",[{name:"columns",type:Xc}]),rollup:zn("rollup",[{name:"values",type:_y}]),sample:zn("sample",[{name:"size",type:bce},{name:"options",type:Ko,props:{weight:_ce}}]),select:zn("select",[{name:"columns",type:Xc}]),ungroup:zn("ungroup"),unorder:zn("unorder"),reify:zn("reify"),dedupe:zn("dedupe",[{name:"keys",type:Na,default:[]}]),impute:zn("impute",[{name:"values",type:_y},{name:"options",type:Ko,props:{expand:Na}}]),fold:zn("fold",[{name:"values",type:Na},{name:"options",type:Ko}]),pivot:zn("pivot",[{name:"keys",type:Na},{name:"values",type:Na},{name:"options",type:Ko}]),spread:zn("spread",[{name:"values",type:Na},{name:"options",type:Ko}]),unroll:zn("unroll",[{name:"values",type:Na},{name:"options",type:Ko,props:{drop:Na}}]),lookup:zn("lookup",[{name:"table",type:zd},{name:"on",type:nm},{name:"values",type:Na}]),join:zn("join",[{name:"table",type:zd},{name:"on",type:nm},{name:"values",type:sI},{name:"options",type:Ko}]),cross:zn("cross",[{name:"table",type:zd},{name:"values",type:sI},{name:"options",type:Ko}]),semijoin:zn("semijoin",[{name:"table",type:zd},{name:"on",type:nm}]),antijoin:zn("antijoin",[{name:"table",type:zd},{name:"on",type:nm}]),concat:zn("concat",[{name:"tables",type:rm}]),union:zn("union",[{name:"tables",type:rm}]),intersect:zn("intersect",[{name:"tables",type:rm}]),except:zn("except",[{name:"tables",type:rm}])};let l4=class Cce extends Voe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Cce(t.map(Ice.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return PW(this,"toObject")}toJSON(){return this.toObject()}toAST(){return PW(this,"toAST",{type:int})}};function PW(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function Int(e,t){return new l4(e._verbs.concat(t),e._params,e._table)}for(const e in gD){const t=gD[e];l4.prototype["__"+e]=function(n,...r){return Int(n,t(...r))}}function t0(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function Cnt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function c4(e,t){const n=Ho();return t.forEach((r,i)=>{const s=zi(r)?r:i;if(s){const o=e.column(i)||qt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Ace(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||qt("relocate requires a before or after option."),i&&s&&qt("relocate accepts only one of the before or after options."),t=yc(e,t);const o=[...yc(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),c4(e,u)}function L1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function f4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ant(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function Pnt(e,t=0,n=e.length){let r=n?e[t++]:vn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function pw(e){return e_(e)?e:+e}function Ont(e,t){const n=e.length;if(!n)return vn;if((t=+t)<=0||n<2)return pw(e[0]);if(t>=1)return pw(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=pw(e[i]);return e_(s)?s:s+(pw(e[i+1])-s)*(r-i)}class Rnt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:Ant(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:Pnt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(f4)),Ont(this._sorted,t)}}const oI=(e,t,n)=>t0(t,"{"+L1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Nnt(e,t){const{ops:n,output:r}=knt(e,t),i=e[0].fields,s=i.length,o=s===0?d4:s===1?Dnt:s===2?$nt:qt("Unsupported field count: "+s);return new o(i,n,r,t)}function knt(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=lae(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class d4 extends Fet{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Rnt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Dnt extends d4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=oI(n,s,"add"),this._rem=oI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Ha(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Ha(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class $nt extends d4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=oI(n,s,"add"),this._rem=oI(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Ha(i)&&Ha(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Ha(i)&&Ha(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function sp(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=n0(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function n0(e,t,n){if(!t.length)return n;const r=Pce(t),i=e.groups(),s=i?i.size:1;return n=n||TA(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Rce(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Oce(e,o);o.write(a,n,0)}),n}function Pce(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Nnt(r[i],t));return n}function Oce(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Rce(e,t,n){const{keys:r,size:i}=n,s=TA(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function Nce(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function kce(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const OW=kce(f4);function Lnt(e,t,n,r,i){let s,o,a,u,l;const c=g=>o[g-1]===o[g],f=r.length,d=i.length,h=r.length?t0(["w","r","k"],"{"+L1(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,v){p.index=p.i0=p.i1=0,p.size=y.length,s=g,o=y,u=m,l=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(g,y){return y(s[g],e)},step(g){const[y,m]=t,v=p.size,_=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(v,g+Math.abs(m)+1):v,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=OW.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=OW.right(o,o[p.i1-1])));for(let x=0;x<d;++x){const w=i[x],S=a[x];for(let I=_;I<p.i0;++I)w.rem(S,s[I],e);for(let I=T;I<p.i1;++I)w.add(S,s[I],e);w.write(S,u,l)}return h(p,u,l),u}};return p}const Mnt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),Fnt=e=>!!e.peers;function jnt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=cae(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function Bnt(e,t,n,r={},i){const s=e.data(),o=Unt(i,s),a=o.length,u=t0(["r","d","op"],"{"+L1(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=Vnt(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)o[g].step(p);u(l[p],s,h)}})}function Unt(e,t){const n={};return e.forEach(r=>{const i=Mnt(r),s=Fnt(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});YL(r.name)?a.push(r):u.push(jnt(r))}),Object.values(n).map(r=>Lnt(t,r.frame,r.peers,r.winOps,Pce(r.aggOps,r.frame[0]!=null?-1:1)))}function Vnt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function znt(e){return GL(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function h4(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Ho(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=Hnt(r),c=e.isGrouped()?e.groups().size:1,f=n0(e,u,TA(r.length,()=>Array(c)));return l.length?Bnt(e,a,n,f,l):Wnt(e,a,n,f),e.create(o)}function Hnt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(znt(s)?n:t).push(s)}return[t,n]}function Wnt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function qnt(e,t,n={}){const r=h4(e,mo(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Ace(r,Object.keys(t).filter(i=>!e.column(i)),n)}function Ynt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const mw=2147483648,Gnt=4294967295;class Dce{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&mw>>>t}set(t){this._bits[t>>5]|=mw>>>t}clear(t){this._bits[t>>5]&=~(mw>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Gnt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=mw>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function Knt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Dce(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function Qnt(e,t){const n=mo({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=h4(e,n,{drop:!0}).column("p");r=s=>i[s]}return Knt(e,r)}function $ce(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=sp(e,r,n),l=Ho(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const x=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(x))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let g=0;const y=f.length,m=h.length,v=(T,x)=>{for(let w=0;w<y;++w)d[w].length=g+x,d[w].fill(f[w].get(T),g,g+x)},_=p?(T,x)=>{for(let w=0;w<x;++w)p[T+w]=w}:()=>{};if(m===1){const T=u[0],x=h[0];e.scan((w,S)=>{const I=fo(T(w,S)),k=Math.min(I.length,s);v(w,k);for(let D=0;D<k;++D)x[g+D]=I[D];_(g,k),g+=k})}else e.scan((T,x)=>{let w=0;const S=u.map(I=>{const k=fo(I(T,x));return w=Math.min(Math.max(w,k.length),s),k});v(T,w);for(let I=0;I<m;++I){const k=h[I],D=S[I];for(let M=0;M<w;++M)k[g+M]=D[M]}_(g,w),g+=w});return e.create(l.new())}function Xnt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=sp(e,r,n);return $ce(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function ru(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=xs(o)?t.columnName(o):o,zi(o)?i.set(o,Dh(o)):ar(o)?yc(t,o).forEach(s):fs(o)?Tle(i,o):qt(`Invalid ${e} value: ${o+""}`)};return fo(n).forEach(s),r.preparse&&r.preparse(i),mo(i,{table:t,...r})}function Jnt(e,t,n){return Xnt(e,ru("fold",e,t),n)}function RW(e,t,n,r){const i=n&&n.length;return Znt(i?ert(e,n,r):e,t,i)}function Znt(e,{names:t,exprs:n,ops:r},i){const s=sp(e,r,n),o=i?null:Ho(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Ha(p)?p:d(h)})}),i?e:e.create(o)}function ert(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=Mx(o);e.scan((p,g)=>a.add(u(p,g)));const l=e.columnNames(),c=Ho(),f=l.map(p=>c.add(p,[]));l.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(v=>m.push(y.get(v)))});const d=Mx(o.map((p,g)=>y=>y[g])),h=t0("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,v)=>m*v.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),NW(r,n,(m,v)=>{a.has(d(m))||(h(m),y[p++]=v[0])}),c.groupby({...r,keys:y})}else NW(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function NW(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function p4(e,{names:t,exprs:n,ops:r}){const i=Ho(),s=e.groups();return s&&Nce(i,s),trt(t,n,s,n0(e,r),i),e.create(i.new())}function trt(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function nrt(e,t,n={}){if(t=mo(t,{table:e}),t.names.forEach(r=>e.column(r)?0:qt(`Invalid impute column ${hl(r)}`)),n.expand){const r={preparse:rrt,aggronly:!0},i=ru("impute",e,n.expand,r),s=p4(e.ungroup(),i);return RW(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return RW(e,t)}function rrt(e){e.forEach((t,n)=>t.field?e.set(n,Xoe(t+"")):0)}function irt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Lce(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function srt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function ort(e,t){const n=["i","a","j","b"];return t0(n,"{"+L1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function art(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=Ho(),y=Array(p),m=Array(p);for(let T=0;T<r.length;++T)y[T]=g.add(r[T],[]),m[T]=i[T];const v=ort(y,m);if((En(n)?lrt:urt)(v,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||v(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||v(-1,o,f[T],c);return e.create(g.new())}function urt(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function lrt(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,g,y,m,v,_=e;l>=c?(f=r,d=t,h=a,p=s,g=i,y=n,m=u,v=o):(f=i,d=n,h=u,p=o,g=r,y=t,m=a,v=s,_=(w,S,I,k)=>e(I,k,w,S));const T=srt(v,g,y),x=p.length;for(let w=0;w<x;++w){const S=p[w],I=T.get(d(S,f));if(I){const k=I.length;for(let D=0;D<k;++D){const M=I[D];_(S,f,v[M],g),m[M]=1}h[w]=1}}}function aI(e,t,n){const r=new Map;fo(n).forEach((s,o)=>{s=xs(s)?t.columnName(s):s,zi(s)?r.set(o,Dh(s)):ar(s)||fs(s)&&s.expr?r.set(o,s):qt(`Invalid ${e} key value: ${s+""}`)});const i=mo(r,{table:t,aggregate:!1,window:!1});return Mx(i.exprs,!0)}function crt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function m4(e,t,n){if(n)zi(n)?n=[n,n]:En(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=crt(e.columnNames(),t.columnNames());r.length||qt("Natural join requires shared column names."),n=[r,r]}return n}function Mce(e,t,n,r){return n.length!==r.length&&qt("Mismatched number of join keys"),[aI("join",e,n),aI("join",t,r)]}const frt={aggregate:!1,window:!1},drt={...frt,index:1};function kW(e,t,n,r,i={}){n=m4(e,t,n);const s={join:[e,t]};let o;if(En(n)){const[a,u]=n.map(fo);o=Mce(e,t,a,u),r||(r=hrt(e,a,u,i))}else o=mo({on:n},s).exprs[0],r||(r=[gg(),gg()]);return art(e,t,o,prt(e,t,r,s,i&&i.suffix),i)}function hrt(e,t,n,r){const i=[];t.forEach((o,a)=>zi(o)&&o===n[a]?i.push(o):0);const s=xle(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${hl(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,gg()]:[gg(),s]}function prt(e,t,n,r,i=[]){if(En(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=ru("join",e,n[0],r)),u--&&(o=ru("join",t,n[1],drt)),u--&&(a=mo(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&DW(s.names,l,i[0]||"_1"),i[1]!==""&&DW(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return mo(n,r)}function DW(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function mrt(e,t,n,r={}){const i=new Dce(e.totalRows());return(En(n)?grt:yrt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function grt(e,t,n,[r,i]){const s=Lce(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function yrt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function $W(e,t,n,r){n=m4(e,t,n);const i=En(n)?Mce(e,t,...n.map(fo)):mo({on:n},{join:[e,t]}).exprs[0];return mrt(e,t,i,r)}function vrt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Ho(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(vn)));const l=Lce(t,r),c=t0(["lr","rr","data"],"{"+L1(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),sp(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function _rt(e,t,n,r){return n=m4(e,t,n),vrt(e,t,[aI("lookup",e,n[0]),aI("lookup",t,n[1])],ru("lookup",t,r))}const yD=(e,t)=>e??t;function brt(e,t,n,r={}){const{keys:i,keyColumn:s}=wrt(e,t,r),o=yD(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>n0(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>l===s[p]?d(p,g):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(Ert(n,a,e.groups(),u))}function wrt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=yD(n.sort,!0),s=yD(n.keySeparator,"_"),o=sp(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=n0(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function Ert({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Ho(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&Nce(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let g=0;g<s;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function Trt(e,t,n,r){return brt(e,ru("fold",e,t),ru("fold",e,n,{preparse:Srt,aggronly:!0}),r)}function Srt(e){e.forEach((t,n)=>t.field?e.set(n,Goe(t+"")):0)}function xrt(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),c4(e,yc(e,t,n))}function LW(e,t){return p4(e,mo(t,{table:e,aggronly:!0,window:!1}))}function Irt(e,t,n,r){return(t?r?Art:Crt:r?Ort:Prt)(e.length,e,n,r)}function Crt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*qg()|0];return t}function Art(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=kce(f4).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*qg())];return t}function Prt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*qg();s<e&&(t[s|0]=n[i])}return t}function Ort(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(qg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function Rrt(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=qg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function Nrt(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):Irt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&Rrt(u),e.reify(u)}function krt(e,t,n={}){return Nrt(e,Drt(e,t),$rt(e,n.weight),n)}const Fce=e=>t=>e.get(t)||0;function Drt(e,t){return xs(t)?()=>t:Fce(p4(e,mo({size:t},{table:e,window:!1})).column("size"))}function $rt(e,t){return t==null?null:(t=xs(t)?e.columnName(t):t,Fce(zi(t)?e.column(t):h4(e,mo({w:t},{table:e}),{drop:!0}).column("w")))}function Lrt(e,t){return c4(e,yc(e,t))}function Mrt(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=sp(e,r,n),l=Ho(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=Frt(e,u[d],a),g=p.length;for(let y=0;y<g;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function Frt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=fo(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(vn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function jrt(e,t,n){return Mrt(e,ru("spread",e,t),n)}function Brt(e,t){return e.concat(t).dedupe()}function Urt(e,t,n){return $ce(e,ru("unroll",e,t),n&&n.drop?{...n,drop:ru("unroll",e,n.drop).names}:n)}function Vrt(e,t){return e.create({groups:zrt(e,t)})}function zrt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=sp(e,r,n);const o=Mx(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function Hrt(e,t){return Vrt(e,ru("groupby",e,t))}function Wrt(e,t){return e.create({order:t})}const qrt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Yrt(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=mo(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([Lx(p,{index:"a",op:o}),Lx(p,{index:"b",op:a})])},window:!1}),l=n0(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=qrt(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function Grt(e,t){return Wrt(e,Krt(e,t))}function Krt(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(fs(o)&&!ar(o))for(const a in o)i(o[a]);else i(xs(o)?Dh(s,e.columnName(o)):zi(o)?Dh(s):ar(o)?s:qt(`Invalid orderby field: ${s+""}`))}),Yrt(e,r)}function Qrt(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Ho();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>vn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function Xrt(e,t){const n=Ho(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Rce(e,t,r):[Oce(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,v=0;m<a;++m)g.fill(y(o[m],d),v,v+=u[m+1])})}return e.create(n.new())}function Jrt(e){return e.isGrouped()?e.create({groups:null}):e}function Zrt(e){return e.isOrdered()?e.create({order:null}):e}const eit={__antijoin:(e,t,n)=>$W(e,t,n,{anti:!0}),__count:(e,t={})=>LW(e,{[t.as||"count"]:Koe()}),__cross:(e,t,n,r)=>kW(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Qrt,__dedupe:Cnt,__derive:qnt,__except:Ynt,__filter:Qnt,__fold:Jnt,__impute:nrt,__intersect:irt,__join:kW,__lookup:_rt,__pivot:Trt,__relocate:Ace,__rename:xrt,__rollup:LW,__sample:krt,__select:Lrt,__semijoin:$W,__spread:jrt,__union:Brt,__unroll:Urt,__groupby:Hrt,__orderby:Grt,__ungroup:Jrt,__unorder:Zrt,__reduce:Xrt};Object.assign(ju.prototype,eit);function tit(e,t){return ju.new(e,t)}function uI(e,t){return ju.from(e,t)}function Wc(e,t={}){const n=`d[${JSON.stringify(e)}]`,{maxbins:r,nice:i,minstep:s,step:o,offset:a}=t,u=[r,i,s,o];let l=u.length;for(;l&&u[--l]==null;)u.pop();const c=u.length?", "+u.map(f=>f+"").join(", "):"";return`d => op.bin(${n}, ...op.bins(${n}${c}), ${a||0})`}function gw(e){return zA(e,{escape:!0,toString(){qt("Escaped values can not be serialized.")}})}ju.prototype;function nit(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let yw;const rit=new Uint8Array(16);function iit(){if(!yw&&(yw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yw(rit)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function sit(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}const oit=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),MW={randomUUID:oit};function FW(e,t,n){if(MW.randomUUID&&!t&&!e)return MW.randomUUID();e=e||{};const r=e.random||(e.rng||iit)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return sit(r)}let tl=class{static get(){let t=FW();for(;this.ids.has(t);)t=FW();return this.ids.set(t,!0),t}};tl.ids=new Map;function nl(e){return"parent"in e}function ait(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:tl.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:tl.get(),createdOn:Date.now(),val:r}]:[];return{id:tl.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function uit({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:tl.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:tl.get(),createdOn:Date.now(),val:s}]:[];return{id:tl.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Or(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=yit[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $h(e){return!!e&&!!e[Fo]}function nd(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===vit}(e)||Array.isArray(e)||!!e[rv]||!!(!((t=e.constructor)===null||t===void 0)&&t[rv])||HA(e)||WA(e))}function _g(e,t,n){n===void 0&&(n=!1),rd(e)===0?(n?Object.keys:w4)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function rd(e){var t=e[Fo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:HA(e)?2:WA(e)?3:0}function f_(e,t){return rd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IE(e,t){return rd(e)===2?e.get(t):e[t]}function jce(e,t,n){var r=rd(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function lit(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function HA(e){return mit&&e instanceof Map}function WA(e){return git&&e instanceof Set}function kd(e){return e.o||e.t}function g4(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=_it(e);delete t[Fo];for(var n=w4(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y4(e,t){return t===void 0&&(t=!1),v4(e)||$h(e)||!nd(e)||(rd(e)>1&&(e.set=e.add=e.clear=e.delete=cit),Object.freeze(e),t&&_g(e,function(n,r){return y4(r,!0)},!0)),e}function cit(){Or(2)}function v4(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function rl(e){var t=wD[e];return t||Or(18,e),t}function fit(e,t){wD[e]||(wD[e]=t)}function jW(){return{}.NODE_ENV==="production"||bg||Or(0),bg}function tR(e,t){t&&(rl("Patches"),e.u=[],e.s=[],e.v=t)}function lI(e){vD(e),e.p.forEach(dit),e.p=null}function vD(e){e===bg&&(bg=e.l)}function BW(e){return bg={p:[],l:bg,h:e,m:!0,_:0}}function dit(e){var t=e[Fo];t.i===0||t.i===1?t.j():t.O=!0}function nR(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||rl("ES5").S(t,e,r),r?(n[Fo].P&&(lI(t),Or(4)),nd(e)&&(e=cI(t,e),t.l||fI(t,e)),t.u&&rl("Patches").M(n[Fo].t,e,t.u,t.s)):e=cI(t,n,[]),lI(t),t.u&&t.v(t.u,t.s),e!==b4?e:void 0}function cI(e,t,n){if(v4(t))return t;var r=t[Fo];if(!r)return _g(t,function(s,o){return UW(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return fI(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=g4(r.k):r.o;_g(r.i===3?new Set(i):i,function(s,o){return UW(e,r,i,s,o,n)}),fI(e,i,!1),n&&e.u&&rl("Patches").R(r,n,e.u,e.s)}return r.o}function UW(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Or(5),$h(i)){var o=cI(e,i,s&&t&&t.i!==3&&!f_(t.D,r)?s.concat(r):void 0);if(jce(n,r,o),!$h(o))return;e.m=!1}if(nd(i)&&!v4(i)){if(!e.h.F&&e._<1)return;cI(e,i),t&&t.A.l||fI(e,i)}}function fI(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&y4(t,n)}function rR(e,t){var n=e[Fo];return(n?kd(n):e)[t]}function VW(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function _D(e){e.P||(e.P=!0,e.l&&_D(e.l))}function iR(e){e.o||(e.o=g4(e.t))}function bD(e,t,n){var r=HA(t)?rl("MapSet").N(t,n):WA(t)?rl("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:jW(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=ED;o&&(u=[a],l=by);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):rl("ES5").J(t,n);return(n?n.A:jW()).p.push(r),r}function hit(e){return $h(e)||Or(22,e),function t(n){if(!nd(n))return n;var r,i=n[Fo],s=rd(n);if(i){if(!i.P&&(i.i<4||!rl("ES5").K(i)))return i.t;i.I=!0,r=zW(n,s),i.I=!1}else r=zW(n,s);return _g(r,function(o,a){i&&IE(i.t,o)===a||jce(r,o,t(a))}),s===3?new Set(r):r}(e)}function zW(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g4(e)}function pit(){function e(r){if(!nd(r))return r;if(Array.isArray(r))return r.map(e);if(HA(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(WA(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return f_(r,rv)&&(i[rv]=r[rv]),i}function t(r){return $h(r)?e(r):r}var n="add";fit("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=rd(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Or(24),typeof u=="function"&&f==="prototype"&&Or(24),typeof(u=IE(u,f))!="object"&&Or(15,o.join("/"))}var d=rd(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Or(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Or(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;_g(a.D,function(h,p){var g=IE(f,h),y=IE(d,h),m=p?f_(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var v=u.concat(h);l.push(m==="remove"?{op:m,path:v}:{op:m,path:v,value:y}),c.push(m===n?{op:"remove",path:v}:m==="remove"?{op:n,path:v,value:t(g)}:{op:"replace",path:v,value:t(g)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,l];l=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=u.concat([y]);l.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=u.concat([v]);l.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=u.concat([h]);l.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=u.concat([h]);l.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===b4?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var HW,bg,_4=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",mit=typeof Map<"u",git=typeof Set<"u",WW=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",b4=_4?Symbol.for("immer-nothing"):((HW={})["immer-nothing"]=!0,HW),rv=_4?Symbol.for("immer-draftable"):"__$immer_draftable",Fo=_4?Symbol.for("immer-state"):"__$immer_state",yit={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},vit=""+Object.prototype.constructor,w4=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,_it=Object.getOwnPropertyDescriptors||function(e){var t={};return w4(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},wD={},ED={get:function(e,t){if(t===Fo)return e;var n=kd(e);if(!f_(n,t))return function(i,s,o){var a,u=VW(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!nd(r)?r:r===rR(e.t,t)?(iR(e),e.o[t]=bD(e.A.h,r,e)):r},has:function(e,t){return t in kd(e)},ownKeys:function(e){return Reflect.ownKeys(kd(e))},set:function(e,t,n){var r=VW(kd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=rR(kd(e),t),s=i==null?void 0:i[Fo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(lit(n,i)&&(n!==void 0||f_(e.t,t)))return!0;iR(e),_D(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return rR(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,iR(e),_D(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=kd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Or(12)}},by={};_g(ED,function(e,t){by[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),by.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Or(13),by.set.call(this,e,t,void 0)},by.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Or(14),ED.set.call(this,e[0],t,n,e[0])};var bit=function(){function e(n){var r=this;this.g=WW,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return u.produce(g,function(T){var x;return(x=s).call.apply(x,[y,T].concat(v))})}}var l;if(typeof s!="function"&&Or(6),o!==void 0&&typeof o!="function"&&Or(7),nd(i)){var c=BW(r),f=bD(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?lI(c):vD(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return tR(c,o),nR(g,c)},function(g){throw lI(c),g}):(tR(c,o),nR(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===b4&&(l=void 0),r.F&&y4(l,!0),o){var h=[],p=[];rl("Patches").M(i,l,h,p),o(h,p)}return l}Or(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){nd(n)||Or(8),$h(n)&&(n=hit(n));var r=BW(this),i=bD(this,n,void 0);return i[Fo].C=!0,vD(r),i},t.finishDraft=function(n,r){var i=n&&n[Fo];({}).NODE_ENV!=="production"&&(i&&i.C||Or(9),i.I&&Or(10));var s=i.A;return tR(s,r),nR(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!WW&&Or(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=rl("Patches").$;return $h(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),jo=new bit,wit=jo.produce;jo.produceWithPatches.bind(jo);jo.setAutoFreeze.bind(jo);jo.setUseProxies.bind(jo);jo.applyPatches.bind(jo);jo.createDraft.bind(jo);jo.finishDraft.bind(jo);function Eit(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=ait({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Qre({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:tl.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:tl.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function Tit(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Eit(e),s=n5e();s.startListening({matcher:o7(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=o7(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=Gre({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:tl.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Sit=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xit=Object.prototype.hasOwnProperty;function TD(e,t){return xit.call(e,t)}function SD(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)TD(e,i)&&r.push(i);return r}function Zs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function xD(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Dd(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Bce(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function ID(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(ID(e[t]))return!0}else if(typeof e=="object"){for(var r=SD(e),i=r.length,s=0;s<i;s++)if(ID(e[r[s]]))return!0}}return!1}function qW(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Uce=function(e){Sit(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,qW(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=qW(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Ir=Uce,Iit=Zs,im={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=dI(n,this.path);r&&(r=Zs(r));var i=ph(n,{op:"remove",path:this.from}).removed;return ph(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=dI(n,this.from);return ph(n,{op:"add",path:this.path,value:Zs(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:d_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Cit={add:function(e,t,n){return xD(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:im.move,copy:im.copy,test:im.test,_get:im._get};function dI(e,t){if(t=="")return e;var n={op:"_get",path:t};return ph(e,n),n.value}function ph(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):hI(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=dI(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=d_(e,t.value),o.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Ir("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Zs(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=hI;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=Bce(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!xD(h))throw new Ir("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);xD(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Ir("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=Cit[t.op].call(t,l,h,e);if(o.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=im[t.op].call(t,l,h,e);if(o.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Ir("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function qA(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Ir("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Zs(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=ph(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function Ait(e,t,n){var r=ph(e,t);if(r.test===!1)throw new Ir("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function hI(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ir("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(im[e.op]){if(typeof e.path!="string")throw new Ir("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ir('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ir("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ir("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&ID(e.value))throw new Ir("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Ir("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Ir("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Vce([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ir("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ir("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Vce(e,t,n){try{if(!Array.isArray(e))throw new Ir("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)qA(Zs(t),Zs(e),n||!0);else{n=n||hI;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Ir)return i;throw i}}function d_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!d_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!d_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Pit=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ir,_areEquals:d_,applyOperation:ph,applyPatch:qA,applyReducer:Ait,deepClone:Iit,getValueByPointer:dI,validate:Vce,validator:hI},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var E4=new WeakMap,Oit=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Rit=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Nit(e){return E4.get(e)}function kit(e,t){return e.observers.get(t)}function Dit(e,t){e.observers.delete(t.callback)}function $it(e,t){t.unobserve()}function Lit(e,t){var n=[],r,i=Nit(e);if(!i)i=new Oit(e),E4.set(e,i);else{var s=kit(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Zs(e),t){r.callback=t,r.next=null;var o=function(){CD(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){CD(r),clearTimeout(r.next),Dit(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Rit(t,r)),r}function CD(e,t){t===void 0&&(t=!1);var n=E4.get(e.object);T4(n.value,e.object,e.patches,"",t),e.patches.length&&qA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function T4(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=SD(t),o=SD(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(TD(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?T4(c,f,n,r+"/"+Dd(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Dd(l),value:Zs(c)}),n.push({op:"replace",path:r+"/"+Dd(l),value:Zs(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Dd(l),value:Zs(c)}),n.push({op:"remove",path:r+"/"+Dd(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!TD(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Dd(l),value:Zs(t[l])})}}}function zce(e,t,n){n===void 0&&(n=!1);var r=[];return T4(e,t,r,"",n),r}const Mit=Object.freeze(Object.defineProperty({__proto__:null,compare:zce,generate:CD,observe:Lit,unobserve:$it},Symbol.toStringTag,{value:"Module"}));Object.assign({},Pit,Mit,{JsonPatchError:Uce,deepClone:Zs,escapePathComponent:Dd,unescapePathComponent:Bce});var wy=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(wy||{});function CE(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Hce(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=CE(i,t);return qA(a,Zs(o),!0,!1).newDocument}function Fit(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function S4({registry:e,initialState:t}){let n=!1;const r=nit(),i=Tit(t);function s(c){return i.backend.nodes[c]}r.listen(wy.TRAVERSAL_START,()=>{n=!0}),r.listen(wy.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return CE(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=CE(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=zce(m,f);if(Fit(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=uit({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=CE(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(wy.TRAVERSAL_START);const f=Hce(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),g=s(f[h+1]);Bit(p,g)?nl(p)&&d.push(...p.sideEffects.undo):nl(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(wy.TRAVERSAL_END)},undo(){const{current:c}=i;return nl(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Wce(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function jit(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;nl(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)nl(r)&&(r=n[r.parent]),nl(i)&&(i=n[i.parent]);return r.id}function Hce(e,t,n){const r=jit(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),nl(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),nl(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function Bit(e,t){if(nl(e)&&e.parent===t.id)return!0;if(nl(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Wce(e,t){return{...e,children:e.children.map(n=>Wce(t[n],t)),name:`${e.label}`}}pit();function Uit(e){return e.length===2?wit(e):e}class M1{static create(){return new M1}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:Uit(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Zu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var Vit="Expected a function",YW=NaN,zit="[object Symbol]",Hit=/^\s+|\s+$/g,Wit=/^[-+]0x[0-9a-f]+$/i,qit=/^0b[01]+$/i,Yit=/^0o[0-7]+$/i,Git=parseInt,Kit=typeof Co=="object"&&Co&&Co.Object===Object&&Co,Qit=typeof self=="object"&&self&&self.Object===Object&&self,Xit=Kit||Qit||Function("return this")(),Jit=Object.prototype,Zit=Jit.toString,est=Math.max,tst=Math.min,sR=function(){return Xit.Date.now()};function nst(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Vit);t=GW(t)||0,AD(n)&&(c=!!n.leading,f="maxWait"in n,s=f?est(GW(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(w){var S=r,I=i;return r=i=void 0,l=w,o=e.apply(I,S),o}function p(w){return l=w,a=setTimeout(m,t),c?h(w):o}function g(w){var S=w-u,I=w-l,k=t-S;return f?tst(k,s-I):k}function y(w){var S=w-u,I=w-l;return u===void 0||S>=t||S<0||f&&I>=s}function m(){var w=sR();if(y(w))return v(w);a=setTimeout(m,g(w))}function v(w){return a=void 0,d&&r?h(w):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:v(sR())}function x(){var w=sR(),S=y(w);if(r=arguments,i=this,u=w,S){if(a===void 0)return p(u);if(f)return a=setTimeout(m,t),h(u)}return a===void 0&&(a=setTimeout(m,t)),o}return x.cancel=_,x.flush=T,x}function AD(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rst(e){return!!e&&typeof e=="object"}function ist(e){return typeof e=="symbol"||rst(e)&&Zit.call(e)==zit}function GW(e){if(typeof e=="number")return e;if(ist(e))return YW;if(AD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Hit,"");var n=qit.test(e);return n||Yit.test(e)?Git(e.slice(2),n?2:8):Wit.test(e)?YW:+e}var sst=nst;const vu=au(sst);function qce({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=b.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=b.useMemo(()=>vA(".2s"),[]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(ma,{children:C.jsx(jr,{spacing:3,children:C.jsx(ut,{size:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>C.jsxs("g",{transform:`translate(${n}, ${a})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),C.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const ost=Object.freeze(Object.defineProperty({__proto__:null,YAxis:qce},Symbol.toStringTag,{value:"Module"})),oR=15;function Yce({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:u}){const[l,c]=b.useState([0,0]),[f,d]=b.useState(!1);return b.useEffect(()=>{const h=Gr(u.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",g=>{const y=[g.clientX-p.x,g.clientY-p.y];if(c(y),f){const m=i.filter(v=>Math.abs(e(v[r.x])-y[0])<oR&&Math.abs(t(v[r.y])-y[1])<oR);if(g.ctrlKey||g.metaKey||!o){const v=new Set(a);m.forEach(T=>{v.has(T[r.ids])&&v.delete(T[r.ids])});const _=Array.from(v);n([[l[0],l[1]],[l[0],l[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...m.map(_=>_[r.ids])]));v.length>0&&n([[l[0],l[1]],[l[0],l[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",g=>{d(!0),g.stopPropagation(),g.preventDefault()}),h.on("mouseup",()=>{d(!1)})}},[l,s.id,a,i,f,o,r,n,u,e,t]),C.jsx("circle",{style:{cursor:f?"pointer":"default",pointerEvents:"none"},r:oR,fill:"darkgray",opacity:.5,cx:l[0],cy:l[1]})}const ast=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Yce},Symbol.toStringTag,{value:"Module"}));function ust(e){const t=b.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return b.useLayoutEffect(()=>{t.current=e}),b.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Gn={top:15,left:100,right:15,bottom:130};function Gce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Xu(),[d,h]=b.useState(i),[p]=Xu(),[g]=Xu(),y=b.useMemo(()=>f-Gn.left-Gn.right,[f]),m=b.useMemo(()=>c-Gn.top-Gn.bottom,[c]),v=b.useMemo(()=>{const O=Array.from(new Set(s.map(B=>B[d.category])));return bA(Foe).domain(O)},[s,d.category]),{xMin:_,yMin:T,xMax:x,yMax:w}=b.useMemo(()=>{const O=s.map(X=>+X[d.x]).filter(X=>X!==null),[B,N]=Yv(O),ee=s.map(X=>+X[d.y]).filter(X=>X!==null),[te,se]=Yv(ee);return{xMin:B,xMax:N,yMin:te,yMax:se}},[s,d.x,d.y]),S=b.useMemo(()=>{const O=x-_;return y<=0?null:d.dataType==="date"?PKe([Gn.left,y+Gn.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):co([Gn.left,y+Gn.left]).domain([_-O/10,x+O/10]).nice()},[d.dataType,y,x,_]),I=b.useMemo(()=>{const O=w-T;return m<=0?null:co([m+Gn.top,Gn.top]).domain([T-O/10,w+O/10]).nice()},[m,w,T]);b.useMemo(()=>{if(!S||!I)return()=>null;if(r==="Axis Selection"){const O=Gqe().extent([[Gn.left,Gn.top+m-5],[Gn.left+y,Gn.top+m+5]]).on("brush end",N=>{N.sourceEvent!==void 0&&n([[N.selection[0],null],[N.selection[1],null]],S,I,N.mode,t.id)}),B=Kqe().extent([[Gn.left-5,Gn.top],[Gn.left+5,Gn.top+m]]).on("brush end",N=>{N.sourceEvent!==void 0&&n([[null,N.selection[0]],[null,N.selection[1]]],S,I,N.mode,t.id)});return p.current&&g.current&&(Gr(g.current).call(B),Gr(p.current).call(O),t.hasBrush||(Gr(g.current).call(B.move,[I(w),I(T)]),Gr(p.current).call(O.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),I(w)],[S(new Date("2015-12-31")),I(T)]],S,I,"drag",t.id))),()=>{Gr(g.current).call(B.move,[I(w),I(T)]),Gr(p.current).call(O.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),I(w)],[S(new Date("2015-12-31")),I(T)]],S,I,"clear",t.id)}}if(r==="Rectangular Selection"){const O=Qqe().extent([[Gn.left,Gn.top],[Gn.left+y,Gn.top+m]]).on("brush",B=>{B.sourceEvent!==void 0&&n([[B.selection[0][0],B.selection[0][1]],[B.selection[1][0],B.selection[1][1]]],S,I,B.mode,t.id)}).on("end",B=>{B.selection===null&&B.sourceEvent!==void 0&&(Gr(l.current).call(O.move,null),e(null))});return Gr(l.current).call(O),()=>{Gr(l.current).call(O.move,null),n([[null,null],[null,null]],S,I,"clear",t.id)}}return r==="Slider Selection"?()=>n([[S(_),I(w)],[S(x),I(T)]],S,I,"clear",t.id):r==="Paintbrush Selection"?()=>n([[S(_),I(w)],[S(x),I(T)]],S,I,"clear",t.id,[]):()=>null},[t,r,p,g,m,l,n,y,x,_,S,w,T,I]),b.useEffect(()=>{r==="Slider Selection"&&S&&I&&n([[S(_),I(w)],[S(x),I(T)]],S,I,null,t.id)},[r,x,_,S,w,T,I]);const k=b.useMemo(()=>o.length===0?null:new Set(o),[o]),D=b.useMemo(()=>!S||!I?null:s.filter(O=>d.year?+O.Year===d.year:!0).map((O,B)=>{if(O[d.x]===null||O[d.y]===null)return null;const N=d.dataType==="date"?S(new Date(O[d.x])):S(O[d.x]);return C.jsx(a1,{withinPortal:!0,label:O[d.ids],children:C.jsx("circle",{opacity:k&&!k.has(O[d.ids])?.3:.7,r:3,fill:k&&!k.has(O[d.ids])?"lightgray":d.hideCat?"gray":v(O[d.category]),cx:N,cy:I(O[d.y])},B)},B)}),[k,v,s,S,I,d]);b.useEffect(()=>{r==="Axis Selection"&&XHe(".handle").style("fill","darkgrey")},[t,r]);const M=ust(O=>{h({...d,year:O?+O:void 0})});return C.jsxs(Br,{spacing:0,children:[C.jsx(jr,{mr:Gn.right,style:{justifyContent:"space-between"},children:d.year?C.jsxs(Br,{spacing:0,children:[C.jsx(ut,{size:12,ml:Gn.left,children:d.year}),C.jsx(PC,{min:2008,max:2022,value:d.year,onChange:M,ml:Gn.left,style:{width:"150px"},label:d.year})]}):null}),C.jsxs(jr,{style:{width:"100%",height:"100%"},noWrap:!0,children:[C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[S&&I?C.jsxs("g",{children:[C.jsx(qce,{yScale:I,label:d.y,horizontalPosition:Gn.left,xRange:S.range()}),C.jsx(x1,{xScale:S,yRange:I.range(),isDate:d.dataType==="date",vertPosition:m+Gn.top,label:d.x,ticks:S.ticks(d.brushType==="Axis Selection"?12:5).map(O=>({value:O.toString(),offset:S(O)}))})]}):null,D,C.jsx("g",{id:"brushXRef",ref:p}),C.jsx("g",{id:"brushYRef",ref:g}),S&&I&&r==="Paintbrush Selection"?C.jsx(Yce,{currSelected:o,svgRef:l,brushState:t,setBrushedSpace:n,params:d,data:s.filter(O=>d.year?+O.Year===d.year:!0),isSelect:u,xScale:S,yScale:I}):null]}),r==="Slider Selection"&&S&&I?C.jsxs(Br,{style:{flexGrow:1},spacing:50,children:[C.jsxs(Br,{spacing:0,children:[C.jsx(ut,{children:d.x}),C.jsx(XN,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],labelAlwaysOn:!1,onChange:O=>{n([[S(O[0]),t.y1],[S(O[1]),t.y2]],S,I,"drag",t.id)},style:{width:"300px"},marks:S.ticks(5).map(O=>({value:O,label:O})),value:[S.invert(t.x1),S.invert(t.x2)]})]}),C.jsxs(Br,{spacing:0,children:[C.jsx(ut,{children:d.y}),C.jsx(XN,{minRange:1,label:null,min:I.domain()[0],max:I.domain()[1],onChange:O=>{n([[t.x1,I(O[1])],[t.x2,I(O[0])]],S,I,"drag",t.id)},style:{width:"300px"},marks:I.ticks(5).map(O=>({value:O,label:O})),value:[I.invert(t.y2),I.invert(t.y1)]})]})]}):null]})]})}const lst=Object.freeze(Object.defineProperty({__proto__:null,Scatter:Gce},Symbol.toStringTag,{value:"Module"})),bo={top:15,left:100,right:15,bottom:130};function Kce({setFilteredTable:e,brushState:t,setSelection:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u,dataTable:l}){const[c,{height:f,width:d}]=Xu(),[h,p]=b.useState(i),g=b.useMemo(()=>d-bo.left-bo.right,[d]),y=b.useMemo(()=>f-bo.top-bo.bottom,[f]),m=b.useMemo(()=>h.hideCat?l.groupby(t.xCol).count():l.groupby(t.xCol,"Survived").count(),[t.xCol,l,h.hideCat]),v=b.useMemo(()=>{if(!s)return null;const S=uI(s);return h.hideCat?S.groupby(t.xCol).count():S.groupby(t.xCol,"Survived").count()},[t.xCol,s,h.hideCat]),_=b.useMemo(()=>m?co([bo.top,y+bo.top]).domain([0,Gv(m.objects().map(S=>S.count))].reverse()).nice():null,[m,y]),T=b.useMemo(()=>m?np([bo.left,g+bo.left]).domain(m.array(t.xCol).sort()).paddingInner(.1):null,[m,g,t.xCol]),x=b.useMemo(()=>!T||!_||!v?null:v.objects().map((S,I)=>C.jsxs("g",{children:[h.hideCat?C.jsx("rect",{onClick:k=>n(l.objects().filter(D=>D[t.xCol]===S[t.xCol]).map(D=>D.Name),k),x:T(S[t.xCol]),y:y-(y-_(S.count)),fill:"gray",width:T.bandwidth(),height:bo.top+y-_(S.count)}):C.jsx("rect",{onClick:k=>n(l.objects().filter(D=>D[t.xCol]===S[t.xCol]&&D.Survived===S.Survived).map(D=>D.Name),k),x:S.Survived==="Yes"?T(S[t.xCol]):T(S[t.xCol])+T.bandwidth()/2,y:y-(y-_(S.count)),fill:S.Survived==="Yes"?"#f28e2c":"#4e79a7",width:T.bandwidth()/2,height:bo.top+y-_(S.count)}),C.jsx("text",{x:T(S[t.xCol])+(h.hideCat?T.bandwidth()/2:S.Survived==="Yes"?T.bandwidth()/4:T.bandwidth()*.75),y:_(S.count)-10,style:{textAnchor:"middle",dominantBaseline:"middle",fontSize:14},children:S.count})]},`${I}fullRects`)),[v,t.xCol,l,y,h.hideCat,n,T,_]),w=b.useMemo(()=>!T||!_||!m?null:m.objects().map((S,I)=>C.jsx("g",{children:C.jsx("rect",{onClick:k=>n(l.objects().filter(D=>D[t.xCol]===S[t.xCol]&&h.hideCat?!0:D.Survived===S.Survived).map(D=>D.Name),k),opacity:.7,x:S.Survived==="Yes"||h.hideCat?T(S[t.xCol]):T(S[t.xCol])+T.bandwidth()/2,fill:"lightgray",width:h.hideCat?T.bandwidth():T.bandwidth()/2,y:y-(y-_(S.count)),height:bo.top+y-_(S.count)})},`${I}survRects`)),[m,t.xCol,l,y,h.hideCat,n,T,_]);return _&&T&&v?C.jsx(Br,{spacing:0,children:C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:c,style:{height:"500px",width:h.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(x1,{xScale:T,yRange:_.range(),vertPosition:y+bo.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:[...new Set(l.array(t.xCol))].map(S=>({value:S,offset:T(S)+T.bandwidth()/2}))}),_?C.jsx(EA,{label:"Count",yScale:_,horizontalPosition:bo.left,xRange:T.range(),ticks:_.ticks(5).map(S=>({value:S.toString(),offset:_(S)}))}):null,w,x]})}):null}const cst=Object.freeze(Object.defineProperty({__proto__:null,Histogram:Kce},Symbol.toStringTag,{value:"Module"})),gu={top:15,left:100,right:15,bottom:130};function Qce({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,allData:o,setSelection:a,brushedPoints:u,onClose:l,isPaintbrushSelect:c}){const[f,{height:d,width:h}]=Xu(),[p,g]=b.useState(i),y=b.useMemo(()=>h-gu.left-gu.right,[h]),m=b.useMemo(()=>d-gu.top-gu.bottom,[d]),v=b.useMemo(()=>co([gu.top,m+gu.top]).domain([0,Gv(o.map(S=>+S[t.yCol]))].reverse()).nice(),[o,t.yCol,m]),_=b.useMemo(()=>np([gu.left,y+gu.left]).domain([...new Set(o.map(S=>S[t.xCol].toString()))].sort()).paddingInner(.01),[y,o,t.xCol]),T=b.useMemo(()=>uI(o.map(S=>({...S,Age:+S.Age}))),[o]),x=b.useMemo(()=>uI(s.map(S=>({...S,Age:+S.Age}))),[s]),w=b.useMemo(()=>{let S=p.hideCat?T.groupby(t.xCol,{group:Wc(t.yCol,{maxbins:20}),group_max:Wc(t.yCol,{maxbins:20,offset:1})}):T.groupby(t.xCol,"Survived",{group:Wc(t.yCol,{maxbins:20}),group_max:Wc(t.yCol,{maxbins:20,offset:1})});S=S.rollup({ids:Jd.array_agg(p.ids),count:Jd.count()}).orderby("group");let I=p.hideCat?x.groupby(t.xCol,{group:Wc(t.yCol,{maxbins:20}),group_max:Wc(t.yCol,{maxbins:20,offset:1})}):x.groupby(t.xCol,"Survived",{group:Wc(t.yCol,{maxbins:20}),group_max:Wc(t.yCol,{maxbins:20,offset:1})});I=I.rollup({ids:Jd.array_agg(p.ids),count:Jd.count()}).orderby("group");const k=co([0,_.bandwidth()/2]).domain([0,Gv(S.array("count"))]),D=MH(O=>k(O[1])+_.bandwidth()/2,O=>v(O[0])).curve(jH),M=MH(O=>_.bandwidth()/2-k(O[1]),O=>v(O[0])).curve(jH);return C.jsx("g",{children:_.domain().map(O=>C.jsx("g",{children:p.hideCat?C.jsxs("g",{children:[C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${D(S.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${M(S.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${D(I.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O).map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${M(I.objects().filter(B=>B[t.xCol]===O).map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"})]}):C.jsxs("g",{children:[C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="Yes").map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${D(S.objects().filter(B=>B[t.xCol]===O&&B.Survived==="Yes").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="No").map(N=>N.ids).flat(),B),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${M(S.objects().filter(B=>B[t.xCol]===O&&B.Survived==="No").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="Yes").map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${D(I.objects().filter(B=>B[t.xCol]===O&&B.Survived==="Yes").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#f28e2c"}),C.jsx("path",{onClick:B=>a(S.objects().filter(N=>N[t.xCol]===O&&N.Survived==="No").map(N=>N.ids).flat(),B),transform:`translate(${_(O)}, 0)`,d:`${M(I.objects().filter(B=>B[t.xCol]===O&&B.Survived==="No").map(B=>[B.group,B.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#4e79a7"})]})},O))})},[t.xCol,t.yCol,T,p.hideCat,p.ids,x,a,_,v]);return C.jsx(Br,{spacing:0,children:C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:f,style:{height:"500px",width:p.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(x1,{xScale:_,yRange:v.range(),vertPosition:m+gu.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:_.domain().map(S=>({value:S,offset:_(S)+_.bandwidth()/2}))}),v?C.jsx(EA,{label:t.yCol,yScale:v,horizontalPosition:gu.left,xRange:_.range(),ticks:v.ticks(5).map(S=>({value:S.toString(),offset:v(S)}))}):null,w]})})}const fst=Object.freeze(Object.defineProperty({__proto__:null,Violin:Qce},Symbol.toStringTag,{value:"Module"}));function KW({parameters:e,setAnswer:t}){const[n,r]=b.useState(null),[i,s]=b.useState(e.brushState?{...e.brushState,selection:[]}:{0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"scatter"},selection:[]}),[o,a]=b.useState(!0),[u,l]=b.useState(null);b.useEffect(()=>{lYe(`./data/${e.dataset}.csv`).then(x=>{l(x)})},[e]);const c=b.useMemo(()=>u?uI(u):null,[u]),{actions:f,trrack:d}=b.useMemo(()=>{const x=M1.create(),w=x.register("brush",(M,O)=>(M.all={brush:O},M)),S=x.register("brushMove",(M,O)=>(M.all={brush:O},M)),I=x.register("brushResize",(M,O)=>(M.all={brush:O},M)),k=x.register("brushClear",(M,O)=>(M.all={brush:O},M)),D=S4({registry:x,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:w,brushMove:S,brushResize:I,clearBrush:k},trrack:D}},[]),h=b.useCallback((x,w)=>{x==="drag"?d.apply("Move Brush",f.brushMove(w)):x==="handle"&&d.apply("Brush",f.brush(w)),t({status:!0,provenanceGraph:d.graph.backend,answers:{}})},[f,t,d]),p=b.useMemo(()=>vu(h,100,{maxWait:100}),[h]),g=b.useCallback((x,w,S,I,k,D)=>{if(!w||!S)return;const M=i[k],O=w.invert(x[0][0]||M.x1),B=w.invert(x[1][0]||M.x2),N=S.invert(x[1][1]||M.y2),ee=S.invert(x[0][1]||M.y1);let te=null;if(I==="clear")te=c;else if(D){const re=new Set(D);te=c.filter(gw(A=>re.has(A[e.ids])))}else e.brushType==="Axis Selection"?te=c.filter(gw(re=>new Date(re[e.x])>=new Date(O)&&new Date(re[e.x])<=new Date(B)&&re[e.y]>=N&&re[e.y]<=ee)):te=c.filter(gw(re=>re[e.x]>=O&&re[e.x]<=B&&re[e.y]>=N&&re[e.y]<=ee));const se={xCol:M.xCol,yCol:M.yCol,x1:x[0][0]||(M==null?void 0:M.x1)||0,x2:x[1][0]||(M==null?void 0:M.x2)||0,y1:x[0][1]||(M==null?void 0:M.y1)||0,y2:x[1][1]||(M==null?void 0:M.y2)||0,hasBrush:I!=="clear",id:k},X=I!=="clear"?te==null?void 0:te.array(e.ids):[];s({...i,[k]:se,selection:X}),I==="drag"||I==="handle"?p(I,se):I==="clear"&&d.apply("Clear Brush",f.clearBrush(se)),r(te)},[i,c,e,d,p,f]),y=b.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():c?c==null?void 0:c.groupby(e.category).count():null,[n,c,e.category]),m=b.useCallback(x=>{r(x)},[]),v=b.useCallback((x,w)=>{const S=new Set(w.ctrlKey||w.metaKey?[...i.selection,...x]:x),I=c.filter(gw(k=>S.has(k[e.ids])));s({...i,selection:w.ctrlKey||w.metaKey?[...i.selection,...x]:x}),r(I)},[i,c,e.ids]),_=b.useMemo(()=>(c==null?void 0:c.objects())||[],[c]),T=b.useMemo(()=>(n==null?void 0:n.objects())||[],[n]);return u?C.jsxs(Br,{spacing:"xs",children:[C.jsxs(jr,{children:[C.jsx(_i,{ml:60,compact:!0,style:{width:"130px"},disabled:i.selection.length===0,onClick:()=>{r(null),s({...i,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?C.jsx(xne,{defaultChecked:!0,value:o?"Select":"De-Select",onChange:x=>a(x==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:i.selection.length===0}]}):null,e.columns&&!e.hideCat?C.jsxs(C.Fragment,{children:[C.jsx(RB,{color:"#f28e2c"}),C.jsx(ut,{children:"Survived"}),C.jsx(RB,{color:"#4e79a7"}),C.jsx(ut,{children:"Died"})]}):null]}),C.jsxs(jr,{children:[Object.entries(i).map(x=>{const[w,S]=x;return w==="selection"?null:S.type==="histogram"?C.jsx(Kce,{onClose:I=>{const{[I]:k,...D}=i;s(D)},dataTable:c,setSelection:v,brushedPoints:i.selection,data:T.length>0?T:_,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,brushState:S,isPaintbrushSelect:o,setFilteredTable:m},w):S.type==="violin"?C.jsx(Qce,{onClose:I=>{const{[I]:k,...D}=i;s(D)},allData:_,setSelection:v,brushedPoints:i.selection,data:T.length>0?T:_,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:S,isPaintbrushSelect:o,setFilteredTable:m},w):C.jsx(Gce,{onClose:I=>{const{[I]:k,...D}=i;s(D)},brushedPoints:i.selection,data:_,initialParams:{...e,x:S.xCol,y:S.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:S,isPaintbrushSelect:o,setFilteredTable:m},w)}),e.hideCat?null:C.jsx(Qk,{fullTable:c,setSelection:v,data:_,parameters:e,barsTable:y})]})]}):C.jsx(Ac,{})}const dst=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:KW,default:KW},Symbol.toStringTag,{value:"Module"})),hst=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Xce(e,t){return function(n){return t.map(r=>[r,pze(n,i=>e(r-i))])}}function Jce(e){return function(t){return Math.abs(t/=e)<=1?.75*(1-t*t)/e:0}}function Zce(e,t){return e*t/(t-1)}function efe(e,t,n){let r=Math.sqrt(Zce(t,n));return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*n**-.2}function pst({values:e,xScale:t,ticks:n}){const r=tit({values:e}).rollup({variance:Jd.variance("values"),q1:Jd.quantile("values",.25),q3:Jd.quantile("values",.75)}).objects()[0];return Xce(Jce(efe(r.q3-r.q1,r.variance,e.length)),t.ticks(n))(e)}const mst=Object.freeze(Object.defineProperty({__proto__:null,kdeCalc:pst,kernelDensityEstimator:Xce,kernelEpanechnikov:Jce,silvermans:efe,toSampleVariance:Zce},Symbol.toStringTag,{value:"Module"})),QW=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},r0=e=>{const t=b.useRef(null),n=QW(e),[r,i]=b.useState(0),[s,o]=b.useState(0);b.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=QW({...n,width:n.width||r,height:n.height||s});return[t,a]},gst=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:r0},Symbol.toStringTag,{value:"Module"}));function tfe({data:e,xScale:t,yScale:n,height:r}){return C.jsx("g",{children:e.map((i,s)=>C.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const yst=Object.freeze(Object.defineProperty({__proto__:null,Bars:tfe},Symbol.toStringTag,{value:"Module"}));function x4({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=co().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(0,${a})`,children:[C.jsx("line",{x2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const vst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:x4},Symbol.toStringTag,{value:"Module"}));function nfe({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=np().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsx("g",{transform:`translate(${a}, 10)`,children:C.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const _st=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:nfe},Symbol.toStringTag,{value:"Module"})),bst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function wst({parameters:e}){const[n,r]=r0(bst),i=np().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=co().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(nfe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(x4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(tfe,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const Est=Object.freeze(Object.defineProperty({__proto__:null,default:wst},Symbol.toStringTag,{value:"Module"}));function rfe({data:e}){return C.jsx("g",{children:e.map(({bubble:t},n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const Tst=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:rfe},Symbol.toStringTag,{value:"Module"}));function I4({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const Sst=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:I4},Symbol.toStringTag,{value:"Module"})),xst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},Ist=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=tGe().size([t-10,n-10]).padding(1.5),o=FL(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},Cst=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function Ast({parameters:e}){const[t,n]=r0(xst),r=Ist(e,n.width,n.height),i=Cst(r,e.selectedIndices);return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[C.jsx(rfe,{data:r}),C.jsx(I4,{positions:i})]})})})}const Pst=Object.freeze(Object.defineProperty({__proto__:null,default:Ast},Symbol.toStringTag,{value:"Module"}));function ife({arcs:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const Ost=Object.freeze(Object.defineProperty({__proto__:null,Slices:ife},Symbol.toStringTag,{value:"Module"}));function sfe({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("g",{transform:`translate(${t.centroid()})`,children:C.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const Rst=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:sfe},Symbol.toStringTag,{value:"Module"})),Nst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},kst=HKe().value(e=>e.value),Q0=150;function Dst({parameters:e}){const[t,n]=r0(Nst),r=kst(e.data),i=r.map(o=>LH().innerRadius(0).outerRadius(Q0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>LH().outerRadius(Q0+10).innerRadius(Q0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft+Q0,n.marginTop+Q0].join(",")})`,children:[C.jsx(ife,{arcs:i}),C.jsx(sfe,{positions:s})]})})})}const $st=Object.freeze(Object.defineProperty({__proto__:null,default:Dst},Symbol.toStringTag,{value:"Module"}));function ofe({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=b.useMemo(()=>{const o=co().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(${a}, 0)`,children:[C.jsx("line",{y2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const Lst=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:ofe},Symbol.toStringTag,{value:"Module"}));function afe({data:e,barWidth:t,yScale:n}){return C.jsx("g",{children:e.map((r,i)=>C.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const Mst=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:afe},Symbol.toStringTag,{value:"Module"})),Fst={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function jst({parameters:e}){const[n,r]=r0(Fst),i=np().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=co().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),u=h=>{const p=h.map(_=>+_.value),y=p.reduce((_,T)=>Number(_)+Number(T))/100,m={};p.forEach((_,T)=>{m[String.fromCharCode(T+65)]=_/y});const v=[m];return YKe().keys(e.data.map(_=>_.name))(v)},l=(h,p,g)=>h.filter((m,v)=>p.includes(v)).map(m=>({x:g,y:s(m[0][1])+.5*(s(m[0][0])-s(m[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(ofe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:"translate(0, 0)",children:C.jsx(x4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsxs("g",{transform:"translate(0, 0)",children:[C.jsx(afe,{data:c,barWidth:f,yScale:s}),C.jsx(I4,{positions:d})]})]})})})}const Bst=Object.freeze(Object.defineProperty({__proto__:null,default:jst},Symbol.toStringTag,{value:"Module"})),Ust={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function Vst({parameters:e,setAnswer:t}){const[n,r]=r0(Ust),[i,s]=b.useState(100),[o,a]=b.useState(100),[u,l]=b.useState(300),{taskid:c}=e,{actions:f,trrack:d}=b.useMemo(()=>{const p=M1.create(),g=p.register("click",(m,v)=>(m.clickX=v.clickX,m.clickY=v.clickY,m.distance=v.distance,m)),y=S4({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:g},trrack:y}},[]),h=b.useCallback(p=>{const g=Gr("#movingCircle"),y=Gr("#clickAccuracySvg"),m=Lk(p,y.node()),v=[+g.attr("cx"),+g.attr("cy")],_=`${Math.round(Math.sqrt((m[0]-v[0])**2+(m[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+_,clickX:m[0],clickY:m[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:_}})},[f,t,c,d]);return b.useEffect(()=>{const p=Math.random()*800,g=Math.random()*600,m=Math.sqrt((p-i)**2+(g-o)**2)/u*1e3;Gr(n.current).select("circle").transition().duration(m).ease(Dqe).attr("cx",p).attr("cy",g).on("end",()=>{s(p),a(g)})},[n,u,i,o]),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:C.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[C.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),C.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),C.jsxs(st,{children:["Adjust speed (px/s):",C.jsx(PC,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const zst=Object.freeze(Object.defineProperty({__proto__:null,default:Vst},Symbol.toStringTag,{value:"Module"}));function XW({rankings:e}){return C.jsx("div",{style:{fontFamily:"sans-serif"},children:C.jsx("div",{children:e.map((t,n)=>C.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function Hst({parameters:e,setAnswer:t}){const n=lu(),[r,i]=b.useState(""),{goToNextStep:s,isNextDisabled:o}=lie(),a=b.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=b.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=b.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=b.useCallback(()=>{o||s()},[o,s]);b.useEffect(()=>{const h=rbe([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),C.jsxs("div",{children:[C.jsxs(Yl,{children:[C.jsxs(Yl.Col,{span:2,children:[C.jsx(XW,{rankings:a==="r1"?e.data.r1:e.data.r2}),C.jsx(_i,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?C.jsx(Lz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),C.jsxs(Yl.Col,{span:2,children:[C.jsx(XW,{rankings:a==="r1"?e.data.r2:e.data.r1}),C.jsx(_i,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?C.jsx(Lz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&C.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const Wst=Object.freeze(Object.defineProperty({__proto__:null,default:Hst},Symbol.toStringTag,{value:"Module"})),qst=Object.assign({"../public/ThinkAloud/AddPlot.tsx":eze,"../public/ThinkAloud/AudioTest.tsx":tze,"../public/ThinkAloud/Bar.tsx":QKe,"../public/ThinkAloud/BrushPlot.tsx":dst,"../public/ThinkAloud/Histogram.tsx":cst,"../public/ThinkAloud/Paintbrush.tsx":ast,"../public/ThinkAloud/Scatter.tsx":lst,"../public/ThinkAloud/Violin.tsx":fst,"../public/ThinkAloud/XAxisBar.tsx":GKe,"../public/ThinkAloud/YAxis.tsx":ost,"../public/ThinkAloud/YAxisBar.tsx":KKe,"../public/ThinkAloud/types.ts":hst,"../public/ThinkAloud/useKdeCalc.tsx":mst,"../public/cleveland/BarChart.tsx":Est,"../public/cleveland/BubbleChart.tsx":Pst,"../public/cleveland/PieChart.tsx":$st,"../public/cleveland/StackedBarChart.tsx":Bst,"../public/cleveland/chartcomponents/Bars.tsx":yst,"../public/cleveland/chartcomponents/Bubbles.tsx":Tst,"../public/cleveland/chartcomponents/DotMarks.tsx":Sst,"../public/cleveland/chartcomponents/NumericAxisH.tsx":Lst,"../public/cleveland/chartcomponents/NumericAxisV.tsx":vst,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":_st,"../public/cleveland/chartcomponents/Slices.tsx":Ost,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":Rst,"../public/cleveland/chartcomponents/StackedBars.tsx":Mst,"../public/cleveland/hooks/useChartDimensions.tsx":gst,"../public/click-accuracy-test/ClickAccuracyTest.tsx":zst,"../public/fairness-jnd/FairnessJND.tsx":Wst});function Yst({currentConfig:e,provState:t}){const n=lu(),r=`../public/${e.path}`,i=qst[r].default,s=fl(),{updateResponseBlockValidation:o,setIframeAnswers:a}=cl(),u=b.useCallback(({status:l,provenanceGraph:c,answers:f})=>{s(o({location:"sidebar",currentStep:n,status:l,values:f,provenanceGraph:c})),s(a(Object.values(f).map(d=>d)))},[s,n]);return C.jsx(b.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:C.jsx(i,{parameters:e.parameters,setAnswer:u,provenanceState:t})})}function Gst({currentConfig:e}){const[t,n]=b.useState(null);return b.useEffect(()=>{fetch(`${Sl}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:C.jsx(lo,{text:t})}function Lh(){return ga(e=>e.config)}function ufe(){const e=lu(),{setAlertModal:t}=cl(),n=fl();b.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function lfe({provState:e}){var T;const t=Lh(),n=da(),{trialName:r}=Th(),i=t.components[r],s=rL(),o=qC(i)&&t.baseComponents?nL({},(T=t.baseComponents)==null?void 0:T[i.baseComponent],i):i,a=o.instruction||"",{instructionLocation:u}=o,l=t.uiConfig.sidebar&&(u==="sidebar"||u===void 0),[c,f]=b.useState(null),d=fl(),{setIsRecording:h}=cl(),{trialName:p}=Th(),[g,y]=b.useState(null);b.useEffect(()=>{!p||!t||!t.recordStudyAudio||!n.storageEngine||(c&&g&&n.storageEngine.saveAudio(c,g),t.tasksToNotRecordAudio&&t.tasksToNotRecordAudio.includes(p)?(y(null),f(null),d(h(!1))):(navigator.mediaDevices.getUserMedia({audio:!0}).then(w=>{const S=new MediaRecorder(w);S.start(),f(S),d(h(!0))}),y(p)))},[p]),ufe();const{storageEngine:m}=da(),v=fl(),{setAlertModal:_}=cl();return b.useEffect(()=>{(m==null?void 0:m.getEngine())!=="firebase"&&v(_({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[_,m,v]),C.jsxs(C.Fragment,{children:[u==="aboveStimulus"&&C.jsx(lo,{text:a}),C.jsx(vx,{status:s,config:o,location:"aboveStimulus"},`${r}-above-response-block`),C.jsxs(b.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:[o.type==="markdown"&&C.jsx(Gst,{currentConfig:o}),o.type==="website"&&C.jsx(M7e,{currentConfig:o}),o.type==="image"&&C.jsx(j7e,{currentConfig:o}),o.type==="react-component"&&C.jsx(Yst,{currentConfig:o,provState:e})]},`${r}-stimulus`),(u==="belowStimulus"||u===void 0&&!l)&&C.jsx(lo,{text:a}),C.jsx(vx,{status:s,config:o,location:"belowStimulus"},`${r}-below-response-block`)]})}function Kst(e){const[t]=y3();return C.jsx(ave,{...e,to:{pathname:e.to,search:t.toString()}})}function Qst(){const e=Lh(),{storageEngine:t}=da(),{answers:n}=ga(s=>s),[r,i]=b.useState(!1);return b.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),ufe(),C.jsx(ma,{style:{height:"100%"},children:C.jsx(IC,{direction:"column",children:r?C.jsx(ut,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?C.jsx(lo,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):C.jsxs(C.Fragment,{children:[C.jsx(ut,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),C.jsx(JS,{h:"lg"}),C.jsx(ma,{children:C.jsx(Ac,{color:"blue"})})]})})})}function Xst(e,t=!1){return typeof e=="number"?JW(e,t):JW(e.length,t).map(r=>r.map(i=>e[i]))}function JW(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function cfe(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=cfe(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function Jst(e,t){const n=jg(e);return cfe(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function ffe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&ffe(s,t,i,o)})}function Zst(e){const t=[];return ffe(e,t,"",0),t}function ZW(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return Xst(i.sort(()=>.5-Math.random()),!0)}function eot(e){const n=Zst(e.sequence).map(s=>({[s]:ZW(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Jst(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=ZW(e,o))})}),i}const PD=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],AE=["participantId","trialId","responseId"];function PE(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function tot(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=qC(i)&&i.baseComponent&&t.baseComponents?nL({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function not(e,t,n,r=[...AE,...PD]){const s=(await t.getAllParticipantsData()).map(l=>tot(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);PE(u,e)}function rot({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=abe([...AE,...PD]),o=b.useCallback(l=>{AE.every(c=>l.includes(c))&&s(l)},[s]),a=b.useMemo(()=>[...AE,...PD],[]),{storageEngine:u}=da();return u?C.jsxs(CC,{opened:e,size:"lg",onClose:t,title:C.jsx(ut,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[C.jsx(st,{children:C.jsx(Yte,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:C.jsx(ut,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),C.jsxs(IC,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[C.jsx(_i,{leftIcon:C.jsx(Qse,{}),onClick:()=>not(n,u,r,i),children:"Download"}),C.jsx(_i,{onClick:t,color:"red",children:"Close"})]})]}):null}function iot({studyConfig:e}){const{storageEngine:t}=da(),[n,{open:r,close:i}]=xX(!1),[s,o]=b.useState(),[a,u]=b.useState(""),l=e.studyMetadata.title.replace(" ","_");b.useEffect(()=>{async function g(){if(t){const y=await t.getCurrentParticipantId(),m=await t.getParticipantData();u(y),o(m)}}g()},[t]);const c=b.useCallback(async()=>{PE(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=b.useState(Math.floor(d/1e3));return b.useEffect(()=>{const g=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(g),()=>clearInterval(g)):()=>clearInterval(g)},[h]),C.jsxs(Br,{children:[C.jsx(_i,{leftIcon:C.jsx(G7e,{}),onClick:()=>PE(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(K7e,{}),onClick:async()=>{if(!t)return;const g=await t.getAllParticipantsData();PE(JSON.stringify(g,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(Qse,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&C.jsxs(ut,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),C.jsx(rot,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function YA(e){return e.components.flatMap(t=>typeof t=="string"?t:YA(t))}function eq(e,t){return YA(t).find(i=>e.indexOf(i)!==-1)}function sot(e,t){return YA(t).filter(i=>e.indexOf(i)!==-1)}function oot({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=fd(),[o,{close:a,open:u}]=xX(!1);return C.jsxs(Ts,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[C.jsx(Ts.Target,{children:C.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:C.jsx(Xte,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:C.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?C.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&Ic.createPortal(C.jsx(Ts.Dropdown,{onMouseLeave:a,children:C.jsx(ut,{size:"sm",children:C.jsxs("div",{children:[r.description&&C.jsxs("div",{children:[C.jsx(ut,{fw:900,display:"inline-block",mr:2,children:"Description:"}),C.jsx(ut,{fw:400,component:"span",children:r.description})]}),r.meta&&C.jsxs(ut,{children:[C.jsx(ut,{fw:"900",component:"span",children:"Task Meta: "}),C.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function dfe({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=Th(),i=lu(),s=Lh(),o=b.useMemo(()=>{const a=jg(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:eq(e,u),f=typeof l=="string"?l:eq(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return C.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return C.jsx(oot,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=YA(a),c=sot(e,a);return C.jsx(Xte,{label:C.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",C.jsxs(ICe,{ml:5,children:[c.length,"/",l.length]}),C.jsx(ut,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?C.jsx(Y7e,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:C.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:C.jsx(dfe,{order:a,sequence:e,depth:n+1})})},u)})})}function aot(){const{showAdmin:e,sequence:t}=ga(s=>s),n=lu(),r=Lh(),i=b.useMemo(()=>{const s=jg(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?C.jsx(R3,{p:"0",width:{base:300},style:{zIndex:0},children:C.jsxs($3,{p:"0",children:[n==="end"&&C.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[C.jsx(ut,{size:"md",p:10,weight:"bold",children:"Download"}),C.jsx(iot,{studyConfig:r})]}),C.jsx(ut,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),C.jsx(dfe,{order:i,sequence:t})]})}):null}const hfe=b.createContext(null),C4=({id:e="waveform",children:t})=>$.createElement("div",{id:e},t),uot=["audioRate","audioContext","audioScriptProcessor","autoCenter","backend","backgroundColor","barGap","barHeight","barMinHeight","barRadius","barWidth","closeAudioContext","cursorColor","cursorWidth","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","maxCanvasWidth","mediaControls","mediaType","minPxPerSec","normalize","partialRender","pixelRatio","progressColor","removeMediaElementOnDestroy","renderer","responsive","scrollParent","skipLength","splitChannels","waveColor","autoCenterRate","autoCenterImmediately","drawingContextAttributes","duration","ignoreSilenceMode","rtl","splitChannelsOptions","vertical","xhr"],lot=e=>e?uot.reduce((t,n)=>Object.prototype.hasOwnProperty.call(e,n)?Object.assign(Object.assign({},t),{[n]:e[n]}):t,{}):{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oi(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let F1=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const tq={decode:function(e,t){return oi(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function pfe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(pfe(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function nq(e,t,n){const r=pfe(e,t||{});return n==null||n.appendChild(r),r}var cot=Object.freeze({__proto__:null,createElement:nq,default:nq});const fot={fetchBlob:function(e,t,n){return oi(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){oi(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>oi(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>oi(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};class dot extends F1{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return oi(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class GA extends F1{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const u=l=>{if(l.button!==o)return;l.preventDefault(),l.stopPropagation();let c=l.clientX,f=l.clientY,d=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,T=v.clientY,x=_-c,w=T-f;if(d||Math.abs(x)>s||Math.abs(w)>s){const S=t.getBoundingClientRect(),{left:I,top:k}=S;d||(r==null||r(c-I,f-k),d=!0),n(x,w,_-I,T-k),c=_,f=T}},p=()=>{d&&(i==null||i()),a()},g=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},y=v=>{d&&(v.stopPropagation(),v.preventDefault())},m=v=>{d&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",g),document.addEventListener("pointercancel",g),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("click",y,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",g),document.removeEventListener("pointercancel",g),document.removeEventListener("touchmove",m),setTimeout(()=>{document.removeEventListener("click",y,{capture:!0})},10)}};t.addEventListener("pointerdown",u)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=window.devicePixelRatio||1,d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,g=u/(d+h)/a,y=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let m=0,v=0,_=0;for(let T=0;T<=a;T++){const x=Math.round(T*g);if(x>m){const I=Math.round(v*c*i),k=I+Math.round(_*c*i)||1;let D=c-I;n.barAlign==="top"?D=0:n.barAlign==="bottom"&&(D=l-k),r[y](m*(d+h),D,d,k,p),m=x,v=0,_=0}const w=Math.abs(s[T]||0),S=Math.abs(o[T]||0);w>v&&(v=w),S>_&&(_=S)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const g=Math.round(p*f);if(g>d){const m=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,m),d=g,h=0}const y=Math.abs(a[p]||0);y>h&&(h=y)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,u){const l=window.devicePixelRatio||1,c=document.createElement("canvas"),f=t[0].length;c.width=Math.round(r*(o-s)/f),c.height=i*l,c.style.width=`${Math.floor(c.width/l)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/l/f)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,d),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),u.appendChild(h)}}renderChannel(t,n,r){return oi(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,u=(m,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,m),Math.min(v,a),i,o)};if(!this.isScrollable)return void u(0,a);const{scrollLeft:l,scrollWidth:c,clientWidth:f}=this.scrollContainer,d=a/c;let h=Math.min(GA.MAX_CANVAS_WIDTH,f);if(n.barWidth||n.barGap){const m=n.barWidth||.5,v=m+(n.barGap||m/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(l)*d),g=Math.floor(p+h*d),y=g-p;y<=0||(u(p,g),yield Promise.all([oi(this,void 0,void 0,function*(){if(p===0)return;const m=this.createDelay();for(let v=p;v>=0;v-=y)yield m(),u(Math.max(0,v-y),v)}),oi(this,void 0,void 0,function*(){if(g===a)return;const m=this.createDelay();for(let v=g;v<a;v+=y)yield m(),u(v,Math.min(a,v+y))})]))})}render(t){return oi(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,u)=>{var l;const c=Object.assign(Object.assign({},this.options),(l=this.options.splitChannels)===null||l===void 0?void 0:l[u]);return this.renderChannel([t.getChannelData(u)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return oi(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}}GA.MAX_CANVAS_WIDTH=4e3;let hot=class extends F1{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class pot extends F1{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return oi(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return oi(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return oi(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const mot={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class h_ extends dot{static create(t){return new h_(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new pot:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},mot,t),this.timer=new hot;const r=n?void 0:this.getMediaElement();this.renderer=new GA(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return oi(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield fot.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=tq.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield tq.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return oi(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return oi(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=Math.round(a.length/n);for(let c=0;c<n;c++){const f=a.slice(c*l,(c+1)*l);let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return oi(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return oi(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}h_.BasePlugin=class extends F1{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},h_.dom=cot;function got(e){return h_.create(e)}function rq(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const yot=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var vot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mfe(e){var{container:t,plugins:n=[],onMount:r}=e,i=vot(e,["container","plugins","onMount"]);const s=b.useRef([]),[o,a]=b.useState(null);return b.useEffect(()=>{if(!t)return;let u=[];n&&(u=n.map(rq)),s.current=u;const l=got(Object.assign(Object.assign({container:t},i),{plugins:u}));return r==null||r(l),a(l),()=>{l.destroy()}},[t]),b.useEffect(()=>{if(o){const u=n.map(rq),{disabled:l,enabled:c}=yot(s.current,u);s.current=u,l.forEach(f=>{f.name&&(o==null||o.destroyPlugin(f.name))}),c.forEach(f=>{f.name&&(o==null||o.addPlugin(f).initPlugin(f.name))})}},[n]),o}function _ot(e){return!!e&&typeof e!="string"&&typeof e!="number"&&typeof e!="boolean"&&"type"in e&&"props"in e}var bot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gfe=e=>{var{children:t,plugins:n=[],onMount:r}=e,i=bot(e,["children","plugins","onMount"]);const s=b.useMemo(()=>{let a={};return b.Children.forEach(t,u=>{if(typeof u!="object"||u===null||["string","number"].includes(typeof u)||!_ot(u))return;const{props:l,type:c}=u;if(c===C4){const{id:f}=l;a=lot(l),a=Object.assign(Object.assign({},a),{container:"#"+f})}}),a},[t]),o=mfe(Object.assign(Object.assign({plugins:n,onMount:r},i),s));return $.createElement(hfe.Provider,{value:o},t)};gfe.defaultProps={children:null,plugins:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function aR(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}class yfe{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}class wot extends yfe{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}class Eot extends yfe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const Tot=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class A4 extends wot{constructor(t){var n,r,i,s;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Eot,this.subscriptions.push(this.timer.on("tick",()=>{const o=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+o,this.emit("record-progress",this.duration)}))}static create(t){return new A4(t||{})}renderMicStream(t){const n=new AudioContext,r=n.createMediaStreamSource(t),i=n.createAnalyser();r.connect(i);const s=i.frequencyBinCount,o=new Float32Array(s);let a;const u=Math.floor((this.options.scrollingWaveformWindow||0)*n.sampleRate),l=()=>{var c;if(this.isWaveformPaused)return void(a=requestAnimationFrame(l));if(i.getFloatTimeDomainData(o),this.options.scrollingWaveform){const d=Math.min(u,this.dataWindow?this.dataWindow.length+s:s),h=new Float32Array(u);if(this.dataWindow){const p=Math.max(0,u-this.dataWindow.length);h.set(this.dataWindow.slice(-d+s),p)}h.set(o,u-s),this.dataWindow=h}else this.dataWindow=o;const f=this.options.scrollingWaveformWindow;this.wavesurfer&&((c=this.originalOptions)!==null&&c!==void 0||(this.originalOptions={cursorWidth:this.wavesurfer.options.cursorWidth,interact:this.wavesurfer.options.interact}),this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[this.dataWindow],f)),a=requestAnimationFrame(l)};return l(),{onDestroy:()=>{cancelAnimationFrame(a),r==null||r.disconnect(),n==null||n.close()},onEnd:()=>{this.isWaveformPaused=!0,cancelAnimationFrame(a),this.stopMic()}}}startMic(t){return aR(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return aR(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||Tot.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data)};const s=o=>{var a;const u=new Blob(i,{type:r.mimeType});this.emit(o,u),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(u)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return aR(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.options.cursorWidth=this.originalOptions.cursorWidth,this.wavesurfer.options.interact=this.originalOptions.interact,delete this.originalOptions)}}function Sot(){const{config:e,sequence:t}=ga(w=>w),n=fl(),{toggleShowHelpText:r,toggleShowAdmin:i}=cl(),{storageEngine:s}=da(),o=ga(w=>w.isRecording),a=lu(),u=e!==null?t.indexOf(a):0,l=t.length-1,c=u/l*100,[f,d]=b.useState(!1),h=e==null?void 0:e.uiConfig.logoPath,p=e==null?void 0:e.uiConfig.withProgressBar,[g]=b.useState(new URLSearchParams(window.location.search)),y=g.get("admin")||"f",m=aie(),v=Hye(`/${m}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=v}).catch(w=>{console.error(w)})}const T=b.useRef(null),x=b.useCallback(w=>{T.current=w,T.current&&(T.current.registerPlugin(A4.create({scrollingWaveform:!0,renderRecordedAudio:!1})).startRecording(),T.current.setOptions({height:50,waveColor:"#FA5252"}))},[]);return C.jsx(TJ,{height:"70",p:"md",children:C.jsxs(Yl,{mt:-7,align:"center",children:[C.jsx(Yl.Col,{span:4,children:C.jsxs(jr,{align:"center",noWrap:!0,children:[C.jsx(s1,{maw:40,src:`${Sl}${h}`,alt:"Study Logo"}),C.jsx(JS,{w:"md"}),C.jsx(ef,{order:4,children:e==null?void 0:e.studyMetadata.title}),o?C.jsxs(jr,{spacing:20,noWrap:!0,children:[C.jsx(ut,{color:"red",children:"Recording audio"}),C.jsx(st,{style:{width:"70px",height:"50px"},children:C.jsx(gfe,{onMount:x,children:C.jsx(C4,{id:"waveform"})})})]}):null]})}),C.jsx(Yl.Col,{span:4,children:p&&C.jsx(gne,{radius:"md",size:"lg",value:c})}),C.jsx(Yl.Col,{span:4,children:C.jsxs(IC,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&C.jsx(_i,{variant:"outline",onClick:()=>n(r()),children:"Help"}),C.jsx(JS,{w:"md"}),y==="t"&&C.jsxs(ss,{shadow:"md",width:200,zIndex:1,opened:f,onChange:d,children:[C.jsx(ss.Target,{children:C.jsx(P3,{size:"lg",children:C.jsx(Q7e,{})})}),C.jsxs(ss.Dropdown,{children:[C.jsx(ss.Item,{icon:C.jsx(Mz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),C.jsx(ss.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:C.jsx(X7e,{size:14}),children:"Contact"}),C.jsx(ss.Item,{icon:C.jsx(Mz,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function xot(){var u;const e=(u=Lh())==null?void 0:u.uiConfig.sidebar,t=Lh(),n=lu(),r=t.components[n],i=b.useMemo(()=>{var l;return r?qC(r)&&t.baseComponents?nL({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=rL(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?C.jsxs(My,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&C.jsx(My.Section,{bg:"gray.3",p:"xl",children:C.jsxs(ut,{c:"gray.9",children:[C.jsx(ut,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),C.jsx(lo,{text:o})]})}),C.jsx(My.Section,{p:"xl",children:C.jsx(vx,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):C.jsx(vx,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function Iot(){const{showHelpText:e,config:t}=ga(o=>o),n=fl(),{toggleShowHelpText:r}=cl(),[i,s]=b.useState("");return b.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Sl}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),C.jsx(CC,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:C.jsx(lo,{text:i})})}function Cot(){const{alertModal:e}=ga(o=>o),{setAlertModal:t}=cl(),n=fl(),[r,i]=b.useState(e.show),s=b.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return b.useEffect(()=>i(e.show),[e.show]),C.jsx(CC,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:C.jsxs(iJ,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:C.jsx(q7e,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[C.jsx(ut,{my:"md",children:e.message}),C.jsx(st,{style:{float:"right"},color:"red",children:C.jsx(_i,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function Aot(){const e=b.useRef([]),n=Lh().uiConfig.windowEventDebounceTime??100;return b.useEffect(()=>{const r=vu(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=vu(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=vu(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=vu(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=vu(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=vu(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=vu(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=vu(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=vu(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),C.jsx(uie.Provider,{value:e,children:C.jsxs(IJ,{navbar:C.jsx(xot,{}),aside:C.jsx(aot,{}),header:C.jsx(Sot,{}),children:[C.jsx(Iot,{}),C.jsx(Cot,{}),C.jsx(uve,{})]})})}var iq=Object.prototype.hasOwnProperty;function sq(e,t,n){for(n of e.keys())if(iv(n,t))return n}function iv(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&iv(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=sq(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=sq(t,i),!i)||!iv(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(iq.call(e,n)&&++r&&!iq.call(t,n)||!(n in t)||!iv(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Pot(e){var t=b.useRef(e),n=b.useRef(0);return iv(e,t.current)||(t.current=e,n.current+=1),b.useMemo(function(){return t.current},[n.current])}function Oot(e,t){return b.useEffect(e,Pot(t))}const sm=(e,t=null)=>{const[n,r]=b.useState("idle"),[i,s]=b.useState(null),[o,a]=b.useState(null),u=b.useRef(),l=b.useRef(!1);b.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=b.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return Oot(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},vw=3,Sp=25,_w=25,bw=20,oq=1;function Rot({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=b.useState(!1),[l,{width:c}]=Xu();return C.jsxs("g",{onClick:()=>i(s?null:n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[C.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+oq,width:e(t.endTime)-e(t.startTime)-oq*2,y:r-Sp,height:Sp}),C.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-vw,width:c+vw*2,y:r-Sp-_w-o,height:bw,fill:"whitesmoke"}),C.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-vw,x2:c+e(t.startTime)+vw,y1:r-Sp-_w+bw-o,y2:r-Sp-_w+bw-o}),C.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-Sp-_w-o,height:bw,children:C.jsx(ma,{style:{width:"fit-content"},children:C.jsx(ut,{weight:600,lineClamp:1,ref:l,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function Not({xScale:e,answer:t,height:n,labelHeight:r=0}){return C.jsx("g",{children:C.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const uR={left:5,top:0,right:5,bottom:0},aq=25,uq=8;function vfe({participantData:e,width:t,height:n,setSelectedTask:r,selectedTask:i,maxDuration:s}){const o=b.useMemo(()=>{const c=Object.values(e.answers||{}).map(h=>[h.startTime,h.endTime]).flat(),f=Yv(c);return co([uR.left,t+uR.left+uR.right]).domain(s?[f[0],f[0]+s]:f).clamp(!0)},[s,e.answers,t]),a=b.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,g]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*uq+o(y[1].startTime)>o(g.startTime)?c+=1:c=0,C.jsx(Rot,{labelHeight:c*aq,isSelected:i===p,setSelectedTask:r,answer:g,height:n,name:p,xScale:o},p)})},[n,e.answers,i,r,o]),u=b.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,g]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*uq+o(y[1].startTime)>o(g.startTime)?c+=1:c=0,C.jsx(Not,{labelHeight:c*aq,answer:g,height:n,xScale:o},p)})},[n,e.answers,i,r,o]),l=b.useMemo(()=>Object.entries(e.answers||{}).sort((f,d)=>f[1].startTime-d[1].startTime).map(f=>{const[d,h]=f,p=[];let g=[-1,-1],y="visible";if(h.windowEvents)for(let m=0;m<h.windowEvents.length;m+=1)h.windowEvents[m][1]==="visibility"&&(h.windowEvents[m][2]==="hidden"&&y==="visible"?(g=[h.windowEvents[m][0],-1],y="hidden"):h.windowEvents[m][2]==="visible"&&y==="hidden"&&(g[1]=h.windowEvents[m][0],p.push(g),g=[-1,-1],y="visible"));return p.map((m,v)=>C.jsx(a1,{withinPortal:!0,label:"Browsed away",children:C.jsx("rect",{x:o(m[0]),width:o(m[1])-o(m[0]),y:n-5,height:10})},v))}),[n,e,o]);return C.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[u,a,l]})}var kot=Object.defineProperty,Dot=(e,t)=>{for(var n in t)kot(e,n,{get:t[n],enumerable:!0})},iu={};Dot(iu,{assign:()=>Mot,colors:()=>Lf,createStringInterpolator:()=>$4,skipAnimation:()=>xfe,to:()=>Sfe,willAdvance:()=>L4});var P4=B1(),Bt=e=>j1(e,P4),O4=B1();Bt.write=e=>j1(e,O4);var KA=B1();Bt.onStart=e=>j1(e,KA);var R4=B1();Bt.onFrame=e=>j1(e,R4);var N4=B1();Bt.onFinish=e=>j1(e,N4);var Nm=[];Bt.setTimeout=(e,t)=>{const n=Bt.now()+t,r=()=>{const s=Nm.findIndex(o=>o.cancel==r);~s&&Nm.splice(s,1),_f-=~s?1:0},i={time:n,handler:e,cancel:r};return Nm.splice(_fe(n),0,i),_f+=1,bfe(),i};var _fe=e=>~(~Nm.findIndex(t=>t.time>e)||~Nm.length);Bt.cancel=e=>{KA.delete(e),R4.delete(e),N4.delete(e),P4.delete(e),O4.delete(e)};Bt.sync=e=>{OD=!0,Bt.batchedUpdates(e),OD=!1};Bt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,Bt.onStart(n)}return r.handler=e,r.cancel=()=>{KA.delete(n),t=null},r};var k4=typeof window<"u"?window.requestAnimationFrame:()=>{};Bt.use=e=>k4=e;Bt.now=typeof performance<"u"?()=>performance.now():Date.now;Bt.batchedUpdates=e=>e();Bt.catch=console.error;Bt.frameLoop="always";Bt.advance=()=>{Bt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Efe()};var vf=-1,_f=0,OD=!1;function j1(e,t){OD?(t.delete(e),e(0)):(t.add(e),bfe())}function bfe(){vf<0&&(vf=0,Bt.frameLoop!=="demand"&&k4(wfe))}function $ot(){vf=-1}function wfe(){~vf&&(k4(wfe),Bt.batchedUpdates(Efe))}function Efe(){const e=vf;vf=Bt.now();const t=_fe(vf);if(t&&(Tfe(Nm.splice(0,t),n=>n.handler()),_f-=t),!_f){$ot();return}KA.flush(),P4.flush(e?Math.min(64,vf-e):16.667),R4.flush(),O4.flush(),N4.flush()}function B1(){let e=new Set,t=e;return{add(n){_f+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return _f-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,_f-=t.size,Tfe(t,r=>r(n)&&e.add(r)),_f+=e.size,t=e)}}}function Tfe(e,t){e.forEach(n=>{try{t(n)}catch(r){Bt.catch(r)}})}function RD(){}var Lot=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),$e={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ml(e,t){if($e.arr(e)){if(!$e.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var fn=(e,t)=>e.forEach(t);function _l(e,t,n){if($e.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Oo=e=>$e.und(e)?[]:$e.arr(e)?e:[e];function sv(e,t){if(e.size){const n=Array.from(e);e.clear(),fn(n,t)}}var Ey=(e,...t)=>sv(e,n=>n(...t)),D4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$4,Sfe,Lf=null,xfe=!1,L4=RD,Mot=e=>{e.to&&(Sfe=e.to),e.now&&(Bt.now=e.now),e.colors!==void 0&&(Lf=e.colors),e.skipAnimation!=null&&(xfe=e.skipAnimation),e.createStringInterpolator&&($4=e.createStringInterpolator),e.requestAnimationFrame&&Bt.use(e.requestAnimationFrame),e.batchedUpdates&&(Bt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(L4=e.willAdvance),e.frameLoop&&(Bt.frameLoop=e.frameLoop)},ov=new Set,ia=[],lR=[],pI=0,QA={get idle(){return!ov.size&&!ia.length},start(e){pI>e.priority?(ov.add(e),Bt.onStart(Fot)):(Ife(e),Bt(ND))},advance:ND,sort(e){if(pI)Bt.onFrame(()=>QA.sort(e));else{const t=ia.indexOf(e);~t&&(ia.splice(t,1),Cfe(e))}},clear(){ia=[],ov.clear()}};function Fot(){ov.forEach(Ife),ov.clear(),Bt(ND)}function Ife(e){ia.includes(e)||Cfe(e)}function Cfe(e){ia.splice(jot(ia,t=>t.priority>e.priority),0,e)}function ND(e){const t=lR;for(let n=0;n<ia.length;n++){const r=ia[n];pI=r.priority,r.idle||(L4(r),r.advance(e),r.idle||t.push(r))}return pI=0,lR=ia,lR.length=0,ia=t,ia.length>0}function jot(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Bot=(e,t,n)=>Math.min(Math.max(n,e),t),Uot={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Wa="[-+]?\\d*\\.?\\d+",mI=Wa+"%";function XA(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Vot=new RegExp("rgb"+XA(Wa,Wa,Wa)),zot=new RegExp("rgba"+XA(Wa,Wa,Wa,Wa)),Hot=new RegExp("hsl"+XA(Wa,mI,mI)),Wot=new RegExp("hsla"+XA(Wa,mI,mI,Wa)),qot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Yot=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Got=/^#([0-9a-fA-F]{6})$/,Kot=/^#([0-9a-fA-F]{8})$/;function Qot(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Got.exec(e))?parseInt(t[1]+"ff",16)>>>0:Lf&&Lf[e]!==void 0?Lf[e]:(t=Vot.exec(e))?(xp(t[1])<<24|xp(t[2])<<16|xp(t[3])<<8|255)>>>0:(t=zot.exec(e))?(xp(t[1])<<24|xp(t[2])<<16|xp(t[3])<<8|fq(t[4]))>>>0:(t=qot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Kot.exec(e))?parseInt(t[1],16)>>>0:(t=Yot.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Hot.exec(e))?(lq(cq(t[1]),ww(t[2]),ww(t[3]))|255)>>>0:(t=Wot.exec(e))?(lq(cq(t[1]),ww(t[2]),ww(t[3]))|fq(t[4]))>>>0:null}function cR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lq(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=cR(i,r,e+1/3),o=cR(i,r,e),a=cR(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function xp(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function cq(e){return(parseFloat(e)%360+360)%360/360}function fq(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function ww(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function dq(e){let t=Qot(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var p_=(e,t,n)=>{if($e.fun(e))return e;if($e.arr(e))return p_({range:e,output:t,extrapolate:n});if($e.str(e.output[0]))return $4(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(l=>l);return l=>{const c=Jot(l,s);return Xot(l,s[c],s[c+1],i[c],i[c+1],u,o,a,r.map)}};function Xot(e,t,n,r,i,s,o,a,u){let l=u?u(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>n){if(a==="identity")return l;a==="clamp"&&(l=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?l=-l:n===1/0?l=l-t:l=(l-t)/(n-t),l=s(l),r===-1/0?l=-l:i===1/0?l=l+r:l=l*(i-r)+r,l)}function Jot(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Zot=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Bot(0,1,i/e)},gI=1.70158,Ew=gI*1.525,hq=gI+1,pq=2*Math.PI/3,mq=2*Math.PI/4.5,Tw=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,eat={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>hq*e*e*e-gI*e*e,easeOutBack:e=>1+hq*Math.pow(e-1,3)+gI*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Ew+1)*2*e-Ew)/2:(Math.pow(2*e-2,2)*((Ew+1)*(e*2-2)+Ew)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*pq),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*pq)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*mq))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*mq)/2+1,easeInBounce:e=>1-Tw(1-e),easeOutBounce:Tw,easeInOutBounce:e=>e<.5?(1-Tw(1-2*e))/2:(1+Tw(2*e-1))/2,steps:Zot},m_=Symbol.for("FluidValue.get"),wg=Symbol.for("FluidValue.observers"),na=e=>!!(e&&e[m_]),Ws=e=>e&&e[m_]?e[m_]():e,gq=e=>e[wg]||null;function tat(e,t){e.eventObserved?e.eventObserved(t):e(t)}function g_(e,t){const n=e[wg];n&&n.forEach(r=>{tat(r,t)})}var Afe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");nat(this,e)}},nat=(e,t)=>Pfe(e,m_,t);function i0(e,t){if(e[m_]){let n=e[wg];n||Pfe(e,wg,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function y_(e,t){const n=e[wg];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[wg]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Pfe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),OE=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rat=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,yq=new RegExp(`(${OE.source})(%|[a-z]+)`,"i"),iat=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,JA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ofe=e=>{const[t,n]=sat(e);if(!t||D4())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&JA.test(n))return Ofe(n);if(n)return n}return e},sat=e=>{const t=JA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},fR,oat=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Rfe=e=>{fR||(fR=Lf?new RegExp(`(${Object.keys(Lf).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Ws(s).replace(JA,Ofe).replace(rat,dq).replace(fR,dq)),n=t.map(s=>s.match(OE).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>p_({...e,output:s}));return s=>{var u;const o=!yq.test(t[0])&&((u=t.find(l=>yq.test(l)))==null?void 0:u.replace(OE,""));let a=0;return t[0].replace(OE,()=>`${i[a++](s)}${o||""}`).replace(iat,oat)}},M4="react-spring: ",Nfe=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${M4}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},aat=Nfe(console.warn);function uat(){aat(`${M4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var lat=Nfe(console.warn);function cat(){lat(`${M4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ZA(e){return $e.str(e)&&(e[0]=="#"||/\d/.test(e)||!D4()&&JA.test(e)||e in(Lf||{}))}var F4=D4()?b.useEffect:b.useLayoutEffect,fat=()=>{const e=b.useRef(!1);return F4(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function kfe(){const e=b.useState()[1],t=fat();return()=>{t.current&&e(Math.random())}}function dat(e,t){const[n]=b.useState(()=>({inputs:t,result:e()})),r=b.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&hat(t,s.inputs)||(s={inputs:t,result:e()}):s=n,b.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function hat(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Dfe=e=>b.useEffect(e,pat),pat=[];function vq(e){const t=b.useRef();return b.useEffect(()=>{t.current=e}),t.current}var v_=Symbol.for("Animated:node"),mat=e=>!!e&&e[v_]===e,Iu=e=>e&&e[v_],j4=(e,t)=>Lot(e,v_,t),eP=e=>e&&e[v_]&&e[v_].getPayload(),$fe=class{constructor(){j4(this,this)}getPayload(){return this.payload||[]}},U1=class extends $fe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,$e.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new U1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return $e.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,$e.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},__=class extends U1{constructor(e){super(0),this._string=null,this._toString=p_({output:[e,e]})}static create(e){return new __(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if($e.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=p_({output:[this.getValue(),e]})),this._value=0,super.reset()}},yI={dependencies:null},tP=class extends $fe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return _l(this.source,(n,r)=>{mat(n)?t[r]=n.getValue(e):na(n)?t[r]=Ws(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&fn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return _l(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){yI.dependencies&&na(e)&&yI.dependencies.add(e);const t=eP(e);t&&fn(t,n=>this.add(n))}},Lfe=class extends tP{constructor(e){super(e)}static create(e){return new Lfe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(gat)),!0)}};function gat(e){return(ZA(e)?__:U1).create(e)}function kD(e){const t=Iu(e);return t?t.constructor:$e.arr(e)?Lfe:ZA(e)?__:U1}var _q=(e,t)=>{const n=!$e.fun(e)||e.prototype&&e.prototype.isReactComponent;return b.forwardRef((r,i)=>{const s=b.useRef(null),o=n&&b.useCallback(p=>{s.current=_at(i,p)},[i]),[a,u]=vat(r,t),l=kfe(),c=()=>{const p=s.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&l()},f=new yat(c,u),d=b.useRef();F4(()=>(d.current=f,fn(u,p=>i0(p,f)),()=>{d.current&&(fn(d.current.deps,p=>y_(p,d.current)),Bt.cancel(d.current.update))})),b.useEffect(c,[]),Dfe(()=>()=>{const p=d.current;fn(p.deps,g=>y_(g,p))});const h=t.getComponentProps(a.getValue());return b.createElement(e,{...h,ref:o})})},yat=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Bt.write(this.update)}};function vat(e,t){const n=new Set;return yI.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new tP(e),yI.dependencies=null,[e,n]}function _at(e,t){return e&&($e.fun(e)?e(t):e.current=t),t}var bq=Symbol.for("AnimatedComponent"),bat=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new tP(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=wq(o)||"Anonymous";return $e.str(o)?o=s[o]||(s[o]=_q(o,i)):o=o[bq]||(o[bq]=_q(o,i)),o.displayName=`Animated(${a})`,o};return _l(e,(o,a)=>{$e.arr(e)&&(a=wq(o)),s[a]=s(o)}),{animated:s}},wq=e=>$e.str(e)?e:e&&$e.str(e.displayName)?e.displayName:$e.fun(e)&&e.name||null;function Hd(e,...t){return $e.fun(e)?e(...t):e}var av=(e,t)=>e===!0||!!(t&&e&&($e.fun(e)?e(t):Oo(e).includes(t))),Mfe=(e,t)=>$e.obj(e)?t&&e[t]:e,Ffe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,wat=e=>e,B4=(e,t=wat)=>{let n=Eat;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);$e.und(s)||(r[i]=s)}return r},Eat=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Tat={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Sat(e){const t={};let n=0;if(_l(e,(r,i)=>{Tat[i]||(t[i]=r,n++)}),n)return t}function jfe(e){const t=Sat(e);if(t){const n={to:t};return _l(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function b_(e){return e=Ws(e),$e.arr(e)?e.map(b_):ZA(e)?iu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function xat(e){for(const t in e)return!0;return!1}function DD(e){return $e.fun(e)||$e.arr(e)&&$e.obj(e[0])}function Iat(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Cat(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Aat={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},$D={...Aat.default,mass:1,damping:1,easing:eat.linear,clamp:!1},Pat=class{constructor(){this.velocity=0,Object.assign(this,$D)}};function Oat(e,t,n){n&&(n={...n},Eq(n,t),t={...n,...t}),Eq(e,t),Object.assign(e,t);for(const o in $D)e[o]==null&&(e[o]=$D[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return $e.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function Eq(e,t){if(!$e.und(t.decay))e.duration=void 0;else{const n=!$e.und(t.tension)||!$e.und(t.friction);(n||!$e.und(t.frequency)||!$e.und(t.damping)||!$e.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Tq=[],Rat=class{constructor(){this.changed=!1,this.values=Tq,this.toValues=null,this.fromValues=Tq,this.config=new Pat,this.immediate=!1}};function Bfe(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let u,l,c=av(n.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{$e.und(n.pause)||(i.paused=av(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||av(p,t)),u=Hd(n.delay||0,t),p?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(l),l.cancel(),u=l.time-Bt.now()}function d(){u>0&&!iu.skipAnimation?(i.delayed=!0,l=Bt.setTimeout(h,u),i.pauseQueue.add(f),i.timeouts.add(l)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(l),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(p){a(p)}}})}var U4=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?km(e.get()):t.every(n=>n.noop)?Ufe(e.get()):ja(e.get(),t.every(n=>n.finished)),Ufe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ja=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),km=e=>({value:e,cancelled:!0,finished:!1});function Vfe(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:u}=n;return!s&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const l=B4(t,(y,m)=>m==="onRest"?void 0:y);let c,f;const d=new Promise((y,m)=>(c=y,f=m)),h=y=>{const m=i<=(n.cancelId||0)&&km(r)||i!==n.asyncId&&ja(r,!1);if(m)throw y.result=m,f(y),y},p=(y,m)=>{const v=new Sq,_=new xq;return(async()=>{if(iu.skipAnimation)throw w_(n),_.result=ja(r,!1),f(_),_;h(v);const T=$e.obj(y)?{...y}:{...m,to:y};T.parentId=i,_l(l,(w,S)=>{$e.und(T[S])&&(T[S]=w)});const x=await r.start(T);return h(v),n.paused&&await new Promise(w=>{n.resumeQueue.add(w)}),x})()};let g;if(iu.skipAnimation)return w_(n),ja(r,!1);try{let y;$e.arr(e)?y=(async m=>{for(const v of m)await p(v)})(e):y=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([y.then(c),d]),g=ja(r.get(),!0,!1)}catch(y){if(y instanceof Sq)g=y.result;else if(y instanceof xq)g=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?u:void 0)}return $e.fun(o)&&Bt.batchedUpdates(()=>{o(g,r,r.item)}),g})()}function w_(e,t){sv(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Sq=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},xq=class extends Error{constructor(){super("SkipAnimationSignal")}},LD=e=>e instanceof V4,Nat=1,V4=class extends Afe{constructor(){super(...arguments),this.id=Nat++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Iu(this);return e&&e.getValue()}to(...e){return iu.to(this,e)}interpolate(...e){return uat(),iu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){g_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||QA.sort(this),g_(this,{type:"priority",parent:this,priority:e})}},Mh=Symbol.for("SpringPhase"),zfe=1,MD=2,FD=4,dR=e=>(e[Mh]&zfe)>0,qc=e=>(e[Mh]&MD)>0,X0=e=>(e[Mh]&FD)>0,Iq=(e,t)=>t?e[Mh]|=MD|zfe:e[Mh]&=~MD,Cq=(e,t)=>t?e[Mh]|=FD:e[Mh]&=~FD,kat=class extends V4{constructor(e,t){if(super(),this.animation=new Rat,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!$e.und(e)||!$e.und(t)){const n=$e.obj(e)?{...e}:{...t,from:e};$e.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(qc(this)||this._state.asyncTo)||X0(this)}get goal(){return Ws(this.animation.to)}get velocity(){const e=Iu(this);return e instanceof U1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return dR(this)}get isAnimating(){return qc(this)}get isPaused(){return X0(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=eP(r.to);!o&&na(r.to)&&(i=Oo(Ws(r.to))),r.values.forEach((l,c)=>{if(l.done)return;const f=l.constructor==__?1:o?o[c].lastPosition:i[c];let d=r.immediate,h=f;if(!d){if(h=l.lastPosition,s.tension<=0){l.done=!0;return}let p=l.elapsedTime+=e;const g=r.fromValues[c],y=l.v0!=null?l.v0:l.v0=$e.arr(s.velocity)?s.velocity[c]:s.velocity;let m;const v=s.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if($e.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,T=Math.exp(-(1-_)*p);h=g+y/(1-_)*(1-T),d=Math.abs(l.lastPosition-h)<=v,m=y*T}else{m=l.lastVelocity==null?y:l.lastVelocity;const _=s.restVelocity||v/10,T=s.clamp?0:s.bounce,x=!$e.und(T),w=g==f?l.v0>0:g<f;let S,I=!1;const k=1,D=Math.ceil(e/k);for(let M=0;M<D&&(S=Math.abs(m)>_,!(!S&&(d=Math.abs(f-h)<=v,d)));++M){x&&(I=h==f||h>f==w,I&&(m=-m*T,h=f));const O=-s.tension*1e-6*(h-f),B=-s.friction*.001*m,N=(O+B)/s.mass;m=m+N*k,h=h+m*k}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,l.durationProgress>0&&(l.elapsedTime=s.duration*l.durationProgress,p=l.elapsedTime+=e)),_=(s.progress||0)+p/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=g+s.easing(_)*(f-g),m=(h-l.lastPosition)/e,d=_==1}l.lastVelocity=m,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?l.done=!0:t=!1,l.setValue(h,s.round)&&(n=!0)});const a=Iu(this),u=a.getValue();if(t){const l=Ws(r.to);(u!==l||n)&&!s.decay?(a.setValue(l),this._onChange(l)):n&&s.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return Bt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(qc(this)){const{to:e,config:t}=this.animation;Bt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return $e.und(e)?(n=this.queue||[],this.queue=[]):n=[$e.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>U4(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),w_(this._state,e&&this._lastCallId),Bt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=$e.obj(n)?n[t]:n,(n==null||DD(n))&&(n=void 0),r=$e.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return dR(this)||(e.reverse&&([n,r]=[r,n]),r=Ws(r),$e.und(r)?Iu(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,B4(e,(o,a)=>/^on/.test(a)?Mfe(o,n):o)),Pq(this,e,"onProps"),Z0(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Bfe(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{X0(this)||(Cq(this,!0),Ey(s.pauseQueue),Z0(this,"onPause",ja(this,J0(this,this.animation.to)),this))},resume:()=>{X0(this)&&(Cq(this,!1),qc(this)&&this._resume(),Ey(s.resumeQueue),Z0(this,"onResume",ja(this,J0(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Hfe(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(km(this));const r=!$e.und(e.to),i=!$e.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(km(this));const{key:s,defaultProps:o,animation:a}=this,{to:u,from:l}=a;let{to:c=u,from:f=l}=e;i&&!r&&(!t.default||$e.und(c))&&(c=f),t.reverse&&([c,f]=[f,c]);const d=!Ml(f,l);d&&(a.from=f),f=Ws(f);const h=!Ml(c,u);h&&this._focus(c);const p=DD(t.to),{config:g}=a,{decay:y,velocity:m}=g;(r||i)&&(g.velocity=0),t.config&&!p&&Oat(g,Hd(t.config,s),t.config!==o.config?Hd(o.config,s):void 0);let v=Iu(this);if(!v||$e.und(c))return n(ja(this,!0));const _=$e.und(t.reset)?i&&!t.default:!$e.und(f)&&av(t.reset,s),T=_?f:this.get(),x=b_(c),w=$e.num(x)||$e.arr(x)||ZA(x),S=!p&&(!w||av(o.immediate||t.immediate,s));if(h){const M=kD(c);if(M!==v.constructor)if(S)v=this._set(x);else throw Error(`Cannot animate between ${v.constructor.name} and ${M.name}, as the "to" prop suggests`)}const I=v.constructor;let k=na(c),D=!1;if(!k){const M=_||!dR(this)&&d;(h||M)&&(D=Ml(b_(T),x),k=!D),(!Ml(a.immediate,S)&&!S||!Ml(g.decay,y)||!Ml(g.velocity,m))&&(k=!0)}if(D&&qc(this)&&(a.changed&&!_?k=!0:k||this._stop(u)),!p&&((k||na(u))&&(a.values=v.getPayload(),a.toValues=na(c)?null:I==__?[1]:Oo(x)),a.immediate!=S&&(a.immediate=S,!S&&!_&&this._set(u)),k)){const{onRest:M}=a;fn($at,B=>Pq(this,t,B));const O=ja(this,J0(this,u));Ey(this._pendingCalls,O),this._pendingCalls.add(n),a.changed&&Bt.batchedUpdates(()=>{var B;a.changed=!_,M==null||M(O,this),_?Hd(o.onRest,O):(B=a.onStart)==null||B.call(a,O,this)})}_&&this._set(T),p?n(Vfe(t.to,t,this._state,this)):k?this._start():qc(this)&&!h?this._pendingCalls.add(n):n(Ufe(T))}_focus(e){const t=this.animation;e!==t.to&&(gq(this)&&this._detach(),t.to=e,gq(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;na(t)&&(i0(t,this),LD(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;na(e)&&y_(e,this)}_set(e,t=!0){const n=Ws(e);if(!$e.und(n)){const r=Iu(this);if(!r||!Ml(n,r.getValue())){const i=kD(n);!r||r.constructor!=i?j4(this,i.create(n)):r.setValue(n),r&&Bt.batchedUpdates(()=>{this._onChange(n,t)})}}return Iu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Z0(this,"onStart",ja(this,J0(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Hd(this.animation.onChange,e,this)),Hd(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Iu(this).reset(Ws(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),qc(this)||(Iq(this,!0),X0(this)||this._resume())}_resume(){iu.skipAnimation?this.finish():QA.start(this)}_stop(e,t){if(qc(this)){Iq(this,!1);const n=this.animation;fn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),g_(this,{type:"idle",parent:this});const r=t?km(this.get()):ja(this.get(),J0(this,e??n.to));Ey(this._pendingCalls,r),n.changed&&(n.changed=!1,Z0(this,"onRest",r,this))}}};function J0(e,t){const n=b_(t),r=b_(e.get());return Ml(r,n)}function Hfe(e,t=e.loop,n=e.to){const r=Hd(t);if(r){const i=r!==!0&&jfe(r),s=(i||e).reverse,o=!i||i.reset;return E_({...e,loop:t,default:!1,pause:void 0,to:!s||DD(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function E_(e){const{to:t,from:n}=e=jfe(e),r=new Set;return $e.obj(t)&&Aq(t,r),$e.obj(n)&&Aq(n,r),e.keys=r.size?Array.from(r):null,e}function Dat(e){const t=E_(e);return $e.und(t.default)&&(t.default=B4(t)),t}function Aq(e,t){_l(e,(n,r)=>n!=null&&t.add(r))}var $at=["onStart","onRest","onChange","onPause","onResume"];function Pq(e,t,n){e.animation[n]=t[n]!==Ffe(t,n)?Mfe(t[n],e.key):void 0}function Z0(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var Lat=["onStart","onChange","onRest"],Mat=1,Fat=class{constructor(e,t){this.id=Mat++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];$e.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(E_(e)),this}start(e){let{queue:t}=this;return e?t=Oo(e).map(E_):this.queue=[],this._flush?this._flush(this,t):(Kfe(this,t),jD(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;fn(Oo(t),r=>n[r].stop(!!e))}else w_(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if($e.und(e))this.start({pause:!0});else{const t=this.springs;fn(Oo(e),n=>t[n].pause())}return this}resume(e){if($e.und(e))this.start({pause:!1});else{const t=this.springs;fn(Oo(e),n=>t[n].resume())}return this}each(e){_l(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,sv(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&sv(t,([a,u])=>{u.value=o,a(u,this,this._item)}),s&&(this._started=!1,sv(n,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Bt.onFrame(this._onFrame)}};function jD(e,t){return Promise.all(t.map(n=>Wfe(e,n))).then(n=>U4(e,n))}async function Wfe(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:u}=t,l=$e.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=$e.arr(i)||$e.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):fn(Lat,g=>{const y=t[g];if($e.fun(y)){const m=e._events[g];t[g]=({finished:v,cancelled:_})=>{const T=m.get(y);T?(v||(T.finished=!1),_&&(T.cancelled=!0)):m.set(y,{value:null,finished:v||!1,cancelled:_||!1})},l&&(l[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Ey(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),h=t.cancel===!0||Ffe(t,"cancel")===!0;(c||h&&f.asyncId)&&d.push(Bfe(++e._lastAsyncId,{props:t,state:f,actions:{pause:RD,resume:RD,start(g,y){h?(w_(f,e._lastAsyncId),y(km(e))):(g.onRest=a,y(Vfe(c,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const p=U4(e,await Promise.all(d));if(o&&p.finished&&!(n&&p.noop)){const g=Hfe(t,o,i);if(g)return Kfe(e,[g]),Wfe(e,g,!0)}return u&&Bt.batchedUpdates(()=>u(p,e,e.item)),p}function Oq(e,t){const n={...e.springs};return t&&fn(Oo(t),r=>{$e.und(r.keys)&&(r=E_(r)),$e.obj(r.to)||(r={...r,to:void 0}),Gfe(n,r,i=>Yfe(i))}),qfe(e,n),n}function qfe(e,t){_l(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,i0(n,e))})}function Yfe(e,t){const n=new kat;return n.key=e,t&&i0(n,t),n}function Gfe(e,t,n){t.keys&&fn(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Kfe(e,t){fn(t,n=>{Gfe(e.springs,n,r=>Yfe(r,e))})}var nP=({children:e,...t})=>{const n=b.useContext(vI),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=dat(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=vI;return b.createElement(s,{value:t},e)},vI=jat(nP,{});nP.Provider=vI.Provider;nP.Consumer=vI.Consumer;function jat(e,t){return Object.assign(e,b.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Bat=()=>{const e=[],t=function(r){cat();const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return fn(e,r=>r.pause(...arguments)),this},t.resume=function(){return fn(e,r=>r.resume(...arguments)),this},t.set=function(r){fn(e,(i,s)=>{const o=$e.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return fn(e,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return fn(e,r=>r.stop(...arguments)),this},t.update=function(r){return fn(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return $e.fun(r)?r(s,i):r};return t._getProps=n,t};function Uat(e,t,n){const r=$e.fun(t)&&t;r&&!n&&(n=[]);const i=b.useMemo(()=>r||arguments.length==3?Bat():void 0,[]),s=b.useRef(0),o=kfe(),a=b.useMemo(()=>({ctrls:[],queue:[],flush(m,v){const _=Oq(m,v);return s.current>0&&!a.queue.length&&!Object.keys(_).some(x=>!m.springs[x])?jD(m,v):new Promise(x=>{qfe(m,_),a.queue.push(()=>{x(jD(m,v))}),o()})}}),[]),u=b.useRef([...a.ctrls]),l=[],c=vq(e)||0;b.useMemo(()=>{fn(u.current.slice(e,c),m=>{Iat(m,i),m.stop(!0)}),u.current.length=e,f(c,e)},[e]),b.useMemo(()=>{f(0,Math.min(c,e))},n);function f(m,v){for(let _=m;_<v;_++){const T=u.current[_]||(u.current[_]=new Fat(null,a.flush)),x=r?r(_,T):t[_];x&&(l[_]=Dat(x))}}const d=u.current.map((m,v)=>Oq(m,l[v])),h=b.useContext(nP),p=vq(h),g=h!==p&&xat(h);F4(()=>{s.current++,a.ctrls=u.current;const{queue:m}=a;m.length&&(a.queue=[],fn(m,v=>v())),fn(u.current,(v,_)=>{i==null||i.add(v),g&&v.start({default:h});const T=l[_];T&&(Cat(v,T.ref),v.ref?v.queue.push(T):v.start(T))})}),Dfe(()=>()=>{fn(a.ctrls,m=>m.stop(!0))});const y=d.map(m=>({...m}));return i?[y,i]:y}function Vat(e,t){const n=$e.fun(e),[[r],i]=Uat(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var zat=class extends V4{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=p_(...t);const n=this._get(),r=kD(n);j4(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ml(t,n)||(Iu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Rq(this._active)&&hR(this)}_get(){const e=$e.arr(this.source)?this.source.map(Ws):Oo(Ws(this.source));return this.calc(...e)}_start(){this.idle&&!Rq(this._active)&&(this.idle=!1,fn(eP(this),e=>{e.done=!1}),iu.skipAnimation?(Bt.batchedUpdates(()=>this.advance()),hR(this)):QA.start(this))}_attach(){let e=1;fn(Oo(this.source),t=>{na(t)&&i0(t,this),LD(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){fn(Oo(this.source),e=>{na(e)&&y_(e,this)}),this._active.clear(),hR(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Oo(this.source).reduce((t,n)=>Math.max(t,(LD(n)?n.priority:0)+1),0))}};function Hat(e){return e.idle!==!1}function Rq(e){return!e.size||Array.from(e).every(Hat)}function hR(e){e.idle||(e.idle=!0,fn(eP(e),t=>{t.done=!0}),g_(e,{type:"idle",parent:e}))}iu.assign({createStringInterpolator:Rfe,to:(e,t)=>new zat(e,t)});var Qfe=/^--/;function Wat(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Qfe.test(e)&&!(uv.hasOwnProperty(e)&&uv[e])?t+"px":(""+t).trim()}var Nq={};function qat(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...u}=t,l=Object.values(u),c=Object.keys(u).map(f=>n||e.hasAttribute(f)?f:Nq[f]||(Nq[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const d=Wat(f,r[f]);Qfe.test(f)?e.style.setProperty(f,d):e.style[f]=d}c.forEach((f,d)=>{e.setAttribute(f,l[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var uv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yat=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Gat=["Webkit","Ms","Moz","O"];uv=Object.keys(uv).reduce((e,t)=>(Gat.forEach(n=>e[Yat(n,t)]=e[t]),e),uv);var Kat=/^(matrix|translate|scale|rotate|skew)/,Qat=/^(translate)/,Xat=/^(rotate|skew)/,pR=(e,t)=>$e.num(e)&&e!==0?e+t:e,RE=(e,t)=>$e.arr(e)?e.every(n=>RE(n,t)):$e.num(e)?e===t:parseFloat(e)===t,Jat=class extends tP{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>pR(a,"px")).join(",")})`,RE(o,0)])),_l(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(Kat.test(a)){if(delete r[a],$e.und(o))return;const u=Qat.test(a)?"px":Xat.test(a)?"deg":"";i.push(Oo(o)),s.push(a==="rotate3d"?([l,c,f,d])=>[`rotate3d(${l},${c},${f},${pR(d,u)})`,RE(d,0)]:l=>[`${a}(${l.map(c=>pR(c,u)).join(",")})`,RE(l,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Zat(i,s)),super(r)}},Zat=class extends Afe{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return fn(this.inputs,(n,r)=>{const i=Ws(n[0]),[s,o]=this.transforms[r]($e.arr(i)?i:n.map(Ws));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&fn(this.inputs,t=>fn(t,n=>na(n)&&i0(n,this)))}observerRemoved(e){e==0&&fn(this.inputs,t=>fn(t,n=>na(n)&&y_(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),g_(this,e)}},eut=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];iu.assign({batchedUpdates:Ic.unstable_batchedUpdates,createStringInterpolator:Rfe,colors:Uot});var tut=bat(eut,{applyAnimatedValues:qat,createAnimatedStyle:e=>new Jat(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),nut=tut.animated;function rut({cx:e,cy:t,r:n,color:r}){const i=Vat({cx:e,cy:t,r:n});return C.jsx(nut.circle,{...i,fill:r})}function iut({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i}){return C.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(s=>{const[o,a]=s;return C.jsx("g",{onClick:()=>i(o),children:C.jsx(rut,{color:o===r?"cornflowerblue":"lightgray",cx:e(a.createdOn),cy:n/2,r:5})},o)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?C.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const Yc={left:5,top:0,right:5,bottom:0};function sut({participantData:e,width:t,height:n,selectedTask:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:u,setIsPlaying:l,setSelectedTask:c}){const[f,d]=b.useState(0),[h,p]=b.useState(0),g=b.useMemo(()=>{const T=r?[e.answers[r].startTime,e.answers[r].endTime]:Object.values(e.answers).map(w=>[w.startTime,w.endTime]).flat();return co([Yc.left,t+Yc.left+Yc.right]).domain(Yv(T))},[e.answers,r,t]),{allTaskTimes:y}=b.useMemo(()=>({allTaskTimes:Object.entries(e.answers).map(x=>{var w;return{time:x[1].startTime,name:x[0],nodes:x[1].provenanceGraph?Object.entries((w=x[1].provenanceGraph)==null?void 0:w.nodes).map(S=>({time:S[1].createdOn,name:S[0]})).sort((S,I)=>S.time-I.time):[]}}).flat().sort((x,w)=>x.time-w.time)}),[e.answers]),m=b.useMemo(()=>{const T=Object.values(e.answers).map(w=>[w.startTime,w.endTime]).flat();return co([Yc.left,t+Yc.left+Yc.right]).domain(Yv(T))},[e.answers,t]),v=b.useMemo(()=>m.domain()[1]-m.domain()[0],[m]);b.useEffect(()=>{var T,x;u&&o<=g.domain()[1]&&(o+m.domain()[0]>y[f+1].time?(d(f+1),c(y[f+1].name),p(0)):o+m.domain()[0]>((x=(T=y[f])==null?void 0:T.nodes[h+1])==null?void 0:x.time)&&(p(h+1),s(y[f].nodes[h+1].name)))},[y,u,o,h,s,c,f,m,g]),b.useEffect(()=>{a(g.domain()[0]-m.domain()[0],(g.domain()[0]-m.domain()[0])/v)},[a,v,m,g]),b.useEffect(()=>{d(y.indexOf(y.find(T=>T.name===r)))},[r,y]);const _=b.useCallback(T=>{a(y[f].nodes.find(x=>x.name===T).time,(y[f].nodes.find(x=>x.name===T).time-m.domain()[0])/v),p(y[f].nodes.indexOf(y[f].nodes.find(x=>x.name===T))),l(!1),s(T)},[y,a,f,m,v,l,s]);return C.jsx(Br,{children:C.jsxs("svg",{style:{width:t,height:n},children:[C.jsx("line",{stroke:"black",strokeWidth:1,x1:Yc.left,x2:t+Yc.left,y1:n/2,y2:n/2}),Object.entries(e.answers).map(T=>{const[x,w]=T;return C.jsx(iut,{answer:w,height:n,currentNode:i,setCurrentNode:_,xScale:g},x)})]})})}function out(e){const t=R1e(),[n,r]=b.useState(null),i=()=>{r(e.getSelection()),t()};return b.useEffect(()=>(r(e.getSelection()),e.addEventListener("selectionchange",i),()=>e.removeEventListener("selectionchange",i)),[e]),n}function aut(e,t){return t?t.getParticipantData(e):null}function uut(e){return e?e.getAllParticipantsData():null}function lut(e){return e?e.getAudioTags():null}function cut(e,t){return t?t.getTextTags(e):null}function fut({cssUpdate:e,popoutWindow:t}){const{trrackId:n,trialName:r,studyId:i}=Th(),{storageEngine:s}=da(),[o,{width:a}]=Xu(),[u,l]=b.useState(null),[c,f]=b.useState(null),[d,h]=b.useState(null),[p,g]=b.useState(null),{value:y,status:m}=sm(aut,[n,s]);sm(uut,[s]);const{value:v,status:_,execute:T}=sm(lut,[s]),{value:x,status:w,execute:S}=sm(cut,[n||"",s]),[I,k]=b.useState(!1),[D,M]=b.useState(0),[O,B]=b.useState({name:"",icon:""}),N=out(t),ee=b.useRef(null);b.useState(!1),e();const te=b.useCallback(A=>{A&&(s==null||s.getAudio(n).then(H=>{A&&(A.load(H),g(2))}))},[s,n]),se=mfe({container:ee.current,plugins:[],onMount:te}),X=b.useCallback((A,H)=>{M(A),se&&H&&(se==null||se.seekTo(H))},[se]),re=b.useCallback(A=>{k(A),se&&(A?se.play():se.pause())},[se]);return b.useEffect(()=>{i&&r&&n&&(s==null||s.getTranscription(n).then(A=>{h(JSON.parse(A))}))},[s,i,r,n]),C.jsxs(jr,{noWrap:!0,spacing:25,children:[C.jsxs(Br,{ref:o,style:{width:"100%"},spacing:25,children:[m==="success"&&y?C.jsx(vfe,{selectedTask:u,setSelectedTask:l,participantData:y,width:a,height:200}):C.jsx(ma,{style:{height:"275px"},children:C.jsx(Ac,{})}),m==="success"&&y?C.jsx(sut,{setSelectedTask:l,playTime:D,setPlayTime:X,isPlaying:I,setIsPlaying:re,currentNode:c,setCurrentNode:f,selectedTask:u,participantData:y,width:a,height:50}):null,C.jsx(st,{ref:ee,style:{width:"100%"},children:C.jsx(hfe.Provider,{value:se,children:C.jsx(C4,{id:"waveform"})})}),C.jsx(jr,{style:{width:"100%",height:"100px"},align:"center",position:"center",children:C.jsx(ma,{children:C.jsx(ut,{color:"dimmed",size:20,style:{width:"100%"},children:d&&p!==null?d.results[p].alternatives[0].transcript:""})})}),C.jsxs(jr,{children:[C.jsx(_i,{onClick:()=>re(!0),children:"Play"}),C.jsx(_i,{onClick:()=>re(!1),children:"Pause"}),C.jsx(ut,{children:new Date(D).toLocaleString()})]}),C.jsxs(ss,{width:250,position:"bottom",shadow:"md",trigger:"hover",children:[C.jsx(ss.Target,{children:C.jsx(a1,{withinPortal:!0,label:"example",children:C.jsx(_Oe,{highlight:(x==null?void 0:x.map(A=>A.text))||[],highlightStyles:{backgroundImage:"cornflowerblue",fontWeight:700,backgroundColor:"cornflowerblue",color:"cornflowerblue",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(d==null?void 0:d.results.map(A=>A.alternatives[0].transcript).join(" "))||""})})}),C.jsx(ss.Dropdown,{children:v&&n?v.map(A=>C.jsx(ss.Item,{onClick:()=>{s==null||s.saveTextTags(n,[...x||[],{tag:A,text:(N==null?void 0:N.toString())||""}]).then(()=>S(n||"",s))},children:C.jsx(jr,{children:C.jsx(ut,{children:A.name},A.name)})},A.name)):null})]})]}),C.jsx(NT,{orientation:"vertical",ml:25}),C.jsx(Br,{style:{width:"300px",height:"100%"},children:C.jsx($3,{h:380,children:C.jsxs(Br,{children:[C.jsxs(Ts,{width:200,trapFocus:!0,position:"bottom",withArrow:!0,shadow:"md",children:[C.jsx(Ts.Target,{children:C.jsx(_i,{children:"Create new tag"})}),C.jsxs(Ts.Dropdown,{children:[C.jsx(Bv,{value:O.name,onChange:A=>B({...O,name:A.currentTarget.value}),label:"Name",placeholder:"Name",size:"xs"}),C.jsx(Bv,{value:O.icon,onChange:A=>B({...O,icon:A.currentTarget.value}),label:"Icon",placeholder:"icon",size:"xs",mt:"xs"}),C.jsx(_i,{onClick:()=>s==null?void 0:s.saveAudioTags([...v||[],O]).then(()=>T(s)),children:"Create Tag"})]})]}),v?v.map(A=>C.jsx(jr,{children:C.jsx(ut,{children:A.name},A.name)},A.name)):null]})})})]})}function dut(e,t){return t?t.getParticipantData(e):null}function hut({setProvState:e}){const{trrackId:t,trialName:n,studyId:r}=Th(),i=fd(),s=Gh(),{storageEngine:o}=da(),[a,u]=b.useState(null),[l,c]=b.useState(null),{value:f,status:d}=sm(dut,[t,o]),h=b.useRef();b.useEffect(()=>{if(a){const y=s.pathname.split("/");c(null),y[y.length-1]=a,i(y.join("/"))}},[s.pathname,i,a]),b.useEffect(()=>{if(l&&a&&f){const y=M1.create(),m=S4({registry:y,initialState:{}});if(f.answers[a].provenanceGraph){m.importObject(jg(f.answers[a].provenanceGraph));const v=m.getState(m.graph.backend.nodes[l]);e(v)}}else e(null)},[l,f,a,e]);const p=b.useMemo(()=>document.createElement("div"),[]);b.useEffect(()=>{const y=window.open("about:blank","newWin",`width=2000,height=400,left=${window.screen.availWidth/3-200},top=${window.screen.availHeight/3-150}`);return y.document.body.appendChild(p),y.document.head.innerHTML=window.document.head.innerHTML,h.current=y,()=>{y.close()}},[]);const g=b.useCallback(()=>{h.current&&(h.current.document.head.innerHTML=window.document.head.innerHTML)},[]);return C.jsx("div",{children:Ic.createPortal(C.jsx("div",{children:C.jsx(fut,{popoutWindow:h.current||document,cssUpdate:g})}),p)})}function put(){const[e,t]=b.useState();return C.jsxs(Br,{children:[C.jsx(hut,{setProvState:t}),C.jsx(lfe,{provState:e})]})}function mut(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function gut({participant:e,maxDuration:t}){const n=fd(),r=b.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const o=Object.values(e.answers).sort((a,u)=>a.startTime-u.startTime);return new Date(o[o.length-1].endTime-o[0].startTime).getTime()},[e]),[i,{width:s}]=Xu();return C.jsx(ma,{children:C.jsxs(Br,{spacing:25,ref:i,style:{width:"75%"},children:[C.jsxs(jr,{position:"apart",children:[C.jsx(fJ,{size:25,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId})," ",C.jsx(ut,{size:"xl",children:`${mut(r)}`})," "]}),C.jsx(vfe,{maxDuration:t,selectedTask:null,setSelectedTask:()=>null,participantData:e,width:s,height:250})]},e.participantId)})}function yut(e){return e?e.getAllParticipantsData():null}function vut(){const{storageEngine:e}=da(),{value:t,status:n}=sm(yut,[e]),r=b.useMemo(()=>{if(!(n!=="success"||!t))return Gv(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return n==="success"&&t?C.jsx(Br,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.map(i=>C.jsx(gut,{maxDuration:r,participant:i},i.participantId))}):C.jsx(Ac,{})}async function _ut(e,t){const n=await(await fetch(`${Sl}${e}`)).text();return Mre(n,t)}function but({studyId:e,config:t,storage:n}){const r=ga(s=>s.sequence),i=b.useMemo(()=>{if(e&&t&&r){const s=[];return s.push({path:"/",element:C.jsx(Kst,{to:`${r[0]}`,replace:!0})}),s.push({path:"/analysis/:trrackId/:trialName/",element:C.jsx(put,{})}),s.push({path:"/analysis",element:C.jsx(vut,{})}),s.push({path:"/:trialName",element:C.jsx(lfe,{})}),s.push({path:"/end",element:C.jsx(Qst,{})}),[{element:C.jsx(Aot,{}),children:s}]}return[]},[t,r,e]);return jQ(i)}function wut({globalConfig:e}){const{studyId:t}=Th();if(!t||!e.configsList.find(u=>JN(u)))throw new Error("Study id invalid");const[n,r]=b.useState(null);b.useEffect(()=>{const u=e.configsList.find(l=>JN(l)===t);if(u){const l=e.configs[u];_ut(`${l.path}`,u).then(c=>{r(c)})}},[e,t]);const[i,s]=b.useState(null),{storageEngine:o}=da(),[a]=y3();return b.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await eot(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),d=await o.initializeParticipantSession(f,n,c),h=await r5e(t,n,d.sequence,d.answers);s(h)}u()},[o,n,t,a]),!i||!o?C.jsx(st,{style:{height:"100vh"},children:C.jsx(ma,{style:{height:"100%"},children:C.jsx(Ac,{style:{height:"100%"},size:60})})}):C.jsx(oie.Provider,{value:i,children:C.jsx(O$e,{store:i.store,children:C.jsx(but,{studyId:t,config:n,storage:o})})})}async function Eut(){const t=await(await fetch(`${Sl}configs/global.json`)).text();return e4e(t)}async function kq(e){const t={},n=e.configsList.map(i=>`${Sl}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Mre(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function Tut(){const[e,t]=b.useState(null),[n,r]=b.useState({});return b.useEffect(()=>{async function i(){e&&r(await kq(e))}i()},[e]),b.useEffect(()=>{Eut().then(i=>{t(i),kq(i).then(s=>{r(s)})})},[]),e?C.jsx(pve,{basename:Sl,children:C.jsxs(cve,{children:[C.jsx(NN,{path:"/",element:C.jsx(KDe,{globalConfig:e,studyConfigs:n})}),C.jsx(NN,{path:"/:studyId/*",element:C.jsx(wut,{globalConfig:e})})]})}):null}function Sw(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xfe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof Sw=="function"&&Sw;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var g=r[l][1][p];return o(g||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof Sw=="function"&&Sw,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,v=h.length;v;){for(m=h,h=[],y=-1;++y<v;)m[y]();v=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&g(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,w){if(typeof x!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var I=this.state===l?x:w;h(S,I,this.outcome)}else this.queue.push(new d(S,x,w));return S};function d(x,w,S){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){a.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)};function h(x,w,S){s(function(){var I;try{I=w(S)}catch(k){return a.reject(x,k)}I===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,I)})}a.resolve=function(x,w){var S=y(p,w);if(S.status==="error")return a.reject(x,S.value);var I=S.value;if(I)g(x,I);else{x.state=l,x.outcome=w;for(var k=-1,D=x.queue.length;++k<D;)x.queue[k].callFulfilled(w)}return x},a.reject=function(x,w){x.state=u,x.outcome=w;for(var S=-1,I=x.queue.length;++S<I;)x.queue[S].callRejected(w);return x};function p(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function g(x,w){var S=!1;function I(O){S||(S=!0,a.reject(x,O))}function k(O){S||(S=!0,a.resolve(x,O))}function D(){w(k,I)}var M=y(D);M.status==="error"&&I(M.value)}function y(x,w){var S={};try{S.value=x(w),S.status="success"}catch(I){S.status="error",S.value=I}return S}f.resolve=m;function m(x){return x instanceof this?x:a.resolve(new this(o),x)}f.reject=v;function v(x){var w=new this(o);return a.reject(w,x)}f.all=_;function _(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,I=!1;if(!S)return this.resolve([]);for(var k=new Array(S),D=0,M=-1,O=new this(o);++M<S;)B(x[M],M);return O;function B(N,ee){w.resolve(N).then(te,function(se){I||(I=!0,a.reject(O,se))});function te(se){k[ee]=se,++D===S&&!I&&(I=!0,a.resolve(O,k))}}}f.race=T;function T(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=x.length,I=!1;if(!S)return this.resolve([]);for(var k=-1,D=new this(o);++k<S;)M(x[k]);return D;function M(O){w.resolve(O).then(function(B){I||(I=!0,a.resolve(D,B))},function(B){I||(I=!0,a.reject(D,B))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function o(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var F=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(F,J){F=F||[],J=J||{};try{return new Blob(F,J)}catch(oe){if(oe.name!=="TypeError")throw oe;for(var V=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ie=new V,ue=0;ue<F.length;ue+=1)ie.append(F[ue]);return ie.getBlob(J.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(F,J){J&&F.then(function(V){J(null,V)},function(V){J(V)})}function h(F,J,V){typeof J=="function"&&F.then(J),typeof V=="function"&&F.catch(V)}function p(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,v={},_=Object.prototype.toString,T="readonly",x="readwrite";function w(F){for(var J=F.length,V=new ArrayBuffer(J),ie=new Uint8Array(V),ue=0;ue<J;ue++)ie[ue]=F.charCodeAt(ue);return V}function S(F){return new f(function(J){var V=F.transaction(y,x),ie=c([""]);V.objectStore(y).put(ie,"key"),V.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),J(!1)},V.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),oe=navigator.userAgent.match(/Edge\//);J(oe||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function I(F){return typeof m=="boolean"?f.resolve(m):S(F).then(function(J){return m=J,m})}function k(F){var J=v[F.name],V={};V.promise=new f(function(ie,ue){V.resolve=ie,V.reject=ue}),J.deferredOperations.push(V),J.dbReady?J.dbReady=J.dbReady.then(function(){return V.promise}):J.dbReady=V.promise}function D(F){var J=v[F.name],V=J.deferredOperations.pop();if(V)return V.resolve(),V.promise}function M(F,J){var V=v[F.name],ie=V.deferredOperations.pop();if(ie)return ie.reject(J),ie.promise}function O(F,J){return new f(function(V,ie){if(v[F.name]=v[F.name]||G(),F.db)if(J)k(F),F.db.close();else return V(F.db);var ue=[F.name];J&&ue.push(F.version);var oe=u.open.apply(u,ue);J&&(oe.onupgradeneeded=function(be){var Ae=oe.result;try{Ae.createObjectStore(F.storeName),be.oldVersion<=1&&Ae.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw Oe}}),oe.onerror=function(be){be.preventDefault(),ie(oe.error)},oe.onsuccess=function(){var be=oe.result;be.onversionchange=function(Ae){Ae.target.close()},V(be),D(F)}})}function B(F){return O(F,!1)}function N(F){return O(F,!0)}function ee(F,J){if(!F.db)return!0;var V=!F.db.objectStoreNames.contains(F.storeName),ie=F.version<F.db.version,ue=F.version>F.db.version;if(ie&&(F.version!==J&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ue||V){if(V){var oe=F.db.version+1;oe>F.version&&(F.version=oe)}return!0}return!1}function te(F){return new f(function(J,V){var ie=new FileReader;ie.onerror=V,ie.onloadend=function(ue){var oe=btoa(ue.target.result||"");J({__local_forage_encoded_blob:!0,data:oe,type:F.type})},ie.readAsBinaryString(F)})}function se(F){var J=w(atob(F.data));return c([J],{type:F.type})}function X(F){return F&&F.__local_forage_encoded_blob}function re(F){var J=this,V=J._initReady().then(function(){var ie=v[J._dbInfo.name];if(ie&&ie.dbReady)return ie.dbReady});return h(V,F,F),V}function A(F){k(F);for(var J=v[F.name],V=J.forages,ie=0;ie<V.length;ie++){var ue=V[ie];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return F.db=null,B(F).then(function(oe){return F.db=oe,ee(F)?N(F):oe}).then(function(oe){F.db=J.db=oe;for(var be=0;be<V.length;be++)V[be]._dbInfo.db=oe}).catch(function(oe){throw M(F,oe),oe})}function H(F,J,V,ie){ie===void 0&&(ie=1);try{var ue=F.db.transaction(F.storeName,J);V(null,ue)}catch(oe){if(ie>0&&(!F.db||oe.name==="InvalidStateError"||oe.name==="NotFoundError"))return f.resolve().then(function(){if(!F.db||oe.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),N(F)}).then(function(){return A(F).then(function(){H(F,J,V,ie-1)})}).catch(V);V(oe)}}function G(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(F){var J=this,V={db:null};if(F)for(var ie in F)V[ie]=F[ie];var ue=v[V.name];ue||(ue=G(),v[V.name]=ue),ue.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=re);var oe=[];function be(){return f.resolve()}for(var Ae=0;Ae<ue.forages.length;Ae++){var Oe=ue.forages[Ae];Oe!==J&&oe.push(Oe._initReady().catch(be))}var Re=ue.forages.slice(0);return f.all(oe).then(function(){return V.db=ue.db,B(V)}).then(function(Le){return V.db=Le,ee(V,J._defaultConfig.version)?N(V):Le}).then(function(Le){V.db=ue.db=Le,J._dbInfo=V;for(var it=0;it<Re.length;it++){var Ht=Re[it];Ht!==J&&(Ht._dbInfo.db=V.db,Ht._dbInfo.version=V.version)}})}function R(F,J){var V=this;F=p(F);var ie=new f(function(ue,oe){V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.get(F);Re.onsuccess=function(){var Le=Re.result;Le===void 0&&(Le=null),X(Le)&&(Le=se(Le)),ue(Le)},Re.onerror=function(){oe(Re.error)}}catch(Le){oe(Le)}})}).catch(oe)});return d(ie,J),ie}function L(F,J){var V=this,ie=new f(function(ue,oe){V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.openCursor(),Le=1;Re.onsuccess=function(){var it=Re.result;if(it){var Ht=it.value;X(Ht)&&(Ht=se(Ht));var wn=F(Ht,it.key,Le++);wn!==void 0?ue(wn):it.continue()}else ue()},Re.onerror=function(){oe(Re.error)}}catch(it){oe(it)}})}).catch(oe)});return d(ie,J),ie}function Y(F,J,V){var ie=this;F=p(F);var ue=new f(function(oe,be){var Ae;ie.ready().then(function(){return Ae=ie._dbInfo,_.call(J)==="[object Blob]"?I(Ae.db).then(function(Oe){return Oe?J:te(J)}):J}).then(function(Oe){H(ie._dbInfo,x,function(Re,Le){if(Re)return be(Re);try{var it=Le.objectStore(ie._dbInfo.storeName);Oe===null&&(Oe=void 0);var Ht=it.put(Oe,F);Le.oncomplete=function(){Oe===void 0&&(Oe=null),oe(Oe)},Le.onabort=Le.onerror=function(){var wn=Ht.error?Ht.error:Ht.transaction.error;be(wn)}}catch(wn){be(wn)}})}).catch(be)});return d(ue,V),ue}function le(F,J){var V=this;F=p(F);var ie=new f(function(ue,oe){V.ready().then(function(){H(V._dbInfo,x,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=Oe.delete(F);Ae.oncomplete=function(){ue()},Ae.onerror=function(){oe(Re.error)},Ae.onabort=function(){var Le=Re.error?Re.error:Re.transaction.error;oe(Le)}}catch(Le){oe(Le)}})}).catch(oe)});return d(ie,J),ie}function ce(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){H(J._dbInfo,x,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.clear();be.oncomplete=function(){ie()},be.onabort=be.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ue(Re)}}catch(Re){ue(Re)}})}).catch(ue)});return d(V,F),V}function de(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){H(J._dbInfo,T,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.count();Oe.onsuccess=function(){ie(Oe.result)},Oe.onerror=function(){ue(Oe.error)}}catch(Re){ue(Re)}})}).catch(ue)});return d(V,F),V}function me(F,J){var V=this,ie=new f(function(ue,oe){if(F<0){ue(null);return}V.ready().then(function(){H(V._dbInfo,T,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(V._dbInfo.storeName),Re=!1,Le=Oe.openKeyCursor();Le.onsuccess=function(){var it=Le.result;if(!it){ue(null);return}F===0||Re?ue(it.key):(Re=!0,it.advance(F))},Le.onerror=function(){oe(Le.error)}}catch(it){oe(it)}})}).catch(oe)});return d(ie,J),ie}function we(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){H(J._dbInfo,T,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.openKeyCursor(),Re=[];Oe.onsuccess=function(){var Le=Oe.result;if(!Le){ie(Re);return}Re.push(Le.key),Le.continue()},Oe.onerror=function(){ue(Oe.error)}}catch(Le){ue(Le)}})}).catch(ue)});return d(V,F),V}function ye(F,J){J=g.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ie=this,ue;if(!F.name)ue=f.reject("Invalid arguments");else{var oe=F.name===V.name&&ie._dbInfo.db,be=oe?f.resolve(ie._dbInfo.db):B(F).then(function(Ae){var Oe=v[F.name],Re=Oe.forages;Oe.db=Ae;for(var Le=0;Le<Re.length;Le++)Re[Le]._dbInfo.db=Ae;return Ae});F.storeName?ue=be.then(function(Ae){if(Ae.objectStoreNames.contains(F.storeName)){var Oe=Ae.version+1;k(F);var Re=v[F.name],Le=Re.forages;Ae.close();for(var it=0;it<Le.length;it++){var Ht=Le[it];Ht._dbInfo.db=null,Ht._dbInfo.version=Oe}var wn=new f(function(In,xr){var ur=u.open(F.name,Oe);ur.onerror=function(Ns){var bd=ur.result;bd.close(),xr(Ns)},ur.onupgradeneeded=function(){var Ns=ur.result;Ns.deleteObjectStore(F.storeName)},ur.onsuccess=function(){var Ns=ur.result;Ns.close(),In(Ns)}});return wn.then(function(In){Re.db=In;for(var xr=0;xr<Le.length;xr++){var ur=Le[xr];ur._dbInfo.db=In,D(ur._dbInfo)}}).catch(function(In){throw(M(F,In)||f.resolve()).catch(function(){}),In})}}):ue=be.then(function(Ae){k(F);var Oe=v[F.name],Re=Oe.forages;Ae.close();for(var Le=0;Le<Re.length;Le++){var it=Re[Le];it._dbInfo.db=null}var Ht=new f(function(wn,In){var xr=u.deleteDatabase(F.name);xr.onerror=function(){var ur=xr.result;ur&&ur.close(),In(xr.error)},xr.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},xr.onsuccess=function(){var ur=xr.result;ur&&ur.close(),wn(ur)}});return Ht.then(function(wn){Oe.db=wn;for(var In=0;In<Re.length;In++){var xr=Re[In];D(xr._dbInfo)}}).catch(function(wn){throw(M(F,wn)||f.resolve()).catch(function(){}),wn})})}return d(ue,J),ue}var We={_driver:"asyncStorage",_initStorage:P,_support:l(),iterate:L,getItem:R,setItem:Y,removeItem:le,clear:ce,length:de,key:me,keys:we,dropInstance:ye};function Qe(){return typeof openDatabase=="function"}var gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De="~~local_forage_type~",Ie=/^~~local_forage_type~([^~]+)~/,Ye="__lfsc__:",Yt=Ye.length,zt="arbf",He="blob",je="si08",ot="ui08",ht="uic8",At="si16",Xt="si32",ge="ur16",Te="ui32",Me="fl32",Ze="fl64",ct=Yt+zt.length,xn=Object.prototype.toString;function Fe(F){var J=F.length*.75,V=F.length,ie,ue=0,oe,be,Ae,Oe;F[F.length-1]==="="&&(J--,F[F.length-2]==="="&&J--);var Re=new ArrayBuffer(J),Le=new Uint8Array(Re);for(ie=0;ie<V;ie+=4)oe=gt.indexOf(F[ie]),be=gt.indexOf(F[ie+1]),Ae=gt.indexOf(F[ie+2]),Oe=gt.indexOf(F[ie+3]),Le[ue++]=oe<<2|be>>4,Le[ue++]=(be&15)<<4|Ae>>2,Le[ue++]=(Ae&3)<<6|Oe&63;return Re}function nt(F){var J=new Uint8Array(F),V="",ie;for(ie=0;ie<J.length;ie+=3)V+=gt[J[ie]>>2],V+=gt[(J[ie]&3)<<4|J[ie+1]>>4],V+=gt[(J[ie+1]&15)<<2|J[ie+2]>>6],V+=gt[J[ie+2]&63];return J.length%3===2?V=V.substring(0,V.length-1)+"=":J.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function at(F,J){var V="";if(F&&(V=xn.call(F)),F&&(V==="[object ArrayBuffer]"||F.buffer&&xn.call(F.buffer)==="[object ArrayBuffer]")){var ie,ue=Ye;F instanceof ArrayBuffer?(ie=F,ue+=zt):(ie=F.buffer,V==="[object Int8Array]"?ue+=je:V==="[object Uint8Array]"?ue+=ot:V==="[object Uint8ClampedArray]"?ue+=ht:V==="[object Int16Array]"?ue+=At:V==="[object Uint16Array]"?ue+=ge:V==="[object Int32Array]"?ue+=Xt:V==="[object Uint32Array]"?ue+=Te:V==="[object Float32Array]"?ue+=Me:V==="[object Float64Array]"?ue+=Ze:J(new Error("Failed to get type for BinaryArray"))),J(ue+nt(ie))}else if(V==="[object Blob]"){var oe=new FileReader;oe.onload=function(){var be=De+F.type+"~"+nt(this.result);J(Ye+He+be)},oe.readAsArrayBuffer(F)}else try{J(JSON.stringify(F))}catch(be){console.error("Couldn't convert value into a JSON string: ",F),J(null,be)}}function Kt(F){if(F.substring(0,Yt)!==Ye)return JSON.parse(F);var J=F.substring(ct),V=F.substring(Yt,ct),ie;if(V===He&&Ie.test(J)){var ue=J.match(Ie);ie=ue[1],J=J.substring(ue[0].length)}var oe=Fe(J);switch(V){case zt:return oe;case He:return c([oe],{type:ie});case je:return new Int8Array(oe);case ot:return new Uint8Array(oe);case ht:return new Uint8ClampedArray(oe);case At:return new Int16Array(oe);case ge:return new Uint16Array(oe);case Xt:return new Int32Array(oe);case Te:return new Uint32Array(oe);case Me:return new Float32Array(oe);case Ze:return new Float64Array(oe);default:throw new Error("Unkown type: "+V)}}var mt={serialize:at,deserialize:Kt,stringToBuffer:Fe,bufferToString:nt};function wr(F,J,V,ie){F.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,ie)}function gn(F){var J=this,V={db:null};if(F)for(var ie in F)V[ie]=typeof F[ie]!="string"?F[ie].toString():F[ie];var ue=new f(function(oe,be){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(Ae){return be(Ae)}V.db.transaction(function(Ae){wr(Ae,V,function(){J._dbInfo=V,oe()},function(Oe,Re){be(Re)})},be)});return V.serializer=mt,ue}function qn(F,J,V,ie,ue,oe){F.executeSql(V,ie,ue,function(be,Ae){Ae.code===Ae.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Oe,Re){Re.rows.length?oe(Oe,Ae):wr(Oe,J,function(){Oe.executeSql(V,ie,ue,oe)},oe)},oe):oe(be,Ae)},oe)}function ps(F,J){var V=this;F=p(F);var ie=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[F],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).value:null;Le&&(Le=be.serializer.deserialize(Le)),ue(Le)},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(ie,J),ie}function Rs(F,J){var V=this,ie=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT * FROM "+be.storeName,[],function(Oe,Re){for(var Le=Re.rows,it=Le.length,Ht=0;Ht<it;Ht++){var wn=Le.item(Ht),In=wn.value;if(In&&(In=be.serializer.deserialize(In)),In=F(In,wn.key,Ht+1),In!==void 0){ue(In);return}}ue()},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(ie,J),ie}function di(F,J,V,ie){var ue=this;F=p(F);var oe=new f(function(be,Ae){ue.ready().then(function(){J===void 0&&(J=null);var Oe=J,Re=ue._dbInfo;Re.serializer.serialize(J,function(Le,it){it?Ae(it):Re.db.transaction(function(Ht){qn(Ht,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[F,Le],function(){be(Oe)},function(wn,In){Ae(In)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(ie>0){be(di.apply(ue,[F,Oe,V,ie-1]));return}Ae(Ht)}})})}).catch(Ae)});return d(oe,V),oe}function Nn(F,J,V){return di.apply(this,[F,J,V,1])}function Ca(F,J){var V=this;F=p(F);var ie=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[F],function(){ue()},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(ie,J),ie}function Dr(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){qn(be,oe,"DELETE FROM "+oe.storeName,[],function(){ie()},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,F),V}function Er(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){qn(be,oe,"SELECT COUNT(key) as c FROM "+oe.storeName,[],function(Ae,Oe){var Re=Oe.rows.item(0).c;ie(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,F),V}function $n(F,J){var V=this,ie=new f(function(ue,oe){V.ready().then(function(){var be=V._dbInfo;be.db.transaction(function(Ae){qn(Ae,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[F+1],function(Oe,Re){var Le=Re.rows.length?Re.rows.item(0).key:null;ue(Le)},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(ie,J),ie}function dn(F){var J=this,V=new f(function(ie,ue){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){qn(be,oe,"SELECT key FROM "+oe.storeName,[],function(Ae,Oe){for(var Re=[],Le=0;Le<Oe.rows.length;Le++)Re.push(Oe.rows.item(Le).key);ie(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(V,F),V}function Kn(F){return new f(function(J,V){F.transaction(function(ie){ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,oe){for(var be=[],Ae=0;Ae<oe.rows.length;Ae++)be.push(oe.rows.item(Ae).name);J({db:F,storeNames:be})},function(ue,oe){V(oe)})},function(ie){V(ie)})})}function ms(F,J){J=g.apply(this,arguments);var V=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||V.name,F.storeName=F.storeName||V.storeName);var ie=this,ue;return F.name?ue=new f(function(oe){var be;F.name===V.name?be=ie._dbInfo.db:be=openDatabase(F.name,"","",0),F.storeName?oe({db:be,storeNames:[F.storeName]}):oe(Kn(be))}).then(function(oe){return new f(function(be,Ae){oe.db.transaction(function(Oe){function Re(wn){return new f(function(In,xr){Oe.executeSql("DROP TABLE IF EXISTS "+wn,[],function(){In()},function(ur,Ns){xr(Ns)})})}for(var Le=[],it=0,Ht=oe.storeNames.length;it<Ht;it++)Le.push(Re(oe.storeNames[it]));f.all(Le).then(function(){be()}).catch(function(wn){Ae(wn)})},function(Oe){Ae(Oe)})})}):ue=f.reject("Invalid arguments"),d(ue,J),ue}var ei={_driver:"webSQLStorage",_initStorage:gn,_support:Qe(),iterate:Rs,getItem:ps,setItem:Nn,removeItem:Ca,clear:Dr,length:Er,key:$n,keys:dn,dropInstance:ms};function Hr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Z(F,J){var V=F.name+"/";return F.storeName!==J.storeName&&(V+=F.storeName+"/"),V}function W(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch{return!0}}function ne(){return!W()||localStorage.length>0}function he(F){var J=this,V={};if(F)for(var ie in F)V[ie]=F[ie];return V.keyPrefix=Z(F,J._defaultConfig),ne()?(J._dbInfo=V,V.serializer=mt,f.resolve()):f.reject()}function pe(F){var J=this,V=J.ready().then(function(){for(var ie=J._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var oe=localStorage.key(ue);oe.indexOf(ie)===0&&localStorage.removeItem(oe)}});return d(V,F),V}function Je(F,J){var V=this;F=p(F);var ie=V.ready().then(function(){var ue=V._dbInfo,oe=localStorage.getItem(ue.keyPrefix+F);return oe&&(oe=ue.serializer.deserialize(oe)),oe});return d(ie,J),ie}function et(F,J){var V=this,ie=V.ready().then(function(){for(var ue=V._dbInfo,oe=ue.keyPrefix,be=oe.length,Ae=localStorage.length,Oe=1,Re=0;Re<Ae;Re++){var Le=localStorage.key(Re);if(Le.indexOf(oe)===0){var it=localStorage.getItem(Le);if(it&&(it=ue.serializer.deserialize(it)),it=F(it,Le.substring(be),Oe++),it!==void 0)return it}}});return d(ie,J),ie}function Ce(F,J){var V=this,ie=V.ready().then(function(){var ue=V._dbInfo,oe;try{oe=localStorage.key(F)}catch{oe=null}return oe&&(oe=oe.substring(ue.keyPrefix.length)),oe});return d(ie,J),ie}function rt(F){var J=this,V=J.ready().then(function(){for(var ie=J._dbInfo,ue=localStorage.length,oe=[],be=0;be<ue;be++){var Ae=localStorage.key(be);Ae.indexOf(ie.keyPrefix)===0&&oe.push(Ae.substring(ie.keyPrefix.length))}return oe});return d(V,F),V}function Ft(F){var J=this,V=J.keys().then(function(ie){return ie.length});return d(V,F),V}function Be(F,J){var V=this;F=p(F);var ie=V.ready().then(function(){var ue=V._dbInfo;localStorage.removeItem(ue.keyPrefix+F)});return d(ie,J),ie}function en(F,J,V){var ie=this;F=p(F);var ue=ie.ready().then(function(){J===void 0&&(J=null);var oe=J;return new f(function(be,Ae){var Oe=ie._dbInfo;Oe.serializer.serialize(J,function(Re,Le){if(Le)Ae(Le);else try{localStorage.setItem(Oe.keyPrefix+F,Re),be(oe)}catch(it){(it.name==="QuotaExceededError"||it.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ae(it),Ae(it)}})})});return d(ue,V),ue}function tn(F,J){if(J=g.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var V=this.config();F.name=F.name||V.name,F.storeName=F.storeName||V.storeName}var ie=this,ue;return F.name?ue=new f(function(oe){F.storeName?oe(Z(F,ie._defaultConfig)):oe(F.name+"/")}).then(function(oe){for(var be=localStorage.length-1;be>=0;be--){var Ae=localStorage.key(be);Ae.indexOf(oe)===0&&localStorage.removeItem(Ae)}}):ue=f.reject("Invalid arguments"),d(ue,J),ue}var yt={_driver:"localStorageWrapper",_initStorage:he,_support:Hr(),iterate:et,getItem:Je,setItem:en,removeItem:Be,clear:pe,length:Ft,key:Ce,keys:rt,dropInstance:tn},kn=function(J,V){return J===V||typeof J=="number"&&typeof V=="number"&&isNaN(J)&&isNaN(V)},Vn=function(J,V){for(var ie=J.length,ue=0;ue<ie;){if(kn(J[ue],V))return!0;ue++}return!1},St=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},Tr={},Sr={},$r={INDEXEDDB:We,WEBSQL:ei,LOCALSTORAGE:yt},gs=[$r.INDEXEDDB._driver,$r.WEBSQL._driver,$r.LOCALSTORAGE._driver],xi=["dropInstance"],Wr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xi),Hi={description:"",driver:gs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wi(F,J){F[J]=function(){var V=arguments;return F.ready().then(function(){return F[J].apply(F,V)})}}function Ge(){for(var F=1;F<arguments.length;F++){var J=arguments[F];if(J)for(var V in J)J.hasOwnProperty(V)&&(St(J[V])?arguments[0][V]=J[V].slice():arguments[0][V]=J[V])}return arguments[0]}var nn=function(){function F(J){o(this,F);for(var V in $r)if($r.hasOwnProperty(V)){var ie=$r[V],ue=ie._driver;this[V]=ue,Tr[ue]||this.defineDriver(ie)}this._defaultConfig=Ge({},Hi),this._config=Ge({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(V){if((typeof V>"u"?"undefined":s(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ie in V){if(ie==="storeName"&&(V[ie]=V[ie].replace(/\W/g,"_")),ie==="version"&&typeof V[ie]!="number")return new Error("Database version must be a number.");this._config[ie]=V[ie]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},F.prototype.defineDriver=function(V,ie,ue){var oe=new f(function(be,Ae){try{var Oe=V._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){Ae(Re);return}for(var Le=Wr.concat("_initStorage"),it=0,Ht=Le.length;it<Ht;it++){var wn=Le[it],In=!Vn(xi,wn);if((In||V[wn])&&typeof V[wn]!="function"){Ae(Re);return}}var xr=function(){for(var bd=function(FP){return function(){var fp=new Error("Method "+FP+" is not implemented by the current driver"),dp=f.reject(fp);return d(dp,arguments[arguments.length-1]),dp}},m0=0,g0=xi.length;m0<g0;m0++){var y0=xi[m0];V[y0]||(V[y0]=bd(y0))}};xr();var ur=function(bd){Tr[Oe]&&console.info("Redefining LocalForage driver: "+Oe),Tr[Oe]=V,Sr[Oe]=bd,be()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(ur,Ae):ur(!!V._support):ur(!0)}catch(Ns){Ae(Ns)}});return h(oe,ie,ue),oe},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(V,ie,ue){var oe=Tr[V]?f.resolve(Tr[V]):f.reject(new Error("Driver not found."));return h(oe,ie,ue),oe},F.prototype.getSerializer=function(V){var ie=f.resolve(mt);return h(ie,V),ie},F.prototype.ready=function(V){var ie=this,ue=ie._driverSet.then(function(){return ie._ready===null&&(ie._ready=ie._initDriver()),ie._ready});return h(ue,V,V),ue},F.prototype.setDriver=function(V,ie,ue){var oe=this;St(V)||(V=[V]);var be=this._getSupportedDrivers(V);function Ae(){oe._config.driver=oe.driver()}function Oe(it){return oe._extend(it),Ae(),oe._ready=oe._initStorage(oe._config),oe._ready}function Re(it){return function(){var Ht=0;function wn(){for(;Ht<it.length;){var In=it[Ht];return Ht++,oe._dbInfo=null,oe._ready=null,oe.getDriver(In).then(Oe).catch(wn)}Ae();var xr=new Error("No available storage method found.");return oe._driverSet=f.reject(xr),oe._driverSet}return wn()}}var Le=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Le.then(function(){var it=be[0];return oe._dbInfo=null,oe._ready=null,oe.getDriver(it).then(function(Ht){oe._driver=Ht._driver,Ae(),oe._wrapLibraryMethodsWithReady(),oe._initDriver=Re(be)})}).catch(function(){Ae();var it=new Error("No available storage method found.");return oe._driverSet=f.reject(it),oe._driverSet}),h(this._driverSet,ie,ue),this._driverSet},F.prototype.supports=function(V){return!!Sr[V]},F.prototype._extend=function(V){Ge(this,V)},F.prototype._getSupportedDrivers=function(V){for(var ie=[],ue=0,oe=V.length;ue<oe;ue++){var be=V[ue];this.supports(be)&&ie.push(be)}return ie},F.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,ie=Wr.length;V<ie;V++)Wi(this,Wr[V])},F.prototype.createInstance=function(V){return new F(V)},F}(),qi=new nn;r.exports=qi},{3:3}]},{},[4])(4)})})(Xfe);var Sut=Xfe.exports;const Jfe=au(Sut);let xw;const xut=new Uint8Array(16);function Iut(){if(!xw&&(xw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xw(xut)}const Ci=[];for(let e=0;e<256;++e)Ci.push((e+256).toString(16).slice(1));function Cut(e,t=0){return Ci[e[t+0]]+Ci[e[t+1]]+Ci[e[t+2]]+Ci[e[t+3]]+"-"+Ci[e[t+4]]+Ci[e[t+5]]+"-"+Ci[e[t+6]]+Ci[e[t+7]]+"-"+Ci[e[t+8]]+Ci[e[t+9]]+"-"+Ci[e[t+10]]+Ci[e[t+11]]+Ci[e[t+12]]+Ci[e[t+13]]+Ci[e[t+14]]+Ci[e[t+15]]}const Aut=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dq={randomUUID:Aut};function $q(e,t,n){if(Dq.randomUUID&&!t&&!e)return Dq.randomUUID();e=e||{};const r=e.random||(e.rng||Iut)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Cut(r)}class Zfe{constructor(t){vo(this,"engine");vo(this,"connected",!1);vo(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Dm(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class Put extends Zfe{constructor(){super("localStorage");vo(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}getTranscription(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Jfe.createInstance({name:n});const i=await Dm(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Dm(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=$q();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=$q();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Dm(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var Lq={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ede=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Out=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},z4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ede(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Out(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new Rut;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Rut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nut=function(e){const t=ede(e);return z4.encodeByteArray(t,!0)},_I=function(e){return Nut(e).replace(/\./g,"")},tde=function(e){try{return z4.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kut=()=>nde().__FIREBASE_DEFAULTS__,Dut=()=>{if(typeof process>"u"||typeof Lq>"u")return;const e=Lq.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$ut=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tde(e[1]);return t&&JSON.parse(t)},rP=()=>{try{return kut()||Dut()||$ut()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rde=e=>{var t,n;return(n=(t=rP())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Lut=e=>{const t=rde(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ide=()=>{var e;return(e=rP())===null||e===void 0?void 0:e.config},sde=e=>{var t;return(t=rP())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mut(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_I(JSON.stringify(n)),_I(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function jut(){var e;const t=(e=rP())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function But(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Uut(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vut(){const e=Zr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zut(){return!jut()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iP(){try{return typeof indexedDB=="object"}catch{return!1}}function Hut(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wut="FirebaseError";class Ol extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Wut,Object.setPrototypeOf(this,Ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s0.prototype.create)}}class s0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?qut(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ol(i,a,r)}}function qut(e,t){return e.replace(Yut,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Yut=/\{\$([^}]+)}/g;function Gut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function S_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Mq(s)&&Mq(o)){if(!S_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mq(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Kut(e,t){const n=new Qut(e,t);return n.subscribe.bind(n)}class Qut{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xut(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=mR),i.error===void 0&&(i.error=mR),i.complete===void 0&&(i.complete=mR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xut(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mR(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jut=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zut=1e3,elt=2,tlt=4*60*60*1e3,nlt=.5;function rlt(e,t=Zut,n=elt){const r=t*Math.pow(n,e),i=Math.round(nlt*r*(Math.random()-.5)*2);return Math.min(tlt,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return e&&e._delegate?e._delegate:e}class bl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ilt{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new T_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(olt(t))try{this.getOrInitializeService({instanceIdentifier:$d})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=$d){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$d){return this.instances.has(t)}getOptions(t=$d){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:slt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$d){return this.component?this.component.multipleInstances?t:$d:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function slt(e){return e===$d?void 0:e}function olt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class alt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ilt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ln||(ln={}));const ult={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},llt=ln.INFO,clt={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},flt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=clt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sP{constructor(t){this.name=t,this._logLevel=llt,this._logHandler=flt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ult[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const dlt=(e,t)=>t.some(n=>e instanceof n);let Fq,jq;function hlt(){return Fq||(Fq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function plt(){return jq||(jq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ode=new WeakMap,BD=new WeakMap,ade=new WeakMap,gR=new WeakMap,H4=new WeakMap;function mlt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ode.set(n,e)}).catch(()=>{}),H4.set(t,e),t}function glt(e){if(BD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});BD.set(e,t)}let UD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return BD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ade.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ylt(e){UD=e(UD)}function vlt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(yR(this),t,...n);return ade.set(r,t.sort?t.sort():[t]),Mf(r)}:plt().includes(e)?function(...t){return e.apply(yR(this),t),Mf(ode.get(this))}:function(...t){return Mf(e.apply(yR(this),t))}}function _lt(e){return typeof e=="function"?vlt(e):(e instanceof IDBTransaction&&glt(e),dlt(e,hlt())?new Proxy(e,UD):e)}function Mf(e){if(e instanceof IDBRequest)return mlt(e);if(gR.has(e))return gR.get(e);const t=_lt(e);return t!==e&&(gR.set(e,t),H4.set(t,e)),t}const yR=e=>H4.get(e);function blt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Mf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mf(o.result),u.oldVersion,u.newVersion,Mf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const wlt=["get","getKey","getAll","getAllKeys","count"],Elt=["put","add","delete","clear"],vR=new Map;function Bq(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(vR.get(t))return vR.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Elt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wlt.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return vR.set(t,s),s}ylt(e=>({...e,get:(t,n,r)=>Bq(t,n)||e.get(t,n,r),has:(t,n)=>!!Bq(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tlt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Slt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Slt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const VD="@firebase/app",Uq="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new sP("@firebase/app"),xlt="@firebase/app-compat",Ilt="@firebase/analytics-compat",Clt="@firebase/analytics",Alt="@firebase/app-check-compat",Plt="@firebase/app-check",Olt="@firebase/auth",Rlt="@firebase/auth-compat",Nlt="@firebase/database",klt="@firebase/database-compat",Dlt="@firebase/functions",$lt="@firebase/functions-compat",Llt="@firebase/installations",Mlt="@firebase/installations-compat",Flt="@firebase/messaging",jlt="@firebase/messaging-compat",Blt="@firebase/performance",Ult="@firebase/performance-compat",Vlt="@firebase/remote-config",zlt="@firebase/remote-config-compat",Hlt="@firebase/storage",Wlt="@firebase/storage-compat",qlt="@firebase/firestore",Ylt="@firebase/firestore-compat",Glt="firebase",Klt="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="[DEFAULT]",Qlt={[VD]:"fire-core",[xlt]:"fire-core-compat",[Clt]:"fire-analytics",[Ilt]:"fire-analytics-compat",[Plt]:"fire-app-check",[Alt]:"fire-app-check-compat",[Olt]:"fire-auth",[Rlt]:"fire-auth-compat",[Nlt]:"fire-rtdb",[klt]:"fire-rtdb-compat",[Dlt]:"fire-fn",[$lt]:"fire-fn-compat",[Llt]:"fire-iid",[Mlt]:"fire-iid-compat",[Flt]:"fire-fcm",[jlt]:"fire-fcm-compat",[Blt]:"fire-perf",[Ult]:"fire-perf-compat",[Vlt]:"fire-rc",[zlt]:"fire-rc-compat",[Hlt]:"fire-gcs",[Wlt]:"fire-gcs-compat",[qlt]:"fire-fst",[Ylt]:"fire-fst-compat","fire-js":"fire-js",[Glt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map,HD=new Map;function Xlt(e,t){try{e.container.addComponent(t)}catch(n){Fh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function bc(e){const t=e.name;if(HD.has(t))return Fh.debug(`There were multiple attempts to register component ${t}.`),!1;HD.set(t,e);for(const n of bI.values())Xlt(n,e);return!0}function o0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jlt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ff=new s0("app","Firebase",Jlt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zlt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ff.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=Klt;function ude(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:zD,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ff.create("bad-app-name",{appName:String(i)});if(n||(n=ide()),!n)throw Ff.create("no-options");const s=bI.get(i);if(s){if(S_(n,s.options)&&S_(r,s.config))return s;throw Ff.create("duplicate-app",{appName:i})}const o=new alt(i);for(const u of HD.values())o.addComponent(u);const a=new Zlt(n,r,o);return bI.set(i,a),a}function W4(e=zD){const t=bI.get(e);if(!t&&e===zD&&ide())return ude();if(!t)throw Ff.create("no-app",{appName:e});return t}function Xa(e,t,n){var r;let i=(r=Qlt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fh.warn(a.join(" "));return}bc(new bl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ect="firebase-heartbeat-database",tct=1,x_="firebase-heartbeat-store";let _R=null;function lde(){return _R||(_R=blt(ect,tct,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(x_)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ff.create("idb-open",{originalErrorMessage:e.message})})),_R}async function nct(e){try{const n=(await lde()).transaction(x_),r=await n.objectStore(x_).get(cde(e));return await n.done,r}catch(t){if(t instanceof Ol)Fh.warn(t.message);else{const n=Ff.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fh.warn(n.message)}}}async function Vq(e,t){try{const r=(await lde()).transaction(x_,"readwrite");await r.objectStore(x_).put(t,cde(e)),await r.done}catch(n){if(n instanceof Ol)Fh.warn(n.message);else{const r=Ff.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fh.warn(r.message)}}}function cde(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rct=1024,ict=30*24*60*60*1e3;class sct{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new act(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zq();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ict}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zq(),{heartbeatsToSend:r,unsentEntries:i}=oct(this._heartbeatsCache.heartbeats),s=_I(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function zq(){return new Date().toISOString().substring(0,10)}function oct(e,t=rct){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hq(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hq(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class act{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iP()?Hut().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nct(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Hq(e){return _I(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uct(e){bc(new bl("platform-logger",t=>new Tlt(t),"PRIVATE")),bc(new bl("heartbeat",t=>new sct(t),"PRIVATE")),Xa(VD,Uq,e),Xa(VD,Uq,"esm2017"),Xa("fire-js","")}uct("");var lct="firebase",cct="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(lct,cct,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde="firebasestorage.googleapis.com",dde="storageBucket",fct=2*60*1e3,dct=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ol{constructor(t,n,r=0){super(bR(t),`Firebase Storage: ${n} (${bR(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return bR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function bR(e){return"storage/"+e}function q4(){const e="An unknown error occurred, please check the error payload for server response.";return new kr(Rr.UNKNOWN,e)}function hct(e){return new kr(Rr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function pct(e){return new kr(Rr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mct(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(Rr.UNAUTHENTICATED,e)}function gct(){return new kr(Rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yct(e){return new kr(Rr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function vct(){return new kr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _ct(){return new kr(Rr.CANCELED,"User canceled the upload/download.")}function bct(e){return new kr(Rr.INVALID_URL,"Invalid URL '"+e+"'.")}function wct(e){return new kr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Ect(){return new kr(Rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dde+"' property when initializing the app?")}function Tct(){return new kr(Rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sct(){return new kr(Rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xct(e){return new kr(Rr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function WD(e){return new kr(Rr.INVALID_ARGUMENT,e)}function hde(){return new kr(Rr.APP_DELETED,"The Firebase app was deleted.")}function Ict(e){return new kr(Rr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lv(e,t){return new kr(Rr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ey(e){throw new kr(Rr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ro.makeFromUrl(t,n)}catch{return new Ro(t,"")}if(r.path==="")return r;throw wct(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===fde?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<_.length;T++){const x=_[T],w=x.regex.exec(t);if(w){const S=w[x.indices.bucket];let I=w[x.indices.path];I||(I=""),r=new Ro(S,I),x.postModify(r);break}}if(r==null)throw bct(t);return r}}class Cct{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Act(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...m){if(l){d();return}if(y){d(),c.call(null,y,...m);return}if(u()||o){d(),c.call(null,y,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function g(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Pct(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oct(e){return e!==void 0}function Rct(e){return typeof e=="object"&&!Array.isArray(e)}function Y4(e){return typeof e=="string"||e instanceof String}function Wq(e){return G4()&&e instanceof Blob}function G4(){return typeof Blob<"u"}function qq(e,t,n,r){if(r<t)throw WD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw WD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function pde(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(mh||(mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nct(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kct{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Iw(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mh.NO_ERROR,u=s.getStatus();if(!a||Nct(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===mh.ABORT;r(!1,new Iw(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Iw(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Oct(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=q4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?hde():_ct();o(u)}else{const u=vct();o(u)}};this.canceled_?n(!1,new Iw(!1,null,!0)):this.backoffId_=Act(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Pct(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Iw{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Dct(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function $ct(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Lct(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Mct(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Fct(e,t,n,r,i,s,o=!0){const a=pde(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Lct(l,t),Dct(l,n),$ct(l,s),Mct(l,r),new kct(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jct(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Bct(...e){const t=jct();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(G4())return new Blob(e);throw new kr(Rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Uct(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vct(e){if(typeof atob>"u")throw xct("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wR{constructor(t,n){this.data=t,this.contentType=n||null}}function zct(e,t){switch(e){case Wu.RAW:return new wR(mde(t));case Wu.BASE64:case Wu.BASE64URL:return new wR(gde(e,t));case Wu.DATA_URL:return new wR(Wct(t),qct(t))}throw q4()}function mde(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Hct(e){let t;try{t=decodeURIComponent(e)}catch{throw lv(Wu.DATA_URL,"Malformed data URL.")}return mde(t)}function gde(e,t){switch(e){case Wu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw lv(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw lv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vct(t)}catch(i){throw i.message.includes("polyfill")?i:lv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yde{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw lv(Wu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Yct(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Wct(e){const t=new yde(e);return t.base64?gde(Wu.BASE64,t.rest):Hct(t.rest)}function qct(e){return new yde(e).contentType}function Yct(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){let r=0,i="";Wq(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Wq(this.data_)){const r=this.data_,i=Uct(r,t,n);return i===null?null:new af(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new af(r,!0)}}static getBlob(...t){if(G4()){const n=t.map(r=>r instanceof af?r.data_:r);return new af(Bct.apply(null,n))}else{const n=t.map(o=>Y4(o)?zct(Wu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new af(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vde(e){let t;try{t=JSON.parse(e)}catch{return null}return Rct(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gct(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Kct(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function _de(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qct(e,t){return t}class ys{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Qct}}let Cw=null;function Xct(e){return!Y4(e)||e.length<2?e:_de(e)}function bde(){if(Cw)return Cw;const e=[];e.push(new ys("bucket")),e.push(new ys("generation")),e.push(new ys("metageneration")),e.push(new ys("name","fullPath",!0));function t(s,o){return Xct(o)}const n=new ys("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ys("size");return i.xform=r,e.push(i),e.push(new ys("timeCreated")),e.push(new ys("updated")),e.push(new ys("md5Hash",null,!0)),e.push(new ys("cacheControl",null,!0)),e.push(new ys("contentDisposition",null,!0)),e.push(new ys("contentEncoding",null,!0)),e.push(new ys("contentLanguage",null,!0)),e.push(new ys("contentType",null,!0)),e.push(new ys("metadata","customMetadata",!0)),Cw=e,Cw}function Jct(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Ro(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Zct(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Jct(r,e),r}function wde(e,t,n){const r=vde(t);return r===null?null:Zct(e,r,n)}function eft(e,t,n,r){const i=vde(t);if(i===null||!Y4(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=K4(d,n,r),p=pde({alt:"media",token:l});return h+p})[0]}function tft(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Ede{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tde(e){if(!e)throw q4()}function nft(e,t){function n(r,i){const s=wde(e,i,t);return Tde(s!==null),s}return n}function rft(e,t){function n(r,i){const s=wde(e,i,t);return Tde(s!==null),eft(s,i,e.host,e._protocol)}return n}function Sde(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gct():i=mct():n.getStatus()===402?i=pct(e.bucket):n.getStatus()===403?i=yct(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function ift(e){const t=Sde(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=hct(e.path)),s.serverResponse=i.serverResponse,s}return n}function sft(e,t,n){const r=t.fullServerUrl(),i=K4(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Ede(i,s,rft(e,n),o);return a.errorHandler=ift(t),a}function oft(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function aft(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=oft(null,t)),r}function uft(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=aft(t,r,i),c=tft(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=af.getBlob(f,r,d);if(h===null)throw Tct();const p={name:l.fullPath},g=K4(s,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,v=new Ede(g,y,nft(e,n),m);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=Sde(t),v}class lft{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw ey("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ey("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ey("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ey("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ey("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class cft extends lft{initXhr(){this.xhr_.responseType="text"}}function xde(){return new cft}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this._service=t,n instanceof Ro?this._location=n:this._location=Ro.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new jh(t,n)}get root(){const t=new Ro(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _de(this._location.path)}get storage(){return this._service}get parent(){const t=Gct(this._location.path);if(t===null)return null;const n=new Ro(this._location.bucket,t);return new jh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Ict(t)}}function fft(e,t,n){e._throwIfRoot("uploadBytes");const r=uft(e.storage,e._location,bde(),new af(t,!0),n);return e.storage.makeRequestWithTokens(r,xde).then(i=>({metadata:i,ref:e}))}function dft(e){e._throwIfRoot("getDownloadURL");const t=sft(e.storage,e._location,bde());return e.storage.makeRequestWithTokens(t,xde).then(n=>{if(n===null)throw Sct();return n})}function hft(e,t){const n=Kct(e._location.path,t),r=new Ro(e._location.bucket,n);return new jh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pft(e){return/^[A-Za-z]+:\/\//.test(e)}function mft(e,t){return new jh(e,t)}function Ide(e,t){if(e instanceof Q4){const n=e;if(n._bucket==null)throw Ect();const r=new jh(n,n._bucket);return t!=null?Ide(r,t):r}else return t!==void 0?hft(e,t):e}function gft(e,t){if(t&&pft(t)){if(e instanceof Q4)return mft(e,t);throw WD("To use ref(service, url), the first argument must be a Storage instance.")}else return Ide(e,t)}function Yq(e,t){const n=t==null?void 0:t[dde];return n==null?null:Ro.makeFromBucketSpec(n,e)}function yft(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Mut(i,e.app.options.projectId))}class Q4{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fde,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fct,this._maxUploadRetryTime=dct,this._requests=new Set,i!=null?this._bucket=Ro.makeFromBucketSpec(i,this._host):this._bucket=Yq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ro.makeFromBucketSpec(this._url,t):this._bucket=Yq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qq("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qq("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Cct(hde());{const o=Fct(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Gq="@firebase/storage",Kq="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cde="storage";function Qq(e,t,n){return e=Ui(e),fft(e,t,n)}function ty(e){return e=Ui(e),dft(e)}function xd(e,t){return e=Ui(e),gft(e,t)}function Id(e=W4(),t){e=Ui(e);const r=o0(e,Cde).getImmediate({identifier:t}),i=Lut("storage");return i&&vft(r,...i),r}function vft(e,t,n,r={}){yft(e,t,n,r)}function _ft(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Q4(n,r,i,t,op)}function bft(){bc(new bl(Cde,_ft,"PUBLIC").setMultipleInstances(!0)),Xa(Gq,Kq,""),Xa(Gq,Kq,"esm2017")}bft();var wft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve,X4=X4||{},Dt=wft||self;function oP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function z1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Eft(e){return Object.prototype.hasOwnProperty.call(e,ER)&&e[ER]||(e[ER]=++Tft)}var ER="closure_uid_"+(1e9*Math.random()>>>0),Tft=0;function Sft(e,t,n){return e.call.apply(e.bind,arguments)}function xft(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function us(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?us=Sft:us=xft,us.apply(null,arguments)}function Aw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Si(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function vd(){this.s=this.s,this.o=this.o}var Ift=0;vd.prototype.s=!1;vd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ift!=0)&&Eft(this)};vd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ade=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function J4(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xq(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(oP(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ls(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ls.prototype.h=function(){this.defaultPrevented=!0};var Cft=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Dt.addEventListener("test",n,t),Dt.removeEventListener("test",n,t)}catch{}return e}();function I_(e){return/^[\s\xa0]*$/.test(e)}function aP(){var e=Dt.navigator;return e&&(e=e.userAgent)?e:""}function Bu(e){return aP().indexOf(e)!=-1}function Z4(e){return Z4[" "](e),e}Z4[" "]=function(){};function Aft(e,t){var n=bdt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Pft=Bu("Opera"),Eg=Bu("Trident")||Bu("MSIE"),Pde=Bu("Edge"),qD=Pde||Eg,Ode=Bu("Gecko")&&!(aP().toLowerCase().indexOf("webkit")!=-1&&!Bu("Edge"))&&!(Bu("Trident")||Bu("MSIE"))&&!Bu("Edge"),Oft=aP().toLowerCase().indexOf("webkit")!=-1&&!Bu("Edge");function Rde(){var e=Dt.document;return e?e.documentMode:void 0}var YD;e:{var TR="",SR=function(){var e=aP();if(Ode)return/rv:([^\);]+)(\)|;)/.exec(e);if(Pde)return/Edge\/([\d\.]+)/.exec(e);if(Eg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Oft)return/WebKit\/(\S+)/.exec(e);if(Pft)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(SR&&(TR=SR?SR[1]:""),Eg){var xR=Rde();if(xR!=null&&xR>parseFloat(TR)){YD=String(xR);break e}}YD=TR}var GD;if(Dt.document&&Eg){var Jq=Rde();GD=Jq||parseInt(YD,10)||void 0}else GD=void 0;var Rft=GD;function C_(e,t){if(ls.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ode){e:{try{Z4(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Nft[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&C_.$.h.call(this)}}Si(C_,ls);var Nft={2:"touch",3:"pen",4:"mouse"};C_.prototype.h=function(){C_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var H1="closure_listenable_"+(1e6*Math.random()|0),kft=0;function Dft(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++kft,this.fa=this.ia=!1}function uP(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function e5(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function $ft(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Nde(e){const t={};for(const n in e)t[n]=e[n];return t}const Zq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kde(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Zq.length;s++)n=Zq[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function lP(e){this.src=e,this.g={},this.h=0}lP.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=QD(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Dft(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function KD(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Ade(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function QD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var t5="closure_lm_"+(1e6*Math.random()|0),IR={};function Dde(e,t,n,r,i){if(r&&r.once)return Lde(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Dde(e,t[s],n,r,i);return null}return n=i5(n),e&&e[H1]?e.O(t,n,z1(r)?!!r.capture:!!r,i):$de(e,t,n,!1,r,i)}function $de(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=z1(i)?!!i.capture:!!i,a=r5(e);if(a||(e[t5]=a=new lP(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Lft(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Cft||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fde(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Lft(){function e(n){return t.call(e.src,e.listener,n)}const t=Mft;return e}function Lde(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Lde(e,t[s],n,r,i);return null}return n=i5(n),e&&e[H1]?e.P(t,n,z1(r)?!!r.capture:!!r,i):$de(e,t,n,!0,r,i)}function Mde(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Mde(e,t[s],n,r,i);else r=z1(r)?!!r.capture:!!r,n=i5(n),e&&e[H1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=QD(s,n,r,i),-1<n&&(uP(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=r5(e))&&(t=e.g[t.toString()],e=-1,t&&(e=QD(t,n,r,i)),(n=-1<e?t[e]:null)&&n5(n))}function n5(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[H1])KD(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fde(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=r5(t))?(KD(n,e),n.h==0&&(n.src=null,t[t5]=null)):uP(e)}}}function Fde(e){return e in IR?IR[e]:IR[e]="on"+e}function Mft(e,t){if(e.fa)e=!0;else{t=new C_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&n5(e),e=n.call(r,t)}return e}function r5(e){return e=e[t5],e instanceof lP?e:null}var CR="__closure_events_fn_"+(1e9*Math.random()>>>0);function i5(e){return typeof e=="function"?e:(e[CR]||(e[CR]=function(t){return e.handleEvent(t)}),e[CR])}function wi(){vd.call(this),this.i=new lP(this),this.S=this,this.J=null}Si(wi,vd);wi.prototype[H1]=!0;wi.prototype.removeEventListener=function(e,t,n,r){Mde(this,e,t,n,r)};function Fi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ls(t,e);else if(t instanceof ls)t.target=t.target||e;else{var i=t;t=new ls(r,e),kde(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Pw(o,r,!0,t)&&i}if(o=t.g=e,i=Pw(o,r,!0,t)&&i,i=Pw(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Pw(o,r,!1,t)&&i}wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)uP(n[r]);delete e.g[t],e.h--}}this.J=null};wi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};wi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Pw(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&KD(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var s5=Dt.JSON.stringify;class Fft{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function jft(){var e=o5;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Bft{constructor(){this.h=this.g=null}add(t,n){const r=jde.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var jde=new Fft(()=>new Uft,e=>e.reset());class Uft{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vft(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function zft(e){Dt.setTimeout(()=>{throw e},0)}let A_,P_=!1,o5=new Bft,Bde=()=>{const e=Dt.Promise.resolve(void 0);A_=()=>{e.then(Hft)}};var Hft=()=>{for(var e;e=jft();){try{e.h.call(e.g)}catch(n){zft(n)}var t=jde;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}P_=!1};function cP(e,t){wi.call(this),this.h=e||1,this.g=t||Dt,this.j=us(this.qb,this),this.l=Date.now()}Si(cP,wi);Ve=cP.prototype;Ve.ga=!1;Ve.T=null;Ve.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fi(this,"tick"),this.ga&&(a5(this),this.start()))}};Ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function a5(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ve.N=function(){cP.$.N.call(this),a5(this),delete this.g};function u5(e,t,n){if(typeof e=="function")n&&(e=us(e,n));else if(e&&typeof e.handleEvent=="function")e=us(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Dt.setTimeout(e,t||0)}function Ude(e){e.g=u5(()=>{e.g=null,e.i&&(e.i=!1,Ude(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Wft extends vd{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ude(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function O_(e){vd.call(this),this.h=e,this.g={}}Si(O_,vd);var eY=[];function Vde(e,t,n,r){Array.isArray(n)||(n&&(eY[0]=n.toString()),n=eY);for(var i=0;i<n.length;i++){var s=Dde(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function zde(e){e5(e.g,function(t,n){this.g.hasOwnProperty(n)&&n5(t)},e),e.g={}}O_.prototype.N=function(){O_.$.N.call(this),zde(this)};O_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fP(){this.g=!0}fP.prototype.Ea=function(){this.g=!1};function qft(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Yft(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function om(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Kft(e,n)+(r?" "+r:"")})}function Gft(e,t){e.info(function(){return"TIMEOUT: "+t})}fP.prototype.info=function(){};function Kft(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return s5(n)}catch{return t}}var ap={},tY=null;function dP(){return tY=tY||new wi}ap.Ta="serverreachability";function Hde(e){ls.call(this,ap.Ta,e)}Si(Hde,ls);function R_(e){const t=dP();Fi(t,new Hde(t))}ap.STAT_EVENT="statevent";function Wde(e,t){ls.call(this,ap.STAT_EVENT,e),this.stat=t}Si(Wde,ls);function ws(e){const t=dP();Fi(t,new Wde(t,e))}ap.Ua="timingevent";function qde(e,t){ls.call(this,ap.Ua,e),this.size=t}Si(qde,ls);function W1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){e()},t)}var hP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yde={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l5(){}l5.prototype.h=null;function nY(e){return e.h||(e.h=e.i())}function Gde(){}var q1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function c5(){ls.call(this,"d")}Si(c5,ls);function f5(){ls.call(this,"c")}Si(f5,ls);var XD;function pP(){}Si(pP,l5);pP.prototype.g=function(){return new XMLHttpRequest};pP.prototype.i=function(){return{}};XD=new pP;function Y1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new O_(this),this.P=Qft,e=qD?125:void 0,this.V=new cP(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kde}function Kde(){this.i=null,this.g="",this.h=!1}var Qft=45e3,Qde={},JD={};Ve=Y1.prototype;Ve.setTimeout=function(e){this.P=e};function ZD(e,t,n){e.L=1,e.A=gP(wc(t)),e.u=n,e.S=!0,Xde(e,null)}function Xde(e,t){e.G=Date.now(),G1(e),e.B=wc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),she(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Kde,e.g=Ihe(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Wft(us(e.Pa,e,e.g),e.O)),Vde(e.U,e.g,"readystatechange",e.nb),t=e.I?Nde(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),R_(),qft(e.j,e.v,e.B,e.m,e.W,e.u)}Ve.nb=function(e){e=e.target;const t=this.M;t&&qu(e)==3?t.l():this.Pa(e)};Ve.Pa=function(e){try{if(e==this.g)e:{const c=qu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||qD||this.g&&(this.h.h||this.g.ja()||oY(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?R_(3):R_(2)),mP(this);var n=this.g.da();this.ca=n;t:if(Jde(this)){var r=oY(this.g);e="";var i=r.length,s=qu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oh(this),cv(this);var o="";break t}this.h.i=new Dt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Yft(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I_(a)){var l=a;break t}}l=null}if(n=l)om(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,e$(this,n);else{this.i=!1,this.s=3,ws(12),oh(this),cv(this);break e}}this.S?(Zde(this,c,o),qD&&this.i&&c==3&&(Vde(this.U,this.V,"tick",this.mb),this.V.start())):(om(this.j,this.m,o,null),e$(this,o)),c==4&&oh(this),this.i&&!this.J&&(c==4?Ehe(this.l,this):(this.i=!1,G1(this)))}else ydt(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),oh(this),cv(this)}}}catch{}finally{}};function Jde(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Zde(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=Xft(e,n),i==JD){t==4&&(e.s=4,ws(14),r=!1),om(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Qde){e.s=4,ws(15),om(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else om(e.j,e.m,i,null),e$(e,i);Jde(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ws(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),y5(t),t.M=!0,ws(11))):(om(e.j,e.m,n,"[Invalid Chunked Response]"),oh(e),cv(e))}Ve.mb=function(){if(this.g){var e=qu(this.g),t=this.g.ja();this.o<t.length&&(mP(this),Zde(this,e,t),this.i&&e!=4&&G1(this))}};function Xft(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?JD:(n=Number(t.substring(n,r)),isNaN(n)?Qde:(r+=1,r+n>t.length?JD:(t=t.slice(r,r+n),e.o=r+n,t)))}Ve.cancel=function(){this.J=!0,oh(this)};function G1(e){e.Y=Date.now()+e.P,ehe(e,e.P)}function ehe(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=W1(us(e.lb,e),t)}function mP(e){e.C&&(Dt.clearTimeout(e.C),e.C=null)}Ve.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Gft(this.j,this.B),this.L!=2&&(R_(),ws(17)),oh(this),this.s=2,cv(this)):ehe(this,this.Y-e)};function cv(e){e.l.H==0||e.J||Ehe(e.l,e)}function oh(e){mP(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,a5(e.V),zde(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function e$(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||t$(n.i,e))){if(!e.K&&t$(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)TI(n),bP(n);else break e;g5(n),ws(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=W1(us(n.ib,n),6e3));if(1>=uhe(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ah(n,11)}else if((e.K||n.g==e)&&TI(n),!I_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(d5(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ir(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=xhe(r,r.J?r.pa:null,r.Y),o.K){lhe(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(mP(a),G1(a)),r.g=o}else bhe(r);0<n.j.length&&wP(n)}else l[0]!="stop"&&l[0]!="close"||ah(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ah(n,7):m5(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}R_(4)}catch{}}function Jft(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(oP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Zft(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(oP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function the(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(oP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Zft(e),r=Jft(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var nhe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function edt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gh){this.h=e.h,wI(this,e.j),this.s=e.s,this.g=e.g,EI(this,e.m),this.l=e.l;var t=e.i,n=new N_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),rY(this,n),this.o=e.o}else e&&(t=String(e).match(nhe))?(this.h=!1,wI(this,t[1]||"",!0),this.s=Ty(t[2]||""),this.g=Ty(t[3]||"",!0),EI(this,t[4]),this.l=Ty(t[5]||"",!0),rY(this,t[6]||"",!0),this.o=Ty(t[7]||"")):(this.h=!1,this.i=new N_(null,this.h))}gh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sy(t,iY,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Sy(t,iY,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Sy(n,n.charAt(0)=="/"?rdt:ndt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sy(n,sdt)),e.join("")};function wc(e){return new gh(e)}function wI(e,t,n){e.j=n?Ty(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function EI(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rY(e,t,n){t instanceof N_?(e.i=t,odt(e.i,e.h)):(n||(t=Sy(t,idt)),e.i=new N_(t,e.h))}function ir(e,t,n){e.i.set(t,n)}function gP(e){return ir(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ty(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sy(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,tdt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tdt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var iY=/[#\/\?@]/g,ndt=/[#\?:]/g,rdt=/[#\?]/g,idt=/[#\?@]/g,sdt=/#/g;function N_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _d(e){e.g||(e.g=new Map,e.h=0,e.i&&edt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ve=N_.prototype;Ve.add=function(e,t){_d(this),this.i=null,e=a0(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function rhe(e,t){_d(e),t=a0(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ihe(e,t){return _d(e),t=a0(e,t),e.g.has(t)}Ve.forEach=function(e,t){_d(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ve.ta=function(){_d(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ve.Z=function(e){_d(this);let t=[];if(typeof e=="string")ihe(this,e)&&(t=t.concat(this.g.get(a0(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ve.set=function(e,t){return _d(this),this.i=null,e=a0(this,e),ihe(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ve.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function she(e,t,n){rhe(e,t),0<n.length&&(e.i=null,e.g.set(a0(e,t),J4(n)),e.h+=n.length)}Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function a0(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function odt(e,t){t&&!e.j&&(_d(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rhe(this,r),she(this,i,n))},e)),e.j=t}var adt=class{constructor(e,t){this.g=e,this.map=t}};function ohe(e){this.l=e||udt,Dt.PerformanceNavigationTiming?(e=Dt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var udt=10;function ahe(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function uhe(e){return e.h?1:e.g?e.g.size:0}function t$(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function d5(e,t){e.g?e.g.add(t):e.h=t}function lhe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ohe.prototype.cancel=function(){if(this.i=che(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function che(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return J4(e.i)}var ldt=class{stringify(e){return Dt.JSON.stringify(e,void 0)}parse(e){return Dt.JSON.parse(e,void 0)}};function cdt(){this.g=new ldt}function fdt(e,t,n){const r=n||"";try{the(e,function(i,s){let o=i;z1(i)&&(o=s5(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ddt(e,t){const n=new fP;if(Dt.Image){const r=new Image;r.onload=Aw(Ow,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Aw(Ow,n,r,"TestLoadImage: error",!1,t),r.onabort=Aw(Ow,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Aw(Ow,n,r,"TestLoadImage: timeout",!1,t),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ow(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function yP(e){this.l=e.ec||null,this.j=e.ob||!1}Si(yP,l5);yP.prototype.g=function(){return new vP(this.l,this.j)};yP.prototype.i=function(e){return function(){return e}}({});function vP(e,t){wi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=h5,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Si(vP,wi);var h5=0;Ve=vP.prototype;Ve.open=function(e,t){if(this.readyState!=h5)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,k_(this)};Ve.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Dt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,K1(this)),this.readyState=h5};Ve.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,k_(this)),this.g&&(this.readyState=3,k_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fhe(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function fhe(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ve.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?K1(this):k_(this),this.readyState==3&&fhe(this)}};Ve.Za=function(e){this.g&&(this.response=this.responseText=e,K1(this))};Ve.Ya=function(e){this.g&&(this.response=e,K1(this))};Ve.ka=function(){this.g&&K1(this)};function K1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,k_(e)}Ve.setRequestHeader=function(e,t){this.v.append(e,t)};Ve.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ve.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function k_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(vP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var hdt=Dt.JSON.parse;function Nr(e){wi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dhe,this.L=this.M=!1}Si(Nr,wi);var dhe="",pdt=/^https?$/i,mdt=["POST","PUT"];Ve=Nr.prototype;Ve.Oa=function(e){this.M=e};Ve.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():XD.g(),this.C=this.u?nY(this.u):nY(XD),this.g.onreadystatechange=us(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){sY(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Dt.FormData&&e instanceof Dt.FormData,!(0<=Ade(mdt,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mhe(this),0<this.B&&((this.L=gdt(this.g))?(this.g.timeout=this.B,this.g.ontimeout=us(this.ua,this)):this.A=u5(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){sY(this,s)}};function gdt(e){return Eg&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ve.ua=function(){typeof X4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))};function sY(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hhe(e),_P(e)}function hhe(e){e.F||(e.F=!0,Fi(e,"complete"),Fi(e,"error"))}Ve.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fi(this,"complete"),Fi(this,"abort"),_P(this))};Ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_P(this,!0)),Nr.$.N.call(this)};Ve.La=function(){this.s||(this.G||this.v||this.l?phe(this):this.kb())};Ve.kb=function(){phe(this)};function phe(e){if(e.h&&typeof X4<"u"&&(!e.C[1]||qu(e)!=4||e.da()!=2)){if(e.v&&qu(e)==4)u5(e.La,0,e);else if(Fi(e,"readystatechange"),qu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(nhe)[1]||null;!i&&Dt.self&&Dt.self.location&&(i=Dt.self.location.protocol.slice(0,-1)),r=!pdt.test(i?i.toLowerCase():"")}n=r}if(n)Fi(e,"complete"),Fi(e,"success");else{e.m=6;try{var s=2<qu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",hhe(e)}}finally{_P(e)}}}}function _P(e,t){if(e.g){mhe(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Fi(e,"ready");try{n.onreadystatechange=r}catch{}}}function mhe(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Dt.clearTimeout(e.A),e.A=null)}Ve.isActive=function(){return!!this.g};function qu(e){return e.g?e.g.readyState:0}Ve.da=function(){try{return 2<qu(this)?this.g.status:-1}catch{return-1}};Ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ve.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),hdt(t)}};function oY(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case dhe:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ydt(e){const t={};e=(e.g&&2<=qu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(I_(e[r]))continue;var n=Vft(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}$ft(t,function(r){return r.join(", ")})}Ve.Ia=function(){return this.m};Ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ghe(e){let t="";return e5(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function p5(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ghe(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ir(e,t,n))}function ny(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yhe(e){this.Ga=0,this.j=[],this.l=new fP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ny("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ny("baseRetryDelayMs",5e3,e),this.hb=ny("retryDelaySeedMs",1e4,e),this.eb=ny("forwardChannelMaxRetries",2,e),this.xa=ny("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ohe(e&&e.concurrentRequestLimit),this.Ja=new cdt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ve=yhe.prototype;Ve.ra=8;Ve.H=1;function m5(e){if(vhe(e),e.H==3){var t=e.W++,n=wc(e.I);if(ir(n,"SID",e.K),ir(n,"RID",t),ir(n,"TYPE","terminate"),Q1(e,n),t=new Y1(e,e.l,t),t.L=2,t.A=gP(wc(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Dt.Image&&(new Image().src=t.A,n=!0),n||(t.g=Ihe(t.l,null),t.g.ha(t.A)),t.G=Date.now(),G1(t)}She(e)}function bP(e){e.g&&(y5(e),e.g.cancel(),e.g=null)}function vhe(e){bP(e),e.u&&(Dt.clearTimeout(e.u),e.u=null),TI(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Dt.clearTimeout(e.m),e.m=null)}function wP(e){if(!ahe(e.i)&&!e.m){e.m=!0;var t=e.Na;A_||Bde(),P_||(A_(),P_=!0),o5.add(t,e),e.C=0}}function vdt(e,t){return uhe(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=W1(us(e.Na,e,t),The(e,e.C)),e.C++,!0)}Ve.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Y1(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Nde(s),kde(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=_he(this,i,t),n=wc(this.I),ir(n,"RID",e),ir(n,"CVER",22),this.F&&ir(n,"X-HTTP-Session-Id",this.F),Q1(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ghe(s)))+"&"+t:this.o&&p5(n,this.o,s)),d5(this.i,i),this.bb&&ir(n,"TYPE","init"),this.P?(ir(n,"$req",t),ir(n,"SID","null"),i.aa=!0,ZD(i,n,null)):ZD(i,n,t),this.H=2}}else this.H==3&&(e?aY(this,e):this.j.length==0||ahe(this.i)||aY(this))};function aY(e,t){var n;t?n=t.m:n=e.W++;const r=wc(e.I);ir(r,"SID",e.K),ir(r,"RID",n),ir(r,"AID",e.V),Q1(e,r),e.o&&e.s&&p5(r,e.o,e.s),n=new Y1(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=_he(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),d5(e.i,n),ZD(n,r,t)}function Q1(e,t){e.na&&e5(e.na,function(n,r){ir(t,r,n)}),e.h&&the({},function(n,r){ir(t,r,n)})}function _he(e,t,n){n=Math.min(e.j.length,n);var r=e.h?us(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{fdt(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function bhe(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;A_||Bde(),P_||(A_(),P_=!0),o5.add(t,e),e.A=0}}function g5(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=W1(us(e.Ma,e),The(e,e.A)),e.A++,!0)}Ve.Ma=function(){if(this.u=null,whe(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=W1(us(this.jb,this),e)}};Ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ws(10),bP(this),whe(this))};function y5(e){e.B!=null&&(Dt.clearTimeout(e.B),e.B=null)}function whe(e){e.g=new Y1(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=wc(e.wa);ir(t,"RID","rpc"),ir(t,"SID",e.K),ir(t,"AID",e.V),ir(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ir(t,"TO",e.qa),ir(t,"TYPE","xmlhttp"),Q1(e,t),e.o&&e.s&&p5(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=gP(wc(t)),n.u=null,n.S=!0,Xde(n,e)}Ve.ib=function(){this.v!=null&&(this.v=null,bP(this),g5(this),ws(19))};function TI(e){e.v!=null&&(Dt.clearTimeout(e.v),e.v=null)}function Ehe(e,t){var n=null;if(e.g==t){TI(e),y5(e),e.g=null;var r=2}else if(t$(e.i,t))n=t.F,lhe(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=dP(),Fi(r,new qde(r,n)),wP(e)}else bhe(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&vdt(e,t)||r==2&&g5(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ah(e,5);break;case 4:ah(e,10);break;case 3:ah(e,6);break;default:ah(e,2)}}}function The(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ah(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=us(e.pb,e);n||(n=new gh("//www.google.com/images/cleardot.gif"),Dt.location&&Dt.location.protocol=="http"||wI(n,"https"),gP(n)),ddt(n.toString(),r)}else ws(2);e.H=0,e.h&&e.h.za(t),She(e),vhe(e)}Ve.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ws(2)):(this.l.info("Failed to ping google.com"),ws(1))};function She(e){if(e.H=0,e.ma=[],e.h){const t=che(e.i);(t.length!=0||e.j.length!=0)&&(Xq(e.ma,t),Xq(e.ma,e.j),e.i.i.length=0,J4(e.j),e.j.length=0),e.h.ya()}}function xhe(e,t,n){var r=n instanceof gh?wc(n):new gh(n);if(r.g!="")t&&(r.g=t+"."+r.g),EI(r,r.m);else{var i=Dt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gh(null);r&&wI(s,r),t&&(s.g=t),i&&EI(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ir(r,n,t),ir(r,"VER",e.ra),Q1(e,r),r}function Ihe(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Nr(new yP({ob:n})):new Nr(e.va),t.Oa(e.J),t}Ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function Che(){}Ve=Che.prototype;Ve.Ba=function(){};Ve.Aa=function(){};Ve.za=function(){};Ve.ya=function(){};Ve.isActive=function(){return!0};Ve.Va=function(){};function SI(){if(Eg&&!(10<=Number(Rft)))throw Error("Environmental error: no available transport.")}SI.prototype.g=function(e,t){return new Bo(e,t)};function Bo(e,t){wi.call(this),this.g=new yhe(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!I_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new u0(this)}Si(Bo,wi);Bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ws(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xhe(e,null,e.Y),wP(e)};Bo.prototype.close=function(){m5(this.g)};Bo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=s5(e),e=n);t.j.push(new adt(t.fb++,e)),t.H==3&&wP(t)};Bo.prototype.N=function(){this.g.h=null,delete this.j,m5(this.g),delete this.g,Bo.$.N.call(this)};function Ahe(e){c5.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Si(Ahe,c5);function Phe(){f5.call(this),this.status=1}Si(Phe,f5);function u0(e){this.g=e}Si(u0,Che);u0.prototype.Ba=function(){Fi(this.g,"a")};u0.prototype.Aa=function(e){Fi(this.g,new Ahe(e))};u0.prototype.za=function(e){Fi(this.g,new Phe)};u0.prototype.ya=function(){Fi(this.g,"b")};function _dt(){this.blockSize=-1}function su(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Si(su,_dt);su.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function AR(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}su.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)AR(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){AR(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){AR(this,r),i=0;break}}this.h=i,this.i+=t};su.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function jn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var bdt={};function v5(e){return-128<=e&&128>e?Aft(e,function(t){return new jn([t|0],0>t?-1:0)}):new jn([e|0],0>e?-1:0)}function Yu(e){if(isNaN(e)||!isFinite(e))return $m;if(0>e)return Di(Yu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=n$;return new jn(t,0)}function Ohe(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Di(Ohe(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yu(Math.pow(t,8)),r=$m,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Yu(Math.pow(t,s)),r=r.R(s).add(Yu(o))):(r=r.R(n),r=r.add(Yu(o)))}return r}var n$=4294967296,$m=v5(0),r$=v5(1),uY=v5(16777216);Ve=jn.prototype;Ve.ea=function(){if(sa(this))return-Di(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:n$+r)*t,t*=n$}return e};Ve.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Ql(this))return"0";if(sa(this))return"-"+Di(this).toString(e);for(var t=Yu(Math.pow(e,6)),n=this,r="";;){var i=II(n,t).g;n=xI(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Ql(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ve.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Ql(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function sa(e){return e.h==-1}Ve.X=function(e){return e=xI(this,e),sa(e)?-1:Ql(e)?0:1};function Di(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jn(n,~e.h).add(r$)}Ve.abs=function(){return sa(this)?Di(this):this};Ve.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new jn(n,n[n.length-1]&-2147483648?-1:0)};function xI(e,t){return e.add(Di(t))}Ve.R=function(e){if(Ql(this)||Ql(e))return $m;if(sa(this))return sa(e)?Di(this).R(Di(e)):Di(Di(this).R(e));if(sa(e))return Di(this.R(Di(e)));if(0>this.X(uY)&&0>e.X(uY))return Yu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,Rw(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Rw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Rw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Rw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jn(n,0)};function Rw(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ry(e,t){this.g=e,this.h=t}function II(e,t){if(Ql(t))throw Error("division by zero");if(Ql(e))return new ry($m,$m);if(sa(e))return t=II(Di(e),t),new ry(Di(t.g),Di(t.h));if(sa(t))return t=II(e,Di(t)),new ry(Di(t.g),t.h);if(30<e.g.length){if(sa(e)||sa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=r$,r=t;0>=r.X(e);)n=lY(n),r=lY(r);var i=Ip(n,1),s=Ip(r,1);for(r=Ip(r,2),n=Ip(n,2);!Ql(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ip(r,1),n=Ip(n,1)}return t=xI(e,i.R(t)),new ry(i,t)}for(i=$m;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yu(n),o=s.R(t);sa(o)||0<o.X(e);)n-=r,s=Yu(n),o=s.R(t);Ql(s)&&(s=r$),i=i.add(s),e=xI(e,o)}return new ry(i,e)}Ve.gb=function(e){return II(this,e).h};Ve.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jn(n,this.h&e.h)};Ve.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jn(n,this.h|e.h)};Ve.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jn(n,this.h^e.h)};function lY(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jn(n,e.h)}function Ip(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new jn(i,e.h)}SI.prototype.createWebChannel=SI.prototype.g;Bo.prototype.send=Bo.prototype.u;Bo.prototype.open=Bo.prototype.m;Bo.prototype.close=Bo.prototype.close;hP.NO_ERROR=0;hP.TIMEOUT=8;hP.HTTP_ERROR=6;Yde.COMPLETE="complete";Gde.EventType=q1;q1.OPEN="a";q1.CLOSE="b";q1.ERROR="c";q1.MESSAGE="d";wi.prototype.listen=wi.prototype.O;Nr.prototype.listenOnce=Nr.prototype.P;Nr.prototype.getLastError=Nr.prototype.Sa;Nr.prototype.getLastErrorCode=Nr.prototype.Ia;Nr.prototype.getStatus=Nr.prototype.da;Nr.prototype.getResponseJson=Nr.prototype.Wa;Nr.prototype.getResponseText=Nr.prototype.ja;Nr.prototype.send=Nr.prototype.ha;Nr.prototype.setWithCredentials=Nr.prototype.Oa;su.prototype.digest=su.prototype.l;su.prototype.reset=su.prototype.reset;su.prototype.update=su.prototype.j;jn.prototype.add=jn.prototype.add;jn.prototype.multiply=jn.prototype.R;jn.prototype.modulo=jn.prototype.gb;jn.prototype.compare=jn.prototype.X;jn.prototype.toNumber=jn.prototype.ea;jn.prototype.toString=jn.prototype.toString;jn.prototype.getBits=jn.prototype.D;jn.fromNumber=Yu;jn.fromString=Ohe;var wdt=function(){return new SI},Edt=function(){return dP()},PR=hP,Tdt=Yde,Sdt=ap,cY={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nw=Gde,xdt=Nr,Idt=su,Lm=jn;const fY="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Us.UNAUTHENTICATED=new Us(null),Us.GOOGLE_CREDENTIALS=new Us("google-credentials-uid"),Us.FIRST_PARTY=new Us("first-party-uid"),Us.MOCK_USER=new Us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new sP("@firebase/firestore");function iy(){return Bh.logLevel}function Ue(e,...t){if(Bh.logLevel<=ln.DEBUG){const n=t.map(_5);Bh.debug(`Firestore (${l0}): ${e}`,...n)}}function wl(e,...t){if(Bh.logLevel<=ln.ERROR){const n=t.map(_5);Bh.error(`Firestore (${l0}): ${e}`,...n)}}function D_(e,...t){if(Bh.logLevel<=ln.WARN){const n=t.map(_5);Bh.warn(`Firestore (${l0}): ${e}`,...n)}}function _5(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e="Unexpected state"){const t=`FIRESTORE (${l0}) INTERNAL ASSERTION FAILED: `+e;throw wl(t),new Error(t)}function er(e,t){e||Nt()}function Ut(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ol{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cdt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Adt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Us.UNAUTHENTICATED))}shutdown(){}}class Pdt{constructor(t){this.t=t,this.currentUser=Us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new il;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new il,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new il)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(er(typeof r.accessToken=="string"),new Cdt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return er(t===null||typeof t=="string"),new Us(t)}}class Odt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Us.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rdt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Odt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ndt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kdt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(er(typeof n.token=="string"),this.R=n.token,new Ndt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ddt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Ddt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Pn(e,t){return e<t?-1:e>t?1:0}function Tg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ui(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new ui(0,0))}static max(){return new Lt(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,n,r){n===void 0?n=0:n>t.length&&Nt(),r===void 0?r=t.length-n:r>t.length-n&&Nt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return $_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class sr extends $_{construct(t,n,r){return new sr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sr(n)}static emptyPath(){return new sr([])}}const $dt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends $_{construct(t,n,r){return new $i(t,n,r)}static isValidIdentifier(t){return $dt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(n)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(sr.fromString(t))}static fromName(t){return new pt(sr.fromString(t).popFirst(5))}static empty(){return new pt(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&sr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return sr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new sr(t.slice()))}}function Ldt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new ui(n+1,0):new ui(n,r));return new id(i,pt.empty(),t)}function Mdt(e){return new id(e.readTime,e.key,-1)}class id{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new id(Lt.min(),pt.empty(),-1)}static max(){return new id(Lt.max(),pt.empty(),-1)}}function Fdt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(e.documentKey,t.documentKey),n!==0?n:Pn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jdt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bdt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(e){if(e.code!==Se.FAILED_PRECONDITION||e.message!==jdt)throw e;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.reject(n)}static resolve(t){return new xe((n,r)=>{n(t)})}static reject(t){return new xe((n,r)=>{r(t)})}static waitFor(t){return new xe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=xe.resolve(!1);for(const r of t)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new xe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new xe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new il,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new fv(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=w5(r.target.error);this.V.reject(new fv(t,i))}}static open(t,n,r,i){try{return new b5(n,t.transaction(i,r))}catch(s){throw new fv(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Vdt(n)}}class uh{constructor(t,n,r){this.name=t,this.version=n,this.p=r,uh.S(Zr())===12.2&&wl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),Wd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!iP())return!1;if(uh.C())return!0;const t=Zr(),n=uh.S(t),r=0<n&&n<10,i=uh.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(Ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new fv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ze(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ze(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new fv(t,o))},i.onupgradeneeded=s=>{Ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=b5.open(this.db,t,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),xe.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(Ue("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Udt{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Wd(this.k.delete())}}class fv extends ze{constructor(t,n){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function J1(e){return e.name==="IndexedDbTransactionError"}class Vdt{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Wd(r)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),Wd(this.store.add(t))}get(t){return Wd(this.store.get(t)).next(n=>(n===void 0&&(n=null),Ue("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),Wd(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),Wd(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new xe((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new xe((r,i)=>{n.onerror=s=>{const o=w5(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new xe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Udt(a),l=n(a.primaryKey,a.value,u);if(l instanceof xe){const c=l.catch(f=>(u.done(),xe.reject(f)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>xe.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Wd(e){return new xe((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=w5(r.target.error);n(i)}})}let dY=!1;function w5(e){const t=uh.S(Zr());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dY||(dY=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}E5._e=-1;function EP(e){return e==null}function CI(e){return e===0&&1/e==-1/0}function zdt(e){return typeof e=="number"&&Number.isInteger(e)&&!CI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function c0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nhe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n){this.comparator=t,this.root=n||Ri.EMPTY}insert(t,n){return new br(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kw(this.root,t,this.comparator,!1)}getReverseIterator(){return new kw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kw(this.root,t,this.comparator,!0)}}class kw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ri{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=s??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ri(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ri(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new pY(this.data.getIterator())}getIteratorFrom(t){return new pY(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ji)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ji(this.comparator);return n.data=t,n}}class pY{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new qa([])}unionWith(t){let n=new ji($i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new qa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Tg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class khe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new khe("Invalid base64 string: "+s):s}}(t);return new ds(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ds(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const Hdt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(e){if(er(!!e),typeof e=="string"){let t=0;const n=Hdt.exec(e);if(er(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Kr(e.seconds),nanos:Kr(e.nanos)}}function Kr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Uh(e){return typeof e=="string"?ds.fromBase64String(e):ds.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S5(e){const t=e.mapValue.fields.__previous_value__;return T5(t)?S5(t):t}function L_(e){const t=sd(e.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wdt{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class M_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new M_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof M_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?T5(e)?4:qdt(e)?9007199254740991:10:Nt()}function El(e,t){if(e===t)return!0;const n=Vh(e);if(n!==Vh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return L_(e).isEqual(L_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sd(i.timestampValue),a=sd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Uh(i.bytesValue).isEqual(Uh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Kr(i.geoPointValue.latitude)===Kr(s.geoPointValue.latitude)&&Kr(i.geoPointValue.longitude)===Kr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kr(i.integerValue)===Kr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Kr(i.doubleValue),a=Kr(s.doubleValue);return o===a?CI(o)===CI(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Tg(e.arrayValue.values||[],t.arrayValue.values||[],El);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hY(o)!==hY(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!El(o[u],a[u])))return!1;return!0}(e,t);default:return Nt()}}function F_(e,t){return(e.values||[]).find(n=>El(n,t))!==void 0}function Sg(e,t){if(e===t)return 0;const n=Vh(e),r=Vh(t);if(n!==r)return Pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Kr(s.integerValue||s.doubleValue),u=Kr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return mY(e.timestampValue,t.timestampValue);case 4:return mY(L_(e),L_(t));case 5:return Pn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Uh(s),u=Uh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Pn(a[l],u[l]);if(c!==0)return c}return Pn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pn(Kr(s.latitude),Kr(o.latitude));return a!==0?a:Pn(Kr(s.longitude),Kr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Sg(a[l],u[l]);if(c)return c}return Pn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Dw.mapValue&&o===Dw.mapValue)return 0;if(s===Dw.mapValue)return 1;if(o===Dw.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Pn(u[f],c[f]);if(d!==0)return d;const h=Sg(a[u[f]],l[c[f]]);if(h!==0)return h}return Pn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Nt()}}function mY(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pn(e,t);const n=sd(e),r=sd(t),i=Pn(n.seconds,r.seconds);return i!==0?i:Pn(n.nanos,r.nanos)}function xg(e){return i$(e)}function i$(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=sd(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Uh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=i$(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${i$(n.fields[o])}`;return i+"}"}(e.mapValue):Nt()}function gY(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function s$(e){return!!e&&"integerValue"in e}function x5(e){return!!e&&"arrayValue"in e}function yY(e){return!!e&&"nullValue"in e}function vY(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function NE(e){return!!e&&"mapValue"in e}function dv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return c0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=dv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qdt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t){this.value=t}static empty(){return new oa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!NE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dv(n)}setAll(t){let n=$i.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());NE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return El(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];NE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){c0(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new oa(dv(this.value))}}function Dhe(e){const t=[];return c0(e.fields,(n,r)=>{const i=new $i([n]);if(NE(r)){const s=Dhe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new qa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new os(t,0,Lt.min(),Lt.min(),Lt.min(),oa.empty(),0)}static newFoundDocument(t,n,r,i){return new os(t,1,n,Lt.min(),r,i,0)}static newNoDocument(t,n){return new os(t,2,n,Lt.min(),Lt.min(),oa.empty(),0)}static newUnknownDocument(t,n){return new os(t,3,n,Lt.min(),Lt.min(),oa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=oa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof os&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.position=t,this.inclusive=n}}function _Y(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),n.key):r=Sg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bY(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!El(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ydt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{}class Jr extends $he{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Kdt(t,n,r):n==="array-contains"?new Jdt(t,r):n==="in"?new Zdt(t,r):n==="not-in"?new eht(t,r):n==="array-contains-any"?new tht(t,r):new Jr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Qdt(t,r):new Xdt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sg(n,this.value)):n!==null&&Vh(this.value)===Vh(n)&&this.matchesComparison(Sg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ou extends $he{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ou(t,n)}matches(t){return Lhe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Lhe(e){return e.op==="and"}function Mhe(e){return Gdt(e)&&Lhe(e)}function Gdt(e){for(const t of e.filters)if(t instanceof ou)return!1;return!0}function o$(e){if(e instanceof Jr)return e.field.canonicalString()+e.op.toString()+xg(e.value);if(Mhe(e))return e.filters.map(t=>o$(t)).join(",");{const t=e.filters.map(n=>o$(n)).join(",");return`${e.op}(${t})`}}function Fhe(e,t){return e instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.field.isEqual(i.field)&&El(r.value,i.value)}(e,t):e instanceof ou?function(r,i){return i instanceof ou&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Fhe(o,i.filters[a]),!0):!1}(e,t):void Nt()}function jhe(e){return e instanceof Jr?function(n){return`${n.field.canonicalString()} ${n.op} ${xg(n.value)}`}(e):e instanceof ou?function(n){return n.op.toString()+" {"+n.getFilters().map(jhe).join(" ,")+"}"}(e):"Filter"}class Kdt extends Jr{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Qdt extends Jr{constructor(t,n){super(t,"in",n),this.keys=Bhe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Xdt extends Jr{constructor(t,n){super(t,"not-in",n),this.keys=Bhe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Bhe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class Jdt extends Jr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return x5(n)&&F_(n.arrayValue,this.value)}}class Zdt extends Jr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&F_(this.value.arrayValue,n)}}class eht extends Jr{constructor(t,n){super(t,"not-in",n)}matches(t){if(F_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!F_(this.value.arrayValue,n)}}class tht extends Jr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!x5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>F_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nht{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function wY(e,t=null,n=[],r=[],i=null,s=null,o=null){return new nht(e,t,n,r,i,s,o)}function I5(e){const t=Ut(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>o$(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),EP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>xg(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>xg(r)).join(",")),t.ce=n}return t.ce}function C5(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ydt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fhe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bY(e.startAt,t.startAt)&&bY(e.endAt,t.endAt)}function a$(e){return pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function rht(e,t,n,r,i,s,o,a){return new f0(e,t,n,r,i,s,o,a)}function A5(e){return new f0(e)}function EY(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Uhe(e){return e.collectionGroup!==null}function hv(e){const t=Ut(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ji($i.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new j_(s,r))}),n.has($i.keyField().canonicalString())||t.le.push(new j_($i.keyField(),r))}return t.le}function sl(e){const t=Ut(e);return t.he||(t.he=iht(t,hv(e))),t.he}function iht(e,t){if(e.limitType==="F")return wY(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new j_(i.field,s)});const n=e.endAt?new AI(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new AI(e.startAt.position,e.startAt.inclusive):null;return wY(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function u$(e,t){const n=e.filters.concat([t]);return new f0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function l$(e,t,n){return new f0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function TP(e,t){return C5(sl(e),sl(t))&&e.limitType===t.limitType}function Vhe(e){return`${I5(sl(e))}|lt:${e.limitType}`}function $p(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jhe(i)).join(", ")}]`),EP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xg(i)).join(",")),`Target(${r})`}(sl(e))}; limitType=${e.limitType})`}function SP(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of hv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=_Y(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,hv(r),i)||r.endAt&&!function(o,a,u){const l=_Y(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,hv(r),i))}(e,t)}function sht(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zhe(e){return(t,n)=>{let r=!1;for(const i of hv(e)){const s=oht(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oht(e,t,n){const r=e.field.isKeyField()?pt.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Sg(u,l):Nt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){c0(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Nhe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aht=new br(pt.comparator);function Ec(){return aht}const Hhe=new br(pt.comparator);function xy(...e){let t=Hhe;for(const n of e)t=t.insert(n.key,n);return t}function Whe(e){let t=Hhe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function lh(){return pv()}function qhe(){return pv()}function pv(){return new d0(e=>e.toString(),(e,t)=>e.isEqual(t))}const uht=new br(pt.comparator),lht=new ji(pt.comparator);function rn(...e){let t=lht;for(const n of e)t=t.add(n);return t}const cht=new ji(Pn);function fht(){return cht}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yhe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CI(t)?"-0":t}}function Ghe(e){return{integerValue:""+e}}function dht(e,t){return zdt(t)?Ghe(t):Yhe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this._=void 0}}function hht(e,t,n){return e instanceof B_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T5(s)&&(s=S5(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof U_?Qhe(e,t):e instanceof V_?Xhe(e,t):function(i,s){const o=Khe(i,s),a=TY(o)+TY(i.Ie);return s$(o)&&s$(i.Ie)?Ghe(a):Yhe(i.serializer,a)}(e,t)}function pht(e,t,n){return e instanceof U_?Qhe(e,t):e instanceof V_?Xhe(e,t):n}function Khe(e,t){return e instanceof PI?function(r){return s$(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class B_ extends xP{}class U_ extends xP{constructor(t){super(),this.elements=t}}function Qhe(e,t){const n=Jhe(t);for(const r of e.elements)n.some(i=>El(i,r))||n.push(r);return{arrayValue:{values:n}}}class V_ extends xP{constructor(t){super(),this.elements=t}}function Xhe(e,t){let n=Jhe(t);for(const r of e.elements)n=n.filter(i=>!El(i,r));return{arrayValue:{values:n}}}class PI extends xP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function TY(e){return Kr(e.integerValue||e.doubleValue)}function Jhe(e){return x5(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mht{constructor(t,n){this.field=t,this.transform=n}}function ght(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof U_&&i instanceof U_||r instanceof V_&&i instanceof V_?Tg(r.elements,i.elements,El):r instanceof PI&&i instanceof PI?El(r.Ie,i.Ie):r instanceof B_&&i instanceof B_}(e.transform,t.transform)}class yht{constructor(t,n){this.version=t,this.transformResults=n}}class rc{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rc}static exists(t){return new rc(void 0,t)}static updateTime(t){return new rc(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class IP{}function Zhe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tpe(e.key,rc.none()):new Z1(e.key,e.data,rc.none());{const n=e.data,r=oa.empty();let i=new ji($i.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new up(e.key,r,new qa(i.toArray()),rc.none())}}function vht(e,t,n){e instanceof Z1?function(i,s,o){const a=i.value.clone(),u=xY(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof up?function(i,s,o){if(!kE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xY(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(epe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function mv(e,t,n,r){return e instanceof Z1?function(s,o,a,u){if(!kE(s.precondition,o))return a;const l=s.value.clone(),c=IY(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof up?function(s,o,a,u){if(!kE(s.precondition,o))return a;const l=IY(s.fieldTransforms,u,o),c=o.data;return c.setAll(epe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return kE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function _ht(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Khe(r.transform,i||null);s!=null&&(n===null&&(n=oa.empty()),n.set(r.field,s))}return n||null}function SY(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tg(r,i,(s,o)=>ght(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Z1 extends IP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class up extends IP{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function epe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function xY(e,t,n){const r=new Map;er(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,pht(o,a,n[i]))}return r}function IY(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hht(s,o,t))}return r}class tpe extends IP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bht extends IP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wht{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&vht(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=mv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=mv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=qhe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Zhe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rn())}isEqual(t){return this.batchId===t.batchId&&Tg(this.mutations,t.mutations,(n,r)=>SY(n,r))&&Tg(this.baseMutations,t.baseMutations,(n,r)=>SY(n,r))}}class P5{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){er(t.mutations.length===r.length);let i=function(){return uht}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new P5(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eht{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tht{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr,pn;function Sht(e){switch(e){default:return Nt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function npe(e){if(e===void 0)return wl("GRPC error has no .code"),Se.UNKNOWN;switch(e){case qr.OK:return Se.OK;case qr.CANCELLED:return Se.CANCELLED;case qr.UNKNOWN:return Se.UNKNOWN;case qr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case qr.INTERNAL:return Se.INTERNAL;case qr.UNAVAILABLE:return Se.UNAVAILABLE;case qr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case qr.NOT_FOUND:return Se.NOT_FOUND;case qr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case qr.ABORTED:return Se.ABORTED;case qr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case qr.DATA_LOSS:return Se.DATA_LOSS;default:return Nt()}}(pn=qr||(qr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xht(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iht=new Lm([4294967295,4294967295],0);function CY(e){const t=xht().encode(e),n=new Idt;return n.update(t),new Uint8Array(n.digest())}function AY(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Lm([n,r],0),new Lm([i,s],0)]}class O5{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iy(`Invalid padding: ${n}`);if(r<0)throw new Iy(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Iy(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Iy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Lm.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Lm.fromNumber(r)));return i.compare(Iht)===1&&(i=new Lm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=CY(t),[r,i]=AY(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new O5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=CY(t),[r,i]=AY(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Iy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,eb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new CP(Lt.min(),i,new br(Pn),Ec(),rn())}}class eb{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new eb(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class rpe{constructor(t,n){this.targetId=t,this.fe=n}}class ipe{constructor(t,n,r=ds.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PY{constructor(){this.ge=0,this.pe=RY(),this.ye=ds.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=rn(),n=rn(),r=rn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt()}}),new eb(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=RY()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,er(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Cht{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ec(),this.Qe=OY(),this.Ke=new br(Pn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Nt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(a$(s))if(r===0){const o=new pt(s.path);this.We(n,o,os.newNoDocument(o,Lt.min()))}else er(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Uh(r).toUint8Array()}catch(u){if(u instanceof khe)return D_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new O5(o,i,s)}catch(u){return D_(u instanceof Iy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&a$(a.target)){const u=new pt(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,os.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=rn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new CP(t,n,this.Ke,this.qe,r);return this.qe=Ec(),this.Qe=OY(),this.Ke=new br(Pn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new PY,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ji(Pn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new PY),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function OY(){return new br(pt.comparator)}function RY(){return new br(pt.comparator)}const Aht={asc:"ASCENDING",desc:"DESCENDING"},Pht={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oht={and:"AND",or:"OR"};class Rht{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function c$(e,t){return e.useProto3Json||EP(t)?t:{value:t}}function OI(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function spe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nht(e,t){return OI(e,t.toTimestamp())}function ol(e){return er(!!e),Lt.fromTimestamp(function(n){const r=sd(n);return new ui(r.seconds,r.nanos)}(e))}function R5(e,t){return f$(e,t).canonicalString()}function f$(e,t){const n=function(i){return new sr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ope(e){const t=sr.fromString(e);return er(fpe(t)),t}function d$(e,t){return R5(e.databaseId,t.path)}function OR(e,t){const n=ope(t);if(n.get(1)!==e.databaseId.projectId)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pt(upe(n))}function ape(e,t){return R5(e.databaseId,t)}function kht(e){const t=ope(e);return t.length===4?sr.emptyPath():upe(t)}function h$(e){return new sr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function upe(e){return er(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function NY(e,t,n){return{name:d$(e,t),fields:n.value.mapValue.fields}}function Dht(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(er(c===void 0||typeof c=="string"),ds.fromBase64String(c||"")):(er(c===void 0||c instanceof Uint8Array),ds.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Se.UNKNOWN:npe(l.code);return new ze(c,l.message||"")}(o);n=new ipe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=OR(e,r.document.name),s=ol(r.document.updateTime),o=r.document.createTime?ol(r.document.createTime):Lt.min(),a=new oa({mapValue:{fields:r.document.fields}}),u=os.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new DE(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=OR(e,r.document),s=r.readTime?ol(r.readTime):Lt.min(),o=os.newNoDocument(i,s),a=r.removedTargetIds||[];n=new DE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=OR(e,r.document),s=r.removedTargetIds||[];n=new DE([],s,i,null)}else{if(!("filter"in t))return Nt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Tht(i,s),a=r.targetId;n=new rpe(a,o)}}return n}function $ht(e,t){let n;if(t instanceof Z1)n={update:NY(e,t.key,t.value)};else if(t instanceof tpe)n={delete:d$(e,t.key)};else if(t instanceof up)n={update:NY(e,t.key,t.data),updateMask:Hht(t.fieldMask)};else{if(!(t instanceof bht))return Nt();n={verify:d$(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof B_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof U_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof V_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof PI)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Nt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Nht(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt()}(e,t.precondition)),n}function Lht(e,t){return e&&e.length>0?(er(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ol(i.updateTime):ol(s);return o.isEqual(Lt.min())&&(o=ol(s)),new yht(o,i.transformResults||[])}(n,t))):[]}function Mht(e,t){return{documents:[ape(e,t.path)]}}function Fht(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ape(e,i);const s=function(l){if(l.length!==0)return cpe(ou.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Lp(d.field),direction:Uht(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=c$(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:i}}function jht(e){let t=kht(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){er(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=lpe(f);return d instanceof ou&&Mhe(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new j_(Mp(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,EP(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new AI(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new AI(h,d)}(n.endAt)),rht(t,i,o,s,a,"F",u,l)}function Bht(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function lpe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mp(n.unaryFilter.field);return Jr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mp(n.unaryFilter.field);return Jr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mp(n.unaryFilter.field);return Jr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mp(n.unaryFilter.field);return Jr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(e):e.fieldFilter!==void 0?function(n){return Jr.create(Mp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ou.create(n.compositeFilter.filters.map(r=>lpe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(e):Nt()}function Uht(e){return Aht[e]}function Vht(e){return Pht[e]}function zht(e){return Oht[e]}function Lp(e){return{fieldPath:e.canonicalString()}}function Mp(e){return $i.fromServerFormat(e.fieldPath)}function cpe(e){return e instanceof Jr?function(n){if(n.op==="=="){if(vY(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NAN"}};if(yY(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vY(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NOT_NAN"}};if(yY(n.value))return{unaryFilter:{field:Lp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lp(n.field),op:Vht(n.op),value:n.value}}}(e):e instanceof ou?function(n){const r=n.getFilters().map(i=>cpe(i));return r.length===1?r[0]:{compositeFilter:{op:zht(n.op),filters:r}}}(e):Nt()}function Hht(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fpe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,r,i,s=Lt.min(),o=Lt.min(),a=ds.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new bf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wht{constructor(t){this.ct=t}}function qht(e){const t=jht({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?l$(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yht{constructor(){this._n=new Ght}addToCollectionParentIndex(t,n){return this._n.add(n),xe.resolve()}getCollectionParents(t,n){return xe.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return xe.resolve()}deleteFieldIndex(t,n){return xe.resolve()}deleteAllFieldIndexes(t){return xe.resolve()}createTargetIndexes(t,n){return xe.resolve()}getDocumentsMatchingTarget(t,n){return xe.resolve(null)}getIndexType(t,n){return xe.resolve(0)}getFieldIndexes(t,n){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,n){return xe.resolve(id.min())}getMinOffsetFromCollectionGroup(t,n){return xe.resolve(id.min())}updateCollectionGroup(t,n,r){return xe.resolve()}updateIndexEntries(t,n){return xe.resolve()}}class Ght{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ji(sr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ji(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ig(0)}static Bn(){return new Ig(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kht{constructor(){this.changes=new d0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,os.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qht{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xht{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&mv(r.mutation,i,qa.empty(),ui.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,rn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=rn()){const i=lh();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=xy();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=lh();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,rn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ec();const o=pv(),a=function(){return pv()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof up)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),mv(c.mutation,l,c.mutation.getFieldMask(),ui.now())):o.set(l.key,qa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Qht(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=pv();let i=new br((o,a)=>o-a),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||qa.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||rn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=qhe();c.forEach(d=>{if(!s.has(d)){const h=Zhe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Uhe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):xe.resolve(lh());let a=-1,u=s;return o.next(l=>xe.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,rn())).next(c=>({batchId:a,changes:Whe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(r=>{let i=xy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=xy();return this.indexManager.getCollectionParents(t,s).next(a=>xe.forEach(a,u=>{const l=function(f,d){return new f0(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,os.newInvalidDocument(c)))});let a=xy();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&mv(c.mutation,l,qa.empty(),ui.now()),SP(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jht{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return xe.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ol(i.createTime)}}(n)),xe.resolve()}getNamedQuery(t,n){return xe.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:qht(i.bundledQuery),readTime:ol(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zht{constructor(){this.overlays=new br(pt.comparator),this.hr=new Map}getOverlay(t,n){return xe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=lh();return xe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),xe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),xe.resolve()}getOverlaysForCollection(t,n,r){const i=lh(),s=n.length+1,o=new pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return xe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new br((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=lh(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=lh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return xe.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Eht(n,r));let s=this.hr.get(n);s===void 0&&(s=rn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.Pr=new ji(mi.Ir),this.Tr=new ji(mi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new mi(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new mi(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new pt(new sr([])),r=new mi(n,t),i=new mi(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new pt(new sr([])),r=new mi(n,t),i=new mi(n,t+1);let s=rn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new mi(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class mi{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return pt.comparator(t.key,n.key)||Pn(t.pr,n.pr)}static Er(t,n){return Pn(t.pr,n.pr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ept{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ji(mi.Ir)}checkEmpty(t){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wht(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new mi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(t,n){return xe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new mi(n,0),i=new mi(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ji(Pn);return n.forEach(i=>{const s=new mi(i,0),o=new mi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),xe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;pt.isDocumentKey(s)||(s=s.child(""));const o=new mi(new pt(s),0);let a=new ji(Pn);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),xe.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){er(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return xe.forEach(n.mutations,i=>{const s=new mi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new mi(n,0),i=this.wr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,xe.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpt{constructor(t){this.vr=t,this.docs=function(){return new br(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():os.newInvalidDocument(n))}getEntries(t,n){let r=Ec();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():os.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ec();const o=n.path,a=new pt(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Fdt(Mdt(c),r)<=0||(i.has(c.key)||SP(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Nt()}Fr(t,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new npt(this)}getSize(t){return xe.resolve(this.size)}}class npt extends Kht{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),xe.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpt{constructor(t){this.persistence=t,this.Mr=new d0(n=>I5(n),C5),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new N5,this.targetCount=0,this.Br=Ig.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),xe.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new Ig(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,xe.resolve()}updateTargetData(t,n){return this.qn(n),xe.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return xe.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),xe.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),xe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return xe.resolve(r)}containsKey(t,n){return xe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipt{constructor(t,n){this.Lr={},this.overlays={},this.kr=new E5(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new rpt(this),this.indexManager=new Yht,this.remoteDocumentCache=function(i){return new tpt(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Wht(n),this.$r=new Jht(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Zht,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new ept(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ue("MemoryPersistence","Starting transaction:",t);const i=new spt(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class spt extends Bdt{constructor(t){super(),this.currentSequenceNumber=t}}class k5{constructor(t){this.persistence=t,this.zr=new N5,this.jr=null}static Hr(t){return new k5(t)}get Jr(){if(this.jr)return this.jr;throw Nt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),xe.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),xe.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Lt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return xe.or([()=>xe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=rn(),i=rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D5(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class opt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class apt{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return zut()?8:uh.v(Zr())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new opt;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(iy()<=ln.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",$p(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xe.resolve()):(iy()<=ln.DEBUG&&Ue("QueryEngine","Query:",$p(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(iy()<=ln.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",$p(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sl(n))):xe.resolve())}ji(t,n){if(EY(n))return xe.resolve(null);let r=sl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=l$(n,null,"F"),r=sl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=rn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,l$(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return EY(n)||i.isEqual(Lt.min())?xe.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?xe.resolve(null):(iy()<=ln.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$p(n)),this.es(t,o,n,Ldt(i,-1)).next(a=>a))})}Zi(t,n){let r=new ji(zhe(t));return n.forEach((i,s)=>{SP(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return iy()<=ln.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",$p(n)),this.zi.getDocumentsMatchingQuery(t,n,id.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upt{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new br(Pn),this.rs=new d0(s=>I5(s),C5),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xht(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function lpt(e,t,n,r){return new upt(e,t,n,r)}async function dpe(e,t){const n=Ut(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rn();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function cpt(e,t){const n=Ut(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(g=>{const y=l.docVersions.get(p);er(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function hpe(e){const t=Ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function fpt(e,t){const n=Ut(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(ds.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=Ec(),l=rn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(dpt(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(Lt.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function dpt(e,t,n){let r=rn(),i=rn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ec();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Lt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function hpt(e,t){const n=Ut(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function ppt(e,t){const n=Ut(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,xe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new bf(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function p$(e,t,n){const r=Ut(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!J1(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function kY(e,t,n){const r=Ut(e);let i=Lt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Ut(u),d=f.rs.get(c);return d!==void 0?xe.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,sl(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Lt.min(),n?s:rn())).next(a=>(mpt(r,sht(t),a),{documents:a,hs:s})))}function mpt(e,t,n){let r=e.ss.get(t)||Lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class DY{constructor(){this.activeTargetIds=fht()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gpt{constructor(){this.no=new DY,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new DY,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ypt{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $w=null;function RR(){return $w===null?$w=function(){return 268435456+Math.round(2147483648*Math.random())}():$w++,"0x"+$w.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vpt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pt{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class bpt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=RR(),u=this.bo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw D_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+l0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=vpt[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=RR();return new Promise((o,a)=>{const u=new xdt;u.setWithCredentials(!0),u.listenOnce(Tdt.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case PR.NO_ERROR:const c=u.getResponseJson();Ue(Zi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case PR.TIMEOUT:Ue(Zi,`RPC '${t}' ${s} timed out`),a(new ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case PR.HTTP_ERROR:const f=u.getStatus();if(Ue(Zi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(m)>=0?m:Se.UNKNOWN}(h.status);a(new ze(p,h.message))}else a(new ze(Se.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ze(Se.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ue(Zi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ue(Zi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=RR(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=wdt(),a=Edt(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ue(Zi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new _pt({lo:y=>{h?Ue(Zi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ue(Zi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ue(Zi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},ho:()=>f.close()}),g=(y,m,v)=>{y.listen(m,_=>{try{v(_)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Nw.EventType.OPEN,()=>{h||Ue(Zi,`RPC '${t}' stream ${i} transport opened.`)}),g(f,Nw.EventType.CLOSE,()=>{h||(h=!0,Ue(Zi,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),g(f,Nw.EventType.ERROR,y=>{h||(h=!0,D_(Zi,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new ze(Se.UNAVAILABLE,"The operation could not be completed")))}),g(f,Nw.EventType.MESSAGE,y=>{var m;if(!h){const v=y.data[0];er(!!v);const _=v,T=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(T){Ue(Zi,`RPC '${t}' stream ${i} received error:`,T);const x=T.status;let w=function(k){const D=qr[k];if(D!==void 0)return npe(D)}(x),S=T.message;w===void 0&&(w=Se.INTERNAL,S="Unknown error status: "+x+" with message "+T.message),h=!0,p.Vo(new ze(w,S)),f.close()}else Ue(Zi,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),g(a,Sdt.STAT_EVENT,y=>{y.stat===cY.PROXY?Ue(Zi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===cY.NOPROXY&&Ue(Zi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function NR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e){return new Rht(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ppe(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(wl(n.toString()),wl("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wpt extends mpe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=Dht(this.serializer,t),r=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?ol(o.readTime):Lt.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=h$(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=a$(u)?{documents:Mht(s,u)}:{query:Fht(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=spe(s,o.resumeToken);const l=c$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=OI(s,o.snapshotVersion.toTimestamp());const l=c$(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Bht(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=h$(this.serializer),n.removeTarget=t,this.t_(n)}}class Ept extends mpe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(er(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=Lht(t.writeResults,t.commitTime),r=ol(t.commitTime);return this.listener.T_(r,n)}return er(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=h$(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>$ht(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tpt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,f$(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Se.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,f$(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Se.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Spt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(wl(n),this.g_=!1):Ue("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpt{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{lp(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ut(u);l.v_.add(4),await nb(l),l.x_.set("Unknown"),l.v_.delete(4),await tb(l)}(this))})}),this.x_=new Spt(r,i)}}async function tb(e){if(lp(e))for(const t of e.F_)await t(!0)}async function nb(e){for(const t of e.F_)await t(!1)}function gpe(e,t){const n=Ut(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),M5(n)?L5(n):h0(n).Jo()&&$5(n,t))}function ype(e,t){const n=Ut(e),r=h0(n);n.C_.delete(t),r.Jo()&&vpe(n,t),n.C_.size===0&&(r.Jo()?r.Xo():lp(n)&&n.x_.set("Unknown"))}function $5(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}h0(e).c_(t)}function vpe(e,t){e.O_.Oe(t),h0(e).l_(t)}function L5(e){e.O_=new Cht({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),h0(e).start(),e.x_.p_()}function M5(e){return lp(e)&&!h0(e).Ho()&&e.C_.size>0}function lp(e){return Ut(e).v_.size===0}function _pe(e){e.O_=void 0}async function Ipt(e){e.C_.forEach((t,n)=>{$5(e,t)})}async function Cpt(e,t){_pe(e),M5(e)?(e.x_.S_(t),L5(e)):e.x_.set("Unknown")}async function Apt(e,t,n){if(e.x_.set("Online"),t instanceof ipe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await RI(e,r)}else if(t instanceof DE?e.O_.$e(t):t instanceof rpe?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Lt.min()))try{const r=await hpe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(ds.EMPTY_BYTE_STRING,c.snapshotVersion)),vpe(s,u);const f=new bf(c.target,u,l,c.sequenceNumber);$5(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await RI(e,r)}}async function RI(e,t,n){if(!J1(t))throw t;e.v_.add(1),await nb(e),e.x_.set("Offline"),n||(n=()=>hpe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await tb(e)})}function bpe(e,t){return t().catch(n=>RI(e,n,t))}async function PP(e){const t=Ut(e),n=od(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Ppt(t);)try{const i=await hpt(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,Opt(t,i)}catch(i){await RI(t,i)}wpe(t)&&Epe(t)}function Ppt(e){return lp(e)&&e.D_.length<10}function Opt(e,t){e.D_.push(t);const n=od(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function wpe(e){return lp(e)&&!od(e).Ho()&&e.D_.length>0}function Epe(e){od(e).start()}async function Rpt(e){od(e).d_()}async function Npt(e){const t=od(e);for(const n of e.D_)t.I_(n.mutations)}async function kpt(e,t,n){const r=e.D_.shift(),i=P5.from(r,t,n);await bpe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await PP(e)}async function Dpt(e,t){t&&od(e).P_&&await async function(r,i){if(function(o){return Sht(o)&&o!==Se.ABORTED}(i.code)){const s=r.D_.shift();od(r).Zo(),await bpe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await PP(r)}}(e,t),wpe(e)&&Epe(e)}async function LY(e,t){const n=Ut(e);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=lp(n);n.v_.add(3),await nb(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await tb(n)}async function $pt(e,t){const n=Ut(e);t?(n.v_.delete(2),await tb(n)):t||(n.v_.add(2),await nb(n),n.x_.set("Unknown"))}function h0(e){return e.N_||(e.N_=function(n,r,i){const s=Ut(n);return s.R_(),new wpt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Ipt.bind(null,e),To:Cpt.bind(null,e),u_:Apt.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),M5(e)?L5(e):e.x_.set("Unknown")):(await e.N_.stop(),_pe(e))})),e.N_}function od(e){return e.B_||(e.B_=function(n,r,i){const s=Ut(n);return s.R_(),new Ept(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Rpt.bind(null,e),To:Dpt.bind(null,e),E_:Npt.bind(null,e),T_:kpt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await PP(e)):(await e.B_.stop(),e.D_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new F5(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j5(e,t){if(wl("AsyncQueue",`${t}: ${e}`),J1(e))return new ze(Se.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=xy(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new Mm(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mm)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Mm;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(){this.L_=new br(pt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Nt():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Cg{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cg(t,n,Mm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&TP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpt{constructor(){this.q_=void 0,this.Q_=[]}}class Mpt{constructor(){this.queries=new d0(t=>Vhe(t),TP),this.onlineState="Unknown",this.K_=new Set}}async function Tpe(e,t){const n=Ut(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Lpt),i)try{s.q_=await n.onListen(r)}catch(o){const a=j5(o,`Initialization of query '${$p(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&B5(n)}async function Spe(e,t){const n=Ut(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Fpt(e,t){const n=Ut(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&B5(n)}function jpt(e,t,n){const r=Ut(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function B5(e){e.K_.forEach(t=>{t.next()})}class xpe{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Cg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipe{constructor(t){this.key=t}}class Cpe{constructor(t){this.key=t}}class Bpt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=rn(),this.mutatedKeys=rn(),this.ua=zhe(t),this.ca=new Mm(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new MY,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=SP(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this.ua(h,u)>0||l&&this.ua(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return g(h)-g(p)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new Cg(this.query,t.ca,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new MY,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=rn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new Cpe(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new Ipe(r))}),n}Ra(t){this.oa=t.hs,this.aa=rn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Cg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Upt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Vpt{constructor(t){this.key=t,this.ma=!1}}class zpt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new d0(a=>Vhe(a),TP),this.pa=new Map,this.ya=new Set,this.wa=new br(pt.comparator),this.Sa=new Map,this.ba=new N5,this.Da={},this.Ca=new Map,this.va=Ig.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Hpt(e,t){const n=emt(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await ppt(n.localStore,sl(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Wpt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&gpe(n.remoteStore,o)}return i}async function Wpt(e,t,n,r,i){e.Ma=(f,d,h)=>async function(g,y,m,v){let _=y.view.ha(m);_.Xi&&(_=await kY(g.localStore,y.query,!1).then(({documents:S})=>y.view.ha(S,_)));const T=v&&v.targetChanges.get(y.targetId),x=v&&v.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(_,g.isPrimaryClient,T,x);return jY(g,y.targetId,w.da),w.snapshot}(e,f,d,h);const s=await kY(e.localStore,t,!0),o=new Bpt(t,s.hs),a=o.ha(s.documents),u=eb.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);jY(e,n,l.da);const c=new Upt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function qpt(e,t){const n=Ut(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!TP(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await p$(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ype(n.remoteStore,r.targetId),m$(n,r.targetId)}).catch(X1)):(m$(n,r.targetId),await p$(n.localStore,r.targetId,!0))}async function Ypt(e,t,n){const r=tmt(e);try{const i=await function(o,a){const u=Ut(o),l=ui.now(),c=a.reduce((h,p)=>h.add(p.key),rn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ec(),g=rn();return u.os.getEntries(h,c).next(y=>{p=y,p.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const v of a){const _=_ht(v,f.get(v.key).overlayedDocument);_!=null&&m.push(new up(v.key,_,Dhe(_.value.mapValue),rc.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:Whe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new br(Pn)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await rb(r,i.changes),await PP(r.remoteStore)}catch(i){const s=j5(i,"Failed to persist write");n.reject(s)}}async function Ape(e,t){const n=Ut(e);try{const r=await fpt(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?er(o.ma):i.removedDocuments.size>0&&(er(o.ma),o.ma=!1))}),await rb(n,r,t)}catch(r){await X1(r)}}function FY(e,t,n){const r=Ut(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ut(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(l=!0)}),l&&B5(u)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gpt(e,t,n){const r=Ut(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new br(pt.comparator);o=o.insert(s,os.newNoDocument(s,Lt.min()));const a=rn().add(s),u=new CP(Lt.min(),new Map,new br(Pn),o,a);await Ape(r,u),r.wa=r.wa.remove(s),r.Sa.delete(t),U5(r)}else await p$(r.localStore,t,!1).then(()=>m$(r,t,n)).catch(X1)}async function Kpt(e,t){const n=Ut(e),r=t.batch.batchId;try{const i=await cpt(n.localStore,t);Ope(n,r,null),Ppe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rb(n,i)}catch(i){await X1(i)}}async function Qpt(e,t,n){const r=Ut(e);try{const i=await function(o,a){const u=Ut(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(er(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Ope(r,t,n),Ppe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rb(r,i)}catch(i){await X1(i)}}function Ppe(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function Ope(e,t,n){const r=Ut(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function m$(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||Rpe(e,r)})}function Rpe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(ype(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),U5(e))}function jY(e,t,n){for(const r of n)r instanceof Ipe?(e.ba.addReference(r.key,t),Xpt(e,r)):r instanceof Cpe?(Ue("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Rpe(e,r.key)):Nt()}function Xpt(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ue("SyncEngine","New document in limbo: "+n),e.ya.add(r),U5(e))}function U5(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new pt(sr.fromString(t)),r=e.va.next();e.Sa.set(r,new Vpt(n)),e.wa=e.wa.insert(n,r),gpe(e.remoteStore,new bf(sl(A5(n.path)),r,"TargetPurposeLimboResolution",E5._e))}}async function rb(e,t,n){const r=Ut(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=D5.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=Ut(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>xe.forEach(l,d=>xe.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>xe.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!J1(f))throw f;Ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,g)}}}(r.localStore,s))}async function Jpt(e,t){const n=Ut(e);if(!n.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const r=await dpe(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new ze(Se.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rb(n,r.us)}}function Zpt(e,t){const n=Ut(e),r=n.Sa.get(t);if(r&&r.ma)return rn().add(r.key);{let i=rn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function emt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ape.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zpt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gpt.bind(null,t),t.fa.u_=Fpt.bind(null,t.eventManager),t.fa.xa=jpt.bind(null,t.eventManager),t}function tmt(e){const t=Ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kpt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qpt.bind(null,t),t}class BY{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=AP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return lpt(this.persistence,new apt,t.initialUser,this.serializer)}createPersistence(t){return new ipt(k5.Hr,this.serializer)}createSharedClientState(t){return new gpt}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nmt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FY(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jpt.bind(null,this.syncEngine),await $pt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Mpt}()}createDatastore(t){const n=AP(t.databaseInfo.databaseId),r=function(s){return new bpt(s)}(t.databaseInfo);return function(s,o,a,u){return new Tpt(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new xpt(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>FY(this.syncEngine,n,0),function(){return $Y.D()?new $Y:new ypt}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new zpt(i,s,o,a,u,l);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Ut(r);Ue("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await nb(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):wl("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rmt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Us.UNAUTHENTICATED,this.clientId=Rhe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=j5(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function kR(e,t){e.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dpe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function UY(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kpe(e);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>LY(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>LY(t.remoteStore,i)),e._onlineComponents=t}function imt(e){return e.name==="FirebaseError"?e.code===Se.FAILED_PRECONDITION||e.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function kpe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await kR(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!imt(n))throw n;D_("Error using user provided cache. Falling back to memory cache: "+n),await kR(e,new BY)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await kR(e,new BY);return e._offlineComponents}async function V5(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await UY(e,e._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await UY(e,new nmt))),e._onlineComponents}function smt(e){return kpe(e).then(t=>t.persistence)}function omt(e){return V5(e).then(t=>t.remoteStore)}function amt(e){return V5(e).then(t=>t.syncEngine)}async function Dpe(e){const t=await V5(e),n=t.eventManager;return n.onListen=Hpt.bind(null,t.syncEngine),n.onUnlisten=qpt.bind(null,t.syncEngine),n}function umt(e){return e.asyncQueue.enqueue(async()=>{const t=await smt(e),n=await omt(e);return t.setNetworkEnabled(!0),function(i){const s=Ut(i);return s.v_.delete(0),tb(s)}(n)})}function lmt(e,t,n={}){const r=new il;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Npe({next:d=>{o.enqueueAndForget(()=>Spe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new xpe(A5(a.path),c,{includeMetadataChanges:!0,Z_:!0});return Tpe(s,f)}(await Dpe(e),e.asyncQueue,t,n,r)),r.promise}function cmt(e,t,n={}){const r=new il;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Npe({next:d=>{o.enqueueAndForget(()=>Spe(s,f)),d.fromCache&&u.source==="server"?l.reject(new ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new xpe(a,c,{includeMetadataChanges:!0,Z_:!0});return Tpe(s,f)}(await Dpe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $pe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lpe(e,t,n){if(!n)throw new ze(Se.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fmt(e,t,n,r){if(t===!0&&r===!0)throw new ze(Se.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function zY(e){if(!pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function HY(e){if(pt.isDocumentKey(e))throw new ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function OP(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Nt()}function zh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OP(e);throw new ze(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fmt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$pe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class z5{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WY(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Adt;switch(r.type){case"firstParty":return new Rdt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VY.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),VY.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cp(this.firestore,t,this._query)}}class ao{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ao(this.firestore,t,this._key)}}class jf extends cp{constructor(t,n,r){super(t,n,A5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ao(this.firestore,null,new pt(t))}withConverter(t){return new jf(this.firestore,t,this._path)}}function DR(e,t,...n){if(e=Ui(e),Lpe("collection","path",t),e instanceof z5){const r=sr.fromString(t,...n);return HY(r),new jf(e,null,r)}{if(!(e instanceof ao||e instanceof jf))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return HY(r),new jf(e.firestore,null,r)}}function Ls(e,t,...n){if(e=Ui(e),arguments.length===1&&(t=Rhe.newId()),Lpe("doc","path",t),e instanceof z5){const r=sr.fromString(t,...n);return zY(r),new ao(e,null,new pt(r))}{if(!(e instanceof ao||e instanceof jf))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return zY(r),new ao(e.firestore,e instanceof jf?e.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dmt{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ppe(this,"async_queue_retry"),this._u=()=>{const n=NR();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=NR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=NR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new il;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!J1(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=F5.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Nt()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class ib extends z5{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new dmt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mpe(this),this._firestoreClient.terminate()}}function hmt(e,t,n){n||(n="(default)");const r=o0(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(S_(s,t))return i;throw new ze(Se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ze(Se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function RP(e){return e._firestoreClient||Mpe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mpe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Wdt(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,$pe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new rmt(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pmt(e){return umt(RP(e=zh(e,ib)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ag(ds.fromBase64String(t))}catch(n){throw new ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ag(ds.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mmt=/^__.*__$/;class gmt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new up(t,this.data,this.fieldMask,n,this.fieldTransforms):new Z1(t,this.data,n,this.fieldTransforms)}}function Fpe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class Y5{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new Y5(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return NI(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(Fpe(this.du)&&mmt.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class ymt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||AP(t)}Su(t,n,r,i=!1){return new Y5({du:t,methodName:n,wu:r,path:$i.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jpe(e){const t=e._freezeSettings(),n=AP(e._databaseId);return new ymt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vmt(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);Vpe("Data must be an object, but it was:",o,r);const a=Bpe(r,o);let u,l;if(s.merge)u=new qa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=bmt(t,f,n);if(!o.contains(d))throw new ze(Se.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Emt(c,d)||c.push(d)}u=new qa(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new gmt(new oa(a),u,l)}class G5 extends W5{_toFieldTransform(t){return new mht(t.path,new B_)}isEqual(t){return t instanceof G5}}function _mt(e,t,n,r=!1){return K5(n,e.Su(r?4:3,t))}function K5(e,t){if(Upe(e=Ui(e)))return Vpe("Unsupported field value:",t,e),Bpe(e,t);if(e instanceof W5)return function(r,i){if(!Fpe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=K5(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dht(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ui.fromDate(r);return{timestampValue:OI(i.serializer,s)}}if(r instanceof ui){const s=new ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:OI(i.serializer,s)}}if(r instanceof q5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ag)return{bytesValue:spe(i.serializer,r._byteString)};if(r instanceof ao){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R5(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${OP(r)}`)}(e,t)}function Bpe(e,t){const n={};return Nhe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):c0(e,(r,i)=>{const s=K5(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Upe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ui||e instanceof q5||e instanceof Ag||e instanceof ao||e instanceof W5)}function Vpe(e,t,n){if(!Upe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=OP(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function bmt(e,t,n){if((t=Ui(t))instanceof H5)return t._internalPath;if(typeof t=="string")return zpe(e,t);throw NI("Field path arguments must be of type string or ",e,!1,void 0,n)}const wmt=new RegExp("[~\\*/\\[\\]]");function zpe(e,t,n){if(t.search(wmt)>=0)throw NI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new H5(...t.split("."))._internalPath}catch{throw NI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function NI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(Se.INVALID_ARGUMENT,a+e+u)}function Emt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Tmt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Q5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tmt extends Hpe{data(){return super.data()}}function Q5(e,t){return typeof t=="string"?zpe(e,t):t instanceof H5?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Smt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X5{}class Wpe extends X5{}function xmt(e,t,...n){let r=[];t instanceof X5&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Z5).length,a=s.filter(u=>u instanceof J5).length;if(o>1||o>0&&a>0)throw new ze(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class J5 extends Wpe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new J5(t,n,r)}_apply(t){const n=this._parse(t);return qpe(t._query,n),new cp(t.firestore,t.converter,u$(t._query,n))}_parse(t){const n=jpe(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YY(f,c);const h=[];for(const p of f)h.push(qY(u,s,p));d={arrayValue:{values:h}}}else d=qY(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YY(f,c),d=_mt(a,o,f,c==="in"||c==="not-in");return Jr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Z5 extends X5{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Z5(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ou.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)qpe(o,u),o=u$(o,u)}(t._query,n),new cp(t.firestore,t.converter,u$(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eF extends Wpe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new eF(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new j_(s,o)}(t._query,this._field,this._direction);return new cp(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new f0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Imt(e,t="asc"){const n=t,r=Q5("orderBy",e);return eF._create(r,n)}function qY(e,t,n){if(typeof(n=Ui(n))=="string"){if(n==="")throw new ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uhe(t)&&n.indexOf("/")!==-1)throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sr.fromString(n));if(!pt.isDocumentKey(r))throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gY(e,new pt(r))}if(n instanceof ao)return gY(e,n._key);throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OP(n)}.`)}function YY(e,t){if(!Array.isArray(e)||e.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qpe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Cmt{convertValue(t,n="none"){switch(Vh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Uh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Nt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return c0(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new q5(Kr(t.latitude),Kr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=S5(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(L_(t));default:return null}}convertTimestamp(t){const n=sd(t);return new ui(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=sr.fromString(t);er(fpe(r));const i=new M_(r.get(1),r.get(3)),s=new pt(r.popFirst(5));return i.isEqual(n)||wl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Amt(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ype extends Hpe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $E(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Q5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $E extends Ype{data(t={}){return super.data(t)}}class Pmt{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new $E(this._firestore,this._userDataWriter,r.key,r,new Cy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new $E(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new $E(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Omt(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Omt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e){e=zh(e,ao);const t=zh(e.firestore,ib);return lmt(RP(t),e._key).then(n=>Nmt(t,e,n))}class Gpe extends Cmt{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ag(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ao(this.firestore,null,n)}}function GY(e){e=zh(e,cp);const t=zh(e.firestore,ib),n=RP(t),r=new Gpe(t);return Smt(e._query),cmt(n,e._query).then(i=>new Pmt(t,r,e,i))}function Cd(e,t,n){e=zh(e,ao);const r=zh(e.firestore,ib),i=Amt(e.converter,t,n);return Rmt(r,[vmt(jpe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,rc.none())])}function Rmt(e,t){return function(r,i){const s=new il;return r.asyncQueue.enqueueAndForget(async()=>Ypt(await amt(r),i,s)),s.promise}(RP(e),t)}function Nmt(e,t,n){const r=n.docs.get(t._key),i=new Gpe(e);return new Ype(e,i,t._key,r,new Cy(n.hasPendingWrites,n.fromCache),t.converter)}function kmt(){return new G5("serverTimestamp")}(function(t,n=!0){(function(i){l0=i})(op),bc(new bl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ib(new Pdt(r.getProvider("auth-internal")),new kdt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xa(fY,"4.4.2",t),Xa(fY,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=new Map,Kpe={activated:!1,tokenObservers:[]},Dmt={initialized:!1,enabled:!1};function li(e){return g$.get(e)||Object.assign({},Kpe)}function $mt(e,t){return g$.set(e,t),g$.get(e)}function NP(){return Dmt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qpe="https://content-firebaseappcheck.googleapis.com/v1",Lmt="exchangeRecaptchaV3Token",Mmt="exchangeDebugToken",KY={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Fmt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jmt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new T_,this.pending.promise.catch(n=>{}),await Bmt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new T_,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Bmt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Umt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},eo=new s0("appCheck","AppCheck",Umt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function tF(e){if(!li(e).activated)throw eo.create("use-before-activation",{appName:e.name})}function Xpe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Lw(n)+"d:"),r&&(o+=Lw(r)+"h:"),o+=Lw(i)+"m:"+Lw(s)+"s",o}function Lw(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw eo.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw eo.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw eo.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Vmt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Qpe}/projects/${n}/apps/${r}:${Lmt}?key=${i}`,body:{recaptcha_v3_token:t}}}function Jpe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Qpe}/projects/${n}/apps/${r}:${Mmt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zmt="firebase-app-check-database",Hmt=1,z_="firebase-app-check-store",Zpe="debug-token";let Mw=null;function eme(){return Mw||(Mw=new Promise((e,t)=>{try{const n=indexedDB.open(zmt,Hmt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(eo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(z_,{keyPath:"compositeKey"})}}}catch(n){t(eo.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Mw)}function Wmt(e){return nme(rme(e))}function qmt(e,t){return tme(rme(e),t)}function Ymt(e){return tme(Zpe,e)}function Gmt(){return nme(Zpe)}async function tme(e,t){const r=(await eme()).transaction(z_,"readwrite"),s=r.objectStore(z_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(eo.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function nme(e){const n=(await eme()).transaction(z_,"readonly"),i=n.objectStore(z_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(eo.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function rme(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new sP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kmt(e){if(iP()){let t;try{t=await Wmt(e)}catch(n){H_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function $R(e,t){return iP()?qmt(e,t).catch(n=>{H_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Qmt(){let e;try{e=await Gmt()}catch{}if(e)return e;{const t=Jut();return Ymt(t).catch(n=>H_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return NP().enabled}async function iF(){const e=NP();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Xmt(){const e=nde(),t=NP();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new T_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Qmt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jmt={error:"UNKNOWN_ERROR"};function Zmt(e){return z4.encodeString(JSON.stringify(e),!1)}async function y$(e,t=!1){const n=e.app;tF(n);const r=li(n);let i=r.token,s;if(i&&!am(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(am(u)?i=u:await $R(n,void 0))}if(!t&&i&&am(i))return{token:i.token};let o=!1;if(rF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nF(Jpe(n,await iF()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await $R(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await li(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?H_.warn(u.message):H_.error(u),s=u}let a;return i?s?am(i)?a={token:i.token,internalError:s}:a=JY(s):(a={token:i.token},r.token=i,await $R(n,i)):a=JY(s),o&&ome(n,a),a}async function egt(e){const t=e.app;tF(t);const{provider:n}=li(t);if(rF()){const r=await iF(),{token:i}=await nF(Jpe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function ime(e,t,n,r){const{app:i}=e,s=li(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&am(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),XY(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XY(e))}function sme(e,t){const n=li(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XY(e){const{app:t}=e,n=li(t);let r=n.tokenRefresher;r||(r=tgt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tgt(e){const{app:t}=e;return new jmt(async()=>{const n=li(t);let r;if(n.token?r=await y$(e,!0):r=await y$(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=li(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},KY.RETRIAL_MIN_WAIT,KY.RETRIAL_MAX_WAIT)}function ome(e,t){const n=li(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function am(e){return e.expireTimeMillis-Date.now()>0}function JY(e){return{token:Zmt(Jmt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ngt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=li(this.app);for(const n of t)sme(this.app,n.next);return Promise.resolve()}}function rgt(e,t){return new ngt(e,t)}function igt(e){return{getToken:t=>y$(e,t),getLimitedUseToken:()=>egt(e),addTokenListener:t=>ime(e,"INTERNAL",t),removeTokenListener:t=>sme(e.app,t)}}const sgt="@firebase/app-check",ogt="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const agt="https://www.google.com/recaptcha/api.js";function ugt(e,t){const n=new T_,r=li(e);r.reCAPTCHAState={initialized:n};const i=lgt(e),s=QY(!1);return s?ZY(e,t,s,i,n):dgt(()=>{const o=QY(!1);if(!o)throw new Error("no recaptcha");ZY(e,t,o,i,n)}),n.promise}function ZY(e,t,n,r,i){n.ready(()=>{fgt(e,t,n,r),i.resolve(n)})}function lgt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function cgt(e){tF(e);const n=await li(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=li(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function fgt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{li(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{li(e).reCAPTCHAState.succeeded=!1}}),s=li(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function dgt(e){const t=document.createElement("script");t.src=agt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;pgt(this._throttleData);const i=await cgt(this._app).catch(o=>{throw eo.create("recaptcha-error")});if(!(!((t=li(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw eo.create("recaptcha-error");let s;try{s=await nF(Vmt(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=hgt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),eo.create("throttled",{time:Xpe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=o0(t,"heartbeat"),ugt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof sF?this._siteKey===t._siteKey:!1}}function hgt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Fmt,httpStatus:e};{const n=t?t.backoffCount:0,r=rlt(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function pgt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw eo.create("throttled",{time:Xpe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mgt(e=W4(),t){e=Ui(e);const n=o0(e,"app-check");if(NP().initialized||Xmt(),rF()&&iF().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw eo.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return ggt(e,t.provider,t.isTokenAutoRefreshEnabled),li(e).isTokenAutoRefreshEnabled&&ime(r,"INTERNAL",()=>{}),r}function ggt(e,t,n){const r=$mt(e,Object.assign({},Kpe));r.activated=!0,r.provider=t,r.cachedTokenPromise=Kmt(e).then(i=>(i&&am(i)&&(r.token=i,ome(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const ygt="app-check",eG="app-check-internal";function vgt(){bc(new bl(ygt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return rgt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(eG).initialize()})),bc(new bl(eG,e=>{const t=e.getProvider("app-check").getImmediate();return igt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xa(sgt,ogt)}vgt();function ame(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _gt=ame,ume=new s0("auth","Firebase",ame());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new sP("@firebase/auth");function bgt(e,...t){kI.logLevel<=ln.WARN&&kI.warn(`Auth (${op}): ${e}`,...t)}function LE(e,...t){kI.logLevel<=ln.ERROR&&kI.error(`Auth (${op}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e,...t){throw oF(e,...t)}function al(e,...t){return oF(e,...t)}function wgt(e,t,n){const r=Object.assign(Object.assign({},_gt()),{[t]:n});return new s0("auth","Firebase",r).create(t,{appName:e.name})}function oF(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ume.create(e,...t)}function Mt(e,t,...n){if(!e)throw oF(t,...n)}function Xl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw LE(t),new Error(t)}function Sc(e,t){e||Xl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Egt(){return tG()==="http:"||tG()==="https:"}function tG(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tgt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Egt()||But()||"connection"in navigator)?navigator.onLine:!0}function Sgt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.shortDelay=t,this.longDelay=n,Sc(n>t,"Short delay should be less than long delay!"),this.isMobile=Fut()||Uut()}get(){return Tgt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(e,t){Sc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xgt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Igt=new sb(3e4,6e4);function kP(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function p0(e,t,n,r,i={}){return cme(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=V1(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),lme.fetch()(dme(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function cme(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xgt),t);try{const i=new Cgt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fw(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Fw(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw Fw(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wgt(e,c,l);Tc(e,c)}}catch(i){if(i instanceof Ol)throw i;Tc(e,"network-request-failed",{message:String(i)})}}async function fme(e,t,n,r,i={}){const s=await p0(e,t,n,r,i);return"mfaPendingCredential"in s&&Tc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function dme(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?aF(e.config,i):`${e.config.apiScheme}://${i}`}class Cgt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(al(this.auth,"network-request-failed")),Igt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=al(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Agt(e,t){return p0(e,"POST","/v1/accounts:delete",t)}async function Pgt(e,t){return p0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ogt(e,t=!1){const n=Ui(e),r=await n.getIdToken(t),i=uF(r);Mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gv(LR(i.auth_time)),issuedAtTime:gv(LR(i.iat)),expirationTime:gv(LR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function LR(e){return Number(e)*1e3}function uF(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return LE("JWT malformed, contained fewer than 3 sections"),null;try{const i=tde(n);return i?JSON.parse(i):(LE("Failed to decode base64 JWT payload"),null)}catch(i){return LE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rgt(e){const t=uF(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ol&&Ngt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Ngt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kgt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gv(this.lastLoginAt),this.creationTime=gv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(e){var t;const n=e.auth,r=await e.getIdToken(),i=await W_(e,Pgt(n,{idToken:r}));Mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Lgt(s.providerUserInfo):[],a=$gt(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hme(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function Dgt(e){const t=Ui(e);await DI(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $gt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Lgt(e){return e.map(t=>{var{providerId:n}=t,r=QL(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mgt(e,t){const n=await cme(e,{},async()=>{const r=V1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=dme(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lme.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fgt(e,t){return p0(e,"POST","/v2/accounts:revokeToken",kP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rgt(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Mt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Mgt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new q_;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Mt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Mt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new q_,this.toJSON())}_performRefresh(){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yh{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=QL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kgt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hme(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await W_(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Ogt(this,t)}reload(){return Dgt(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yh(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await DI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await W_(this,Agt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:T,isAnonymous:x,providerData:w,stsTokenManager:S}=n;Mt(_&&S,t,"internal-error");const I=q_.fromJSON(this.name,S);Mt(typeof _=="string",t,"internal-error"),Gc(f,t.name),Gc(d,t.name),Mt(typeof T=="boolean",t,"internal-error"),Mt(typeof x=="boolean",t,"internal-error"),Gc(h,t.name),Gc(p,t.name),Gc(g,t.name),Gc(y,t.name),Gc(m,t.name),Gc(v,t.name);const k=new yh({uid:_,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:I,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map(D=>Object.assign({},D))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new q_;i.updateFromServerResponse(n);const s=new yh({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await DI(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=new Map;function Jl(e){Sc(e instanceof Function,"Expected a class definition");let t=nG.get(e);return t?(Sc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nG.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pme{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pme.type="NONE";const rG=pme;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e,t,n){return`firebase:${e}:${t}:${n}`}class Fm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ME(this.userKey,i.apiKey,s),this.fullPersistenceKey=ME("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?yh._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Fm(Jl(rG),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Jl(rG);const o=ME(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=yh._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Fm(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Fm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yme(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mme(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_me(t))return"Blackberry";if(bme(t))return"Webos";if(lF(t))return"Safari";if((t.includes("chrome/")||gme(t))&&!t.includes("edge/"))return"Chrome";if(vme(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mme(e=Zr()){return/firefox\//i.test(e)}function lF(e=Zr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gme(e=Zr()){return/crios\//i.test(e)}function yme(e=Zr()){return/iemobile/i.test(e)}function vme(e=Zr()){return/android/i.test(e)}function _me(e=Zr()){return/blackberry/i.test(e)}function bme(e=Zr()){return/webos/i.test(e)}function DP(e=Zr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jgt(e=Zr()){var t;return DP(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Bgt(){return Vut()&&document.documentMode===10}function wme(e=Zr()){return DP(e)||vme(e)||bme(e)||_me(e)||/windows phone/i.test(e)||yme(e)}function Ugt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eme(e,t=[]){let n;switch(e){case"Browser":n=iG(Zr());break;case"Worker":n=`${iG(Zr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${op}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vgt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zgt(e,t={}){return p0(e,"GET","/v2/passwordPolicy",kP(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hgt=6;class Wgt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hgt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qgt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sG(this),this.idTokenSubscription=new sG(this),this.beforeStateQueue=new Vgt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ume,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Jl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await DI(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Sgt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ui(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zgt(this),n=new Wgt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new s0("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fgt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Jl(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await Fm.create(this,[Jl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Eme(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&bgt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $P(e){return Ui(e)}class sG{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kut(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cF={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ygt(e){cF=e}function Ggt(e){return cF.loadJS(e)}function Kgt(){return cF.gapiScript}function Qgt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xgt(e,t){const n=o0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(S_(s,t??{}))return i;Tc(i,"already-initialized")}return n.initialize({options:t})}function Jgt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Zgt(e,t,n){const r=$P(e);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Tme(t),{host:o,port:a}=e0t(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||t0t()}function Tme(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e0t(e){const t=Tme(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:oG(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:oG(o)}}}function oG(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function t0t(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xl("not implemented")}_getIdTokenResponse(t){return Xl("not implemented")}_linkToIdToken(t,n){return Xl("not implemented")}_getReauthenticationResolver(t){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(e,t){return fme(e,"POST","/v1/accounts:signInWithIdp",kP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0t="http://localhost";class Hh extends Sme{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=QL(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return jm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,jm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,jm(t,n)}buildRequest(){const t={requestUri:n0t,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=V1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xme{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends xme{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ob{constructor(){super("facebook.com")}static credential(t){return Hh._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return uf.credentialFromTaggedObject(t)}static credentialFromError(t){return uf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return uf.credential(t.oauthAccessToken)}catch{return null}}}uf.FACEBOOK_SIGN_IN_METHOD="facebook.com";uf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends ob{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hh._fromParams({providerId:lf.PROVIDER_ID,signInMethod:lf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lf.credentialFromTaggedObject(t)}static credentialFromError(t){return lf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lf.credential(n,r)}catch{return null}}}lf.GOOGLE_SIGN_IN_METHOD="google.com";lf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends ob{constructor(){super("github.com")}static credential(t){return Hh._fromParams({providerId:cf.PROVIDER_ID,signInMethod:cf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cf.credentialFromTaggedObject(t)}static credentialFromError(t){return cf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cf.credential(t.oauthAccessToken)}catch{return null}}}cf.GITHUB_SIGN_IN_METHOD="github.com";cf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends ob{constructor(){super("twitter.com")}static credential(t,n){return Hh._fromParams({providerId:ff.PROVIDER_ID,signInMethod:ff.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ff.credentialFromTaggedObject(t)}static credentialFromError(t){return ff.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ff.credential(n,r)}catch{return null}}}ff.TWITTER_SIGN_IN_METHOD="twitter.com";ff.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0t(e,t){return fme(e,"POST","/v1/accounts:signUp",kP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await yh._fromIdTokenResponse(t,r,i),o=aG(r);return new ad({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=aG(r);return new ad({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function aG(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0t(e){var t;const n=$P(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new ad({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await r0t(n,{returnSecureToken:!0}),i=await ad._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends Ol{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$I.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new $I(t,n,r,i)}}function Ime(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$I._fromErrorAndOperation(e,s,t,r):s})}async function s0t(e,t,n=!1){const r=await W_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ad._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0t(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await W_(e,Ime(r,i,t,e),n);Mt(s.idToken,r,"internal-error");const o=uF(s.idToken);Mt(o,r,"internal-error");const{sub:a}=o;return Mt(e.uid===a,r,"user-mismatch"),ad._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0t(e,t,n=!1){const r="signIn",i=await Ime(e,r,t),s=await ad._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function u0t(e,t,n,r){return Ui(e).onIdTokenChanged(t,n,r)}function l0t(e,t,n){return Ui(e).beforeAuthStateChanged(t,n)}const LI="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cme{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(LI,"1"),this.storage.removeItem(LI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0t(){const e=Zr();return lF(e)||DP(e)}const f0t=1e3,d0t=10;class Ame extends Cme{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=c0t()&&Ugt(),this.fallbackToPolling=wme(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Bgt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,d0t):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},f0t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ame.type="LOCAL";const h0t=Ame;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme extends Cme{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Pme.type="SESSION";const Ome=Pme;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0t(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new LP(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await p0t(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}LP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0t{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=fF("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return window}function g0t(e){ul().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rme(){return typeof ul().WorkerGlobalScope<"u"&&typeof ul().importScripts=="function"}async function y0t(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v0t(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function _0t(){return Rme()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nme="firebaseLocalStorageDb",b0t=1,MI="firebaseLocalStorage",kme="fbase_key";class ab{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function MP(e,t){return e.transaction([MI],t?"readwrite":"readonly").objectStore(MI)}function w0t(){const e=indexedDB.deleteDatabase(Nme);return new ab(e).toPromise()}function _$(){const e=indexedDB.open(Nme,b0t);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(MI,{keyPath:kme})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(MI)?t(r):(r.close(),await w0t(),t(await _$()))})})}async function uG(e,t,n){const r=MP(e,!0).put({[kme]:t,value:n});return new ab(r).toPromise()}async function E0t(e,t){const n=MP(e,!1).get(t),r=await new ab(n).toPromise();return r===void 0?null:r.value}function lG(e,t){const n=MP(e,!0).delete(t);return new ab(n).toPromise()}const T0t=800,S0t=3;class Dme{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _$(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>S0t)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rme()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=LP._getInstance(_0t()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await y0t(),!this.activeServiceWorker)return;this.sender=new m0t(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v0t()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _$();return await uG(t,LI,"1"),await lG(t,LI),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uG(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>E0t(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lG(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=MP(i,!1).getAll();return new ab(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T0t)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dme.type="LOCAL";const x0t=Dme;new sb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0t(e,t){return t?Jl(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF extends Sme{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return jm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return jm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function C0t(e){return a0t(e.auth,new dF(e),e.bypassAuthState)}function A0t(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),o0t(n,new dF(e),e.bypassAuthState)}async function P0t(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),s0t(n,new dF(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $me{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return C0t;case"linkViaPopup":case"linkViaRedirect":return P0t;case"reauthViaPopup":case"reauthViaRedirect":return A0t;default:Tc(this.auth,"internal-error")}}resolve(t){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0t=new sb(2e3,1e4);class um extends $me{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,um.currentPopupAction&&um.currentPopupAction.cancel(),um.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){Sc(this.filter.length===1,"Popup operations only handle one event");const t=fF();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(al(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(al(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,um.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(al(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,O0t.get())};t()}}um.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0t="pendingRedirect",FE=new Map;class N0t extends $me{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=FE.get(this.auth._key());if(!t){try{const r=await k0t(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}FE.set(this.auth._key(),t)}return this.bypassAuthState||FE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k0t(e,t){const n=L0t(t),r=$0t(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function D0t(e,t){FE.set(e._key(),t)}function $0t(e){return Jl(e._redirectPersistence)}function L0t(e){return ME(R0t,e.config.apiKey,e.name)}async function M0t(e,t,n=!1){const r=$P(e),i=I0t(r,t),o=await new N0t(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0t=10*60*1e3;class j0t{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!B0t(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Lme(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(al(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=F0t&&this.cachedEventUids.clear(),this.cachedEventUids.has(cG(t))}saveEventToCache(t){this.cachedEventUids.add(cG(t)),this.lastProcessedEventTime=Date.now()}}function cG(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Lme({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function B0t(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lme(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0t(e,t={}){return p0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z0t=/^https?/;async function H0t(e){if(e.config.emulator)return;const{authorizedDomains:t}=await U0t(e);for(const n of t)try{if(W0t(n))return}catch{}Tc(e,"unauthorized-domain")}function W0t(e){const t=v$(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z0t.test(n))return!1;if(V0t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0t=new sb(3e4,6e4);function fG(){const e=ul().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Y0t(e){return new Promise((t,n)=>{var r,i,s;function o(){fG(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fG(),n(al(e,"network-request-failed"))},timeout:q0t.get()})}if(!((i=(r=ul().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ul().gapi)===null||s===void 0)&&s.load)o();else{const a=Qgt("iframefcb");return ul()[a]=()=>{gapi.load?o():n(al(e,"network-request-failed"))},Ggt(`${Kgt()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw jE=null,t})}let jE=null;function G0t(e){return jE=jE||Y0t(e),jE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0t=new sb(5e3,15e3),Q0t="__/auth/iframe",X0t="emulator/auth/iframe",J0t={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z0t=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eyt(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?aF(t,X0t):`https://${e.config.authDomain}/${Q0t}`,r={apiKey:t.apiKey,appName:e.name,v:op},i=Z0t.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${V1(r).slice(1)}`}async function tyt(e){const t=await G0t(e),n=ul().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:eyt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J0t,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=al(e,"network-request-failed"),a=ul().setTimeout(()=>{s(o)},K0t.get());function u(){ul().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nyt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ryt=500,iyt=600,syt="_blank",oyt="http://localhost";class dG{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ayt(e,t,n,r=ryt,i=iyt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},nyt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Zr().toLowerCase();n&&(a=gme(l)?syt:n),mme(l)&&(t=t||oyt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(jgt(l)&&a!=="_self")return uyt(t||"",a),new dG(null);const f=window.open(t||"",a,c);Mt(f,e,"popup-blocked");try{f.focus()}catch{}return new dG(f)}function uyt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lyt="__/auth/handler",cyt="emulator/auth/handler",fyt=encodeURIComponent("fac");async function hG(e,t,n,r,i,s){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:op,eventId:i};if(t instanceof xme){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Gut(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof ob){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${fyt}=${encodeURIComponent(u)}`:"";return`${dyt(e)}?${V1(a).slice(1)}${l}`}function dyt({config:e}){return e.emulator?aF(e,cyt):`https://${e.authDomain}/${lyt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="webStorageSupport";class hyt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ome,this._completeRedirectFn=M0t,this._overrideRedirectResult=D0t}async _openPopup(t,n,r,i){var s;Sc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hG(t,n,r,v$(),i);return ayt(t,o,fF())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await hG(t,n,r,v$(),i);return g0t(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await tyt(t),r=new j0t(t);return n.register("authEvent",i=>(Mt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(MR,{type:MR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[MR];o!==void 0&&n(!!o),Tc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H0t(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wme()||lF()||DP()}}const pyt=hyt;var pG="@firebase/auth",mG="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class myt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gyt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yyt(e){bc(new bl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eme(e)},l=new qgt(r,i,s,u);return Jgt(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),bc(new bl("auth-internal",t=>{const n=$P(t.getProvider("auth").getImmediate());return(r=>new myt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(pG,mG,gyt(e)),Xa(pG,mG,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vyt=5*60,_yt=sde("authIdTokenMaxAge")||vyt;let gG=null;const byt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_yt)return;const i=n==null?void 0:n.token;gG!==i&&(gG=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wyt(e=W4()){const t=o0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Xgt(e,{popupRedirectResolver:pyt,persistence:[x0t,h0t,Ome]}),r=sde("authTokenSyncURL");if(r){const s=byt(r);l0t(n,s,()=>s(n.currentUser)),u0t(n,o=>s(o))}const i=rde("auth");return i&&Zgt(n,`http://${i}`),n}function Eyt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Ygt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=al("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Eyt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yyt("Browser");class Tyt extends Zfe{constructor(){super("firebase");vo(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");vo(this,"firestore");vo(this,"collectionPrefix","prod-");vo(this,"studyCollection");vo(this,"studyId","");vo(this,"localForage",Jfe.createInstance({name:"currentParticipantId"}));vo(this,"localProvenanceCopy",{});vo(this,"localWindowEvents",{});const n=u6.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=ude(n);this.firestore=hmt(r,{});try{mgt(r,{provider:new sF(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=wyt();if(await i0t(n),!n.currentUser)throw new Error("Login failed with firebase");await pmt(this.firestore);const r=await Ls(this.firestore,".info/connected");await Cp(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Dm(JSON.stringify(r));this.studyCollection=DR(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=Ls(this.studyCollection,"configs"),o=DR(s,"configs"),a=Ls(o,i);return await Cd(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=Ls(this.studyCollection,this.currentParticipantId),o=(await Cp(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o===null||!o.answers[l]||(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Dm(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await Cd(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ls(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ls(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await Cd(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ls(this.studyCollection,"audioTags");await Cd(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=Ls(this.studyCollection,"audioTags");return((n=(await Cp(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ls(this.studyCollection,n);await Cd(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=Ls(this.studyCollection,n);return((r=(await Cp(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n,r){n.addEventListener("dataavailable",i=>{const s=Id(),o=xd(s,`${this.studyId}/audio/${this.currentParticipantId}_${r}`);Qq(o,i.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(i=>i.stop())}async getAudio(n){const r=Id(),i=await ty(xd(r,`${this.studyId}/audio/${n}`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,u=URL.createObjectURL(a);s(u)},o.open("GET",i),o.send()})}async getTranscription(n){const r=Id(),i=await ty(xd(r,`${this.studyId}/audio/${n}.wav_transcription.txt`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{o.response.text().then(u=>{s(u)})},o.open("GET",i),o.send()})}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=Ls(this.studyCollection,"sequenceAssignment"),i=DR(r,"sequenceAssignment"),s=Ls(i,this.currentParticipantId);await Cd(s,{participantId:this.currentParticipantId,timestamp:kmt()});const o=xmt(i,Imt("timestamp","asc")),l=(await GY(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await GY(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=Ls(this.studyCollection,n||this.currentParticipantId);if(r=(await Cp(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,u])=>{u!==void 0&&(u.provenanceGraph=s[a],u.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ls(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await Cp(r)).data()),!s){const o=await Dm(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await Cd(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=Id(),s=xd(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await ty(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=Id(),o=xd(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await Qq(o,a)}}async _getFirebaseProvenance(n){const r=Id(),i=xd(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await ty(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=Id(),i=xd(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await ty(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function Syt(){let e,t=!1;{const n=new Tyt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Put;await n.connect(),e=n}return e}function xyt(){const{storageEngine:e,setStorageEngine:t}=da();return b.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await Syt();t(r)}n()},[t,e]),C.jsx(Tut,{})}FR.createRoot(document.getElementById("root")).render(C.jsx($.StrictMode,{children:C.jsx(yye,{children:C.jsx(xyt,{})})}));
