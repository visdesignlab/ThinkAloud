var y7e=Object.defineProperty;var v7e=(e,t,n)=>t in e?y7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var b7e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Rl=(e,t,n)=>v7e(e,typeof t!="symbol"?t+"":t,n);var Bgn=b7e((H0n,Roe)=>{function _7e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dbe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var fbe={exports:{}},qL={},hbe={exports:{}},Xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=Symbol.for("react.element"),w7e=Symbol.for("react.portal"),E7e=Symbol.for("react.fragment"),x7e=Symbol.for("react.strict_mode"),S7e=Symbol.for("react.profiler"),T7e=Symbol.for("react.provider"),C7e=Symbol.for("react.context"),A7e=Symbol.for("react.forward_ref"),I7e=Symbol.for("react.suspense"),R7e=Symbol.for("react.memo"),k7e=Symbol.for("react.lazy"),Yoe=Symbol.iterator;function P7e(e){return e===null||typeof e!="object"?null:(e=Yoe&&e[Yoe]||e["@@iterator"],typeof e=="function"?e:null)}var pbe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mbe=Object.assign,gbe={};function Jx(e,t,n){this.props=e,this.context=t,this.refs=gbe,this.updater=n||pbe}Jx.prototype.isReactComponent={};Jx.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jx.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ybe(){}ybe.prototype=Jx.prototype;function wG(e,t,n){this.props=e,this.context=t,this.refs=gbe,this.updater=n||pbe}var EG=wG.prototype=new ybe;EG.constructor=wG;mbe(EG,Jx.prototype);EG.isPureReactComponent=!0;var Koe=Array.isArray,vbe=Object.prototype.hasOwnProperty,xG={current:null},bbe={key:!0,ref:!0,__self:!0,__source:!0};function _be(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vbe.call(t,r)&&!bbe.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ER,type:e,key:s,ref:o,props:i,_owner:xG.current}}function N7e(e,t){return{$$typeof:ER,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SG(e){return typeof e=="object"&&e!==null&&e.$$typeof===ER}function O7e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xoe=/\/+/g;function o8(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O7e(""+e.key):t.toString(36)}function LO(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ER:case w7e:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+o8(o,0):r,Koe(i)?(n="",e!=null&&(n=e.replace(Xoe,"$&/")+"/"),LO(i,t,n,"",function(u){return u})):i!=null&&(SG(i)&&(i=N7e(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xoe,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Koe(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+o8(s,a);o+=LO(s,t,n,l,i)}else if(l=P7e(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+o8(s,a++),o+=LO(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $P(e,t,n){if(e==null)return e;var r=[],i=0;return LO(e,r,"","",function(s){return t.call(n,s,i++)}),r}function D7e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _l={current:null},FO={transition:null},M7e={ReactCurrentDispatcher:_l,ReactCurrentBatchConfig:FO,ReactCurrentOwner:xG};function wbe(){throw Error("act(...) is not supported in production builds of React.")}Xn.Children={map:$P,forEach:function(e,t,n){$P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $P(e,function(){t++}),t},toArray:function(e){return $P(e,function(t){return t})||[]},only:function(e){if(!SG(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xn.Component=Jx;Xn.Fragment=E7e;Xn.Profiler=S7e;Xn.PureComponent=wG;Xn.StrictMode=x7e;Xn.Suspense=I7e;Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M7e;Xn.act=wbe;Xn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mbe({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=xG.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)vbe.call(t,l)&&!bbe.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ER,type:e.type,key:i,ref:s,props:r,_owner:o}};Xn.createContext=function(e){return e={$$typeof:C7e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T7e,_context:e},e.Consumer=e};Xn.createElement=_be;Xn.createFactory=function(e){var t=_be.bind(null,e);return t.type=e,t};Xn.createRef=function(){return{current:null}};Xn.forwardRef=function(e){return{$$typeof:A7e,render:e}};Xn.isValidElement=SG;Xn.lazy=function(e){return{$$typeof:k7e,_payload:{_status:-1,_result:e},_init:D7e}};Xn.memo=function(e,t){return{$$typeof:R7e,type:e,compare:t===void 0?null:t}};Xn.startTransition=function(e){var t=FO.transition;FO.transition={};try{e()}finally{FO.transition=t}};Xn.unstable_act=wbe;Xn.useCallback=function(e,t){return _l.current.useCallback(e,t)};Xn.useContext=function(e){return _l.current.useContext(e)};Xn.useDebugValue=function(){};Xn.useDeferredValue=function(e){return _l.current.useDeferredValue(e)};Xn.useEffect=function(e,t){return _l.current.useEffect(e,t)};Xn.useId=function(){return _l.current.useId()};Xn.useImperativeHandle=function(e,t,n){return _l.current.useImperativeHandle(e,t,n)};Xn.useInsertionEffect=function(e,t){return _l.current.useInsertionEffect(e,t)};Xn.useLayoutEffect=function(e,t){return _l.current.useLayoutEffect(e,t)};Xn.useMemo=function(e,t){return _l.current.useMemo(e,t)};Xn.useReducer=function(e,t,n){return _l.current.useReducer(e,t,n)};Xn.useRef=function(e){return _l.current.useRef(e)};Xn.useState=function(e){return _l.current.useState(e)};Xn.useSyncExternalStore=function(e,t,n){return _l.current.useSyncExternalStore(e,t,n)};Xn.useTransition=function(){return _l.current.useTransition()};Xn.version="18.3.1";hbe.exports=Xn;var A=hbe.exports;const us=bu(A),lM=_7e({__proto__:null,default:us},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $7e=A,L7e=Symbol.for("react.element"),F7e=Symbol.for("react.fragment"),j7e=Object.prototype.hasOwnProperty,B7e=$7e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z7e={key:!0,ref:!0,__self:!0,__source:!0};function Ebe(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)j7e.call(t,r)&&!z7e.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:L7e,type:e,key:s,ref:o,props:i,_owner:B7e.current}}qL.Fragment=F7e;qL.jsx=Ebe;qL.jsxs=Ebe;fbe.exports=qL;var b=fbe.exports,x7={},xbe={exports:{}},fc={},Sbe={exports:{}},Tbe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var N=z.length;z.push(U);e:for(;0<N;){var V=N-1>>>1,W=z[V];if(0<i(W,U))z[V]=U,z[N]=W,N=V;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],N=z.pop();if(N!==U){z[0]=N;e:for(var V=0,W=z.length,F=W>>>1;V<F;){var H=2*(V+1)-1,G=z[H],X=H+1,ie=z[X];if(0>i(G,N))X<W&&0>i(ie,G)?(z[V]=ie,z[X]=N,V=X):(z[V]=G,z[H]=N,V=H);else if(X<W&&0>i(ie,N))z[V]=ie,z[X]=N,V=X;else break e}}return U}function i(z,U){var N=z.sortIndex-U.sortIndex;return N!==0?N:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=z)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function w(z){if(m=!1,_(z),!p)if(n(l)!==null)p=!0,L(E);else{var U=n(u);U!==null&&B(w,U.startTime-z)}}function E(z,U){p=!1,m&&(m=!1,y(T),T=-1),h=!0;var N=f;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||z&&!k());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var W=V(d.expirationTime<=U);U=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var F=!0;else{var H=n(u);H!==null&&B(w,H.startTime-U),F=!1}return F}finally{d=null,f=N,h=!1}}var S=!1,x=null,T=-1,I=5,P=-1;function k(){return!(e.unstable_now()-P<I)}function D(){if(x!==null){var z=e.unstable_now();P=z;var U=!0;try{U=x(!0,z)}finally{U?R():(S=!1,x=null)}}else S=!1}var R;if(typeof v=="function")R=function(){v(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$=M.port2;M.port1.onmessage=D,R=function(){$.postMessage(null)}}else R=function(){g(D,0)};function L(z){x=z,S||(S=!0,R())}function B(z,U){T=g(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,L(E))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var N=f;f=U;try{return z()}finally{f=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=f;f=z;try{return U()}finally{f=N}},e.unstable_scheduleCallback=function(z,U,N){var V=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?V+N:V):N=V,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,z={id:c++,callback:U,priorityLevel:z,startTime:N,expirationTime:W,sortIndex:-1},N>V?(z.sortIndex=N,t(u,z),n(l)===null&&z===n(u)&&(m?(y(T),T=-1):m=!0,B(w,N-V))):(z.sortIndex=W,t(l,z),p||h||(p=!0,L(E))),z},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(z){var U=f;return function(){var N=f;f=U;try{return z.apply(this,arguments)}finally{f=N}}}})(Tbe);Sbe.exports=Tbe;var U7e=Sbe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V7e=A,Xu=U7e;function at(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cbe=new Set,CA={};function Ub(e,t){NE(e,t),NE(e+"Capture",t)}function NE(e,t){for(CA[e]=t,e=0;e<t.length;e++)Cbe.add(t[e])}var Lm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S7=Object.prototype.hasOwnProperty,H7e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qoe={},Joe={};function q7e(e){return S7.call(Joe,e)?!0:S7.call(Qoe,e)?!1:H7e.test(e)?Joe[e]=!0:(Qoe[e]=!0,!1)}function W7e(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G7e(e,t,n,r){if(t===null||typeof t>"u"||W7e(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wl(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xo[e]=new wl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xo[t]=new wl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xo[e]=new wl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xo[e]=new wl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xo[e]=new wl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xo[e]=new wl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xo[e]=new wl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xo[e]=new wl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xo[e]=new wl(e,5,!1,e.toLowerCase(),null,!1,!1)});var TG=/[\-:]([a-z])/g;function CG(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TG,CG);Xo[t]=new wl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TG,CG);Xo[t]=new wl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TG,CG);Xo[t]=new wl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xo[e]=new wl(e,1,!1,e.toLowerCase(),null,!1,!1)});Xo.xlinkHref=new wl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xo[e]=new wl(e,1,!1,e.toLowerCase(),null,!0,!0)});function AG(e,t,n,r){var i=Xo.hasOwnProperty(t)?Xo[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G7e(t,n,i,r)&&(n=null),r||i===null?q7e(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cg=V7e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,LP=Symbol.for("react.element"),xw=Symbol.for("react.portal"),Sw=Symbol.for("react.fragment"),IG=Symbol.for("react.strict_mode"),T7=Symbol.for("react.profiler"),Abe=Symbol.for("react.provider"),Ibe=Symbol.for("react.context"),RG=Symbol.for("react.forward_ref"),C7=Symbol.for("react.suspense"),A7=Symbol.for("react.suspense_list"),kG=Symbol.for("react.memo"),Qg=Symbol.for("react.lazy"),Rbe=Symbol.for("react.offscreen"),Zoe=Symbol.iterator;function wT(e){return e===null||typeof e!="object"?null:(e=Zoe&&e[Zoe]||e["@@iterator"],typeof e=="function"?e:null)}var Ki=Object.assign,a8;function TC(e){if(a8===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);a8=t&&t[1]||""}return`
`+a8+e}var l8=!1;function u8(e,t){if(!e||l8)return"";l8=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{l8=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?TC(e):""}function Y7e(e){switch(e.tag){case 5:return TC(e.type);case 16:return TC("Lazy");case 13:return TC("Suspense");case 19:return TC("SuspenseList");case 0:case 2:case 15:return e=u8(e.type,!1),e;case 11:return e=u8(e.type.render,!1),e;case 1:return e=u8(e.type,!0),e;default:return""}}function I7(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sw:return"Fragment";case xw:return"Portal";case T7:return"Profiler";case IG:return"StrictMode";case C7:return"Suspense";case A7:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ibe:return(e.displayName||"Context")+".Consumer";case Abe:return(e._context.displayName||"Context")+".Provider";case RG:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kG:return t=e.displayName||null,t!==null?t:I7(e.type)||"Memo";case Qg:t=e._payload,e=e._init;try{return I7(e(t))}catch{}}return null}function K7e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I7(t);case 8:return t===IG?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ry(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kbe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X7e(e){var t=kbe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function FP(e){e._valueTracker||(e._valueTracker=X7e(e))}function Pbe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kbe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uM(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function R7(e,t){var n=t.checked;return Ki({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eae(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ry(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nbe(e,t){t=t.checked,t!=null&&AG(e,"checked",t,!1)}function k7(e,t){Nbe(e,t);var n=ry(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P7(e,t.type,n):t.hasOwnProperty("defaultValue")&&P7(e,t.type,ry(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function P7(e,t,n){(t!=="number"||uM(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var CC=Array.isArray;function Kw(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ry(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function N7(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(at(91));return Ki({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nae(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(at(92));if(CC(n)){if(1<n.length)throw Error(at(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ry(n)}}function Obe(e,t){var n=ry(t.value),r=ry(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rae(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dbe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O7(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dbe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jP,Mbe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jP=jP||document.createElement("div"),jP.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jP.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function AA(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var S2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q7e=["Webkit","ms","Moz","O"];Object.keys(S2).forEach(function(e){Q7e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),S2[t]=S2[e]})});function $be(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||S2.hasOwnProperty(e)&&S2[e]?(""+t).trim():t+"px"}function Lbe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$be(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var J7e=Ki({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D7(e,t){if(t){if(J7e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(at(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(at(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(at(61))}if(t.style!=null&&typeof t.style!="object")throw Error(at(62))}}function M7(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $7=null;function PG(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var L7=null,Xw=null,Qw=null;function iae(e){if(e=TR(e)){if(typeof L7!="function")throw Error(at(280));var t=e.stateNode;t&&(t=XL(t),L7(e.stateNode,e.type,t))}}function Fbe(e){Xw?Qw?Qw.push(e):Qw=[e]:Xw=e}function jbe(){if(Xw){var e=Xw,t=Qw;if(Qw=Xw=null,iae(e),t)for(e=0;e<t.length;e++)iae(t[e])}}function Bbe(e,t){return e(t)}function zbe(){}var c8=!1;function Ube(e,t,n){if(c8)return e(t,n);c8=!0;try{return Bbe(e,t,n)}finally{c8=!1,(Xw!==null||Qw!==null)&&(zbe(),jbe())}}function IA(e,t){var n=e.stateNode;if(n===null)return null;var r=XL(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(at(231,t,typeof n));return n}var F7=!1;if(Lm)try{var ET={};Object.defineProperty(ET,"passive",{get:function(){F7=!0}}),window.addEventListener("test",ET,ET),window.removeEventListener("test",ET,ET)}catch{F7=!1}function Z7e(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var T2=!1,cM=null,dM=!1,j7=null,eUe={onError:function(e){T2=!0,cM=e}};function tUe(e,t,n,r,i,s,o,a,l){T2=!1,cM=null,Z7e.apply(eUe,arguments)}function nUe(e,t,n,r,i,s,o,a,l){if(tUe.apply(this,arguments),T2){if(T2){var u=cM;T2=!1,cM=null}else throw Error(at(198));dM||(dM=!0,j7=u)}}function Vb(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vbe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sae(e){if(Vb(e)!==e)throw Error(at(188))}function rUe(e){var t=e.alternate;if(!t){if(t=Vb(e),t===null)throw Error(at(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sae(i),e;if(s===r)return sae(i),t;s=s.sibling}throw Error(at(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(at(189))}}if(n.alternate!==r)throw Error(at(190))}if(n.tag!==3)throw Error(at(188));return n.stateNode.current===n?e:t}function Hbe(e){return e=rUe(e),e!==null?qbe(e):null}function qbe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qbe(e);if(t!==null)return t;e=e.sibling}return null}var Wbe=Xu.unstable_scheduleCallback,oae=Xu.unstable_cancelCallback,iUe=Xu.unstable_shouldYield,sUe=Xu.unstable_requestPaint,_s=Xu.unstable_now,oUe=Xu.unstable_getCurrentPriorityLevel,NG=Xu.unstable_ImmediatePriority,Gbe=Xu.unstable_UserBlockingPriority,fM=Xu.unstable_NormalPriority,aUe=Xu.unstable_LowPriority,Ybe=Xu.unstable_IdlePriority,WL=null,Mh=null;function lUe(e){if(Mh&&typeof Mh.onCommitFiberRoot=="function")try{Mh.onCommitFiberRoot(WL,e,void 0,(e.current.flags&128)===128)}catch{}}var ef=Math.clz32?Math.clz32:dUe,uUe=Math.log,cUe=Math.LN2;function dUe(e){return e>>>=0,e===0?32:31-(uUe(e)/cUe|0)|0}var BP=64,zP=4194304;function AC(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hM(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=AC(a):(s&=o,s!==0&&(r=AC(s)))}else o=n&~i,o!==0?r=AC(o):s!==0&&(r=AC(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ef(t),i=1<<n,r|=e[n],t&=~i;return r}function fUe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hUe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ef(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fUe(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function B7(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kbe(){var e=BP;return BP<<=1,!(BP&4194240)&&(BP=64),e}function d8(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xR(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ef(t),e[t]=n}function pUe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ef(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function OG(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ef(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Gr=0;function Xbe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qbe,DG,Jbe,Zbe,e_e,z7=!1,UP=[],O0=null,D0=null,M0=null,RA=new Map,kA=new Map,o0=[],mUe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aae(e,t){switch(e){case"focusin":case"focusout":O0=null;break;case"dragenter":case"dragleave":D0=null;break;case"mouseover":case"mouseout":M0=null;break;case"pointerover":case"pointerout":RA.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kA.delete(t.pointerId)}}function xT(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=TR(t),t!==null&&DG(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gUe(e,t,n,r,i){switch(t){case"focusin":return O0=xT(O0,e,t,n,r,i),!0;case"dragenter":return D0=xT(D0,e,t,n,r,i),!0;case"mouseover":return M0=xT(M0,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return RA.set(s,xT(RA.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kA.set(s,xT(kA.get(s)||null,e,t,n,r,i)),!0}return!1}function t_e(e){var t=E1(e.target);if(t!==null){var n=Vb(t);if(n!==null){if(t=n.tag,t===13){if(t=Vbe(n),t!==null){e.blockedOn=t,e_e(e.priority,function(){Jbe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jO(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=U7(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$7=r,n.target.dispatchEvent(r),$7=null}else return t=TR(n),t!==null&&DG(t),e.blockedOn=n,!1;t.shift()}return!0}function lae(e,t,n){jO(e)&&n.delete(t)}function yUe(){z7=!1,O0!==null&&jO(O0)&&(O0=null),D0!==null&&jO(D0)&&(D0=null),M0!==null&&jO(M0)&&(M0=null),RA.forEach(lae),kA.forEach(lae)}function ST(e,t){e.blockedOn===t&&(e.blockedOn=null,z7||(z7=!0,Xu.unstable_scheduleCallback(Xu.unstable_NormalPriority,yUe)))}function PA(e){function t(i){return ST(i,e)}if(0<UP.length){ST(UP[0],e);for(var n=1;n<UP.length;n++){var r=UP[n];r.blockedOn===e&&(r.blockedOn=null)}}for(O0!==null&&ST(O0,e),D0!==null&&ST(D0,e),M0!==null&&ST(M0,e),RA.forEach(t),kA.forEach(t),n=0;n<o0.length;n++)r=o0[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<o0.length&&(n=o0[0],n.blockedOn===null);)t_e(n),n.blockedOn===null&&o0.shift()}var Jw=cg.ReactCurrentBatchConfig,pM=!0;function vUe(e,t,n,r){var i=Gr,s=Jw.transition;Jw.transition=null;try{Gr=1,MG(e,t,n,r)}finally{Gr=i,Jw.transition=s}}function bUe(e,t,n,r){var i=Gr,s=Jw.transition;Jw.transition=null;try{Gr=4,MG(e,t,n,r)}finally{Gr=i,Jw.transition=s}}function MG(e,t,n,r){if(pM){var i=U7(e,t,n,r);if(i===null)w8(e,t,r,mM,n),aae(e,r);else if(gUe(i,e,t,n,r))r.stopPropagation();else if(aae(e,r),t&4&&-1<mUe.indexOf(e)){for(;i!==null;){var s=TR(i);if(s!==null&&Qbe(s),s=U7(e,t,n,r),s===null&&w8(e,t,r,mM,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else w8(e,t,r,null,n)}}var mM=null;function U7(e,t,n,r){if(mM=null,e=PG(r),e=E1(e),e!==null)if(t=Vb(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vbe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mM=e,null}function n_e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oUe()){case NG:return 1;case Gbe:return 4;case fM:case aUe:return 16;case Ybe:return 536870912;default:return 16}default:return 16}}var y0=null,$G=null,BO=null;function r_e(){if(BO)return BO;var e,t=$G,n=t.length,r,i="value"in y0?y0.value:y0.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return BO=i.slice(e,1<r?1-r:void 0)}function zO(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function VP(){return!0}function uae(){return!1}function hc(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?VP:uae,this.isPropagationStopped=uae,this}return Ki(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=VP)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=VP)},persist:function(){},isPersistent:VP}),t}var Zx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LG=hc(Zx),SR=Ki({},Zx,{view:0,detail:0}),_Ue=hc(SR),f8,h8,TT,GL=Ki({},SR,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FG,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==TT&&(TT&&e.type==="mousemove"?(f8=e.screenX-TT.screenX,h8=e.screenY-TT.screenY):h8=f8=0,TT=e),f8)},movementY:function(e){return"movementY"in e?e.movementY:h8}}),cae=hc(GL),wUe=Ki({},GL,{dataTransfer:0}),EUe=hc(wUe),xUe=Ki({},SR,{relatedTarget:0}),p8=hc(xUe),SUe=Ki({},Zx,{animationName:0,elapsedTime:0,pseudoElement:0}),TUe=hc(SUe),CUe=Ki({},Zx,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AUe=hc(CUe),IUe=Ki({},Zx,{data:0}),dae=hc(IUe),RUe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kUe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PUe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NUe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PUe[e])?!!t[e]:!1}function FG(){return NUe}var OUe=Ki({},SR,{key:function(e){if(e.key){var t=RUe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zO(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kUe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FG,charCode:function(e){return e.type==="keypress"?zO(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zO(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DUe=hc(OUe),MUe=Ki({},GL,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fae=hc(MUe),$Ue=Ki({},SR,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FG}),LUe=hc($Ue),FUe=Ki({},Zx,{propertyName:0,elapsedTime:0,pseudoElement:0}),jUe=hc(FUe),BUe=Ki({},GL,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zUe=hc(BUe),UUe=[9,13,27,32],jG=Lm&&"CompositionEvent"in window,C2=null;Lm&&"documentMode"in document&&(C2=document.documentMode);var VUe=Lm&&"TextEvent"in window&&!C2,i_e=Lm&&(!jG||C2&&8<C2&&11>=C2),hae=" ",pae=!1;function s_e(e,t){switch(e){case"keyup":return UUe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o_e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tw=!1;function HUe(e,t){switch(e){case"compositionend":return o_e(t);case"keypress":return t.which!==32?null:(pae=!0,hae);case"textInput":return e=t.data,e===hae&&pae?null:e;default:return null}}function qUe(e,t){if(Tw)return e==="compositionend"||!jG&&s_e(e,t)?(e=r_e(),BO=$G=y0=null,Tw=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i_e&&t.locale!=="ko"?null:t.data;default:return null}}var WUe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mae(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WUe[e.type]:t==="textarea"}function a_e(e,t,n,r){Fbe(r),t=gM(t,"onChange"),0<t.length&&(n=new LG("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var A2=null,NA=null;function GUe(e){v_e(e,0)}function YL(e){var t=Iw(e);if(Pbe(t))return e}function YUe(e,t){if(e==="change")return t}var l_e=!1;if(Lm){var m8;if(Lm){var g8="oninput"in document;if(!g8){var gae=document.createElement("div");gae.setAttribute("oninput","return;"),g8=typeof gae.oninput=="function"}m8=g8}else m8=!1;l_e=m8&&(!document.documentMode||9<document.documentMode)}function yae(){A2&&(A2.detachEvent("onpropertychange",u_e),NA=A2=null)}function u_e(e){if(e.propertyName==="value"&&YL(NA)){var t=[];a_e(t,NA,e,PG(e)),Ube(GUe,t)}}function KUe(e,t,n){e==="focusin"?(yae(),A2=t,NA=n,A2.attachEvent("onpropertychange",u_e)):e==="focusout"&&yae()}function XUe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return YL(NA)}function QUe(e,t){if(e==="click")return YL(t)}function JUe(e,t){if(e==="input"||e==="change")return YL(t)}function ZUe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mf=typeof Object.is=="function"?Object.is:ZUe;function OA(e,t){if(mf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!S7.call(t,i)||!mf(e[i],t[i]))return!1}return!0}function vae(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bae(e,t){var n=vae(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vae(n)}}function c_e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?c_e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d_e(){for(var e=window,t=uM();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uM(e.document)}return t}function BG(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eVe(e){var t=d_e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&c_e(n.ownerDocument.documentElement,n)){if(r!==null&&BG(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=bae(n,s);var o=bae(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tVe=Lm&&"documentMode"in document&&11>=document.documentMode,Cw=null,V7=null,I2=null,H7=!1;function _ae(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;H7||Cw==null||Cw!==uM(r)||(r=Cw,"selectionStart"in r&&BG(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),I2&&OA(I2,r)||(I2=r,r=gM(V7,"onSelect"),0<r.length&&(t=new LG("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cw)))}function HP(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aw={animationend:HP("Animation","AnimationEnd"),animationiteration:HP("Animation","AnimationIteration"),animationstart:HP("Animation","AnimationStart"),transitionend:HP("Transition","TransitionEnd")},y8={},f_e={};Lm&&(f_e=document.createElement("div").style,"AnimationEvent"in window||(delete Aw.animationend.animation,delete Aw.animationiteration.animation,delete Aw.animationstart.animation),"TransitionEvent"in window||delete Aw.transitionend.transition);function KL(e){if(y8[e])return y8[e];if(!Aw[e])return e;var t=Aw[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in f_e)return y8[e]=t[n];return e}var h_e=KL("animationend"),p_e=KL("animationiteration"),m_e=KL("animationstart"),g_e=KL("transitionend"),y_e=new Map,wae="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hy(e,t){y_e.set(e,t),Ub(t,[e])}for(var v8=0;v8<wae.length;v8++){var b8=wae[v8],nVe=b8.toLowerCase(),rVe=b8[0].toUpperCase()+b8.slice(1);Hy(nVe,"on"+rVe)}Hy(h_e,"onAnimationEnd");Hy(p_e,"onAnimationIteration");Hy(m_e,"onAnimationStart");Hy("dblclick","onDoubleClick");Hy("focusin","onFocus");Hy("focusout","onBlur");Hy(g_e,"onTransitionEnd");NE("onMouseEnter",["mouseout","mouseover"]);NE("onMouseLeave",["mouseout","mouseover"]);NE("onPointerEnter",["pointerout","pointerover"]);NE("onPointerLeave",["pointerout","pointerover"]);Ub("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ub("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ub("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ub("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ub("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ub("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var IC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iVe=new Set("cancel close invalid load scroll toggle".split(" ").concat(IC));function Eae(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nUe(r,t,void 0,e),e.currentTarget=null}function v_e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Eae(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Eae(i,a,u),s=l}}}if(dM)throw e=j7,dM=!1,j7=null,e}function xi(e,t){var n=t[K7];n===void 0&&(n=t[K7]=new Set);var r=e+"__bubble";n.has(r)||(b_e(t,e,2,!1),n.add(r))}function _8(e,t,n){var r=0;t&&(r|=4),b_e(n,e,r,t)}var qP="_reactListening"+Math.random().toString(36).slice(2);function DA(e){if(!e[qP]){e[qP]=!0,Cbe.forEach(function(n){n!=="selectionchange"&&(iVe.has(n)||_8(n,!1,e),_8(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qP]||(t[qP]=!0,_8("selectionchange",!1,t))}}function b_e(e,t,n,r){switch(n_e(t)){case 1:var i=vUe;break;case 4:i=bUe;break;default:i=MG}n=i.bind(null,t,n,e),i=void 0,!F7||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function w8(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=E1(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ube(function(){var u=s,c=PG(n),d=[];e:{var f=y_e.get(e);if(f!==void 0){var h=LG,p=e;switch(e){case"keypress":if(zO(n)===0)break e;case"keydown":case"keyup":h=DUe;break;case"focusin":p="focus",h=p8;break;case"focusout":p="blur",h=p8;break;case"beforeblur":case"afterblur":h=p8;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cae;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=EUe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=LUe;break;case h_e:case p_e:case m_e:h=TUe;break;case g_e:h=jUe;break;case"scroll":h=_Ue;break;case"wheel":h=zUe;break;case"copy":case"cut":case"paste":h=AUe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=fae}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,_;v!==null;){_=v;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,y!==null&&(w=IA(v,y),w!=null&&m.push(MA(v,w,_)))),g)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==$7&&(p=n.relatedTarget||n.fromElement)&&(E1(p)||p[Fm]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?E1(p):null,p!==null&&(g=Vb(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=cae,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=fae,w="onPointerLeave",y="onPointerEnter",v="pointer"),g=h==null?f:Iw(h),_=p==null?f:Iw(p),f=new m(w,v+"leave",h,n,c),f.target=g,f.relatedTarget=_,w=null,E1(c)===u&&(m=new m(y,v+"enter",p,n,c),m.target=_,m.relatedTarget=g,w=m),g=w,h&&p)t:{for(m=h,y=p,v=0,_=m;_;_=R_(_))v++;for(_=0,w=y;w;w=R_(w))_++;for(;0<v-_;)m=R_(m),v--;for(;0<_-v;)y=R_(y),_--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=R_(m),y=R_(y)}m=null}else m=null;h!==null&&xae(d,f,h,m,!1),p!==null&&g!==null&&xae(d,g,p,m,!0)}}e:{if(f=u?Iw(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=YUe;else if(mae(f))if(l_e)E=JUe;else{E=XUe;var S=KUe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=QUe);if(E&&(E=E(e,u))){a_e(d,E,n,c);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&P7(f,"number",f.value)}switch(S=u?Iw(u):window,e){case"focusin":(mae(S)||S.contentEditable==="true")&&(Cw=S,V7=u,I2=null);break;case"focusout":I2=V7=Cw=null;break;case"mousedown":H7=!0;break;case"contextmenu":case"mouseup":case"dragend":H7=!1,_ae(d,n,c);break;case"selectionchange":if(tVe)break;case"keydown":case"keyup":_ae(d,n,c)}var x;if(jG)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Tw?s_e(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(i_e&&n.locale!=="ko"&&(Tw||T!=="onCompositionStart"?T==="onCompositionEnd"&&Tw&&(x=r_e()):(y0=c,$G="value"in y0?y0.value:y0.textContent,Tw=!0)),S=gM(u,T),0<S.length&&(T=new dae(T,e,null,n,c),d.push({event:T,listeners:S}),x?T.data=x:(x=o_e(n),x!==null&&(T.data=x)))),(x=VUe?HUe(e,n):qUe(e,n))&&(u=gM(u,"onBeforeInput"),0<u.length&&(c=new dae("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}v_e(d,t)})}function MA(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gM(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=IA(e,n),s!=null&&r.unshift(MA(e,s,i)),s=IA(e,t),s!=null&&r.push(MA(e,s,i))),e=e.return}return r}function R_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xae(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=IA(n,s),l!=null&&o.unshift(MA(n,l,a))):i||(l=IA(n,s),l!=null&&o.push(MA(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var sVe=/\r\n?/g,oVe=/\u0000|\uFFFD/g;function Sae(e){return(typeof e=="string"?e:""+e).replace(sVe,`
`).replace(oVe,"")}function WP(e,t,n){if(t=Sae(t),Sae(e)!==t&&n)throw Error(at(425))}function yM(){}var q7=null,W7=null;function G7(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y7=typeof setTimeout=="function"?setTimeout:void 0,aVe=typeof clearTimeout=="function"?clearTimeout:void 0,Tae=typeof Promise=="function"?Promise:void 0,lVe=typeof queueMicrotask=="function"?queueMicrotask:typeof Tae<"u"?function(e){return Tae.resolve(null).then(e).catch(uVe)}:Y7;function uVe(e){setTimeout(function(){throw e})}function E8(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),PA(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);PA(t)}function $0(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cae(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eS=Math.random().toString(36).slice(2),gh="__reactFiber$"+eS,$A="__reactProps$"+eS,Fm="__reactContainer$"+eS,K7="__reactEvents$"+eS,cVe="__reactListeners$"+eS,dVe="__reactHandles$"+eS;function E1(e){var t=e[gh];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fm]||n[gh]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cae(e);e!==null;){if(n=e[gh])return n;e=Cae(e)}return t}e=n,n=e.parentNode}return null}function TR(e){return e=e[gh]||e[Fm],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Iw(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(at(33))}function XL(e){return e[$A]||null}var X7=[],Rw=-1;function qy(e){return{current:e}}function ki(e){0>Rw||(e.current=X7[Rw],X7[Rw]=null,Rw--)}function vi(e,t){Rw++,X7[Rw]=e.current,e.current=t}var iy={},$a=qy(iy),Jl=qy(!1),Z1=iy;function OE(e,t){var n=e.type.contextTypes;if(!n)return iy;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zl(e){return e=e.childContextTypes,e!=null}function vM(){ki(Jl),ki($a)}function Aae(e,t,n){if($a.current!==iy)throw Error(at(168));vi($a,t),vi(Jl,n)}function __e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(at(108,K7e(e)||"Unknown",i));return Ki({},n,r)}function bM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||iy,Z1=$a.current,vi($a,e),vi(Jl,Jl.current),!0}function Iae(e,t,n){var r=e.stateNode;if(!r)throw Error(at(169));n?(e=__e(e,t,Z1),r.__reactInternalMemoizedMergedChildContext=e,ki(Jl),ki($a),vi($a,e)):ki(Jl),vi(Jl,n)}var Zp=null,QL=!1,x8=!1;function w_e(e){Zp===null?Zp=[e]:Zp.push(e)}function fVe(e){QL=!0,w_e(e)}function Wy(){if(!x8&&Zp!==null){x8=!0;var e=0,t=Gr;try{var n=Zp;for(Gr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zp=null,QL=!1}catch(i){throw Zp!==null&&(Zp=Zp.slice(e+1)),Wbe(NG,Wy),i}finally{Gr=t,x8=!1}}return null}var kw=[],Pw=0,_M=null,wM=0,Cc=[],Ac=0,eb=null,um=1,cm="";function Gv(e,t){kw[Pw++]=wM,kw[Pw++]=_M,_M=e,wM=t}function E_e(e,t,n){Cc[Ac++]=um,Cc[Ac++]=cm,Cc[Ac++]=eb,eb=e;var r=um;e=cm;var i=32-ef(r)-1;r&=~(1<<i),n+=1;var s=32-ef(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,um=1<<32-ef(t)+i|n<<i|r,cm=s+e}else um=1<<s|n<<i|r,cm=e}function zG(e){e.return!==null&&(Gv(e,1),E_e(e,1,0))}function UG(e){for(;e===_M;)_M=kw[--Pw],kw[Pw]=null,wM=kw[--Pw],kw[Pw]=null;for(;e===eb;)eb=Cc[--Ac],Cc[Ac]=null,cm=Cc[--Ac],Cc[Ac]=null,um=Cc[--Ac],Cc[Ac]=null}var Wu=null,Fu=null,Li=!1,jd=null;function x_e(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rae(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wu=e,Fu=$0(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wu=e,Fu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=eb!==null?{id:um,overflow:cm}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mc(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wu=e,Fu=null,!0):!1;default:return!1}}function Q7(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J7(e){if(Li){var t=Fu;if(t){var n=t;if(!Rae(e,t)){if(Q7(e))throw Error(at(418));t=$0(n.nextSibling);var r=Wu;t&&Rae(e,t)?x_e(r,n):(e.flags=e.flags&-4097|2,Li=!1,Wu=e)}}else{if(Q7(e))throw Error(at(418));e.flags=e.flags&-4097|2,Li=!1,Wu=e}}}function kae(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wu=e}function GP(e){if(e!==Wu)return!1;if(!Li)return kae(e),Li=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!G7(e.type,e.memoizedProps)),t&&(t=Fu)){if(Q7(e))throw S_e(),Error(at(418));for(;t;)x_e(e,t),t=$0(t.nextSibling)}if(kae(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(at(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fu=$0(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fu=null}}else Fu=Wu?$0(e.stateNode.nextSibling):null;return!0}function S_e(){for(var e=Fu;e;)e=$0(e.nextSibling)}function DE(){Fu=Wu=null,Li=!1}function VG(e){jd===null?jd=[e]:jd.push(e)}var hVe=cg.ReactCurrentBatchConfig;function CT(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(at(309));var r=n.stateNode}if(!r)throw Error(at(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(at(284));if(!n._owner)throw Error(at(290,e))}return e}function YP(e,t){throw e=Object.prototype.toString.call(t),Error(at(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pae(e){var t=e._init;return t(e._payload)}function T_e(e){function t(y,v){if(e){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=B0(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,_,w){return v===null||v.tag!==6?(v=k8(_,y.mode,w),v.return=y,v):(v=i(v,_),v.return=y,v)}function l(y,v,_,w){var E=_.type;return E===Sw?c(y,v,_.props.children,w,_.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qg&&Pae(E)===v.type)?(w=i(v,_.props),w.ref=CT(y,v,_),w.return=y,w):(w=YO(_.type,_.key,_.props,null,y.mode,w),w.ref=CT(y,v,_),w.return=y,w)}function u(y,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=P8(_,y.mode,w),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function c(y,v,_,w,E){return v===null||v.tag!==7?(v=F1(_,y.mode,w,E),v.return=y,v):(v=i(v,_),v.return=y,v)}function d(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=k8(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case LP:return _=YO(v.type,v.key,v.props,null,y.mode,_),_.ref=CT(y,null,v),_.return=y,_;case xw:return v=P8(v,y.mode,_),v.return=y,v;case Qg:var w=v._init;return d(y,w(v._payload),_)}if(CC(v)||wT(v))return v=F1(v,y.mode,_,null),v.return=y,v;YP(y,v)}return null}function f(y,v,_,w){var E=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(y,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case LP:return _.key===E?l(y,v,_,w):null;case xw:return _.key===E?u(y,v,_,w):null;case Qg:return E=_._init,f(y,v,E(_._payload),w)}if(CC(_)||wT(_))return E!==null?null:c(y,v,_,w,null);YP(y,_)}return null}function h(y,v,_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(_)||null,a(v,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case LP:return y=y.get(w.key===null?_:w.key)||null,l(v,y,w,E);case xw:return y=y.get(w.key===null?_:w.key)||null,u(v,y,w,E);case Qg:var S=w._init;return h(y,v,_,S(w._payload),E)}if(CC(w)||wT(w))return y=y.get(_)||null,c(v,y,w,E,null);YP(v,w)}return null}function p(y,v,_,w){for(var E=null,S=null,x=v,T=v=0,I=null;x!==null&&T<_.length;T++){x.index>T?(I=x,x=null):I=x.sibling;var P=f(y,x,_[T],w);if(P===null){x===null&&(x=I);break}e&&x&&P.alternate===null&&t(y,x),v=s(P,v,T),S===null?E=P:S.sibling=P,S=P,x=I}if(T===_.length)return n(y,x),Li&&Gv(y,T),E;if(x===null){for(;T<_.length;T++)x=d(y,_[T],w),x!==null&&(v=s(x,v,T),S===null?E=x:S.sibling=x,S=x);return Li&&Gv(y,T),E}for(x=r(y,x);T<_.length;T++)I=h(x,y,T,_[T],w),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?T:I.key),v=s(I,v,T),S===null?E=I:S.sibling=I,S=I);return e&&x.forEach(function(k){return t(y,k)}),Li&&Gv(y,T),E}function m(y,v,_,w){var E=wT(_);if(typeof E!="function")throw Error(at(150));if(_=E.call(_),_==null)throw Error(at(151));for(var S=E=null,x=v,T=v=0,I=null,P=_.next();x!==null&&!P.done;T++,P=_.next()){x.index>T?(I=x,x=null):I=x.sibling;var k=f(y,x,P.value,w);if(k===null){x===null&&(x=I);break}e&&x&&k.alternate===null&&t(y,x),v=s(k,v,T),S===null?E=k:S.sibling=k,S=k,x=I}if(P.done)return n(y,x),Li&&Gv(y,T),E;if(x===null){for(;!P.done;T++,P=_.next())P=d(y,P.value,w),P!==null&&(v=s(P,v,T),S===null?E=P:S.sibling=P,S=P);return Li&&Gv(y,T),E}for(x=r(y,x);!P.done;T++,P=_.next())P=h(x,y,T,P.value,w),P!==null&&(e&&P.alternate!==null&&x.delete(P.key===null?T:P.key),v=s(P,v,T),S===null?E=P:S.sibling=P,S=P);return e&&x.forEach(function(D){return t(y,D)}),Li&&Gv(y,T),E}function g(y,v,_,w){if(typeof _=="object"&&_!==null&&_.type===Sw&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case LP:e:{for(var E=_.key,S=v;S!==null;){if(S.key===E){if(E=_.type,E===Sw){if(S.tag===7){n(y,S.sibling),v=i(S,_.props.children),v.return=y,y=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qg&&Pae(E)===S.type){n(y,S.sibling),v=i(S,_.props),v.ref=CT(y,S,_),v.return=y,y=v;break e}n(y,S);break}else t(y,S);S=S.sibling}_.type===Sw?(v=F1(_.props.children,y.mode,w,_.key),v.return=y,y=v):(w=YO(_.type,_.key,_.props,null,y.mode,w),w.ref=CT(y,v,_),w.return=y,y=w)}return o(y);case xw:e:{for(S=_.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=P8(_,y.mode,w),v.return=y,y=v}return o(y);case Qg:return S=_._init,g(y,v,S(_._payload),w)}if(CC(_))return p(y,v,_,w);if(wT(_))return m(y,v,_,w);YP(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,_),v.return=y,y=v):(n(y,v),v=k8(_,y.mode,w),v.return=y,y=v),o(y)):n(y,v)}return g}var ME=T_e(!0),C_e=T_e(!1),EM=qy(null),xM=null,Nw=null,HG=null;function qG(){HG=Nw=xM=null}function WG(e){var t=EM.current;ki(EM),e._currentValue=t}function Z7(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zw(e,t){xM=e,HG=Nw=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wl=!0),e.firstContext=null)}function Xc(e){var t=e._currentValue;if(HG!==e)if(e={context:e,memoizedValue:t,next:null},Nw===null){if(xM===null)throw Error(at(308));Nw=e,xM.dependencies={lanes:0,firstContext:e}}else Nw=Nw.next=e;return t}var x1=null;function GG(e){x1===null?x1=[e]:x1.push(e)}function A_e(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,GG(t)):(n.next=i.next,i.next=n),t.interleaved=n,jm(e,r)}function jm(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jg=!1;function YG(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I_e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wm(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function L0(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Er&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jm(e,n)}return i=r.interleaved,i===null?(t.next=t,GG(r)):(t.next=i.next,i.next=t),r.interleaved=t,jm(e,n)}function UO(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OG(e,n)}}function Nae(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function SM(e,t,n,r){var i=e.updateQueue;Jg=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Ki({},d,f);break e;case 2:Jg=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);nb|=o,e.lanes=o,e.memoizedState=d}}function Oae(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(at(191,i));i.call(r)}}}var CR={},$h=qy(CR),LA=qy(CR),FA=qy(CR);function S1(e){if(e===CR)throw Error(at(174));return e}function KG(e,t){switch(vi(FA,t),vi(LA,e),vi($h,CR),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O7(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O7(t,e)}ki($h),vi($h,t)}function $E(){ki($h),ki(LA),ki(FA)}function R_e(e){S1(FA.current);var t=S1($h.current),n=O7(t,e.type);t!==n&&(vi(LA,e),vi($h,n))}function XG(e){LA.current===e&&(ki($h),ki(LA))}var qi=qy(0);function TM(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var S8=[];function QG(){for(var e=0;e<S8.length;e++)S8[e]._workInProgressVersionPrimary=null;S8.length=0}var VO=cg.ReactCurrentDispatcher,T8=cg.ReactCurrentBatchConfig,tb=0,Gi=null,zs=null,ho=null,CM=!1,R2=!1,jA=0,pVe=0;function ua(){throw Error(at(321))}function JG(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mf(e[n],t[n]))return!1;return!0}function ZG(e,t,n,r,i,s){if(tb=s,Gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,VO.current=e===null||e.memoizedState===null?vVe:bVe,e=n(r,i),R2){s=0;do{if(R2=!1,jA=0,25<=s)throw Error(at(301));s+=1,ho=zs=null,t.updateQueue=null,VO.current=_Ve,e=n(r,i)}while(R2)}if(VO.current=AM,t=zs!==null&&zs.next!==null,tb=0,ho=zs=Gi=null,CM=!1,t)throw Error(at(300));return e}function eY(){var e=jA!==0;return jA=0,e}function ih(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ho===null?Gi.memoizedState=ho=e:ho=ho.next=e,ho}function Qc(){if(zs===null){var e=Gi.alternate;e=e!==null?e.memoizedState:null}else e=zs.next;var t=ho===null?Gi.memoizedState:ho.next;if(t!==null)ho=t,zs=e;else{if(e===null)throw Error(at(310));zs=e,e={memoizedState:zs.memoizedState,baseState:zs.baseState,baseQueue:zs.baseQueue,queue:zs.queue,next:null},ho===null?Gi.memoizedState=ho=e:ho=ho.next=e}return ho}function BA(e,t){return typeof t=="function"?t(e):t}function C8(e){var t=Qc(),n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=e;var r=zs,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((tb&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Gi.lanes|=c,nb|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,mf(r,t.memoizedState)||(Wl=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Gi.lanes|=s,nb|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function A8(e){var t=Qc(),n=t.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);mf(s,t.memoizedState)||(Wl=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function k_e(){}function P_e(e,t){var n=Gi,r=Qc(),i=t(),s=!mf(r.memoizedState,i);if(s&&(r.memoizedState=i,Wl=!0),r=r.queue,tY(D_e.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ho!==null&&ho.memoizedState.tag&1){if(n.flags|=2048,zA(9,O_e.bind(null,n,r,i,t),void 0,null),Eo===null)throw Error(at(349));tb&30||N_e(n,t,i)}return i}function N_e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gi.updateQueue,t===null?(t={lastEffect:null,stores:null},Gi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O_e(e,t,n,r){t.value=n,t.getSnapshot=r,M_e(t)&&$_e(e)}function D_e(e,t,n){return n(function(){M_e(t)&&$_e(e)})}function M_e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mf(e,n)}catch{return!0}}function $_e(e){var t=jm(e,1);t!==null&&tf(t,e,1,-1)}function Dae(e){var t=ih();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:BA,lastRenderedState:e},t.queue=e,e=e.dispatch=yVe.bind(null,Gi,e),[t.memoizedState,e]}function zA(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Gi.updateQueue,t===null?(t={lastEffect:null,stores:null},Gi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function L_e(){return Qc().memoizedState}function HO(e,t,n,r){var i=ih();Gi.flags|=e,i.memoizedState=zA(1|t,n,void 0,r===void 0?null:r)}function JL(e,t,n,r){var i=Qc();r=r===void 0?null:r;var s=void 0;if(zs!==null){var o=zs.memoizedState;if(s=o.destroy,r!==null&&JG(r,o.deps)){i.memoizedState=zA(t,n,s,r);return}}Gi.flags|=e,i.memoizedState=zA(1|t,n,s,r)}function Mae(e,t){return HO(8390656,8,e,t)}function tY(e,t){return JL(2048,8,e,t)}function F_e(e,t){return JL(4,2,e,t)}function j_e(e,t){return JL(4,4,e,t)}function B_e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z_e(e,t,n){return n=n!=null?n.concat([e]):null,JL(4,4,B_e.bind(null,t,e),n)}function nY(){}function U_e(e,t){var n=Qc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JG(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function V_e(e,t){var n=Qc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JG(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function H_e(e,t,n){return tb&21?(mf(n,t)||(n=Kbe(),Gi.lanes|=n,nb|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wl=!0),e.memoizedState=n)}function mVe(e,t){var n=Gr;Gr=n!==0&&4>n?n:4,e(!0);var r=T8.transition;T8.transition={};try{e(!1),t()}finally{Gr=n,T8.transition=r}}function q_e(){return Qc().memoizedState}function gVe(e,t,n){var r=j0(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W_e(e))G_e(t,n);else if(n=A_e(e,t,n,r),n!==null){var i=al();tf(n,e,r,i),Y_e(n,t,r)}}function yVe(e,t,n){var r=j0(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W_e(e))G_e(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mf(a,o)){var l=t.interleaved;l===null?(i.next=i,GG(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=A_e(e,t,i,r),n!==null&&(i=al(),tf(n,e,r,i),Y_e(n,t,r))}}function W_e(e){var t=e.alternate;return e===Gi||t!==null&&t===Gi}function G_e(e,t){R2=CM=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Y_e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OG(e,n)}}var AM={readContext:Xc,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},vVe={readContext:Xc,useCallback:function(e,t){return ih().memoizedState=[e,t===void 0?null:t],e},useContext:Xc,useEffect:Mae,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,HO(4194308,4,B_e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return HO(4194308,4,e,t)},useInsertionEffect:function(e,t){return HO(4,2,e,t)},useMemo:function(e,t){var n=ih();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ih();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gVe.bind(null,Gi,e),[r.memoizedState,e]},useRef:function(e){var t=ih();return e={current:e},t.memoizedState=e},useState:Dae,useDebugValue:nY,useDeferredValue:function(e){return ih().memoizedState=e},useTransition:function(){var e=Dae(!1),t=e[0];return e=mVe.bind(null,e[1]),ih().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Gi,i=ih();if(Li){if(n===void 0)throw Error(at(407));n=n()}else{if(n=t(),Eo===null)throw Error(at(349));tb&30||N_e(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Mae(D_e.bind(null,r,s,e),[e]),r.flags|=2048,zA(9,O_e.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ih(),t=Eo.identifierPrefix;if(Li){var n=cm,r=um;n=(r&~(1<<32-ef(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jA++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pVe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bVe={readContext:Xc,useCallback:U_e,useContext:Xc,useEffect:tY,useImperativeHandle:z_e,useInsertionEffect:F_e,useLayoutEffect:j_e,useMemo:V_e,useReducer:C8,useRef:L_e,useState:function(){return C8(BA)},useDebugValue:nY,useDeferredValue:function(e){var t=Qc();return H_e(t,zs.memoizedState,e)},useTransition:function(){var e=C8(BA)[0],t=Qc().memoizedState;return[e,t]},useMutableSource:k_e,useSyncExternalStore:P_e,useId:q_e,unstable_isNewReconciler:!1},_Ve={readContext:Xc,useCallback:U_e,useContext:Xc,useEffect:tY,useImperativeHandle:z_e,useInsertionEffect:F_e,useLayoutEffect:j_e,useMemo:V_e,useReducer:A8,useRef:L_e,useState:function(){return A8(BA)},useDebugValue:nY,useDeferredValue:function(e){var t=Qc();return zs===null?t.memoizedState=e:H_e(t,zs.memoizedState,e)},useTransition:function(){var e=A8(BA)[0],t=Qc().memoizedState;return[e,t]},useMutableSource:k_e,useSyncExternalStore:P_e,useId:q_e,unstable_isNewReconciler:!1};function Od(e,t){if(e&&e.defaultProps){t=Ki({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eU(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ki({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ZL={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=al(),i=j0(e),s=wm(r,i);s.payload=t,n!=null&&(s.callback=n),t=L0(e,s,i),t!==null&&(tf(t,e,i,r),UO(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=al(),i=j0(e),s=wm(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=L0(e,s,i),t!==null&&(tf(t,e,i,r),UO(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=al(),r=j0(e),i=wm(n,r);i.tag=2,t!=null&&(i.callback=t),t=L0(e,i,r),t!==null&&(tf(t,e,r,n),UO(t,e,r))}};function $ae(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!OA(n,r)||!OA(i,s):!0}function K_e(e,t,n){var r=!1,i=iy,s=t.contextType;return typeof s=="object"&&s!==null?s=Xc(s):(i=Zl(t)?Z1:$a.current,r=t.contextTypes,s=(r=r!=null)?OE(e,i):iy),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ZL,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Lae(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ZL.enqueueReplaceState(t,t.state,null)}function tU(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},YG(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xc(s):(s=Zl(t)?Z1:$a.current,i.context=OE(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(eU(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ZL.enqueueReplaceState(i,i.state,null),SM(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function LE(e,t){try{var n="",r=t;do n+=Y7e(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function I8(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nU(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wVe=typeof WeakMap=="function"?WeakMap:Map;function X_e(e,t,n){n=wm(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){RM||(RM=!0,fU=r),nU(e,t)},n}function Q_e(e,t,n){n=wm(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nU(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nU(e,t),typeof r!="function"&&(F0===null?F0=new Set([this]):F0.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fae(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wVe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=MVe.bind(null,e,t,n),t.then(e,e))}function jae(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bae(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wm(-1,1),t.tag=2,L0(n,t,1))),n.lanes|=1),e)}var EVe=cg.ReactCurrentOwner,Wl=!1;function Xa(e,t,n,r){t.child=e===null?C_e(t,null,n,r):ME(t,e.child,n,r)}function zae(e,t,n,r,i){n=n.render;var s=t.ref;return Zw(t,i),r=ZG(e,t,n,r,s,i),n=eY(),e!==null&&!Wl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bm(e,t,i)):(Li&&n&&zG(t),t.flags|=1,Xa(e,t,r,i),t.child)}function Uae(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cY(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,J_e(e,t,s,r,i)):(e=YO(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:OA,n(o,r)&&e.ref===t.ref)return Bm(e,t,i)}return t.flags|=1,e=B0(s,r),e.ref=t.ref,e.return=t,t.child=e}function J_e(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(OA(s,r)&&e.ref===t.ref)if(Wl=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Wl=!0);else return t.lanes=e.lanes,Bm(e,t,i)}return rU(e,t,n,r,i)}function Z_e(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vi(Dw,Pu),Pu|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vi(Dw,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,vi(Dw,Pu),Pu|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,vi(Dw,Pu),Pu|=r;return Xa(e,t,i,n),t.child}function ewe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rU(e,t,n,r,i){var s=Zl(n)?Z1:$a.current;return s=OE(t,s),Zw(t,i),n=ZG(e,t,n,r,s,i),r=eY(),e!==null&&!Wl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bm(e,t,i)):(Li&&r&&zG(t),t.flags|=1,Xa(e,t,n,i),t.child)}function Vae(e,t,n,r,i){if(Zl(n)){var s=!0;bM(t)}else s=!1;if(Zw(t,i),t.stateNode===null)qO(e,t),K_e(t,n,r),tU(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xc(u):(u=Zl(n)?Z1:$a.current,u=OE(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Lae(t,o,r,u),Jg=!1;var f=t.memoizedState;o.state=f,SM(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Jl.current||Jg?(typeof c=="function"&&(eU(t,n,c,r),l=t.memoizedState),(a=Jg||$ae(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,I_e(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Od(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xc(l):(l=Zl(n)?Z1:$a.current,l=OE(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Lae(t,o,r,l),Jg=!1,f=t.memoizedState,o.state=f,SM(t,r,o,i);var p=t.memoizedState;a!==d||f!==p||Jl.current||Jg?(typeof h=="function"&&(eU(t,n,h,r),p=t.memoizedState),(u=Jg||$ae(t,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return iU(e,t,n,r,s,i)}function iU(e,t,n,r,i,s){ewe(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Iae(t,n,!1),Bm(e,t,s);r=t.stateNode,EVe.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ME(t,e.child,null,s),t.child=ME(t,null,a,s)):Xa(e,t,a,s),t.memoizedState=r.state,i&&Iae(t,n,!0),t.child}function twe(e){var t=e.stateNode;t.pendingContext?Aae(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Aae(e,t.context,!1),KG(e,t.containerInfo)}function Hae(e,t,n,r,i){return DE(),VG(i),t.flags|=256,Xa(e,t,n,r),t.child}var sU={dehydrated:null,treeContext:null,retryLane:0};function oU(e){return{baseLanes:e,cachePool:null,transitions:null}}function nwe(e,t,n){var r=t.pendingProps,i=qi.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),vi(qi,i&1),e===null)return J7(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nF(o,r,0,null),e=F1(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oU(n),t.memoizedState=sU,e):rY(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xVe(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=B0(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=B0(a,s):(s=F1(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?oU(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=sU,r}return s=e.child,e=s.sibling,r=B0(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rY(e,t){return t=nF({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function KP(e,t,n,r){return r!==null&&VG(r),ME(t,e.child,null,n),e=rY(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xVe(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=I8(Error(at(422))),KP(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=nF({mode:"visible",children:r.children},i,0,null),s=F1(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ME(t,e.child,null,o),t.child.memoizedState=oU(o),t.memoizedState=sU,s);if(!(t.mode&1))return KP(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(at(419)),r=I8(s,r,void 0),KP(e,t,o,r)}if(a=(o&e.childLanes)!==0,Wl||a){if(r=Eo,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jm(e,i),tf(r,e,i,-1))}return uY(),r=I8(Error(at(421))),KP(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$Ve.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Fu=$0(i.nextSibling),Wu=t,Li=!0,jd=null,e!==null&&(Cc[Ac++]=um,Cc[Ac++]=cm,Cc[Ac++]=eb,um=e.id,cm=e.overflow,eb=t),t=rY(t,r.children),t.flags|=4096,t)}function qae(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Z7(e.return,t,n)}function R8(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rwe(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Xa(e,t,r.children,n),r=qi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qae(e,n,t);else if(e.tag===19)qae(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(qi,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&TM(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),R8(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&TM(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}R8(t,!0,n,null,s);break;case"together":R8(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qO(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bm(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nb|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(at(153));if(t.child!==null){for(e=t.child,n=B0(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=B0(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SVe(e,t,n){switch(t.tag){case 3:twe(t),DE();break;case 5:R_e(t);break;case 1:Zl(t.type)&&bM(t);break;case 4:KG(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;vi(EM,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(vi(qi,qi.current&1),t.flags|=128,null):n&t.child.childLanes?nwe(e,t,n):(vi(qi,qi.current&1),e=Bm(e,t,n),e!==null?e.sibling:null);vi(qi,qi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rwe(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vi(qi,qi.current),r)break;return null;case 22:case 23:return t.lanes=0,Z_e(e,t,n)}return Bm(e,t,n)}var iwe,aU,swe,owe;iwe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aU=function(){};swe=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,S1($h.current);var s=null;switch(n){case"input":i=R7(e,i),r=R7(e,r),s=[];break;case"select":i=Ki({},i,{value:void 0}),r=Ki({},r,{value:void 0}),s=[];break;case"textarea":i=N7(e,i),r=N7(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yM)}D7(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(CA.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(CA.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xi("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};owe=function(e,t,n,r){n!==r&&(t.flags|=4)};function AT(e,t){if(!Li)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ca(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TVe(e,t,n){var r=t.pendingProps;switch(UG(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(t),null;case 1:return Zl(t.type)&&vM(),ca(t),null;case 3:return r=t.stateNode,$E(),ki(Jl),ki($a),QG(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(GP(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jd!==null&&(mU(jd),jd=null))),aU(e,t),ca(t),null;case 5:XG(t);var i=S1(FA.current);if(n=t.type,e!==null&&t.stateNode!=null)swe(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(at(166));return ca(t),null}if(e=S1($h.current),GP(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[gh]=t,r[$A]=s,e=(t.mode&1)!==0,n){case"dialog":xi("cancel",r),xi("close",r);break;case"iframe":case"object":case"embed":xi("load",r);break;case"video":case"audio":for(i=0;i<IC.length;i++)xi(IC[i],r);break;case"source":xi("error",r);break;case"img":case"image":case"link":xi("error",r),xi("load",r);break;case"details":xi("toggle",r);break;case"input":eae(r,s),xi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xi("invalid",r);break;case"textarea":nae(r,s),xi("invalid",r)}D7(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&WP(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&WP(r.textContent,a,e),i=["children",""+a]):CA.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xi("scroll",r)}switch(n){case"input":FP(r),tae(r,s,!0);break;case"textarea":FP(r),rae(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yM)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dbe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[gh]=t,e[$A]=r,iwe(e,t,!1,!1),t.stateNode=e;e:{switch(o=M7(n,r),n){case"dialog":xi("cancel",e),xi("close",e),i=r;break;case"iframe":case"object":case"embed":xi("load",e),i=r;break;case"video":case"audio":for(i=0;i<IC.length;i++)xi(IC[i],e);i=r;break;case"source":xi("error",e),i=r;break;case"img":case"image":case"link":xi("error",e),xi("load",e),i=r;break;case"details":xi("toggle",e),i=r;break;case"input":eae(e,r),i=R7(e,r),xi("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ki({},r,{value:void 0}),xi("invalid",e);break;case"textarea":nae(e,r),i=N7(e,r),xi("invalid",e);break;default:i=r}D7(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lbe(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mbe(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&AA(e,l):typeof l=="number"&&AA(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(CA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xi("scroll",e):l!=null&&AG(e,s,l,o))}switch(n){case"input":FP(e),tae(e,r,!1);break;case"textarea":FP(e),rae(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ry(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Kw(e,!!r.multiple,s,!1):r.defaultValue!=null&&Kw(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ca(t),null;case 6:if(e&&t.stateNode!=null)owe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(at(166));if(n=S1(FA.current),S1($h.current),GP(t)){if(r=t.stateNode,n=t.memoizedProps,r[gh]=t,(s=r.nodeValue!==n)&&(e=Wu,e!==null))switch(e.tag){case 3:WP(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&WP(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gh]=t,t.stateNode=r}return ca(t),null;case 13:if(ki(qi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Li&&Fu!==null&&t.mode&1&&!(t.flags&128))S_e(),DE(),t.flags|=98560,s=!1;else if(s=GP(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(at(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(at(317));s[gh]=t}else DE(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ca(t),s=!1}else jd!==null&&(mU(jd),jd=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qi.current&1?Ks===0&&(Ks=3):uY())),t.updateQueue!==null&&(t.flags|=4),ca(t),null);case 4:return $E(),aU(e,t),e===null&&DA(t.stateNode.containerInfo),ca(t),null;case 10:return WG(t.type._context),ca(t),null;case 17:return Zl(t.type)&&vM(),ca(t),null;case 19:if(ki(qi),s=t.memoizedState,s===null)return ca(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)AT(s,!1);else{if(Ks!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=TM(e),o!==null){for(t.flags|=128,AT(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return vi(qi,qi.current&1|2),t.child}e=e.sibling}s.tail!==null&&_s()>FE&&(t.flags|=128,r=!0,AT(s,!1),t.lanes=4194304)}else{if(!r)if(e=TM(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),AT(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Li)return ca(t),null}else 2*_s()-s.renderingStartTime>FE&&n!==1073741824&&(t.flags|=128,r=!0,AT(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_s(),t.sibling=null,n=qi.current,vi(qi,r?n&1|2:n&1),t):(ca(t),null);case 22:case 23:return lY(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pu&1073741824&&(ca(t),t.subtreeFlags&6&&(t.flags|=8192)):ca(t),null;case 24:return null;case 25:return null}throw Error(at(156,t.tag))}function CVe(e,t){switch(UG(t),t.tag){case 1:return Zl(t.type)&&vM(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $E(),ki(Jl),ki($a),QG(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return XG(t),null;case 13:if(ki(qi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(at(340));DE()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ki(qi),null;case 4:return $E(),null;case 10:return WG(t.type._context),null;case 22:case 23:return lY(),null;case 24:return null;default:return null}}var XP=!1,Sa=!1,AVe=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Ow(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ss(e,t,r)}else n.current=null}function lU(e,t,n){try{n()}catch(r){ss(e,t,r)}}var Wae=!1;function IVe(e,t){if(q7=pM,e=d_e(),BG(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(W7={focusedElem:e,selectionRange:n},pM=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Od(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(w){ss(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return p=Wae,Wae=!1,p}function k2(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&lU(t,n,s)}i=i.next}while(i!==r)}}function eF(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uU(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function awe(e){var t=e.alternate;t!==null&&(e.alternate=null,awe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gh],delete t[$A],delete t[K7],delete t[cVe],delete t[dVe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lwe(e){return e.tag===5||e.tag===3||e.tag===4}function Gae(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lwe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cU(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yM));else if(r!==4&&(e=e.child,e!==null))for(cU(e,t,n),e=e.sibling;e!==null;)cU(e,t,n),e=e.sibling}function dU(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dU(e,t,n),e=e.sibling;e!==null;)dU(e,t,n),e=e.sibling}var Mo=null,Md=!1;function Og(e,t,n){for(n=n.child;n!==null;)uwe(e,t,n),n=n.sibling}function uwe(e,t,n){if(Mh&&typeof Mh.onCommitFiberUnmount=="function")try{Mh.onCommitFiberUnmount(WL,n)}catch{}switch(n.tag){case 5:Sa||Ow(n,t);case 6:var r=Mo,i=Md;Mo=null,Og(e,t,n),Mo=r,Md=i,Mo!==null&&(Md?(e=Mo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mo.removeChild(n.stateNode));break;case 18:Mo!==null&&(Md?(e=Mo,n=n.stateNode,e.nodeType===8?E8(e.parentNode,n):e.nodeType===1&&E8(e,n),PA(e)):E8(Mo,n.stateNode));break;case 4:r=Mo,i=Md,Mo=n.stateNode.containerInfo,Md=!0,Og(e,t,n),Mo=r,Md=i;break;case 0:case 11:case 14:case 15:if(!Sa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lU(n,t,o),i=i.next}while(i!==r)}Og(e,t,n);break;case 1:if(!Sa&&(Ow(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ss(n,t,a)}Og(e,t,n);break;case 21:Og(e,t,n);break;case 22:n.mode&1?(Sa=(r=Sa)||n.memoizedState!==null,Og(e,t,n),Sa=r):Og(e,t,n);break;default:Og(e,t,n)}}function Yae(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AVe),t.forEach(function(r){var i=LVe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xd(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mo=a.stateNode,Md=!1;break e;case 3:Mo=a.stateNode.containerInfo,Md=!0;break e;case 4:Mo=a.stateNode.containerInfo,Md=!0;break e}a=a.return}if(Mo===null)throw Error(at(160));uwe(s,o,i),Mo=null,Md=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ss(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cwe(t,e),t=t.sibling}function cwe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xd(t,e),Kf(e),r&4){try{k2(3,e,e.return),eF(3,e)}catch(m){ss(e,e.return,m)}try{k2(5,e,e.return)}catch(m){ss(e,e.return,m)}}break;case 1:xd(t,e),Kf(e),r&512&&n!==null&&Ow(n,n.return);break;case 5:if(xd(t,e),Kf(e),r&512&&n!==null&&Ow(n,n.return),e.flags&32){var i=e.stateNode;try{AA(i,"")}catch(m){ss(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nbe(i,s),M7(a,o);var u=M7(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Lbe(i,d):c==="dangerouslySetInnerHTML"?Mbe(i,d):c==="children"?AA(i,d):AG(i,c,d,u)}switch(a){case"input":k7(i,s);break;case"textarea":Obe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Kw(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Kw(i,!!s.multiple,s.defaultValue,!0):Kw(i,!!s.multiple,s.multiple?[]:"",!1))}i[$A]=s}catch(m){ss(e,e.return,m)}}break;case 6:if(xd(t,e),Kf(e),r&4){if(e.stateNode===null)throw Error(at(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){ss(e,e.return,m)}}break;case 3:if(xd(t,e),Kf(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{PA(t.containerInfo)}catch(m){ss(e,e.return,m)}break;case 4:xd(t,e),Kf(e);break;case 13:xd(t,e),Kf(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(oY=_s())),r&4&&Yae(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Sa=(u=Sa)||c,xd(t,e),Sa=u):xd(t,e),Kf(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Rt=e,c=e.child;c!==null;){for(d=Rt=c;Rt!==null;){switch(f=Rt,h=f.child,f.tag){case 0:case 11:case 14:case 15:k2(4,f,f.return);break;case 1:Ow(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){ss(r,n,m)}}break;case 5:Ow(f,f.return);break;case 22:if(f.memoizedState!==null){Xae(d);continue}}h!==null?(h.return=f,Rt=h):Xae(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$be("display",o))}catch(m){ss(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){ss(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xd(t,e),Kf(e),r&4&&Yae(e);break;case 21:break;default:xd(t,e),Kf(e)}}function Kf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lwe(n)){var r=n;break e}n=n.return}throw Error(at(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(AA(i,""),r.flags&=-33);var s=Gae(e);dU(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gae(e);cU(e,a,o);break;default:throw Error(at(161))}}catch(l){ss(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RVe(e,t,n){Rt=e,dwe(e)}function dwe(e,t,n){for(var r=(e.mode&1)!==0;Rt!==null;){var i=Rt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||XP;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sa;a=XP;var u=Sa;if(XP=o,(Sa=l)&&!u)for(Rt=i;Rt!==null;)o=Rt,l=o.child,o.tag===22&&o.memoizedState!==null?Qae(i):l!==null?(l.return=o,Rt=l):Qae(i);for(;s!==null;)Rt=s,dwe(s),s=s.sibling;Rt=i,XP=a,Sa=u}Kae(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Rt=s):Kae(e)}}function Kae(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sa||eF(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sa)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Od(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Oae(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oae(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&PA(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Sa||t.flags&512&&uU(t)}catch(f){ss(t,t.return,f)}}if(t===e){Rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Rt=n;break}Rt=t.return}}function Xae(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Rt=n;break}Rt=t.return}}function Qae(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eF(4,t)}catch(l){ss(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ss(t,i,l)}}var s=t.return;try{uU(t)}catch(l){ss(t,s,l)}break;case 5:var o=t.return;try{uU(t)}catch(l){ss(t,o,l)}}}catch(l){ss(t,t.return,l)}if(t===e){Rt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Rt=a;break}Rt=t.return}}var kVe=Math.ceil,IM=cg.ReactCurrentDispatcher,iY=cg.ReactCurrentOwner,Vc=cg.ReactCurrentBatchConfig,Er=0,Eo=null,Ds=null,Wo=0,Pu=0,Dw=qy(0),Ks=0,UA=null,nb=0,tF=0,sY=0,P2=null,Bl=null,oY=0,FE=1/0,Kp=null,RM=!1,fU=null,F0=null,QP=!1,v0=null,kM=0,N2=0,hU=null,WO=-1,GO=0;function al(){return Er&6?_s():WO!==-1?WO:WO=_s()}function j0(e){return e.mode&1?Er&2&&Wo!==0?Wo&-Wo:hVe.transition!==null?(GO===0&&(GO=Kbe()),GO):(e=Gr,e!==0||(e=window.event,e=e===void 0?16:n_e(e.type)),e):1}function tf(e,t,n,r){if(50<N2)throw N2=0,hU=null,Error(at(185));xR(e,n,r),(!(Er&2)||e!==Eo)&&(e===Eo&&(!(Er&2)&&(tF|=n),Ks===4&&a0(e,Wo)),eu(e,r),n===1&&Er===0&&!(t.mode&1)&&(FE=_s()+500,QL&&Wy()))}function eu(e,t){var n=e.callbackNode;hUe(e,t);var r=hM(e,e===Eo?Wo:0);if(r===0)n!==null&&oae(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&oae(n),t===1)e.tag===0?fVe(Jae.bind(null,e)):w_e(Jae.bind(null,e)),lVe(function(){!(Er&6)&&Wy()}),n=null;else{switch(Xbe(r)){case 1:n=NG;break;case 4:n=Gbe;break;case 16:n=fM;break;case 536870912:n=Ybe;break;default:n=fM}n=bwe(n,fwe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fwe(e,t){if(WO=-1,GO=0,Er&6)throw Error(at(327));var n=e.callbackNode;if(eE()&&e.callbackNode!==n)return null;var r=hM(e,e===Eo?Wo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=PM(e,r);else{t=r;var i=Er;Er|=2;var s=pwe();(Eo!==e||Wo!==t)&&(Kp=null,FE=_s()+500,L1(e,t));do try{OVe();break}catch(a){hwe(e,a)}while(!0);qG(),IM.current=s,Er=i,Ds!==null?t=0:(Eo=null,Wo=0,t=Ks)}if(t!==0){if(t===2&&(i=B7(e),i!==0&&(r=i,t=pU(e,i))),t===1)throw n=UA,L1(e,0),a0(e,r),eu(e,_s()),n;if(t===6)a0(e,r);else{if(i=e.current.alternate,!(r&30)&&!PVe(i)&&(t=PM(e,r),t===2&&(s=B7(e),s!==0&&(r=s,t=pU(e,s))),t===1))throw n=UA,L1(e,0),a0(e,r),eu(e,_s()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(at(345));case 2:Yv(e,Bl,Kp);break;case 3:if(a0(e,r),(r&130023424)===r&&(t=oY+500-_s(),10<t)){if(hM(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){al(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Y7(Yv.bind(null,e,Bl,Kp),t);break}Yv(e,Bl,Kp);break;case 4:if(a0(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ef(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=_s()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kVe(r/1960))-r,10<r){e.timeoutHandle=Y7(Yv.bind(null,e,Bl,Kp),r);break}Yv(e,Bl,Kp);break;case 5:Yv(e,Bl,Kp);break;default:throw Error(at(329))}}}return eu(e,_s()),e.callbackNode===n?fwe.bind(null,e):null}function pU(e,t){var n=P2;return e.current.memoizedState.isDehydrated&&(L1(e,t).flags|=256),e=PM(e,t),e!==2&&(t=Bl,Bl=n,t!==null&&mU(t)),e}function mU(e){Bl===null?Bl=e:Bl.push.apply(Bl,e)}function PVe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mf(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function a0(e,t){for(t&=~sY,t&=~tF,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ef(t),r=1<<n;e[n]=-1,t&=~r}}function Jae(e){if(Er&6)throw Error(at(327));eE();var t=hM(e,0);if(!(t&1))return eu(e,_s()),null;var n=PM(e,t);if(e.tag!==0&&n===2){var r=B7(e);r!==0&&(t=r,n=pU(e,r))}if(n===1)throw n=UA,L1(e,0),a0(e,t),eu(e,_s()),n;if(n===6)throw Error(at(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yv(e,Bl,Kp),eu(e,_s()),null}function aY(e,t){var n=Er;Er|=1;try{return e(t)}finally{Er=n,Er===0&&(FE=_s()+500,QL&&Wy())}}function rb(e){v0!==null&&v0.tag===0&&!(Er&6)&&eE();var t=Er;Er|=1;var n=Vc.transition,r=Gr;try{if(Vc.transition=null,Gr=1,e)return e()}finally{Gr=r,Vc.transition=n,Er=t,!(Er&6)&&Wy()}}function lY(){Pu=Dw.current,ki(Dw)}function L1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aVe(n)),Ds!==null)for(n=Ds.return;n!==null;){var r=n;switch(UG(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vM();break;case 3:$E(),ki(Jl),ki($a),QG();break;case 5:XG(r);break;case 4:$E();break;case 13:ki(qi);break;case 19:ki(qi);break;case 10:WG(r.type._context);break;case 22:case 23:lY()}n=n.return}if(Eo=e,Ds=e=B0(e.current,null),Wo=Pu=t,Ks=0,UA=null,sY=tF=nb=0,Bl=P2=null,x1!==null){for(t=0;t<x1.length;t++)if(n=x1[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}x1=null}return e}function hwe(e,t){do{var n=Ds;try{if(qG(),VO.current=AM,CM){for(var r=Gi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}CM=!1}if(tb=0,ho=zs=Gi=null,R2=!1,jA=0,iY.current=null,n===null||n.return===null){Ks=1,UA=t,Ds=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Wo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=jae(o);if(h!==null){h.flags&=-257,Bae(h,o,a,s,t),h.mode&1&&Fae(s,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){Fae(s,u,t),uY();break e}l=Error(at(426))}}else if(Li&&a.mode&1){var g=jae(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Bae(g,o,a,s,t),VG(LE(l,a));break e}}s=l=LE(l,a),Ks!==4&&(Ks=2),P2===null?P2=[s]:P2.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=X_e(s,l,t);Nae(s,y);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(F0===null||!F0.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Q_e(s,a,t);Nae(s,w);break e}}s=s.return}while(s!==null)}gwe(n)}catch(E){t=E,Ds===n&&n!==null&&(Ds=n=n.return);continue}break}while(!0)}function pwe(){var e=IM.current;return IM.current=AM,e===null?AM:e}function uY(){(Ks===0||Ks===3||Ks===2)&&(Ks=4),Eo===null||!(nb&268435455)&&!(tF&268435455)||a0(Eo,Wo)}function PM(e,t){var n=Er;Er|=2;var r=pwe();(Eo!==e||Wo!==t)&&(Kp=null,L1(e,t));do try{NVe();break}catch(i){hwe(e,i)}while(!0);if(qG(),Er=n,IM.current=r,Ds!==null)throw Error(at(261));return Eo=null,Wo=0,Ks}function NVe(){for(;Ds!==null;)mwe(Ds)}function OVe(){for(;Ds!==null&&!iUe();)mwe(Ds)}function mwe(e){var t=vwe(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,t===null?gwe(e):Ds=t,iY.current=null}function gwe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CVe(n,t),n!==null){n.flags&=32767,Ds=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ks=6,Ds=null;return}}else if(n=TVe(n,t,Pu),n!==null){Ds=n;return}if(t=t.sibling,t!==null){Ds=t;return}Ds=t=e}while(t!==null);Ks===0&&(Ks=5)}function Yv(e,t,n){var r=Gr,i=Vc.transition;try{Vc.transition=null,Gr=1,DVe(e,t,n,r)}finally{Vc.transition=i,Gr=r}return null}function DVe(e,t,n,r){do eE();while(v0!==null);if(Er&6)throw Error(at(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(at(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(pUe(e,s),e===Eo&&(Ds=Eo=null,Wo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||QP||(QP=!0,bwe(fM,function(){return eE(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vc.transition,Vc.transition=null;var o=Gr;Gr=1;var a=Er;Er|=4,iY.current=null,IVe(e,n),cwe(n,e),eVe(W7),pM=!!q7,W7=q7=null,e.current=n,RVe(n),sUe(),Er=a,Gr=o,Vc.transition=s}else e.current=n;if(QP&&(QP=!1,v0=e,kM=i),s=e.pendingLanes,s===0&&(F0=null),lUe(n.stateNode),eu(e,_s()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(RM)throw RM=!1,e=fU,fU=null,e;return kM&1&&e.tag!==0&&eE(),s=e.pendingLanes,s&1?e===hU?N2++:(N2=0,hU=e):N2=0,Wy(),null}function eE(){if(v0!==null){var e=Xbe(kM),t=Vc.transition,n=Gr;try{if(Vc.transition=null,Gr=16>e?16:e,v0===null)var r=!1;else{if(e=v0,v0=null,kM=0,Er&6)throw Error(at(331));var i=Er;for(Er|=4,Rt=e.current;Rt!==null;){var s=Rt,o=s.child;if(Rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Rt=u;Rt!==null;){var c=Rt;switch(c.tag){case 0:case 11:case 15:k2(8,c,s)}var d=c.child;if(d!==null)d.return=c,Rt=d;else for(;Rt!==null;){c=Rt;var f=c.sibling,h=c.return;if(awe(c),c===u){Rt=null;break}if(f!==null){f.return=h,Rt=f;break}Rt=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Rt=o;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:k2(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Rt=y;break e}Rt=s.return}}var v=e.current;for(Rt=v;Rt!==null;){o=Rt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Rt=_;else e:for(o=v;Rt!==null;){if(a=Rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eF(9,a)}}catch(E){ss(a,a.return,E)}if(a===o){Rt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Rt=w;break e}Rt=a.return}}if(Er=i,Wy(),Mh&&typeof Mh.onPostCommitFiberRoot=="function")try{Mh.onPostCommitFiberRoot(WL,e)}catch{}r=!0}return r}finally{Gr=n,Vc.transition=t}}return!1}function Zae(e,t,n){t=LE(n,t),t=X_e(e,t,1),e=L0(e,t,1),t=al(),e!==null&&(xR(e,1,t),eu(e,t))}function ss(e,t,n){if(e.tag===3)Zae(e,e,n);else for(;t!==null;){if(t.tag===3){Zae(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(F0===null||!F0.has(r))){e=LE(n,e),e=Q_e(t,e,1),t=L0(t,e,1),e=al(),t!==null&&(xR(t,1,e),eu(t,e));break}}t=t.return}}function MVe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=al(),e.pingedLanes|=e.suspendedLanes&n,Eo===e&&(Wo&n)===n&&(Ks===4||Ks===3&&(Wo&130023424)===Wo&&500>_s()-oY?L1(e,0):sY|=n),eu(e,t)}function ywe(e,t){t===0&&(e.mode&1?(t=zP,zP<<=1,!(zP&130023424)&&(zP=4194304)):t=1);var n=al();e=jm(e,t),e!==null&&(xR(e,t,n),eu(e,n))}function $Ve(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ywe(e,n)}function LVe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(at(314))}r!==null&&r.delete(t),ywe(e,n)}var vwe;vwe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jl.current)Wl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wl=!1,SVe(e,t,n);Wl=!!(e.flags&131072)}else Wl=!1,Li&&t.flags&1048576&&E_e(t,wM,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qO(e,t),e=t.pendingProps;var i=OE(t,$a.current);Zw(t,n),i=ZG(null,t,r,e,i,n);var s=eY();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zl(r)?(s=!0,bM(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YG(t),i.updater=ZL,t.stateNode=i,i._reactInternals=t,tU(t,r,e,n),t=iU(null,t,r,!0,s,n)):(t.tag=0,Li&&s&&zG(t),Xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qO(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=jVe(r),e=Od(r,e),i){case 0:t=rU(null,t,r,e,n);break e;case 1:t=Vae(null,t,r,e,n);break e;case 11:t=zae(null,t,r,e,n);break e;case 14:t=Uae(null,t,r,Od(r.type,e),n);break e}throw Error(at(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Od(r,i),rU(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Od(r,i),Vae(e,t,r,i,n);case 3:e:{if(twe(t),e===null)throw Error(at(387));r=t.pendingProps,s=t.memoizedState,i=s.element,I_e(e,t),SM(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=LE(Error(at(423)),t),t=Hae(e,t,r,n,i);break e}else if(r!==i){i=LE(Error(at(424)),t),t=Hae(e,t,r,n,i);break e}else for(Fu=$0(t.stateNode.containerInfo.firstChild),Wu=t,Li=!0,jd=null,n=C_e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(DE(),r===i){t=Bm(e,t,n);break e}Xa(e,t,r,n)}t=t.child}return t;case 5:return R_e(t),e===null&&J7(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,G7(r,i)?o=null:s!==null&&G7(r,s)&&(t.flags|=32),ewe(e,t),Xa(e,t,o,n),t.child;case 6:return e===null&&J7(t),null;case 13:return nwe(e,t,n);case 4:return KG(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ME(t,null,r,n):Xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Od(r,i),zae(e,t,r,i,n);case 7:return Xa(e,t,t.pendingProps,n),t.child;case 8:return Xa(e,t,t.pendingProps.children,n),t.child;case 12:return Xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,vi(EM,r._currentValue),r._currentValue=o,s!==null)if(mf(s.value,o)){if(s.children===i.children&&!Jl.current){t=Bm(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wm(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Z7(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(at(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Z7(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zw(t,n),i=Xc(i),r=r(i),t.flags|=1,Xa(e,t,r,n),t.child;case 14:return r=t.type,i=Od(r,t.pendingProps),i=Od(r.type,i),Uae(e,t,r,i,n);case 15:return J_e(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Od(r,i),qO(e,t),t.tag=1,Zl(r)?(e=!0,bM(t)):e=!1,Zw(t,n),K_e(t,r,i),tU(t,r,i,n),iU(null,t,r,!0,e,n);case 19:return rwe(e,t,n);case 22:return Z_e(e,t,n)}throw Error(at(156,t.tag))};function bwe(e,t){return Wbe(e,t)}function FVe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new FVe(e,t,n,r)}function cY(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jVe(e){if(typeof e=="function")return cY(e)?1:0;if(e!=null){if(e=e.$$typeof,e===RG)return 11;if(e===kG)return 14}return 2}function B0(e,t){var n=e.alternate;return n===null?(n=Mc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function YO(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")cY(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Sw:return F1(n.children,i,s,t);case IG:o=8,i|=8;break;case T7:return e=Mc(12,n,t,i|2),e.elementType=T7,e.lanes=s,e;case C7:return e=Mc(13,n,t,i),e.elementType=C7,e.lanes=s,e;case A7:return e=Mc(19,n,t,i),e.elementType=A7,e.lanes=s,e;case Rbe:return nF(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Abe:o=10;break e;case Ibe:o=9;break e;case RG:o=11;break e;case kG:o=14;break e;case Qg:o=16,r=null;break e}throw Error(at(130,e==null?e:typeof e,""))}return t=Mc(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function F1(e,t,n,r){return e=Mc(7,e,r,t),e.lanes=n,e}function nF(e,t,n,r){return e=Mc(22,e,r,t),e.elementType=Rbe,e.lanes=n,e.stateNode={isHidden:!1},e}function k8(e,t,n){return e=Mc(6,e,null,t),e.lanes=n,e}function P8(e,t,n){return t=Mc(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BVe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=d8(0),this.expirationTimes=d8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=d8(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dY(e,t,n,r,i,s,o,a,l){return e=new BVe(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},YG(s),e}function zVe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xw,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _we(e){if(!e)return iy;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(at(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(at(171))}if(e.tag===1){var n=e.type;if(Zl(n))return __e(e,n,t)}return t}function wwe(e,t,n,r,i,s,o,a,l){return e=dY(n,r,!0,e,i,s,o,a,l),e.context=_we(null),n=e.current,r=al(),i=j0(n),s=wm(r,i),s.callback=t??null,L0(n,s,i),e.current.lanes=i,xR(e,i,r),eu(e,r),e}function rF(e,t,n,r){var i=t.current,s=al(),o=j0(i);return n=_we(n),t.context===null?t.context=n:t.pendingContext=n,t=wm(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=L0(i,t,o),e!==null&&(tf(e,i,o,s),UO(e,i,o)),o}function NM(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ele(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fY(e,t){ele(e,t),(e=e.alternate)&&ele(e,t)}function UVe(){return null}var Ewe=typeof reportError=="function"?reportError:function(e){console.error(e)};function hY(e){this._internalRoot=e}iF.prototype.render=hY.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(at(409));rF(e,t,null,null)};iF.prototype.unmount=hY.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rb(function(){rF(null,e,null,null)}),t[Fm]=null}};function iF(e){this._internalRoot=e}iF.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zbe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<o0.length&&t!==0&&t<o0[n].priority;n++);o0.splice(n,0,e),n===0&&t_e(e)}};function pY(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tle(){}function VVe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=NM(o);s.call(u)}}var o=wwe(t,r,e,0,null,!1,!1,"",tle);return e._reactRootContainer=o,e[Fm]=o.current,DA(e.nodeType===8?e.parentNode:e),rb(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=NM(l);a.call(u)}}var l=dY(e,0,!1,null,null,!1,!1,"",tle);return e._reactRootContainer=l,e[Fm]=l.current,DA(e.nodeType===8?e.parentNode:e),rb(function(){rF(t,l,n,r)}),l}function oF(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=NM(o);a.call(l)}}rF(t,o,e,i)}else o=VVe(n,t,e,i,r);return NM(o)}Qbe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=AC(t.pendingLanes);n!==0&&(OG(t,n|1),eu(t,_s()),!(Er&6)&&(FE=_s()+500,Wy()))}break;case 13:rb(function(){var r=jm(e,1);if(r!==null){var i=al();tf(r,e,1,i)}}),fY(e,1)}};DG=function(e){if(e.tag===13){var t=jm(e,134217728);if(t!==null){var n=al();tf(t,e,134217728,n)}fY(e,134217728)}};Jbe=function(e){if(e.tag===13){var t=j0(e),n=jm(e,t);if(n!==null){var r=al();tf(n,e,t,r)}fY(e,t)}};Zbe=function(){return Gr};e_e=function(e,t){var n=Gr;try{return Gr=e,t()}finally{Gr=n}};L7=function(e,t,n){switch(t){case"input":if(k7(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=XL(r);if(!i)throw Error(at(90));Pbe(r),k7(r,i)}}}break;case"textarea":Obe(e,n);break;case"select":t=n.value,t!=null&&Kw(e,!!n.multiple,t,!1)}};Bbe=aY;zbe=rb;var HVe={usingClientEntryPoint:!1,Events:[TR,Iw,XL,Fbe,jbe,aY]},IT={findFiberByHostInstance:E1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qVe={bundleType:IT.bundleType,version:IT.version,rendererPackageName:IT.rendererPackageName,rendererConfig:IT.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hbe(e),e===null?null:e.stateNode},findFiberByHostInstance:IT.findFiberByHostInstance||UVe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var JP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!JP.isDisabled&&JP.supportsFiber)try{WL=JP.inject(qVe),Mh=JP}catch{}}fc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HVe;fc.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pY(t))throw Error(at(200));return zVe(e,t,null,n)};fc.createRoot=function(e,t){if(!pY(e))throw Error(at(299));var n=!1,r="",i=Ewe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dY(e,1,!1,null,null,n,!1,r,i),e[Fm]=t.current,DA(e.nodeType===8?e.parentNode:e),new hY(t)};fc.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(at(188)):(e=Object.keys(e).join(","),Error(at(268,e)));return e=Hbe(t),e=e===null?null:e.stateNode,e};fc.flushSync=function(e){return rb(e)};fc.hydrate=function(e,t,n){if(!sF(t))throw Error(at(200));return oF(null,e,t,!0,n)};fc.hydrateRoot=function(e,t,n){if(!pY(e))throw Error(at(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ewe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wwe(t,null,e,1,n??null,i,!1,s,o),e[Fm]=t.current,DA(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iF(t)};fc.render=function(e,t,n){if(!sF(t))throw Error(at(200));return oF(null,e,t,!1,n)};fc.unmountComponentAtNode=function(e){if(!sF(e))throw Error(at(40));return e._reactRootContainer?(rb(function(){oF(null,null,e,!1,function(){e._reactRootContainer=null,e[Fm]=null})}),!0):!1};fc.unstable_batchedUpdates=aY;fc.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sF(n))throw Error(at(200));if(e==null||e._reactInternals===void 0)throw Error(at(38));return oF(e,t,n,!1,r)};fc.version="18.3.1-next-f1338f8080-20240426";function xwe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xwe)}catch(e){console.error(e)}}xwe(),xbe.exports=fc;var tS=xbe.exports;const WVe=bu(tS);var nle=tS;x7.createRoot=nle.createRoot,x7.hydrateRoot=nle.hydrateRoot;var yh=function(){return yh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},yh.apply(this,arguments)};function AR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function rm(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function rle(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function GVe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function lr(e){return this instanceof lr?(this.v=e,this):new lr(e)}function T1(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,y){s.push([h,m,g,y])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{u(r[h](p))}catch(m){f(s[0][3],m)}}function u(h){h.value instanceof lr?Promise.resolve(h.value.v).then(c,d):f(s[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function N8(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:lr(e[i](o)),done:!1}:s?s(o):o}:s}}function O2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rle=="function"?rle(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var KO="right-scroll-bar-position",XO="width-before-scroll-bar",YVe="with-scroll-bars-hidden",KVe="--removed-body-scroll-bar-size";function O8(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XVe(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var QVe=typeof window<"u"?A.useLayoutEffect:A.useEffect,ile=new WeakMap;function JVe(e,t){var n=XVe(null,function(r){return e.forEach(function(i){return O8(i,r)})});return QVe(function(){var r=ile.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||O8(a,null)}),s.forEach(function(a){i.has(a)||O8(a,o)})}ile.set(n,e)},[e]),n}function ZVe(e){return e}function eHe(e,t){t===void 0&&(t=ZVe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function tHe(e){e===void 0&&(e={});var t=eHe(null);return t.options=yh({async:!0,ssr:!1},e),t}var Swe=function(e){var t=e.sideCar,n=AR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,yh({},n))};Swe.isSideCarExport=!0;function nHe(e,t){return e.useMedium(t),Swe}var Twe=tHe(),D8=function(){},aF=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:D8,onWheelCapture:D8,onTouchMoveCapture:D8}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,_=AR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,E=JVe([n,t]),S=yh(yh({},_),i);return A.createElement(A.Fragment,null,c&&A.createElement(w,{sideCar:Twe,removeScrollBar:u,shards:d,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?A.cloneElement(A.Children.only(a),yh(yh({},S),{ref:E})):A.createElement(y,yh({},S,{className:l,ref:E}),a))});aF.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};aF.classNames={fullWidth:XO,zeroRight:KO};var rHe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iHe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rHe();return t&&e.setAttribute("nonce",t),e}function sHe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oHe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aHe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iHe())&&(sHe(t,n),oHe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lHe=function(){var e=aHe();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Cwe=function(){var e=lHe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},uHe={left:0,top:0,right:0,gap:0},M8=function(e){return parseInt(e||"",10)||0},cHe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[M8(n),M8(r),M8(i)]},dHe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uHe;var t=cHe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fHe=Cwe(),tE="data-scroll-locked",hHe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YVe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(tE,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(KO,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(XO,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(KO," .").concat(KO,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(XO," .").concat(XO,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tE,`] {
    `).concat(KVe,": ").concat(a,`px;
  }
`)},sle=function(){var e=parseInt(document.body.getAttribute(tE)||"0",10);return isFinite(e)?e:0},pHe=function(){A.useEffect(function(){return document.body.setAttribute(tE,(sle()+1).toString()),function(){var e=sle()-1;e<=0?document.body.removeAttribute(tE):document.body.setAttribute(tE,e.toString())}},[])},mHe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;pHe();var s=A.useMemo(function(){return dHe(i)},[i]);return A.createElement(fHe,{styles:hHe(s,!t,i,n?"":"!important")})},gU=!1;if(typeof window<"u")try{var ZP=Object.defineProperty({},"passive",{get:function(){return gU=!0,!0}});window.addEventListener("test",ZP,ZP),window.removeEventListener("test",ZP,ZP)}catch{gU=!1}var k_=gU?{passive:!1}:!1,gHe=function(e){return e.tagName==="TEXTAREA"},Awe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gHe(e)&&n[t]==="visible")},yHe=function(e){return Awe(e,"overflowY")},vHe=function(e){return Awe(e,"overflowX")},ole=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Iwe(e,r);if(i){var s=Rwe(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bHe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_He=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Iwe=function(e,t){return e==="v"?yHe(t):vHe(t)},Rwe=function(e,t){return e==="v"?bHe(t):_He(t)},wHe=function(e,t){return e==="h"&&t==="rtl"?-1:1},EHe=function(e,t,n,r,i){var s=wHe(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),u=!1,c=o>0,d=0,f=0;do{var h=Rwe(e,a),p=h[0],m=h[1],g=h[2],y=m-g-s*p;(p||y)&&Iwe(e,a)&&(d+=y,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(Math.abs(d)<1||!i)||!c&&(Math.abs(f)<1||!i))&&(u=!0),u},eN=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ale=function(e){return[e.deltaX,e.deltaY]},lle=function(e){return e&&"current"in e?e.current:e},xHe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},SHe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},THe=0,P_=[];function CHe(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(THe++)[0],s=A.useState(Cwe)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=GVe([e.lockRef.current],(e.shards||[]).map(lle),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=A.useCallback(function(m,g){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var y=eN(m),v=n.current,_="deltaX"in m?m.deltaX:v[0]-y[0],w="deltaY"in m?m.deltaY:v[1]-y[1],E,S=m.target,x=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in m&&x==="h"&&S.type==="range")return!1;var T=ole(x,S);if(!T)return!0;if(T?E=x:(E=x==="v"?"h":"v",T=ole(x,S)),!T)return!1;if(!r.current&&"changedTouches"in m&&(_||w)&&(r.current=E),!E)return!0;var I=r.current||E;return EHe(I,g,m,I==="h"?_:w,!0)},[]),l=A.useCallback(function(m){var g=m;if(!(!P_.length||P_[P_.length-1]!==s)){var y="deltaY"in g?ale(g):eN(g),v=t.current.filter(function(E){return E.name===g.type&&(E.target===g.target||g.target===E.shadowParent)&&xHe(E.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(lle).filter(Boolean).filter(function(E){return E.contains(g.target)}),w=_.length>0?a(g,_[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),u=A.useCallback(function(m,g,y,v){var _={name:m,delta:g,target:y,should:v,shadowParent:AHe(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(w){return w!==_})},1)},[]),c=A.useCallback(function(m){n.current=eN(m),r.current=void 0},[]),d=A.useCallback(function(m){u(m.type,ale(m),m.target,a(m,e.lockRef.current))},[]),f=A.useCallback(function(m){u(m.type,eN(m),m.target,a(m,e.lockRef.current))},[]);A.useEffect(function(){return P_.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,k_),document.addEventListener("touchmove",l,k_),document.addEventListener("touchstart",c,k_),function(){P_=P_.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,k_),document.removeEventListener("touchmove",l,k_),document.removeEventListener("touchstart",c,k_)}},[]);var h=e.removeScrollBar,p=e.inert;return A.createElement(A.Fragment,null,p?A.createElement(s,{styles:SHe(i)}):null,h?A.createElement(mHe,{gapMode:e.gapMode}):null)}function AHe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IHe=nHe(Twe,CHe);var lF=A.forwardRef(function(e,t){return A.createElement(aF,yh({},e,{ref:t,sideCar:IHe}))});lF.classNames=aF.classNames;function Yi(e){return Object.keys(e)}function $8(e){return e&&typeof e=="object"&&!Array.isArray(e)}function mY(e,t){const n={...e},r=t;return $8(e)&&$8(t)&&Object.keys(t).forEach(i=>{$8(r[i])&&i in e?n[i]=mY(n[i],r[i]):n[i]=r[i]}),n}function RHe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function kHe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function yU(e){const t=kHe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function L8(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function kwe(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?L8(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?L8(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?L8(s):s}}return r}return n}const Ce=kwe("rem",{shouldScale:!0}),OM=kwe("em");function nS(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Pwe(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function Gy(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==A.Fragment:!1}function io(e){const t=A.createContext(null);return[({children:i,value:s})=>b.jsx(t.Provider,{value:s,children:i}),()=>{const i=A.useContext(t);if(i===null)throw new Error(e);return i}]}function Hb(e=null){const t=A.createContext(e);return[({children:i,value:s})=>b.jsx(t.Provider,{value:s,children:i}),()=>A.useContext(t)]}function DM(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function MM(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function PHe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function NHe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function OHe(e,t,n){return MM(e,n)===MM(t,n)}function gY({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var p;n==null||n(a);const l=Array.from(((p=MM(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>OHe(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=NHe(u,l,r),d=PHe(u,l,r),f=s==="rtl"?d:c,h=s==="rtl"?c:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const DHe={app:100,modal:200,popover:300,overlay:400,max:9999};function cd(e){return DHe[e]}const MHe=()=>{};function $He(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||MHe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Jt(e,t="size",n=!0){if(e!==void 0)return Pwe(e)?n?Ce(e):e:`var(--${t}-${e})`}function Qu(e){return Jt(e,"mantine-spacing")}function Mr(e){return e===void 0?"var(--mantine-radius-default)":Jt(e,"mantine-radius")}function Js(e){return Jt(e,"mantine-font-size")}function Nwe(e){return Jt(e,"mantine-line-height",!1)}function yY(e){if(e)return Jt(e,"mantine-shadow",!1)}function ju(e,t){return n=>{e==null||e(n),t==null||t(n)}}function vY(e,t){return e in t.breakpoints?yU(t.breakpoints[e]):yU(e)}function $M(e,t){const n=e.map(r=>({value:r,px:vY(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function RC(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function LHe(e,t,n){var r;return n?Array.from(((r=MM(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function FHe(){const[e,t]=A.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function $c(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function D2(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function l0(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function uF(e,t){const n=l0(e),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),t)},[n,t])}const ule=["mousedown","touchstart"];function jHe(e,t,n){const r=A.useRef();return A.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||ule).forEach(s=>document.addEventListener(s,i)),()=>{(t||ule).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function BHe({timeout:e=2e3}={}){const[t,n]=A.useState(null),[r,i]=A.useState(!1),[s,o]=A.useState(null),a=c=>{window.clearTimeout(s),o(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(s)},error:t,copied:r}}function zHe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function UHe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function VA(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=A.useState(n?t:UHe(e)),s=A.useRef();return A.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),zHe(s.current,o=>i(o.matches))},[e]),r}function VHe(e,t){return VA("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function Owe(e,t,n={leading:!1}){const[r,i]=A.useState(e),s=A.useRef(!1),o=A.useRef(null),a=A.useRef(!1),l=()=>window.clearTimeout(o.current);return A.useEffect(()=>{s.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),o.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),A.useEffect(()=>(s.current=!0,l),[]),[r,l]}const qb=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Ju(e,t){const n=A.useRef(!1);A.useEffect(()=>()=>{n.current=!1},[]),A.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Dwe({opened:e,shouldReturnFocus:t=!0}){const n=A.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Ju(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}function HHe(e,t="body > :not(script)"){const n=D2(),r=Array.from(document.querySelectorAll(t)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(e)||i.contains(e))return;const s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const qHe=/input|select|textarea|button|object/,Mwe="a, input, select, textarea, button, object, [tabindex]";function WHe(e){return e.style.display==="none"}function GHe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(WHe(n))return!1;n=n.parentNode}return!0}function $we(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function vU(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN($we(e));return(qHe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&GHe(e)}function Lwe(e){const t=$we(e);return(Number.isNaN(t)||t>=0)&&vU(e)}function YHe(e){return Array.from(e.querySelectorAll(Mwe)).filter(Lwe)}function KHe(e,t){const n=YHe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function XHe(e=!0){const t=A.useRef(),n=A.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){const a=Array.from(s.querySelectorAll(Mwe));o=a.find(Lwe)||a.find(vU)||null,!o&&vU(s)&&(o=s)}o&&o.focus({preventScroll:!0})},i=A.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=HHe(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return A.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=o=>{o.key==="Tab"&&t.current&&KHe(t.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),i}const QHe=us.useId||(()=>{});function JHe(){const e=QHe();return e?`mantine-${e.replace(/:/g,"")}`:""}function ta(e){const t=JHe(),[n,r]=A.useState(t);return qb(()=>{r(D2())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Fwe(e,t,n){A.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function bY(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function jwe(...e){return t=>{e.forEach(n=>bY(n,t))}}function ps(...e){return A.useCallback(jwe(...e),e)}function Bwe(e){return{x:$c(e.x,0,1),y:$c(e.y,0,1)}}function cF(e,t,n="ltr"){const r=A.useRef(null),i=A.useRef(!1),s=A.useRef(!1),o=A.useRef(0),[a,l]=A.useState(!1);return A.useEffect(()=>{i.current=!0},[]),A.useEffect(()=>{var v,_;const u=({x:w,y:E})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const S=r.current.getBoundingClientRect();if(S.width&&S.height){const x=$c((w-S.left)/S.width,0,1);e({x:n==="ltr"?x:1-x,y:$c((E-S.top)/S.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},d=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},f=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,l(!1),d(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=w=>{f(),w.preventDefault(),m(w)},m=w=>u({x:w.clientX,y:w.clientY}),g=w=>{w.cancelable&&w.preventDefault(),f(),y(w)},y=w=>{w.cancelable&&w.preventDefault(),u({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return(v=r.current)==null||v.addEventListener("mousedown",p),(_=r.current)==null||_.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:a}}function Xi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=A.useState(t!==void 0?t:n),o=(a,...l)=>{s(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[i,o,!1]}function Dg(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const tN="dots";function ZHe({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:s}){const o=Math.max(Math.trunc(e),0),[a,l]=Xi({value:r,onChange:s,defaultValue:i,finalValue:i}),u=m=>{m<=0?l(1):m>o?l(o):l(m)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(o);return{range:A.useMemo(()=>{if(t*2+3+n*2>=o)return Dg(1,o);const g=Math.max(a-t,n),y=Math.min(a+t,o-n),v=g>n+2,_=y<o-(n+1);if(!v&&_){const w=t*2+n+2;return[...Dg(1,w),tN,...Dg(o-(n-1),o)]}if(v&&!_){const w=n+1+2*t;return[...Dg(1,n),tN,...Dg(o-w,o)]}return[...Dg(1,n),tN,...Dg(g,y),tN,...Dg(o-n+1,o)]},[o,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function _Y(e,t){return VA("(prefers-reduced-motion: reduce)",e,t)}const eqe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function nf(e){const t=A.useRef(0),n=A.useRef(null),[r,i]=A.useState(eqe),s=A.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return A.useEffect(()=>(n.current&&(s==null||s.observe(n.current,e)),()=>{s==null||s.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function tqe(e){const[t,{width:n,height:r}]=nf(e);return{ref:t,width:n,height:r}}function nqe(){const[e,t]=A.useState(!1),n=A.useRef(null),r=A.useCallback(()=>t(!0),[]),i=A.useCallback(()=>t(!1),[]);return A.useEffect(()=>{if(n.current)return n.current.addEventListener("mouseenter",r),n.current.addEventListener("mouseleave",i),()=>{var s,o;(s=n.current)==null||s.removeEventListener("mouseenter",r),(o=n.current)==null||o.removeEventListener("mouseleave",i)}},[]),{ref:n,hovered:e}}function M2(e=!1,t){const{onOpen:n,onClose:r}={},[i,s]=A.useState(e),o=A.useCallback(()=>{s(u=>u||(n==null||n(),!0))},[n]),a=A.useCallback(()=>{s(u=>u&&(r==null||r(),!1))},[r]),l=A.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}function rqe(e,t,n={autoInvoke:!1}){const r=A.useRef(null),i=A.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{e(o),r.current=null},t))},[t]),s=A.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return A.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function iqe(e){const t=A.useRef();return A.useEffect(()=>{t.current=e},[e]),t.current}function sqe(e,t,n){const r=A.useRef(),i=A.useRef(null);return A.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(e),r.current.observe(s||i.current,t)),()=>{var o;(o=r.current)==null||o.disconnect()}},[e,t]),i}function oqe(){const[e,t]=A.useState(!1);return A.useEffect(()=>t(!0),[]),e}function aqe(e,t){const n=l0(e),r=A.useRef(),i=A.useRef(),s=A.useRef(!0),o=A.useRef(t),a=A.useRef(-1),l=()=>window.clearTimeout(a.current),u=A.useCallback((...f)=>{n(...f),r.current=f,i.current=f,s.current=!1},[n]),c=A.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,o.current)):s.current=!0},[u]),d=A.useCallback((...f)=>{s.current?(u(...f),a.current=window.setTimeout(c,o.current)):r.current=f},[u,c]);return A.useEffect(()=>{o.current=t},[t]),[d,l]}function lqe(e,t){const[n,r]=A.useState(e),[i,s]=aqe(r,t);return A.useEffect(()=>s,[]),[n,i]}function uqe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function cqe(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});qb(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>uqe(`${e}:${String(r)}`,i[0])}return[t,n]}var dqe={};function zwe(){return typeof process<"u"&&dqe?"production":"development"}function Uwe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Uwe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Uwe(e))&&(r&&(r+=" "),r+=t);return r}const fqe={};function hqe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=yt(t[r],i):t[r]=i})}),t}function dF({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||fqe);return hqe(s)}function LM({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const wY=A.createContext(null);function Yy(){const e=A.useContext(wY);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function pqe(){return Yy().cssVariablesResolver}function mqe(){return Yy().classNamesPrefix}function fF(){return Yy().getStyleNonce}function gqe(){return Yy().withStaticClasses}function yqe(){return Yy().headless}function vqe(){var e;return(e=Yy().stylesTransform)==null?void 0:e.sx}function bqe(){var e;return(e=Yy().stylesTransform)==null?void 0:e.styles}function _qe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function wqe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Eqe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function xqe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=s-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:o||1}}function hF(e){return _qe(e)?wqe(e):e.startsWith("rgb")?Eqe(e):e.startsWith("hsl")?xqe(e):{r:0,g:0,b:0,a:1}}function kC(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=hF(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function HA(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function F8(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function Sqe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function Tqe(e){if(e.startsWith("oklch("))return(Sqe(e)||0)/100;const{r:t,g:n,b:r}=hF(e),i=t/255,s=n/255,o=r/255,a=F8(i),l=F8(s),u=F8(o);return .2126*a+.7152*l+.0722*u}function RT(e,t=.179){return e.startsWith("var(")?!1:Tqe(e)>t}function kf({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:RT(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:RT(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:RT(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][HA(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:RT(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:RT(e,t.luminanceThreshold),shade:s,variable:void 0}}function Yr(e,t){const n=kf({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function bU(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=Yr(n.from,t),i=Yr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function sh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=hF(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const N_=sh,Cqe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=kf({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ce(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Ce(1)} solid transparent`}:{background:e,hover:kC(e,.1),color:a,border:`${Ce(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ce(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:sh(a,.1),hover:sh(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ce(1)} solid transparent`}}return{background:sh(e,.1),hover:sh(e,.12),color:e,border:`${Ce(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ce(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:sh(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Ce(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:sh(e,.05),color:e,border:`${Ce(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ce(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:sh(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ce(1)} solid transparent`}}return{background:"transparent",hover:sh(e,.12),color:e,border:`${Ce(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ce(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ce(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ce(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:kC(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ce(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kC(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Ce(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kC(t.white,.01),color:e,border:`${Ce(1)} solid transparent`}:n==="gradient"?{background:bU(r,t),hover:bU(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ce(1)} solid var(--mantine-color-default-border)`}:{}},Aqe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},cle="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",EY={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Aqe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Cqe,autoContrast:!1,luminanceThreshold:.3,fontFamily:cle,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:cle,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ce(34),lineHeight:"1.3"},h2:{fontSize:Ce(26),lineHeight:"1.35"},h3:{fontSize:Ce(22),lineHeight:"1.4"},h4:{fontSize:Ce(18),lineHeight:"1.45"},h5:{fontSize:Ce(16),lineHeight:"1.5"},h6:{fontSize:Ce(14),lineHeight:"1.5"}}},fontSizes:{xs:Ce(12),sm:Ce(14),md:Ce(16),lg:Ce(18),xl:Ce(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ce(2),sm:Ce(4),md:Ce(8),lg:Ce(16),xl:Ce(32)},spacing:{xs:Ce(10),sm:Ce(12),md:Ce(16),lg:Ce(20),xl:Ce(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), 0 ${Ce(1)} ${Ce(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(10)} ${Ce(15)} ${Ce(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ce(7)} ${Ce(7)} ${Ce(-5)}`,md:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(20)} ${Ce(25)} ${Ce(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ce(10)} ${Ce(10)} ${Ce(-5)}`,lg:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(28)} ${Ce(23)} ${Ce(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ce(12)} ${Ce(12)} ${Ce(-7)}`,xl:`0 ${Ce(1)} ${Ce(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ce(36)} ${Ce(28)} ${Ce(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ce(17)} ${Ce(17)} ${Ce(-7)}`},other:{},components:{}};function dle(e){return e==="auto"||e==="dark"||e==="light"}function Iqe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return dle(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&dle(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Rqe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",fle="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function j8(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function hle(e){if(!(e.primaryColor in e.colors))throw new Error(Rqe);if(typeof e.primaryShade=="object"&&(!j8(e.primaryShade.dark)||!j8(e.primaryShade.light)))throw new Error(fle);if(typeof e.primaryShade=="number"&&!j8(e.primaryShade))throw new Error(fle)}function kqe(e,t){var r;if(!t)return hle(e),e;const n=mY(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),hle(n),n}const xY=A.createContext(null),Pqe=()=>A.useContext(xY)||EY;function Is(){const e=A.useContext(xY);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Vwe({theme:e,children:t,inherit:n=!0}){const r=Pqe(),i=A.useMemo(()=>kqe(n?r:EY,e),[e,r,n]);return b.jsx(xY.Provider,{value:i,children:t})}Vwe.displayName="@mantine/core/MantineThemeProvider";function Nqe(){const e=Is(),t=fF(),n=Yi(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=yU(e.breakpoints[i]),a=s?`${o-.1}px`:OM(o-.1),l=s?`${o}px`:OM(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function B8(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function kT(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function Oqe(e,t){const n=B8(e.variables),r=n?kT(t,n):"",i=B8(e.dark),s=B8(e.light),o=i?kT(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=s?kT(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function fp({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&kf({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ple(e,t){return fp({color:e.colors[e.primaryColor][HA(e,t)],theme:e,autoContrast:null})}function nN({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=HA(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:N_(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:N_(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:N_(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const s=HA(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:N_(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:N_(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:N_(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function Dqe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function O_(e,t,n){Yi(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const Hwe=e=>{const t=HA(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ce(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":ple(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":ple(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};O_(r.variables,e.breakpoints,"breakpoint"),O_(r.variables,e.spacing,"spacing"),O_(r.variables,e.fontSizes,"font-size"),O_(r.variables,e.lineHeights,"line-height"),O_(r.variables,e.shadows,"shadow"),O_(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),Yi(e.colors).forEach(s=>{const o=e.colors[s];if(Dqe(o)){Object.assign(r.light,nN({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,nN({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,nN({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,nN({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return Yi(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function Mqe({theme:e,generator:t}){const n=Hwe(e),r=t==null?void 0:t(e);return r?mY(n,r):n}const z8=Hwe(EY);function $qe(e){const t={variables:{},light:{},dark:{}};return Yi(e.variables).forEach(n=>{z8.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Yi(e.light).forEach(n=>{z8.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Yi(e.dark).forEach(n=>{z8.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function Lqe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function qwe({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Is(),r=fF(),i=pqe(),s=Mqe({theme:n,generator:i}),o=e===":root"&&t,a=o?$qe(s):s,l=Oqe(a,e);return l?b.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${o?"":Lqe(e)}`}}):null}qwe.displayName="@mantine/CssVariables";function Fqe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function D_(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function jqe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=A.useRef(),[s,o]=A.useState(()=>e.get(t)),a=r||s,l=A.useCallback(c=>{r||(D_(c,n),o(c),e.set(c))},[e.set,a,r]),u=A.useCallback(()=>{o(t),D_(t,n),e.clear()},[e.clear,t]);return A.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),qb(()=>{D_(e.get(t),n)},[]),A.useEffect(()=>{var d;if(r)return D_(r,n),()=>{};r===void 0&&D_(s,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=f=>{s==="auto"&&D_(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",c)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function Bqe({respectReducedMotion:e,getRootElement:t}){qb(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}Fqe();function Wwe({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=Iqe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p}){const{colorScheme:m,setColorScheme:g,clearColorScheme:y}=jqe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return Bqe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),b.jsx(wY.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:y,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p},children:b.jsxs(Vwe,{theme:e,children:[o&&b.jsx(qwe,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&b.jsx(Nqe,{}),t]})})}Wwe.displayName="@mantine/core/MantineProvider";function hp({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Is();return{resolvedClassNames:dF({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:LM({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const zqe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Uqe({theme:e,options:t,unstyled:n}){return yt((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||zqe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Vqe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return dF({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function mle({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return dF({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function Hqe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function qqe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function Wqe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function Gqe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>{var o,a;return(a=dF({theme:t,classNames:(o=t.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function Yqe({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function Kqe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return yt(Uqe({theme:e,options:t,unstyled:a||h}),Gqe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),Yqe({options:t,classes:o,selector:r,unstyled:a}),mle({selector:r,stylesCtx:d,theme:e,classNames:s,props:c}),mle({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),Vqe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),Hqe({rootSelector:u,selector:r,className:l}),qqe({selector:r,classes:o,unstyled:a||h}),f&&!h&&Wqe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Xqe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>{var o;return LM({theme:e,styles:(o=e.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function _U({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,..._U({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Qqe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...nS(n[r])}}),t),{})}function Jqe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var l;return(l=Qqe([a?{}:t==null?void 0:t(n,r,i),...o.map(u=>{var c,d,f;return(f=(d=(c=n.components)==null?void 0:c[u])==null?void 0:d.vars)==null?void 0:f.call(d,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:l[s]}function Zqe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&Xqe({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!f&&LM({theme:e,styles:a,props:i,stylesCtx:s})[n],...!f&&LM({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...Jqe({theme:e,props:i,stylesCtx:s,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...o===n?_U({style:l,theme:e}):null,..._U({style:r==null?void 0:r.style,theme:e})}}function eWe({props:e,stylesCtx:t,themeName:n}){var o;const r=Is(),i=(o=bqe())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var c;return i((c=r.components[u])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function vt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=Is(),h=mqe(),p=gqe(),m=yqe(),g=(Array.isArray(e)?e:[e]).filter(_=>_),{withStylesTransform:y,getTransformedStyles:v}=eWe({props:n,stylesCtx:r,themeName:g});return(_,w)=>({className:Kqe({theme:f,options:w,themeName:g,selector:_,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([w==null?void 0:w.styles,u])}),style:Zqe({theme:f,themeName:g,selector:_,options:w,props:n,stylesCtx:r,rootSelector:o,styles:u,style:s,vars:c,varsResolver:d,headless:m,withStylesTransform:y})})}function tWe(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:s}=hF(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Ky(e,t){return typeof e=="boolean"?e:t.autoContrast}function gle(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function nWe({keepTransitions:e}={}){const t=A.useRef(),n=A.useRef(),r=A.useContext(wY),i=fF(),s=A.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=d=>{r.setColorScheme(d),t.current=e?()=>{}:gle(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var f;(f=t.current)==null||f.call(t)},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:gle(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=t.current)==null||d.call(t)},10)},l=VHe("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=A.useCallback(()=>o(u==="light"?"dark":"light"),[o,u]);return A.useEffect(()=>()=>{var d;(d=t.current)==null||d.call(t),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:a,toggleColorScheme:c}}function xe(e,t,n){var o;const r=Is(),i=(o=r.components[e])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,...nS(n)}}function U8(e){return Yi(e).reduce((t,n)=>e[n]!==void 0?`${t}${RHe(n)}:${e[n]};`:t,"").trim()}function rWe({selector:e,styles:t,media:n,container:r}){const i=t?U8(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${U8(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${U8(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function IR(e){const t=fF();return b.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:rWe(e)}})}function Wb(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:_,bg:w,c:E,opacity:S,ff:x,fz:T,fw:I,lts:P,ta:k,lh:D,fs:R,tt:M,td:$,w:L,miw:B,maw:z,h:U,mih:N,mah:V,bgsz:W,bgp:F,bgr:H,bga:G,pos:X,top:ie,left:oe,bottom:se,right:le,inset:Se,display:de,flex:De,hiddenFrom:Fe,visibleFrom:Be,lightHidden:je,darkHidden:me,sx:ne,...Ee}=e;return{styleProps:nS({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:_,bg:w,c:E,opacity:S,ff:x,fz:T,fw:I,lts:P,ta:k,lh:D,fs:R,tt:M,td:$,w:L,miw:B,maw:z,h:U,mih:N,mah:V,bgsz:W,bgp:F,bgr:H,bga:G,pos:X,top:ie,left:oe,bottom:se,right:le,inset:Se,display:de,flex:De,hiddenFrom:Fe,visibleFrom:Be,lightHidden:je,darkHidden:me,sx:ne}),rest:Ee}}const iWe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function SY(e,t){const n=kf({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function sWe(e,t){const n=kf({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:SY(e,t)}function oWe(e,t){if(typeof e=="number")return Ce(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${Ce(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${SY(i.join(" "),t)}`),s.trim()}return e}const yle={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function aWe(e){return typeof e=="string"&&e in yle?yle[e]:e}const lWe=["h1","h2","h3","h4","h5","h6"];function uWe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&lWe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ce(e):e}function cWe(e){return e}const dWe=["h1","h2","h3","h4","h5","h6"];function fWe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&dWe.includes(e)?`var(--mantine-${e}-line-height)`:e}function hWe(e){return typeof e=="number"?Ce(e):e}function pWe(e,t){if(typeof e=="number")return Ce(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ce(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const V8={color:SY,textColor:sWe,fontSize:uWe,spacing:pWe,identity:cWe,size:hWe,lineHeight:fWe,fontFamily:aWe,border:oWe};function vle(e){return e.replace("(min-width: ","").replace("em)","")}function mWe({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(vle(i))-Number(vle(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function gWe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function yWe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function vWe(e){return typeof e=="object"&&e!==null?Yi(e).filter(t=>t!=="base"):[]}function bWe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Gwe({styleProps:e,data:t,theme:n}){return mWe(Yi(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=yWe(e[i]);if(!gWe(e[i]))return o.forEach(u=>{r.inlineStyles[u]=V8[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=vWe(e[i]);return o.forEach(u=>{a&&(r.styles[u]=V8[s.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:V8[s.type](bWe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function pF(){return`__m__-${A.useId().replace(/:/g,"")}`}function TY(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...TY(r,t)}),{}):typeof e=="function"?e(t):e??{}}function Ywe(e){return e.startsWith("data-")?e:`data-${e}`}function _We(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[Ywe(n)]=e[n]),t},{})}function Kwe(e){return e?typeof e=="string"?{[Ywe(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...Kwe(n)}),{}):_We(e):null}function wU(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...wU(r,t)}),{}):typeof e=="function"?e(t):e??{}}function wWe({theme:e,style:t,vars:n,styleProps:r}){const i=wU(t,e),s=wU(n,e);return{...i,...s,...r}}const Xwe=A.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},p)=>{var T;const m=Is(),g=e||"div",{styleProps:y,rest:v}=Wb(h),_=vqe(),w=(T=_==null?void 0:_())==null?void 0:T(y.sx),E=pF(),S=Gwe({styleProps:y,theme:m,data:iWe}),x={ref:p,style:wWe({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:yt(r,w,{[E]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Pwe(o)?void 0:o||void 0,size:f,...Kwe(s),...v};return b.jsxs(b.Fragment,{children:[S.hasResponsiveStyles&&b.jsx(IR,{selector:`.${E}`,styles:S.styles,media:S.media}),typeof d=="function"?d(x):b.jsx(g,{...x})]})});Xwe.displayName="@mantine/core/Box";const be=Xwe;function Qwe(e){return e}function Le(e){const t=A.forwardRef(e);return t.extend=Qwe,t.withProps=n=>{const r=A.forwardRef((i,s)=>b.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Ls(e){const t=A.forwardRef(e);return t.withProps=n=>{const r=A.forwardRef((i,s)=>b.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=Qwe,t}const EWe=A.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function El(){return A.useContext(EWe)}function xWe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function H8(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const PT=typeof window<"u"&&window.requestAnimationFrame;function SWe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=A.useRef(null),s=0,o={display:"none",height:0,overflow:"hidden"},[a,l]=A.useState(r?{}:o),u=p=>{tS.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||xWe(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}Ju(()=>{typeof PT=="function"&&PT(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),PT(()=>{const p=H8(i);c({...d(p),height:p})})}:()=>{const p=H8(i);c({...d(p),willChange:"height",height:p}),PT(()=>c({height:s,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=H8(i);m===a.height?u({}):c({height:m}),n()}else a.height===s&&(u(o),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:jwe(i,y),onTransitionEnd:f,style:{boxSizing:"border-box",...p,...a}}}return h}const TWe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Gb=Le((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:s,style:o,onTransitionEnd:a,animateOpacity:l,...u}=xe("Collapse",TWe,e),c=Is(),d=_Y(),h=(c.respectReducedMotion?d:!1)?0:i,p=SWe({opened:r,transitionDuration:h,transitionTimingFunction:s,onTransitionEnd:a});return h===0?r?b.jsx(be,{...u,children:n}):null:b.jsx(be,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${s}`:"none",...TY(o,c)},ref:t,...u}),children:n})});Gb.displayName="@mantine/core/Collapse";const[CWe,dd]=io("ScrollArea.Root component was not found in tree");function jE(e,t){const n=l0(t);qb(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const AWe=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=dd(),[s,o]=A.useState(0),[a,l]=A.useState(0),u=!!(s&&a);return jE(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),jE(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?b.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),IWe=A.forwardRef((e,t)=>{const n=dd(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(AWe,{...e,ref:t}):null}),RWe={scrollHideDelay:1e3,type:"hover"},Jwe=A.forwardRef((e,t)=>{const n=xe("ScrollAreaRoot",RWe,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,l]=A.useState(null),[u,c]=A.useState(null),[d,f]=A.useState(null),[h,p]=A.useState(null),[m,g]=A.useState(null),[y,v]=A.useState(0),[_,w]=A.useState(0),[E,S]=A.useState(!1),[x,T]=A.useState(!1),I=ps(t,P=>l(P));return b.jsx(CWe,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:E,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:x,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:w},children:b.jsx(be,{...o,ref:I,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${y}px`,"--sa-corner-height":s!=="xy"?"0px":`${_}px`}})})});Jwe.displayName="@mantine/core/ScrollAreaRoot";function Zwe(e,t){const n=e/t;return Number.isNaN(n)?0:n}function mF(e){const t=Zwe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function eEe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kWe(e,[t,n]){return Math.min(n,Math.max(t,e))}function ble(e,t,n="ltr"){const r=mF(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=kWe(e,l);return eEe([0,o],[0,a])(u)}function PWe(e,t,n,r="ltr"){const i=mF(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return eEe([l,u],d)(e)}function tEe(e,t){return e>0&&e<t}function FM(e){return e?parseInt(e,10):0}function j1(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[NWe,nEe]=io("ScrollAreaScrollbar was not found in tree"),rEe=A.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=dd(),[h,p]=A.useState(null),m=ps(t,T=>p(T)),g=A.useRef(null),y=A.useRef(""),{viewport:v}=f,_=n.content-n.viewport,w=l0(u),E=l0(a),S=uF(c,10),x=T=>{if(g.current){const I=T.clientX-g.current.left,P=T.clientY-g.current.top;l({x:I,y:P})}};return A.useEffect(()=>{const T=I=>{const P=I.target;(h==null?void 0:h.contains(P))&&w(I,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[v,h,_,w]),A.useEffect(E,[n,E]),jE(h,S),jE(f.content,S),b.jsx(NWe,{value:{scrollbar:h,hasThumb:r,onThumbChange:l0(i),onThumbPointerUp:l0(s),onThumbPositionChange:E,onThumbPointerDown:l0(o)},children:b.jsx("div",{...d,ref:m,style:{position:"absolute",...d.style},onPointerDown:j1(e.onPointerDown,T=>{T.preventDefault(),T.button===0&&(T.target.setPointerCapture(T.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",document.body.style.pointerEvents="none",x(T))}),onPointerMove:j1(e.onPointerMove,x),onPointerUp:j1(e.onPointerUp,T=>{T.preventDefault();const I=T.target;I.hasPointerCapture(T.pointerId)&&I.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,document.body.style.pointerEvents="auto",g.current=null})})})}),OWe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=dd(),[a,l]=A.useState(),u=A.useRef(null),c=ps(t,u,o.onScrollbarXChange);return A.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),b.jsx(rEe,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${mF(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),tEe(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:FM(a.paddingLeft),paddingEnd:FM(a.paddingRight)}})}})}),DWe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=dd(),[a,l]=A.useState(),u=A.useRef(null),c=ps(t,u,o.onScrollbarYChange);return A.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),b.jsx(rEe,{...s,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${mF(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),tEe(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:FM(a.paddingTop),paddingEnd:FM(a.paddingBottom)}})}})}),CY=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=El(),s=dd(),o=A.useRef(null),a=A.useRef(0),[l,u]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Zwe(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>PWe(h,a.current,l,p);return n==="horizontal"?b.jsx(OWe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=ble(h,l,i);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,i))}}):n==="vertical"?b.jsx(DWe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=ble(h,l);l.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),iEe=A.forwardRef((e,t)=>{const n=dd(),{forceMount:r,...i}=e,[s,o]=A.useState(!1),a=e.orientation==="horizontal",l=uF(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return jE(n.viewport,l),jE(n.content,l),r||s?b.jsx(CY,{"data-state":s?"visible":"hidden",...i,ref:t}):null}),MWe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=dd(),[s,o]=A.useState(!1);return A.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||s?b.jsx(iEe,{"data-state":s?"visible":"hidden",...r,ref:t}):null}),$We=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=dd(),s=e.orientation==="horizontal",[o,a]=A.useState("hidden"),l=uF(()=>a("idle"),100);return A.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),A.useEffect(()=>{const{viewport:u}=i,c=s?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,l]),n||o!=="hidden"?b.jsx(CY,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:j1(e.onPointerEnter,()=>a("interacting")),onPointerLeave:j1(e.onPointerLeave,()=>a("idle"))}):null}),_le=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=dd(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return A.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?b.jsx(MWe,{...r,ref:t,forceMount:n}):i.type==="scroll"?b.jsx($We,{...r,ref:t,forceMount:n}):i.type==="auto"?b.jsx(iEe,{...r,ref:t,forceMount:n}):i.type==="always"?b.jsx(CY,{...r,ref:t}):null});function LWe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const FWe=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=dd(),s=nEe(),{onThumbPositionChange:o}=s,a=ps(t,c=>s.onThumbChange(c)),l=A.useRef(),u=uF(()=>{l.current&&(l.current(),l.current=void 0)},100);return A.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=LWe(c,o);l.current=f,o()}};return o(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,o]),b.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:j1(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;s.onThumbPointerDown({x:h,y:p})}),onPointerUp:j1(e.onPointerUp,s.onThumbPointerUp)})}),wle=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=nEe();return n||i.hasThumb?b.jsx(FWe,{ref:t,...r}):null}),sEe=A.forwardRef(({children:e,style:t,...n},r)=>{const i=dd(),s=ps(r,i.onViewportChange);return b.jsx(be,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:b.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});sEe.displayName="@mantine/core/ScrollAreaViewport";var AY={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const oEe={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},jWe=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":Ce(t)}}),rS=Le((e,t)=>{const n=xe("ScrollArea",oEe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,...v}=n,[_,w]=A.useState(!1),E=vt({name:"ScrollArea",props:n,classes:AY,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:jWe});return b.jsxs(Jwe,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:y,...E("root"),...v,children:[b.jsx(sEe,{...f,...E("viewport",{style:f==null?void 0:f.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,onScroll:S=>{var x;(x=f==null?void 0:f.onScroll)==null||x.call(f,S),p==null||p({x:S.currentTarget.scrollLeft,y:S.currentTarget.scrollTop})},children:m}),(y==="xy"||y==="x")&&b.jsx(_le,{...E("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:b.jsx(wle,{...E("thumb")})}),(y==="xy"||y==="y")&&b.jsx(_le,{...E("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:b.jsx(wle,{...E("thumb")})}),b.jsx(IWe,{...E("corner"),"data-hovered":_||void 0,"data-hidden":c==="never"||void 0})]})});rS.displayName="@mantine/core/ScrollArea";const IY=Le((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,...v}=xe("ScrollAreaAutosize",oEe,e);return b.jsx(be,{...v,ref:t,style:[{display:"flex",overflow:"auto"},g],children:b.jsx(be,{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx(rS,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:y,scrollbars:m,children:n})})})});rS.classes=AY;IY.displayName="@mantine/core/ScrollAreaAutosize";IY.classes=AY;rS.Autosize=IY;var aEe={root:"m_87cf2631"};const BWe={__staticSelector:"UnstyledButton"},xs=Ls((e,t)=>{const n=xe("UnstyledButton",BWe,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:u,...c}=n,d=vt({name:s,props:n,classes:aEe,className:r,style:u,classNames:a,styles:l,unstyled:o});return b.jsx(be,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});xs.classes=aEe;xs.displayName="@mantine/core/UnstyledButton";var lEe={root:"m_515a97f8"};const zWe={},RY=Le((e,t)=>{const n=xe("VisuallyHidden",zWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,...u}=n,c=vt({name:"VisuallyHidden",classes:lEe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return b.jsx(be,{component:"span",ref:t,...c("root"),...u})});RY.classes=lEe;RY.displayName="@mantine/core/VisuallyHidden";var uEe={root:"m_1b7284a3"};const UWe={},VWe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Mr(t),"--paper-shadow":yY(n)}}),RR=Ls((e,t)=>{const n=xe("Paper",UWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,m=vt({name:"Paper",props:n,classes:uEe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:VWe});return b.jsx(be,{ref:t,mod:[{"data-with-border":l},h],...m("root"),variant:f,...p})});RR.classes=uEe;RR.displayName="@mantine/core/Paper";function iS(e){return cEe(e)?(e.nodeName||"").toLowerCase():"#document"}function tu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dg(e){var t;return(t=(cEe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cEe(e){return e instanceof Node||e instanceof tu(e).Node}function Fi(e){return e instanceof Element||e instanceof tu(e).Element}function Zu(e){return e instanceof HTMLElement||e instanceof tu(e).HTMLElement}function EU(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tu(e).ShadowRoot}function kR(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Jc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function HWe(e){return["table","td","th"].includes(iS(e))}function gF(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function kY(e){const t=PY(),n=Jc(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qWe(e){let t=zm(e);for(;Zu(t)&&!sy(t);){if(gF(t))return null;if(kY(t))return t;t=zm(t)}return null}function PY(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sy(e){return["html","body","#document"].includes(iS(e))}function Jc(e){return tu(e).getComputedStyle(e)}function yF(e){return Fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zm(e){if(iS(e)==="html")return e;const t=e.assignedSlot||e.parentNode||EU(e)&&e.host||dg(e);return EU(t)?t.host:t}function dEe(e){const t=zm(e);return sy(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zu(t)&&kR(t)?t:dEe(t)}function Em(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=dEe(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=tu(i);return s?t.concat(o,o.visualViewport||[],kR(i)?i:[],o.frameElement&&n?Em(o.frameElement):[]):t.concat(i,Em(i,[],n))}function Ele(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function qA(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&EU(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function fEe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function hEe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function WWe(e){return KWe()?!1:!xle()&&e.width===0&&e.height===0||xle()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function GWe(){return/apple/i.test(navigator.vendor)}function xle(){const e=/android/i;return e.test(fEe())||e.test(hEe())}function YWe(){return fEe().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function KWe(){return hEe().includes("jsdom/")}function xU(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function XWe(e){return"nativeEvent"in e}function QWe(e){return e.matches("html,body")}function C1(e){return(e==null?void 0:e.ownerDocument)||document}function q8(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ow(e){return"composedPath"in e?e.composedPath()[0]:e.target}const JWe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ZWe(e){return Zu(e)&&e.matches(JWe)}const Bu=Math.min,Ta=Math.max,jM=Math.round,rN=Math.floor,oy=e=>({x:e,y:e}),eGe={left:"right",right:"left",bottom:"top",top:"bottom"},tGe={start:"end",end:"start"};function SU(e,t,n){return Ta(e,Bu(t,n))}function Um(e,t){return typeof e=="function"?e(t):e}function gf(e){return e.split("-")[0]}function sS(e){return e.split("-")[1]}function NY(e){return e==="x"?"y":"x"}function OY(e){return e==="y"?"height":"width"}function Vm(e){return["top","bottom"].includes(gf(e))?"y":"x"}function DY(e){return NY(Vm(e))}function nGe(e,t,n){n===void 0&&(n=!1);const r=sS(e),i=DY(e),s=OY(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=BM(o)),[o,BM(o)]}function rGe(e){const t=BM(e);return[TU(e),t,TU(t)]}function TU(e){return e.replace(/start|end/g,t=>tGe[t])}function iGe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function sGe(e,t,n,r){const i=sS(e);let s=iGe(gf(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(TU)))),s}function BM(e){return e.replace(/left|right|bottom|top/g,t=>eGe[t])}function oGe(e){return{top:0,right:0,bottom:0,left:0,...e}}function MY(e){return typeof e!="number"?oGe(e):{top:e,right:e,bottom:e,left:e}}function BE(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Sle(e,t,n){let{reference:r,floating:i}=e;const s=Vm(t),o=DY(t),a=OY(o),l=gf(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(sS(t)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const aGe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Sle(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:_,data:w,reset:E}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=v??c,d=_??d,h={...h,[g]:{...h[g],...w}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:d}=Sle(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function $Y(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Um(t,e),p=MY(h),g=a[f?d==="floating"?"reference":"floating":d],y=BE(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},E=BE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-E.top+p.top)/w.y,bottom:(E.bottom-y.bottom+p.bottom)/w.y,left:(y.left-E.left+p.left)/w.x,right:(E.right-y.right+p.right)/w.x}}const lGe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Um(e,t)||{};if(u==null)return{};const d=MY(c),f={x:n,y:r},h=DY(i),p=OY(h),m=await o.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",_=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[h]-f[h]-s.floating[p],E=f[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let x=S?S[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(S)))&&(x=a.floating[_]||s.floating[p]);const T=w/2-E/2,I=x/2-m[p]/2-1,P=Bu(d[y],I),k=Bu(d[v],I),D=P,R=x-m[p]-k,M=x/2-m[p]/2+T,$=SU(D,M,R),L=!l.arrow&&sS(i)!=null&&M!==$&&s.reference[p]/2-(M<D?P:k)-m[p]/2<0,B=L?M<D?M-D:M-R:0;return{[h]:f[h]+B,data:{[h]:$,centerOffset:M-$-B,...L&&{alignmentOffset:B}},reset:L}}}),uGe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Um(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=gf(i),v=Vm(a),_=gf(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=f||(_||!m?[BM(a)]:rGe(a)),S=p!=="none";!f&&S&&E.push(...sGe(a,m,p,w));const x=[a,...E],T=await $Y(t,g),I=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&I.push(T[y]),d){const M=nGe(i,o,w);I.push(T[M[0]],T[M[1]])}if(P=[...P,{placement:i,overflows:I}],!I.every(M=>M<=0)){var k,D;const M=(((k=s.flip)==null?void 0:k.index)||0)+1,$=x[M];if($)return{data:{index:M,overflows:P},reset:{placement:$}};let L=(D=P.filter(B=>B.overflows[0]<=0).sort((B,z)=>B.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!L)switch(h){case"bestFit":{var R;const B=(R=P.filter(z=>{if(S){const U=Vm(z.placement);return U===v||U==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(U=>U>0).reduce((U,N)=>U+N,0)]).sort((z,U)=>z[1]-U[1])[0])==null?void 0:R[0];B&&(L=B);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function pEe(e){const t=Bu(...e.map(s=>s.left)),n=Bu(...e.map(s=>s.top)),r=Ta(...e.map(s=>s.right)),i=Ta(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function cGe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>BE(pEe(i)))}const dGe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=Um(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=cGe(c),f=BE(pEe(c)),h=MY(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(Vm(n)==="y"){const P=d[0],k=d[d.length-1],D=gf(n)==="top",R=P.top,M=k.bottom,$=D?P.left:k.left,L=D?P.right:k.right,B=L-$,z=M-R;return{top:R,bottom:M,left:$,right:L,width:B,height:z,x:$,y:R}}const g=gf(n)==="left",y=Ta(...d.map(P=>P.right)),v=Bu(...d.map(P=>P.left)),_=d.filter(P=>g?P.left===v:P.right===y),w=_[0].top,E=_[_.length-1].bottom,S=v,x=y,T=x-S,I=E-w;return{top:w,bottom:E,left:S,right:x,width:T,height:I,x:S,y:w}}return f}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function fGe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=gf(n),a=sS(n),l=Vm(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=Um(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const hGe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await fGe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},pGe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Um(e,t),u={x:n,y:r},c=await $Y(t,l),d=Vm(gf(i)),f=NY(d);let h=u[f],p=u[d];if(s){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],_=h-c[y];h=SU(v,h,_)}if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],_=p-c[y];p=SU(v,p,_)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},mGe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Um(e,t),c={x:n,y:r},d=Vm(i),f=NY(d);let h=c[f],p=c[d];const m=Um(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=f==="y"?"height":"width",w=s.reference[f]-s.floating[_]+g.mainAxis,E=s.reference[f]+s.reference[_]-g.mainAxis;h<w?h=w:h>E&&(h=E)}if(u){var y,v;const _=f==="y"?"width":"height",w=["top","left"].includes(gf(i)),E=s.reference[d]-s.floating[_]+(w&&((y=o.offset)==null?void 0:y[d])||0)+(w?0:g.crossAxis),S=s.reference[d]+s.reference[_]+(w?0:((v=o.offset)==null?void 0:v[d])||0)-(w?g.crossAxis:0);p<E?p=E:p>S&&(p=S)}return{[f]:h,[d]:p}}}},gGe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=Um(e,t),l=await $Y(t,a),u=gf(n),c=sS(n),d=Vm(n)==="y",{width:f,height:h}=r.floating;let p,m;u==="top"||u==="bottom"?(p=u,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=u,p=c==="end"?"top":"bottom");const g=h-l.top-l.bottom,y=f-l.left-l.right,v=Bu(h-l[p],g),_=Bu(f-l[m],y),w=!t.middlewareData.shift;let E=v,S=_;if(d?S=c||w?Bu(_,y):y:E=c||w?Bu(v,g):g,w&&!c){const T=Ta(l.left,0),I=Ta(l.right,0),P=Ta(l.top,0),k=Ta(l.bottom,0);d?S=f-2*(T!==0||I!==0?T+I:Ta(l.left,l.right)):E=h-2*(P!==0||k!==0?P+k:Ta(l.top,l.bottom))}await o({...t,availableWidth:S,availableHeight:E});const x=await i.getDimensions(s.floating);return f!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function mEe(e){const t=Jc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Zu(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=jM(n)!==s||jM(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function LY(e){return Fi(e)?e:e.contextElement}function nE(e){const t=LY(e);if(!Zu(t))return oy(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=mEe(t);let o=(s?jM(n.width):n.width)/r,a=(s?jM(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yGe=oy(0);function gEe(e){const t=tu(e);return!PY()||!t.visualViewport?yGe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vGe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tu(e)?!1:t}function ib(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=LY(e);let o=oy(1);t&&(r?Fi(r)&&(o=nE(r)):o=nE(e));const a=vGe(s,n,r)?gEe(s):oy(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=tu(s),h=r&&Fi(r)?tu(r):r;let p=f,m=p.frameElement;for(;m&&r&&h!==p;){const g=nE(m),y=m.getBoundingClientRect(),v=Jc(m),_=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,w=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=_,u+=w,p=tu(m),m=p.frameElement}}return BE({width:c,height:d,x:l,y:u})}function bGe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=dg(r),a=t?gF(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=oy(1);const c=oy(0),d=Zu(r);if((d||!d&&!s)&&((iS(r)!=="body"||kR(o))&&(l=yF(r)),Zu(r))){const f=ib(r);u=nE(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function _Ge(e){return Array.from(e.getClientRects())}function yEe(e){return ib(dg(e)).left+yF(e).scrollLeft}function wGe(e){const t=dg(e),n=yF(e),r=e.ownerDocument.body,i=Ta(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ta(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yEe(e);const a=-n.scrollTop;return Jc(r).direction==="rtl"&&(o+=Ta(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function EGe(e,t){const n=tu(e),r=dg(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=PY();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function xGe(e,t){const n=ib(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Zu(e)?nE(e):oy(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Tle(e,t,n){let r;if(t==="viewport")r=EGe(e,n);else if(t==="document")r=wGe(dg(e));else if(Fi(t))r=xGe(t,n);else{const i=gEe(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return BE(r)}function vEe(e,t){const n=zm(e);return n===t||!Fi(n)||sy(n)?!1:Jc(n).position==="fixed"||vEe(n,t)}function SGe(e,t){const n=t.get(e);if(n)return n;let r=Em(e,[],!1).filter(a=>Fi(a)&&iS(a)!=="body"),i=null;const s=Jc(e).position==="fixed";let o=s?zm(e):e;for(;Fi(o)&&!sy(o);){const a=Jc(o),l=kY(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||kR(o)&&!l&&vEe(e,o))?r=r.filter(c=>c!==o):i=a,o=zm(o)}return t.set(e,r),r}function TGe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?gF(t)?[]:SGe(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Tle(t,c,i);return u.top=Ta(d.top,u.top),u.right=Bu(d.right,u.right),u.bottom=Bu(d.bottom,u.bottom),u.left=Ta(d.left,u.left),u},Tle(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CGe(e){const{width:t,height:n}=mEe(e);return{width:t,height:n}}function AGe(e,t,n){const r=Zu(t),i=dg(t),s=n==="fixed",o=ib(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=oy(0);if(r||!r&&!s)if((iS(t)!=="body"||kR(i))&&(a=yF(t)),r){const d=ib(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=yEe(i));const u=o.left+a.scrollLeft-l.x,c=o.top+a.scrollTop-l.y;return{x:u,y:c,width:o.width,height:o.height}}function W8(e){return Jc(e).position==="static"}function Cle(e,t){return!Zu(e)||Jc(e).position==="fixed"?null:t?t(e):e.offsetParent}function bEe(e,t){const n=tu(e);if(gF(e))return n;if(!Zu(e)){let i=zm(e);for(;i&&!sy(i);){if(Fi(i)&&!W8(i))return i;i=zm(i)}return n}let r=Cle(e,t);for(;r&&HWe(r)&&W8(r);)r=Cle(r,t);return r&&sy(r)&&W8(r)&&!kY(r)?n:r||qWe(e)||n}const IGe=async function(e){const t=this.getOffsetParent||bEe,n=this.getDimensions,r=await n(e.floating);return{reference:AGe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RGe(e){return Jc(e).direction==="rtl"}const kGe={convertOffsetParentRelativeRectToViewportRelativeRect:bGe,getDocumentElement:dg,getClippingRect:TGe,getOffsetParent:bEe,getElementRects:IGe,getClientRects:_Ge,getDimensions:CGe,getScale:nE,isElement:Fi,isRTL:RGe};function PGe(e,t){let n=null,r;const i=dg(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=rN(c),p=rN(i.clientWidth-(u+d)),m=rN(i.clientHeight-(c+f)),g=rN(u),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Ta(0,Bu(1,l))||1};let _=!0;function w(E){const S=E[0].intersectionRatio;if(S!==l){if(!_)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(w,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),s}function NGe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=LY(e),c=i||s?[...u?Em(u):[],...Em(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?PGe(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?ib(e):null;l&&g();function g(){const y=ib(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const OGe=hGe,DGe=pGe,MGe=uGe,$Ge=gGe,Ale=lGe,LGe=dGe,FGe=mGe,jGe=(e,t,n)=>{const r=new Map,i={platform:kGe,...n},s={...i.platform,_c:r};return aGe(e,t,{...i,platform:s})};var QO=typeof document<"u"?A.useLayoutEffect:A.useEffect;function zM(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zM(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!zM(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function _Ee(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ile(e,t){const n=_Ee(e);return Math.round(t*n)/n}function Rle(e){const t=A.useRef(e);return QO(()=>{t.current=e}),t}function BGe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=A.useState(r);zM(f,r)||h(r);const[p,m]=A.useState(null),[g,y]=A.useState(null),v=A.useCallback(B=>{B!==S.current&&(S.current=B,m(B))},[]),_=A.useCallback(B=>{B!==x.current&&(x.current=B,y(B))},[]),w=s||p,E=o||g,S=A.useRef(null),x=A.useRef(null),T=A.useRef(c),I=l!=null,P=Rle(l),k=Rle(i),D=A.useCallback(()=>{if(!S.current||!x.current)return;const B={placement:t,strategy:n,middleware:f};k.current&&(B.platform=k.current),jGe(S.current,x.current,B).then(z=>{const U={...z,isPositioned:!0};R.current&&!zM(T.current,U)&&(T.current=U,tS.flushSync(()=>{d(U)}))})},[f,t,n,k]);QO(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[u]);const R=A.useRef(!1);QO(()=>(R.current=!0,()=>{R.current=!1}),[]),QO(()=>{if(w&&(S.current=w),E&&(x.current=E),w&&E){if(P.current)return P.current(w,E,D);D()}},[w,E,D,P,I]);const M=A.useMemo(()=>({reference:S,floating:x,setReference:v,setFloating:_}),[v,_]),$=A.useMemo(()=>({reference:w,floating:E}),[w,E]),L=A.useMemo(()=>{const B={position:n,left:0,top:0};if(!$.floating)return B;const z=Ile($.floating,c.x),U=Ile($.floating,c.y);return a?{...B,transform:"translate("+z+"px, "+U+"px)",..._Ee($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:U}},[n,a,$.floating,c.x,c.y]);return A.useMemo(()=>({...c,update:D,refs:M,elements:$,floatingStyles:L}),[c,D,M,$,L])}const zGe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ale({element:r.current,padding:i}).fn(n):{}:r?Ale({element:r,padding:i}).fn(n):{}}}},wEe=(e,t)=>({...OGe(e),options:[e,t]}),FY=(e,t)=>({...DGe(e),options:[e,t]}),kle=(e,t)=>({...FGe(e),options:[e,t]}),CU=(e,t)=>({...MGe(e),options:[e,t]}),UGe=(e,t)=>({...$Ge(e),options:[e,t]}),AU=(e,t)=>({...LGe(e),options:[e,t]}),EEe=(e,t)=>({...zGe(e),options:[e,t]}),xEe={...lM},VGe=xEe.useInsertionEffect,HGe=VGe||(e=>e());function u0(e){const t=A.useRef(()=>{});return HGe(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Lh=typeof document<"u"?A.useLayoutEffect:A.useEffect;let Ple=!1,qGe=0;const Nle=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qGe++;function WGe(){const[e,t]=A.useState(()=>Ple?Nle():void 0);return Lh(()=>{e==null&&t(Nle())},[]),A.useEffect(()=>{Ple=!0},[]),e}const GGe=xEe.useId,SEe=GGe||WGe;function YGe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const KGe=A.createContext(null),XGe=A.createContext(null),jY=()=>{var e;return((e=A.useContext(KGe))==null?void 0:e.id)||null},BY=()=>A.useContext(XGe);function zY(e){return"data-floating-ui-"+e}function G8(e){const t=A.useRef(e);return Lh(()=>{t.current=e}),t}const Ole=zY("safe-polygon");function JO(e,t,n){return n&&!xU(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function QGe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=BY(),p=jY(),m=G8(u),g=G8(l),y=G8(n),v=A.useRef(),_=A.useRef(-1),w=A.useRef(),E=A.useRef(-1),S=A.useRef(!0),x=A.useRef(!1),T=A.useRef(()=>{}),I=A.useCallback(()=>{var $;const L=($=i.current.openEvent)==null?void 0:$.type;return(L==null?void 0:L.includes("mouse"))&&L!=="mousedown"},[i]);A.useEffect(()=>{if(!a)return;function $(L){let{open:B}=L;B||(clearTimeout(_.current),clearTimeout(E.current),S.current=!0)}return s.on("openchange",$),()=>{s.off("openchange",$)}},[a,s]),A.useEffect(()=>{if(!a||!m.current||!n)return;function $(B){I()&&r(!1,B,"hover")}const L=C1(o.floating).documentElement;return L.addEventListener("mouseleave",$),()=>{L.removeEventListener("mouseleave",$)}},[o.floating,n,r,a,m,I]);const P=A.useCallback(function($,L,B){L===void 0&&(L=!0),B===void 0&&(B="hover");const z=JO(g.current,"close",v.current);z&&!w.current?(clearTimeout(_.current),_.current=window.setTimeout(()=>r(!1,$,B),z)):L&&(clearTimeout(_.current),r(!1,$,B))},[g,r]),k=u0(()=>{T.current(),w.current=void 0}),D=u0(()=>{if(x.current){const $=C1(o.floating).body;$.style.pointerEvents="",$.removeAttribute(Ole),x.current=!1}});A.useEffect(()=>{if(!a)return;function $(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function L(N){if(clearTimeout(_.current),S.current=!1,c&&!xU(v.current)||d>0&&!JO(g.current,"open"))return;const V=JO(g.current,"open",v.current);V?_.current=window.setTimeout(()=>{y.current||r(!0,N,"hover")},V):r(!0,N,"hover")}function B(N){if($())return;T.current();const V=C1(o.floating);if(clearTimeout(E.current),m.current&&i.current.floatingContext){n||clearTimeout(_.current),w.current=m.current({...i.current.floatingContext,tree:h,x:N.clientX,y:N.clientY,onClose(){D(),k(),P(N,!0,"safe-polygon")}});const F=w.current;V.addEventListener("mousemove",F),T.current=()=>{V.removeEventListener("mousemove",F)};return}(v.current==="touch"?!qA(o.floating,N.relatedTarget):!0)&&P(N)}function z(N){$()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:N.clientX,y:N.clientY,onClose(){D(),k(),P(N)}})(N))}if(Fi(o.domReference)){var U;const N=o.domReference;return n&&N.addEventListener("mouseleave",z),(U=o.floating)==null||U.addEventListener("mouseleave",z),f&&N.addEventListener("mousemove",L,{once:!0}),N.addEventListener("mouseenter",L),N.addEventListener("mouseleave",B),()=>{var V;n&&N.removeEventListener("mouseleave",z),(V=o.floating)==null||V.removeEventListener("mouseleave",z),f&&N.removeEventListener("mousemove",L),N.removeEventListener("mouseenter",L),N.removeEventListener("mouseleave",B)}}},[o,a,e,c,d,f,P,k,D,r,n,y,h,g,m,i]),Lh(()=>{var $;if(a&&n&&($=m.current)!=null&&$.__options.blockPointerEvents&&I()){const B=C1(o.floating).body;B.setAttribute(Ole,""),B.style.pointerEvents="none",x.current=!0;const z=o.floating;if(Fi(o.domReference)&&z){var L;const U=o.domReference,N=h==null||(L=h.nodesRef.current.find(V=>V.id===p))==null||(L=L.context)==null?void 0:L.elements.floating;return N&&(N.style.pointerEvents=""),U.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{U.style.pointerEvents="",z.style.pointerEvents=""}}}},[a,n,p,o,h,m,I]),Lh(()=>{n||(v.current=void 0,k(),D())},[n,k,D]),A.useEffect(()=>()=>{k(),clearTimeout(_.current),clearTimeout(E.current),D()},[a,o.domReference,k,D]);const R=A.useMemo(()=>{function $(L){v.current=L.pointerType}return{onPointerDown:$,onPointerEnter:$,onMouseMove(L){const{nativeEvent:B}=L;function z(){!S.current&&!y.current&&r(!0,B,"hover")}c&&!xU(v.current)||n||d===0||(clearTimeout(E.current),v.current==="touch"?z():E.current=window.setTimeout(z,d))}}},[c,r,n,y,d]),M=A.useMemo(()=>({onMouseEnter(){clearTimeout(_.current)},onMouseLeave($){P($.nativeEvent,!1)}}),[P]);return A.useMemo(()=>a?{reference:R,floating:M}:{},[a,R,M])}const IU=()=>{},TEe=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:IU,setState:IU,isInstantPhase:!1}),CEe=()=>A.useContext(TEe);function JGe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=A.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=A.useRef(null),a=A.useCallback(l=>{s({currentId:l})},[]);return Lh(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),A.createElement(TEe.Provider,{value:A.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function ZGe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s}=t,o=s??i,a=CEe(),{currentId:l,setCurrentId:u,initialDelay:c,setState:d,timeoutMs:f}=a;return Lh(()=>{l&&(d({delay:{open:1,close:JO(c,"close")}}),l!==o&&r(!1))},[o,r,d,l,c]),Lh(()=>{function h(){r(!1),d({delay:c,currentId:null})}if(l&&!n&&l===o){if(f){const p=window.setTimeout(h,f);return()=>{clearTimeout(p)}}h()}},[n,d,l,o,r,c,f]),Lh(()=>{u===IU||!n||u(o)},[n,u,o]),a}function Y8(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const eYe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},tYe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Dle=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function nYe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=BY(),g=u0(typeof l=="function"?l:()=>!1),y=typeof l=="function"?g:l,v=A.useRef(!1),_=A.useRef(!1),{escapeKey:w,outsidePress:E}=Dle(h),{escapeKey:S,outsidePress:x}=Dle(p),T=u0(M=>{var $;if(!n||!o||!a||M.key!=="Escape")return;const L=($=s.current.floatingContext)==null?void 0:$.nodeId,B=m?Y8(m.nodesRef.current,L):[];if(!w&&(M.stopPropagation(),B.length>0)){let z=!0;if(B.forEach(U=>{var N;if((N=U.context)!=null&&N.open&&!U.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}r(!1,XWe(M)?M.nativeEvent:M,"escape-key")}),I=u0(M=>{var $;const L=()=>{var B;T(M),(B=ow(M))==null||B.removeEventListener("keydown",L)};($=ow(M))==null||$.addEventListener("keydown",L)}),P=u0(M=>{var $;const L=v.current;v.current=!1;const B=_.current;if(_.current=!1,u==="click"&&B||L||typeof y=="function"&&!y(M))return;const z=ow(M),U="["+zY("inert")+"]",N=C1(i.floating).querySelectorAll(U);let V=Fi(z)?z:null;for(;V&&!sy(V);){const G=zm(V);if(sy(G)||!Fi(G))break;V=G}if(N.length&&Fi(z)&&!QWe(z)&&!qA(z,i.floating)&&Array.from(N).every(G=>!qA(V,G)))return;if(Zu(z)&&R){const G=z.clientWidth>0&&z.scrollWidth>z.clientWidth,X=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let ie=X&&M.offsetX>z.clientWidth;if(X&&Jc(z).direction==="rtl"&&(ie=M.offsetX<=z.offsetWidth-z.clientWidth),ie||G&&M.offsetY>z.clientHeight)return}const W=($=s.current.floatingContext)==null?void 0:$.nodeId,F=m&&Y8(m.nodesRef.current,W).some(G=>{var X;return q8(M,(X=G.context)==null?void 0:X.elements.floating)});if(q8(M,i.floating)||q8(M,i.domReference)||F)return;const H=m?Y8(m.nodesRef.current,W):[];if(H.length>0){let G=!0;if(H.forEach(X=>{var ie;if((ie=X.context)!=null&&ie.open&&!X.context.dataRef.current.__outsidePressBubbles){G=!1;return}}),!G)return}r(!1,M,"outside-press")}),k=u0(M=>{var $;const L=()=>{var B;P(M),(B=ow(M))==null||B.removeEventListener(u,L)};($=ow(M))==null||$.addEventListener(u,L)});A.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=w,s.current.__outsidePressBubbles=E;function M(B){r(!1,B,"ancestor-scroll")}const $=C1(i.floating);a&&$.addEventListener("keydown",S?I:T,S),y&&$.addEventListener(u,x?k:P,x);let L=[];return f&&(Fi(i.domReference)&&(L=Em(i.domReference)),Fi(i.floating)&&(L=L.concat(Em(i.floating))),!Fi(i.reference)&&i.reference&&i.reference.contextElement&&(L=L.concat(Em(i.reference.contextElement)))),L=L.filter(B=>{var z;return B!==((z=$.defaultView)==null?void 0:z.visualViewport)}),L.forEach(B=>{B.addEventListener("scroll",M,{passive:!0})}),()=>{a&&$.removeEventListener("keydown",S?I:T,S),y&&$.removeEventListener(u,x?k:P,x),L.forEach(B=>{B.removeEventListener("scroll",M)})}},[s,i,a,y,u,n,r,f,o,w,E,T,S,I,P,x,k]),A.useEffect(()=>{v.current=!1},[y,u]);const D=A.useMemo(()=>({onKeyDown:T,[eYe[d]]:M=>{c&&r(!1,M.nativeEvent,"reference-press")}}),[T,r,c,d]),R=A.useMemo(()=>({onKeyDown:T,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[tYe[u]]:()=>{v.current=!0}}),[T,u]);return A.useMemo(()=>o?{reference:D,floating:R}:{},[o,D,R])}function rYe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=SEe(),s=A.useRef({}),[o]=A.useState(()=>YGe()),a=jY()!=null,[l,u]=A.useState(r.reference),c=u0((h,p,m)=>{s.current.openEvent=h?p:void 0,o.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),d=A.useMemo(()=>({setPositionReference:u}),[]),f=A.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return A.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:f,events:o,floatingId:i,refs:d}),[t,c,f,o,i,d])}function UY(e){e===void 0&&(e={});const{nodeId:t}=e,n=rYe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=A.useState(null),[a,l]=A.useState(null),c=(i==null?void 0:i.reference)||s,d=A.useRef(null),f=BY();Lh(()=>{c&&(d.current=c)},[c]);const h=BGe({...e,elements:{...i,...a&&{reference:a}}}),p=A.useCallback(_=>{const w=Fi(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(w),h.refs.setReference(w)},[h.refs]),m=A.useCallback(_=>{(Fi(_)||_===null)&&(d.current=_,o(_)),(Fi(h.refs.reference.current)||h.refs.reference.current===null||_!==null&&!Fi(_))&&h.refs.setReference(_)},[h.refs]),g=A.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),y=A.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=A.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return Lh(()=>{r.dataRef.current.floatingContext=v;const _=f==null?void 0:f.nodesRef.current.find(w=>w.id===t);_&&(_.context=v)}),A.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function iYe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=A.useRef(!1),c=A.useRef(),d=A.useRef(!0);A.useEffect(()=>{if(!a)return;const h=tu(o.domReference);function p(){!n&&Zu(o.domReference)&&o.domReference===Ele(C1(o.domReference))&&(u.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[o.domReference,n,a]),A.useEffect(()=>{if(!a)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),A.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=A.useMemo(()=>({onPointerDown(h){WWe(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const p=ow(h.nativeEvent);if(l&&Fi(p))try{if(GWe()&&YWe())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!ZWe(p))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const p=h.relatedTarget,m=h.nativeEvent,g=Fi(p)&&p.hasAttribute(zY("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const v=Ele(o.domReference?o.domReference.ownerDocument:document);!p&&v===o.domReference||qA((y=s.current.floatingContext)==null?void 0:y.refs.floating.current,v)||qA(o.domReference,v)||g||r(!1,m,"focus")})}}),[s,o.domReference,r,l]);return A.useMemo(()=>a?{reference:f}:{},[a,f])}const Mle="active",$le="selected";function K8(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[Mle]:o,[$le]:a,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Mle,$le].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),o[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(g=>g(...p)).find(g=>g!==void 0)}}}else o[u]=c}),o),{})}}function sYe(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=A.useCallback(a=>K8(a,e,"reference"),t),s=A.useCallback(a=>K8(a,e,"floating"),n),o=A.useCallback(a=>K8(a,e,"item"),r);return A.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const oYe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function aYe(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=oYe.get(o))!=null?n:o,l=SEe(),c=jY()!=null,d=A.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,o]),f=A.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=A.useCallback(p=>{let{active:m,selected:g}=p;const y={role:"option",...m&&{id:i+"-option"}};switch(o){case"select":return{...y,"aria-selected":m&&g};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[i,o]);return A.useMemo(()=>s?{reference:d,floating:f,item:h}:{},[s,d,f,h])}function AEe(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function Lle(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Fle(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const lYe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function uYe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[lYe[l]]:r},d=-t/2;return l==="left"?{...c,...Lle(u,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...c,...Lle(u,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...c,...Fle(u,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...c,...Fle(u,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const VY=A.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...u},c)=>{const{dir:d}=El();return s?b.jsx("div",{...u,ref:c,style:{...l,...uYe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});VY.displayName="@mantine/core/FloatingArrow";const[cYe,IEe]=io("Popover component was not found in the tree");function vF({children:e,active:t=!0,refProp:n="ref"}){const r=XHe(t),i=ps(r,e==null?void 0:e.ref);return Gy(e)?A.cloneElement(e,{[n]:i}):e}function REe(e){return b.jsx(RY,{tabIndex:-1,"data-autofocus":!0,...e})}vF.displayName="@mantine/core/FocusTrap";REe.displayName="@mantine/core/FocusTrapInitialFocus";vF.InitialFocus=REe;function dYe(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const fYe={},kEe=A.forwardRef((e,t)=>{const{children:n,target:r,...i}=xe("Portal",fYe,e),[s,o]=A.useState(!1),a=A.useRef(null);return qb(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:dYe(i),bY(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:tS.createPortal(b.jsx(b.Fragment,{children:n}),a.current)});kEe.displayName="@mantine/core/Portal";function PR({withinPortal:e=!0,children:t,...n}){return e?b.jsx(kEe,{...n,children:t}):b.jsx(b.Fragment,{children:t})}PR.displayName="@mantine/core/OptionalPortal";const NT=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${Ce(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),iN={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Ce(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Ce(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Ce(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Ce(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Ce(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Ce(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Ce(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Ce(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...NT("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...NT("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...NT("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...NT("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...NT("top"),common:{transformOrigin:"top right"}}},jle={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function hYe({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in iN?{transitionProperty:iN[e].transitionProperty,...i,...iN[e].common,...iN[e][jle[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[jle[t]]}}function pYe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:u}){const c=Is(),d=_Y(),f=c.respectReducedMotion?d:!1,[h,p]=A.useState(f?0:e),[m,g]=A.useState(r?"entered":"exited"),y=A.useRef(-1),v=A.useRef(-1),_=A.useRef(-1),w=S=>{const x=S?i:s,T=S?o:a;window.clearTimeout(y.current);const I=f?0:S?e:t;p(I),I===0?(typeof x=="function"&&x(),typeof T=="function"&&T(),g(S?"entered":"exited")):_.current=requestAnimationFrame(()=>{WVe.flushSync(()=>{g(S?"pre-entering":"pre-exiting")}),_.current=requestAnimationFrame(()=>{typeof x=="function"&&x(),g(S?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof T=="function"&&T(),g(S?"entered":"exited")},I)})})},E=S=>{if(window.clearTimeout(v.current),typeof(S?l:u)!="number"){w(S);return}v.current=window.setTimeout(()=>{w(S)},S?l:u)};return Ju(()=>{E(r)},[r]),A.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(_.current)},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function Pf({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const{transitionDuration:h,transitionStatus:p,transitionTimingFunction:m}=pYe({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return h===0?i?b.jsx(b.Fragment,{children:s({})}):e?s({display:"none"}):null:p==="exited"?e?s({display:"none"}):null:b.jsx(b.Fragment,{children:s(hYe({transition:t,duration:h,state:p,timingFunction:m}))})}Pf.displayName="@mantine/core/Transition";var PEe={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const mYe={},HY=Le((e,t)=>{var g,y,v,_;const n=xe("PopoverDropdown",mYe,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=IEe(),h=Dwe({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=ps(t,f.floating);return f.disabled?null:b.jsx(PR,{...f.portalProps,withinPortal:f.withinPortal,children:b.jsx(Pf,{mounted:f.opened,...f.transitionProps,transition:((g=f.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((v=f.transitionProps)==null?void 0:v.exitDuration)=="number"?f.transitionProps.exitDuration:(_=f.transitionProps)==null?void 0:_.duration,children:w=>b.jsx(vF,{active:f.trapFocus,children:b.jsxs(be,{...p,...d,variant:l,ref:m,onKeyDownCapture:$He(f.onClose,{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...w,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Ce(f.width)},i]}),children:[o,b.jsx(VY,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});HY.classes=PEe;HY.displayName="@mantine/core/PopoverDropdown";const gYe={refProp:"ref",popupType:"dialog"},NEe=Le((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=xe("PopoverTarget",gYe,e);if(!Gy(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=IEe(),l=ps(a.reference,n.ref,t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return A.cloneElement(n,{...o,...u,...a.targetProps,className:yt(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});NEe.displayName="@mantine/core/PopoverTarget";function OEe({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=A.useState(0);A.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return NGe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),Ju(()=>{t.update()},r),Ju(()=>{s(o=>o+1)},[e])}function yYe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function vYe(e,t){const n=yYe(e.middlewares),r=[wEe(e.offset)];return n.shift&&r.push(FY(typeof n.shift=="boolean"?{limiter:kle(),padding:5}:{limiter:kle(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?CU():CU(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?AU():AU(n.inline)),r.push(EEe({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(UGe({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o}){var u;const l=((u=t().refs.floating.current)==null?void 0:u.style)??{};n.size&&Object.assign(l,{maxWidth:`${s}px`,maxHeight:`${o}px`}),e.width==="target"&&Object.assign(l,{width:`${i.reference.width}px`})}})),r}function bYe(e){const[t,n]=Xi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;t&&((o=e.onClose)==null||o.call(e),n(!1))},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=UY({strategy:e.strategy,placement:e.position,middleware:vYe(e,()=>s)});return OEe({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),Ju(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),Ju(()=>{var o,a;e.opened?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const _Ye={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:cd("popover"),__staticSelector:"Popover",width:"max-content"},wYe=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Mr(t),"--popover-shadow":yY(n)}});function $n(e){var me,ne,Ee,Pe,Je,qe;const t=xe("Popover",_Ye,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,width:u,middlewares:c,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:p,arrowPosition:m,unstyled:g,classNames:y,styles:v,closeOnClickOutside:_,withinPortal:w,portalProps:E,closeOnEscape:S,clickOutsideEvents:x,trapFocus:T,onClose:I,onOpen:P,onChange:k,zIndex:D,radius:R,shadow:M,id:$,defaultOpened:L,__staticSelector:B,withRoles:z,disabled:U,returnFocus:N,variant:V,keepMounted:W,vars:F,floatingStrategy:H,...G}=t,X=vt({name:B,props:t,classes:PEe,classNames:y,styles:v,unstyled:g,rootSelector:"dropdown",vars:F,varsResolver:wYe}),ie=A.useRef(null),[oe,se]=A.useState(null),[le,Se]=A.useState(null),{dir:de}=El(),De=ta($),Fe=bYe({middlewares:c,width:u,position:AEe(de,r),offset:typeof i=="number"?i+(d?f/2:0):i,arrowRef:ie,arrowOffset:h,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:L,onChange:k,onOpen:P,onClose:I,strategy:H});jHe(()=>_&&Fe.onClose(),x,[oe,le]);const Be=A.useCallback(_e=>{se(_e),Fe.floating.refs.setReference(_e)},[Fe.floating.refs.setReference]),je=A.useCallback(_e=>{Se(_e),Fe.floating.refs.setFloating(_e)},[Fe.floating.refs.setFloating]);return b.jsx(cYe,{value:{returnFocus:N,disabled:U,controlled:Fe.controlled,reference:Be,floating:je,x:Fe.floating.x,y:Fe.floating.y,arrowX:(Ee=(ne=(me=Fe.floating)==null?void 0:me.middlewareData)==null?void 0:ne.arrow)==null?void 0:Ee.x,arrowY:(qe=(Je=(Pe=Fe.floating)==null?void 0:Pe.middlewareData)==null?void 0:Je.arrow)==null?void 0:qe.y,opened:Fe.opened,arrowRef:ie,transitionProps:l,width:u,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:p,arrowPosition:m,placement:Fe.floating.placement,trapFocus:T,withinPortal:w,portalProps:E,zIndex:D,radius:R,shadow:M,closeOnEscape:S,onClose:Fe.onClose,onToggle:Fe.onToggle,getTargetId:()=>`${De}-target`,getDropdownId:()=>`${De}-dropdown`,withRoles:z,targetProps:G,__staticSelector:B,classNames:y,styles:v,unstyled:g,variant:V,keepMounted:W,getStyles:X,floatingStrategy:H},children:n})}$n.Target=NEe;$n.Dropdown=HY;$n.displayName="@mantine/core/Popover";$n.extend=e=>e;var Yd={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const EYe=A.forwardRef(({className:e,...t},n)=>b.jsxs(be,{component:"span",className:yt(Yd.barsLoader,e),...t,ref:n,children:[b.jsx("span",{className:Yd.bar}),b.jsx("span",{className:Yd.bar}),b.jsx("span",{className:Yd.bar})]})),xYe=A.forwardRef(({className:e,...t},n)=>b.jsxs(be,{component:"span",className:yt(Yd.dotsLoader,e),...t,ref:n,children:[b.jsx("span",{className:Yd.dot}),b.jsx("span",{className:Yd.dot}),b.jsx("span",{className:Yd.dot})]})),SYe=A.forwardRef(({className:e,...t},n)=>b.jsx(be,{component:"span",className:yt(Yd.ovalLoader,e),...t,ref:n})),DEe={bars:EYe,oval:SYe,dots:xYe},TYe={loaders:DEe,type:"oval"},CYe=(e,{size:t,color:n})=>({root:{"--loader-size":Jt(t,"loader-size"),"--loader-color":n?Yr(n,e):void 0}}),ws=Le((e,t)=>{const n=xe("Loader",TYe,e),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...m}=n,g=vt({name:"Loader",props:n,classes:Yd,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:o,varsResolver:CYe});return p?b.jsx(be,{...g("root"),ref:t,...m,children:p}):b.jsx(be,{...g("root"),ref:t,component:f[s],variant:h,size:r,...m})});ws.defaultLoaders=DEe;ws.classes=Yd;ws.displayName="@mantine/core/Loader";var bF={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const Ble={orientation:"horizontal"},AYe=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ce(t)}}),qY=Le((e,t)=>{const n=xe("ActionIconGroup",Ble,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=xe("ActionIconGroup",Ble,e),p=vt({name:"ActionIconGroup",props:n,classes:bF,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:AYe,rootSelector:"group"});return b.jsx(be,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});qY.classes=bF;qY.displayName="@mantine/core/ActionIconGroup";const IYe={},RYe=(e,{size:t,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":Jt(t,"ai-size"),"--ai-radius":n===void 0?void 0:Mr(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},Fn=Ls((e,t)=>{const n=xe("ActionIcon",IYe,e),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":_,autoContrast:w,mod:E,...S}=n,x=vt({name:["ActionIcon",p],props:n,className:r,style:l,classes:bF,classNames:o,styles:a,unstyled:i,vars:g,varsResolver:RYe});return b.jsxs(xs,{...x("root",{active:!v&&!u&&!_}),...S,unstyled:i,variant:s,size:d,disabled:v||u,ref:t,mod:[{loading:u,disabled:v||_},E],children:[b.jsx(Pf,{mounted:!!u,transition:"slide-down",duration:150,children:T=>b.jsx(be,{component:"span",...x("loader",{style:T}),"aria-hidden":!0,children:b.jsx(ws,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),b.jsx(be,{component:"span",mod:{loading:u},...x("icon"),children:y})]})});Fn.classes=bF;Fn.displayName="@mantine/core/ActionIcon";Fn.Group=qY;const MEe=A.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));MEe.displayName="@mantine/core/CloseIcon";var $Ee={root:"m_86a44da5","root--subtle":"m_220c80f2"};const kYe={variant:"subtle"},PYe=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Jt(t,"cb-size"),"--cb-radius":n===void 0?void 0:Mr(n),"--cb-icon-size":Ce(r)}}),Xy=Ls((e,t)=>{const n=xe("CloseButton",kYe,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:g,...y}=n,v=vt({name:"CloseButton",props:n,className:a,style:u,classes:$Ee,classNames:l,styles:c,unstyled:d,vars:s,varsResolver:PYe});return b.jsxs(xs,{ref:t,...y,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},g],...v("root",{variant:p,active:!h&&!f}),children:[m||b.jsx(MEe,{}),i]})});Xy.classes=$Ee;Xy.displayName="@mantine/core/CloseButton";function NYe(e){return A.Children.toArray(e).filter(Boolean)}var LEe={root:"m_4081bf90"};const OYe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},DYe=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Qu(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),Rn=Le((e,t)=>{const n=xe("Group",OYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,..._}=n,w=NYe(l),E=w.length,S=Qu(u??"md"),T={childWidth:`calc(${100/E}% - (${S} - ${S} / ${E}))`},I=vt({name:"Group",props:n,stylesCtx:T,className:i,style:s,classes:LEe,classNames:r,styles:o,unstyled:a,vars:m,varsResolver:DYe});return b.jsx(be,{...I("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,..._,children:w})});Rn.classes=LEe;Rn.displayName="@mantine/core/Group";var FEe={root:"m_9814e45f"};const MYe={zIndex:cd("modal")},$Ye=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&sh(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ce(i)})`:void 0,"--overlay-radius":s===void 0?void 0:Mr(s),"--overlay-z-index":o==null?void 0:o.toString()}}),WA=Ls((e,t)=>{const n=xe("Overlay",MYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,..._}=n,w=vt({name:"Overlay",props:n,classes:FEe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:$Ye});return b.jsx(be,{ref:t,...w("root"),mod:[{center:c,fixed:u},v],..._,children:d})});WA.classes=FEe;WA.displayName="@mantine/core/Overlay";const[LYe,fg]=io("ModalBase component was not found in tree");function FYe({opened:e,transitionDuration:t}){const[n,r]=A.useState(e),i=A.useRef(),o=_Y()?0:t;return A.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function jYe({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=ta(e),[l,u]=A.useState(!1),[c,d]=A.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=FYe({opened:n,transitionDuration:f});return Fwe("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),Dwe({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const jEe=A.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,trapFocus:s,closeOnEscape:o,returnFocus:a,closeOnClickOutside:l,withinPortal:u,portalProps:c,lockScroll:d,children:f,zIndex:h,shadow:p,padding:m,__vars:g,unstyled:y,removeScrollProps:v,..._},w)=>{const{_id:E,titleMounted:S,bodyMounted:x,shouldLockScroll:T,setTitleMounted:I,setBodyMounted:P}=jYe({id:r,transitionProps:i,opened:t,trapFocus:s,closeOnEscape:o,onClose:n,returnFocus:a}),{key:k,...D}=v||{};return b.jsx(PR,{...c,withinPortal:u,children:b.jsx(LYe,{value:{opened:t,onClose:n,closeOnClickOutside:l,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${E}-title`,getBodyId:()=>`${E}-body`,titleMounted:S,bodyMounted:x,setTitleMounted:I,setBodyMounted:P,trapFocus:s,closeOnEscape:o,zIndex:h,unstyled:y},children:b.jsx(lF,{enabled:T&&d,...D,children:b.jsx(be,{ref:w,..._,__vars:{...g,"--mb-z-index":(h||cd("modal")).toString(),"--mb-shadow":yY(p),"--mb-padding":Qu(m)},children:f})},k)})})});function BYe(){const e=fg();return A.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var zE={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const WY=A.forwardRef(({className:e,...t},n)=>{const r=BYe(),i=fg();return b.jsx(be,{ref:n,...t,id:r,className:yt({[zE.body]:!i.unstyled},e)})});WY.displayName="@mantine/core/ModalBaseBody";const GY=A.forwardRef(({className:e,onClick:t,...n},r)=>{const i=fg();return b.jsx(Xy,{ref:r,...n,onClick:s=>{i.onClose(),t==null||t(s)},className:yt({[zE.close]:!i.unstyled},e),unstyled:i.unstyled})});GY.displayName="@mantine/core/ModalBaseCloseButton";const BEe=A.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=fg();return b.jsx(Pf,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:l=>b.jsx("div",{...n,className:yt({[zE.inner]:!a.unstyled},n.className),children:b.jsx(vF,{active:a.opened&&a.trapFocus,children:b.jsx(RR,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,ref:o,style:[i,l],className:yt({[zE.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})}),YY=A.forwardRef(({className:e,...t},n)=>{const r=fg();return b.jsx(be,{component:"header",ref:n,className:yt({[zE.header]:!r.unstyled},e),...t})});YY.displayName="@mantine/core/ModalBaseHeader";const zYe={duration:200,timingFunction:"ease",transition:"fade"};function UYe(e){const t=fg();return{...zYe,...t.transitionProps,...e}}const KY=A.forwardRef(({onClick:e,transitionProps:t,style:n,...r},i)=>{const s=fg(),o=UYe(t);return b.jsx(Pf,{mounted:s.opened,...o,transition:"fade",children:a=>b.jsx(WA,{ref:i,fixed:!0,style:[n,a],zIndex:s.zIndex,unstyled:s.unstyled,onClick:l=>{e==null||e(l),s.closeOnClickOutside&&s.onClose()},...r})})});KY.displayName="@mantine/core/ModalBaseOverlay";function VYe(){const e=fg();return A.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const XY=A.forwardRef(({className:e,...t},n)=>{const r=VYe(),i=fg();return b.jsx(be,{component:"h2",ref:n,className:yt({[zE.title]:!i.unstyled},e),...t,id:r})});XY.displayName="@mantine/core/ModalBaseTitle";function zEe({children:e}){return b.jsx(b.Fragment,{children:e})}const[HYe,oS]=Hb({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var fd={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const zle={},qYe=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Js(t)} - ${Ce(2)})`}}),_F=Le((e,t)=>{const n=xe("InputDescription",zle,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=xe("InputDescription",zle,n),p=oS(),m=vt({name:["InputWrapper",c],props:n,classes:fd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:qYe}),g=d&&(p==null?void 0:p.getStyles)||m;return b.jsx(be,{component:"p",ref:t,variant:f,size:u,...g("description",p!=null&&p.getStyles?{className:i,style:s}:void 0),...h})});_F.classes=fd;_F.displayName="@mantine/core/InputDescription";const WYe={},GYe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Js(t)} - ${Ce(2)})`}}),wF=Le((e,t)=>{const n=xe("InputError",WYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=vt({name:["InputWrapper",c],props:n,classes:fd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:GYe}),m=oS(),g=d&&(m==null?void 0:m.getStyles)||p;return b.jsx(be,{component:"p",ref:t,variant:f,size:u,...g("error",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});wF.classes=fd;wF.displayName="@mantine/core/InputError";const Ule={labelElement:"label"},YYe=(e,{size:t})=>({label:{"--input-label-size":Js(t),"--input-asterisk-color":void 0}}),EF=Le((e,t)=>{const n=xe("InputLabel",Ule,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=xe("InputLabel",Ule,n),_=vt({name:["InputWrapper",m],props:n,classes:fd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:YYe}),w=oS(),E=(w==null?void 0:w.getStyles)||_;return b.jsxs(be,{...E("label",w!=null&&w.getStyles?{className:i,style:s}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},y],onMouseDown:S=>{h==null||h(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...v,children:[p,d&&b.jsx("span",{...E("required"),"aria-hidden":!0,children:" *"})]})});EF.classes=fd;EF.displayName="@mantine/core/InputLabel";const Vle={},QY=Le((e,t)=>{const n=xe("InputPlaceholder",Vle,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=xe("InputPlaceholder",Vle,n),p=vt({name:["InputPlaceholder",u],props:n,classes:fd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return b.jsx(be,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});QY.classes=fd;QY.displayName="@mantine/core/InputPlaceholder";function KYe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const XYe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},QYe=(e,{size:t})=>({label:{"--input-label-size":Js(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Js(t)} - ${Ce(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Js(t)} - ${Ce(2)})`}}),JY=Le((e,t)=>{const n=xe("InputWrapper",XYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:_,labelElement:w,children:E,withAsterisk:S,id:x,required:T,__stylesApiProps:I,mod:P,...k}=n,D=vt({name:["InputWrapper",d],props:I||n,classes:fd,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:QYe}),R={size:u,variant:c,__staticSelector:d},M=ta(x),$=typeof S=="boolean"?S:T,L=(_==null?void 0:_.id)||`${M}-error`,B=(v==null?void 0:v.id)||`${M}-description`,z=M,U=!!m&&typeof m!="boolean",N=!!g,V=`${U?L:""} ${N?B:""}`,W=V.trim().length>0?V.trim():void 0,F=(y==null?void 0:y.id)||`${M}-label`,H=p&&b.jsx(EF,{labelElement:w,id:F,htmlFor:z,required:$,...R,...y,children:p},"label"),G=N&&b.jsx(_F,{...v,...R,size:(v==null?void 0:v.size)||R.size,id:(v==null?void 0:v.id)||B,children:g},"description"),X=b.jsx(A.Fragment,{children:f(E)},"input"),ie=U&&A.createElement(wF,{..._,...R,size:(_==null?void 0:_.size)||R.size,key:"error",id:(_==null?void 0:_.id)||L},m),oe=h.map(se=>{switch(se){case"label":return H;case"input":return X;case"description":return G;case"error":return ie;default:return null}});return b.jsx(HYe,{value:{getStyles:D,describedBy:W,inputId:z,labelId:F,...KYe(h,{hasDescription:N,hasError:U})},children:b.jsx(be,{ref:t,variant:c,size:u,mod:[{error:!!m},P],...D("root"),...k,children:oe})})});JY.classes=fd;JY.displayName="@mantine/core/InputWrapper";const JYe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},ZYe=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Jt(t.size,"input-height"),"--input-fz":Js(t.size),"--input-radius":t.radius===void 0?void 0:Mr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ce(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ce(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Jt(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Kr=Ls((e,t)=>{const n=xe("Input",JYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:_,rightSectionWidth:w,rightSectionPointerEvents:E,leftSectionPointerEvents:S,variant:x,vars:T,pointer:I,multiline:P,radius:k,id:D,withAria:R,withErrorStyles:M,mod:$,inputSize:L,...B}=n,{styleProps:z,rest:U}=Wb(B),N=oS(),V={offsetBottom:N==null?void 0:N.offsetBottom,offsetTop:N==null?void 0:N.offsetTop},W=vt({name:["Input",u],props:c||n,classes:fd,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:V,rootSelector:"wrapper",vars:T,varsResolver:ZYe}),F=R?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":N==null?void 0:N.describedBy,id:(N==null?void 0:N.inputId)||D}:{};return b.jsxs(be,{...W("wrapper"),...z,...f,mod:[{error:!!h&&M,pointer:I,disabled:p,multiline:P,"data-with-right-section":!!v,"data-with-left-section":!!m},$],variant:x,size:d,children:[m&&b.jsx("div",{...g,"data-position":"left",...W("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),b.jsx(be,{component:"input",...U,...F,ref:t,required:l,mod:{disabled:p,error:!!h&&M},variant:x,__size:L,...W("input")}),v&&b.jsx("div",{..._,"data-position":"right",...W("section",{className:_==null?void 0:_.className,style:_==null?void 0:_.style}),children:v})]})});Kr.classes=fd;Kr.Wrapper=JY;Kr.Label=EF;Kr.Error=wF;Kr.Description=_F;Kr.Placeholder=QY;Kr.displayName="@mantine/core/Input";function ZY(e,t,n){const r=xe(e,t,n),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:_,style:w,inputContainer:E,inputWrapperOrder:S,withAsterisk:x,variant:T,vars:I,mod:P,...k}=r,{styleProps:D,rest:R}=Wb(k),M={label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:_,style:w,inputContainer:E,inputWrapperOrder:S,withAsterisk:x,variant:T,id:v,mod:P,...y};return{...R,classNames:l,styles:u,unstyled:d,wrapperProps:{...M,...D},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:_,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:T,id:v}}}const eKe={__staticSelector:"InputBase",withAria:!0},_u=Ls((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=ZY("InputBase",eKe,e);return b.jsx(Kr.Wrapper,{...r,children:b.jsx(Kr,{...n,...i,ref:t})})});_u.classes={...Kr.classes,...Kr.Wrapper.classes};_u.displayName="@mantine/core/InputBase";const tKe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var UEe={root:"m_8bffd616"};const nKe={},It=Ls((e,t)=>{const n=xe("Flex",nKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m,...g}=n,y=vt({name:"Flex",classes:UEe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),v=Is(),_=pF(),w=Gwe({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:v,data:tKe});return b.jsxs(b.Fragment,{children:[w.hasResponsiveStyles&&b.jsx(IR,{selector:`.${_}`,styles:w.styles,media:w.media}),b.jsx(be,{ref:t,...y("root",{className:_,style:nS(w.inlineStyles)}),...g})]})});It.classes=UEe;It.displayName="@mantine/core/Flex";function rKe(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function iKe({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=A.useRef(),[s,o]=A.useState(!1),[a,l]=A.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t)return;const h=e.getBoundingClientRect(),p=t.getBoundingClientRect(),m={top:h.top-p.top,left:h.left-p.left,width:h.width,height:h.height};n.current&&(n.current.style.transform=`translateY(${m.top}px) translateX(${m.left}px)`,n.current.style.width=`${m.width}px`,n.current.style.height=`${m.height}px`)},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=A.useRef(),f=A.useRef();return A.useEffect(()=>{if(u(),e)return d.current=new ResizeObserver(c),d.current.observe(e),t&&(f.current=new ResizeObserver(c),f.current.observe(t)),()=>{var h,p;(h=d.current)==null||h.disconnect(),(p=f.current)==null||p.disconnect()}},[t,e]),A.useEffect(()=>{if(t){const h=p=>{rKe(p.target,t)&&(c(),l(!1))};return document.addEventListener("transitionend",h),()=>{document.removeEventListener("transitionend",h)}}},[t]),rqe(()=>{zwe()!=="test"&&o(!0)},20,{autoInvoke:!0}),sqe(h=>{h.forEach(p=>{p.type==="attributes"&&p.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var VEe={root:"m_96b553a6"};const sKe={},oKe=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),eK=Le((e,t)=>{const n=xe("FloatingIndicator",sKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,target:u,parent:c,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...p}=n,m=vt({name:"FloatingIndicator",classes:VEe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:oKe}),g=A.useRef(null),{initialized:y,hidden:v}=iKe({target:u,parent:c,ref:g,displayAfterTransitionEnd:h}),_=ps(t,g);return!u||!c?null:b.jsx(be,{ref:_,mod:[{initialized:y,hidden:v},f],...m("root"),...p})});eK.displayName="@mantine/core/FloatingIndicator";eK.classes=VEe;const[aKe,tK]=io("Accordion component was not found in the tree");function GA({style:e,size:t=16,...n}){return b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ce(t),height:Ce(t),display:"block"},...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}GA.displayName="@mantine/core/AccordionChevron";const[lKe,HEe]=io("Accordion.Item component was not found in the tree");var NR={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const uKe={},nK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,mod:h,...p}=xe("AccordionControl",uKe,e),{value:m}=HEe(),g=tK(),y=g.isItemActive(m),v=typeof g.order=="number",_=`h${g.order}`,w=b.jsxs(xs,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:s,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:f},h],ref:t,onClick:E=>{u==null||u(E),g.onChange(m)},type:"button",disabled:f,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:gY({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[b.jsx(be,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:s}),children:a||g.chevron}),b.jsx("span",{...g.getStyles("label",{classNames:n,styles:s}),children:d}),l&&b.jsx(be,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:s}),children:l})]});return v?b.jsx(_,{...g.getStyles("itemTitle",{classNames:n,styles:s}),children:w}):w});nK.displayName="@mantine/core/AccordionControl";nK.classes=NR;const cKe={},rK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,mod:l,...u}=xe("AccordionItem",cKe,e),c=tK();return b.jsx(lKe,{value:{value:a},children:b.jsx(be,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:s,style:i,variant:c.variant}),...u})})});rK.displayName="@mantine/core/AccordionItem";rK.classes=NR;const dKe={},iK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,...l}=xe("AccordionPanel",dKe,e),{value:u}=HEe(),c=tK();return b.jsx(Gb,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:s}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:b.jsx("div",{...c.getStyles("content",{classNames:n,styles:s}),children:a})})});iK.displayName="@mantine/core/AccordionPanel";iK.classes=NR;const fKe={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:b.jsx(GA,{})},hKe=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Ce(n),"--accordion-radius":r===void 0?void 0:Mr(r)}});function Ll(e){const t=xe("Accordion",fKe,e),{classNames:n,className:r,style:i,styles:s,unstyled:o,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:_,chevron:w,variant:E,radius:S,...x}=t,T=ta(h),[I,P]=Xi({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),k=M=>Array.isArray(I)?I.includes(M):M===I,D=M=>{const $=Array.isArray(I)?I.includes(M)?I.filter(L=>L!==M):[...I,M]:M===I?null:M;P($)},R=vt({name:"Accordion",classes:NR,props:t,className:r,style:i,classNames:n,styles:s,unstyled:o,vars:a,varsResolver:hKe});return b.jsx(aKe,{value:{isItemActive:k,onChange:D,getControlId:DM(`${T}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:DM(`${T}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:_,chevron:w,loop:p,getStyles:R,variant:E,unstyled:o},children:b.jsx(be,{...R("root"),id:T,...x,variant:E,"data-accordion":!0,children:l})})}const pKe=e=>e;Ll.extend=pKe;Ll.classes=NR;Ll.displayName="@mantine/core/Accordion";Ll.Item=rK;Ll.Panel=iK;Ll.Control=nK;Ll.Chevron=GA;var qEe={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const mKe={},gKe=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:Mr(t),"--alert-bg":n||r?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||r?s.border:void 0}}},aS=Le((e,t)=>{const n=xe("Alert",mKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:_,...w}=n,E=vt({name:"Alert",classes:qEe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:gKe}),S=ta(h),x=d&&`${S}-title`||void 0,T=`${S}-body`;return b.jsx(be,{id:S,...E("root",{variant:v}),variant:v,ref:t,...w,role:"alert","aria-describedby":T,"aria-labelledby":x,children:b.jsxs("div",{...E("wrapper"),children:[p&&b.jsx("div",{...E("icon"),children:p}),b.jsxs("div",{...E("body"),children:[d&&b.jsx("div",{...E("title"),"data-with-close-button":m||void 0,children:b.jsx("span",{id:x,...E("label"),children:d})}),f&&b.jsx("div",{id:T,...E("message"),"data-variant":v,children:f})]}),m&&b.jsx(Xy,{...E("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});aS.classes=qEe;aS.displayName="@mantine/core/Alert";var WEe={root:"m_b6d8b162"};function yKe(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const vKe={inherit:!1},bKe=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:s})=>({root:{"--text-fz":Js(i),"--text-lh":Nwe(i),"--text-gradient":t==="gradient"?bU(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?Yr(s,e):void 0}}),nt=Ls((e,t)=>{const n=xe("Text",vKe,e),{lineClamp:r,truncate:i,inline:s,inherit:o,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,..._}=n,w=vt({name:["Text",u],props:n,classes:WEe,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:bKe});return b.jsx(be,{...w("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":yKe(i),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":o},y],size:v,..._})});nt.classes=WEe;nt.displayName="@mantine/core/Text";var GEe={root:"m_849cf0da"};const _Ke={underline:"hover"},Qy=Ls((e,t)=>{const{underline:n,className:r,unstyled:i,mod:s,...o}=xe("Anchor",_Ke,e);return b.jsx(nt,{component:"a",ref:t,className:yt({[GEe.root]:!i},r),...o,mod:[{underline:n},s],__staticSelector:"Anchor",unstyled:i})});Qy.classes=GEe;Qy.displayName="@mantine/core/Anchor";const[wKe,lS]=io("AppShell was not found in tree");var Jy={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const EKe={},sK=Le((e,t)=>{const n=xe("AppShellAside",EKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=lS();return h.disabled?null:b.jsx(be,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});sK.classes=Jy;sK.displayName="@mantine/core/AppShellAside";const xKe={},oK=Le((e,t)=>{var p;const n=xe("AppShellFooter",xKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=lS();return h.disabled?null:b.jsx(be,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:yt({[lF.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});oK.classes=Jy;oK.displayName="@mantine/core/AppShellFooter";const SKe={},aK=Le((e,t)=>{var p;const n=xe("AppShellHeader",SKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=lS();return h.disabled?null:b.jsx(be,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:yt({[lF.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});aK.classes=Jy;aK.displayName="@mantine/core/AppShellHeader";const TKe={},lK=Le((e,t)=>{const n=xe("AppShellMain",TKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=lS();return b.jsx(be,{component:"main",ref:t,...u.getStyles("main",{className:i,style:s,classNames:r,styles:o}),...l})});lK.classes=Jy;lK.displayName="@mantine/core/AppShellMain";function OR(e){return typeof e=="object"?e.base:e}function DR(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function MR(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function CKe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var l,u,c;const s=r==null?void 0:r.width,o="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),DR(s)){const d=Ce(OR(s));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(MR(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=Ce(s.base),e["--app-shell-aside-offset"]=Ce(s.base)),Yi(s).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=Ce(s[d]),t[d]["--app-shell-aside-offset"]=Ce(s[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=o,t[d]["--app-shell-aside-transform-rtl"]=a,t[d]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=vY(r.breakpoint,i)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=o,n[d]["--app-shell-aside-transform-rtl"]=a}}function AKe({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(DR(r)){const o=Ce(OR(r));e["--app-shell-footer-height"]=o,s&&(e["--app-shell-footer-offset"]=o)}MR(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Ce(r.base),s&&(e["--app-shell-footer-offset"]=Ce(r.base))),Yi(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=Ce(r[o]),s&&(t[o]["--app-shell-footer-offset"]=Ce(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function IKe({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(DR(r)){const o=Ce(OR(r));e["--app-shell-header-height"]=o,s&&(e["--app-shell-header-offset"]=o)}MR(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Ce(r.base),s&&(e["--app-shell-header-offset"]=Ce(r.base))),Yi(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=Ce(r[o]),s&&(t[o]["--app-shell-header-offset"]=Ce(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function RKe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var l,u,c;const s=r==null?void 0:r.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),DR(s)){const d=Ce(OR(s));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(MR(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=Ce(s.base),e["--app-shell-navbar-offset"]=Ce(s.base)),Yi(s).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=Ce(s[d]),t[d]["--app-shell-navbar-offset"]=Ce(s[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=o,t[d]["--app-shell-navbar-transform-rtl"]=a,t[d]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=vY(r.breakpoint,i)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=o,n[d]["--app-shell-navbar-transform-rtl"]=a}}function X8(e){return Number(e)===0?"0px":Qu(e)}function kKe({padding:e,baseStyles:t,minMediaStyles:n}){DR(e)&&(t["--app-shell-padding"]=X8(OR(e))),MR(e)&&(e.base&&(t["--app-shell-padding"]=X8(e.base)),Yi(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=X8(e[r]))}))}function PKe({navbar:e,header:t,footer:n,aside:r,padding:i,theme:s}){const o={},a={},l={};RKe({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,navbar:e,theme:s}),CKe({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,aside:r,theme:s}),IKe({baseStyles:l,minMediaStyles:o,header:t}),AKe({baseStyles:l,minMediaStyles:o,footer:n}),kKe({baseStyles:l,minMediaStyles:o,padding:i});const u=$M(Yi(o),s).map(f=>({query:`(min-width: ${OM(f.px)})`,styles:o[f.value]})),c=$M(Yi(a),s).map(f=>({query:`(max-width: ${OM(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function NKe({navbar:e,header:t,aside:n,footer:r,padding:i}){const s=Is(),o=Yy(),{media:a,baseStyles:l}=PKe({navbar:e,header:t,footer:r,aside:n,padding:i,theme:s});return b.jsx(IR,{media:a,styles:l,selector:o.cssVariablesSelector})}const OKe={},uK=Le((e,t)=>{const n=xe("AppShellNavbar",OKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=lS();return h.disabled?null:b.jsx(be,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});uK.classes=Jy;uK.displayName="@mantine/core/AppShellNavbar";const DKe={},cK=Ls((e,t)=>{const n=xe("AppShellSection",DKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,grow:l,mod:u,...c}=n,d=lS();return b.jsx(be,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:s,classNames:r,styles:o}),...c})});cK.classes=Jy;cK.displayName="@mantine/core/AppShellSection";function MKe({transitionDuration:e,disabled:t}){const[n,r]=A.useState(!0),i=A.useRef(),s=A.useRef();return Fwe("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>r(!1),200)}),qb(()=>{A.startTransition(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>r(!1),e||0)})},[t,e]),n}const $Ke={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:cd("app")},LKe=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Hr=Le((e,t)=>{const n=xe("AppShell",$Ke,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:_,offsetScrollbars:w,mod:E,...S}=n,x=vt({name:"AppShell",classes:Jy,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:LKe}),T=MKe({disabled:y,transitionDuration:f});return b.jsxs(wKe,{value:{getStyles:x,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:w},children:[b.jsx(NKe,{navbar:u,header:p,aside:v,footer:_,padding:d}),b.jsx(be,{ref:t,...x("root"),mod:[{resizing:T,layout:g,disabled:y},E],...S})]})});Hr.classes=Jy;Hr.displayName="@mantine/core/AppShell";Hr.Navbar=uK;Hr.Header=aK;Hr.Main=lK;Hr.Aside=sK;Hr.Footer=oK;Hr.Section=cK;function YEe(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>YEe(t))}:e}function dK(e){return e?e.map(t=>YEe(t)):[]}function xF(e){return e.reduce((t,n)=>"group"in n?{...t,...xF(n.items)}:(t[n.value]=n,t),{})}var lu={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const FKe={error:null},jKe=(e,{size:t})=>({chevron:{"--combobox-chevron-size":Jt(t,"combobox-chevron-size")}}),fK=Le((e,t)=>{const n=xe("ComboboxChevron",FKe,e),{size:r,error:i,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=vt({name:"ComboboxChevron",classes:lu,props:n,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:jKe,rootSelector:"chevron"});return b.jsx(be,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});fK.classes=lu;fK.displayName="@mantine/core/ComboboxChevron";const[BKe,hd]=io("Combobox component was not found in tree"),KEe=A.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>b.jsx(Xy,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));KEe.displayName="@mantine/core/ComboboxClearButton";const zKe={},hK=Le((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=xe("ComboboxDropdown",zKe,e),l=hd();return b.jsx($n.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});hK.classes=lu;hK.displayName="@mantine/core/ComboboxDropdown";const UKe={refProp:"ref"},XEe=Le((e,t)=>{const{children:n,refProp:r}=xe("ComboboxDropdownTarget",UKe,e);if(hd(),!Gy(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx($n.Target,{ref:t,refProp:r,children:n})});XEe.displayName="@mantine/core/ComboboxDropdownTarget";const VKe={},pK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=xe("ComboboxEmpty",VKe,e),l=hd();return b.jsx(be,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});pK.classes=lu;pK.displayName="@mantine/core/ComboboxEmpty";function mK({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=hd(),[a,l]=A.useState(null),u=d=>{if(e==null||e(d),!o.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:u}}const HKe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},QEe=Le((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=xe("ComboboxEventsTarget",HKe,e);if(!Gy(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=hd(),d=mK({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l});return A.cloneElement(n,{...d,...u,[r]:ps(t,c.store.targetRef,n==null?void 0:n.ref)})});QEe.displayName="@mantine/core/ComboboxEventsTarget";const qKe={},gK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=xe("ComboboxFooter",qKe,e),l=hd();return b.jsx(be,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});gK.classes=lu;gK.displayName="@mantine/core/ComboboxFooter";const WKe={},yK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:l,...u}=xe("ComboboxGroup",WKe,e),c=hd();return b.jsxs(be,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...u,children:[l&&b.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});yK.classes=lu;yK.displayName="@mantine/core/ComboboxGroup";const GKe={},vK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=xe("ComboboxHeader",GKe,e),l=hd();return b.jsx(be,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});vK.classes=lu;vK.displayName="@mantine/core/ComboboxHeader";function JEe({value:e,valuesDivider:t=",",...n}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}JEe.displayName="@mantine/core/ComboboxHiddenInput";const YKe={},bK=Le((e,t)=>{const n=xe("ComboboxOption",YKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:m,...g}=n,y=hd(),v=A.useId(),_=u||v;return b.jsx(be,{...y.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...g,ref:t,id:_,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:w=>{var E;h?w.preventDefault():((E=y.onOptionSubmit)==null||E.call(y,n.value,n),l==null||l(w))},onMouseDown:w=>{w.preventDefault(),d==null||d(w)},onMouseOver:w=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f==null||f(w)}})});bK.classes=lu;bK.displayName="@mantine/core/ComboboxOption";const KKe={},_K=Le((e,t)=>{const n=xe("ComboboxOptions",KKe,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=hd(),f=ta(a);return A.useEffect(()=>{d.store.setListId(f)},[f]),b.jsx(be,{ref:t,...d.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});_K.classes=lu;_K.displayName="@mantine/core/ComboboxOptions";const XKe={withAriaAttributes:!0,withKeyboardNavigation:!0},wK=Le((e,t)=>{const n=xe("ComboboxSearch",XKe,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=hd(),h=f.getStyles("search"),p=mK({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return b.jsx(Kr,{ref:ps(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});wK.classes=lu;wK.displayName="@mantine/core/ComboboxSearch";const QKe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ZEe=Le((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=xe("ComboboxTarget",QKe,e);if(!Gy(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=hd(),d=mK({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=A.cloneElement(n,{...d,...u});return b.jsx($n.Target,{ref:ps(t,c.store.targetRef),children:f})});ZEe.displayName="@mantine/core/ComboboxTarget";function JKe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function ZKe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function eXe(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function $R({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,l]=Xi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=A.useRef(null),c=A.useRef(-1),d=A.useRef(null),f=A.useRef(null),h=A.useRef(-1),p=A.useRef(-1),m=A.useRef(-1),g=A.useCallback((L="unknown")=>{a||(l(!0),i==null||i(L))},[l,i,a]),y=A.useCallback((L="unknown")=>{a&&(l(!1),r==null||r(L))},[l,r,a]),v=A.useCallback((L="unknown")=>{a?y(L):g(L)},[y,g,a]),_=A.useCallback(()=>{const L=document.querySelector(`#${u.current} [data-combobox-selected]`);L==null||L.removeAttribute("data-combobox-selected"),L==null||L.removeAttribute("aria-selected")},[]),w=A.useCallback(L=>{const B=document.getElementById(u.current),z=B==null?void 0:B.querySelectorAll("[data-combobox-option]");if(!z)return null;const U=L>=z.length?0:L<0?z.length-1:L;return c.current=U,z!=null&&z[U]&&!z[U].hasAttribute("data-combobox-disabled")?(_(),z[U].setAttribute("data-combobox-selected","true"),z[U].setAttribute("aria-selected","true"),z[U].scrollIntoView({block:"nearest",behavior:o}),z[U].id):null},[o,_]),E=A.useCallback(()=>{const L=document.querySelector(`#${u.current} [data-combobox-active]`);if(L){const B=document.querySelectorAll(`#${u.current} [data-combobox-option]`),z=Array.from(B).findIndex(U=>U===L);return w(z)}return w(0)},[w]),S=A.useCallback(()=>w(ZKe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[w,s]),x=A.useCallback(()=>w(JKe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[w,s]),T=A.useCallback(()=>w(eXe(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[w]),I=A.useCallback((L="selected",B)=>{m.current=window.setTimeout(()=>{var N;const z=document.querySelectorAll(`#${u.current} [data-combobox-option]`),U=Array.from(z).findIndex(V=>V.hasAttribute(`data-combobox-${L}`));c.current=U,B!=null&&B.scrollIntoView&&((N=z[U])==null||N.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),P=A.useCallback(()=>{c.current=-1,_()},[_]),k=A.useCallback(()=>{const L=document.querySelectorAll(`#${u.current} [data-combobox-option]`),B=L==null?void 0:L[c.current];B==null||B.click()},[]),D=A.useCallback(L=>{u.current=L},[]),R=A.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),M=A.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),$=A.useCallback(()=>c.current,[]);return A.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:$,selectOption:w,selectFirstOption:T,selectActiveOption:E,selectNextOption:S,selectPreviousOption:x,resetSelectedOption:P,updateSelectedOptionIndex:I,listId:u.current,setListId:D,clickSelectedOption:k,searchRef:d,focusSearchInput:R,targetRef:f,focusTarget:M}}const tXe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},nXe=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Js(t),"--combobox-option-padding":Jt(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ce(n),"--combobox-option-fz":Js(t),"--combobox-option-padding":Jt(t,"combobox-option-padding")}});function sn(e){const t=xe("Combobox",tXe,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...m}=t,g=$R(),y=o||g,v=vt({name:h||"Combobox",classes:lu,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:nXe}),_=()=>{u==null||u(),y.closeDropdown()};return b.jsx(BKe,{value:{getStyles:v,store:y,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p},children:b.jsx($n,{opened:y.dropdownOpened,...m,onClose:_,withRoles:!1,unstyled:i,children:s})})}const rXe=e=>e;sn.extend=rXe;sn.classes=lu;sn.displayName="@mantine/core/Combobox";sn.Target=ZEe;sn.Dropdown=hK;sn.Options=_K;sn.Option=bK;sn.Search=wK;sn.Empty=pK;sn.Chevron=fK;sn.Footer=gK;sn.Header=vK;sn.EventsTarget=QEe;sn.DropdownTarget=XEe;sn.Group=yK;sn.ClearButton=KEe;sn.HiddenInput=JEe;var exe={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const txe=exe,SF=A.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:_,...w},E)=>{const S=vt({name:e,props:t,className:n,style:y,classes:exe,classNames:r,styles:i,unstyled:s});return b.jsx(be,{...S("root"),ref:E,__vars:{"--label-fz":Js(f),"--label-lh":Jt(f,"label-lh")},mod:[{"label-position":h},_],variant:g,size:f,...w,children:b.jsxs(be,{component:p,htmlFor:p==="label"?u:void 0,...S("body"),children:[o,b.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&b.jsx(be,{component:m,htmlFor:m==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&b.jsx(Kr.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&b.jsx(Kr.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});SF.displayName="@mantine/core/InlineInput";const nxe=A.createContext(null),iXe=nxe.Provider,rxe=()=>A.useContext(nxe),[sXe,oXe]=Hb();var ixe={card:"m_26775b0a"};const aXe={withBorder:!0},lXe=(e,{radius:t})=>({card:{"--card-radius":Mr(t)}}),EK=Le((e,t)=>{const n=xe("CheckboxCard",aXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,...p}=n,m=vt({name:"CheckboxCard",classes:ixe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lXe,rootSelector:"card"}),g=rxe(),y=typeof u=="boolean"?u:(g==null?void 0:g.value.includes(f||""))||!1;return b.jsx(sXe,{value:{checked:y},children:b.jsx(xs,{ref:t,mod:[{"with-border":d,checked:y},c],...m("card"),...p,role:"checkbox","aria-checked":y,onClick:v=>{h==null||h(v),g==null||g.onChange(f||"")}})})});EK.displayName="@mantine/core/CheckboxCard";EK.classes=ixe;function xK({children:e,role:t}){const n=oS();return n?b.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):b.jsx(b.Fragment,{children:e})}const uXe={},SK=Le((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=xe("CheckboxGroup",uXe,e),[c,d]=Xi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return b.jsx(iXe,{value:{value:c,onChange:f,size:s},children:b.jsx(Kr.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:b.jsx(xK,{role:"group",children:a})})})});SK.classes=Kr.Wrapper.classes;SK.displayName="@mantine/core/CheckboxGroup";function sxe({size:e,style:t,...n}){const r=e!==void 0?{width:Ce(e),height:Ce(e),...t}:t;return b.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:b.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function oxe({indeterminate:e,...t}){return e?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:b.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):b.jsx(sxe,{...t})}var axe={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const cXe={icon:oxe},dXe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=kf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":Jt(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Mr(t),"--checkbox-color":s==="outline"?l:Yr(n,e),"--checkbox-icon-color":i?Yr(i,e):Ky(o,e)?fp({color:n,theme:e,autoContrast:o}):void 0}}},TK=Le((e,t)=>{const n=xe("CheckboxIndicator",cXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,..._}=n,w=u,E=vt({name:"CheckboxIndicator",classes:axe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:dXe,rootSelector:"indicator"}),S=oXe(),x=typeof m=="boolean"||typeof c=="boolean"?m||c:(S==null?void 0:S.checked)||!1;return b.jsx(be,{ref:t,...E("indicator",{variant:y}),variant:y,mod:[{checked:x,disabled:v},g],..._,children:b.jsx(w,{indeterminate:c,...E("icon")})})});TK.displayName="@mantine/core/CheckboxIndicator";TK.classes=axe;var lxe={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const fXe={labelPosition:"right",icon:oxe},hXe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=kf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":Jt(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Mr(t),"--checkbox-color":s==="outline"?l:Yr(n,e),"--checkbox-icon-color":i?Yr(i,e):Ky(o,e)?fp({color:n,theme:e,autoContrast:o}):void 0}}},yf=Le((e,t)=>{const n=xe("Checkbox",fXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,children:m,checked:g,labelPosition:y,description:v,error:_,disabled:w,variant:E,indeterminate:S,icon:x,rootRef:T,iconColor:I,onChange:P,autoContrast:k,mod:D,...R}=n,M=rxe(),$=f||(M==null?void 0:M.size),L=x,B=vt({name:"Checkbox",props:n,classes:lxe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:hXe}),{styleProps:z,rest:U}=Wb(R),N=ta(d),V=M?{checked:M.value.includes(U.value),onChange:W=>{M.onChange(W),P==null||P(W)}}:{};return b.jsx(SF,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:N,size:$,labelPosition:y,label:c,description:v,error:_,disabled:w,classNames:r,styles:o,unstyled:a,"data-checked":V.checked||g||void 0,variant:E,ref:T,mod:D,...z,...p,children:b.jsxs(be,{...B("inner"),mod:{"data-label-position":y},children:[b.jsx(be,{component:"input",id:N,ref:t,checked:g,disabled:w,mod:{error:!!_,indeterminate:S},...B("input",{focusable:!0,variant:E}),onChange:P,...U,...V,type:"checkbox"}),b.jsx(L,{indeterminate:S,...B("icon")})]})})});yf.classes={...lxe,...txe};yf.displayName="@mantine/core/Checkbox";yf.Group=SK;yf.Indicator=TK;yf.Card=EK;function UE(e){return"group"in e}function uxe({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;UE(o)&&i.push({group:o.group,items:uxe({options:o.items,search:t,limit:n-i.length})}),UE(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function pXe(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function cxe(e,t=new Set){if(Array.isArray(e))for(const n of e)if(UE(n))cxe(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function mXe(e,t){return Array.isArray(e)?e.includes(t):e===t}function dxe({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!UE(e)){const a=mXe(n,e.value),l=t&&a&&b.jsx(sxe,{className:lu.optionsDropdownCheckIcon}),u=b.jsxs(b.Fragment,{children:[r==="left"&&l,b.jsx("span",{children:e.label}),r==="right"&&l]});return b.jsx(sn.Option,{value:e.value,disabled:e.disabled,className:yt({[lu.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):u})}const o=e.items.map(a=>b.jsx(dxe,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return b.jsx(sn.Group,{label:e.group,children:o})}function CK({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){cxe(e);const _=typeof i=="string"?(r||uxe)({options:e,search:l?i:"",limit:s??1/0}):e,w=pXe(_),E=_.map(S=>b.jsx(dxe,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:m},UE(S)?S.group:S.value));return b.jsx(sn.Dropdown,{hidden:t||n&&w,children:b.jsxs(sn.Options,{labelledBy:p,"aria-label":y,children:[a?b.jsx(rS.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:E}):E,w&&f&&b.jsx(sn.Empty,{children:f})]})})}const gXe={},AK=Le((e,t)=>{const n=xe("Autocomplete",gXe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:_,comboboxProps:w,readOnly:E,disabled:S,filter:x,limit:T,withScrollArea:I,maxDropdownHeight:P,size:k,id:D,renderOption:R,autoComplete:M,scrollAreaProps:$,...L}=n,B=ta(D),z=dK(m),U=xF(z),[N,V]=Xi({value:g,defaultValue:y,finalValue:"",onChange:p}),W=$R({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u==null||u(),W.resetSelectedOption()}}),{resolvedClassNames:F,resolvedStyles:H}=hp({props:n,styles:i,classNames:r});return A.useEffect(()=>{v&&W.selectFirstOption()},[v,N]),b.jsxs(sn,{store:W,__staticSelector:"Autocomplete",classNames:F,styles:H,unstyled:s,readOnly:E,onOptionSubmit:G=>{_==null||_(G),V(U[G].label),W.closeDropdown()},size:k,...w,children:[b.jsx(sn.Target,{autoComplete:M,children:b.jsx(_u,{ref:t,...L,size:k,__staticSelector:"Autocomplete",disabled:S,readOnly:E,value:N,onChange:G=>{V(G.currentTarget.value),W.openDropdown(),v&&W.selectFirstOption()},onFocus:G=>{W.openDropdown(),d==null||d(G)},onBlur:G=>{W.closeDropdown(),f==null||f(G)},onClick:G=>{W.openDropdown(),h==null||h(G)},classNames:F,styles:H,unstyled:s,id:B})}),b.jsx(CK,{data:z,hidden:E||S,filter:x,search:N,limit:T,hiddenWhenEmpty:!0,withScrollArea:I,maxDropdownHeight:P,unstyled:s,labelId:L.label?`${B}-label`:void 0,"aria-label":L.label?void 0:L["aria-label"],renderOption:R,scrollAreaProps:$})]})});AK.classes={..._u.classes,...sn.classes};AK.displayName="@mantine/core/Autocomplete";var fxe={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const yXe={},vXe=(e,{radius:t,color:n,gradient:r,variant:i,size:s,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":Jt(s,"badge-height"),"--badge-padding-x":Jt(s,"badge-padding-x"),"--badge-fz":Jt(s,"badge-fz"),"--badge-radius":t===void 0?void 0:Mr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?Yr(n,e):void 0}}},xm=Ls((e,t)=>{const n=xe("Badge",yXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:_,...w}=n,E=vt({name:"Badge",props:n,classes:fxe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vXe});return b.jsxs(be,{variant:m,mod:[{block:g,circle:v},_],...E("root",{variant:m}),ref:t,...w,children:[f&&b.jsx("span",{...E("section"),"data-position":"left",children:f}),b.jsx("span",{...E("label"),children:p}),h&&b.jsx("span",{...E("section"),"data-position":"right",children:h})]})});xm.classes=fxe;xm.displayName="@mantine/core/Badge";var hxe={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const bXe={},_Xe=(e,{color:t,size:n,lineSize:r,transitionDuration:i,transitionTimingFunction:s})=>({root:{"--burger-color":t?Yr(t,e):void 0,"--burger-size":Jt(n,"burger-size"),"--burger-line-size":r?Ce(r):void 0,"--burger-transition-duration":i===void 0?void 0:`${i}ms`,"--burger-transition-timing-function":s}}),IK=Le((e,t)=>{const n=xe("Burger",bXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,opened:u,children:c,transitionDuration:d,transitionTimingFunction:f,...h}=n,p=vt({name:"Burger",classes:hxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:_Xe});return b.jsxs(xs,{...p("root"),ref:t,...h,children:[b.jsx(be,{mod:["reduce-motion",{opened:u}],...p("burger")}),c]})});IK.classes=hxe;IK.displayName="@mantine/core/Burger";var TF={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const Hle={orientation:"horizontal"},wXe=(e,{borderWidth:t})=>({group:{"--button-border-width":Ce(t)}}),RK=Le((e,t)=>{const n=xe("ButtonGroup",Hle,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=xe("ButtonGroup",Hle,e),p=vt({name:"ButtonGroup",props:n,classes:TF,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:wXe,rootSelector:"group"});return b.jsx(be,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});RK.classes=TF;RK.displayName="@mantine/core/ButtonGroup";const EXe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ce(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},xXe={},SXe=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Jt(s,"button-height"),"--button-padding-x":Jt(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Js(s.replace("compact-","")):Js(s),"--button-radius":t===void 0?void 0:Mr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},hn=Ls((e,t)=>{const n=xe("Button",xXe,e),{style:r,vars:i,className:s,color:o,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:_,"data-disabled":w,autoContrast:E,mod:S,...x}=n,T=vt({name:"Button",props:n,classes:TF,className:s,style:r,classNames:y,styles:v,unstyled:_,vars:i,varsResolver:SXe}),I=!!u,P=!!c;return b.jsxs(xs,{ref:t,...T("root",{active:!a&&!p&&!w}),unstyled:_,variant:f,disabled:a||p,mod:[{disabled:a||w,loading:p,block:d,"with-left-section":I,"with-right-section":P},S],...x,children:[b.jsx(Pf,{mounted:!!p,transition:EXe,duration:150,children:k=>b.jsx(be,{component:"span",...T("loader",{style:k}),"aria-hidden":!0,children:b.jsx(ws,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),b.jsxs("span",{...T("inner"),children:[u&&b.jsx(be,{component:"span",...T("section"),mod:{position:"left"},children:u}),b.jsx(be,{component:"span",mod:{loading:p},...T("label"),children:l}),c&&b.jsx(be,{component:"span",...T("section"),mod:{position:"right"},children:c})]})]})});hn.classes=TF;hn.displayName="@mantine/core/Button";hn.Group=RK;const[TXe,CXe]=io("Card component was not found in tree");var kK={root:"m_e615b15f",section:"m_599a2148"};const AXe={},CF=Ls((e,t)=>{const n=xe("CardSection",AXe,e),{classNames:r,className:i,style:s,styles:o,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=CXe();return b.jsx(be,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:s,styles:o,classNames:r}),...d})});CF.classes=kK;CF.displayName="@mantine/core/CardSection";const IXe={},RXe=(e,{padding:t})=>({root:{"--card-padding":Qu(t)}}),Yb=Ls((e,t)=>{const n=xe("Card",IXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=vt({name:"Card",props:n,classes:kK,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:RXe}),h=A.Children.toArray(u),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===CF?A.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return b.jsx(TXe,{value:{getStyles:f},children:b.jsx(RR,{ref:t,unstyled:a,...f("root"),...d,children:p})})});Yb.classes=kK;Yb.displayName="@mantine/core/Card";Yb.Section=CF;var pxe={root:"m_4451eb3a"};const kXe={},dl=Ls((e,t)=>{const n=xe("Center",kXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=vt({name:"Center",props:n,classes:pxe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l});return b.jsx(be,{ref:t,mod:[{inline:u},c],...f("root"),...d})});dl.classes=pxe;dl.displayName="@mantine/core/Center";var mxe={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const qle={withShadow:!0},PXe=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:Mr(t),"--cs-size":Ce(n)}}),Hc=Ls((e,t)=>{const n=xe("ColorSwatch",qle,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:p,...m}=xe("ColorSwatch",qle,n),g=vt({name:"ColorSwatch",props:n,classes:mxe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:PXe});return b.jsxs(be,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[b.jsx("span",{...g("alphaOverlay")}),f&&b.jsx("span",{...g("shadowOverlay")}),b.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),b.jsx("span",{...g("childrenOverlay"),children:h})]})});Hc.classes=mxe;Hc.displayName="@mantine/core/ColorSwatch";const[NXe,PK]=Hb(null),NK=A.forwardRef(({position:e,...t},n)=>b.jsx(be,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));NK.displayName="@mantine/core/ColorPickerThumb";var OK={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const OXe={},DK=Le((e,t)=>{var z;const n=xe("ColorSlider",OXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,onChange:u,onChangeEnd:c,maxValue:d,round:f,size:h="md",focusable:p=!0,value:m,overlays:g,thumbColor:y="transparent",onScrubStart:v,onScrubEnd:_,__staticSelector:w="ColorPicker",...E}=n,S=vt({name:w,classes:OK,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a}),T=((z=PK())==null?void 0:z.getStyles)||S,I=Is(),[P,k]=A.useState({y:0,x:m/d}),D=A.useRef(P),R=U=>f?Math.round(U*d):U*d,{ref:M}=cF(({x:U,y:N})=>{D.current={x:U,y:N},u==null||u(R(U))},{onScrubEnd:()=>{const{x:U}=D.current;c==null||c(R(U)),_==null||_()},onScrubStart:v});Ju(()=>{k({y:0,x:m/d})},[m]);const $=(U,N)=>{U.preventDefault();const V=Bwe(N);u==null||u(R(V.x)),c==null||c(R(V.x))},L=U=>{switch(U.key){case"ArrowRight":{$(U,{x:P.x+.05,y:P.y});break}case"ArrowLeft":{$(U,{x:P.x-.05,y:P.y});break}}},B=g.map((U,N)=>A.createElement("div",{...T("sliderOverlay"),style:U,key:N}));return b.jsxs(be,{...E,ref:ps(M,t),...T("slider"),role:"slider","aria-valuenow":m,"aria-valuemax":d,"aria-valuemin":0,tabIndex:p?0:-1,onKeyDown:L,"data-focus-ring":I.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${h})`},children:[B,b.jsx(NK,{position:P,...T("thumb",{style:{top:Ce(1),background:y}})})]})});DK.displayName="@mantine/core/ColorSlider";function Lc(e,t=0,n=10**t){return Math.round(n*e)/n}function DXe({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const MXe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function $Xe(e,t="deg"){return Number(e)*(MXe[t]||1)}const LXe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Wle(e){const t=LXe.exec(e);return t?DXe({h:$Xe(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function RU({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),s=i-Math.min(e,t,n),o=s?i===e?(t-n)/s:i===t?2+(n-e)/s:4+(e-t)/s:0;return{h:Lc(60*(o<0?o+6:o),3),s:Lc(i?s/i*100:0,3),v:Lc(i/255*100,3),a:r}}function kU(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?RU({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):RU({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function FXe(e){const t=e[0]==="#"?e.slice(1):e,n=o=>Lc(parseInt(o,16)/255,3);if(t.length===4){const o=t.slice(0,3),a=n(t[3]+t[3]);return{...kU(o),a}}const r=t.slice(0,6),i=n(t.slice(6,8));return{...kU(r),a:i}}const jXe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Gle(e){const t=jXe.exec(e);return t?RU({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const gxe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},BXe={hex:kU,hexa:FXe,rgb:Gle,rgba:Gle,hsl:Wle,hsla:Wle};function zXe(e){for(const[,t]of Object.entries(gxe))if(t.test(e))return!0;return!1}function sN(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(gxe))if(r.test(t))return BXe[n](t);return{h:0,s:0,v:0,a:1}}const UXe={},yxe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:s,...o}=xe("AlphaSlider",UXe,e);return b.jsx(DK,{...o,ref:t,value:n,onChange:a=>r==null?void 0:r(Lc(a,2)),onChangeEnd:a=>i==null?void 0:i(Lc(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Ce(8)} ${Ce(8)}`,backgroundPosition:`0 0, 0 ${Ce(4)}, ${Ce(4)} ${Ce(-4)}, ${Ce(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${s})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ce(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ce(4)} inset`}]})});yxe.displayName="@mantine/core/AlphaSlider";function vxe({h:e,s:t,v:n,a:r}){const i=e/360*6,s=t/100,o=n/100,a=Math.floor(i),l=o*(1-s),u=o*(1-(i-a)*s),c=o*(1-(1-i+a)*s),d=a%6;return{r:Lc([o,u,l,l,c,o][d]*255),g:Lc([c,o,o,u,l,l][d]*255),b:Lc([l,l,c,o,o,u][d]*255),a:Lc(r,2)}}function Yle(e,t){const{r:n,g:r,b:i,a:s}=vxe(e);return t?`rgba(${n}, ${r}, ${i}, ${Lc(s,2)})`:`rgb(${n}, ${r}, ${i})`}function Kle({h:e,s:t,v:n,a:r},i){const s=(200-t)*n/100,o={h:Math.round(e),s:Math.round(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:Math.round(s/2)};return i?`hsla(${o.h}, ${o.s}%, ${o.l}%, ${Lc(r,2)})`:`hsl(${o.h}, ${o.s}%, ${o.l}%)`}function ZO(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function bxe(e){const{r:t,g:n,b:r}=vxe(e);return`#${ZO(t)}${ZO(n)}${ZO(r)}`}function VXe(e){const t=Math.round(e.a*255);return`${bxe(e)}${ZO(t)}`}const Q8={hex:bxe,hexa:e=>VXe(e),rgb:e=>Yle(e,!1),rgba:e=>Yle(e,!0),hsl:e=>Kle(e,!1),hsla:e=>Kle(e,!0)};function Vg(e,t){return t?e in Q8?Q8[e](t):Q8.hex(t):"#000000"}const _xe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:s,...o}=xe("HueSlider",{},e);return b.jsx(DK,{...o,ref:t,value:n,onChange:r,onChangeEnd:i,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ce(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ce(4)} inset`}]})});_xe.displayName="@mantine/core/HueSlider";function wxe({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:i,focusable:s=!0,size:o,color:a,onScrubStart:l,onScrubEnd:u,...c}){const{getStyles:d}=PK(),[f,h]=A.useState({x:r.s/100,y:1-r.v/100}),p=A.useRef(f),{ref:m}=cF(({x:v,y:_})=>{p.current={x:v,y:_},t({s:Math.round(v*100),v:Math.round((1-_)*100)})},{onScrubEnd:()=>{const{x:v,y:_}=p.current;n({s:Math.round(v*100),v:Math.round((1-_)*100)}),u==null||u()},onScrubStart:l});A.useEffect(()=>{h({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const g=(v,_)=>{v.preventDefault();const w=Bwe(_);t({s:Math.round(w.x*100),v:Math.round((1-w.y)*100)}),n({s:Math.round(w.x*100),v:Math.round((1-w.y)*100)})},y=v=>{switch(v.key){case"ArrowUp":{g(v,{y:f.y-.05,x:f.x});break}case"ArrowDown":{g(v,{y:f.y+.05,x:f.x});break}case"ArrowRight":{g(v,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{g(v,{x:f.x-.05,y:f.y});break}}};return b.jsxs(be,{...d("saturation"),ref:m,...c,role:"slider","aria-label":i,"aria-valuenow":f.x,"aria-valuetext":Vg("rgba",r),tabIndex:s?0:-1,onKeyDown:y,children:[b.jsx("div",{...d("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),b.jsx(NK,{position:f,...d("thumb",{style:{backgroundColor:a}})})]})}wxe.displayName="@mantine/core/Saturation";const Exe=A.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:i,focusable:s,data:o,swatchesPerRow:a,...l},u)=>{const c=PK(),d=o.map((f,h)=>A.createElement(Hc,{...c.getStyles("swatch"),unstyled:c.unstyled,component:"button",type:"button",color:f,key:h,radius:"sm",onClick:()=>{n(f),r==null||r(f)},"aria-label":f,tabIndex:s?0:-1,"data-swatch":!0}));return b.jsx(be,{...c.getStyles("swatches"),ref:u,...l,children:d})});Exe.displayName="@mantine/core/Swatches";const HXe={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},qXe=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":Jt(t,"cp-preview-size"),"--cp-width":Jt(t,"cp-width"),"--cp-body-spacing":Qu(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":Jt(t,"cp-thumb-size"),"--cp-saturation-height":Jt(t,"cp-saturation-height")}}),MK=Le((e,t)=>{const n=xe("ColorPicker",HXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,format:u,value:c,defaultValue:d,onChange:f,onChangeEnd:h,withPicker:p,size:m,saturationLabel:g,hueLabel:y,alphaLabel:v,focusable:_,swatches:w,swatchesPerRow:E,fullWidth:S,onColorSwatchClick:x,__staticSelector:T,mod:I,...P}=n,k=vt({name:T,props:n,classes:OK,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"wrapper",vars:l,varsResolver:qXe}),D=A.useRef(u),R=A.useRef(),M=A.useRef(-1),$=A.useRef(!1),L=u==="hexa"||u==="rgba"||u==="hsla",[B,z,U]=Xi({value:c,defaultValue:d,finalValue:"#FFFFFF",onChange:f}),[N,V]=A.useState(sN(B)),W=()=>{window.clearTimeout(M.current),$.current=!0},F=()=>{window.clearTimeout(M.current),M.current=window.setTimeout(()=>{$.current=!1},200)},H=G=>{V(X=>{const ie={...X,...G};return R.current=Vg(D.current,ie),ie}),z(R.current)};return Ju(()=>{zXe(c)&&!$.current&&V(sN(c))},[c]),Ju(()=>{D.current=u,z(Vg(u,N))},[u]),b.jsx(NXe,{value:{getStyles:k,unstyled:a},children:b.jsxs(be,{ref:t,...k("wrapper"),size:m,mod:[{"full-width":S},I],...P,children:[p&&b.jsxs(b.Fragment,{children:[b.jsx(wxe,{value:N,onChange:H,onChangeEnd:({s:G,v:X})=>h==null?void 0:h(Vg(D.current,{...N,s:G,v:X})),color:B,size:m,focusable:_,saturationLabel:g,onScrubStart:W,onScrubEnd:F}),b.jsxs("div",{...k("body"),children:[b.jsxs("div",{...k("sliders"),children:[b.jsx(_xe,{value:N.h,onChange:G=>H({h:G}),onChangeEnd:G=>h==null?void 0:h(Vg(D.current,{...N,h:G})),size:m,focusable:_,"aria-label":y,onScrubStart:W,onScrubEnd:F}),L&&b.jsx(yxe,{value:N.a,onChange:G=>H({a:G}),onChangeEnd:G=>{h==null||h(Vg(D.current,{...N,a:G}))},size:m,color:Vg("hex",N),focusable:_,"aria-label":v,onScrubStart:W,onScrubEnd:F})]}),L&&b.jsx(Hc,{color:B,radius:"sm",size:"var(--cp-preview-size)",...k("preview")})]})]}),Array.isArray(w)&&b.jsx(Exe,{data:w,swatchesPerRow:E,focusable:_,setValue:z,onChangeEnd:G=>{const X=Vg(u,sN(G));x==null||x(X),h==null||h(X),U||V(sN(G))}})]})})});MK.classes=OK;MK.displayName="@mantine/core/ColorPicker";var xxe={root:"m_7485cace"};const WXe={},GXe=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:Jt(t,"container-size")}}),Nf=Le((e,t)=>{const n=xe("Container",WXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=vt({name:"Container",classes:xxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:GXe});return b.jsx(be,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});Nf.classes=xxe;Nf.displayName="@mantine/core/Container";const YXe={timeout:1e3};function Sxe(e){const{children:t,timeout:n,value:r,...i}=xe("CopyButton",YXe,e),s=BHe({timeout:n}),o=()=>s.copy(r);return b.jsx(b.Fragment,{children:t({copy:o,copied:s.copied,...i})})}Sxe.displayName="@mantine/core/CopyButton";var Txe={root:"m_3eebeb36",label:"m_9e365f20"};const KXe={orientation:"horizontal"},XXe=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?Yr(t,e):void 0,"--divider-border-style":n,"--divider-size":Jt(r,"divider-size")}}),AF=Le((e,t)=>{const n=xe("Divider",KXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,m=vt({name:"Divider",classes:Txe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:XXe});return b.jsx(be,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&b.jsx(be,{component:"span",mod:{position:f},...m("label"),children:d})})});AF.classes=Txe;AF.displayName="@mantine/core/Divider";const[QXe,uS]=io("Drawer component was not found in tree");var hg={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const JXe={},IF=Le((e,t)=>{const n=xe("DrawerBody",JXe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=uS();return b.jsx(WY,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});IF.classes=hg;IF.displayName="@mantine/core/DrawerBody";const ZXe={},RF=Le((e,t)=>{const n=xe("DrawerCloseButton",ZXe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=uS();return b.jsx(GY,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});RF.classes=hg;RF.displayName="@mantine/core/DrawerCloseButton";const eQe={},kF=Le((e,t)=>{const n=xe("DrawerContent",eQe,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,radius:u,...c}=n,d=uS(),f=d.scrollAreaComponent||zEe;return b.jsx(BEe,{...d.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),ref:t,...c,radius:u||d.radius||0,children:b.jsx(f,{style:{height:"100vh"},children:l})})});kF.classes=hg;kF.displayName="@mantine/core/DrawerContent";const tQe={},PF=Le((e,t)=>{const n=xe("DrawerHeader",tQe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=uS();return b.jsx(YY,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});PF.classes=hg;PF.displayName="@mantine/core/DrawerHeader";const nQe={},NF=Le((e,t)=>{const n=xe("DrawerOverlay",nQe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=uS();return b.jsx(KY,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});NF.classes=hg;NF.displayName="@mantine/core/DrawerOverlay";function rQe(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function iQe(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const sQe={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},oQe={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},aQe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:cd("modal"),position:"left"},lQe=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":Jt(n,"drawer-size"),"--drawer-flex":iQe(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":rQe(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":Ce(r)}}),OF=Le((e,t)=>{const n=xe("DrawerRoot",aQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,scrollAreaComponent:u,position:c,transitionProps:d,radius:f,...h}=n,{dir:p}=El(),m=vt({name:"Drawer",classes:hg,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lQe}),g=(p==="rtl"?oQe:sQe)[c];return b.jsx(QXe,{value:{scrollAreaComponent:u,getStyles:m,radius:f},children:b.jsx(jEe,{ref:t,...m("root"),transitionProps:{transition:g,...d},unstyled:a,...h})})});OF.classes=hg;OF.displayName="@mantine/core/DrawerRoot";const uQe={},DF=Le((e,t)=>{const n=xe("DrawerTitle",uQe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=uS();return b.jsx(XY,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});DF.classes=hg;DF.displayName="@mantine/core/DrawerTitle";const cQe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:cd("modal"),withOverlay:!0,withCloseButton:!0},pp=Le((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,...l}=xe("Drawer",cQe,e),u=!!n||s;return b.jsxs(OF,{ref:t,...l,children:[r&&b.jsx(NF,{...i}),b.jsxs(kF,{children:[u&&b.jsxs(PF,{children:[n&&b.jsx(DF,{children:n}),s&&b.jsx(RF,{...o})]}),b.jsx(IF,{children:a})]})]})});pp.classes=hg;pp.displayName="@mantine/core/Drawer";pp.Root=OF;pp.Overlay=NF;pp.Content=kF;pp.Body=IF;pp.Header=PF;pp.Title=DF;pp.CloseButton=RF;function dQe({open:e,close:t,openDelay:n,closeDelay:r}){const i=A.useRef(-1),s=A.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return A.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}const[fQe,Cxe]=io("Grid component was not found in tree"),PU=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,Xle=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":PU(e,t),Qle=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Jle=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function hQe({span:e,order:t,offset:n,selector:r}){var f;const i=Is(),s=Cxe(),a=RC(e)===void 0?12:RC(e),l=nS({"--col-order":(f=RC(t))==null?void 0:f.toString(),"--col-flex-grow":Qle(a,s.grow),"--col-flex-basis":PU(a,s.columns),"--col-width":a==="content"?"auto":void 0,"--col-max-width":Xle(a,s.columns,s.grow),"--col-offset":Jle(RC(n),s.columns)}),u=Yi(i.breakpoints).reduce((h,p)=>{var m;return h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--col-order"]=(m=t[p])==null?void 0:m.toString()),typeof e=="object"&&e[p]!==void 0&&(h[p]["--col-flex-grow"]=Qle(e[p],s.grow),h[p]["--col-flex-basis"]=PU(e[p],s.columns),h[p]["--col-width"]=e[p]==="content"?"auto":void 0,h[p]["--col-max-width"]=Xle(e[p],s.columns,s.grow)),typeof n=="object"&&n[p]!==void 0&&(h[p]["--col-offset"]=Jle(n[p],s.columns)),h},{}),d=$M(Yi(u),i).filter(h=>Yi(u[h.value]).length>0).map(h=>({query:`(min-width: ${i.breakpoints[h.value]})`,styles:u[h.value]}));return b.jsx(IR,{styles:l,media:d,selector:r})}var $K={root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const pQe={span:12},LK=Le((e,t)=>{const n=xe("GridCol",pQe,e),{classNames:r,className:i,style:s,styles:o,vars:a,span:l,order:u,offset:c,...d}=n,f=Cxe(),h=pF();return b.jsxs(b.Fragment,{children:[b.jsx(hQe,{selector:`.${h}`,span:l,order:u,offset:c}),b.jsx(be,{ref:t,...f.getStyles("col",{className:yt(i,h),style:s,classNames:r,styles:o}),...d})]})});LK.classes=$K;LK.displayName="@mantine/core/GridCol";function mQe({gutter:e,selector:t}){const n=Is(),r=nS({"--grid-gutter":Qu(RC(e))}),i=Yi(n.breakpoints).reduce((a,l)=>(a[l]||(a[l]={}),typeof e=="object"&&e[l]!==void 0&&(a[l]["--grid-gutter"]=Qu(e[l])),a),{}),o=$M(Yi(i),n).filter(a=>Yi(i[a.value]).length>0).map(a=>({query:`(min-width: ${n.breakpoints[a.value]})`,styles:i[a.value]}));return b.jsx(IR,{styles:r,media:o,selector:t})}const gQe={gutter:"md",grow:!1,columns:12},yQe=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),Fc=Le((e,t)=>{const n=xe("Grid",gQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:p,...m}=n,g=vt({name:"Grid",classes:$K,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:yQe}),y=pF();return b.jsxs(fQe,{value:{getStyles:g,grow:u,columns:d},children:[b.jsx(mQe,{selector:`.${y}`,...n}),b.jsx(be,{ref:t,...g("root",{className:y}),...m,children:b.jsx("div",{...g("inner"),children:p})})]})});Fc.classes=$K;Fc.displayName="@mantine/core/Grid";Fc.Col=LK;function Zle({color:e,theme:t,defaultShade:n}){const r=kf({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var Axe={root:"m_bcb3f3c2"};const vQe={color:"yellow"},bQe=(e,{color:t})=>({root:{"--mark-bg-dark":Zle({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Zle({color:t,theme:e,defaultShade:2})}}),FK=Le((e,t)=>{const n=xe("Mark",vQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=vt({name:"Mark",props:n,className:i,style:s,classes:Axe,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:bQe});return b.jsx(be,{component:"mark",ref:t,variant:c,...f("root"),...d})});FK.classes=Axe;FK.displayName="@mantine/core/Mark";function eue(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function _Qe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(eue):eue(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}const wQe={},jK=Ls((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:s,color:o,...a}=xe("Highlight",wQe,e),l=_Qe(r,i);return b.jsx(nt,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?b.jsx(FK,{unstyled:n,color:o,style:s,"data-highlight":u,children:u},d):b.jsx("span",{children:u},d))})});jK.classes=nt.classes;jK.displayName="@mantine/core/Highlight";var Ixe={root:"m_9e117634"};const EQe={},xQe=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Mr(t),"--image-object-fit":n}}),Zy=Ls((e,t)=>{const n=xe("Image",EQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:p,...m}=n,[g,y]=A.useState(!c);A.useEffect(()=>y(!c),[c]);const v=vt({name:"Image",classes:Ixe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:xQe});return g&&h?b.jsx(be,{component:"img",ref:t,src:h,...v("root"),onError:u,mod:["fallback",p],...m}):b.jsx(be,{component:"img",ref:t,...v("root"),src:c,onError:_=>{u==null||u(_),y(!0)},mod:p,...m})});Zy.classes=Ixe;Zy.displayName="@mantine/core/Image";function SQe(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Ce(t),[i,s]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),s==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),s==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),s==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var Rxe={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const TQe={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},CQe=(e,{color:t,position:n,offset:r,size:i,radius:s,zIndex:o,autoContrast:a})=>({root:{"--indicator-color":t?Yr(t,e):void 0,"--indicator-text-color":Ky(a,e)?fp({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Ce(i),"--indicator-radius":s===void 0?void 0:Mr(s),"--indicator-z-index":o==null?void 0:o.toString(),...SQe(n,r)}}),BK=Le((e,t)=>{const n=xe("Indicator",TQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:p,color:m,withBorder:g,disabled:y,processing:v,zIndex:_,autoContrast:w,mod:E,...S}=n,x=vt({name:"Indicator",classes:Rxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:CQe});return b.jsxs(be,{ref:t,...x("root"),mod:[{inline:f},E],...S,children:[!y&&b.jsx(b.Fragment,{children:b.jsx(be,{mod:{"with-label":!!h,"with-border":g,processing:v},...x("indicator"),children:h})}),u]})});BK.classes=Rxe;BK.displayName="@mantine/core/Indicator";function NU(){return NU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NU.apply(null,arguments)}function AQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var IQe=A.useLayoutEffect,RQe=function(t){var n=A.useRef(t);return IQe(function(){n.current=t}),n},tue=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},kQe=function(t,n){var r=A.useRef();return A.useCallback(function(i){t.current=i,r.current&&tue(r.current,null),r.current=n,n&&tue(n,i)},[n])},nue={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},PQe=function(t){Object.keys(nue).forEach(function(n){t.style.setProperty(n,nue[n],"important")})},rue=PQe,qa=null,iue=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function NQe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),qa||(qa=document.createElement("textarea"),qa.setAttribute("tabindex","-1"),qa.setAttribute("aria-hidden","true"),rue(qa)),qa.parentNode===null&&document.body.appendChild(qa);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;qa.style[h]=o[h]}),rue(qa),qa.value=t;var l=iue(qa,e);qa.value=t,l=iue(qa,e),qa.value="x";var u=qa.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var sue=function(){},OQe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},DQe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],MQe=!!document.documentElement.currentStyle,$Qe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=OQe(DQe,n),i=r.boxSizing;if(i==="")return null;MQe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},LQe=$Qe;function kxe(e,t,n){var r=RQe(n);A.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var FQe=function(t){kxe(window,"resize",t)},jQe=function(t){kxe(document.fonts,"loadingdone",t)},BQe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],zQe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?sue:o,l=t.onHeightChange,u=l===void 0?sue:l,c=AQe(t,BQe),d=c.value!==void 0,f=A.useRef(null),h=kQe(f,n),p=A.useRef(0),m=A.useRef(),g=function(){var _=f.current,w=r&&m.current?m.current:LQe(_);if(w){m.current=w;var E=NQe(w,_.value||_.placeholder||"x",s,i),S=E[0],x=E[1];p.current!==S&&(p.current=S,_.style.setProperty("height",S+"px","important"),u(S,{rowHeight:x}))}},y=function(_){d||g(),a(_)};return A.useLayoutEffect(g),FQe(g),jQe(g),A.createElement("textarea",NU({},c,{onChange:y,ref:h}))},UQe=A.forwardRef(zQe);const VQe={},YA=Le((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=xe("Textarea",VQe,e),l=n&&zwe()!=="test",u=l?{maxRows:r,minRows:i}:{};return b.jsx(_u,{component:l?UQe:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...u})});YA.classes=_u.classes;YA.displayName="@mantine/core/Textarea";const[HQe,qQe]=io("List component was not found in tree");var zK={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const WQe={},UK=Le((e,t)=>{const n=xe("ListItem",WQe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,children:u,mod:c,...d}=n,f=qQe(),h=l||f.icon,p={classNames:r,styles:o};return b.jsx(be,{...f.getStyles("item",{...p,className:i,style:s}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:b.jsxs("div",{...f.getStyles("itemWrapper",p),children:[h&&b.jsx("span",{...f.getStyles("itemIcon",p),children:h}),b.jsx("span",{...f.getStyles("itemLabel",p),children:u})]})})});UK.classes=zK;UK.displayName="@mantine/core/ListItem";const GQe={type:"unordered"},YQe=(e,{size:t,spacing:n})=>({root:{"--list-fz":Js(t),"--list-lh":Nwe(t),"--list-spacing":Qu(n)}}),rf=Le((e,t)=>{const n=xe("List",GQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=vt({name:"List",classes:zK,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:YQe});return b.jsx(HQe,{value:{center:p,icon:f,getStyles:v},children:b.jsx(be,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...y,children:u})})});rf.classes=zK;rf.displayName="@mantine/core/List";rf.Item=UK;var Pxe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const oue={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:cd("overlay")},KQe=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),uu=Le((e,t)=>{const n=xe("LoadingOverlay",oue,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...p}=n,m=Is(),g=vt({name:"LoadingOverlay",classes:Pxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:KQe}),y={...oue.overlayProps,...d};return b.jsx(Pf,{transition:"fade",...u,mounted:!!f,children:v=>b.jsxs(be,{...g("root",{style:v}),ref:t,...p,children:[b.jsx(ws,{...g("loader"),unstyled:a,...c}),b.jsx(WA,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.white}),b.jsx(WA,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});uu.classes=Pxe;uu.displayName="@mantine/core/LoadingOverlay";const[XQe,LR]=io("Menu component was not found in the tree");var cS={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const QQe={},VK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=xe("MenuDivider",QQe,e),l=LR();return b.jsx(be,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});VK.classes=cS;VK.displayName="@mantine/core/MenuDivider";const JQe={},HK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,children:u,...c}=xe("MenuDropdown",JQe,e),d=A.useRef(null),f=LR(),h=g=>{var y,v;(g.key==="ArrowUp"||g.key==="ArrowDown")&&(g.preventDefault(),(v=(y=d.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||v.focus())},p=ju(a,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.openDropdown()),m=ju(l,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.closeDropdown());return b.jsxs($n.Dropdown,{...c,onMouseEnter:p,onMouseLeave:m,role:"menu","aria-orientation":"vertical",ref:ps(t,d),...f.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h,children:[b.jsx("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),u]})});HK.classes=cS;HK.displayName="@mantine/core/MenuDropdown";const ZQe={},KA=Ls((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,...h}=xe("MenuItem",ZQe,e),p=LR(),m=Is(),{dir:g}=El(),y=A.useRef(),v=p.getItemIndex(y.current),_=h,w=ju(_.onMouseLeave,()=>p.setHovered(-1)),E=ju(_.onMouseEnter,()=>p.setHovered(p.getItemIndex(y.current))),S=ju(_.onClick,()=>{typeof l=="boolean"?l&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately()}),x=ju(_.onFocus,()=>p.setHovered(p.getItemIndex(y.current))),T=a?m.variantColorResolver({color:a,theme:m,variant:"light"}):void 0,I=a?kf({color:a,theme:m}):null;return b.jsxs(xs,{...h,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:x,...p.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:ps(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":p.hovered===v?!0:void 0,onMouseEnter:E,onMouseLeave:w,onClick:S,onKeyDown:gY({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:g,orientation:"vertical",onKeyDown:_.onKeydown}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:T==null?void 0:T.color,"--menu-item-hover":T==null?void 0:T.hover},children:[u&&b.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:u}),d&&b.jsx("div",{...p.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),c&&b.jsx("div",{...p.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c})]})});KA.classes=cS;KA.displayName="@mantine/core/MenuItem";const eJe={},qK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=xe("MenuLabel",eJe,e),l=LR();return b.jsx(be,{ref:t,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});qK.classes=cS;qK.displayName="@mantine/core/MenuLabel";const tJe={refProp:"ref"},Nxe=A.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=xe("MenuTarget",tJe,e);if(!Gy(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=LR(),o=ju(n.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),a=ju(n.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),l=ju(n.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return b.jsx($n.Target,{refProp:r,popupType:"menu",ref:t,...i,children:A.cloneElement(n,{onClick:o,onMouseEnter:a,onMouseLeave:l,"data-expanded":s.opened?!0:void 0})})});Nxe.displayName="@mantine/core/MenuTarget";const nJe={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function cn(e){const t=xe("Menu",nJe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:_,menuItemTabIndex:w,keepMounted:E,...S}=t,x=vt({name:"Menu",classes:cS,props:t,classNames:m,styles:g,unstyled:y}),[T,{setHovered:I,resetHovered:P}]=FHe(),[k,D]=Xi({value:s,defaultValue:o,finalValue:!1,onChange:l}),[R,M]=A.useState(!1),$=()=>{D(!1),M(!1),k&&(i==null||i())},L=()=>{D(!0),!k&&(r==null||r())},B=()=>{k?$():L()},{openDropdown:z,closeDropdown:U}=dQe({open:L,close:$,closeDelay:p,openDelay:h}),N=F=>LHe("[data-menu-item]","[data-menu-dropdown]",F),{resolvedClassNames:V,resolvedStyles:W}=hp({classNames:m,styles:g,props:t});return Ju(()=>{P()},[k]),b.jsx(XQe,{value:{getStyles:x,opened:k,toggleDropdown:B,getItemIndex:N,hovered:T,setHovered:I,openedViaClick:R,setOpenedViaClick:M,closeOnItemClick:u,closeDropdown:f==="click"?$:U,openDropdown:f==="click"?L:z,closeDropdownImmediately:$,loop:c,trigger:f,unstyled:y,menuItemTabIndex:w},children:b.jsx($n,{...S,opened:k,onChange:B,defaultOpened:o,trapFocus:E?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:V,styles:W,unstyled:y,variant:v,keepMounted:E,children:n})})}cn.extend=e=>e;cn.classes=cS;cn.displayName="@mantine/core/Menu";cn.Item=KA;cn.Label=qK;cn.Dropdown=HK;cn.Target=Nxe;cn.Divider=VK;const[rJe,dS]=io("Modal component was not found in tree");var pg={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const iJe={},MF=Le((e,t)=>{const n=xe("ModalBody",iJe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=dS();return b.jsx(WY,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});MF.classes=pg;MF.displayName="@mantine/core/ModalBody";const sJe={},$F=Le((e,t)=>{const n=xe("ModalCloseButton",sJe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=dS();return b.jsx(GY,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});$F.classes=pg;$F.displayName="@mantine/core/ModalCloseButton";const oJe={},LF=Le((e,t)=>{const n=xe("ModalContent",oJe,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,...u}=n,c=dS(),d=c.scrollAreaComponent||zEe;return b.jsx(BEe,{...c.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:c.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":c.fullScreen||void 0,"data-modal-content":!0,ref:t,...u,children:b.jsx(d,{style:{maxHeight:c.fullScreen?"100dvh":`calc(100dvh - (${Ce(c.yOffset)} * 2))`},children:l})})});LF.classes=pg;LF.displayName="@mantine/core/ModalContent";const aJe={},FF=Le((e,t)=>{const n=xe("ModalHeader",aJe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=dS();return b.jsx(YY,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});FF.classes=pg;FF.displayName="@mantine/core/ModalHeader";const lJe={},jF=Le((e,t)=>{const n=xe("ModalOverlay",lJe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=dS();return b.jsx(KY,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});jF.classes=pg;jF.displayName="@mantine/core/ModalOverlay";const uJe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:cd("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},cJe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Mr(t),"--modal-size":Jt(n,"modal-size"),"--modal-y-offset":Ce(r),"--modal-x-offset":Ce(i)}}),BF=Le((e,t)=>{const n=xe("ModalRoot",uJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=vt({name:m,classes:pg,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:cJe});return b.jsx(rJe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y,fullScreen:f},children:b.jsx(jEe,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:a,...g})})});BF.classes=pg;BF.displayName="@mantine/core/ModalRoot";const dJe={},zF=Le((e,t)=>{const n=xe("ModalTitle",dJe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=dS();return b.jsx(XY,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});zF.classes=pg;zF.displayName="@mantine/core/ModalTitle";const fJe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:cd("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Ss=Le((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:l,...u}=xe("Modal",fJe,e),c=!!n||s;return b.jsxs(BF,{ref:t,radius:l,...u,children:[r&&b.jsx(jF,{...i}),b.jsxs(LF,{radius:l,children:[c&&b.jsxs(FF,{children:[n&&b.jsx(zF,{children:n}),s&&b.jsx($F,{...o})]}),b.jsx(MF,{children:a})]})]})});Ss.classes=pg;Ss.displayName="@mantine/core/Modal";Ss.Root=BF;Ss.Overlay=jF;Ss.Content=LF;Ss.Body=MF;Ss.Header=FF;Ss.Title=zF;Ss.CloseButton=$F;const[hJe,WK]=Hb(),[pJe,mJe]=Hb();var UF={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const gJe={},yJe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?Jt(t):Jt(n,"pg-gap")}}),GK=Le((e,t)=>{const n=xe("PillGroup",gJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,disabled:c,...d}=n,f=WK(),h=(f==null?void 0:f.size)||u||void 0,p=vt({name:"PillGroup",classes:UF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:yJe,stylesCtx:{size:h},rootSelector:"group"});return b.jsx(pJe,{value:{size:h,disabled:c},children:b.jsx(be,{ref:t,size:h,...p("group"),...d})})});GK.classes=UF;GK.displayName="@mantine/core/PillGroup";const vJe={variant:"default"},bJe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":Jt(n,"pill-fz"),"--pill-height":Jt(n,"pill-height"),"--pill-radius":t===void 0?void 0:Mr(t)}}),sb=Le((e,t)=>{const n=xe("Pill",vJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,_=mJe(),w=WK(),E=m||(_==null?void 0:_.size)||void 0,S=(w==null?void 0:w.variant)==="filled"?"contrast":u||"default",x=vt({name:"Pill",classes:UF,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:bJe,stylesCtx:{size:E}});return b.jsxs(be,{component:"span",ref:t,variant:S,size:E,...x("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||(_==null?void 0:_.disabled)},y],...v,children:[b.jsx("span",{...x("label"),children:c}),d&&b.jsx(Xy,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...x("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:T=>{var I;T.preventDefault(),T.stopPropagation(),(I=h==null?void 0:h.onMouseDown)==null||I.call(h,T)},onClick:T=>{var I;T.stopPropagation(),f==null||f(),(I=h==null?void 0:h.onClick)==null||I.call(h,T)}})]})});sb.classes=UF;sb.displayName="@mantine/core/Pill";sb.Group=GK;var Oxe={field:"m_45c4369d"};const _Je={type:"visible"},YK=Le((e,t)=>{const n=xe("PillsInputField",_Je,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...p}=n,m=WK(),g=oS(),y=vt({name:"PillsInputField",classes:Oxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return b.jsx(be,{component:"input",ref:ps(t,m==null?void 0:m.fieldRef),"data-type":u,disabled:v,mod:[{disabled:v,pointer:f},h],...y("field"),...p,id:(g==null?void 0:g.inputId)||d,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:_=>!f&&_.stopPropagation()})});YK.classes=Oxe;YK.displayName="@mantine/core/PillsInputField";const wJe={},VE=Le((e,t)=>{const n=xe("PillsInput",wJe,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=A.useRef();return b.jsx(hJe,{value:{fieldRef:f,size:o,disabled:a,hasError:!!u,variant:c},children:b.jsx(_u,{size:o,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=f.current)==null||p.focus()},onClick:h=>{var p;h.preventDefault(),s==null||s(h),(p=f.current)==null||p.focus()},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});VE.displayName="@mantine/core/PillsInput";VE.Field=YK;function EJe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(UE(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&i.push(s),i),[])}const xJe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},VF=Le((e,t)=>{const n=xe("MultiSelect",xJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:_,selectFirstOptionOnChange:w,onOptionSubmit:E,comboboxProps:S,filter:x,limit:T,withScrollArea:I,maxDropdownHeight:P,searchValue:k,defaultSearchValue:D,onSearchChange:R,readOnly:M,disabled:$,onFocus:L,onBlur:B,onPaste:z,radius:U,rightSection:N,rightSectionWidth:V,rightSectionPointerEvents:W,rightSectionProps:F,leftSection:H,leftSectionWidth:G,leftSectionPointerEvents:X,leftSectionProps:ie,inputContainer:oe,inputWrapperOrder:se,withAsterisk:le,labelProps:Se,descriptionProps:de,errorProps:De,wrapperProps:Fe,description:Be,label:je,error:me,maxValues:ne,searchable:Ee,nothingFoundMessage:Pe,withCheckIcon:Je,checkIconPosition:qe,hidePickedOptions:_e,withErrorStyles:Qe,name:pt,form:ye,id:ke,clearable:Ge,clearButtonProps:Ke,hiddenInputProps:xt,placeholder:Cn,hiddenInputValuesDivider:gr,required:yr,mod:kr,renderOption:Xt,onRemove:Dn,onClear:rr,scrollAreaProps:ir,...ao}=n,Oi=ta(ke),Ui=dK(m),Un=xF(Ui),Wn=$R({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{_==null||_(),Wn.resetSelectedOption()}}),{styleProps:Zi,rest:{type:wd,autoComplete:Va,...mc}}=Wb(ao),[mt,fi]=Xi({value:c,defaultValue:d,finalValue:[],onChange:f}),[wn,$r]=Xi({value:k,defaultValue:D,finalValue:"",onChange:R}),ri=vt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:ii,resolvedStyles:ce}=hp({props:n,styles:o,classNames:r}),te=dt=>{h==null||h(dt),dt.key===" "&&!Ee&&(dt.preventDefault(),Wn.toggleDropdown()),dt.key==="Backspace"&&wn.length===0&&mt.length>0&&(Dn==null||Dn(mt[mt.length-1]),fi(mt.slice(0,mt.length-1)))},he=mt.map((dt,kt)=>{var rn,Gn;return b.jsx(sb,{withRemoveButton:!M&&!((rn=Un[dt])!=null&&rn.disabled),onRemove:()=>{fi(mt.filter(Qn=>dt!==Qn)),Dn==null||Dn(dt)},unstyled:a,disabled:$,...ri("pill"),children:((Gn=Un[dt])==null?void 0:Gn.label)||dt},`${dt}-${kt}`)});A.useEffect(()=>{w&&Wn.selectFirstOption()},[w,mt]);const Ie=Ge&&mt.length>0&&!$&&!M&&b.jsx(sn.ClearButton,{size:u,...Ke,onClear:()=>{rr==null||rr(),fi([]),$r("")}}),Re=EJe({data:Ui,value:mt});return b.jsxs(b.Fragment,{children:[b.jsxs(sn,{store:Wn,classNames:ii,styles:ce,unstyled:a,size:u,readOnly:M,__staticSelector:"MultiSelect",onOptionSubmit:dt=>{E==null||E(dt),$r(""),Wn.updateSelectedOptionIndex("selected"),mt.includes(Un[dt].value)?(fi(mt.filter(kt=>kt!==Un[dt].value)),Dn==null||Dn(Un[dt].value)):mt.length<ne&&fi([...mt,Un[dt].value])},...S,children:[b.jsx(sn.DropdownTarget,{children:b.jsx(VE,{...Zi,__staticSelector:"MultiSelect",classNames:ii,styles:ce,unstyled:a,size:u,className:i,style:s,variant:p,disabled:$,radius:U,rightSection:N||Ie||b.jsx(sn.Chevron,{size:u,error:me,unstyled:a}),rightSectionPointerEvents:W||(Ie?"all":"none"),rightSectionWidth:V,rightSectionProps:F,leftSection:H,leftSectionWidth:G,leftSectionPointerEvents:X,leftSectionProps:ie,inputContainer:oe,inputWrapperOrder:se,withAsterisk:le,labelProps:Se,descriptionProps:de,errorProps:De,wrapperProps:Fe,description:Be,label:je,error:me,multiline:!0,withErrorStyles:Qe,__stylesApiProps:{...n,rightSectionPointerEvents:W||(Ie?"all":"none"),multiline:!0},pointer:!Ee,onClick:()=>Ee?Wn.openDropdown():Wn.toggleDropdown(),"data-expanded":Wn.dropdownOpened||void 0,id:Oi,required:yr,mod:kr,children:b.jsxs(sb.Group,{disabled:$,unstyled:a,...ri("pillsList"),children:[he,b.jsx(sn.EventsTarget,{autoComplete:Va,children:b.jsx(VE.Field,{...mc,ref:t,id:Oi,placeholder:Cn,type:!Ee&&!Cn?"hidden":"visible",...ri("inputField"),unstyled:a,onFocus:dt=>{L==null||L(dt),Ee&&Wn.openDropdown()},onBlur:dt=>{B==null||B(dt),Wn.closeDropdown(),$r("")},onKeyDown:te,value:wn,onChange:dt=>{$r(dt.currentTarget.value),Ee&&Wn.openDropdown(),w&&Wn.selectFirstOption()},disabled:$,readOnly:M||!Ee,pointer:!Ee})})]})})}),b.jsx(CK,{data:_e?Re:Ui,hidden:M||$,filter:x,search:wn,limit:T,hiddenWhenEmpty:!Pe,withScrollArea:I,maxDropdownHeight:P,filterOptions:Ee,value:mt,checkIconPosition:qe,withCheckIcon:Je,nothingFoundMessage:Pe,unstyled:a,labelId:je?`${Oi}-label`:void 0,"aria-label":je?void 0:ao["aria-label"],renderOption:Xt,scrollAreaProps:ir})]}),b.jsx(sn.HiddenInput,{name:pt,valuesDivider:gr,value:mt,form:ye,disabled:$,...xt})]})});VF.classes={..._u.classes,...sn.classes};VF.displayName="@mantine/core/MultiSelect";function Dxe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var XA;(function(e){e.event="event",e.props="prop"})(XA||(XA={}));function c0(){}function SJe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function QA(e){return!!(e||"").match(/\d/)}function rE(e){return e==null}function TJe(e){return typeof e=="number"&&isNaN(e)}function Mxe(e){return rE(e)||TJe(e)||typeof e=="number"&&!isFinite(e)}function $xe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function CJe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function AJe(e,t,n){var r=CJe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function IJe(e){var t=A.useRef(e);t.current=e;var n=A.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function KK(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function RJe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function Lxe(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function aue(e,t){return Array(t+1).join(e)}function Fxe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+aue("0",Math.abs(o))+i:o>=a?i=i+aue("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function lue(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=KK(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),u=o.length<=t?"0."+o:l.toFixed(t),c=u.split("."),d=s;s&&Number(c[0])&&(d=s.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var f=Lxe(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function a1(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var jxe=SJe(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),kJe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function PJe(e,t,n){return Math.min(Math.max(e,t),n)}function J8(e){return Math.max(e.selectionStart,e.selectionEnd)}function NJe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function OJe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function DJe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function MJe(e,t,n,r,i,s,o){o===void 0&&(o=DJe);var a=i.findIndex(function(w){return w}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,m=c;p<m;p++){var g=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var y=r;y<u&&(f[y]===-1||!s(n[y]));)y++;var v=y===u||f[y]===-1?c:f[y];for(y=r-1;y>0&&f[y]===-1;)y--;var _=y===-1||f[y]===-1?0:f[y]+1;return _>v?v:r-_<v-r?_:v}function uue(e,t,n,r){var i=e.length;if(t=PJe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function $Je(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(QA(e[n])||QA(e[n-1]));return t}function Bxe(e,t,n,r,i,s){s===void 0&&(s=c0);var o=IJe(function(p,m){var g,y;return Mxe(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?Fxe(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=A.useState(function(){return o(rE(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),s(p,m)},d=e,f=n;rE(e)&&(d=l.numAsString,f=!0);var h=o(d,f);return A.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function LJe(e){return e.replace(/[^0-9]/g,"")}function FJe(e){return e}function jJe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=FJe);var a=e.removeFormatting;a===void 0&&(a=LJe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=c0);var h=e.onKeyDown;h===void 0&&(h=c0);var p=e.onMouseUp;p===void 0&&(p=c0);var m=e.onFocus;m===void 0&&(m=c0);var g=e.onBlur;g===void 0&&(g=c0);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=$Je);var _=e.isValidInputCharacter;_===void 0&&(_=QA);var w=e.isCharacterSame,E=Dxe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=Bxe(y,l,!!u,o,a,c),x=S[0],T=x.formattedValue,I=x.numAsString,P=S[1],k=A.useRef(),D=A.useRef({formattedValue:T,numAsString:I}),R=function(me,ne){D.current={formattedValue:me.formattedValue,numAsString:me.value},P(me,ne)},M=A.useState(!1),$=M[0],L=M[1],B=A.useRef(null),z=A.useRef({setCaretTimeout:null,focusTimeout:null});A.useEffect(function(){return L(!0),function(){clearTimeout(z.current.setCaretTimeout),clearTimeout(z.current.focusTimeout)}},[]);var U=o,N=function(me,ne){var Ee=parseFloat(ne);return{formattedValue:me,value:ne,floatValue:isNaN(Ee)?void 0:Ee}},V=function(me,ne,Ee){me.selectionStart===0&&me.selectionEnd===me.value.length||(a1(me,ne),z.current.setCaretTimeout=setTimeout(function(){me.value===Ee&&me.selectionStart!==ne&&a1(me,ne)},0))},W=function(me,ne,Ee){return uue(me,ne,v(me),Ee)},F=function(me,ne,Ee){var Pe=v(ne),Je=MJe(ne,T,me,Ee,Pe,_,w);return Je=uue(ne,Je,Pe),Je},H=function(me){var ne=me.formattedValue;ne===void 0&&(ne="");var Ee=me.input,Pe=me.source,Je=me.event,qe=me.numAsString,_e;if(Ee){var Qe=me.inputValue||Ee.value,pt=J8(Ee);Ee.value=ne,_e=F(Qe,ne,pt),_e!==void 0&&V(Ee,_e,ne)}ne!==T&&R(N(ne,qe),{event:Je,source:Pe})};A.useEffect(function(){var me=D.current,ne=me.formattedValue,Ee=me.numAsString;(T!==ne||I!==Ee)&&R(N(T,I),{event:void 0,source:XA.props})},[T,I]);var G=B.current?J8(B.current):void 0,X=typeof window<"u"?A.useLayoutEffect:A.useEffect;X(function(){var me=B.current;if(T!==D.current.formattedValue&&me){var ne=F(D.current.formattedValue,T,G);me.value=T,V(me,ne,T)}},[T]);var ie=function(me,ne,Ee){var Pe=ne.target,Je=k.current?kJe(k.current,Pe.selectionEnd):jxe(T,me),qe=Object.assign(Object.assign({},Je),{lastValue:T}),_e=a(me,qe),Qe=U(_e);if(_e=a(Qe,void 0),d&&!d(N(Qe,_e))){var pt=ne.target,ye=J8(pt),ke=F(me,T,ye);return pt.value=T,V(pt,ke,T),!1}return H({formattedValue:Qe,numAsString:_e,inputValue:me,event:ne,source:Ee,input:ne.target}),!0},oe=function(me,ne){ne===void 0&&(ne=0);var Ee=me.selectionStart,Pe=me.selectionEnd;k.current={selectionStart:Ee,selectionEnd:Pe+ne}},se=function(me){var ne=me.target,Ee=ne.value,Pe=ie(Ee,me,XA.event);Pe&&f(me),k.current=void 0},le=function(me){var ne=me.target,Ee=me.key,Pe=ne.selectionStart,Je=ne.selectionEnd,qe=ne.value;qe===void 0&&(qe="");var _e;Ee==="ArrowLeft"||Ee==="Backspace"?_e=Math.max(Pe-1,0):Ee==="ArrowRight"?_e=Math.min(Pe+1,qe.length):Ee==="Delete"&&(_e=Pe);var Qe=0;Ee==="Delete"&&Pe===Je&&(Qe=1);var pt=Ee==="ArrowLeft"||Ee==="ArrowRight";if(_e===void 0||Pe!==Je&&!pt){h(me),oe(ne,Qe);return}var ye=_e;if(pt){var ke=Ee==="ArrowLeft"?"left":"right";ye=W(qe,_e,ke),ye!==_e&&me.preventDefault()}else Ee==="Delete"&&!_(qe[_e])?ye=W(qe,_e,"right"):Ee==="Backspace"&&!_(qe[_e])&&(ye=W(qe,_e,"left"));ye!==_e&&V(ne,ye,qe),h(me),oe(ne,Qe)},Se=function(me){var ne=me.target,Ee=function(){var Pe=ne.selectionStart,Je=ne.selectionEnd,qe=ne.value;if(qe===void 0&&(qe=""),Pe===Je){var _e=W(qe,Pe);_e!==Pe&&V(ne,_e,qe)}};Ee(),requestAnimationFrame(function(){Ee()}),p(me),oe(ne)},de=function(me){me.persist&&me.persist();var ne=me.target,Ee=me.currentTarget;B.current=ne,z.current.focusTimeout=setTimeout(function(){var Pe=ne.selectionStart,Je=ne.selectionEnd,qe=ne.value;qe===void 0&&(qe="");var _e=W(qe,Pe);_e!==Pe&&!(Pe===0&&Je===qe.length)&&V(ne,_e,qe),m(Object.assign(Object.assign({},me),{currentTarget:Ee}))},0)},De=function(me){B.current=null,clearTimeout(z.current.focusTimeout),clearTimeout(z.current.setCaretTimeout),g(me)},Fe=$&&NJe()?"numeric":void 0,Be=Object.assign({inputMode:Fe},E,{type:t,value:T,onChange:se,onKeyDown:le,onMouseUp:Se,onFocus:de,onBlur:De});if(n==="text")return i?us.createElement(us.Fragment,null,i(T,E)||null):us.createElement("span",Object.assign({},E,{ref:s}),T);if(r){var je=r;return us.createElement(je,Object.assign({},Be,{ref:s}))}return us.createElement("input",Object.assign({},Be,{ref:s}))}function cue(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=HF(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=KK(e,o),h=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return n!==void 0&&(p=Lxe(p,n,!!r)),u&&(h=AJe(h,u,a)),i&&(h=i+h),s&&(p=p+s),m&&(h="-"+h),e=h+(d&&c||"")+p,e}function HF(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function BJe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function zJe(e,t){return new RegExp("(^-)|[0-9]|"+$xe(e),"g")}function UJe(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function VJe(e,t,n){var r;t===void 0&&(t=OJe(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=HF(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,m=e[d]===p;if(QA(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(B,z,U){var N=!1,V=!1;s.startsWith("-")?N=!1:B.startsWith("--")?(N=!1,V=!0):o.startsWith("-")&&B.length===o.length?N=!1:B[0]==="-"&&(N=!0);var W=N?1:0;return V&&(W=2),W&&(B=B.substring(W),z-=W,U-=W),{value:B,start:z,end:U,hasNegation:N}},v=y(e,c,d),_=v.hasNegation;r=v,e=r.value,c=r.start,d=r.end;var w=y(t.lastValue,l.start,l.end),E=w.start,S=w.end,x=w.value,T=e.substring(c,d);e.length&&x.length&&(E>x.length-o.length||S<s.length)&&!(T&&o.startsWith(T))&&(e=x);var I=0;e.startsWith(s)?I+=s.length:c<s.length&&(I=c),e=e.substring(I),d-=I;var P=e.length,k=e.length-o.length;e.endsWith(o)?P=k:(d>k||d>e.length-o.length)&&(P=d),e=e.substring(0,P),e=BJe(_?"-"+e:e,i),e=(e.match(zJe(p))||[]).join("");var D=e.indexOf(p);e=e.replace(new RegExp($xe(p),"g"),function(B,z){return z===D?".":""});var R=KK(e,i),M=R.beforeDecimal,$=R.afterDecimal,L=R.addNegation;return u.end-u.start<l.end-l.start&&M===""&&m&&!parseFloat($)&&(e=L?"-":""),e}function HJe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function qJe(e){var t=HF(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function WJe(e){e=qJe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=c0);var s=e.onBlur;s===void 0&&(s=c0);var o=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,p=Dxe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=HF(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(L){return cue(L,e)},_=function(L,B){return VJe(L,B,e)},w=rE(d)?c:d,E=f??UJe(w,u,t);rE(d)?rE(c)||(E=E||typeof c=="number"):E=E||typeof d=="number";var S=function(L){return Mxe(L)?L:(typeof L=="number"&&(L=Fxe(L)),E&&typeof a=="number"?lue(L,a,!!l):L)},x=Bxe(S(d),S(c),!!E,v,_,h),T=x[0],I=T.numAsString,P=T.formattedValue,k=x[1],D=function(L){var B=L.target,z=L.key,U=B.selectionStart,N=B.selectionEnd,V=B.value;if(V===void 0&&(V=""),(z==="Backspace"||z==="Delete")&&N<u.length){L.preventDefault();return}if(U!==N){i(L);return}z==="Backspace"&&V[0]==="-"&&U===u.length+1&&n&&a1(B,1),a&&l&&(z==="Backspace"&&V[U-1]===g?(a1(B,U-1),L.preventDefault()):z==="Delete"&&V[U]===g&&L.preventDefault()),y!=null&&y.includes(z)&&V[U]===g&&a1(B,U+1);var W=o===!0?",":o;z==="Backspace"&&V[U-1]===W&&a1(B,U-1),z==="Delete"&&V[U]===W&&a1(B,U+1),i(L)},R=function(L){var B=I;if(B.match(/\d/g)||(B=""),r||(B=RJe(B)),l&&a&&(B=lue(B,a,l)),B!==I){var z=cue(B,e);k({formattedValue:z,value:B,floatValue:parseFloat(B)},{event:L,source:XA.event})}s(L)},M=function(L){return L===g?!0:QA(L)},$=function(L){var B=L.currentValue,z=L.lastValue,U=L.formattedValue,N=L.currentValueIndex,V=L.formattedValueIndex,W=B[N],F=U[V],H=jxe(z,B),G=H.to;return N>=G.start&&N<G.end&&y&&y.includes(W)&&F===g?!0:W===F};return Object.assign(Object.assign({},p),{value:P,valueIsNumericString:!1,isValidInputCharacter:M,isCharacterSame:$,onValueChange:k,format:v,removeFormatting:_,getCaretBoundary:function(L){return HJe(L,e)},onKeyDown:D,onBlur:R})}function GJe(e){var t=WJe(e);return us.createElement(jJe,Object.assign({},t))}function due({direction:e,style:t,...n}){return b.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var OU={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const YJe=/^(0\.0*|-0(\.0*)?)$/,KJe=/^-?0\d+(\.\d+)?\.?$/;function XJe(e){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)}function fue(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const QJe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},JJe=(e,{size:t})=>({controls:{"--ni-chevron-size":Jt(t,"ni-chevron-size")}}),XK=Le((e,t)=>{const n=xe("NumberInput",QJe,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:_,allowDecimal:w,decimalScale:E,onKeyDown:S,onKeyDownCapture:x,handlersRef:T,startValue:I,disabled:P,rightSectionPointerEvents:k,allowNegative:D,readOnly:R,size:M,rightSectionWidth:$,stepHoldInterval:L,stepHoldDelay:B,allowLeadingZeros:z,withKeyboardEvents:U,trimLeadingZeroesOnBlur:N,...V}=n,W=vt({name:"NumberInput",classes:OU,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:JJe}),{resolvedClassNames:F,resolvedStyles:H}=hp({classNames:i,styles:s,props:n}),[G,X]=Xi({value:c,defaultValue:d,onChange:l}),ie=B!==void 0&&L!==void 0,oe=A.useRef(null),se=A.useRef(null),le=A.useRef(0),Se=(_e,Qe)=>{Qe.source==="event"&&X(XJe(_e.floatValue)&&!YJe.test(_e.value)&&!(z&&KJe.test(_e.value))?_e.floatValue:_e.value),u==null||u(_e,Qe)},de=_e=>{const Qe=String(_e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Qe?Math.max(0,(Qe[1]?Qe[1].length:0)-(Qe[2]?+Qe[2]:0)):0},De=_e=>{oe.current&&typeof _e<"u"&&oe.current.setSelectionRange(_e,_e)},Fe=A.useRef();Fe.current=()=>{let _e;const Qe=de(G),pt=de(p),ye=Math.max(Qe,pt),ke=10**ye;if(typeof G!="number"||Number.isNaN(G))_e=$c(I,h,f);else if(f!==void 0){const Ke=(Math.round(G*ke)+Math.round(p*ke))/ke;_e=Ke<=f?Ke:f}else _e=(Math.round(G*ke)+Math.round(p*ke))/ke;const Ge=_e.toFixed(ye);X(parseFloat(Ge)),u==null||u({floatValue:parseFloat(Ge),formattedValue:Ge,value:Ge},{source:"increment"}),setTimeout(()=>{var Ke;return De((Ke=oe.current)==null?void 0:Ke.value.length)},0)};const Be=A.useRef();Be.current=()=>{let _e;const Qe=h!==void 0?h:D?Number.MIN_SAFE_INTEGER:0,pt=de(G),ye=de(p),ke=Math.max(pt,ye),Ge=10**ke;if(typeof G!="number"||Number.isNaN(G))_e=$c(I,Qe,f);else{const xt=(Math.round(G*Ge)-Math.round(p*Ge))/Ge;_e=Qe!==void 0&&xt<Qe?Qe:xt}const Ke=_e.toFixed(ke);X(parseFloat(Ke)),u==null||u({floatValue:parseFloat(Ke),formattedValue:Ke,value:Ke},{source:"decrement"}),setTimeout(()=>{var xt;return De((xt=oe.current)==null?void 0:xt.value.length)},0)};const je=_e=>{S==null||S(_e),!(R||!U)&&(_e.key==="ArrowUp"&&(_e.preventDefault(),Fe.current()),_e.key==="ArrowDown"&&(_e.preventDefault(),Be.current()))},me=_e=>{if(x==null||x(_e),_e.key==="Backspace"){const Qe=oe.current;Qe.selectionStart===0&&Qe.selectionStart===Qe.selectionEnd&&(_e.preventDefault(),window.setTimeout(()=>De(0),0))}};bY(T,{increment:Fe.current,decrement:Be.current});const ne=_e=>{_e?Fe.current():Be.current(),le.current+=1},Ee=_e=>{if(ne(_e),ie){const Qe=typeof L=="number"?L:L(le.current);se.current=window.setTimeout(()=>Ee(_e),Qe)}},Pe=(_e,Qe)=>{var pt;_e.preventDefault(),(pt=oe.current)==null||pt.focus(),ne(Qe),ie&&(se.current=window.setTimeout(()=>Ee(Qe),B))},Je=()=>{se.current&&window.clearTimeout(se.current),se.current=null,le.current=0},qe=b.jsxs("div",{...W("controls"),children:[b.jsx(xs,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof G=="number"&&f!==void 0&&G>=f,mod:{direction:"up"},onMouseDown:_e=>_e.preventDefault(),onPointerDown:_e=>{Pe(_e,!0)},onPointerUp:Je,onPointerLeave:Je,children:b.jsx(due,{direction:"up"})}),b.jsx(xs,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof G=="number"&&h!==void 0&&G<=h,mod:{direction:"down"},onMouseDown:_e=>_e.preventDefault(),onPointerDown:_e=>{Pe(_e,!1)},onPointerUp:Je,onPointerLeave:Je,children:b.jsx(due,{direction:"down"})})]});return b.jsx(_u,{component:GJe,allowNegative:D,className:yt(OU.root,r),size:M,...V,readOnly:R,disabled:P,value:G,getInputRef:ps(t,oe),onValueChange:Se,rightSection:m||R?g:g||qe,classNames:F,styles:H,unstyled:o,__staticSelector:"NumberInput",decimalScale:w?E:0,onKeyDown:je,onKeyDownCapture:me,rightSectionPointerEvents:k??(P?"none":void 0),rightSectionWidth:$??`var(--ni-right-section-width-${M||"sm"})`,allowLeadingZeros:z,onBlur:_e=>{if(_==null||_(_e),v==="blur"&&typeof G=="number"&&$c(G,h,f)!==G&&X($c(G,h,f)),N&&typeof G=="string"){const Qe=G.replace(/^0+/,""),pt=parseFloat(Qe);X(Number.isNaN(pt)||pt>Number.MAX_SAFE_INTEGER?Qe:pt)}},isAllowed:_e=>v==="strict"?y?y(_e)&&fue(_e.floatValue,h,f):fue(_e.floatValue,h,f):y?y(_e):!0})});XK.classes={..._u.classes,...OU};XK.displayName="@mantine/core/NumberInput";const[ZJe,qF]=io("Pagination.Root component was not found in tree");var FR={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const eZe={withPadding:!0},jR=Le((e,t)=>{const n=xe("PaginationControl",eZe,e),{classNames:r,className:i,style:s,styles:o,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=qF(),p=u||h.disabled;return b.jsx(xs,{ref:t,disabled:p,mod:[{active:l,disabled:p,"with-padding":c},d],...h.getStyles("control",{className:i,style:s,classNames:r,styles:o,active:!p}),...f})});jR.classes=FR;jR.displayName="@mantine/core/PaginationControl";function BR({style:e,children:t,path:n,...r}){return b.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:b.jsx("path",{d:n,fill:"currentColor"})})}const tZe=e=>b.jsx(BR,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),nZe=e=>b.jsx(BR,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),rZe=e=>b.jsx(BR,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),iZe=e=>b.jsx(BR,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),sZe=e=>b.jsx(BR,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),oZe={icon:sZe},WF=Le((e,t)=>{const n=xe("PaginationDots",oZe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,...u}=n,c=qF(),d=l;return b.jsx(be,{ref:t,...c.getStyles("dots",{className:i,style:s,styles:o,classNames:r}),...u,children:b.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});WF.classes=FR;WF.displayName="@mantine/core/PaginationDots";function GF({icon:e,name:t,action:n,type:r}){const i={icon:e},s=A.forwardRef((o,a)=>{const{icon:l,...u}=xe(t,i,o),c=l,d=qF(),f=r==="next"?d.active===d.total:d.active===1;return b.jsx(jR,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:b.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return s.displayName=`@mantine/core/${t}`,s}const zxe=GF({icon:tZe,name:"PaginationNext",action:"onNext",type:"next"}),Uxe=GF({icon:nZe,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),Vxe=GF({icon:rZe,name:"PaginationFirst",action:"onFirst",type:"previous"}),Hxe=GF({icon:iZe,name:"PaginationLast",action:"onLast",type:"next"});function QK({dotsIcon:e}){const t=qF(),n=t.range.map((r,i)=>{var s;return r==="dots"?b.jsx(WF,{icon:e},i):b.jsx(jR,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...(s=t.getItemProps)==null?void 0:s.call(t,r),children:r},i)});return b.jsx(b.Fragment,{children:n})}QK.displayName="@mantine/core/PaginationItems";const aZe={siblings:1,boundaries:1},lZe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:Mr(n),"--pagination-control-size":Jt(t,"pagination-control-size"),"--pagination-control-fz":Js(t),"--pagination-active-bg":r?Yr(r,e):void 0,"--pagination-active-color":Ky(i,e)?fp({color:r,theme:e,autoContrast:i}):void 0}}),YF=Le((e,t)=>{const n=xe("PaginationRoot",aZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:p,boundaries:m,color:g,radius:y,onNextPage:v,onPreviousPage:_,onFirstPage:w,onLastPage:E,getItemProps:S,autoContrast:x,...T}=n,I=vt({name:"Pagination",classes:FR,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:lZe}),{range:P,setPage:k,next:D,previous:R,active:M,first:$,last:L}=ZHe({page:c,initialPage:d,onChange:f,total:u,siblings:p,boundaries:m}),B=ju(v,D),z=ju(_,R),U=ju(w,$),N=ju(E,L);return b.jsx(ZJe,{value:{total:u,range:P,active:M,disabled:h,getItemProps:S,onChange:k,onNext:B,onPrevious:z,onFirst:U,onLast:N,getStyles:I},children:b.jsx(be,{ref:t,...I("root"),...T})})});YF.classes=FR;YF.displayName="@mantine/core/PaginationRoot";const uZe={withControls:!0,siblings:1,boundaries:1,gap:8},Of=Le((e,t)=>{const n=xe("Pagination",uZe,e),{withEdges:r,withControls:i,getControlProps:s,nextIcon:o,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,...p}=n;return d<=0||h&&d===1?null:b.jsx(YF,{ref:t,total:d,...p,children:b.jsxs(Rn,{gap:f,children:[r&&b.jsx(Vxe,{icon:u,...s==null?void 0:s("first")}),i&&b.jsx(Uxe,{icon:a,...s==null?void 0:s("previous")}),b.jsx(QK,{dotsIcon:c}),i&&b.jsx(zxe,{icon:o,...s==null?void 0:s("next")}),r&&b.jsx(Hxe,{icon:l,...s==null?void 0:s("last")})]})})});Of.classes=FR;Of.displayName="@mantine/core/Pagination";Of.Root=YF;Of.Control=jR;Of.Dots=WF;Of.First=Vxe;Of.Last=Hxe;Of.Next=zxe;Of.Previous=Uxe;Of.Items=QK;const[cZe,qxe]=io("Progress.Root component was not found in tree");var zR={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const dZe={},JK=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=xe("ProgressLabel",dZe,e),l=qxe();return b.jsx(be,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:s}),...a})});JK.classes=zR;JK.displayName="@mantine/core/ProgressLabel";const fZe={},hZe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":Jt(t,"progress-size"),"--progress-radius":n===void 0?void 0:Mr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),KF=Le((e,t)=>{const n=xe("ProgressRoot",fZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=vt({name:"Progress",classes:zR,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:hZe});return b.jsx(cZe,{value:{getStyles:f,autoContrast:u},children:b.jsx(be,{ref:t,...f("root"),...d})})});KF.classes=zR;KF.displayName="@mantine/core/ProgressRoot";const pZe={withAria:!0},XF=Le((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=xe("ProgressSection",pZe,e),p=qxe(),m=Is(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return b.jsx(be,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:s,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":Yr(u,m),"--progress-label-color":Ky(p.autoContrast,m)?fp({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});XF.classes=zR;XF.displayName="@mantine/core/ProgressSection";const mZe={},Kb=Le((e,t)=>{const n=xe("Progress",mZe,e),{value:r,classNames:i,styles:s,vars:o,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=hp({classNames:i,styles:s,props:n});return b.jsx(KF,{ref:t,classNames:f,styles:h,vars:o,...d,children:b.jsx(XF,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});Kb.classes=zR;Kb.displayName="@mantine/core/Progress";Kb.Section=XF;Kb.Root=KF;Kb.Label=JK;const[gZe,Wxe]=Hb(),[yZe,vZe]=Hb();var Gxe={card:"m_9dc8ae12"};const bZe={withBorder:!0},_Ze=(e,{radius:t})=>({card:{"--card-radius":Mr(t)}}),ZK=Le((e,t)=>{const n=xe("RadioCard",bZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:p,onKeyDown:m,...g}=n,y=vt({name:"RadioCard",classes:Gxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:_Ze,rootSelector:"card"}),{dir:v}=El(),_=Wxe(),w=typeof u=="boolean"?u:(_==null?void 0:_.value)===f||!1,E=p||(_==null?void 0:_.name),S=x=>{if(m==null||m(x),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(x.nativeEvent.code)){x.preventDefault();const T=Array.from(document.querySelectorAll(`[role="radio"][name="${E||"__mantine"}"]`)),I=T.findIndex(D=>D===x.target),P=I+1>=T.length?0:I+1,k=I-1<0?T.length-1:I-1;x.nativeEvent.code==="ArrowDown"&&(T[P].focus(),T[P].click()),x.nativeEvent.code==="ArrowUp"&&(T[k].focus(),T[k].click()),x.nativeEvent.code==="ArrowLeft"&&(T[v==="ltr"?k:P].focus(),T[v==="ltr"?k:P].click()),x.nativeEvent.code==="ArrowRight"&&(T[v==="ltr"?P:k].focus(),T[v==="ltr"?P:k].click())}};return b.jsx(yZe,{value:{checked:w},children:b.jsx(xs,{ref:t,mod:[{"with-border":d,checked:w},c],...y("card"),...g,role:"radio","aria-checked":w,name:E,onClick:x=>{h==null||h(x),_==null||_.onChange(f||"")},onKeyDown:S})})});ZK.displayName="@mantine/core/RadioCard";ZK.classes=Gxe;const wZe={},eX=Le((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:l,readOnly:u,...c}=xe("RadioGroup",wZe,e),d=ta(l),[f,h]=Xi({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&h(typeof m=="string"?m:m.currentTarget.value);return b.jsx(gZe,{value:{value:f,onChange:p,size:s,name:d},children:b.jsx(Kr.Wrapper,{size:s,ref:t,...o,...c,labelElement:"div",__staticSelector:"RadioGroup",children:b.jsx(xK,{role:"radiogroup",children:a})})})});eX.classes=Kr.Wrapper.classes;eX.displayName="@mantine/core/RadioGroup";function Yxe({size:e,style:t,...n}){return b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ce(e),height:Ce(e),...t},"aria-hidden":!0,...n,children:b.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var Kxe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const EZe={icon:Yxe},xZe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=kf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":Jt(r,"radio-size"),"--radio-radius":t===void 0?void 0:Mr(t),"--radio-color":s==="outline"?l:Yr(n,e),"--radio-icon-size":Jt(r,"radio-icon-size"),"--radio-icon-color":i?Yr(i,e):Ky(o,e)?fp({color:n,theme:e,autoContrast:o}):void 0}}},tX=Le((e,t)=>{const n=xe("RadioIndicator",EZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,_=u,w=vt({name:"RadioIndicator",classes:Kxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:xZe,rootSelector:"indicator"}),E=vZe(),S=typeof p=="boolean"?p:(E==null?void 0:E.checked)||!1;return b.jsx(be,{ref:t,...w("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:y},m],...v,children:b.jsx(_,{...w("icon")})})});tX.displayName="@mantine/core/RadioIndicator";tX.classes=Kxe;var Xxe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const SZe={labelPosition:"right"},TZe=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=kf({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":Jt(t,"radio-size"),"--radio-radius":n===void 0?void 0:Mr(n),"--radio-color":s==="outline"?l:Yr(r,e),"--radio-icon-color":i?Yr(i,e):Ky(o,e)?fp({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":Jt(t,"radio-icon-size")}}},ay=Le((e,t)=>{const n=xe("Radio",SZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:_,icon:w=Yxe,rootRef:E,iconColor:S,onChange:x,mod:T,...I}=n,P=vt({name:"Radio",classes:Xxe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:TZe}),k=Wxe(),D=(k==null?void 0:k.size)??c,R=n.size?c:D,{styleProps:M,rest:$}=Wb(I),L=ta(u),B=k?{checked:k.value===$.value,name:$.name??k.name,onChange:z=>{k.onChange(z),x==null||x(z)}}:{};return b.jsx(SF,{...P("root"),__staticSelector:"Radio",__stylesApiProps:n,id:L,size:R,labelPosition:f,label:d,description:h,error:p,disabled:v,classNames:r,styles:o,unstyled:a,"data-checked":B.checked||void 0,variant:y,ref:E,mod:T,...M,..._,children:b.jsxs(be,{...P("inner"),mod:{"label-position":f},children:[b.jsx(be,{...P("radio",{focusable:!0,variant:y}),onChange:x,...$,...B,component:"input",mod:{error:!!p},ref:t,id:L,disabled:v,type:"radio"}),b.jsx(w,{...P("icon"),"aria-hidden":!0})]})})});ay.classes=Xxe;ay.displayName="@mantine/core/Radio";ay.Group=eX;ay.Card=ZK;ay.Indicator=tX;const CZe={duration:100,transition:"fade"};function AZe(e,t){return{...CZe,...t,...e}}function IZe({offset:e,position:t,defaultOpened:n}){const[r,i]=A.useState(n),s=A.useRef(),{x:o,y:a,elements:l,refs:u,update:c,placement:d}=UY({placement:t,middleware:[FY({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=A.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[l.reference]);return A.useEffect(()=>{if(u.floating.current){const m=s.current;m.addEventListener("mousemove",p);const g=Em(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:u.setFloating}}var QF={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const RZe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:cd("popover")},kZe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Mr(t),"--tooltip-bg":n?Yr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),nX=Le((e,t)=>{const n=xe("TooltipFloating",RZe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,defaultOpened:_,variant:w,vars:E,portalProps:S,...x}=n,T=Is(),I=vt({name:"TooltipFloating",props:n,classes:QF,className:a,style:o,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:E,varsResolver:kZe}),{handleMouseMove:P,x:k,y:D,opened:R,boundaryRef:M,floating:$,setOpened:L}=IZe({offset:p,position:m,defaultOpened:_});if(!Gy(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const B=ps(M,r.ref,t),z=N=>{var V,W;(W=(V=r.props).onMouseEnter)==null||W.call(V,N),P(N),L(!0)},U=N=>{var V,W;(W=(V=r.props).onMouseLeave)==null||W.call(V,N),L(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(PR,{...S,withinPortal:s,children:b.jsx(be,{...x,...I("tooltip",{style:{...TY(o,T),zIndex:y,display:!v&&R?"block":"none",top:(D&&Math.round(D))??"",left:(k&&Math.round(k))??""}}),variant:w,ref:$,mod:{multiline:g},children:h})}),A.cloneElement(r,{...r.props,[i]:B,onMouseEnter:z,onMouseLeave:U})]})});nX.classes=QF;nX.displayName="@mantine/core/TooltipFloating";const Qxe=A.createContext(!1),PZe=Qxe.Provider,NZe=()=>A.useContext(Qxe),OZe={openDelay:0,closeDelay:0};function Jxe(e){const{openDelay:t,closeDelay:n,children:r}=xe("TooltipGroup",OZe,e);return b.jsx(PZe,{value:!0,children:b.jsx(JGe,{delay:{open:t,close:n},children:r})})}Jxe.displayName="@mantine/core/TooltipGroup";function DZe(e){var S,x,T;const[t,n]=A.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,s=NZe(),o=ta(),{delay:a,currentId:l,setCurrentId:u}=CEe(),c=A.useCallback(I=>{n(I),I&&u(o)},[u,o]),{x:d,y:f,context:h,refs:p,update:m,placement:g,middlewareData:{arrow:{x:y,y:v}={}}}=UY({strategy:e.strategy,placement:e.position,open:i,onOpenChange:c,middleware:[wEe(e.offset),FY({padding:8}),CU(),EEe({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[AU()]:[]]}),{getReferenceProps:_,getFloatingProps:w}=sYe([QGe(h,{enabled:(S=e.events)==null?void 0:S.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((x=e.events)!=null&&x.touch)}),iYe(h,{enabled:(T=e.events)==null?void 0:T.focus,visibleOnly:!0}),aYe(h,{role:"tooltip"}),nYe(h,{enabled:typeof e.opened>"u"}),ZGe(h,{id:o})]);OEe({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:p,update:m}}),Ju(()=>{var I;(I=e.onPositionChange)==null||I.call(e,g)},[g]);const E=i&&l&&l!==o;return{x:d,y:f,arrowX:y,arrowY:v,reference:p.setReference,floating:p.setFloating,getFloatingProps:w,getReferenceProps:_,isGroupPhase:E,opened:i,placement:g}}const hue={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:cd("popover"),positionDependencies:[]},MZe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Mr(t),"--tooltip-bg":n?Yr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),dn=Le((e,t)=>{const n=xe("Tooltip",hue,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:y,style:v,className:_,withArrow:w,arrowSize:E,arrowOffset:S,arrowRadius:x,arrowPosition:T,offset:I,transitionProps:P,multiline:k,events:D,zIndex:R,disabled:M,positionDependencies:$,onClick:L,onMouseEnter:B,onMouseLeave:z,inline:U,variant:N,keepMounted:V,vars:W,portalProps:F,mod:H,floatingStrategy:G,...X}=xe("Tooltip",hue,n),{dir:ie}=El(),oe=A.useRef(null),se=DZe({position:AEe(ie,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:D,arrowRef:oe,arrowOffset:S,offset:typeof I=="number"?I+(w?E/2:0):I,positionDependencies:[...$,r],inline:U,strategy:G}),le=vt({name:"Tooltip",props:n,classes:QF,className:_,style:v,classNames:m,styles:g,unstyled:y,rootSelector:"tooltip",vars:W,varsResolver:MZe});if(!Gy(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Se=ps(se.reference,r.ref,t),de=AZe(P,{duration:100,transition:"fade"});return b.jsxs(b.Fragment,{children:[b.jsx(PR,{...F,withinPortal:f,children:b.jsx(Pf,{...de,keepMounted:V,mounted:!M&&!!se.opened,duration:se.isGroupPhase?10:de.duration,children:De=>b.jsxs(be,{...X,variant:N,mod:[{multiline:k},H],...se.getFloatingProps({ref:se.floating,className:le("tooltip").className,style:{...le("tooltip").style,...De,zIndex:R,top:se.y??0,left:se.x??0}}),children:[o,b.jsx(VY,{ref:oe,arrowX:se.arrowX,arrowY:se.arrowY,visible:w,position:se.placement,arrowSize:E,arrowOffset:S,arrowRadius:x,arrowPosition:T,...le("arrow")})]})})}),A.cloneElement(r,se.getReferenceProps({onClick:L,onMouseEnter:B,onMouseLeave:z,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:Se,className:yt(_,r.props.className),...r.props}))]})});dn.classes=QF;dn.displayName="@mantine/core/Tooltip";dn.Floating=nX;dn.Group=Jxe;var Zxe={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const $Ze={withItemsBorders:!0},LZe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":t===void 0?void 0:Mr(t),"--sc-color":n?Yr(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":Jt(i,"sc-padding"),"--sc-font-size":Js(i)}}),rX=Le((e,t)=>{var X,ie;const n=xe("SegmentedControl",$Ze,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,data:u,value:c,defaultValue:d,onChange:f,size:h,name:p,disabled:m,readOnly:g,fullWidth:y,orientation:v,radius:_,color:w,transitionDuration:E,transitionTimingFunction:S,variant:x,autoContrast:T,withItemsBorders:I,mod:P,...k}=n,D=vt({name:"SegmentedControl",props:n,classes:Zxe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:LZe}),R=Is(),M=u.map(oe=>typeof oe=="string"?{label:oe,value:oe}:oe),$=oqe(),[L,B]=A.useState(null),[z,U]=A.useState({}),N=(oe,se)=>{z[se]=oe,U(z)},[V,W]=Xi({value:c,defaultValue:d,finalValue:Array.isArray(u)?((X=M.find(oe=>!oe.disabled))==null?void 0:X.value)??((ie=u[0])==null?void 0:ie.value)??null:null,onChange:f}),F=ta(p),H=M.map(oe=>A.createElement(be,{...D("control"),mod:{active:V===oe.value,orientation:v},key:oe.value},A.createElement("input",{...D("input"),disabled:m||oe.disabled,type:"radio",name:F,value:oe.value,id:`${F}-${oe.value}`,checked:V===oe.value,onChange:()=>!g&&W(oe.value),"data-focus-ring":R.focusRing,key:`${oe.value}-input`}),A.createElement(be,{component:"label",...D("label"),mod:{active:V===oe.value&&!(m||oe.disabled),disabled:m||oe.disabled,"read-only":g},htmlFor:`${F}-${oe.value}`,ref:se=>N(se,oe.value),__vars:{"--sc-label-color":w!==void 0?fp({color:w,theme:R,autoContrast:T}):void 0},key:`${oe.value}-label`},b.jsx("span",{...D("innerLabel"),children:oe.label})))),G=ps(t,oe=>B(oe));return u.length===0?null:b.jsxs(be,{...D("root"),variant:x,size:h,ref:G,mod:[{"full-width":y,orientation:v,initialized:$,"with-items-borders":I},P],...k,role:"radiogroup",children:[typeof V=="string"&&b.jsx(eK,{target:z[V],parent:L,component:"span",transitionDuration:"var(--sc-transition-duration)",...D("indicator")}),H]})});rX.classes=Zxe;rX.displayName="@mantine/core/SegmentedControl";const FZe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},nu=Le((e,t)=>{const n=xe("Select",FZe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:_,comboboxProps:w,readOnly:E,disabled:S,filter:x,limit:T,withScrollArea:I,maxDropdownHeight:P,size:k,searchable:D,rightSection:R,checkIconPosition:M,withCheckIcon:$,nothingFoundMessage:L,name:B,form:z,searchValue:U,defaultSearchValue:N,onSearchChange:V,allowDeselect:W,error:F,rightSectionPointerEvents:H,id:G,clearable:X,clearButtonProps:ie,hiddenInputProps:oe,renderOption:se,onClear:le,autoComplete:Se,scrollAreaProps:de,...De}=n,Fe=A.useMemo(()=>dK(m),[m]),Be=A.useMemo(()=>xF(Fe),[Fe]),je=ta(G),[me,ne,Ee]=Xi({value:g,defaultValue:y,finalValue:null,onChange:p}),Pe=typeof me=="string"?Be[me]:void 0,Je=iqe(Pe),[qe,_e]=Xi({value:U,defaultValue:N,finalValue:Pe?Pe.label:"",onChange:V}),Qe=$R({opened:a,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),Qe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),Qe.resetSelectedOption()}}),{resolvedClassNames:pt,resolvedStyles:ye}=hp({props:n,styles:i,classNames:r});A.useEffect(()=>{v&&Qe.selectFirstOption()},[v,me]),A.useEffect(()=>{g===null&&_e(""),typeof g=="string"&&Pe&&((Je==null?void 0:Je.value)!==Pe.value||(Je==null?void 0:Je.label)!==Pe.label)&&_e(Pe.label)},[g,Pe]);const ke=X&&!!me&&!S&&!E&&b.jsx(sn.ClearButton,{size:k,...ie,onClear:()=>{ne(null,null),_e(""),le==null||le()}});return b.jsxs(b.Fragment,{children:[b.jsxs(sn,{store:Qe,__staticSelector:"Select",classNames:pt,styles:ye,unstyled:s,readOnly:E,onOptionSubmit:Ge=>{_==null||_(Ge);const Ke=W&&Be[Ge].value===me?null:Be[Ge],xt=Ke?Ke.value:null;xt!==me&&ne(xt,Ke),!Ee&&_e(typeof xt=="string"&&(Ke==null?void 0:Ke.label)||""),Qe.closeDropdown()},size:k,...w,children:[b.jsx(sn.Target,{targetType:D?"input":"button",autoComplete:Se,children:b.jsx(_u,{id:je,ref:t,rightSection:R||ke||b.jsx(sn.Chevron,{size:k,error:F,unstyled:s}),rightSectionPointerEvents:H||(ke?"all":"none"),...De,size:k,__staticSelector:"Select",disabled:S,readOnly:E||!D,value:qe,onChange:Ge=>{_e(Ge.currentTarget.value),Qe.openDropdown(),v&&Qe.selectFirstOption()},onFocus:Ge=>{D&&Qe.openDropdown(),d==null||d(Ge)},onBlur:Ge=>{var Ke;D&&Qe.closeDropdown(),_e(me!=null&&((Ke=Be[me])==null?void 0:Ke.label)||""),f==null||f(Ge)},onClick:Ge=>{D?Qe.openDropdown():Qe.toggleDropdown(),h==null||h(Ge)},classNames:pt,styles:ye,unstyled:s,pointer:!D,error:F})}),b.jsx(CK,{data:Fe,hidden:E||S,filter:x,search:qe,limit:T,hiddenWhenEmpty:!L,withScrollArea:I,maxDropdownHeight:P,filterOptions:D&&(Pe==null?void 0:Pe.label)!==qe,value:me,checkIconPosition:M,withCheckIcon:$,nothingFoundMessage:L,unstyled:s,labelId:De.label?`${je}-label`:void 0,"aria-label":De.label?void 0:De["aria-label"],renderOption:se,scrollAreaProps:de})]}),b.jsx(sn.HiddenInput,{value:me,name:B,form:z,disabled:S,...oe})]})});nu.classes={..._u.classes,...sn.classes};nu.displayName="@mantine/core/Select";var eSe={root:"m_18320242","skeleton-fade":"m_299c329c"};const jZe={visible:!0,animate:!0},BZe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Ce(n),"--skeleton-width":Ce(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:Mr(r)}}),iX=Le((e,t)=>{const n=xe("Skeleton",jZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:p,mod:m,...g}=n,y=vt({name:"Skeleton",classes:eSe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:BZe});return b.jsx(be,{ref:t,...y("root"),mod:[{visible:f,animate:p},m],...g})});iX.classes=eSe;iX.displayName="@mantine/core/Skeleton";const[tSe,JF]=io("SliderProvider was not found in tree"),sX=A.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:l}=JF();return b.jsx(be,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...o})});sX.displayName="@mantine/core/SliderRoot";const UM=A.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=JF(),[_,w]=A.useState(!1),E=u||s||_||h&&p;return b.jsxs(be,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:s,disabled:g},onFocus:()=>{w(!0),typeof d=="function"&&d()},onBlur:()=>{w(!1),typeof f=="function"&&f()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,b.jsx(Pf,{mounted:i!=null&&!!E,transition:"fade",duration:0,...l,children:S=>b.jsx("div",{...v("label",{style:S}),children:i})})]})});UM.displayName="@mantine/core/SliderThumb";function VM({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function zZe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function nSe({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=JF();if(!e)return null;const l=e.map((u,c)=>A.createElement(be,{...a("markWrapper"),__vars:{"--mark-offset":`${VM({value:u.value,min:t,max:n})}%`},key:c},b.jsx(be,{...a("mark"),mod:{filled:zZe({mark:u,value:i,offset:s,inverted:o}),disabled:r}}),u.label&&b.jsx("div",{...a("markLabel"),children:u.label})));return b.jsx("div",{children:l})}nSe.displayName="@mantine/core/SliderMarks";function oX({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:l}=JF();return b.jsx(b.Fragment,{children:b.jsx(be,{...l("trackContainer"),mod:{disabled:r},...o,children:b.jsxs(be,{...l("track"),mod:{inverted:s,disabled:r},children:[b.jsx(be,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,b.jsx(nSe,{...a,offset:i,disabled:r,inverted:s})]})})})}oX.displayName="@mantine/core/SliderTrack";function DU({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return s!==void 0?Number(u.toFixed(s)):u}function Sc(e,t){return parseFloat(e.toFixed(t))}function rSe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var ZF={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const UZe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},VZe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Jt(t,"slider-size"),"--slider-color":n?Yr(n,e):void 0,"--slider-radius":i===void 0?void 0:Mr(i),"--slider-thumb-size":r!==void 0?Ce(r):"calc(var(--slider-size) * 2)"}}),e6=Le((e,t)=>{const n=xe("Slider",UZe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:_,showLabelOnHover:w,thumbChildren:E,disabled:S,unstyled:x,scale:T,inverted:I,className:P,style:k,vars:D,hiddenInputProps:R,...M}=n,$=vt({name:"Slider",props:n,classes:ZF,classNames:r,className:P,styles:i,style:k,vars:D,varsResolver:VZe,unstyled:x}),{dir:L}=El(),[B,z]=A.useState(!1),[U,N]=Xi({value:typeof s=="number"?$c(s,u,c):s,defaultValue:typeof h=="number"?$c(h,u,c):h,finalValue:$c(0,u,c),onChange:o}),V=A.useRef(U),W=A.useRef(),F=A.useRef(),H=VM({value:U,min:u,max:c}),G=T(U),X=typeof g=="function"?g(G):g,ie=f??rSe(d),oe=A.useCallback(({x:de})=>{if(!S){const De=DU({value:de,min:u,max:c,step:d,precision:ie});N(De),V.current=De}},[S,u,c,d,ie,N]),{ref:se,active:le}=cF(oe,{onScrubEnd:()=>a==null?void 0:a(V.current)},L),Se=de=>{var De,Fe,Be,je,me,ne;if(!S)switch(de.key){case"ArrowUp":{de.preventDefault(),(De=F.current)==null||De.focus();const Ee=Sc(Math.min(Math.max(U+d,u),c),ie);N(Ee),a==null||a(Ee);break}case"ArrowRight":{de.preventDefault(),(Fe=F.current)==null||Fe.focus();const Ee=Sc(Math.min(Math.max(L==="rtl"?U-d:U+d,u),c),ie);N(Ee),a==null||a(Ee);break}case"ArrowDown":{de.preventDefault(),(Be=F.current)==null||Be.focus();const Ee=Sc(Math.min(Math.max(U-d,u),c),ie);N(Ee),a==null||a(Ee);break}case"ArrowLeft":{de.preventDefault(),(je=F.current)==null||je.focus();const Ee=Sc(Math.min(Math.max(L==="rtl"?U+d:U-d,u),c),ie);N(Ee),a==null||a(Ee);break}case"Home":{de.preventDefault(),(me=F.current)==null||me.focus(),N(u),a==null||a(u);break}case"End":{de.preventDefault(),(ne=F.current)==null||ne.focus(),N(c),a==null||a(c);break}}};return b.jsx(tSe,{value:{getStyles:$},children:b.jsxs(sX,{...M,ref:ps(t,W),onKeyDownCapture:Se,onMouseDownCapture:()=>{var de;return(de=W.current)==null?void 0:de.focus()},size:l,disabled:S,children:[b.jsx(oX,{inverted:I,offset:0,filled:H,marks:m,min:u,max:c,value:G,disabled:S,containerProps:{ref:se,onMouseEnter:w?()=>z(!0):void 0,onMouseLeave:w?()=>z(!1):void 0},children:b.jsx(UM,{max:c,min:u,value:G,position:H,dragging:le,label:X,ref:F,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:_,showLabelOnHover:w,isHovered:B,disabled:S,children:E})}),b.jsx("input",{type:"hidden",name:p,value:G,...R})]})})});e6.classes=ZF;e6.displayName="@mantine/core/Slider";function HZe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const qZe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Jt(t,"slider-size"),"--slider-color":n?Yr(n,e):void 0,"--slider-radius":i===void 0?void 0:Mr(i),"--slider-thumb-size":r!==void 0?Ce(r):"calc(var(--slider-size) * 2)"}}),WZe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},JA=Le((e,t)=>{const n=xe("RangeSlider",WZe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:p,defaultValue:m,name:g,marks:y,label:v,labelTransitionProps:_,labelAlwaysOn:w,thumbFromLabel:E,thumbToLabel:S,showLabelOnHover:x,thumbChildren:T,disabled:I,unstyled:P,scale:k,inverted:D,className:R,style:M,vars:$,hiddenInputProps:L,...B}=n,z=vt({name:"Slider",props:n,classes:ZF,classNames:r,className:R,styles:i,style:M,vars:$,varsResolver:qZe,unstyled:P}),{dir:U}=El(),[N,V]=A.useState(-1),[W,F]=A.useState(!1),[H,G]=Xi({value:s,defaultValue:m,finalValue:[u,c],onChange:o}),X=A.useRef(H),ie=A.useRef([]),oe=A.useRef(void 0),se=[VM({value:H[0],min:u,max:c}),VM({value:H[1],min:u,max:c})],le=p??rSe(h),Se=qe=>{G(qe),X.current=qe};A.useEffect(()=>{Array.isArray(s)&&(X.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const de=(qe,_e,Qe)=>{const pt=[...X.current];pt[_e]=qe,_e===0&&(qe>pt[1]-(d-1e-9)&&(pt[1]=Math.min(qe+d,c)),qe>(c-(d-1e-9)||u)&&(pt[_e]=X.current[_e]),pt[1]-qe>f&&(pt[1]=qe+f)),_e===1&&(qe<pt[0]+d&&(pt[0]=Math.max(qe-d,u)),qe<pt[0]+d&&(pt[_e]=X.current[_e]),qe-pt[0]>f&&(pt[0]=qe-f)),pt[0]=Sc(pt[0],le),pt[1]=Sc(pt[1],le),Se(pt),Qe&&(a==null||a(X.current))},De=qe=>{if(!I){const _e=DU({value:qe,min:u,max:c,step:h,precision:le});de(_e,oe.current,!1)}},{ref:Fe,active:Be}=cF(({x:qe})=>De(qe),{onScrubEnd:()=>a==null?void 0:a(X.current)},U);function je(qe){oe.current=qe}const me=qe=>{Fe.current.focus();const _e=Fe.current.getBoundingClientRect(),Qe=HZe(qe.nativeEvent),pt=DU({value:Qe-_e.left,max:c,min:u,step:h,containerWidth:_e.width}),ye=Math.abs(H[0]-pt)>Math.abs(H[1]-pt)?1:0,ke=U==="ltr"?ye:ye===1?0:1;oe.current=ke},ne=()=>N!==1&&N!==0?(V(0),0):N,Ee=qe=>{if(!I)switch(qe.key){case"ArrowUp":{qe.preventDefault();const _e=ne();ie.current[_e].focus(),de(Sc(Math.min(Math.max(X.current[_e]+h,u),c),le),_e,!0);break}case"ArrowRight":{qe.preventDefault();const _e=ne();ie.current[_e].focus(),de(Sc(Math.min(Math.max(U==="rtl"?X.current[_e]-h:X.current[_e]+h,u),c),le),_e,!0);break}case"ArrowDown":{qe.preventDefault();const _e=ne();ie.current[_e].focus(),de(Sc(Math.min(Math.max(X.current[_e]-h,u),c),le),_e,!0);break}case"ArrowLeft":{qe.preventDefault();const _e=ne();ie.current[_e].focus(),de(Sc(Math.min(Math.max(U==="rtl"?X.current[_e]+h:X.current[_e]-h,u),c),le),_e,!0);break}}},Pe={max:c,min:u,size:l,labelTransitionProps:_,labelAlwaysOn:w,onBlur:()=>V(-1)},Je=Array.isArray(T);return b.jsx(tSe,{value:{getStyles:z},children:b.jsxs(sX,{...B,size:l,ref:t,disabled:I,children:[b.jsxs(oX,{offset:se[0],marksOffset:H[0],filled:se[1]-se[0],marks:y,inverted:D,min:u,max:c,value:H[1],disabled:I,containerProps:{ref:Fe,onMouseEnter:x?()=>F(!0):void 0,onMouseLeave:x?()=>F(!1):void 0,onTouchStartCapture:me,onTouchEndCapture:()=>{oe.current=-1},onMouseDownCapture:me,onMouseUpCapture:()=>{oe.current=-1},onKeyDownCapture:Ee},children:[b.jsx(UM,{...Pe,value:k(H[0]),position:se[0],dragging:Be,label:typeof v=="function"?v(Sc(k(H[0]),le)):v,ref:qe=>{ie.current[0]=qe},thumbLabel:E,onMouseDown:()=>je(0),onFocus:()=>V(0),showLabelOnHover:x,isHovered:W,disabled:I,children:Je?T[0]:T}),b.jsx(UM,{...Pe,thumbLabel:S,value:k(H[1]),position:se[1],dragging:Be,label:typeof v=="function"?v(Sc(k(H[1]),le)):v,ref:qe=>{ie.current[1]=qe},onMouseDown:()=>je(1),onFocus:()=>V(1),showLabelOnHover:x,isHovered:W,disabled:I,children:Je?T[1]:T})]}),b.jsx("input",{type:"hidden",name:`${g}_from`,value:H[0],...L}),b.jsx("input",{type:"hidden",name:`${g}_to`,value:H[1],...L})]})})});JA.classes=ZF;JA.displayName="@mantine/core/RangeSlider";const GZe={},qc=Le((e,t)=>{const{w:n,h:r,miw:i,mih:s,...o}=xe("Space",GZe,e);return b.jsx(be,{ref:t,...o,w:n,miw:i??n,h:r,mih:s??r})});qc.displayName="@mantine/core/Space";var iSe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const YZe={maxHeight:100,initialState:!1},KZe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),aX=Le((e,t)=>{const n=xe("Spoiler",YZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:p,transitionDuration:m,id:g,expanded:y,onExpandedChange:v,..._}=n,w=vt({name:"Spoiler",classes:iSe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:KZe}),E=ta(g),S=`${E}-region`,[x,T]=Xi({value:y,defaultValue:u,finalValue:!1,onChange:v}),{ref:I,height:P}=tqe(),k=x?d:f,D=k!==null&&c<P;return b.jsxs(be,{...w("root"),id:E,ref:t,"data-has-spoiler":D||void 0,..._,children:[D&&b.jsx(Qy,{component:"button",type:"button",ref:p,onClick:()=>T(!x),"aria-expanded":x,"aria-controls":S,...w("control"),children:k}),b.jsx("div",{...w("content",{style:{maxHeight:x?P?Ce(P):void 0:Ce(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:b.jsx("div",{ref:I,children:h})})]})});aX.classes=iSe;aX.displayName="@mantine/core/Spoiler";var sSe={root:"m_6d731127"};const XZe={gap:"md",align:"stretch",justify:"flex-start"},QZe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Qu(t),"--stack-align":n,"--stack-justify":r}}),Jr=Le((e,t)=>{const n=xe("Stack",XZe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,p=vt({name:"Stack",props:n,classes:sSe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:QZe});return b.jsx(be,{ref:t,...p("root"),variant:f,...h})});Jr.classes=sSe;Jr.displayName="@mantine/core/Stack";const oSe=A.createContext(null),JZe=oSe.Provider,ZZe=()=>A.useContext(oSe),eet={},lX=Le((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=xe("SwitchGroup",eet,e),[c,d]=Xi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return b.jsx(JZe,{value:{value:c,onChange:f,size:s},children:b.jsx(Kr.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:b.jsx(xK,{role:"group",children:a})})})});lX.classes=Kr.Wrapper.classes;lX.displayName="@mantine/core/SwitchGroup";var aSe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const tet={labelPosition:"right"},net=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Mr(t),"--switch-height":Jt(r,"switch-height"),"--switch-width":Jt(r,"switch-width"),"--switch-thumb-size":Jt(r,"switch-thumb-size"),"--switch-label-font-size":Jt(r,"switch-label-font-size"),"--switch-track-label-padding":Jt(r,"switch-track-label-padding"),"--switch-color":n?Yr(n,e):void 0}}),z0=Le((e,t)=>{const n=xe("Switch",tet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:p,radius:m,wrapperProps:g,children:y,thumbIcon:v,checked:_,defaultChecked:w,onChange:E,labelPosition:S,description:x,error:T,disabled:I,variant:P,rootRef:k,mod:D,...R}=n,M=ZZe(),$=p||(M==null?void 0:M.size),L=vt({name:"Switch",props:n,classes:aSe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:net}),{styleProps:B,rest:z}=Wb(R),U=ta(h),N=M?{checked:M.value.includes(z.value),onChange:M.onChange}:{},[V,W]=Xi({value:N.checked??_,defaultValue:w,finalValue:!1});return b.jsxs(SF,{...L("root"),__staticSelector:"Switch",__stylesApiProps:n,id:U,size:$,labelPosition:S,label:c,description:x,error:T,disabled:I,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":N.checked||void 0,variant:P,ref:k,mod:D,...B,...g,children:[b.jsx("input",{...z,disabled:I,checked:V,onChange:F=>{var H;M?(H=N.onChange)==null||H.call(N,F):E==null||E(F),W(F.currentTarget.checked)},id:U,ref:t,type:"checkbox",role:"switch",...L("input")}),b.jsxs(be,{"aria-hidden":"true",mod:{error:T,"label-position":S},...L("track"),children:[b.jsx(be,{component:"span",mod:"reduce-motion",...L("thumb"),children:v}),b.jsx("span",{...L("trackLabel"),children:V?f:d})]})]})});z0.classes={...aSe,...txe};z0.displayName="@mantine/core/Switch";z0.Group=lX;const[ret,iet]=io("Table component was not found in the tree");var UR={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function set(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function Xb(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=Le((i,s)=>{const o=xe(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=o,f=iet();return b.jsx(be,{component:e,ref:s,...set(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:o}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=UR,r}const HE=Xb("th",{columnBorder:!0}),t6=Xb("td",{columnBorder:!0}),Sm=Xb("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),uX=Xb("thead",{stickyHeader:!0}),$2=Xb("tbody"),cX=Xb("tfoot"),lSe=Xb("caption",{captionSide:!0});function dX({data:e}){return b.jsxs(b.Fragment,{children:[e.caption&&b.jsx(lSe,{children:e.caption}),e.head&&b.jsx(uX,{children:b.jsx(Sm,{children:e.head.map((t,n)=>b.jsx(HE,{children:t},n))})}),e.body&&b.jsx($2,{children:e.body.map((t,n)=>b.jsx(Sm,{children:t.map((r,i)=>b.jsx(t6,{children:r},i))},n))}),e.foot&&b.jsx(cX,{children:b.jsx(Sm,{children:e.foot.map((t,n)=>b.jsx(HE,{children:t},n))})})]})}dX.displayName="@mantine/core/TableDataRenderer";const oet={type:"scrollarea"},aet=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":Ce(t),"--table-overflow":n==="native"?"auto":void 0}}),fX=Le((e,t)=>{const n=xe("TableScrollContainer",oet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,minWidth:c,type:d,...f}=n,h=vt({name:"TableScrollContainer",classes:UR,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:aet,rootSelector:"scrollContainer"});return b.jsx(be,{component:d==="scrollarea"?rS:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...f,children:b.jsx("div",{...h("scrollContainerInner"),children:u})})});fX.classes=UR;fX.displayName="@mantine/core/TableScrollContainer";const uet={withRowBorders:!0,verticalSpacing:7},cet=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Qu(r),"--table-vertical-spacing":Qu(i),"--table-border-color":s?Yr(s,e):void 0,"--table-striped-color":l&&o?Yr(o,e):void 0,"--table-highlight-on-hover-color":u&&a?Yr(a,e):void 0,"--table-sticky-header-offset":d?Ce(c):void 0}}),or=Le((e,t)=>{const n=xe("Table",uet,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:_,layout:w,variant:E,data:S,children:x,stickyHeader:T,stickyHeaderOffset:I,mod:P,...k}=n,D=vt({name:"Table",props:n,className:i,style:s,classes:UR,classNames:r,styles:o,unstyled:a,rootSelector:"table",vars:l,varsResolver:cet});return b.jsx(ret,{value:{getStyles:D,stickyHeader:T,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:d||"bottom"},children:b.jsx(be,{component:"table",variant:E,ref:t,mod:[{"data-with-table-border":v},P],...D("table"),...k,children:x||!!S&&b.jsx(dX,{data:S})})})});or.classes=UR;or.displayName="@mantine/core/Table";or.Td=t6;or.Th=HE;or.Tr=Sm;or.Thead=uX;or.Tbody=$2;or.Tfoot=cX;or.Caption=lSe;or.ScrollContainer=fX;or.DataRenderer=dX;const[det,hX]=io("Tabs component was not found in the tree");var VR={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const fet={},pX=Le((e,t)=>{const n=xe("TabsList",fet,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:u,mod:c,...d}=n,f=hX();return b.jsx(be,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:r})});pX.classes=VR;pX.displayName="@mantine/core/TabsList";const het={},mX=Le((e,t)=>{const n=xe("TabsPanel",het,e),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:u,...c}=n,d=hX(),f=d.value===s,h=d.keepMounted||n.keepMounted||f?r:null;return b.jsx(be,{...c,...d.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,f?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:d.orientation},u],role:"tabpanel",id:d.getPanelId(s),"aria-labelledby":d.getTabId(s),children:h})});mX.classes=VR;mX.displayName="@mantine/core/TabsPanel";const pet={},gX=Le((e,t)=>{const n=xe("TabsTab",pet,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:m,mod:g,...y}=n,v=Is(),{dir:_}=El(),w=hX(),E=a===w.value,S=T=>{w.onChange(w.allowTabDeactivation&&a===w.value?null:a),l==null||l(T)},x={classNames:h,styles:p,props:n};return b.jsxs(xs,{...y,...w.getStyles("tab",{className:r,style:f,variant:w.variant,...x}),disabled:c,unstyled:w.unstyled,variant:w.variant,mod:[{active:E,disabled:c,orientation:w.orientation,inverted:w.inverted,placement:w.orientation==="vertical"&&w.placement},g],ref:t,role:"tab",id:w.getTabId(a),"aria-selected":E,tabIndex:E||w.value===null?0:-1,"aria-controls":w.getPanelId(a),onClick:S,__vars:{"--tabs-color":d?Yr(d,v):void 0},onKeyDown:gY({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:w.activateTabWithKeyboard,loop:w.loop,orientation:w.orientation||"horizontal",dir:_,onKeyDown:u}),children:[o&&b.jsx("span",{...w.getStyles("tabSection",x),"data-position":"left",children:o}),i&&b.jsx("span",{...w.getStyles("tabLabel",x),children:i}),s&&b.jsx("span",{...w.getStyles("tabSection",x),"data-position":"right",children:s})]})});gX.classes=VR;gX.displayName="@mantine/core/TabsTab";const pue="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",met={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},get=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Mr(t),"--tabs-color":Yr(n,e),"--tabs-text-color":Ky(r,e)?fp({color:n,theme:e,autoContrast:r}):void 0}}),$o=Le((e,t)=>{const n=xe("Tabs",met,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:_,unstyled:w,className:E,style:S,vars:x,autoContrast:T,mod:I,...P}=n,k=ta(u),[D,R]=Xi({value:i,defaultValue:r,finalValue:null,onChange:s}),M=vt({name:"Tabs",props:n,classes:VR,className:E,style:S,classNames:v,styles:_,unstyled:w,vars:x,varsResolver:get});return b.jsx(det,{value:{placement:g,value:D,orientation:o,id:k,loop:l,activateTabWithKeyboard:c,getTabId:DM(`${k}-tab`,pue),getPanelId:DM(`${k}-panel`,pue),onChange:R,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:y,unstyled:w,getStyles:M},children:b.jsx(be,{ref:t,id:k,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&m,placement:o==="vertical"&&g},I],...M("root"),...P,children:a})})});$o.classes=VR;$o.displayName="@mantine/core/Tabs";$o.Tab=gX;$o.Panel=mX;$o.List=pX;const yet={},sf=Le((e,t)=>{const n=xe("TextInput",yet,e);return b.jsx(_u,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});sf.classes=_u.classes;sf.displayName="@mantine/core/TextInput";const vet=["h1","h2","h3","h4","h5","h6"];function bet(e,t){const n=t!==void 0?t:`h${e}`;return vet.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:Ce(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var uSe={root:"m_8a5d1357"};const _et={order:1},wet=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const s=bet(t,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Ti=Le((e,t)=>{const n=xe("Title",_et,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...m}=n,g=vt({name:"Title",props:n,classes:uSe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:wet});return[1,2,3,4,5,6].includes(l)?b.jsx(be,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...m}):null});Ti.classes=uSe;Ti.displayName="@mantine/core/Title";const cSe=A.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Pi=()=>A.useContext(cSe);function Eet({children:e}){const[t,n]=us.useState(void 0),r=us.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return b.jsx(cSe.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZA.apply(this,arguments)}var b0;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(b0||(b0={}));const mue="popstate";function xet(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return MU("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:HM(i)}return Cet(t,n,null,e)}function Ts(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dSe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Tet(){return Math.random().toString(36).substr(2,8)}function gue(e,t){return{usr:e.state,key:e.key,idx:t}}function MU(e,t,n,r){return n===void 0&&(n=null),ZA({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fS(t):t,{state:n,key:t&&t.key||r||Tet()})}function HM(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fS(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Cet(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=b0.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ZA({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=b0.Pop;let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:y})}function f(g,y){a=b0.Push;let v=MU(m.location,g,y);u=c()+1;let _=gue(v,u),w=m.createHref(v);try{o.pushState(_,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function h(g,y){a=b0.Replace;let v=MU(m.location,g,y);u=c();let _=gue(v,u),w=m.createHref(v);o.replaceState(_,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:HM(g);return v=v.replace(/ $/,"%20"),Ts(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mue,d),l=g,()=>{i.removeEventListener(mue,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(g){return o.go(g)}};return m}var yue;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yue||(yue={}));function Aet(e,t,n){return n===void 0&&(n="/"),Iet(e,t,n,!1)}function Iet(e,t,n,r){let i=typeof t=="string"?fS(t):t,s=yX(i.pathname||"/",n);if(s==null)return null;let o=fSe(e);Ret(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Bet(s);a=Fet(o[l],u,r)}return a}function fSe(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ts(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=U0([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ts(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fSe(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:$et(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of hSe(s.path))i(s,o,l)}),t}function hSe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hSe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ret(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Let(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ket=/^:[\w-]+$/,Pet=3,Net=2,Oet=1,Det=10,Met=-2,vue=e=>e==="*";function $et(e,t){let n=e.split("/"),r=n.length;return n.some(vue)&&(r+=Met),t&&(r+=Net),n.filter(i=>!vue(i)).reduce((i,s)=>i+(ket.test(s)?Pet:s===""?Oet:Det),r)}function Let(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Fet(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=bue({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=bue({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:U0([s,d.pathname]),pathnameBase:Het(U0([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=U0([s,d.pathnameBase]))}return o}function bue(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jet(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function jet(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dSe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Bet(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dSe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yX(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function zet(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fS(e):e;return{pathname:n?n.startsWith("/")?n:Uet(n,t):t,search:qet(r),hash:Wet(i)}}function Uet(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z8(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vet(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vX(e,t){let n=Vet(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bX(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fS(e):(i=ZA({},e),Ts(!i.pathname||!i.pathname.includes("?"),Z8("?","pathname","search",i)),Ts(!i.pathname||!i.pathname.includes("#"),Z8("#","pathname","hash",i)),Ts(!i.search||!i.search.includes("#"),Z8("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=zet(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const U0=e=>e.join("/").replace(/\/\/+/g,"/"),Het=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qet=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wet=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Get(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pSe=["post","put","patch","delete"];new Set(pSe);const Yet=["get",...pSe];new Set(Yet);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eI.apply(this,arguments)}const _X=A.createContext(null),Ket=A.createContext(null),ev=A.createContext(null),n6=A.createContext(null),mp=A.createContext({outlet:null,matches:[],isDataRoute:!1}),mSe=A.createContext(null);function wX(e,t){let{relative:n}=t===void 0?{}:t;hS()||Ts(!1);let{basename:r,navigator:i}=A.useContext(ev),{hash:s,pathname:o,search:a}=ySe(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:U0([r,o])),i.createHref({pathname:l,search:a,hash:s})}function hS(){return A.useContext(n6)!=null}function mg(){return hS()||Ts(!1),A.useContext(n6).location}function gSe(e){A.useContext(ev).static||A.useLayoutEffect(e)}function pd(){let{isDataRoute:e}=A.useContext(mp);return e?utt():Xet()}function Xet(){hS()||Ts(!1);let e=A.useContext(_X),{basename:t,future:n,navigator:r}=A.useContext(ev),{matches:i}=A.useContext(mp),{pathname:s}=mg(),o=JSON.stringify(vX(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return gSe(()=>{a.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=bX(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:U0([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}const Qet=A.createContext(null);function Jet(e){let t=A.useContext(mp).outlet;return t&&A.createElement(Qet.Provider,{value:e},t)}function vf(){let{matches:e}=A.useContext(mp),t=e[e.length-1];return t?t.params:{}}function ySe(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(ev),{matches:i}=A.useContext(mp),{pathname:s}=mg(),o=JSON.stringify(vX(i,r.v7_relativeSplatPath));return A.useMemo(()=>bX(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function vSe(e,t){return Zet(e,t)}function Zet(e,t,n,r){hS()||Ts(!1);let{navigator:i}=A.useContext(ev),{matches:s}=A.useContext(mp),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=mg(),c;if(t){var d;let g=typeof t=="string"?fS(t):t;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||Ts(!1),c=g}else c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=Aet(e,{pathname:h}),m=itt(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:U0([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:U0([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r);return t&&m?A.createElement(n6.Provider,{value:{location:eI({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:b0.Pop}},m):m}function ett(){let e=ltt(),t=Get(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const ttt=A.createElement(ett,null);class ntt extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(mp.Provider,{value:this.props.routeContext},A.createElement(mSe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rtt(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(_X);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(mp.Provider,{value:t},r)}function itt(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Ts(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let h,p=!1,m=null,g=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||ttt,l&&(u<0&&f===0?(p=!0,g=null):u===f&&(p=!0,g=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),v=()=>{let _;return h?_=m:p?_=g:d.route.Component?_=A.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,A.createElement(rtt,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?A.createElement(ntt,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var bSe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bSe||{}),qM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qM||{});function stt(e){let t=A.useContext(_X);return t||Ts(!1),t}function ott(e){let t=A.useContext(Ket);return t||Ts(!1),t}function att(e){let t=A.useContext(mp);return t||Ts(!1),t}function _Se(e){let t=att(),n=t.matches[t.matches.length-1];return n.route.id||Ts(!1),n.route.id}function ltt(){var e;let t=A.useContext(mSe),n=ott(qM.UseRouteError),r=_Se(qM.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function utt(){let{router:e}=stt(bSe.UseNavigateStable),t=_Se(qM.UseNavigateStable),n=A.useRef(!1);return gSe(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,eI({fromRouteId:t},s)))},[e,t])}function EX(e){let{to:t,replace:n,state:r,relative:i}=e;hS()||Ts(!1);let{future:s,static:o}=A.useContext(ev),{matches:a}=A.useContext(mp),{pathname:l}=mg(),u=pd(),c=bX(t,vX(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return A.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function ctt(e){return Jet(e.context)}function Gp(e){Ts(!1)}function dtt(e){let{basename:t="/",children:n=null,location:r,navigationType:i=b0.Pop,navigator:s,static:o=!1,future:a}=e;hS()&&Ts(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:s,static:o,future:eI({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=fS(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=A.useMemo(()=>{let g=yX(c,l);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:i}},[l,c,d,f,h,p,i]);return m==null?null:A.createElement(ev.Provider,{value:u},A.createElement(n6.Provider,{children:n,value:m}))}function ftt(e){let{children:t,location:n}=e;return vSe($U(t),n)}new Promise(()=>{});function $U(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let s=[...t,i];if(r.type===A.Fragment){n.push.apply(n,$U(r.props.children,s));return}r.type!==Gp&&Ts(!1),!r.props.index||!r.props.children||Ts(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$U(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LU(){return LU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LU.apply(this,arguments)}function htt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ptt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mtt(e,t){return e.button===0&&(!t||t==="_self")&&!ptt(e)}function FU(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function gtt(e,t){let n=FU(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const ytt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],vtt="6";try{window.__reactRouterVersion=vtt}catch{}const btt="startTransition",_ue=lM[btt];function _tt(e){let{basename:t,children:n,future:r,window:i}=e,s=A.useRef();s.current==null&&(s.current=xet({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=A.useCallback(d=>{u&&_ue?_ue(()=>l(d)):l(d)},[l,u]);return A.useLayoutEffect(()=>o.listen(c),[o,c]),A.createElement(dtt,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const wtt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ett=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xX=A.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,f=htt(t,ytt),{basename:h}=A.useContext(ev),p,m=!1;if(typeof u=="string"&&Ett.test(u)&&(p=u,wtt))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=yX(w.pathname,h);w.origin===_.origin&&E!=null?u=E+w.search+w.hash:m=!0}catch{}let g=wX(u,{relative:i}),y=xtt(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||y(_)}return A.createElement("a",LU({},f,{href:p||g,onClick:m||s?r:v,ref:n,target:l}))});var wue;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wue||(wue={}));var Eue;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eue||(Eue={}));function xtt(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=pd(),u=mg(),c=ySe(e,{relative:o});return A.useCallback(d=>{if(mtt(d,n)){d.preventDefault();let f=r!==void 0?r:HM(u)===HM(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}function SX(e){let t=A.useRef(FU(e)),n=A.useRef(!1),r=mg(),i=A.useMemo(()=>gtt(r.search,n.current?null:t.current),[r.search]),s=pd(),o=A.useCallback((a,l)=>{const u=FU(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}const TX=A.createContext(null);TX.displayName="@mantine/modals/ModalsContext";function Stt(){const e=A.useContext(TX);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function Ttt({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=Stt(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),s&&f.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof l=="function"&&l(),i&&f.closeModal(e)};return b.jsxs(b.Fragment,{children:[u&&b.jsx(be,{mb:"md",children:u}),b.jsxs(Rn,{mt:u?0:"md",justify:"flex-end",...o,children:[b.jsx(hn,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),b.jsx(hn,{...n,onClick:p,children:(n==null?void 0:n.children)||d})]})]})}const[Ctt,r6]=cqe("mantine-modals");r6("openModal");r6("closeModal");r6("closeAllModals");const jU=r6("openConfirmModal");function xue(e,t){var n,r,i,s;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(s=(i=e.props).onClose)==null||s.call(i)}function Att(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;xue(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{xue(n,t.canceled)}),{current:e.current,modals:[]}):e;default:return e}}function Itt(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function Rtt({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=A.useReducer(Att,{modals:[],current:null}),o=A.useRef(i);o.current=i;const a=A.useCallback(g=>{s({type:"CLOSE_ALL",canceled:g})},[o,s]),l=A.useCallback(({modalId:g,...y})=>{const v=g||D2();return s({type:"OPEN",modal:{id:v,type:"content",props:y}}),v},[s]),u=A.useCallback(({modalId:g,...y})=>{const v=g||D2();return s({type:"OPEN",modal:{id:v,type:"confirm",props:y}}),v},[s]),c=A.useCallback((g,{modalId:y,...v})=>{const _=y||D2();return s({type:"OPEN",modal:{id:_,type:"context",props:v,ctx:g}}),_},[s]),d=A.useCallback((g,y)=>{s({type:"CLOSE",modalId:g,canceled:y})},[o,s]);Ctt({openModal:l,openConfirmModal:u,openContextModal:({modal:g,...y})=>c(g,y),closeModal:d,closeContextModal:d,closeAllModals:a});const f={modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a},h=()=>{const g=o.current.current;switch(g==null?void 0:g.type){case"context":{const{innerProps:y,...v}=g.props,_=r[g.ctx];return{modalProps:v,content:b.jsx(_,{innerProps:y,context:f,id:g.id})}}case"confirm":{const{modalProps:y,confirmProps:v}=Itt(g.props);return{modalProps:y,content:b.jsx(Ttt,{...v,id:g.id,labels:g.props.labels||n})}}case"content":{const{children:y,...v}=g.props;return{modalProps:v,content:b.jsx(b.Fragment,{children:y})}}default:return{modalProps:{},content:null}}},{modalProps:p,content:m}=h();return b.jsxs(TX.Provider,{value:f,children:[b.jsx(Ss,{zIndex:cd("modal")+1,...t,...p,opened:i.modals.length>0,onClose:()=>{var g;return d((g=i.current)==null?void 0:g.id)},children:m}),e]})}/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ktt={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(e,t,n,r)=>{const i=A.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>A.createElement("svg",{ref:f,...ktt[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...d},[l&&A.createElement("title",{key:"svg-title"},l),...r.map(([h,p])=>A.createElement(h,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ptt=$t("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sue=$t("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ntt=$t("outline","arrow-autofit-content","IconArrowAutofitContent",[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tue=$t("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cue=$t("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ott=$t("outline","arrows-sort","IconArrowsSort",[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dtt=$t("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mtt=$t("outline","baseline-density-large","IconBaselineDensityLarge",[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $tt=$t("outline","baseline-density-medium","IconBaselineDensityMedium",[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ltt=$t("outline","baseline-density-small","IconBaselineDensitySmall",[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ftt=$t("outline","box-multiple","IconBoxMultiple",[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jtt=$t("outline","chart-bar","IconChartBar",[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Btt=$t("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ztt=$t("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wSe=$t("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Utt=$t("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vtt=$t("outline","chevron-left-pipe","IconChevronLeftPipe",[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Htt=$t("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qtt=$t("outline","chevron-right-pipe","IconChevronRightPipe",[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wtt=$t("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gtt=$t("outline","chevrons-down","IconChevronsDown",[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ytt=$t("outline","circle-x","IconCircleX",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ktt=$t("outline","clear-all","IconClearAll",[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xtt=$t("outline","columns","IconColumns",[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qtt=$t("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jtt=$t("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ESe=$t("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ztt=$t("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xSe=$t("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ent=$t("outline","eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tnt=$t("outline","file-lambda","IconFileLambda",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M10 17l2 -3",key:"svg-2"}],["path",{d:"M15 17c-2.5 0 -2.5 -6 -5 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nnt=$t("outline","filter-cog","IconFilterCog",[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rnt=$t("outline","filter-off","IconFilterOff",[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var int=$t("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var snt=$t("outline","grip-horizontal","IconGripHorizontal",[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ont=$t("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ant=$t("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lnt=$t("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var unt=$t("outline","maximize","IconMaximize",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cnt=$t("outline","minimize","IconMinimize",[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dnt=$t("outline","pinned-off","IconPinnedOff",[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fnt=$t("outline","pinned","IconPinned",[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aue=$t("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SSe=$t("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TSe=$t("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hnt=$t("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pnt=$t("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mnt=$t("outline","search-off","IconSearchOff",[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CSe=$t("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ASe=$t("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gnt=$t("outline","sort-ascending","IconSortAscending",[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ynt=$t("outline","sort-descending","IconSortDescending",[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vnt=$t("outline","sticker-2","IconSticker2",[["path",{d:"M6 4h12a2 2 0 0 1 2 2v7h-5a2 2 0 0 0 -2 2v5h-7a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M20 13v.172a2 2 0 0 1 -.586 1.414l-4.828 4.828a2 2 0 0 1 -1.414 .586h-.172",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ISe=$t("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bnt=$t("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RSe=$t("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kSe=$t("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i6=$t("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.10.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _nt=$t("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);function PSe(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const gp="/ThinkAloud/";function Iue(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function NSe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wnt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ent=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xnt={};function Rue(e,t){return(xnt.jsx?Ent:wnt).test(e)}const Snt=/[ \t\n\f\r]/g;function Tnt(e){return typeof e=="object"?e.type==="text"?kue(e.value):!1:kue(e)}function kue(e){return e.replace(Snt,"")===""}let HR=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};HR.prototype.property={};HR.prototype.normal={};HR.prototype.space=null;function OSe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new HR(n,r,t)}function tI(e){return e.toLowerCase()}let md=class{constructor(t,n){this.property=t,this.attribute=n}};md.prototype.space=null;md.prototype.boolean=!1;md.prototype.booleanish=!1;md.prototype.overloadedBoolean=!1;md.prototype.number=!1;md.prototype.commaSeparated=!1;md.prototype.spaceSeparated=!1;md.prototype.commaOrSpaceSeparated=!1;md.prototype.mustUseProperty=!1;md.prototype.defined=!1;let Cnt=0;const kn=Qb(),Ps=Qb(),DSe=Qb(),lt=Qb(),yi=Qb(),iE=Qb(),Iu=Qb();function Qb(){return 2**++Cnt}const BU=Object.freeze(Object.defineProperty({__proto__:null,boolean:kn,booleanish:Ps,commaOrSpaceSeparated:Iu,commaSeparated:iE,number:lt,overloadedBoolean:DSe,spaceSeparated:yi},Symbol.toStringTag,{value:"Module"})),eB=Object.keys(BU);class CX extends md{constructor(t,n,r,i){let s=-1;if(super(t,n),Pue(this,"space",i),typeof r=="number")for(;++s<eB.length;){const o=eB[s];Pue(this,eB[s],(r&BU[o])===BU[o])}}}CX.prototype.defined=!0;function Pue(e,t,n){n&&(e[t]=n)}const Ant={}.hasOwnProperty;function pS(e){const t={},n={};let r;for(r in e.properties)if(Ant.call(e.properties,r)){const i=e.properties[r],s=new CX(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[tI(r)]=r,n[tI(s.attribute)]=r}return new HR(t,n,e.space)}const MSe=pS({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$Se=pS({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function LSe(e,t){return t in e?e[t]:t}function FSe(e,t){return LSe(e,t.toLowerCase())}const jSe=pS({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:FSe,properties:{xmlns:null,xmlnsXLink:null}}),BSe=pS({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ps,ariaAutoComplete:null,ariaBusy:Ps,ariaChecked:Ps,ariaColCount:lt,ariaColIndex:lt,ariaColSpan:lt,ariaControls:yi,ariaCurrent:null,ariaDescribedBy:yi,ariaDetails:null,ariaDisabled:Ps,ariaDropEffect:yi,ariaErrorMessage:null,ariaExpanded:Ps,ariaFlowTo:yi,ariaGrabbed:Ps,ariaHasPopup:null,ariaHidden:Ps,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yi,ariaLevel:lt,ariaLive:null,ariaModal:Ps,ariaMultiLine:Ps,ariaMultiSelectable:Ps,ariaOrientation:null,ariaOwns:yi,ariaPlaceholder:null,ariaPosInSet:lt,ariaPressed:Ps,ariaReadOnly:Ps,ariaRelevant:null,ariaRequired:Ps,ariaRoleDescription:yi,ariaRowCount:lt,ariaRowIndex:lt,ariaRowSpan:lt,ariaSelected:Ps,ariaSetSize:lt,ariaSort:null,ariaValueMax:lt,ariaValueMin:lt,ariaValueNow:lt,ariaValueText:null,role:null}}),Int=pS({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:FSe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:iE,acceptCharset:yi,accessKey:yi,action:null,allow:null,allowFullScreen:kn,allowPaymentRequest:kn,allowUserMedia:kn,alt:null,as:null,async:kn,autoCapitalize:null,autoComplete:yi,autoFocus:kn,autoPlay:kn,blocking:yi,capture:null,charSet:null,checked:kn,cite:null,className:yi,cols:lt,colSpan:null,content:null,contentEditable:Ps,controls:kn,controlsList:yi,coords:lt|iE,crossOrigin:null,data:null,dateTime:null,decoding:null,default:kn,defer:kn,dir:null,dirName:null,disabled:kn,download:DSe,draggable:Ps,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:kn,formTarget:null,headers:yi,height:lt,hidden:kn,high:lt,href:null,hrefLang:null,htmlFor:yi,httpEquiv:yi,id:null,imageSizes:null,imageSrcSet:null,inert:kn,inputMode:null,integrity:null,is:null,isMap:kn,itemId:null,itemProp:yi,itemRef:yi,itemScope:kn,itemType:yi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:kn,low:lt,manifest:null,max:null,maxLength:lt,media:null,method:null,min:null,minLength:lt,multiple:kn,muted:kn,name:null,nonce:null,noModule:kn,noValidate:kn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:kn,optimum:lt,pattern:null,ping:yi,placeholder:null,playsInline:kn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:kn,referrerPolicy:null,rel:yi,required:kn,reversed:kn,rows:lt,rowSpan:lt,sandbox:yi,scope:null,scoped:kn,seamless:kn,selected:kn,shadowRootClonable:kn,shadowRootDelegatesFocus:kn,shadowRootMode:null,shape:null,size:lt,sizes:null,slot:null,span:lt,spellCheck:Ps,src:null,srcDoc:null,srcLang:null,srcSet:null,start:lt,step:null,style:null,tabIndex:lt,target:null,title:null,translate:null,type:null,typeMustMatch:kn,useMap:null,value:Ps,width:lt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yi,axis:null,background:null,bgColor:null,border:lt,borderColor:null,bottomMargin:lt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:kn,declare:kn,event:null,face:null,frame:null,frameBorder:null,hSpace:lt,leftMargin:lt,link:null,longDesc:null,lowSrc:null,marginHeight:lt,marginWidth:lt,noResize:kn,noHref:kn,noShade:kn,noWrap:kn,object:null,profile:null,prompt:null,rev:null,rightMargin:lt,rules:null,scheme:null,scrolling:Ps,standby:null,summary:null,text:null,topMargin:lt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:lt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:kn,disableRemotePlayback:kn,prefix:null,property:null,results:lt,security:null,unselectable:null}}),Rnt=pS({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:LSe,properties:{about:Iu,accentHeight:lt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:lt,amplitude:lt,arabicForm:null,ascent:lt,attributeName:null,attributeType:null,azimuth:lt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:lt,by:null,calcMode:null,capHeight:lt,className:yi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:lt,diffuseConstant:lt,direction:null,display:null,dur:null,divisor:lt,dominantBaseline:null,download:kn,dx:null,dy:null,edgeMode:null,editable:null,elevation:lt,enableBackground:null,end:null,event:null,exponent:lt,externalResourcesRequired:null,fill:null,fillOpacity:lt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:iE,g2:iE,glyphName:iE,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:lt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:lt,horizOriginX:lt,horizOriginY:lt,id:null,ideographic:lt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:lt,k:lt,k1:lt,k2:lt,k3:lt,k4:lt,kernelMatrix:Iu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:lt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:lt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:lt,overlineThickness:lt,paintOrder:null,panose1:null,path:null,pathLength:lt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:lt,pointsAtY:lt,pointsAtZ:lt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Iu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Iu,rev:Iu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Iu,requiredFeatures:Iu,requiredFonts:Iu,requiredFormats:Iu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:lt,specularExponent:lt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:lt,strikethroughThickness:lt,string:null,stroke:null,strokeDashArray:Iu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:lt,strokeOpacity:lt,strokeWidth:null,style:null,surfaceScale:lt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Iu,tabIndex:lt,tableValues:null,target:null,targetX:lt,targetY:lt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Iu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:lt,underlineThickness:lt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:lt,values:null,vAlphabetic:lt,vMathematical:lt,vectorEffect:null,vHanging:lt,vIdeographic:lt,version:null,vertAdvY:lt,vertOriginX:lt,vertOriginY:lt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:lt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),knt=/^data[-\w.:]+$/i,Nue=/-[a-z]/g,Pnt=/[A-Z]/g;function s6(e,t){const n=tI(t);let r=t,i=md;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&knt.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Nue,Ont);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Nue.test(s)){let o=s.replace(Pnt,Nnt);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=CX}return new i(r,t)}function Nnt(e){return"-"+e.toLowerCase()}function Ont(e){return e.charAt(1).toUpperCase()}const Dnt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qR=OSe([$Se,MSe,jSe,BSe,Int],"html"),tv=OSe([$Se,MSe,jSe,BSe,Rnt],"svg");function Oue(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function zSe(e){return e.join(" ").trim()}var USe={},Due=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Mnt=/\n/g,$nt=/^\s*/,Lnt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Fnt=/^:\s*/,jnt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Bnt=/^[;\s]*/,znt=/^\s+|\s+$/g,Unt=`
`,Mue="/",$ue="*",l1="",Vnt="comment",Hnt="declaration",qnt=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(Mnt);m&&(n+=m.length);var g=p.lastIndexOf(Unt);r=~g?p.length-g:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),u(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function l(p){var m=p.exec(e);if(m){var g=m[0];return i(g),e=e.slice(g.length),m}}function u(){l($nt)}function c(p){var m;for(p=p||[];m=d();)m!==!1&&p.push(m);return p}function d(){var p=s();if(!(Mue!=e.charAt(0)||$ue!=e.charAt(1))){for(var m=2;l1!=e.charAt(m)&&($ue!=e.charAt(m)||Mue!=e.charAt(m+1));)++m;if(m+=2,l1===e.charAt(m-1))return a("End of comment missing");var g=e.slice(2,m-2);return r+=2,i(g),e=e.slice(m),r+=2,p({type:Vnt,comment:g})}}function f(){var p=s(),m=l(Lnt);if(m){if(d(),!l(Fnt))return a("property missing ':'");var g=l(jnt),y=p({type:Hnt,property:Lue(m[0].replace(Due,l1)),value:g?Lue(g[0].replace(Due,l1)):l1});return l(Bnt),y}}function h(){var p=[];c(p);for(var m;m=f();)m!==!1&&(p.push(m),c(p));return p}return u(),h()};function Lue(e){return e?e.replace(znt,l1):l1}var Wnt=Ys&&Ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(USe,"__esModule",{value:!0});var Gnt=Wnt(qnt);function Ynt(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Gnt.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?t(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var Fue=USe.default=Ynt;const Knt=Fue.default||Fue,o6=VSe("end"),yp=VSe("start");function VSe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Xnt(e){const t=yp(e),n=o6(e);if(t&&n)return{start:t,end:n}}function L2(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?jue(e.position):"start"in e||"end"in e?jue(e):"line"in e||"column"in e?zU(e):""}function zU(e){return Bue(e&&e.line)+":"+Bue(e&&e.column)}function jue(e){return zU(e&&e.start)+"-"+zU(e&&e.end)}function Bue(e){return e&&typeof e=="number"?e:1}class za extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=L2(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}za.prototype.file="";za.prototype.name="";za.prototype.reason="";za.prototype.message="";za.prototype.stack="";za.prototype.column=void 0;za.prototype.line=void 0;za.prototype.ancestors=void 0;za.prototype.cause=void 0;za.prototype.fatal=void 0;za.prototype.place=void 0;za.prototype.ruleId=void 0;za.prototype.source=void 0;const AX={}.hasOwnProperty,Qnt=new Map,Jnt=/[A-Z]/g,Znt=/-([a-z])/g,ert=new Set(["table","tbody","thead","tfoot","tr"]),trt=new Set(["td","th"]),HSe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nrt(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=crt(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=urt(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?tv:qR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=qSe(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function qSe(e,t,n){if(t.type==="element")return rrt(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return irt(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ort(e,t,n);if(t.type==="mdxjsEsm")return srt(e,t);if(t.type==="root")return art(e,t,n);if(t.type==="text")return lrt(e,t)}function rrt(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=tv,e.schema=i),e.ancestors.push(t);const s=GSe(e,t.tagName,!1),o=drt(e,t);let a=RX(e,t);return ert.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Tnt(l):!0})),WSe(e,o,s,t),IX(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function irt(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}nI(e,t.position)}function srt(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);nI(e,t.position)}function ort(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=tv,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:GSe(e,t.name,!0),o=frt(e,t),a=RX(e,t);return WSe(e,o,s,t),IX(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function art(e,t,n){const r={};return IX(r,RX(e,t)),e.create(t,e.Fragment,r,n)}function lrt(e,t){return t.value}function WSe(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function IX(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function urt(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function crt(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=yp(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function drt(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&AX.call(t.properties,i)){const s=hrt(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&trt.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function frt(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else nI(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else nI(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function RX(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Qnt;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=qSe(e,s,o);a!==void 0&&n.push(a)}return n}function hrt(e,t,n){const r=s6(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?NSe(n):zSe(n)),r.property==="style"){let i=typeof n=="object"?n:prt(e,String(n));return e.stylePropertyNameCase==="css"&&(i=mrt(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Dnt[r.property]||r.property:r.attribute,n]}}function prt(e,t){const n={};try{Knt(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new za("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=HSe+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Znt,yrt)),n[o]=s}}function GSe(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Rue(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Rue(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return AX.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);nI(e)}function nI(e,t){const n=new za("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=HSe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mrt(e){const t={};let n;for(n in e)AX.call(e,n)&&(t[grt(n)]=e[n]);return t}function grt(e){let t=e.replace(Jnt,vrt);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function yrt(e,t){return t.toUpperCase()}function vrt(e){return"-"+e.toLowerCase()}const tB={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},brt={};function _rt(e,t){const n=brt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return YSe(e,r,i)}function YSe(e,t,n){if(wrt(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return zue(e.children,t,n)}return Array.isArray(e)?zue(e,t,n):""}function zue(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=YSe(e[i],t,n);return r.join("")}function wrt(e){return!!(e&&typeof e=="object")}const Uue=document.createElement("i");function kX(e){const t="&"+e+";";Uue.innerHTML=t;const n=Uue.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Hm(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Ic(e,t){return e.length>0?(Hm(e,e.length,0,t),e):t}const Vue={}.hasOwnProperty;function Ert(e){const t={};let n=-1;for(;++n<e.length;)xrt(t,e[n]);return t}function xrt(e,t){let n;for(n in t){const i=(Vue.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Vue.call(i,o)||(i[o]=[]);const a=s[o];Srt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Srt(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Hm(e,0,0,r)}function KSe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function sE(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vh=nv(/[A-Za-z]/),zu=nv(/[\dA-Za-z]/),Trt=nv(/[#-'*+\--9=?A-Z^-~]/);function UU(e){return e!==null&&(e<32||e===127)}const VU=nv(/\d/),Crt=nv(/[\dA-Fa-f]/),Art=nv(/[!-/:-@[-`{-~]/);function pn(e){return e!==null&&e<-2}function ru(e){return e!==null&&(e<0||e===32)}function Or(e){return e===-2||e===-1||e===32}const Irt=nv(new RegExp("\\p{P}|\\p{S}","u")),Rrt=nv(/\s/);function nv(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function mS(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&zu(e.charCodeAt(n+1))&&zu(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function bi(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Or(l)?(e.enter(n),a(l)):t(l)}function a(l){return Or(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const krt={tokenize:Prt};function Prt(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),bi(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return pn(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Nrt={tokenize:Ort},Hue={tokenize:Drt};function Ort(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const w=t.events.length;let E=w,S;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){S=t.events[E][1].end;break}y(r);let x=w;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},S),x++;return Hm(t.events,E+1,0,t.events.slice(w)),t.events.length=x,u(_)}return a(_)}function u(_){if(r===n.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Hue,c,d)(_)}function c(_){return i&&v(),y(r),f(_)}function d(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function f(_){return t.containerState={},e.attempt(Hue,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),f(_)}function p(_){if(_===null){i&&v(),y(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(_)}function m(_){if(_===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(_);return}return pn(_)?(e.consume(_),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),m)}function g(_,w){const E=t.sliceStream(_);if(w&&E.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(E),t.parser.lazy[_.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const x=t.events.length;let T=x,I,P;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(I){P=t.events[T][1].end;break}I=!0}for(y(r),S=x;S<t.events.length;)t.events[S][1].end=Object.assign({},P),S++;Hm(t.events,T+1,0,t.events.slice(x)),t.events.length=S}}function y(_){let w=n.length;for(;w-- >_;){const E=n[w];t.containerState=E[1],E[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Drt(e,t,n){return bi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function que(e){if(e===null||ru(e)||Rrt(e))return 1;if(Irt(e))return 2}function PX(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const HU={name:"attention",tokenize:$rt,resolveAll:Mrt};function Mrt(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);Wue(d,-l),Wue(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ic(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ic(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Ic(u,PX(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ic(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Ic(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Hm(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function $rt(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=que(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=que(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function Wue(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Lrt={name:"autolink",tokenize:Frt};function Frt(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return vh(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||zu(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||zu(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||UU(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):Trt(h)?(e.consume(h),u):n(h)}function c(h){return zu(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||zu(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const a6={tokenize:jrt,partial:!0};function jrt(e,t,n){return r;function r(s){return Or(s)?bi(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||pn(s)?t(s):n(s)}}const XSe={name:"blockQuote",tokenize:Brt,continuation:{tokenize:zrt},exit:Urt};function Brt(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Or(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function zrt(e,t,n){const r=this;return i;function i(o){return Or(o)?bi(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(XSe,t,n)(o)}}function Urt(e){e.exit("blockQuote")}const QSe={name:"characterEscape",tokenize:Vrt};function Vrt(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Art(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const JSe={name:"characterReference",tokenize:Hrt};function Hrt(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=zu,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Crt,c):(e.enter("characterReferenceValue"),s=7,o=VU,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===zu&&!kX(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const Gue={tokenize:Wrt,partial:!0},Yue={name:"codeFenced",tokenize:qrt,concrete:!0};function qrt(e,t,n){const r=this,i={tokenize:E,partial:!0};let s=0,o=0,a;return l;function l(S){return u(S)}function u(S){const x=r.events[r.events.length-1];return s=x&&x[1].type==="linePrefix"?x[2].sliceSerialize(x[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(o++,e.consume(S),c):o<3?n(S):(e.exit("codeFencedFenceSequence"),Or(S)?bi(e,d,"whitespace")(S):d(S))}function d(S){return S===null||pn(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(Gue,m,w)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||pn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Or(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bi(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||pn(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||pn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,w,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return s>0&&Or(S)?bi(e,v,"linePrefix",s+1)(S):v(S)}function v(S){return S===null||pn(S)?e.check(Gue,m,w)(S):(e.enter("codeFlowValue"),_(S))}function _(S){return S===null||pn(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),_)}function w(S){return e.exit("codeFenced"),t(S)}function E(S,x,T){let I=0;return P;function P($){return S.enter("lineEnding"),S.consume($),S.exit("lineEnding"),k}function k($){return S.enter("codeFencedFence"),Or($)?bi(S,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):D($)}function D($){return $===a?(S.enter("codeFencedFenceSequence"),R($)):T($)}function R($){return $===a?(I++,S.consume($),R):I>=o?(S.exit("codeFencedFenceSequence"),Or($)?bi(S,M,"whitespace")($):M($)):T($)}function M($){return $===null||pn($)?(S.exit("codeFencedFence"),x($)):T($)}}}function Wrt(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const nB={name:"codeIndented",tokenize:Yrt},Grt={tokenize:Krt,partial:!0};function Yrt(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),bi(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):pn(u)?e.attempt(Grt,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||pn(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Krt(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):pn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):bi(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):pn(o)?i(o):n(o)}}const Xrt={name:"codeText",tokenize:Zrt,resolve:Qrt,previous:Jrt};function Qrt(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Jrt(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zrt(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):pn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||pn(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class eit{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&OT(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),OT(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),OT(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);OT(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);OT(this.left,n.reverse())}}}function OT(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ZSe(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new eit(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,tit(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Hm(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function tit(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=s.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const nit={tokenize:sit,resolve:iit},rit={tokenize:oit,partial:!0};function iit(e){return ZSe(e),e}function sit(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):pn(a)?e.check(rit,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function oit(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),bi(e,s,"linePrefix")}function s(o){if(o===null||pn(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function eTe(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||UU(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||pn(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||ru(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||UU(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function tTe(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):pn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||pn(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!Or(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function nTe(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):pn(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),bi(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||pn(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function F2(e,t){let n;return r;function r(i){return pn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Or(i)?bi(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const ait={name:"definition",tokenize:uit},lit={tokenize:cit,partial:!0};function uit(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return tTe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=sE(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return ru(h)?F2(e,u)(h):u(h)}function u(h){return eTe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(lit,d,d)(h)}function d(h){return Or(h)?bi(e,f,"whitespace")(h):f(h)}function f(h){return h===null||pn(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function cit(e,t,n){return r;function r(a){return ru(a)?F2(e,i)(a):n(a)}function i(a){return nTe(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Or(a)?bi(e,o,"whitespace")(a):o(a)}function o(a){return a===null||pn(a)?t(a):n(a)}}const dit={name:"hardBreakEscape",tokenize:fit};function fit(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return pn(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const hit={name:"headingAtx",tokenize:mit,resolve:pit};function pit(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Hm(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function mit(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||ru(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||pn(c)?(e.exit("atxHeading"),t(c)):Or(c)?bi(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||ru(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const git=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kue=["pre","script","style","textarea"],yit={name:"htmlFlow",tokenize:wit,resolveTo:_it,concrete:!0},vit={tokenize:xit,partial:!0},bit={tokenize:Eit,partial:!0};function _it(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function wit(e,t,n){const r=this;let i,s,o,a,l;return u;function u(F){return c(F)}function c(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),d}function d(F){return F===33?(e.consume(F),f):F===47?(e.consume(F),s=!0,m):F===63?(e.consume(F),i=3,r.interrupt?t:N):vh(F)?(e.consume(F),o=String.fromCharCode(F),g):n(F)}function f(F){return F===45?(e.consume(F),i=2,h):F===91?(e.consume(F),i=5,a=0,p):vh(F)?(e.consume(F),i=4,r.interrupt?t:N):n(F)}function h(F){return F===45?(e.consume(F),r.interrupt?t:N):n(F)}function p(F){const H="CDATA[";return F===H.charCodeAt(a++)?(e.consume(F),a===H.length?r.interrupt?t:D:p):n(F)}function m(F){return vh(F)?(e.consume(F),o=String.fromCharCode(F),g):n(F)}function g(F){if(F===null||F===47||F===62||ru(F)){const H=F===47,G=o.toLowerCase();return!H&&!s&&Kue.includes(G)?(i=1,r.interrupt?t(F):D(F)):git.includes(o.toLowerCase())?(i=6,H?(e.consume(F),y):r.interrupt?t(F):D(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):s?v(F):_(F))}return F===45||zu(F)?(e.consume(F),o+=String.fromCharCode(F),g):n(F)}function y(F){return F===62?(e.consume(F),r.interrupt?t:D):n(F)}function v(F){return Or(F)?(e.consume(F),v):P(F)}function _(F){return F===47?(e.consume(F),P):F===58||F===95||vh(F)?(e.consume(F),w):Or(F)?(e.consume(F),_):P(F)}function w(F){return F===45||F===46||F===58||F===95||zu(F)?(e.consume(F),w):E(F)}function E(F){return F===61?(e.consume(F),S):Or(F)?(e.consume(F),E):_(F)}function S(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),l=F,x):Or(F)?(e.consume(F),S):T(F)}function x(F){return F===l?(e.consume(F),l=null,I):F===null||pn(F)?n(F):(e.consume(F),x)}function T(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||ru(F)?E(F):(e.consume(F),T)}function I(F){return F===47||F===62||Or(F)?_(F):n(F)}function P(F){return F===62?(e.consume(F),k):n(F)}function k(F){return F===null||pn(F)?D(F):Or(F)?(e.consume(F),k):n(F)}function D(F){return F===45&&i===2?(e.consume(F),L):F===60&&i===1?(e.consume(F),B):F===62&&i===4?(e.consume(F),V):F===63&&i===3?(e.consume(F),N):F===93&&i===5?(e.consume(F),U):pn(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(vit,W,R)(F)):F===null||pn(F)?(e.exit("htmlFlowData"),R(F)):(e.consume(F),D)}function R(F){return e.check(bit,M,W)(F)}function M(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),$}function $(F){return F===null||pn(F)?R(F):(e.enter("htmlFlowData"),D(F))}function L(F){return F===45?(e.consume(F),N):D(F)}function B(F){return F===47?(e.consume(F),o="",z):D(F)}function z(F){if(F===62){const H=o.toLowerCase();return Kue.includes(H)?(e.consume(F),V):D(F)}return vh(F)&&o.length<8?(e.consume(F),o+=String.fromCharCode(F),z):D(F)}function U(F){return F===93?(e.consume(F),N):D(F)}function N(F){return F===62?(e.consume(F),V):F===45&&i===2?(e.consume(F),N):D(F)}function V(F){return F===null||pn(F)?(e.exit("htmlFlowData"),W(F)):(e.consume(F),V)}function W(F){return e.exit("htmlFlow"),t(F)}}function Eit(e,t,n){const r=this;return i;function i(o){return pn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function xit(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(a6,t,n)}}const Sit={name:"htmlText",tokenize:Tit};function Tit(e,t,n){const r=this;let i,s,o;return a;function a(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),l}function l(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),E):N===63?(e.consume(N),_):vh(N)?(e.consume(N),T):n(N)}function u(N){return N===45?(e.consume(N),c):N===91?(e.consume(N),s=0,p):vh(N)?(e.consume(N),v):n(N)}function c(N){return N===45?(e.consume(N),h):n(N)}function d(N){return N===null?n(N):N===45?(e.consume(N),f):pn(N)?(o=d,B(N)):(e.consume(N),d)}function f(N){return N===45?(e.consume(N),h):d(N)}function h(N){return N===62?L(N):N===45?f(N):d(N)}function p(N){const V="CDATA[";return N===V.charCodeAt(s++)?(e.consume(N),s===V.length?m:p):n(N)}function m(N){return N===null?n(N):N===93?(e.consume(N),g):pn(N)?(o=m,B(N)):(e.consume(N),m)}function g(N){return N===93?(e.consume(N),y):m(N)}function y(N){return N===62?L(N):N===93?(e.consume(N),y):m(N)}function v(N){return N===null||N===62?L(N):pn(N)?(o=v,B(N)):(e.consume(N),v)}function _(N){return N===null?n(N):N===63?(e.consume(N),w):pn(N)?(o=_,B(N)):(e.consume(N),_)}function w(N){return N===62?L(N):_(N)}function E(N){return vh(N)?(e.consume(N),S):n(N)}function S(N){return N===45||zu(N)?(e.consume(N),S):x(N)}function x(N){return pn(N)?(o=x,B(N)):Or(N)?(e.consume(N),x):L(N)}function T(N){return N===45||zu(N)?(e.consume(N),T):N===47||N===62||ru(N)?I(N):n(N)}function I(N){return N===47?(e.consume(N),L):N===58||N===95||vh(N)?(e.consume(N),P):pn(N)?(o=I,B(N)):Or(N)?(e.consume(N),I):L(N)}function P(N){return N===45||N===46||N===58||N===95||zu(N)?(e.consume(N),P):k(N)}function k(N){return N===61?(e.consume(N),D):pn(N)?(o=k,B(N)):Or(N)?(e.consume(N),k):I(N)}function D(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,R):pn(N)?(o=D,B(N)):Or(N)?(e.consume(N),D):(e.consume(N),M)}function R(N){return N===i?(e.consume(N),i=void 0,$):N===null?n(N):pn(N)?(o=R,B(N)):(e.consume(N),R)}function M(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||ru(N)?I(N):(e.consume(N),M)}function $(N){return N===47||N===62||ru(N)?I(N):n(N)}function L(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function B(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),z}function z(N){return Or(N)?bi(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):U(N)}function U(N){return e.enter("htmlTextData"),o(N)}}const NX={name:"labelEnd",tokenize:Pit,resolveTo:kit,resolveAll:Rit},Cit={tokenize:Nit},Ait={tokenize:Oit},Iit={tokenize:Dit};function Rit(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function kit(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=Ic(a,e.slice(s+1,s+r+3)),a=Ic(a,[["enter",c,t]]),a=Ic(a,PX(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Ic(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Ic(a,e.slice(o+1)),a=Ic(a,[["exit",l,t]]),Hm(e,s,e.length,a),e}function Pit(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(sE(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(Cit,c,o?c:d)(f):f===91?e.attempt(Ait,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(Iit,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function Nit(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return ru(d)?F2(e,s)(d):s(d)}function s(d){return d===41?c(d):eTe(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return ru(d)?F2(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?nTe(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return ru(d)?F2(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Oit(e,t,n){const r=this;return i;function i(a){return tTe.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(sE(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Dit(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Mit={name:"labelStartImage",tokenize:$it,resolveAll:NX.resolveAll};function $it(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Lit={name:"labelStartLink",tokenize:Fit,resolveAll:NX.resolveAll};function Fit(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const rB={name:"lineEnding",tokenize:jit};function jit(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),bi(e,t,"linePrefix")}}const eD={name:"thematicBreak",tokenize:Bit};function Bit(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||pn(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Or(u)?bi(e,a,"whitespace")(u):a(u))}}const Ol={name:"list",tokenize:Vit,continuation:{tokenize:Hit},exit:Wit},zit={tokenize:Git,partial:!0},Uit={tokenize:qit,partial:!0};function Vit(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:VU(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(eD,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return VU(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(a6,r.interrupt?n:c,e.attempt(zit,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return Or(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Hit(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(a6,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bi(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Or(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Uit,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,bi(e,e.attempt(Ol,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function qit(e,t,n){const r=this;return bi(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Wit(e){e.exit(this.containerState.type)}function Git(e,t,n){const r=this;return bi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Or(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Xue={name:"setextUnderline",tokenize:Kit,resolveTo:Yit};function Yit(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function Kit(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Or(u)?bi(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||pn(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Xit={tokenize:Qit};function Qit(e){const t=this,n=e.attempt(a6,r,e.attempt(this.parser.constructs.flowInitial,i,bi(e,e.attempt(this.parser.constructs.flow,i,e.attempt(nit,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Jit={resolveAll:iTe()},Zit=rTe("string"),est=rTe("text");function rTe(e){return{tokenize:t,resolveAll:iTe(e==="text"?tst:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function iTe(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function tst(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function nst(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:v,enter:_,exit:w,attempt:x(E),check:x(S),interrupt:x(S,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:p,defineSkip:m,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(k){return o=Ic(o,k),g(),o[o.length-1]!==null?[]:(T(t,0),u.events=PX(s,u.events,u),u.events)}function f(k,D){return ist(h(k),D)}function h(k){return rst(o,k)}function p(){const{line:k,column:D,offset:R,_index:M,_bufferIndex:$}=r;return{line:k,column:D,offset:R,_index:M,_bufferIndex:$}}function m(k){i[k.line]=k.column,P()}function g(){let k;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<D.length;)y(D.charCodeAt(r._bufferIndex));else y(D)}}function y(k){c=c(k)}function v(k){pn(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,P()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=k}function _(k,D){const R=D||{};return R.type=k,R.start=p(),u.events.push(["enter",R,u]),a.push(R),R}function w(k){const D=a.pop();return D.end=p(),u.events.push(["exit",D,u]),D}function E(k,D){T(k,D.from)}function S(k,D){D.restore()}function x(k,D){return R;function R(M,$,L){let B,z,U,N;return Array.isArray(M)?W(M):"tokenize"in M?W([M]):V(M);function V(X){return ie;function ie(oe){const se=oe!==null&&X[oe],le=oe!==null&&X.null,Se=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(le)?le:le?[le]:[]];return W(Se)(oe)}}function W(X){return B=X,z=0,X.length===0?L:F(X[z])}function F(X){return ie;function ie(oe){return N=I(),U=X,X.partial||(u.currentConstruct=X),X.name&&u.parser.constructs.disable.null.includes(X.name)?G():X.tokenize.call(D?Object.assign(Object.create(u),D):u,l,H,G)(oe)}}function H(X){return k(U,N),$}function G(X){return N.restore(),++z<B.length?F(B[z]):L}}}function T(k,D){k.resolveAll&&!s.includes(k)&&s.push(k),k.resolve&&Hm(u.events,D,u.events.length-D,k.resolve(u.events.slice(D),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function I(){const k=p(),D=u.previous,R=u.currentConstruct,M=u.events.length,$=Array.from(a);return{restore:L,from:M};function L(){r=k,u.previous=D,u.currentConstruct=R,u.events.length=M,a=$,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rst(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function ist(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const sst={42:Ol,43:Ol,45:Ol,48:Ol,49:Ol,50:Ol,51:Ol,52:Ol,53:Ol,54:Ol,55:Ol,56:Ol,57:Ol,62:XSe},ost={91:ait},ast={[-2]:nB,[-1]:nB,32:nB},lst={35:hit,42:eD,45:[Xue,eD],60:yit,61:Xue,95:eD,96:Yue,126:Yue},ust={38:JSe,92:QSe},cst={[-5]:rB,[-4]:rB,[-3]:rB,33:Mit,38:JSe,42:HU,60:[Lrt,Sit],91:Lit,92:[dit,QSe],93:NX,95:HU,96:Xrt},dst={null:[HU,Jit]},fst={null:[42,95]},hst={null:[]},pst=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fst,contentInitial:ost,disable:hst,document:sst,flow:lst,flowInitial:ast,insideSpan:dst,string:ust,text:cst},Symbol.toStringTag,{value:"Module"}));function mst(e){const n=Ert([pst,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(krt),document:i(Nrt),flow:i(Xit),string:i(Zit),text:i(est)};return r;function i(s){return o;function o(a){return nst(r,s,a)}}}function gst(e){for(;!ZSe(e););return e}const Que=/[\0\t\n\r]/g;function yst(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Que.lastIndex=d,u=Que.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const vst=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bst(e){return e.replace(vst,_st)}function _st(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return KSe(n.slice(s?2:1),s?16:10)}return kX(n)||e}const sTe={}.hasOwnProperty;function wst(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Est(n)(gst(mst(n).document().write(yst()(e,t,!0))))}function Est(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ee),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(Be),blockQuote:s(le),characterEscape:I,characterReference:I,codeFenced:s(Se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Se,o),codeText:s(de,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(De),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Fe),hardBreakEscape:s(je),hardBreakTrailing:s(je),htmlFlow:s(me,o),htmlFlowData:I,htmlText:s(me,o),htmlTextData:I,image:s(ne),label:o,link:s(Ee),listItem:s(Je),listItemValue:f,listOrdered:s(Pe,d),listUnordered:s(Pe),paragraph:s(qe),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Be),strong:s(_e),thematicBreak:s(pt)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:se,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:X,characterReference:ie,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:P,codeIndented:l(y),codeText:l($),codeTextData:P,data:P,definition:l(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(R),htmlFlowData:P,htmlText:l(M),htmlTextData:P,image:l(B),label:U,labelText:z,lineEnding:k,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:H,resourceDestinationString:N,resourceTitleString:V,resource:W,setextHeading:l(T),setextHeadingLineSequence:x,setextHeadingText:S,strong:l(),thematicBreak:l()}};oTe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ye){let ke={type:"root",children:[]};const Ge={stack:[ke],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},Ke=[];let xt=-1;for(;++xt<ye.length;)if(ye[xt][1].type==="listOrdered"||ye[xt][1].type==="listUnordered")if(ye[xt][0]==="enter")Ke.push(xt);else{const Cn=Ke.pop();xt=i(ye,Cn,xt)}for(xt=-1;++xt<ye.length;){const Cn=t[ye[xt][0]];sTe.call(Cn,ye[xt][1].type)&&Cn[ye[xt][1].type].call(Object.assign({sliceSerialize:ye[xt][2].sliceSerialize},Ge),ye[xt][1])}if(Ge.tokenStack.length>0){const Cn=Ge.tokenStack[Ge.tokenStack.length-1];(Cn[1]||Jue).call(Ge,void 0,Cn[0])}for(ke.position={start:Mg(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:Mg(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},xt=-1;++xt<t.transforms.length;)ke=t.transforms[xt](ke)||ke;return ke}function i(ye,ke,Ge){let Ke=ke-1,xt=-1,Cn=!1,gr,yr,kr,Xt;for(;++Ke<=Ge;){const Dn=ye[Ke];switch(Dn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dn[0]==="enter"?xt++:xt--,Xt=void 0;break}case"lineEndingBlank":{Dn[0]==="enter"&&(gr&&!Xt&&!xt&&!kr&&(kr=Ke),Xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xt=void 0}if(!xt&&Dn[0]==="enter"&&Dn[1].type==="listItemPrefix"||xt===-1&&Dn[0]==="exit"&&(Dn[1].type==="listUnordered"||Dn[1].type==="listOrdered")){if(gr){let rr=Ke;for(yr=void 0;rr--;){const ir=ye[rr];if(ir[1].type==="lineEnding"||ir[1].type==="lineEndingBlank"){if(ir[0]==="exit")continue;yr&&(ye[yr][1].type="lineEndingBlank",Cn=!0),ir[1].type="lineEnding",yr=rr}else if(!(ir[1].type==="linePrefix"||ir[1].type==="blockQuotePrefix"||ir[1].type==="blockQuotePrefixWhitespace"||ir[1].type==="blockQuoteMarker"||ir[1].type==="listItemIndent"))break}kr&&(!yr||kr<yr)&&(gr._spread=!0),gr.end=Object.assign({},yr?ye[yr][1].start:Dn[1].end),ye.splice(yr||Ke,0,["exit",gr,Dn[2]]),Ke++,Ge++}if(Dn[1].type==="listItemPrefix"){const rr={type:"listItem",_spread:!1,start:Object.assign({},Dn[1].start),end:void 0};gr=rr,ye.splice(Ke,0,["enter",rr,Dn[2]]),Ke++,Ge++,kr=void 0,Xt=!0}}}return ye[ke][1]._spread=Cn,Ge}function s(ye,ke){return Ge;function Ge(Ke){a.call(this,ye(Ke),Ke),ke&&ke.call(this,Ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ye,ke,Ge){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([ke,Ge]),ye.position={start:Mg(ke.start),end:void 0}}function l(ye){return ke;function ke(Ge){ye&&ye.call(this,Ge),u.call(this,Ge)}}function u(ye,ke){const Ge=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==ye.type&&(ke?ke.call(this,ye,Ke[0]):(Ke[1]||Jue).call(this,ye,Ke[0]));else throw new Error("Cannot close `"+ye.type+"` ("+L2({start:ye.start,end:ye.end})+"): it’s not open");Ge.position.end=Mg(ye.end)}function c(){return _rt(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(ye){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=ye}function p(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=ye}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ye.replace(/(\r?\n|\r)$/g,"")}function v(ye){const ke=this.resume(),Ge=this.stack[this.stack.length-1];Ge.label=ke,Ge.identifier=sE(this.sliceSerialize(ye)).toLowerCase()}function _(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ye}function w(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ye}function E(ye){const ke=this.stack[this.stack.length-1];if(!ke.depth){const Ge=this.sliceSerialize(ye).length;ke.depth=Ge}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function x(ye){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ye){const Ge=this.stack[this.stack.length-1].children;let Ke=Ge[Ge.length-1];(!Ke||Ke.type!=="text")&&(Ke=Qe(),Ke.position={start:Mg(ye.start),end:void 0},Ge.push(Ke)),this.stack.push(Ke)}function P(ye){const ke=this.stack.pop();ke.value+=this.sliceSerialize(ye),ke.position.end=Mg(ye.end)}function k(ye){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ge=ke.children[ke.children.length-1];Ge.position.end=Mg(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ke.type)&&(I.call(this,ye),P.call(this,ye))}function D(){this.data.atHardBreak=!0}function R(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ye}function M(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ye}function $(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ye}function L(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=ke,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function B(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=ke,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function z(ye){const ke=this.sliceSerialize(ye),Ge=this.stack[this.stack.length-2];Ge.label=bst(ke),Ge.identifier=sE(ke).toLowerCase()}function U(){const ye=this.stack[this.stack.length-1],ke=this.resume(),Ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ge.type==="link"){const Ke=ye.children;Ge.children=Ke}else Ge.alt=ke}function N(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ye}function V(){const ye=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ye}function W(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function H(ye){const ke=this.resume(),Ge=this.stack[this.stack.length-1];Ge.label=ke,Ge.identifier=sE(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function G(ye){this.data.characterReferenceType=ye.type}function X(ye){const ke=this.sliceSerialize(ye),Ge=this.data.characterReferenceType;let Ke;Ge?(Ke=KSe(ke,Ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=kX(ke);const xt=this.stack[this.stack.length-1];xt.value+=Ke}function ie(ye){const ke=this.stack.pop();ke.position.end=Mg(ye.end)}function oe(ye){P.call(this,ye);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(ye)}function se(ye){P.call(this,ye);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(ye)}function le(){return{type:"blockquote",children:[]}}function Se(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function De(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function Be(){return{type:"heading",depth:0,children:[]}}function je(){return{type:"break"}}function me(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function Ee(){return{type:"link",title:null,url:"",children:[]}}function Pe(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function Je(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function qe(){return{type:"paragraph",children:[]}}function _e(){return{type:"strong",children:[]}}function Qe(){return{type:"text",value:""}}function pt(){return{type:"thematicBreak"}}}function Mg(e){return{line:e.line,column:e.column,offset:e.offset}}function oTe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?oTe(e,r):xst(e,r)}}function xst(e,t){let n;for(n in t)if(sTe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Jue(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+L2({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+L2({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+L2({start:t.start,end:t.end})+") is still open")}function Sst(e){const t=this;t.parser=n;function n(r){return wst(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Tst(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Cst(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Ast(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Ist(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rst(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kst(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=mS(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Pst(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nst(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function aTe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Ost(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aTe(e,t);const i={src:mS(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Dst(e,t){const n={src:mS(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Mst(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function $st(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aTe(e,t);const i={href:mS(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Lst(e,t){const n={href:mS(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Fst(e,t,n){const r=e.all(t),i=n?jst(n):lTe(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function jst(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=lTe(n[r])}return t}function lTe(e){const t=e.spread;return t??e.children.length>1}function Bst(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function zst(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ust(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Vst(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Hst(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=yp(t.children[1]),l=o6(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function qst(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Wst(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Zue=9,ece=32;function Gst(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(tce(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(tce(t.slice(i),i>0,!1)),s.join("")}function tce(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Zue||s===ece;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Zue||s===ece;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Yst(e,t){const n={type:"text",value:Gst(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Kst(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Xst={blockquote:Tst,break:Cst,code:Ast,delete:Ist,emphasis:Rst,footnoteReference:kst,heading:Pst,html:Nst,imageReference:Ost,image:Dst,inlineCode:Mst,linkReference:$st,link:Lst,listItem:Fst,list:Bst,paragraph:zst,root:Ust,strong:Vst,table:Hst,tableCell:Wst,tableRow:qst,text:Yst,thematicBreak:Kst,toml:oN,yaml:oN,definition:oN,footnoteDefinition:oN};function oN(){}const uTe=-1,l6=0,WM=1,GM=2,OX=3,DX=4,MX=5,$X=6,cTe=7,dTe=8,nce=typeof self=="object"?self:globalThis,Qst=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case l6:case uTe:return n(o,i);case WM:{const a=n([],i);for(const l of o)a.push(r(l));return a}case GM:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case OX:return n(new Date(o),i);case DX:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case MX:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case $X:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case cTe:{const{name:a,message:l}=o;return n(new nce[a](l),i)}case dTe:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new nce[s](o),i)};return r},rce=e=>Qst(new Map,e)(0),M_="",{toString:Jst}={},{keys:Zst}=Object,DT=e=>{const t=typeof e;if(t!=="object"||!e)return[l6,t];const n=Jst.call(e).slice(8,-1);switch(n){case"Array":return[WM,M_];case"Object":return[GM,M_];case"Date":return[OX,M_];case"RegExp":return[DX,M_];case"Map":return[MX,M_];case"Set":return[$X,M_]}return n.includes("Array")?[WM,n]:n.includes("Error")?[cTe,n]:[GM,n]},aN=([e,t])=>e===l6&&(t==="function"||t==="symbol"),eot=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=DT(o);switch(a){case l6:{let c=o;switch(l){case"bigint":a=dTe,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([uTe],o)}return i([a,c],o)}case WM:{if(l)return i([l,[...o]],o);const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case GM:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of Zst(o))(e||!aN(DT(o[f])))&&c.push([s(f),s(o[f])]);return d}case OX:return i([a,o.toISOString()],o);case DX:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case MX:{const c=[],d=i([a,c],o);for(const[f,h]of o)(e||!(aN(DT(f))||aN(DT(h))))&&c.push([s(f),s(h)]);return d}case $X:{const c=[],d=i([a,c],o);for(const f of o)(e||!aN(DT(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},ice=(e,{json:t,lossy:n}={})=>{const r=[];return eot(!(t||n),!!t,new Map,r)(e),r},qE=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?rce(ice(e,t)):structuredClone(e):(e,t)=>rce(ice(e,t));function tot(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function not(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function rot(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||tot,r=e.options.footnoteBackLabel||not,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=mS(d.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...qE(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const fTe=function(e){if(e==null)return aot;if(typeof e=="function")return u6(e);if(typeof e=="object")return Array.isArray(e)?iot(e):sot(e);if(typeof e=="string")return oot(e);throw new Error("Expected function, string, or object as test")};function iot(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fTe(e[n]);return u6(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function sot(e){const t=e;return u6(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function oot(e){return u6(t);function t(n){return n&&n.type===e}}function u6(e){return t;function t(n,r,i){return!!(lot(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function aot(){return!0}function lot(e){return e!==null&&typeof e=="object"&&"type"in e}const hTe=[],uot=!0,sce=!1,cot="skip";function dot(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=fTe(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=hTe,p,m,g;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=fot(n(l,c)),h[0]===sce))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==cot)for(m=(r?y.children.length:-1)+o,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===sce)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function fot(e){return Array.isArray(e)?e:typeof e=="number"?[uot,e]:e==null?hTe:[e]}function LX(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),dot(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const qU={}.hasOwnProperty,hot={};function pot(e,t){const n=t||hot,r=new Map,i=new Map,s=new Map,o={...Xst,...n.handlers},a={all:u,applyData:got,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:mot,wrap:vot};return LX(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(qU.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...g}=c,y=qE(g);return y.children=a.all(c),y}return qE(c)}return(a.options.unknownHandler||yot)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=oce(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=oce(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function mot(e,t){e.position&&(t.position=Xnt(e))}function got(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,qE(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function yot(e,t){const n=t.data||{},r="value"in t&&!(qU.call(n,"hProperties")||qU.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vot(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function oce(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ace(e,t){const n=pot(e,t),r=n.one(e,void 0),i=rot(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function bot(e,t){return e&&"run"in e?async function(n,r){const i=ace(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ace(n,{file:r,...t||e})}}function lce(e){if(e)throw e}var tD=Object.prototype.hasOwnProperty,pTe=Object.prototype.toString,uce=Object.defineProperty,cce=Object.getOwnPropertyDescriptor,dce=function(t){return typeof Array.isArray=="function"?Array.isArray(t):pTe.call(t)==="[object Array]"},fce=function(t){if(!t||pTe.call(t)!=="[object Object]")return!1;var n=tD.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&tD.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||tD.call(t,i)},hce=function(t,n){uce&&n.name==="__proto__"?uce(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},pce=function(t,n){if(n==="__proto__")if(tD.call(t,n)){if(cce)return cce(t,n).value}else return;return t[n]},_ot=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=pce(a,n),i=pce(t,n),a!==i&&(c&&i&&(fce(i)||(s=dce(i)))?(s?(s=!1,o=r&&dce(r)?r:[]):o=r&&fce(r)?r:{},hce(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&hce(a,{name:n,newValue:i}));return a};const iB=bu(_ot);function WU(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wot(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Eot(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Eot(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const oh={basename:xot,dirname:Sot,extname:Tot,join:Cot,sep:"/"};function xot(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');WR(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Sot(e){if(WR(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Tot(e){WR(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Cot(...e){let t=-1,n;for(;++t<e.length;)WR(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Aot(n)}function Aot(e){WR(e);const t=e.codePointAt(0)===47;let n=Iot(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Iot(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function WR(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Rot={cwd:kot};function kot(){return"/"}function GU(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Pot(e){if(typeof e=="string")e=new URL(e);else if(!GU(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Not(e)}function Not(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sB=["history","path","basename","stem","extname","dirname"];class mTe{constructor(t){let n;t?GU(t)?n={path:t}:typeof t=="string"||Oot(t)?n={value:t}:n=t:n={},this.cwd=Rot.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sB.length;){const s=sB[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)sB.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?oh.basename(this.path):void 0}set basename(t){aB(t,"basename"),oB(t,"basename"),this.path=oh.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?oh.dirname(this.path):void 0}set dirname(t){mce(this.basename,"dirname"),this.path=oh.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?oh.extname(this.path):void 0}set extname(t){if(oB(t,"extname"),mce(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=oh.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){GU(t)&&(t=Pot(t)),aB(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?oh.basename(this.path,this.extname):void 0}set stem(t){aB(t,"stem"),oB(t,"stem"),this.path=oh.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new za(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function oB(e,t){if(e&&e.includes(oh.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+oh.sep+"`")}function aB(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function mce(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Oot(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dot=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Mot={}.hasOwnProperty;class FX extends Dot{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wot()}copy(){const t=new FX;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(iB(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(cB("data",this.frozen),this.namespace[t]=n,this):Mot.call(this.namespace,t)&&this.namespace[t]||void 0:t?(cB("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=lN(t),r=this.parser||this.Parser;return lB("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),lB("process",this.parser||this.Parser),uB("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=lN(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);Fot(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),lB("processSync",this.parser||this.Parser),uB("processSync",this.compiler||this.Compiler),this.process(t,i),yce("processSync","process",n),r;function i(s,o){n=!0,lce(s),r=o}}run(t,n,r){gce(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=lN(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),yce("runSync","run",r),i;function s(o,a){lce(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=lN(n),i=this.compiler||this.Compiler;return uB("stringify",i),gce(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(cB("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=iB(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[f][1];WU(m)&&WU(h)&&(h=iB(!0,m,h)),r[f]=[u,h,...p]}}}}const $ot=new FX().freeze();function lB(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function uB(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function cB(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gce(e){if(!WU(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function yce(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function lN(e){return Lot(e)?e:new mTe(e)}function Lot(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Fot(e){return typeof e=="string"||jot(e)}function jot(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bot="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vce=[],bce={allowDangerousHtml:!0},zot=/^(https?|ircs?|mailto|xmpp)$/i,Uot=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vot(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,a=e.rehypePlugins||vce,l=e.remarkPlugins||vce,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...bce}:bce,c=e.skipHtml,d=e.unwrapDisallowed,f=e.urlTransform||Hot,h=$ot().use(Sst).use(l).use(bot,u).use(a),p=new mTe;typeof r=="string"&&(p.value=r);for(const v of Uot)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+Bot+v.id,void 0);const m=h.parse(p);let g=h.runSync(m,p);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),LX(g,y),nrt(g,{Fragment:b.Fragment,components:s,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function y(v,_,w){if(v.type==="raw"&&w&&typeof _=="number")return c?w.children.splice(_,1):w.children[_]={type:"text",value:v.value},_;if(v.type==="element"){let E;for(E in tB)if(Object.hasOwn(tB,E)&&Object.hasOwn(v.properties,E)){const S=v.properties[E],x=tB[E];(x===null||x.includes(v.tagName))&&(v.properties[E]=f(String(S||""),E,v))}}if(v.type==="element"){let E=t?!t.includes(v.tagName):o?o.includes(v.tagName):!1;if(!E&&n&&typeof _=="number"&&(E=!n(v,_,w)),E&&w&&typeof _=="number")return d&&v.children?w.children.splice(_,1,...v.children):w.children.splice(_,1),_}}}function Hot(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||zot.test(e.slice(0,t))?e:""}const _ce=/[#.]/g;function qot(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){_ce.lastIndex=i;const a=_ce.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const Wot=new Set(["button","menu","reset","submit"]),YU={}.hasOwnProperty;function gTe(e,t,n){const r=n&&Xot(n);function i(s,o,...a){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=o;a.unshift(c)}else if(u=qot(s,t),u.tagName=u.tagName.toLowerCase(),r&&YU.call(r,u.tagName)&&(u.tagName=r[u.tagName]),Got(o,u.tagName)){let c;for(c in o)YU.call(o,c)&&Yot(e,u.properties,c,o[c])}else a.unshift(o);for(;++l<a.length;)KU(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function Got(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?Wot.has(e.type.toLowerCase()):!("value"in e)}function Yot(e,t,n,r){const i=s6(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Oue(r):i.commaSeparated?o=Iue(r):i.commaOrSpaceSeparated?o=Oue(Iue(r).join(" ")):o=wce(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?Kot(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const l=wce(i,i.property,o[s]);a[s]=l}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function KU(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)KU(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?KU(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function wce(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||tI(n)===tI(t)))return!0}return n}function Kot(e){const t=[];let n;for(n in e)YU.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Xot(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Qot=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Jot=gTe(qR,"div"),Zot=gTe(tv,"g",Qot),dB=/\r?\n|\r/g;function eat(e){const t=String(e),n=[];for(dB.lastIndex=0;dB.test(t);)n.push(dB.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const l=(n[o-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const A1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yTe={}.hasOwnProperty,tat=Object.prototype;function nat(e,t){const n=t||{};return jX({file:n.file||void 0,location:!1,schema:n.space==="svg"?tv:qR,verbose:n.verbose||!1},e)}function jX(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},nD(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:vTe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=eat(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},nD(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},nD(e,r,n),n}default:return n=rat(e,t),n}}function vTe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=jX(e,t[n]);r.push(i)}return r}function rat(e,t){const n=e.schema;e.schema=t.namespaceURI===A1.svg?tv:qR;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;yTe.call(tat,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?Zot:Jot)(t.tagName,i,vTe(e,t.childNodes));if(nD(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&Mw(l.startTag),c=l&&l.endTag&&Mw(l.endTag),d=jX(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function nD(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=iat(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function iat(e,t,n){const r=Mw(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)yTe.call(n.attrs,o)&&(s[s6(e.schema,o).property]=Mw(n.attrs[o]));n.startTag;const a=Mw(n.startTag),l=n.endTag?Mw(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function Mw(e){const t=Ece({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Ece({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Ece(e){return e.line&&e.column?e:void 0}const xce={}.hasOwnProperty;function bTe(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&xce.call(i,e)){const l=String(i[e]);o=xce.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const sat={},oat={}.hasOwnProperty,_Te=bTe("type",{handlers:{root:lat,element:hat,text:dat,comment:fat,doctype:cat}});function aat(e,t){const r=(t||sat).space;return _Te(e,r==="svg"?tv:qR)}function lat(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=BX(e.children,n,t),gS(e,n),n}function uat(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=BX(e.children,n,t),gS(e,n),n}function cat(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return gS(e,t),t}function dat(e){const t={nodeName:"#text",value:e.value,parentNode:null};return gS(e,t),t}function fat(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return gS(e,t),t}function hat(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=tv);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&oat.call(e.properties,s)){const l=pat(r,s,e.properties[s]);l&&i.push(l)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:A1[o],childNodes:[],parentNode:null};return a.childNodes=BX(e.children,a,r),gS(e,a),e.tagName==="template"&&e.content&&(a.content=uat(e.content,r)),a}function pat(e,t,n){const r=s6(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?NSe(n):zSe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=A1[r.space]}return i}function BX(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=_Te(e[r],n);s.parentNode=t,i.push(s)}return i}function gS(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const mat=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],gat=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Di="�";var Q;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(Q=Q||(Q={}));const kl={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function wTe(e){return e>=55296&&e<=57343}function yat(e){return e>=56320&&e<=57343}function vat(e,t){return(e-55296)*1024+9216+t}function ETe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function xTe(e){return e>=64976&&e<=65007||gat.has(e)}var Oe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Oe=Oe||(Oe={}));const bat=65536;class _at{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=bat,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(yat(n))return this.pos++,this._addGap(),vat(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Q.EOF;return this._err(Oe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Q.EOF;const r=this.html.charCodeAt(n);return r===Q.CARRIAGE_RETURN?Q.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Q.EOF;let t=this.html.charCodeAt(this.pos);return t===Q.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Q.LINE_FEED):t===Q.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,wTe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===Q.LINE_FEED||t===Q.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){ETe(t)?this._err(Oe.controlCharacterInInputStream):xTe(t)&&this._err(Oe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var jn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(jn=jn||(jn={}));function STe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Hg=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),wat=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var fB;const Eat=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),xat=(fB=String.fromCodePoint)!==null&&fB!==void 0?fB:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Sat(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Eat.get(e))!==null&&t!==void 0?t:e}var mo;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(mo||(mo={}));const Tat=32;var Ih;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ih||(Ih={}));function XU(e){return e>=mo.ZERO&&e<=mo.NINE}function Cat(e){return e>=mo.UPPER_A&&e<=mo.UPPER_F||e>=mo.LOWER_A&&e<=mo.LOWER_F}function Aat(e){return e>=mo.UPPER_A&&e<=mo.UPPER_Z||e>=mo.LOWER_A&&e<=mo.LOWER_Z||XU(e)}function Iat(e){return e===mo.EQUALS||Aat(e)}var co;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(co||(co={}));var u1;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(u1||(u1={}));class Rat{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=co.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=u1.Strict}startEntity(t){this.decodeMode=t,this.state=co.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case co.EntityStart:return t.charCodeAt(n)===mo.NUM?(this.state=co.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=co.NamedEntity,this.stateNamedEntity(t,n));case co.NumericStart:return this.stateNumericStart(t,n);case co.NumericDecimal:return this.stateNumericDecimal(t,n);case co.NumericHex:return this.stateNumericHex(t,n);case co.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Tat)===mo.LOWER_X?(this.state=co.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=co.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XU(i)||Cat(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XU(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===mo.SEMI)this.consumed+=1;else if(this.decodeMode===u1.Strict)return 0;return this.emitCodePoint(Sat(this.result),this.consumed),this.errors&&(t!==mo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ih.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=CTe(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===u1.Attribute&&(s===0||Iat(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ih.VALUE_LENGTH)>>14,s!==0){if(o===mo.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==u1.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ih.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ih.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case co.NamedEntity:return this.result!==0&&(this.decodeMode!==u1.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case co.NumericDecimal:return this.emitNumericEntity(0,2);case co.NumericHex:return this.emitNumericEntity(0,3);case co.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case co.EntityStart:return 0}}}function TTe(e){let t="";const n=new Rat(e,r=>t+=xat(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=t+i.slice(o);return t="",l}}function CTe(e,t,n,r){const i=(t&Ih.BRANCH_LENGTH)>>7,s=t&Ih.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}TTe(Hg);TTe(wat);var He;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(He=He||(He={}));var V0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(V0=V0||(V0={}));var Ou;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Ou=Ou||(Ou={}));var Ae;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ae=Ae||(Ae={}));var O;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(O=O||(O={}));const kat=new Map([[Ae.A,O.A],[Ae.ADDRESS,O.ADDRESS],[Ae.ANNOTATION_XML,O.ANNOTATION_XML],[Ae.APPLET,O.APPLET],[Ae.AREA,O.AREA],[Ae.ARTICLE,O.ARTICLE],[Ae.ASIDE,O.ASIDE],[Ae.B,O.B],[Ae.BASE,O.BASE],[Ae.BASEFONT,O.BASEFONT],[Ae.BGSOUND,O.BGSOUND],[Ae.BIG,O.BIG],[Ae.BLOCKQUOTE,O.BLOCKQUOTE],[Ae.BODY,O.BODY],[Ae.BR,O.BR],[Ae.BUTTON,O.BUTTON],[Ae.CAPTION,O.CAPTION],[Ae.CENTER,O.CENTER],[Ae.CODE,O.CODE],[Ae.COL,O.COL],[Ae.COLGROUP,O.COLGROUP],[Ae.DD,O.DD],[Ae.DESC,O.DESC],[Ae.DETAILS,O.DETAILS],[Ae.DIALOG,O.DIALOG],[Ae.DIR,O.DIR],[Ae.DIV,O.DIV],[Ae.DL,O.DL],[Ae.DT,O.DT],[Ae.EM,O.EM],[Ae.EMBED,O.EMBED],[Ae.FIELDSET,O.FIELDSET],[Ae.FIGCAPTION,O.FIGCAPTION],[Ae.FIGURE,O.FIGURE],[Ae.FONT,O.FONT],[Ae.FOOTER,O.FOOTER],[Ae.FOREIGN_OBJECT,O.FOREIGN_OBJECT],[Ae.FORM,O.FORM],[Ae.FRAME,O.FRAME],[Ae.FRAMESET,O.FRAMESET],[Ae.H1,O.H1],[Ae.H2,O.H2],[Ae.H3,O.H3],[Ae.H4,O.H4],[Ae.H5,O.H5],[Ae.H6,O.H6],[Ae.HEAD,O.HEAD],[Ae.HEADER,O.HEADER],[Ae.HGROUP,O.HGROUP],[Ae.HR,O.HR],[Ae.HTML,O.HTML],[Ae.I,O.I],[Ae.IMG,O.IMG],[Ae.IMAGE,O.IMAGE],[Ae.INPUT,O.INPUT],[Ae.IFRAME,O.IFRAME],[Ae.KEYGEN,O.KEYGEN],[Ae.LABEL,O.LABEL],[Ae.LI,O.LI],[Ae.LINK,O.LINK],[Ae.LISTING,O.LISTING],[Ae.MAIN,O.MAIN],[Ae.MALIGNMARK,O.MALIGNMARK],[Ae.MARQUEE,O.MARQUEE],[Ae.MATH,O.MATH],[Ae.MENU,O.MENU],[Ae.META,O.META],[Ae.MGLYPH,O.MGLYPH],[Ae.MI,O.MI],[Ae.MO,O.MO],[Ae.MN,O.MN],[Ae.MS,O.MS],[Ae.MTEXT,O.MTEXT],[Ae.NAV,O.NAV],[Ae.NOBR,O.NOBR],[Ae.NOFRAMES,O.NOFRAMES],[Ae.NOEMBED,O.NOEMBED],[Ae.NOSCRIPT,O.NOSCRIPT],[Ae.OBJECT,O.OBJECT],[Ae.OL,O.OL],[Ae.OPTGROUP,O.OPTGROUP],[Ae.OPTION,O.OPTION],[Ae.P,O.P],[Ae.PARAM,O.PARAM],[Ae.PLAINTEXT,O.PLAINTEXT],[Ae.PRE,O.PRE],[Ae.RB,O.RB],[Ae.RP,O.RP],[Ae.RT,O.RT],[Ae.RTC,O.RTC],[Ae.RUBY,O.RUBY],[Ae.S,O.S],[Ae.SCRIPT,O.SCRIPT],[Ae.SECTION,O.SECTION],[Ae.SELECT,O.SELECT],[Ae.SOURCE,O.SOURCE],[Ae.SMALL,O.SMALL],[Ae.SPAN,O.SPAN],[Ae.STRIKE,O.STRIKE],[Ae.STRONG,O.STRONG],[Ae.STYLE,O.STYLE],[Ae.SUB,O.SUB],[Ae.SUMMARY,O.SUMMARY],[Ae.SUP,O.SUP],[Ae.TABLE,O.TABLE],[Ae.TBODY,O.TBODY],[Ae.TEMPLATE,O.TEMPLATE],[Ae.TEXTAREA,O.TEXTAREA],[Ae.TFOOT,O.TFOOT],[Ae.TD,O.TD],[Ae.TH,O.TH],[Ae.THEAD,O.THEAD],[Ae.TITLE,O.TITLE],[Ae.TR,O.TR],[Ae.TRACK,O.TRACK],[Ae.TT,O.TT],[Ae.U,O.U],[Ae.UL,O.UL],[Ae.SVG,O.SVG],[Ae.VAR,O.VAR],[Ae.WBR,O.WBR],[Ae.XMP,O.XMP]]);function yS(e){var t;return(t=kat.get(e))!==null&&t!==void 0?t:O.UNKNOWN}const it=O,Pat={[He.HTML]:new Set([it.ADDRESS,it.APPLET,it.AREA,it.ARTICLE,it.ASIDE,it.BASE,it.BASEFONT,it.BGSOUND,it.BLOCKQUOTE,it.BODY,it.BR,it.BUTTON,it.CAPTION,it.CENTER,it.COL,it.COLGROUP,it.DD,it.DETAILS,it.DIR,it.DIV,it.DL,it.DT,it.EMBED,it.FIELDSET,it.FIGCAPTION,it.FIGURE,it.FOOTER,it.FORM,it.FRAME,it.FRAMESET,it.H1,it.H2,it.H3,it.H4,it.H5,it.H6,it.HEAD,it.HEADER,it.HGROUP,it.HR,it.HTML,it.IFRAME,it.IMG,it.INPUT,it.LI,it.LINK,it.LISTING,it.MAIN,it.MARQUEE,it.MENU,it.META,it.NAV,it.NOEMBED,it.NOFRAMES,it.NOSCRIPT,it.OBJECT,it.OL,it.P,it.PARAM,it.PLAINTEXT,it.PRE,it.SCRIPT,it.SECTION,it.SELECT,it.SOURCE,it.STYLE,it.SUMMARY,it.TABLE,it.TBODY,it.TD,it.TEMPLATE,it.TEXTAREA,it.TFOOT,it.TH,it.THEAD,it.TITLE,it.TR,it.TRACK,it.UL,it.WBR,it.XMP]),[He.MATHML]:new Set([it.MI,it.MO,it.MN,it.MS,it.MTEXT,it.ANNOTATION_XML]),[He.SVG]:new Set([it.TITLE,it.FOREIGN_OBJECT,it.DESC]),[He.XLINK]:new Set,[He.XML]:new Set,[He.XMLNS]:new Set};function ATe(e){return e===it.H1||e===it.H2||e===it.H3||e===it.H4||e===it.H5||e===it.H6}Ae.STYLE,Ae.SCRIPT,Ae.XMP,Ae.IFRAME,Ae.NOEMBED,Ae.NOFRAMES,Ae.PLAINTEXT;const Nat=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var Z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(Z||(Z={}));const Es={DATA:Z.DATA,RCDATA:Z.RCDATA,RAWTEXT:Z.RAWTEXT,SCRIPT_DATA:Z.SCRIPT_DATA,PLAINTEXT:Z.PLAINTEXT,CDATA_SECTION:Z.CDATA_SECTION};function j2(e){return e>=Q.DIGIT_0&&e<=Q.DIGIT_9}function PC(e){return e>=Q.LATIN_CAPITAL_A&&e<=Q.LATIN_CAPITAL_Z}function Oat(e){return e>=Q.LATIN_SMALL_A&&e<=Q.LATIN_SMALL_Z}function qg(e){return Oat(e)||PC(e)}function QU(e){return qg(e)||j2(e)}function ITe(e){return e>=Q.LATIN_CAPITAL_A&&e<=Q.LATIN_CAPITAL_F}function RTe(e){return e>=Q.LATIN_SMALL_A&&e<=Q.LATIN_SMALL_F}function Dat(e){return j2(e)||ITe(e)||RTe(e)}function uN(e){return e+32}function kTe(e){return e===Q.SPACE||e===Q.LINE_FEED||e===Q.TABULATION||e===Q.FORM_FEED}function Mat(e){return e===Q.EQUALS_SIGN||QU(e)}function Sce(e){return kTe(e)||e===Q.SOLIDUS||e===Q.GREATER_THAN_SIGN}class $at{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Z.DATA,this.returnState=Z.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new _at(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:jn.START_TAG,tagName:"",tagID:O.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:jn.END_TAG,tagName:"",tagID:O.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:jn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:jn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(STe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Oe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=yS(t.tagName),t.type===jn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Oe.endTagWithAttributes),t.selfClosing&&this._err(Oe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case jn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case jn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case jn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:jn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=kTe(t)?jn.WHITESPACE_CHARACTER:t===Q.NULL?jn.NULL_CHARACTER:jn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(jn.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Hg[0];s>=0&&(s=CTe(Hg,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Hg[s];const a=o&Ih.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==Q.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Mat(this.preprocessor.peek(1))?(n=[Q.AMPERSAND],s+=l):(n=l===0?[Hg[s]&~Ih.VALUE_LENGTH]:l===1?[Hg[++s]]:[Hg[++s],Hg[++s]],r=0,i=t!==Q.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Oe.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case Z.DATA:{this._stateData(t);break}case Z.RCDATA:{this._stateRcdata(t);break}case Z.RAWTEXT:{this._stateRawtext(t);break}case Z.SCRIPT_DATA:{this._stateScriptData(t);break}case Z.PLAINTEXT:{this._statePlaintext(t);break}case Z.TAG_OPEN:{this._stateTagOpen(t);break}case Z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case Z.TAG_NAME:{this._stateTagName(t);break}case Z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case Z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case Z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case Z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case Z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case Z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case Z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case Z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case Z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case Z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case Z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case Z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case Z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case Z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case Z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case Z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case Z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case Z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case Z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case Z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case Z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case Z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case Z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case Z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case Z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case Z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case Z.COMMENT_START:{this._stateCommentStart(t);break}case Z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case Z.COMMENT:{this._stateComment(t);break}case Z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case Z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case Z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case Z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case Z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case Z.COMMENT_END:{this._stateCommentEnd(t);break}case Z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case Z.DOCTYPE:{this._stateDoctype(t);break}case Z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case Z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case Z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case Z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case Z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case Z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case Z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case Z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case Z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case Z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case Z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case Z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case Z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case Z.CDATA_SECTION:{this._stateCdataSection(t);break}case Z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case Z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case Z.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case Z.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case Z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case Z.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case Z.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case Z.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case Z.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case Z.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case Q.LESS_THAN_SIGN:{this.state=Z.TAG_OPEN;break}case Q.AMPERSAND:{this.returnState=Z.DATA,this.state=Z.CHARACTER_REFERENCE;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitCodePoint(t);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case Q.AMPERSAND:{this.returnState=Z.RCDATA,this.state=Z.CHARACTER_REFERENCE;break}case Q.LESS_THAN_SIGN:{this.state=Z.RCDATA_LESS_THAN_SIGN;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitChars(Di);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case Q.LESS_THAN_SIGN:{this.state=Z.RAWTEXT_LESS_THAN_SIGN;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitChars(Di);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_LESS_THAN_SIGN;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitChars(Di);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitChars(Di);break}case Q.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(qg(t))this._createStartTagToken(),this.state=Z.TAG_NAME,this._stateTagName(t);else switch(t){case Q.EXCLAMATION_MARK:{this.state=Z.MARKUP_DECLARATION_OPEN;break}case Q.SOLIDUS:{this.state=Z.END_TAG_OPEN;break}case Q.QUESTION_MARK:{this._err(Oe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Z.BOGUS_COMMENT,this._stateBogusComment(t);break}case Q.EOF:{this._err(Oe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Oe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(qg(t))this._createEndTagToken(),this.state=Z.TAG_NAME,this._stateTagName(t);else switch(t){case Q.GREATER_THAN_SIGN:{this._err(Oe.missingEndTagName),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Oe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=Z.BEFORE_ATTRIBUTE_NAME;break}case Q.SOLIDUS:{this.state=Z.SELF_CLOSING_START_TAG;break}case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentTagToken();break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.tagName+=Di;break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(PC(t)?uN(t):t)}}_stateRcdataLessThanSign(t){t===Q.SOLIDUS?this.state=Z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){qg(t)?(this.state=Z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=Z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Z.BEFORE_ATTRIBUTE_NAME,!1;case Q.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Z.SELF_CLOSING_START_TAG,!1;case Q.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===Q.SOLIDUS?this.state=Z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){qg(t)?(this.state=Z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=Z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case Q.SOLIDUS:{this.state=Z.SCRIPT_DATA_END_TAG_OPEN;break}case Q.EXCLAMATION_MARK:{this.state=Z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){qg(t)?(this.state=Z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===Q.HYPHEN_MINUS?(this.state=Z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===Q.HYPHEN_MINUS?(this.state=Z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case Q.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitChars(Di);break}case Q.EOF:{this._err(Oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case Q.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_ESCAPED,this._emitChars(Di);break}case Q.EOF:{this._err(Oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case Q.HYPHEN_MINUS:{this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Q.GREATER_THAN_SIGN:{this.state=Z.SCRIPT_DATA,this._emitChars(">");break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_ESCAPED,this._emitChars(Di);break}case Q.EOF:{this._err(Oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===Q.SOLIDUS?this.state=Z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:qg(t)?(this._emitChars("<"),this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){qg(t)?(this.state=Z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(kl.SCRIPT,!1)&&Sce(this.preprocessor.peek(kl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<kl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case Q.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._emitChars(Di);break}case Q.EOF:{this._err(Oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case Q.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Di);break}case Q.EOF:{this._err(Oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case Q.HYPHEN_MINUS:{this._emitChars("-");break}case Q.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Q.GREATER_THAN_SIGN:{this.state=Z.SCRIPT_DATA,this._emitChars(">");break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Di);break}case Q.EOF:{this._err(Oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===Q.SOLIDUS?(this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(kl.SCRIPT,!1)&&Sce(this.preprocessor.peek(kl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<kl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.SOLIDUS:case Q.GREATER_THAN_SIGN:case Q.EOF:{this.state=Z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case Q.EQUALS_SIGN:{this._err(Oe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:case Q.SOLIDUS:case Q.GREATER_THAN_SIGN:case Q.EOF:{this._leaveAttrName(),this.state=Z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case Q.EQUALS_SIGN:{this._leaveAttrName(),this.state=Z.BEFORE_ATTRIBUTE_VALUE;break}case Q.QUOTATION_MARK:case Q.APOSTROPHE:case Q.LESS_THAN_SIGN:{this._err(Oe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.currentAttr.name+=Di;break}default:this.currentAttr.name+=String.fromCodePoint(PC(t)?uN(t):t)}}_stateAfterAttributeName(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.SOLIDUS:{this.state=Z.SELF_CLOSING_START_TAG;break}case Q.EQUALS_SIGN:{this.state=Z.BEFORE_ATTRIBUTE_VALUE;break}case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentTagToken();break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.QUOTATION_MARK:{this.state=Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this.state=Z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.missingAttributeValue),this.state=Z.DATA,this.emitCurrentTagToken();break}default:this.state=Z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case Q.QUOTATION_MARK:{this.state=Z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Q.AMPERSAND:{this.returnState=Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=Z.CHARACTER_REFERENCE;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.currentAttr.value+=Di;break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case Q.APOSTROPHE:{this.state=Z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Q.AMPERSAND:{this.returnState=Z.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=Z.CHARACTER_REFERENCE;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.currentAttr.value+=Di;break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this._leaveAttrValue(),this.state=Z.BEFORE_ATTRIBUTE_NAME;break}case Q.AMPERSAND:{this.returnState=Z.ATTRIBUTE_VALUE_UNQUOTED,this.state=Z.CHARACTER_REFERENCE;break}case Q.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Z.DATA,this.emitCurrentTagToken();break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this.currentAttr.value+=Di;break}case Q.QUOTATION_MARK:case Q.APOSTROPHE:case Q.LESS_THAN_SIGN:case Q.EQUALS_SIGN:case Q.GRAVE_ACCENT:{this._err(Oe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this._leaveAttrValue(),this.state=Z.BEFORE_ATTRIBUTE_NAME;break}case Q.SOLIDUS:{this._leaveAttrValue(),this.state=Z.SELF_CLOSING_START_TAG;break}case Q.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Z.DATA,this.emitCurrentTagToken();break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:this._err(Oe.missingWhitespaceBetweenAttributes),this.state=Z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case Q.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=Z.DATA,this.emitCurrentTagToken();break}case Q.EOF:{this._err(Oe.eofInTag),this._emitEOFToken();break}default:this._err(Oe.unexpectedSolidusInTag),this.state=Z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentComment(n);break}case Q.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.data+=Di;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(kl.DASH_DASH,!0)?(this._createCommentToken(kl.DASH_DASH.length+1),this.state=Z.COMMENT_START):this._consumeSequenceIfMatch(kl.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(kl.DOCTYPE.length+1),this.state=Z.DOCTYPE):this._consumeSequenceIfMatch(kl.CDATA_START,!0)?this.inForeignNode?this.state=Z.CDATA_SECTION:(this._err(Oe.cdataInHtmlContent),this._createCommentToken(kl.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Oe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case Q.HYPHEN_MINUS:{this.state=Z.COMMENT_START_DASH;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.abruptClosingOfEmptyComment),this.state=Z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{this.state=Z.COMMENT_END;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.abruptClosingOfEmptyComment),this.state=Z.DATA,this.emitCurrentComment(n);break}case Q.EOF:{this._err(Oe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{this.state=Z.COMMENT_END_DASH;break}case Q.LESS_THAN_SIGN:{n.data+="<",this.state=Z.COMMENT_LESS_THAN_SIGN;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.data+=Di;break}case Q.EOF:{this._err(Oe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case Q.EXCLAMATION_MARK:{n.data+="!",this.state=Z.COMMENT_LESS_THAN_SIGN_BANG;break}case Q.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===Q.HYPHEN_MINUS?this.state=Z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===Q.HYPHEN_MINUS?this.state=Z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==Q.GREATER_THAN_SIGN&&t!==Q.EOF&&this._err(Oe.nestedComment),this.state=Z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{this.state=Z.COMMENT_END;break}case Q.EOF:{this._err(Oe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentComment(n);break}case Q.EXCLAMATION_MARK:{this.state=Z.COMMENT_END_BANG;break}case Q.HYPHEN_MINUS:{n.data+="-";break}case Q.EOF:{this._err(Oe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case Q.HYPHEN_MINUS:{n.data+="--!",this.state=Z.COMMENT_END_DASH;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.incorrectlyClosedComment),this.state=Z.DATA,this.emitCurrentComment(n);break}case Q.EOF:{this._err(Oe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=Z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=Z.BEFORE_DOCTYPE_NAME;break}case Q.GREATER_THAN_SIGN:{this.state=Z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case Q.EOF:{this._err(Oe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingWhitespaceBeforeDoctypeName),this.state=Z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(PC(t))this._createDoctypeToken(String.fromCharCode(uN(t))),this.state=Z.DOCTYPE_NAME;else switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.NULL:{this._err(Oe.unexpectedNullCharacter),this._createDoctypeToken(Di),this.state=Z.DOCTYPE_NAME;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=Z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=Z.AFTER_DOCTYPE_NAME;break}case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.name+=Di;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(PC(t)?uN(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(kl.PUBLIC,!1)?this.state=Z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(kl.SYSTEM,!1)?this.state=Z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Oe.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=Z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case Q.QUOTATION_MARK:{this._err(Oe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this._err(Oe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.QUOTATION_MARK:{n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case Q.QUOTATION_MARK:{this.state=Z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.publicId+=Di;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case Q.APOSTROPHE:{this.state=Z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.publicId+=Di;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=Z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case Q.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.QUOTATION_MARK:{this._err(Oe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this._err(Oe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.QUOTATION_MARK:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:{this.state=Z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case Q.QUOTATION_MARK:{this._err(Oe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{this._err(Oe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.QUOTATION_MARK:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Q.APOSTROPHE:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case Q.QUOTATION_MARK:{this.state=Z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.systemId+=Di;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case Q.APOSTROPHE:{this.state=Z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter),n.systemId+=Di;break}case Q.GREATER_THAN_SIGN:{this._err(Oe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case Q.SPACE:case Q.LINE_FEED:case Q.TABULATION:case Q.FORM_FEED:break;case Q.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.EOF:{this._err(Oe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Oe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case Q.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Z.DATA;break}case Q.NULL:{this._err(Oe.unexpectedNullCharacter);break}case Q.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case Q.RIGHT_SQUARE_BRACKET:{this.state=Z.CDATA_SECTION_BRACKET;break}case Q.EOF:{this._err(Oe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===Q.RIGHT_SQUARE_BRACKET?this.state=Z.CDATA_SECTION_END:(this._emitChars("]"),this.state=Z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case Q.GREATER_THAN_SIGN:{this.state=Z.DATA;break}case Q.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===Q.NUMBER_SIGN?this.state=Z.NUMERIC_CHARACTER_REFERENCE:QU(t)?(this.state=Z.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this.state=Z.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){QU(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===Q.SEMICOLON&&this._err(Oe.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===Q.LATIN_SMALL_X||t===Q.LATIN_CAPITAL_X?this.state=Z.HEXADEMICAL_CHARACTER_REFERENCE_START:j2(t)?(this.state=Z.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Oe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Q.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){Dat(t)?(this.state=Z.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Oe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Q.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Q.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){ITe(t)?this.charRefCode=this.charRefCode*16+t-55:RTe(t)?this.charRefCode=this.charRefCode*16+t-87:j2(t)?this.charRefCode=this.charRefCode*16+t-48:t===Q.SEMICOLON?this.state=Z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Oe.missingSemicolonAfterCharacterReference),this.state=Z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){j2(t)?this.charRefCode=this.charRefCode*10+t-48:t===Q.SEMICOLON?this.state=Z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Oe.missingSemicolonAfterCharacterReference),this.state=Z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===Q.NULL)this._err(Oe.nullCharacterReference),this.charRefCode=Q.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Oe.characterReferenceOutsideUnicodeRange),this.charRefCode=Q.REPLACEMENT_CHARACTER;else if(wTe(this.charRefCode))this._err(Oe.surrogateCharacterReference),this.charRefCode=Q.REPLACEMENT_CHARACTER;else if(xTe(this.charRefCode))this._err(Oe.noncharacterCharacterReference);else if(ETe(this.charRefCode)||this.charRefCode===Q.CARRIAGE_RETURN){this._err(Oe.controlCharacterReference);const n=Nat.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const PTe=new Set([O.DD,O.DT,O.LI,O.OPTGROUP,O.OPTION,O.P,O.RB,O.RP,O.RT,O.RTC]),Tce=new Set([...PTe,O.CAPTION,O.COLGROUP,O.TBODY,O.TD,O.TFOOT,O.TH,O.THEAD,O.TR]),cN=new Map([[O.APPLET,He.HTML],[O.CAPTION,He.HTML],[O.HTML,He.HTML],[O.MARQUEE,He.HTML],[O.OBJECT,He.HTML],[O.TABLE,He.HTML],[O.TD,He.HTML],[O.TEMPLATE,He.HTML],[O.TH,He.HTML],[O.ANNOTATION_XML,He.MATHML],[O.MI,He.MATHML],[O.MN,He.MATHML],[O.MO,He.MATHML],[O.MS,He.MATHML],[O.MTEXT,He.MATHML],[O.DESC,He.SVG],[O.FOREIGN_OBJECT,He.SVG],[O.TITLE,He.SVG]]),Lat=[O.H1,O.H2,O.H3,O.H4,O.H5,O.H6],Fat=[O.TR,O.TEMPLATE,O.HTML],jat=[O.TBODY,O.TFOOT,O.THEAD,O.TEMPLATE,O.HTML],Bat=[O.TABLE,O.TEMPLATE,O.HTML],zat=[O.TD,O.TH];class Uat{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=O.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===O.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===He.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==He.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Lat,He.HTML)}popUntilTableCellPopped(){this.popUntilPopped(zat,He.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Bat,He.HTML)}clearBackToTableBodyContext(){this.clearBackTo(jat,He.HTML)}clearBackToTableRowContext(){this.clearBackTo(Fat,He.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===O.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===O.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===He.HTML)return!0;if(cN.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(ATe(n)&&r===He.HTML)return!0;if(cN.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===He.HTML)return!0;if((r===O.UL||r===O.OL)&&i===He.HTML||cN.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===He.HTML)return!0;if(r===O.BUTTON&&i===He.HTML||cN.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===He.HTML){if(r===t)return!0;if(r===O.TABLE||r===O.TEMPLATE||r===O.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===He.HTML){if(n===O.TBODY||n===O.THEAD||n===O.TFOOT)return!0;if(n===O.TABLE||n===O.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===He.HTML){if(r===t)return!0;if(r!==O.OPTION&&r!==O.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;PTe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Tce.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Tce.has(this.currentTagId);)this.pop()}}const hB=3;var Bd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Bd=Bd||(Bd={}));const Cce={type:Bd.Marker};class Vat{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Bd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<hB)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<hB)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=hB&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Cce)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Bd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Bd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Cce);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Bd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Bd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Bd.Element&&n.element===t)}}function Ace(e){return{nodeName:"#text",value:e,parentNode:null}}const aw={createDocument(){return{nodeName:"#document",mode:Ou.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};aw.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(aw.isTextNode(n)){n.value+=t;return}}aw.appendChild(e,Ace(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&aw.isTextNode(r)?r.value+=t:aw.insertBefore(e,Ace(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},NTe="html",Hat="about:legacy-compat",qat="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",OTe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Wat=[...OTe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Gat=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),DTe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Yat=[...DTe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ice(e,t){return t.some(n=>e.startsWith(n))}function Kat(e){return e.name===NTe&&e.publicId===null&&(e.systemId===null||e.systemId===Hat)}function Xat(e){if(e.name!==NTe)return Ou.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===qat)return Ou.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Gat.has(n))return Ou.QUIRKS;let r=t===null?Wat:OTe;if(Ice(n,r))return Ou.QUIRKS;if(r=t===null?DTe:Yat,Ice(n,r))return Ou.LIMITED_QUIRKS}return Ou.NO_QUIRKS}const Rce={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Qat="definitionurl",Jat="definitionURL",Zat=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),elt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:He.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:He.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:He.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:He.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:He.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:He.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:He.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:He.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:He.XML}],["xml:space",{prefix:"xml",name:"space",namespace:He.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:He.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:He.XMLNS}]]),tlt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),nlt=new Set([O.B,O.BIG,O.BLOCKQUOTE,O.BODY,O.BR,O.CENTER,O.CODE,O.DD,O.DIV,O.DL,O.DT,O.EM,O.EMBED,O.H1,O.H2,O.H3,O.H4,O.H5,O.H6,O.HEAD,O.HR,O.I,O.IMG,O.LI,O.LISTING,O.MENU,O.META,O.NOBR,O.OL,O.P,O.PRE,O.RUBY,O.S,O.SMALL,O.SPAN,O.STRONG,O.STRIKE,O.SUB,O.SUP,O.TABLE,O.TT,O.U,O.UL,O.VAR]);function rlt(e){const t=e.tagID;return t===O.FONT&&e.attrs.some(({name:r})=>r===V0.COLOR||r===V0.SIZE||r===V0.FACE)||nlt.has(t)}function MTe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Qat){e.attrs[t].name=Jat;break}}function $Te(e){for(let t=0;t<e.attrs.length;t++){const n=Zat.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function zX(e){for(let t=0;t<e.attrs.length;t++){const n=elt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function ilt(e){const t=tlt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=yS(e.tagName))}function slt(e,t){return t===He.MATHML&&(e===O.MI||e===O.MO||e===O.MN||e===O.MS||e===O.MTEXT)}function olt(e,t,n){if(t===He.MATHML&&e===O.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===V0.ENCODING){const i=n[r].value.toLowerCase();return i===Rce.TEXT_HTML||i===Rce.APPLICATION_XML}}return t===He.SVG&&(e===O.FOREIGN_OBJECT||e===O.DESC||e===O.TITLE)}function alt(e,t,n,r){return(!r||r===He.HTML)&&olt(e,t,n)||(!r||r===He.MATHML)&&slt(e,t)}const llt="hidden",ult=8,clt=3;var ue;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ue||(ue={}));const dlt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},LTe=new Set([O.TABLE,O.TBODY,O.TFOOT,O.THEAD,O.TR]),kce={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:aw,onParseError:null};let Pce=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ue.INITIAL,this.originalInsertionMode=ue.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...kce,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new $at(this.options,this),this.activeFormattingElements=new Vat(this.treeAdapter),this.fragmentContextID=r?yS(this.treeAdapter.getTagName(r)):O.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Uat(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...kce,...n};t??(t=r.treeAdapter.createElement(Ae.TEMPLATE,He.HTML,[]));const i=r.treeAdapter.createElement("documentmock",He.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===O.TEMPLATE&&s.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:dlt,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===He.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,He.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ue.TEXT}switchToPlaintextParsing(){this.insertionMode=ue.TEXT,this.originalInsertionMode=ue.IN_BODY,this.tokenizer.state=Es.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ae.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==He.HTML))switch(this.fragmentContextID){case O.TITLE:case O.TEXTAREA:{this.tokenizer.state=Es.RCDATA;break}case O.STYLE:case O.XMP:case O.IFRAME:case O.NOEMBED:case O.NOFRAMES:case O.NOSCRIPT:{this.tokenizer.state=Es.RAWTEXT;break}case O.SCRIPT:{this.tokenizer.state=Es.SCRIPT_DATA;break}case O.PLAINTEXT:{this.tokenizer.state=Es.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,He.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,He.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ae.HTML,He.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,O.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===jn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===O.SVG&&this.treeAdapter.getTagName(n)===Ae.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===He.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===O.MGLYPH||t.tagID===O.MALIGNMARK)&&!this._isIntegrationPoint(r,n,He.HTML)}_processToken(t){switch(t.type){case jn.CHARACTER:{this.onCharacter(t);break}case jn.NULL_CHARACTER:{this.onNullCharacter(t);break}case jn.COMMENT:{this.onComment(t);break}case jn.DOCTYPE:{this.onDoctype(t);break}case jn.START_TAG:{this._processStartTag(t);break}case jn.END_TAG:{this.onEndTag(t);break}case jn.EOF:{this.onEof(t);break}case jn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return alt(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Bd.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ue.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(O.P),this.openElements.popUntilTagNamePopped(O.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case O.TR:{this.insertionMode=ue.IN_ROW;return}case O.TBODY:case O.THEAD:case O.TFOOT:{this.insertionMode=ue.IN_TABLE_BODY;return}case O.CAPTION:{this.insertionMode=ue.IN_CAPTION;return}case O.COLGROUP:{this.insertionMode=ue.IN_COLUMN_GROUP;return}case O.TABLE:{this.insertionMode=ue.IN_TABLE;return}case O.BODY:{this.insertionMode=ue.IN_BODY;return}case O.FRAMESET:{this.insertionMode=ue.IN_FRAMESET;return}case O.SELECT:{this._resetInsertionModeForSelect(t);return}case O.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case O.HTML:{this.insertionMode=this.headElement?ue.AFTER_HEAD:ue.BEFORE_HEAD;return}case O.TD:case O.TH:{if(t>0){this.insertionMode=ue.IN_CELL;return}break}case O.HEAD:{if(t>0){this.insertionMode=ue.IN_HEAD;return}break}}this.insertionMode=ue.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===O.TEMPLATE)break;if(r===O.TABLE){this.insertionMode=ue.IN_SELECT_IN_TABLE;return}}this.insertionMode=ue.IN_SELECT}_isElementCausesFosterParenting(t){return LTe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case O.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===He.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case O.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Pat[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){zut(this,t);return}switch(this.insertionMode){case ue.INITIAL:{MT(this,t);break}case ue.BEFORE_HTML:{B2(this,t);break}case ue.BEFORE_HEAD:{z2(this,t);break}case ue.IN_HEAD:{U2(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{V2(this,t);break}case ue.AFTER_HEAD:{H2(this,t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:{jTe(this,t);break}case ue.TEXT:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{pB(this,t);break}case ue.IN_TABLE_TEXT:{qTe(this,t);break}case ue.IN_COLUMN_GROUP:{YM(this,t);break}case ue.AFTER_BODY:{KM(this,t);break}case ue.AFTER_AFTER_BODY:{rD(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){But(this,t);return}switch(this.insertionMode){case ue.INITIAL:{MT(this,t);break}case ue.BEFORE_HTML:{B2(this,t);break}case ue.BEFORE_HEAD:{z2(this,t);break}case ue.IN_HEAD:{U2(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{V2(this,t);break}case ue.AFTER_HEAD:{H2(this,t);break}case ue.TEXT:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{pB(this,t);break}case ue.IN_COLUMN_GROUP:{YM(this,t);break}case ue.AFTER_BODY:{KM(this,t);break}case ue.AFTER_AFTER_BODY:{rD(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){JU(this,t);return}switch(this.insertionMode){case ue.INITIAL:case ue.BEFORE_HTML:case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_TEMPLATE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{JU(this,t);break}case ue.IN_TABLE_TEXT:{$T(this,t);break}case ue.AFTER_BODY:{vlt(this,t);break}case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{blt(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ue.INITIAL:{_lt(this,t);break}case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:{this._err(t,Oe.misplacedDoctype);break}case ue.IN_TABLE_TEXT:{$T(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Oe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Uut(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{MT(this,t);break}case ue.BEFORE_HTML:{wlt(this,t);break}case ue.BEFORE_HEAD:{xlt(this,t);break}case ue.IN_HEAD:{Df(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{Clt(this,t);break}case ue.AFTER_HEAD:{Ilt(this,t);break}case ue.IN_BODY:{Ua(this,t);break}case ue.IN_TABLE:{WE(this,t);break}case ue.IN_TABLE_TEXT:{$T(this,t);break}case ue.IN_CAPTION:{Sut(this,t);break}case ue.IN_COLUMN_GROUP:{HX(this,t);break}case ue.IN_TABLE_BODY:{f6(this,t);break}case ue.IN_ROW:{h6(this,t);break}case ue.IN_CELL:{Aut(this,t);break}case ue.IN_SELECT:{YTe(this,t);break}case ue.IN_SELECT_IN_TABLE:{Rut(this,t);break}case ue.IN_TEMPLATE:{Put(this,t);break}case ue.AFTER_BODY:{Out(this,t);break}case ue.IN_FRAMESET:{Dut(this,t);break}case ue.AFTER_FRAMESET:{$ut(this,t);break}case ue.AFTER_AFTER_BODY:{Fut(this,t);break}case ue.AFTER_AFTER_FRAMESET:{jut(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Vut(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{MT(this,t);break}case ue.BEFORE_HTML:{Elt(this,t);break}case ue.BEFORE_HEAD:{Slt(this,t);break}case ue.IN_HEAD:{Tlt(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{Alt(this,t);break}case ue.AFTER_HEAD:{Rlt(this,t);break}case ue.IN_BODY:{d6(this,t);break}case ue.TEXT:{put(this,t);break}case ue.IN_TABLE:{rI(this,t);break}case ue.IN_TABLE_TEXT:{$T(this,t);break}case ue.IN_CAPTION:{Tut(this,t);break}case ue.IN_COLUMN_GROUP:{Cut(this,t);break}case ue.IN_TABLE_BODY:{ZU(this,t);break}case ue.IN_ROW:{GTe(this,t);break}case ue.IN_CELL:{Iut(this,t);break}case ue.IN_SELECT:{KTe(this,t);break}case ue.IN_SELECT_IN_TABLE:{kut(this,t);break}case ue.IN_TEMPLATE:{Nut(this,t);break}case ue.AFTER_BODY:{QTe(this,t);break}case ue.IN_FRAMESET:{Mut(this,t);break}case ue.AFTER_FRAMESET:{Lut(this,t);break}case ue.AFTER_AFTER_BODY:{rD(this,t);break}}}onEof(t){switch(this.insertionMode){case ue.INITIAL:{MT(this,t);break}case ue.BEFORE_HTML:{B2(this,t);break}case ue.BEFORE_HEAD:{z2(this,t);break}case ue.IN_HEAD:{U2(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{V2(this,t);break}case ue.AFTER_HEAD:{H2(this,t);break}case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{VTe(this,t);break}case ue.TEXT:{mut(this,t);break}case ue.IN_TABLE_TEXT:{$T(this,t);break}case ue.IN_TEMPLATE:{XTe(this,t);break}case ue.AFTER_BODY:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{VX(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===Q.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.TEXT:case ue.IN_COLUMN_GROUP:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{this._insertCharacters(t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:case ue.AFTER_BODY:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{FTe(this,t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{pB(this,t);break}case ue.IN_TABLE_TEXT:{HTe(this,t);break}}}};function flt(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):UTe(e,t),n}function hlt(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function plt(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=clt;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=mlt(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function mlt(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function glt(e,t,n){const r=e.treeAdapter.getTagName(t),i=yS(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===O.TEMPLATE&&s===He.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function ylt(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function UX(e,t){for(let n=0;n<ult;n++){const r=flt(e,t);if(!r)break;const i=hlt(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=plt(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&glt(e,o,s),ylt(e,i,r)}}function JU(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function vlt(e,t){e._appendCommentNode(t,e.openElements.items[0])}function blt(e,t){e._appendCommentNode(t,e.document)}function VX(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function _lt(e,t){e._setDocumentType(t);const n=t.forceQuirks?Ou.QUIRKS:Xat(t);Kat(t)||e._err(t,Oe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ue.BEFORE_HTML}function MT(e,t){e._err(t,Oe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Ou.QUIRKS),e.insertionMode=ue.BEFORE_HTML,e._processToken(t)}function wlt(e,t){t.tagID===O.HTML?(e._insertElement(t,He.HTML),e.insertionMode=ue.BEFORE_HEAD):B2(e,t)}function Elt(e,t){const n=t.tagID;(n===O.HTML||n===O.HEAD||n===O.BODY||n===O.BR)&&B2(e,t)}function B2(e,t){e._insertFakeRootElement(),e.insertionMode=ue.BEFORE_HEAD,e._processToken(t)}function xlt(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.HEAD:{e._insertElement(t,He.HTML),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD;break}default:z2(e,t)}}function Slt(e,t){const n=t.tagID;n===O.HEAD||n===O.BODY||n===O.HTML||n===O.BR?z2(e,t):e._err(t,Oe.endTagWithoutMatchingOpenElement)}function z2(e,t){e._insertFakeElement(Ae.HEAD,O.HEAD),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD,e._processToken(t)}function Df(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.BASE:case O.BASEFONT:case O.BGSOUND:case O.LINK:case O.META:{e._appendElement(t,He.HTML),t.ackSelfClosing=!0;break}case O.TITLE:{e._switchToTextParsing(t,Es.RCDATA);break}case O.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Es.RAWTEXT):(e._insertElement(t,He.HTML),e.insertionMode=ue.IN_HEAD_NO_SCRIPT);break}case O.NOFRAMES:case O.STYLE:{e._switchToTextParsing(t,Es.RAWTEXT);break}case O.SCRIPT:{e._switchToTextParsing(t,Es.SCRIPT_DATA);break}case O.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ue.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE);break}case O.HEAD:{e._err(t,Oe.misplacedStartTagForHeadElement);break}default:U2(e,t)}}function Tlt(e,t){switch(t.tagID){case O.HEAD:{e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD;break}case O.BODY:case O.BR:case O.HTML:{U2(e,t);break}case O.TEMPLATE:{Jb(e,t);break}default:e._err(t,Oe.endTagWithoutMatchingOpenElement)}}function Jb(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==O.TEMPLATE&&e._err(t,Oe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(O.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Oe.endTagWithoutMatchingOpenElement)}function U2(e,t){e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD,e._processToken(t)}function Clt(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.BASEFONT:case O.BGSOUND:case O.HEAD:case O.LINK:case O.META:case O.NOFRAMES:case O.STYLE:{Df(e,t);break}case O.NOSCRIPT:{e._err(t,Oe.nestedNoscriptInHead);break}default:V2(e,t)}}function Alt(e,t){switch(t.tagID){case O.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ue.IN_HEAD;break}case O.BR:{V2(e,t);break}default:e._err(t,Oe.endTagWithoutMatchingOpenElement)}}function V2(e,t){const n=t.type===jn.EOF?Oe.openElementsLeftAfterEof:Oe.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ue.IN_HEAD,e._processToken(t)}function Ilt(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.BODY:{e._insertElement(t,He.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_BODY;break}case O.FRAMESET:{e._insertElement(t,He.HTML),e.insertionMode=ue.IN_FRAMESET;break}case O.BASE:case O.BASEFONT:case O.BGSOUND:case O.LINK:case O.META:case O.NOFRAMES:case O.SCRIPT:case O.STYLE:case O.TEMPLATE:case O.TITLE:{e._err(t,Oe.abandonedHeadElementChild),e.openElements.push(e.headElement,O.HEAD),Df(e,t),e.openElements.remove(e.headElement);break}case O.HEAD:{e._err(t,Oe.misplacedStartTagForHeadElement);break}default:H2(e,t)}}function Rlt(e,t){switch(t.tagID){case O.BODY:case O.HTML:case O.BR:{H2(e,t);break}case O.TEMPLATE:{Jb(e,t);break}default:e._err(t,Oe.endTagWithoutMatchingOpenElement)}}function H2(e,t){e._insertFakeElement(Ae.BODY,O.BODY),e.insertionMode=ue.IN_BODY,c6(e,t)}function c6(e,t){switch(t.type){case jn.CHARACTER:{jTe(e,t);break}case jn.WHITESPACE_CHARACTER:{FTe(e,t);break}case jn.COMMENT:{JU(e,t);break}case jn.START_TAG:{Ua(e,t);break}case jn.END_TAG:{d6(e,t);break}case jn.EOF:{VTe(e,t);break}}}function FTe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function jTe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function klt(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Plt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Nlt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,He.HTML),e.insertionMode=ue.IN_FRAMESET)}function Olt(e,t){e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._insertElement(t,He.HTML)}function Dlt(e,t){e.openElements.hasInButtonScope(O.P)&&e._closePElement(),ATe(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,He.HTML)}function Mlt(e,t){e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._insertElement(t,He.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function $lt(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._insertElement(t,He.HTML),n||(e.formElement=e.openElements.current))}function Llt(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===O.LI&&i===O.LI||(n===O.DD||n===O.DT)&&(i===O.DD||i===O.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==O.ADDRESS&&i!==O.DIV&&i!==O.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._insertElement(t,He.HTML)}function Flt(e,t){e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._insertElement(t,He.HTML),e.tokenizer.state=Es.PLAINTEXT}function jlt(e,t){e.openElements.hasInScope(O.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(O.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.framesetOk=!1}function Blt(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ae.A);n&&(UX(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function zlt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ult(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(O.NOBR)&&(UX(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,He.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Vlt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Hlt(e,t){e.treeAdapter.getDocumentMode(e.document)!==Ou.QUIRKS&&e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._insertElement(t,He.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_TABLE}function BTe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,He.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function zTe(e){const t=STe(e,V0.TYPE);return t!=null&&t.toLowerCase()===llt}function qlt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,He.HTML),zTe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Wlt(e,t){e._appendElement(t,He.HTML),t.ackSelfClosing=!0}function Glt(e,t){e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._appendElement(t,He.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ylt(e,t){t.tagName=Ae.IMG,t.tagID=O.IMG,BTe(e,t)}function Klt(e,t){e._insertElement(t,He.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Es.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ue.TEXT}function Xlt(e,t){e.openElements.hasInButtonScope(O.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Es.RAWTEXT)}function Qlt(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Es.RAWTEXT)}function Nce(e,t){e._switchToTextParsing(t,Es.RAWTEXT)}function Jlt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ue.IN_TABLE||e.insertionMode===ue.IN_CAPTION||e.insertionMode===ue.IN_TABLE_BODY||e.insertionMode===ue.IN_ROW||e.insertionMode===ue.IN_CELL?ue.IN_SELECT_IN_TABLE:ue.IN_SELECT}function Zlt(e,t){e.openElements.currentTagId===O.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML)}function eut(e,t){e.openElements.hasInScope(O.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,He.HTML)}function tut(e,t){e.openElements.hasInScope(O.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(O.RTC),e._insertElement(t,He.HTML)}function nut(e,t){e._reconstructActiveFormattingElements(),MTe(t),zX(t),t.selfClosing?e._appendElement(t,He.MATHML):e._insertElement(t,He.MATHML),t.ackSelfClosing=!0}function rut(e,t){e._reconstructActiveFormattingElements(),$Te(t),zX(t),t.selfClosing?e._appendElement(t,He.SVG):e._insertElement(t,He.SVG),t.ackSelfClosing=!0}function Oce(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,He.HTML)}function Ua(e,t){switch(t.tagID){case O.I:case O.S:case O.B:case O.U:case O.EM:case O.TT:case O.BIG:case O.CODE:case O.FONT:case O.SMALL:case O.STRIKE:case O.STRONG:{zlt(e,t);break}case O.A:{Blt(e,t);break}case O.H1:case O.H2:case O.H3:case O.H4:case O.H5:case O.H6:{Dlt(e,t);break}case O.P:case O.DL:case O.OL:case O.UL:case O.DIV:case O.DIR:case O.NAV:case O.MAIN:case O.MENU:case O.ASIDE:case O.CENTER:case O.FIGURE:case O.FOOTER:case O.HEADER:case O.HGROUP:case O.DIALOG:case O.DETAILS:case O.ADDRESS:case O.ARTICLE:case O.SECTION:case O.SUMMARY:case O.FIELDSET:case O.BLOCKQUOTE:case O.FIGCAPTION:{Olt(e,t);break}case O.LI:case O.DD:case O.DT:{Llt(e,t);break}case O.BR:case O.IMG:case O.WBR:case O.AREA:case O.EMBED:case O.KEYGEN:{BTe(e,t);break}case O.HR:{Glt(e,t);break}case O.RB:case O.RTC:{eut(e,t);break}case O.RT:case O.RP:{tut(e,t);break}case O.PRE:case O.LISTING:{Mlt(e,t);break}case O.XMP:{Xlt(e,t);break}case O.SVG:{rut(e,t);break}case O.HTML:{klt(e,t);break}case O.BASE:case O.LINK:case O.META:case O.STYLE:case O.TITLE:case O.SCRIPT:case O.BGSOUND:case O.BASEFONT:case O.TEMPLATE:{Df(e,t);break}case O.BODY:{Plt(e,t);break}case O.FORM:{$lt(e,t);break}case O.NOBR:{Ult(e,t);break}case O.MATH:{nut(e,t);break}case O.TABLE:{Hlt(e,t);break}case O.INPUT:{qlt(e,t);break}case O.PARAM:case O.TRACK:case O.SOURCE:{Wlt(e,t);break}case O.IMAGE:{Ylt(e,t);break}case O.BUTTON:{jlt(e,t);break}case O.APPLET:case O.OBJECT:case O.MARQUEE:{Vlt(e,t);break}case O.IFRAME:{Qlt(e,t);break}case O.SELECT:{Jlt(e,t);break}case O.OPTION:case O.OPTGROUP:{Zlt(e,t);break}case O.NOEMBED:{Nce(e,t);break}case O.FRAMESET:{Nlt(e,t);break}case O.TEXTAREA:{Klt(e,t);break}case O.NOSCRIPT:{e.options.scriptingEnabled?Nce(e,t):Oce(e,t);break}case O.PLAINTEXT:{Flt(e,t);break}case O.COL:case O.TH:case O.TD:case O.TR:case O.HEAD:case O.FRAME:case O.TBODY:case O.TFOOT:case O.THEAD:case O.CAPTION:case O.COLGROUP:break;default:Oce(e,t)}}function iut(e,t){if(e.openElements.hasInScope(O.BODY)&&(e.insertionMode=ue.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function sut(e,t){e.openElements.hasInScope(O.BODY)&&(e.insertionMode=ue.AFTER_BODY,QTe(e,t))}function out(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function aut(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(O.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(O.FORM):n&&e.openElements.remove(n))}function lut(e){e.openElements.hasInButtonScope(O.P)||e._insertFakeElement(Ae.P,O.P),e._closePElement()}function uut(e){e.openElements.hasInListItemScope(O.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(O.LI),e.openElements.popUntilTagNamePopped(O.LI))}function cut(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function dut(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function fut(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function hut(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ae.BR,O.BR),e.openElements.pop(),e.framesetOk=!1}function UTe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==O.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function d6(e,t){switch(t.tagID){case O.A:case O.B:case O.I:case O.S:case O.U:case O.EM:case O.TT:case O.BIG:case O.CODE:case O.FONT:case O.NOBR:case O.SMALL:case O.STRIKE:case O.STRONG:{UX(e,t);break}case O.P:{lut(e);break}case O.DL:case O.UL:case O.OL:case O.DIR:case O.DIV:case O.NAV:case O.PRE:case O.MAIN:case O.MENU:case O.ASIDE:case O.BUTTON:case O.CENTER:case O.FIGURE:case O.FOOTER:case O.HEADER:case O.HGROUP:case O.DIALOG:case O.ADDRESS:case O.ARTICLE:case O.DETAILS:case O.SECTION:case O.SUMMARY:case O.LISTING:case O.FIELDSET:case O.BLOCKQUOTE:case O.FIGCAPTION:{out(e,t);break}case O.LI:{uut(e);break}case O.DD:case O.DT:{cut(e,t);break}case O.H1:case O.H2:case O.H3:case O.H4:case O.H5:case O.H6:{dut(e);break}case O.BR:{hut(e);break}case O.BODY:{iut(e,t);break}case O.HTML:{sut(e,t);break}case O.FORM:{aut(e);break}case O.APPLET:case O.OBJECT:case O.MARQUEE:{fut(e,t);break}case O.TEMPLATE:{Jb(e,t);break}default:UTe(e,t)}}function VTe(e,t){e.tmplInsertionModeStack.length>0?XTe(e,t):VX(e,t)}function put(e,t){var n;t.tagID===O.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function mut(e,t){e._err(t,Oe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function pB(e,t){if(LTe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ue.IN_TABLE_TEXT,t.type){case jn.CHARACTER:{qTe(e,t);break}case jn.WHITESPACE_CHARACTER:{HTe(e,t);break}}else GR(e,t)}function gut(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,He.HTML),e.insertionMode=ue.IN_CAPTION}function yut(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,He.HTML),e.insertionMode=ue.IN_COLUMN_GROUP}function vut(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ae.COLGROUP,O.COLGROUP),e.insertionMode=ue.IN_COLUMN_GROUP,HX(e,t)}function but(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,He.HTML),e.insertionMode=ue.IN_TABLE_BODY}function _ut(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ae.TBODY,O.TBODY),e.insertionMode=ue.IN_TABLE_BODY,f6(e,t)}function wut(e,t){e.openElements.hasInTableScope(O.TABLE)&&(e.openElements.popUntilTagNamePopped(O.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Eut(e,t){zTe(t)?e._appendElement(t,He.HTML):GR(e,t),t.ackSelfClosing=!0}function xut(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,He.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function WE(e,t){switch(t.tagID){case O.TD:case O.TH:case O.TR:{_ut(e,t);break}case O.STYLE:case O.SCRIPT:case O.TEMPLATE:{Df(e,t);break}case O.COL:{vut(e,t);break}case O.FORM:{xut(e,t);break}case O.TABLE:{wut(e,t);break}case O.TBODY:case O.TFOOT:case O.THEAD:{but(e,t);break}case O.INPUT:{Eut(e,t);break}case O.CAPTION:{gut(e,t);break}case O.COLGROUP:{yut(e,t);break}default:GR(e,t)}}function rI(e,t){switch(t.tagID){case O.TABLE:{e.openElements.hasInTableScope(O.TABLE)&&(e.openElements.popUntilTagNamePopped(O.TABLE),e._resetInsertionMode());break}case O.TEMPLATE:{Jb(e,t);break}case O.BODY:case O.CAPTION:case O.COL:case O.COLGROUP:case O.HTML:case O.TBODY:case O.TD:case O.TFOOT:case O.TH:case O.THEAD:case O.TR:break;default:GR(e,t)}}function GR(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,c6(e,t),e.fosterParentingEnabled=n}function HTe(e,t){e.pendingCharacterTokens.push(t)}function qTe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function $T(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)GR(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const WTe=new Set([O.CAPTION,O.COL,O.COLGROUP,O.TBODY,O.TD,O.TFOOT,O.TH,O.THEAD,O.TR]);function Sut(e,t){const n=t.tagID;WTe.has(n)?e.openElements.hasInTableScope(O.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(O.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,WE(e,t)):Ua(e,t)}function Tut(e,t){const n=t.tagID;switch(n){case O.CAPTION:case O.TABLE:{e.openElements.hasInTableScope(O.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(O.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,n===O.TABLE&&rI(e,t));break}case O.BODY:case O.COL:case O.COLGROUP:case O.HTML:case O.TBODY:case O.TD:case O.TFOOT:case O.TH:case O.THEAD:case O.TR:break;default:d6(e,t)}}function HX(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.COL:{e._appendElement(t,He.HTML),t.ackSelfClosing=!0;break}case O.TEMPLATE:{Df(e,t);break}default:YM(e,t)}}function Cut(e,t){switch(t.tagID){case O.COLGROUP:{e.openElements.currentTagId===O.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case O.TEMPLATE:{Jb(e,t);break}case O.COL:break;default:YM(e,t)}}function YM(e,t){e.openElements.currentTagId===O.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE,e._processToken(t))}function f6(e,t){switch(t.tagID){case O.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,He.HTML),e.insertionMode=ue.IN_ROW;break}case O.TH:case O.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ae.TR,O.TR),e.insertionMode=ue.IN_ROW,h6(e,t);break}case O.CAPTION:case O.COL:case O.COLGROUP:case O.TBODY:case O.TFOOT:case O.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,WE(e,t));break}default:WE(e,t)}}function ZU(e,t){const n=t.tagID;switch(t.tagID){case O.TBODY:case O.TFOOT:case O.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case O.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,rI(e,t));break}case O.BODY:case O.CAPTION:case O.COL:case O.COLGROUP:case O.HTML:case O.TD:case O.TH:case O.TR:break;default:rI(e,t)}}function h6(e,t){switch(t.tagID){case O.TH:case O.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,He.HTML),e.insertionMode=ue.IN_CELL,e.activeFormattingElements.insertMarker();break}case O.CAPTION:case O.COL:case O.COLGROUP:case O.TBODY:case O.TFOOT:case O.THEAD:case O.TR:{e.openElements.hasInTableScope(O.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,f6(e,t));break}default:WE(e,t)}}function GTe(e,t){switch(t.tagID){case O.TR:{e.openElements.hasInTableScope(O.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY);break}case O.TABLE:{e.openElements.hasInTableScope(O.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,ZU(e,t));break}case O.TBODY:case O.TFOOT:case O.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(O.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,ZU(e,t));break}case O.BODY:case O.CAPTION:case O.COL:case O.COLGROUP:case O.HTML:case O.TD:case O.TH:break;default:rI(e,t)}}function Aut(e,t){const n=t.tagID;WTe.has(n)?(e.openElements.hasInTableScope(O.TD)||e.openElements.hasInTableScope(O.TH))&&(e._closeTableCell(),h6(e,t)):Ua(e,t)}function Iut(e,t){const n=t.tagID;switch(n){case O.TD:case O.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_ROW);break}case O.TABLE:case O.TBODY:case O.TFOOT:case O.THEAD:case O.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),GTe(e,t));break}case O.BODY:case O.CAPTION:case O.COL:case O.COLGROUP:case O.HTML:break;default:d6(e,t)}}function YTe(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.OPTION:{e.openElements.currentTagId===O.OPTION&&e.openElements.pop(),e._insertElement(t,He.HTML);break}case O.OPTGROUP:{e.openElements.currentTagId===O.OPTION&&e.openElements.pop(),e.openElements.currentTagId===O.OPTGROUP&&e.openElements.pop(),e._insertElement(t,He.HTML);break}case O.INPUT:case O.KEYGEN:case O.TEXTAREA:case O.SELECT:{e.openElements.hasInSelectScope(O.SELECT)&&(e.openElements.popUntilTagNamePopped(O.SELECT),e._resetInsertionMode(),t.tagID!==O.SELECT&&e._processStartTag(t));break}case O.SCRIPT:case O.TEMPLATE:{Df(e,t);break}}}function KTe(e,t){switch(t.tagID){case O.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===O.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===O.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===O.OPTGROUP&&e.openElements.pop();break}case O.OPTION:{e.openElements.currentTagId===O.OPTION&&e.openElements.pop();break}case O.SELECT:{e.openElements.hasInSelectScope(O.SELECT)&&(e.openElements.popUntilTagNamePopped(O.SELECT),e._resetInsertionMode());break}case O.TEMPLATE:{Jb(e,t);break}}}function Rut(e,t){const n=t.tagID;n===O.CAPTION||n===O.TABLE||n===O.TBODY||n===O.TFOOT||n===O.THEAD||n===O.TR||n===O.TD||n===O.TH?(e.openElements.popUntilTagNamePopped(O.SELECT),e._resetInsertionMode(),e._processStartTag(t)):YTe(e,t)}function kut(e,t){const n=t.tagID;n===O.CAPTION||n===O.TABLE||n===O.TBODY||n===O.TFOOT||n===O.THEAD||n===O.TR||n===O.TD||n===O.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(O.SELECT),e._resetInsertionMode(),e.onEndTag(t)):KTe(e,t)}function Put(e,t){switch(t.tagID){case O.BASE:case O.BASEFONT:case O.BGSOUND:case O.LINK:case O.META:case O.NOFRAMES:case O.SCRIPT:case O.STYLE:case O.TEMPLATE:case O.TITLE:{Df(e,t);break}case O.CAPTION:case O.COLGROUP:case O.TBODY:case O.TFOOT:case O.THEAD:{e.tmplInsertionModeStack[0]=ue.IN_TABLE,e.insertionMode=ue.IN_TABLE,WE(e,t);break}case O.COL:{e.tmplInsertionModeStack[0]=ue.IN_COLUMN_GROUP,e.insertionMode=ue.IN_COLUMN_GROUP,HX(e,t);break}case O.TR:{e.tmplInsertionModeStack[0]=ue.IN_TABLE_BODY,e.insertionMode=ue.IN_TABLE_BODY,f6(e,t);break}case O.TD:case O.TH:{e.tmplInsertionModeStack[0]=ue.IN_ROW,e.insertionMode=ue.IN_ROW,h6(e,t);break}default:e.tmplInsertionModeStack[0]=ue.IN_BODY,e.insertionMode=ue.IN_BODY,Ua(e,t)}}function Nut(e,t){t.tagID===O.TEMPLATE&&Jb(e,t)}function XTe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(O.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):VX(e,t)}function Out(e,t){t.tagID===O.HTML?Ua(e,t):KM(e,t)}function QTe(e,t){var n;if(t.tagID===O.HTML){if(e.fragmentContext||(e.insertionMode=ue.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===O.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else KM(e,t)}function KM(e,t){e.insertionMode=ue.IN_BODY,c6(e,t)}function Dut(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.FRAMESET:{e._insertElement(t,He.HTML);break}case O.FRAME:{e._appendElement(t,He.HTML),t.ackSelfClosing=!0;break}case O.NOFRAMES:{Df(e,t);break}}}function Mut(e,t){t.tagID===O.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==O.FRAMESET&&(e.insertionMode=ue.AFTER_FRAMESET))}function $ut(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.NOFRAMES:{Df(e,t);break}}}function Lut(e,t){t.tagID===O.HTML&&(e.insertionMode=ue.AFTER_AFTER_FRAMESET)}function Fut(e,t){t.tagID===O.HTML?Ua(e,t):rD(e,t)}function rD(e,t){e.insertionMode=ue.IN_BODY,c6(e,t)}function jut(e,t){switch(t.tagID){case O.HTML:{Ua(e,t);break}case O.NOFRAMES:{Df(e,t);break}}}function But(e,t){t.chars=Di,e._insertCharacters(t)}function zut(e,t){e._insertCharacters(t),e.framesetOk=!1}function JTe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==He.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Uut(e,t){if(rlt(t))JTe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===He.MATHML?MTe(t):r===He.SVG&&(ilt(t),$Te(t)),zX(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Vut(e,t){if(t.tagID===O.P||t.tagID===O.BR){JTe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===He.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ae.AREA,Ae.BASE,Ae.BASEFONT,Ae.BGSOUND,Ae.BR,Ae.COL,Ae.EMBED,Ae.FRAME,Ae.HR,Ae.IMG,Ae.INPUT,Ae.KEYGEN,Ae.LINK,Ae.META,Ae.PARAM,Ae.SOURCE,Ae.TRACK,Ae.WBR;const Hut=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Dce={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function ZTe(e,t){const n=ect(e),r=bTe("type",{handlers:{root:qut,element:Wut,text:Gut,comment:tCe,doctype:Yut,raw:Xut},unknown:Qut}),i={parser:n?new Pce(Dce):Pce.getFragmentParser(void 0,Dce),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),vS(i,yp());const s=n?i.parser.document:i.parser.getFragment(),o=nat(s,{file:i.options.file});return i.stitches&&LX(o,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function eCe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function qut(e,t){eCe(e.children,t)}function Wut(e,t){Jut(e,t),eCe(e.children,t),Zut(e,t)}function Gut(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:jn.CHARACTER,chars:e.value,location:YR(e)};vS(t,yp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Yut(e,t){const n={type:jn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:YR(e)};vS(t,yp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Kut(e,t){t.stitches=!0;const n=tct(e);if("children"in e&&"children"in n){const r=ZTe({type:"root",children:e.children},t.options);n.children=r.children}tCe({type:"comment",value:{stitch:n}},t)}function tCe(e,t){const n=e.value,r={type:jn.COMMENT,data:n,location:YR(e)};vS(t,yp(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Xut(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,nCe(t,yp(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Qut(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))Kut(n,t);else{let r="";throw Hut.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function vS(e,t){nCe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Es.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function nCe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Jut(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Es.PLAINTEXT)return;vS(t,yp(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:A1.html;i===A1.html&&n==="svg"&&(i=A1.svg);const s=aat({...e,children:[]},{space:i===A1.svg?"svg":"html"}),o={type:jn.START_TAG,tagName:n,tagID:yS(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:YR(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function Zut(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&mat.includes(n)||t.parser.tokenizer.state===Es.PLAINTEXT)return;vS(t,o6(e));const r={type:jn.END_TAG,tagName:n,tagID:yS(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:YR(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Es.RCDATA||t.parser.tokenizer.state===Es.RAWTEXT||t.parser.tokenizer.state===Es.SCRIPT_DATA)&&(t.parser.tokenizer.state=Es.DATA)}function ect(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function YR(e){const t=yp(e)||{line:void 0,column:void 0,offset:void 0},n=o6(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function tct(e){return"children"in e?qE({...e,children:[]}):qE(e)}function nct(e){return function(t,n){return ZTe(t,{...e,file:n})}}function fl({text:e,required:t}){const n={img({node:i,width:s,height:o,...a}){return b.jsx(Zy,{...a,h:o,w:s,ref:void 0})},p({node:i,...s}){return b.jsx(nt,{...s,pb:8,fw:"inherit",ref:void 0})},h1({node:i,...s}){return b.jsx(Ti,{...s,order:1,...s,pb:12})},h2({node:i,...s}){return b.jsx(Ti,{...s,order:2,...s,pb:12})},h3({node:i,...s}){return b.jsx(Ti,{...s,order:3,...s,pb:12})},h4({node:i,...s}){return b.jsx(Ti,{...s,order:4,...s,pb:12})},h5({node:i,...s}){return b.jsx(Ti,{...s,order:5,...s,pb:12})},h6({node:i,...s}){return b.jsx(Ti,{...s,order:6,...s,pb:12})},a({node:i,...s}){return b.jsx(Qy,{...s,ref:void 0})},ul({node:i,...s}){return b.jsx(rf,{withPadding:!0,...s,pb:8})},ol({node:i,type:s,...o}){return b.jsx(rf,{type:"ordered",withPadding:!0,...o,pb:8})}};return b.jsx(Vot,{components:n,rehypePlugins:[nct],children:e+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")})}function eV({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have an error at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return b.jsx(fl,{text:n})}const rct="https://github.com/revisit-studies/study/tree/main/public/";function ict({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=pd();return b.jsx(Hr.Main,{children:b.jsxs(Nf,{size:"xs",px:"xs",children:[b.jsx(Zy,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${gp}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),b.jsx(nt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=PSe(i);return b.jsx(xs,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:b.jsxs(Yb,{shadow:"sm",radius:"md",withBorder:!0,children:[s.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx(nt,{fw:"bold",children:i}),b.jsxs(It,{align:"center",direction:"row",children:[b.jsx(Sue,{color:"red"}),b.jsx(nt,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),b.jsx(eV,{issues:s.errors,type:"error"})]}):b.jsxs(b.Fragment,{children:[b.jsx(nt,{fw:"bold",children:s.studyMetadata.title}),b.jsxs(nt,{c:"dimmed",children:[b.jsx(nt,{span:!0,fw:500,children:"Authors: "}),s.studyMetadata.authors]}),b.jsx(nt,{c:"dimmed",children:s.studyMetadata.description}),b.jsx(nt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:b.jsxs(Qy,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${rct}${o}`,children:["View source:"," ",o]})})]}),s.warnings.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs(It,{align:"center",direction:"row",children:[b.jsx(Sue,{color:"orange"}),b.jsx(nt,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),b.jsx(eV,{issues:s.warnings,type:"warning"})]})]})},i)})]})})}var rCe={exports:{}},iCe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR=A;function sct(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oct=typeof Object.is=="function"?Object.is:sct,act=KR.useSyncExternalStore,lct=KR.useRef,uct=KR.useEffect,cct=KR.useMemo,dct=KR.useDebugValue;iCe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=lct(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=cct(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return d=p}return d=h}if(p=d,oct(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=act(e,s[0],s[1]);return uct(function(){o.hasValue=!0,o.value=a},[a]),dct(a),a};rCe.exports=iCe;var fct=rCe.exports,Uu="default"in lM?us:lM,Mce=Symbol.for("react-redux-context"),$ce=typeof globalThis<"u"?globalThis:{};function hct(){if(!Uu.createContext)return{};const e=$ce[Mce]??($ce[Mce]=new Map);let t=e.get(Uu.createContext);return t||(t=Uu.createContext(null),e.set(Uu.createContext,t)),t}var ly=hct(),pct=()=>{throw new Error("uSES not initialized!")};function qX(e=ly){return function(){return Uu.useContext(e)}}var sCe=qX(),oCe=pct,mct=e=>{oCe=e},gct=(e,t)=>e===t;function yct(e=ly){const t=e===ly?sCe:qX(e),n=(r,i={})=>{const{equalityFn:s=gct,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=t();Uu.useRef(!0);const f=Uu.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,o.stabilityCheck]),h=oCe(l.addNestedSub,a.getState,u||a.getState,f,s);return Uu.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var vct=yct();function bct(e){e()}function _ct(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bct(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Lce={notify(){},get:()=>[]};function wct(e,t){let n,r=Lce,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e.subscribe(l),r=_ct())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Lce)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var Ect=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xct=typeof navigator<"u"&&navigator.product==="ReactNative",Sct=Ect||xct?Uu.useLayoutEffect:Uu.useEffect;function Tct({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Uu.useMemo(()=>{const u=wct(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),a=Uu.useMemo(()=>e.getState(),[e]);Sct(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||ly;return Uu.createElement(l.Provider,{value:o},n)}var Cct=Tct;function aCe(e=ly){const t=e===ly?sCe:qX(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Act=aCe();function Ict(e=ly){const t=e===ly?Act:aCe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var lCe=Ict();mct(fct.useSyncExternalStoreWithSelector);function Do(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rct=typeof Symbol=="function"&&Symbol.observable||"@@observable",Fce=Rct,mB=()=>Math.random().toString(36).substring(7).split("").join("."),kct={INIT:`@@redux/INIT${mB()}`,REPLACE:`@@redux/REPLACE${mB()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mB()}`},XM=kct;function WX(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uCe(e,t,n){if(typeof e!="function")throw new Error(Do(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Do(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Do(1));return n(uCe)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function c(){if(l)throw new Error(Do(3));return i}function d(g){if(typeof g!="function")throw new Error(Do(4));if(l)throw new Error(Do(5));let y=!0;u();const v=a++;return o.set(v,g),function(){if(y){if(l)throw new Error(Do(6));y=!1,u(),o.delete(v),s=null}}}function f(g){if(!WX(g))throw new Error(Do(7));if(typeof g.type>"u")throw new Error(Do(8));if(typeof g.type!="string")throw new Error(Do(17));if(l)throw new Error(Do(9));try{l=!0,i=r(i,g)}finally{l=!1}return(s=o).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(Do(10));r=g,f({type:XM.REPLACE})}function p(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Do(11));function v(){const w=y;w.next&&w.next(c())}return v(),{unsubscribe:g(v)}},[Fce](){return this}}}return f({type:XM.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[Fce]:p}}function Pct(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:XM.INIT})>"u")throw new Error(Do(12));if(typeof n(void 0,{type:XM.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Do(13))})}function Nct(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Pct(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=o[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(Do(14));u[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(o).length,l?u:o}}function QM(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Oct(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Do(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=QM(...a)(i.dispatch),{...i,dispatch:s}}}function Dct(e){return WX(e)&&"type"in e&&typeof e.type=="string"}var cCe=Symbol.for("immer-nothing"),jce=Symbol.for("immer-draftable"),ec=Symbol.for("immer-state");function Ud(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var GE=Object.getPrototypeOf;function uy(e){return!!e&&!!e[ec]}function qm(e){var t;return e?dCe(e)||Array.isArray(e)||!!e[jce]||!!((t=e.constructor)!=null&&t[jce])||m6(e)||g6(e):!1}var Mct=Object.prototype.constructor.toString();function dCe(e){if(!e||typeof e!="object")return!1;const t=GE(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Mct}function JM(e,t){p6(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function p6(e){const t=e[ec];return t?t.type_:Array.isArray(e)?1:m6(e)?2:g6(e)?3:0}function tV(e,t){return p6(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fCe(e,t,n){const r=p6(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $ct(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function m6(e){return e instanceof Map}function g6(e){return e instanceof Set}function Kv(e){return e.copy_||e.base_}function nV(e,t){if(m6(e))return new Map(e);if(g6(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=dCe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ec];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(GE(e),r)}else{const r=GE(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function GX(e,t=!1){return y6(e)||uy(e)||!qm(e)||(p6(e)>1&&(e.set=e.add=e.clear=e.delete=Lct),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>GX(r,!0))),e}function Lct(){Ud(2)}function y6(e){return Object.isFrozen(e)}var Fct={};function ob(e){const t=Fct[e];return t||Ud(0,e),t}var iI;function hCe(){return iI}function jct(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bce(e,t){t&&(ob("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rV(e){iV(e),e.drafts_.forEach(Bct),e.drafts_=null}function iV(e){e===iI&&(iI=e.parent_)}function zce(e){return iI=jct(iI,e)}function Bct(e){const t=e[ec];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uce(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ec].modified_&&(rV(t),Ud(4)),qm(e)&&(e=ZM(t,e),t.parent_||e$(t,e)),t.patches_&&ob("Patches").generateReplacementPatches_(n[ec].base_,e,t.patches_,t.inversePatches_)):e=ZM(t,n,[]),rV(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cCe?e:void 0}function ZM(e,t,n){if(y6(t))return t;const r=t[ec];if(!r)return JM(t,(i,s)=>Vce(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return e$(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),JM(s,(a,l)=>Vce(e,r,i,a,l,n,o)),e$(e,i,!1),n&&e.patches_&&ob("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Vce(e,t,n,r,i,s,o){if(uy(i)){const a=s&&t&&t.type_!==3&&!tV(t.assigned_,r)?s.concat(r):void 0,l=ZM(e,i,a);if(fCe(n,r,l),uy(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(qm(i)&&!y6(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ZM(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&e$(e,i)}}function e$(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GX(t,n)}function zct(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:hCe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=YX;n&&(i=[r],s=sI);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var YX={get(e,t){if(t===ec)return e;const n=Kv(e);if(!tV(n,t))return Uct(e,n,t);const r=n[t];return e.finalized_||!qm(r)?r:r===gB(e.base_,t)?(yB(e),e.copy_[t]=oV(r,e)):r},has(e,t){return t in Kv(e)},ownKeys(e){return Reflect.ownKeys(Kv(e))},set(e,t,n){const r=pCe(Kv(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=gB(Kv(e),t),s=i==null?void 0:i[ec];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if($ct(n,i)&&(n!==void 0||tV(e.base_,t)))return!0;yB(e),sV(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gB(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,yB(e),sV(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Kv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ud(11)},getPrototypeOf(e){return GE(e.base_)},setPrototypeOf(){Ud(12)}},sI={};JM(YX,(e,t)=>{sI[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sI.deleteProperty=function(e,t){return sI.set.call(this,e,t,void 0)};sI.set=function(e,t,n){return YX.set.call(this,e[0],t,n,e[0])};function gB(e,t){const n=e[ec];return(n?Kv(n):e)[t]}function Uct(e,t,n){var i;const r=pCe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function pCe(e,t){if(!(t in e))return;let n=GE(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=GE(n)}}function sV(e){e.modified_||(e.modified_=!0,e.parent_&&sV(e.parent_))}function yB(e){e.copy_||(e.copy_=nV(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vct=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Ud(6),r!==void 0&&typeof r!="function"&&Ud(7);let i;if(qm(t)){const s=zce(this),o=oV(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?rV(s):iV(s)}return Bce(s,r),Uce(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===cCe&&(i=void 0),this.autoFreeze_&&GX(i,!0),r){const s=[],o=[];ob("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Ud(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qm(e)||Ud(8),uy(e)&&(e=mCe(e));const t=zce(this),n=oV(e,void 0);return n[ec].isManual_=!0,iV(t),n}finishDraft(e,t){const n=e&&e[ec];(!n||!n.isManual_)&&Ud(9);const{scope_:r}=n;return Bce(r,t),Uce(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ob("Patches").applyPatches_;return uy(e)?r(e,t):this.produce(e,i=>r(i,t))}};function oV(e,t){const n=m6(e)?ob("MapSet").proxyMap_(e,t):g6(e)?ob("MapSet").proxySet_(e,t):zct(e,t);return(t?t.scope_:hCe()).drafts_.push(n),n}function mCe(e){return uy(e)||Ud(10,e),gCe(e)}function gCe(e){if(!qm(e)||y6(e))return e;const t=e[ec];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=nV(e,t.scope_.immer_.useStrictShallowCopy_)}else n=nV(e,!0);return JM(n,(r,i)=>{fCe(n,r,gCe(i))}),t&&(t.finalized_=!1),n}var tc=new Vct,yCe=tc.produce;tc.produceWithPatches.bind(tc);tc.setAutoFreeze.bind(tc);tc.setUseStrictShallowCopy.bind(tc);tc.applyPatches.bind(tc);tc.createDraft.bind(tc);tc.finishDraft.bind(tc);function Hct(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qct(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Wct(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Hce=e=>Array.isArray(e)?e:[e];function Gct(e){const t=Array.isArray(e[0])?e[0]:e;return Wct(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Yct(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Kct=class{constructor(e){this.value=e}deref(){return this.value}},Xct=typeof WeakRef<"u"?WeakRef:Kct,Qct=0,qce=1;function dN(){return{s:Qct,v:void 0,o:null,p:null}}function KX(e,t={}){let n=dN();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=dN(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=dN(),m.set(p,a)):a=g}}const u=a;let c;if(a.s===qce)c=a.v;else if(c=e.apply(null,arguments),s++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Xct(c):c}return u.s=qce,u.v=c,c}return o.clearCache=()=>{n=dN(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function vCe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Hct(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=KX,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=Hce(f),y=Hce(p),v=Gct(i),_=d(function(){return s++,u.apply(null,arguments)},...g),w=h(function(){o++;const S=Yct(v,arguments);return a=_.apply(null,S),a},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:_,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Jct=vCe(KX),Zct=Object.assign((e,t=Jct)=>{qct(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>Zct});function bCe(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var edt=bCe(),tdt=bCe,ndt=(...e)=>{const t=vCe(...e),n=Object.assign((...r)=>{const i=t(...r),s=(o,...a)=>i(uy(o)?mCe(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};ndt(KX);var rdt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?QM:QM.apply(null,arguments)};function YE(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(iu(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Dct(r)&&r.type===e,n}var _Ce=class NC extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,NC.prototype)}static get[Symbol.species](){return NC}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new NC(...t[0].concat(this)):new NC(...t.concat(this))}};function Wce(e){return qm(e)?yCe(e,()=>{}):e}function Gce(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(iu(10));const r=n.insert(t,e);return e.set(t,r),r}function idt(e){return typeof e=="boolean"}var sdt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new _Ce;return n&&(idt(n)?o.push(edt):o.push(tdt(n.extraArgument))),o},odt="RTK_autoBatch",wCe=e=>t=>{setTimeout(t,e)},adt=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wCe(10),ldt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?adt:e.type==="callback"?e.queueNotification:wCe(e.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[odt]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},udt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new _Ce(e);return r&&i.push(ldt(typeof r=="object"?r:void 0)),i},cdt=!0;function ddt(e){const t=sdt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(WX(n))a=Nct(n);else throw new Error(iu(1));let l;typeof r=="function"?l=r(t):l=t();let u=QM;i&&(u=rdt({trace:!cdt,...typeof i=="object"&&i}));const c=Oct(...l),d=udt(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return uCe(a,s,h)}function ECe(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(iu(28));if(a in t)throw new Error(iu(29));return t[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function fdt(e){return typeof e=="function"}function hdt(e,t){let[n,r,i]=ECe(t),s;if(fdt(e))s=()=>Wce(e());else{const a=Wce(e);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(uy(c)){const h=d(c,l);return h===void 0?c:h}else{if(qm(c))return yCe(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw new Error(iu(9))}return f}}return c},a)}return o.getInitialState=s,o}var pdt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mdt=(e=21)=>{let t="",n=e;for(;n--;)t+=pdt[Math.random()*64|0];return t},gdt=Symbol.for("rtk-slice-createasyncthunk");function ydt(e,t){return`${e}/${t}`}function vdt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[gdt];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(iu(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(wdt()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,w){const E=typeof _=="string"?_:_.type;if(!E)throw new Error(iu(12));if(E in u.sliceCaseReducersByType)throw new Error(iu(13));return u.sliceCaseReducersByType[E]=w,c},addMatcher(_,w){return u.sliceMatchers.push({matcher:_,reducer:w}),c},exposeAction(_,w){return u.actionCreators[_]=w,c},exposeCaseReducer(_,w){return u.sliceCaseReducersByName[_]=w,c}};l.forEach(_=>{const w=a[_],E={reducerName:_,type:ydt(s,_),createNotation:typeof i.reducers=="function"};xdt(w)?Tdt(E,w,c,t):Edt(E,w,c)});function d(){const[_={},w=[],E=void 0]=typeof i.extraReducers=="function"?ECe(i.extraReducers):[i.extraReducers],S={..._,...u.sliceCaseReducersByType};return hdt(i.initialState,x=>{for(let T in S)x.addCase(T,S[T]);for(let T of u.sliceMatchers)x.addMatcher(T.matcher,T.reducer);for(let T of w)x.addMatcher(T.matcher,T.reducer);E&&x.addDefaultCase(E)})}const f=_=>_,h=new Map;let p;function m(_,w){return p||(p=d()),p(_,w)}function g(){return p||(p=d()),p.getInitialState()}function y(_,w=!1){function E(x){let T=x[_];return typeof T>"u"&&w&&(T=g()),T}function S(x=f){const T=Gce(h,w,{insert:()=>new WeakMap});return Gce(T,x,{insert:()=>{const I={};for(const[P,k]of Object.entries(i.selectors??{}))I[P]=bdt(k,x,g,w);return I}})}return{reducerPath:_,getSelectors:S,get selectors(){return S(E)},selectSlice:E}}const v={name:s,reducer:m,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...y(o),injectInto(_,{reducerPath:w,...E}={}){const S=w??o;return _.inject({reducerPath:S,reducer:m},E),{...v,...y(S,!0)}}};return v}}function bdt(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var _dt=vdt();function wdt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Edt({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Sdt(r))throw new Error(iu(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?YE(e,o):YE(e))}function xdt(e){return e._reducerDefinitionType==="asyncThunk"}function Sdt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Tdt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(iu(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,s,c);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||fN,pending:a||fN,rejected:l||fN,settled:u||fN})}function fN(){}var Cdt=(e,t)=>{if(typeof e!="function")throw new Error(iu(32))},XX="listenerMiddleware",Adt=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=YE(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(iu(21));return Cdt(s),{predicate:i,type:t,effect:s}},Idt=Object.assign(e=>{const{type:t,predicate:n,effect:r}=Adt(e);return{id:mdt(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(iu(22))}}},{withTypes:()=>Idt}),Rdt=Object.assign(YE(`${XX}/add`),{withTypes:()=>Rdt});YE(`${XX}/removeAll`);var kdt=Object.assign(YE(`${XX}/remove`),{withTypes:()=>kdt});function iu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Si={};function Pdt(e){return!!(e&&typeof e.then=="function")}function t$(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function Ndt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function v6(){return Math.random().toString(36).substring(2)}var Yce=0,vB=0;function b6(){var e=new Date().getTime();return e===Yce?(vB++,e*1e3+vB):(Yce=e,vB=0,e*1e3)}var XR=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Odt=b6,Ddt="native";function Mdt(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function $dt(e){e.bc.close(),e.subFns=[]}function Ldt(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(n){return Promise.reject(n)}}function Fdt(e,t){e.messagesCallback=t}function jdt(){if(XR&&typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Bdt(){return 150}const zdt={create:Mdt,close:$dt,onMessage:Fdt,postMessage:Ldt,canBeUsed:jdt,type:Ddt,averageResponseTime:Bdt,microSeconds:Odt};var xCe=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,SCe()),this.set.add(t),setTimeout(function(){Udt(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function Udt(e){for(var t=SCe()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=e.timeMap.get(r);if(i<t)e.timeMap.delete(r),e.set.delete(r);else return}}function SCe(){return new Date().getTime()}function _6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Vdt=b6,Hdt="pubkey.broadcast-channel-0-",Wm="messages",qdt="idb";function TCe(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Wdt(e){var t=TCe(),n=Hdt+e,r=t.open(n,1);r.onupgradeneeded=function(s){var o=s.target.result;o.createObjectStore(Wm,{keyPath:"id",autoIncrement:!0})};var i=new Promise(function(s,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){s(r.result)}});return i}function Gdt(e,t,n){var r=new Date().getTime(),i={uuid:t,time:r,data:n},s=e.transaction([Wm],"readwrite");return new Promise(function(o,a){s.oncomplete=function(){return o()},s.onerror=function(u){return a(u)};var l=s.objectStore(Wm);l.add(i)})}function Ydt(e,t){var n=e.transaction(Wm).objectStore(Wm),r=[];function i(){try{var s=IDBKeyRange.bound(t+1,1/0);return n.openCursor(s)}catch{return n.openCursor()}}return new Promise(function(s){i().onsuccess=function(o){var a=o.target.result;a?a.value.id<t+1?a.continue(t+1):(r.push(a.value),a.continue()):s(r)}})}function Kdt(e,t){var n=e.transaction([Wm],"readwrite").objectStore(Wm).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}function Xdt(e,t){var n=new Date().getTime()-t,r=e.transaction(Wm).objectStore(Wm),i=[];return new Promise(function(s){r.openCursor().onsuccess=function(o){var a=o.target.result;if(a){var l=a.value;if(l.time<n)i.push(l),a.continue();else{s(i);return}}else s(i)}})}function Qdt(e,t){return Xdt(e,t).then(function(n){return Promise.all(n.map(function(r){return Kdt(e,r.id)}))})}function Jdt(e,t){return t=_6(t),Wdt(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:v6(),eMIs:new xCe(t.idb.ttl*2),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},CCe(r),r})}function CCe(e){e.closed||ACe(e).then(function(){return t$(e.options.idb.fallbackInterval)}).then(function(){return CCe(e)})}function Zdt(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function ACe(e){return e.closed||!e.messagesCallback?Promise.resolve():Ydt(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return Zdt(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Promise.resolve()})}function eft(e){e.closed=!0,e.db.close()}function tft(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return Gdt(e.db,e.uuid,t)}).then(function(){Ndt(0,10)===0&&Qdt(e.db,e.options.idb.ttl)}),e.writeBlockPromise}function nft(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,ACe(e)}function rft(){if(XR)return!1;var e=TCe();return!!e}function ift(e){return e.idb.fallbackInterval*2}const sft={create:Jdt,close:eft,onMessage:nft,postMessage:tft,canBeUsed:rft,type:qdt,averageResponseTime:ift,microSeconds:Vdt};var oft=b6,aft="pubkey.broadcastChannel-",lft="localstorage";function ICe(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function RCe(e){return aft+e}function uft(e,t){return new Promise(function(n){t$().then(function(){var r=RCe(e.channelName),i={token:v6(),time:new Date().getTime(),data:t,uuid:e.uuid},s=JSON.stringify(i);ICe().setItem(r,s);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=s,window.dispatchEvent(o),n()})})}function cft(e,t){var n=RCe(e),r=function(s){s.key===n&&t(JSON.parse(s.newValue))};return window.addEventListener("storage",r),r}function dft(e){window.removeEventListener("storage",e)}function fft(e,t){if(t=_6(t),!kCe())throw new Error("BroadcastChannel: localstorage cannot be used");var n=v6(),r=new xCe(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=cft(e,function(s){i.messagesCallback&&s.uuid!==n&&(!s.token||r.has(s.token)||s.data.time&&s.data.time<i.messagesCallbackTime||(r.add(s.token),i.messagesCallback(s.data)))}),i}function hft(e){dft(e.listener)}function pft(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function kCe(){if(XR)return!1;var e=ICe();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function mft(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}const gft={create:fft,close:hft,onMessage:pft,postMessage:uft,canBeUsed:kCe,type:lft,averageResponseTime:mft,microSeconds:oft};var yft=b6,vft="simulate",QX=new Set;function bft(e){var t={name:e,messagesCallback:null};return QX.add(t),t}function _ft(e){QX.delete(e)}function wft(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(QX);r.filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})}function Eft(e,t){e.messagesCallback=t}function xft(){return!0}function Sft(){return 5}const Tft={create:bft,close:_ft,onMessage:Eft,postMessage:wft,canBeUsed:xft,type:vft,averageResponseTime:Sft,microSeconds:yft};var aV=[zdt,sft,gft];if(XR){var Kce=require("../../src/methods/node.js");typeof Kce.canBeUsed=="function"&&aV.push(Kce)}function PCe(e){var t=[].concat(e.methods,aV).filter(Boolean);if(e.type){if(e.type==="simulate")return Tft;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!XR&&(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(aV.map(function(i){return i.type})))}var JX=function(t,n){this.name=t,lV&&(n=lV),this.options=_6(n),this.method=PCe(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Ift(this)};JX._pubkey=!0;function Cft(e){e=_6(e);var t=PCe(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}var lV;function Aft(e){lV=e}JX.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Xce(this,"message",t)},postInternal:function(t){return Xce(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Jce(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Qce(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};Qce(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});Jce(this,t,r)},close:function(){var t=this;if(!this.closed){this.closed=!0;var n=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Xce(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},s=e._prepP?e._prepP:Promise.resolve();return s.then(function(){var o=e.method.postMessage(e._state,i);return e._uMP.add(o),o.catch().then(function(){return e._uMP.delete(o)}),o})}function Ift(e){var t=e.method.create(e.name,e.options);Pdt(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function NCe(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Qce(e,t,n){e._addEL[t].push(n),Rft(e)}function Jce(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),kft(e)}function Rft(e){if(!e._iL&&NCe(e)){var t=function(i){e._addEL[i.type].forEach(function(s){i.time>=s.time&&s.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function kft(e){if(e._iL&&!NCe(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}const Pft=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function Nft(e){if(!(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope)){if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}const Oft={add:Nft},OCe={},Dft=Object.freeze(Object.defineProperty({__proto__:null,default:OCe},Symbol.toStringTag,{value:"Module"}));var Mft=Pft?OCe:Oft,B1=new Set,Zce=!1;function $ft(){Zce||(Zce=!0,Mft.add(DCe))}function Lft(e){if($ft(),typeof e!="function")throw new Error("Listener is no function");B1.add(e);var t={remove:function(){return B1.delete(e)},run:function(){return B1.delete(e),e()}};return t}function DCe(){var e=[];return B1.forEach(function(t){e.push(t()),B1.delete(t)}),Promise.all(e)}function Fft(){B1.clear()}function jft(){return B1.size}const Bft={add:Lft,runAll:DCe,removeAll:Fft,getSize:jft};var MCe=function(t,n){this._channel=t,this._options=n,this.isLeader=!1,this.isDead=!1,this.token=v6(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};MCe.prototype={applyOnce:function(){var t=this;if(this.isLeader||this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var n=!1,r=function(o){o.context==="leader"&&o.token!=t.token&&(o.action==="apply"&&o.token>t.token&&(n=!0),o.action==="tell"&&(n=!0))};this._channel.addEventListener("internal",r);var i=I1(this,"apply").then(function(){return t$(t._options.responseTime)}).then(function(){return n?Promise.reject(new Error):I1(t,"apply")}).then(function(){return t$(t._options.responseTime)}).then(function(){return n?Promise.reject(new Error):I1(t)}).then(function(){return $Ce(t)}).then(function(){return!0}).catch(function(){return!1}).then(function(s){return t._channel.removeEventListener("internal",r),t._isApl=!1,!s&&t._reApply?(t._reApply=!1,t.applyOnce()):s});return i},awaitLeadership:function(){return this._aLP||(this._aLP=zft(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(n){return t._channel.removeEventListener("internal",n)}),this._invs.forEach(function(n){return clearInterval(n)}),this._unl.forEach(function(n){n.remove()}),I1(this,"death")}};function zft(e){return e.isLeader?Promise.resolve():new Promise(function(t){var n=!1;function r(){n||(n=!0,clearInterval(i),e._channel.removeEventListener("internal",s),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=setInterval(function(){e.applyOnce().then(function(){e.isLeader&&r()})},e._options.fallbackInterval);e._invs.push(i);var s=function(a){a.context==="leader"&&a.action==="death"&&e.applyOnce().then(function(){e.isLeader&&r()})};e._channel.addEventListener("internal",s),e._lstns.push(s)})}function I1(e,t){var n={context:"leader",action:t,token:e.token};return e._channel.postInternal(n)}function $Ce(e){e.isLeader=!0;var t=Bft.add(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&I1(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),I1(e,"tell"))};return e._channel.addEventListener("internal",n),e._lstns.push(n),I1(e,"tell")}function Uft(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function Vft(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=Uft(t,e);var n=new MCe(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}const Hft=Object.freeze(Object.defineProperty({__proto__:null,BroadcastChannel:JX,beLeader:$Ce,clearNodeFolder:Cft,createLeaderElection:Vft,enforceOptions:Aft},Symbol.toStringTag,{value:"Module"})),qft=dbe(Hft);var ZX,eQ,tQ;Object.defineProperty(Si,"__esModule",{value:!0});var LCe=Si.initMessageListener=tQ=Si.initStateWithPrevTab=eQ=Si.withReduxStateSync=Si.createReduxStateSync=ZX=Si.createStateSyncMiddleware=Si.WINDOW_STATE_SYNC_ID=Si.INIT_MESSAGE_LISTENER=Si.RECEIVE_INIT_STATE=Si.SEND_INIT_STATE=Si.GET_INIT_STATE=void 0;Si.generateUuidForAction=BCe;Si.isActionAllowed=zCe;Si.isActionSynced=Jft;Si.MessageListener=UCe;var Wft=qft,uV=0,nQ=Si.GET_INIT_STATE="&_GET_INIT_STATE",rQ=Si.SEND_INIT_STATE="&_SEND_INIT_STATE",iQ=Si.RECEIVE_INIT_STATE="&_RECEIVE_INIT_STATE",Gft=Si.INIT_MESSAGE_LISTENER="&_INIT_MESSAGE_LISTENER",cV={channel:"redux_state_sync",predicate:null,blacklist:[],whitelist:[],broadcastChannelOption:void 0,prepareState:function(t){return t},receiveState:function(t,n){return n}},Yft=function(){return{type:nQ}},Kft=function(){return{type:rQ}},Xft=function(t){return{type:iQ,payload:t}},Qft=function(){return{type:Gft}};function $g(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function FCe(){return""+$g()+$g()+"-"+$g()+"-"+$g()+"-"+$g()+"-"+$g()+$g()+$g()}var jCe=Si.WINDOW_STATE_SYNC_ID=FCe();function BCe(e){var t=e;return t.$uuid=FCe(),t.$wuid=jCe,t}function zCe(e){var t=e.predicate,n=e.blacklist,r=e.whitelist,i=function(){return!0};return t&&typeof t=="function"?i=t:Array.isArray(n)?i=function(o){return n.indexOf(o.type)<0}:Array.isArray(r)&&(i=function(o){return r.indexOf(o.type)>=0}),i}function Jft(e){return!!e.$isSync}function UCe(e){var t=e.channel,n=e.dispatch,r=e.allowed,i=!1,s={};this.handleOnMessage=function(o){o.$wuid!==jCe&&o.type!==iQ&&o.$uuid&&o.$uuid!==uV&&(o.type===nQ&&!s[o.$wuid]?(s[o.$wuid]=!0,n(Kft())):o.type===rQ&&!s[o.$wuid]?i||(i=!0,n(Xft(o.payload))):r(o)&&(uV=o.$uuid,n(Object.assign(o,{$isSync:!0}))))},this.messageChannel=t,this.messageChannel.onmessage=this.handleOnMessage}ZX=Si.createStateSyncMiddleware=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cV,n=zCe(t),r=new Wft.BroadcastChannel(t.channel,t.broadcastChannelOption),i=t.prepareState||cV.prepareState,s=null;return function(o){var a=o.getState,l=o.dispatch;return function(u){return function(c){if(s||(s=new UCe({channel:r,dispatch:l,allowed:n})),c&&!c.$uuid){var d=BCe(c);uV=d.$uuid;try{if(c.type===rQ)return a()&&(d.payload=i(a()),r.postMessage(d)),u(c);(n(d)||c.type===nQ)&&r.postMessage(d)}catch{console.error("Your browser doesn't support cross tab communication")}}return u(Object.assign(c,{$isSync:typeof c.$isSync>"u"?!1:c.$isSync}))}}}};var Zft=Si.createReduxStateSync=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cV.receiveState;return function(r,i){var s=r;return i.type===iQ&&(s=n(r,i.payload)),t(s,i)}};eQ=Si.withReduxStateSync=Zft;tQ=Si.initStateWithPrevTab=function(t){var n=t.dispatch;n(Yft())};LCe=Si.initMessageListener=function(t){var n=t.dispatch;n(Qft())};function Wc(e){return Array.isArray(e)?e:e.components.flatMap(t=>typeof t=="string"?t:Wc(t))}function VCe(e){var t;return[...e.components.flatMap(n=>typeof n=="string"?n:VCe(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function HCe(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Wc(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Wc(e).length-1}];r+=1}else{const o=HCe(s,t,n+r);if(typeof o=="number")r+=o;else{const a={currentBlock:e,firstIndex:n,lastIndex:o[0].lastIndex};return[...o,a]}}}return r}function eht(e,t){const n=HCe(e,t,0);return typeof n=="number"?null:n}function qCe(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string")r+=1;else{const o=qCe(s,t,n+r);if(o.found)return o;r+=o.distance}}return{found:!1,distance:r}}function tht(e,t){const n=qCe(e,t,0);return n.found?n.distance:-1}function sQ(e,t="root"){const n=[],r={};return e.components.forEach((i,s)=>{typeof i=="string"?(n.push({componentName:i,orderPath:t,timesSeenInBlock:r[i]||0}),r[i]=r[i]?r[i]+1:1):n.push(...sQ(i,`${t}-${s}`))}),n}async function nht(e,t,n,r,i){const s=Wc(n),o=Object.fromEntries(s.filter(h=>h!=="end").map((h,p)=>[`${h}_${p}`,{answer:{}}])),a=Object.assign({},...s.map((h,p)=>({[`${h}_${p}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),l=Object.assign({},...s.map((h,p)=>({[`${h}_${p}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),u={studyId:e,answers:Object.keys(i).length>0?i:o,isRecording:!1,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:i?l:a,iframeAnswers:{},iframeProvenance:null,metadata:r,analysisTrialName:null,analysisProvState:null,analysisParticipantName:null,analysisWaveformTime:0},c=_dt({name:"storeSlice",initialState:u,reducers:{setConfig(h,p){h.config=p.payload},setIsRecording(h,p){h.isRecording=p.payload},toggleStudyBrowser:h=>{h.showStudyBrowser=!h.showStudyBrowser},toggleShowHelpText:h=>{h.showHelpText=!h.showHelpText},setAlertModal:(h,p)=>{h.alertModal=p.payload},setIframeAnswers:(h,p)=>{h.iframeAnswers=p.payload},setAnalysisTrialName:(h,p)=>{h.analysisTrialName=p.payload},setAnalysisParticipantName:(h,p)=>{h.analysisParticipantName=p.payload},setAnalysisWaveformTime:(h,p)=>{h.analysisWaveformTime=p.payload},setIframeProvenance:(h,p)=>{h.iframeProvenance=p.payload},updateResponseBlockValidation:(h,{payload:p})=>{h.trialValidation[p.identifier]||(h.trialValidation[p.identifier]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),h.trialValidation[p.identifier][p.location]={valid:p.status,values:p.values},p.provenanceGraph&&(h.trialValidation[p.identifier].provenanceGraph=p.provenanceGraph)},saveAnalysisState(h,{payload:p}){h.analysisProvState=p},saveTrialAnswer(h,{payload:p}){const{identifier:m,answer:g,startTime:y,endTime:v,provenanceGraph:_,windowEvents:w}=p;h.answers[m]={answer:g,startTime:y,endTime:v,provenanceGraph:_,windowEvents:w}}}}),d=ZX({}),f=ddt({reducer:eQ(c.reducer),preloadedState:u,middleware:h=>h().prepend(d)});return LCe(f),tQ(f),{store:f,actions:c.actions}}const WCe=A.createContext(null);function nc(){return A.useContext(WCe).actions}const Zc=lCe,Qo=vct;function rht(e){return Qo(t=>{if(e.includes("reviewer-"))return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function oQ(){return Qo(e=>Wc(e.sequence))}function bS(){const{studyId:e}=vf();return`${e}`}function rv(){const{index:e}=vf(),t=parseInt(e||"0",10);return Number.isNaN(t)?e:t}function vp(){const e=rv(),t=oQ();return typeof e=="number"?t[e]:e.replace("reviewer-","")}var n$={exports:{}};n$.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",_="[object Proxy]",w="[object RegExp]",E="[object Set]",S="[object String]",x="[object Undefined]",T="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",D="[object Float64Array]",R="[object Int8Array]",M="[object Int16Array]",$="[object Int32Array]",L="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",U="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,F={};F[k]=F[D]=F[R]=F[M]=F[$]=F[L]=F[B]=F[z]=F[U]=!0,F[a]=F[l]=F[I]=F[c]=F[P]=F[d]=F[f]=F[h]=F[m]=F[g]=F[v]=F[w]=F[E]=F[S]=F[T]=!1;var H=typeof Ys=="object"&&Ys&&Ys.Object===Object&&Ys,G=typeof self=="object"&&self&&self.Object===Object&&self,X=H||G||Function("return this")(),ie=t&&!t.nodeType&&t,oe=ie&&!0&&e&&!e.nodeType&&e,se=oe&&oe.exports===ie,le=se&&H.process,Se=function(){try{var re=oe&&oe.require&&oe.require("util").types;return re||le&&le.binding&&le.binding("util")}catch{}}(),de=Se&&Se.isTypedArray;function De(re,pe,Ne){switch(Ne.length){case 0:return re.call(pe);case 1:return re.call(pe,Ne[0]);case 2:return re.call(pe,Ne[0],Ne[1]);case 3:return re.call(pe,Ne[0],Ne[1],Ne[2])}return re.apply(pe,Ne)}function Fe(re,pe){for(var Ne=-1,Nt=Array(re);++Ne<re;)Nt[Ne]=pe(Ne);return Nt}function Be(re){return function(pe){return re(pe)}}function je(re,pe){return re==null?void 0:re[pe]}function me(re,pe){return function(Ne){return re(pe(Ne))}}var ne=Array.prototype,Ee=Function.prototype,Pe=Object.prototype,Je=X["__core-js_shared__"],qe=Ee.toString,_e=Pe.hasOwnProperty,Qe=function(){var re=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return re?"Symbol(src)_1."+re:""}(),pt=Pe.toString,ye=qe.call(Object),ke=RegExp("^"+qe.call(_e).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=se?X.Buffer:void 0,Ke=X.Symbol,xt=X.Uint8Array;Ge&&Ge.allocUnsafe;var Cn=me(Object.getPrototypeOf,Object),gr=Object.create,yr=Pe.propertyIsEnumerable,kr=ne.splice,Xt=Ke?Ke.toStringTag:void 0,Dn=function(){try{var re=Ze(Object,"defineProperty");return re({},"",{}),re}catch{}}(),rr=Ge?Ge.isBuffer:void 0,ir=Math.max,ao=Date.now,Oi=Ze(X,"Map"),Ui=Ze(Object,"create"),Un=function(){function re(){}return function(pe){if(!jp(pe))return{};if(gr)return gr(pe);re.prototype=pe;var Ne=new re;return re.prototype=void 0,Ne}}();function Wn(re){var pe=-1,Ne=re==null?0:re.length;for(this.clear();++pe<Ne;){var Nt=re[pe];this.set(Nt[0],Nt[1])}}function Zi(){this.__data__=Ui?Ui(null):{},this.size=0}function wd(re){var pe=this.has(re)&&delete this.__data__[re];return this.size-=pe?1:0,pe}function Va(re){var pe=this.__data__;if(Ui){var Ne=pe[re];return Ne===r?void 0:Ne}return _e.call(pe,re)?pe[re]:void 0}function mc(re){var pe=this.__data__;return Ui?pe[re]!==void 0:_e.call(pe,re)}function mt(re,pe){var Ne=this.__data__;return this.size+=this.has(re)?0:1,Ne[re]=Ui&&pe===void 0?r:pe,this}Wn.prototype.clear=Zi,Wn.prototype.delete=wd,Wn.prototype.get=Va,Wn.prototype.has=mc,Wn.prototype.set=mt;function fi(re){var pe=-1,Ne=re==null?0:re.length;for(this.clear();++pe<Ne;){var Nt=re[pe];this.set(Nt[0],Nt[1])}}function wn(){this.__data__=[],this.size=0}function $r(re){var pe=this.__data__,Ne=dr(pe,re);if(Ne<0)return!1;var Nt=pe.length-1;return Ne==Nt?pe.pop():kr.call(pe,Ne,1),--this.size,!0}function ri(re){var pe=this.__data__,Ne=dr(pe,re);return Ne<0?void 0:pe[Ne][1]}function ii(re){return dr(this.__data__,re)>-1}function ce(re,pe){var Ne=this.__data__,Nt=dr(Ne,re);return Nt<0?(++this.size,Ne.push([re,pe])):Ne[Nt][1]=pe,this}fi.prototype.clear=wn,fi.prototype.delete=$r,fi.prototype.get=ri,fi.prototype.has=ii,fi.prototype.set=ce;function te(re){var pe=-1,Ne=re==null?0:re.length;for(this.clear();++pe<Ne;){var Nt=re[pe];this.set(Nt[0],Nt[1])}}function he(){this.size=0,this.__data__={hash:new Wn,map:new(Oi||fi),string:new Wn}}function Ie(re){var pe=Xe(this,re).delete(re);return this.size-=pe?1:0,pe}function Re(re){return Xe(this,re).get(re)}function dt(re){return Xe(this,re).has(re)}function kt(re,pe){var Ne=Xe(this,re),Nt=Ne.size;return Ne.set(re,pe),this.size+=Ne.size==Nt?0:1,this}te.prototype.clear=he,te.prototype.delete=Ie,te.prototype.get=Re,te.prototype.has=dt,te.prototype.set=kt;function rn(re){var pe=this.__data__=new fi(re);this.size=pe.size}function Gn(){this.__data__=new fi,this.size=0}function Qn(re){var pe=this.__data__,Ne=pe.delete(re);return this.size=pe.size,Ne}function An(re){return this.__data__.get(re)}function vr(re){return this.__data__.has(re)}function zr(re,pe){var Ne=this.__data__;if(Ne instanceof fi){var Nt=Ne.__data__;if(!Oi||Nt.length<n-1)return Nt.push([re,pe]),this.size=++Ne.size,this;Ne=this.__data__=new te(Nt)}return Ne.set(re,pe),this.size=Ne.size,this}rn.prototype.clear=Gn,rn.prototype.delete=Qn,rn.prototype.get=An,rn.prototype.has=vr,rn.prototype.set=zr;function Qt(re,pe){var Ne=Lp(re),Nt=!Ne&&Al(re),Yn=!Ne&&!Nt&&Fp(re),Lr=!Ne&&!Nt&&!Yn&&IP(re),oi=Ne||Nt||Yn||Lr,Zn=oi?Fe(re.length,String):[],ai=Zn.length;for(var gs in re)oi&&(gs=="length"||Yn&&(gs=="offset"||gs=="parent")||Lr&&(gs=="buffer"||gs=="byteLength"||gs=="byteOffset")||At(gs,ai))||Zn.push(gs);return Zn}function br(re,pe,Ne){(Ne!==void 0&&!yc(re[pe],Ne)||Ne===void 0&&!(pe in re))&&Vi(re,pe,Ne)}function si(re,pe,Ne){var Nt=re[pe];(!(_e.call(re,pe)&&yc(Nt,Ne))||Ne===void 0&&!(pe in re))&&Vi(re,pe,Ne)}function dr(re,pe){for(var Ne=re.length;Ne--;)if(yc(re[Ne][0],pe))return Ne;return-1}function Vi(re,pe,Ne){pe=="__proto__"&&Dn?Dn(re,pe,{configurable:!0,enumerable:!0,value:Ne,writable:!0}):re[pe]=Ne}var lo=ze();function hi(re){return re==null?re===void 0?x:y:Xt&&Xt in Object(re)?et(re):sa(re)}function Ao(re){return Il(re)&&hi(re)==a}function es(re){if(!jp(re)||Jn(re))return!1;var pe=bT(re)?ke:V;return pe.test(TP(re))}function ts(re){return Il(re)&&AP(re.length)&&!!F[hi(re)]}function ia(re){if(!jp(re))return Vr(re);var pe=Ur(re),Ne=[];for(var Nt in re)Nt=="constructor"&&(pe||!_e.call(re,Nt))||Ne.push(Nt);return Ne}function Ha(re,pe,Ne,Nt,Yn){re!==pe&&lo(pe,function(Lr,oi){if(Yn||(Yn=new rn),jp(Lr))uo(re,pe,oi,Ne,Ha,Nt,Yn);else{var Zn=Nt?Nt($p(re,oi),Lr,oi+"",re,pe,Yn):void 0;Zn===void 0&&(Zn=Lr),br(re,oi,Zn)}},Av)}function uo(re,pe,Ne,Nt,Yn,Lr,oi){var Zn=$p(re,Ne),ai=$p(pe,Ne),gs=oi.get(ai);if(gs){br(re,Ne,gs);return}var oa=Lr?Lr(Zn,ai,Ne+"",re,pe,oi):void 0,Rv=oa===void 0;if(Rv){var Bp=Lp(ai),T_=!Bp&&Fp(ai),C_=!Bp&&!T_&&IP(ai);oa=ai,Bp||T_||C_?Lp(Zn)?oa=Zn:CP(Zn)?oa=ve(Zn):T_?(Rv=!1,oa=Y(ai)):C_?(Rv=!1,oa=ee(ai)):oa=[]:n8(ai)||Al(ai)?(oa=Zn,Al(Zn)?oa=Cv(Zn):(!jp(Zn)||bT(Zn))&&(oa=ct(ai))):Rv=!1}Rv&&(oi.set(ai,oa),Yn(oa,ai,Nt,Lr,oi),oi.delete(ai)),br(re,Ne,oa)}function gc(re,pe){return vT(Yf(re,pe,Ng),re+"")}var Gf=Dn?function(re,pe){return Dn(re,"toString",{configurable:!0,enumerable:!1,value:Iv(pe),writable:!0})}:Ng;function Y(re,pe){return re.slice()}function fe(re){var pe=new re.constructor(re.byteLength);return new xt(pe).set(new xt(re)),pe}function ee(re,pe){var Ne=fe(re.buffer);return new re.constructor(Ne,re.byteOffset,re.length)}function ve(re,pe){var Ne=-1,Nt=re.length;for(pe||(pe=Array(Nt));++Ne<Nt;)pe[Ne]=re[Ne];return pe}function we(re,pe,Ne,Nt){var Yn=!Ne;Ne||(Ne={});for(var Lr=-1,oi=pe.length;++Lr<oi;){var Zn=pe[Lr],ai=void 0;ai===void 0&&(ai=re[Zn]),Yn?Vi(Ne,Zn,ai):si(Ne,Zn,ai)}return Ne}function ge(re){return gc(function(pe,Ne){var Nt=-1,Yn=Ne.length,Lr=Yn>1?Ne[Yn-1]:void 0,oi=Yn>2?Ne[2]:void 0;for(Lr=re.length>3&&typeof Lr=="function"?(Yn--,Lr):void 0,oi&&In(Ne[0],Ne[1],oi)&&(Lr=Yn<3?void 0:Lr,Yn=1),pe=Object(pe);++Nt<Yn;){var Zn=Ne[Nt];Zn&&re(pe,Zn,Nt,Lr)}return pe})}function ze(re){return function(pe,Ne,Nt){for(var Yn=-1,Lr=Object(pe),oi=Nt(pe),Zn=oi.length;Zn--;){var ai=oi[++Yn];if(Ne(Lr[ai],ai,Lr)===!1)break}return pe}}function Xe(re,pe){var Ne=re.__data__;return Lt(pe)?Ne[typeof pe=="string"?"string":"hash"]:Ne.map}function Ze(re,pe){var Ne=je(re,pe);return es(Ne)?Ne:void 0}function et(re){var pe=_e.call(re,Xt),Ne=re[Xt];try{re[Xt]=void 0;var Nt=!0}catch{}var Yn=pt.call(re);return Nt&&(pe?re[Xt]=Ne:delete re[Xt]),Yn}function ct(re){return typeof re.constructor=="function"&&!Ur(re)?Un(Cn(re)):{}}function At(re,pe){var Ne=typeof re;return pe=pe??o,!!pe&&(Ne=="number"||Ne!="symbol"&&W.test(re))&&re>-1&&re%1==0&&re<pe}function In(re,pe,Ne){if(!jp(Ne))return!1;var Nt=typeof pe;return(Nt=="number"?S_(Ne)&&At(pe,Ne.length):Nt=="string"&&pe in Ne)?yc(Ne[pe],re):!1}function Lt(re){var pe=typeof re;return pe=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?re!=="__proto__":re===null}function Jn(re){return!!Qe&&Qe in re}function Ur(re){var pe=re&&re.constructor,Ne=typeof pe=="function"&&pe.prototype||Pe;return re===Ne}function Vr(re){var pe=[];if(re!=null)for(var Ne in Object(re))pe.push(Ne);return pe}function sa(re){return pt.call(re)}function Yf(re,pe,Ne){return pe=ir(pe===void 0?re.length-1:pe,0),function(){for(var Nt=arguments,Yn=-1,Lr=ir(Nt.length-pe,0),oi=Array(Lr);++Yn<Lr;)oi[Yn]=Nt[pe+Yn];Yn=-1;for(var Zn=Array(pe+1);++Yn<pe;)Zn[Yn]=Nt[Yn];return Zn[pe]=Ne(oi),De(re,this,Zn)}}function $p(re,pe){if(!(pe==="constructor"&&typeof re[pe]=="function")&&pe!="__proto__")return re[pe]}var vT=Tv(Gf);function Tv(re){var pe=0,Ne=0;return function(){var Nt=ao(),Yn=s-(Nt-Ne);if(Ne=Nt,Yn>0){if(++pe>=i)return arguments[0]}else pe=0;return re.apply(void 0,arguments)}}function TP(re){if(re!=null){try{return qe.call(re)}catch{}try{return re+""}catch{}}return""}function yc(re,pe){return re===pe||re!==re&&pe!==pe}var Al=Ao(function(){return arguments}())?Ao:function(re){return Il(re)&&_e.call(re,"callee")&&!yr.call(re,"callee")},Lp=Array.isArray;function S_(re){return re!=null&&AP(re.length)&&!bT(re)}function CP(re){return Il(re)&&S_(re)}var Fp=rr||kP;function bT(re){if(!jp(re))return!1;var pe=hi(re);return pe==h||pe==p||pe==u||pe==_}function AP(re){return typeof re=="number"&&re>-1&&re%1==0&&re<=o}function jp(re){var pe=typeof re;return re!=null&&(pe=="object"||pe=="function")}function Il(re){return re!=null&&typeof re=="object"}function n8(re){if(!Il(re)||hi(re)!=v)return!1;var pe=Cn(re);if(pe===null)return!0;var Ne=_e.call(pe,"constructor")&&pe.constructor;return typeof Ne=="function"&&Ne instanceof Ne&&qe.call(Ne)==ye}var IP=de?Be(de):ts;function Cv(re){return we(re,Av(re))}function Av(re){return S_(re)?Qt(re):ia(re)}var RP=ge(function(re,pe,Ne){Ha(re,pe,Ne)});function Iv(re){return function(){return re}}function Ng(re){return re}function kP(){return!1}e.exports=RP})(n$,n$.exports);var iht=n$.exports;const aQ=bu(iht),LT="@REVISIT_COMMS",sht={minHeight:"500px",width:"100%",border:0};function oht({currentConfig:e}){const{setIframeAnswers:t,setIframeProvenance:n}=nc(),r=Zc(),i=lCe(),s=A.useRef(null),o=A.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),a=vp(),l=pd(),u=A.useCallback((c,d)=>{var f,h;(h=(f=s.current)==null?void 0:f.contentWindow)==null||h.postMessage({error:!1,type:`${LT}/${c}`,iframeId:o,message:d},"*")},[s,o]);return A.useEffect(()=>{const c=d=>{const{data:f}=d;if(typeof f=="object"&&o===f.iframeId)switch(f.type){case`${LT}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${LT}/READY`:s.current&&(s.current.style.height=`${f.message.documentHeight}px`);break;case`${LT}/ANSWERS`:r(t(f.message));break;case`${LT}/PROVENANCE`:r(n(f.message));break}};return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},[r,i,o,l,e,u,t,n]),b.jsx("iframe",{ref:s,src:`${gp}${e.path}?trialid=${a}&id=${o}`,style:sht})}async function lQ(e){const n=await(await fetch(`${gp}${e}`)).text();if(!n.includes("<title>reVISit</title>"))return n}function QR({email:e,path:t}){const n=mg();return b.jsxs(Nf,{fluid:!0,my:50,maw:800,mx:"auto",children:[b.jsx(Ti,{order:2,children:b.jsx(nt,{span:!0,c:"orange",children:"404"})}),b.jsxs(nt,{children:[b.jsx(nt,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),b.jsx(qc,{h:"lg"}),b.jsxs(rf,{children:[b.jsx(rf.Item,{children:b.jsx(nt,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),b.jsx(rf.Item,{children:b.jsxs(nt,{children:["If you're a participant, please contact the study administrator"," ",e&&b.jsxs(b.Fragment,{children:["at"," ",b.jsxs(Qy,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}const aht={maxWidth:"100%"};function lht({currentConfig:e}){const t={...aht,...e.style},[n,r]=A.useState(!0),[i,s]=A.useState(!1);return A.useEffect(()=>{async function o(){const a=await lQ(e.path);s(!!a),r(!1)}o()},[e]),n||i?b.jsx(Zy,{mx:"auto",src:`${gp}${e.path}`,style:t}):b.jsx(QR,{path:e.path})}function uht({currentConfig:e}){const[t,n]=A.useState(""),[r,i]=A.useState(!0);return A.useEffect(()=>{async function s(){const o=await lQ(e.path);o!==void 0&&n(o),i(!1)}s()},[e.path]),r||t?b.jsx(fl,{text:t}):b.jsx(QR,{path:e.path})}function Xh(){return Qo(e=>e.config)}function uQ(){const{answers:e}=Qo(i=>i),t=rv(),r=`${vp()}_${t}`;return e[r]}const cht=dbe(Dft);var dht=cht;function fht(e,t){var n,r="",i=0,s=!0,o=0,a;function l(){return a=e.charAt(o),o++,a}for(l(),a==="-"&&(r="-",l());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,l();if(s&&i--,a===".")for(r+=".";l()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,l(),(a==="-"||a==="+")&&(r+=a,l());a>="0"&&a<="9";)r+=a,l();for(;a&&a<=" ";)l();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function hht(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function pht(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function mht(e){return e.__COMMENTS__}function ght(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var w6={EOL:dht.EOL||`
`,tryParseNumber:fht,createComment:hht,removeComment:pht,getComment:mht,forceComment:ght},yht="3.2.1";function vht(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return ede}else if(e.length===0)return ede;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return _ht(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),bht.bind(null,n)}function bht(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function ede(){}function _ht(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function GCe(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}GCe.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function YCe(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}YCe.description="parse hexadecimal numbers prefixed with 0x";function KCe(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}KCe.description="support ISO dates";var cQ={loadDsf:vht,std:{math:GCe,hex:YCe,date:KCe}},wht=function(e,t){var n=w6,r=cQ,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){s=0,o=" "}function d(M){return M==="{"||M==="}"||M==="["||M==="]"||M===","||M===":"}function f(M){var $,L=0,B=1;for($=s-1;$>0&&i[$]!==`
`;$--,L++);for(;$>0;$--)i[$]===`
`&&B++;throw new Error(M+" at line "+B+","+L+" >>>"+i.substr(s-L,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(M){return i.charAt(s+M)}function m(M){for(var $="",L=o;h();){if(o===L)return h(),M&&L==="'"&&o==="'"&&$.length===0?(h(),g()):$;if(o==="\\")if(h(),o==="u"){for(var B=0,z=0;z<4;z++){h();var U=o.charCodeAt(0),N;o>="0"&&o<="9"?N=U-48:o>="a"&&o<="f"?N=U-97+10:o>="A"&&o<="F"?N=U-65+10:f("Bad \\u char "+o),B=B*16+N}$+=String.fromCharCode(B)}else if(typeof a[o]=="string")$+=a[o];else break;else o===`
`||o==="\r"?f("Bad string containing newline"):$+=o}f("Bad string")}function g(){for(var M="",$=0,L=0;;){var B=p(-L-5);if(!B||B===`
`)break;L++}function z(){for(var U=L;o&&o<=" "&&o!==`
`&&U-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),z());;){if(!o)f("Bad multiline string");else if(o==="'"){if($++,h(),$===3)return M.slice(-1)===`
`&&(M=M.slice(0,-1)),M;continue}else for(;$>0;)M+="'",$--;o===`
`?(M+=`
`,h(),z()):(o!=="\r"&&(M+=o),h())}}function y(){if(o==='"'||o==="'")return m(!1);for(var M="",$=s,L=-1;;){if(o===":")return M?L>=0&&L!==M.length&&(s=$+L,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),M;o<=" "?o?L<0&&(L=M.length):f("Found EOF while looking for a key name (check your syntax)"):d(o)?f("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):M+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var M=o;for(d(o)&&f("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var $=o==="\r"||o===`
`||o==="";if($||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var L=M[0];switch(L){case"f":if(M.trim()==="false")return!1;break;case"n":if(M.trim()==="null")return null;break;case"t":if(M.trim()==="true")return!0;break;default:if(L==="-"||L>="0"&&L<="9"){var B=n.tryParseNumber(M);if(B!==void 0)return B}}if($){M=M.trim();var z=u(M);return z!==void 0?z:M}}M+=o}}function w(M,$){var L;for(M--,L=s-2;L>M&&i[L]<=" "&&i[L]!==`
`;L--);i[L]===`
`&&L--,i[L]==="\r"&&L--;var B=i.substr(M,L-M+1);for(L=0;L<B.length;L++)if(B[L]>" "){var z=B.indexOf(`
`);if(z>=0){var U=[B.substr(0,z),B.substr(z+1)];return $&&U[0].trim().length===0&&U.shift(),U}else return[B]}return[]}function E(M){function $(B,z){var U,N,V,W;switch(typeof B){case"string":B.indexOf(z)>=0&&(W=B);break;case"object":if(Object.prototype.toString.apply(B)==="[object Array]")for(U=0,V=B.length;U<V;U++)W=$(B[U],z)||W;else for(N in B)Object.prototype.hasOwnProperty.call(B,N)&&(W=$(B[N],z)||W)}return W}function L(B){var z=$(M,B);return z?"found '"+B+`' in a string value, your mistake could be with:
  > `+z+`
  (unquoted strings contain everything up to the next line!)`:""}return L("}")||L("]")}function S(){var M=[],$,L,B;try{if(l&&($=n.createComment(M,{a:[]})),h(),L=s,v(),$&&(B=w(L,!0).join(`
`)),o==="]")return h(),$&&($.e=[B]),M;for(;o;){if(M.push(T()),L=s,v(),o===","&&(h(),L=s,v()),$){var z=w(L);$.a.push([B||"",z[0]||""]),B=z[1]}if(o==="]")return h(),$&&($.a[$.a.length-1][1]+=B||""),M;v()}f("End of input while parsing an array (missing ']')")}catch(U){throw U.hint=U.hint||E(M),U}}function x(M){var $="",L={},B,z,U;try{if(l&&(B=n.createComment(L,{c:{},o:[]})),M?z=1:(h(),z=s),v(),B&&(U=w(z,!0).join(`
`)),o==="}"&&!M)return B&&(B.e=[U]),h(),L;for(;o;){if($=y(),v(),o!==":"&&f("Expected ':' instead of '"+o+"'"),h(),L[$]=T(),z=s,v(),o===","&&(h(),z=s,v()),B){var N=w(z);B.c[$]=[U||"",N[0]||""],U=N[1],B.o.push($)}if(o==="}"&&!M)return h(),B&&(B.c[$][1]+=U||""),L;v()}if(M)return L;f("End of input while parsing an object (missing '}')")}catch(V){throw V.hint=V.hint||E(L),V}}function T(){switch(v(),o){case"{":return x();case"[":return S();case"'":case'"':return m(!0);default:return _()}}function I(M,$){var L=s;if(v(),o&&f("Syntax error, found trailing characters"),l){var B=$.join(`
`),z=w(L).join(`
`);if(z||B){var U=n.createComment(M,n.getComment(M));U.r=[B,z]}}return M}function P(){v();var M=l?w(1):null;switch(o){case"{":return I(x(),M);case"[":return I(S(),M);default:return I(T(),M)}}function k(){v();var M=l?w(1):null;switch(o){case"{":return I(x(),M);case"[":return I(S(),M)}try{return I(x(!0),M)}catch($){c();try{return I(T(),M)}catch{throw $}}}if(typeof e!="string")throw new Error("source is not a string");var D=null,R=!0;return t&&typeof t=="object"&&(l=t.keepWsc,D=t.dsf,R=t.legacyRoot!==!1),u=r.loadDsf(D,"parse"),i=e,c(),R?k():P()},Eht=function(e,t){var n=w6,r=cQ,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var _=v[y];g[_].push(i[_][0].length,i[_][1].length)}}var w,E="-­؀-؄܏឴឵‌-‏\u2028- ⁠-⁯\uFEFF￰-￿",S=new RegExp('[\\\\\\"\0-'+E+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+E+"]","g"),T=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+E+"]","g"),I=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),P={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},k=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,D="",R=0;function M(W,F){return R+=W[0].length+W[1].length-W[2]-W[3],W[0]+F+W[1]}function $(W){return W.replace(S,function(F){var H=P[F];return typeof H=="string"?M(g.esc,H):M(g.uni,("0000"+F.charCodeAt(0).toString(16)).slice(-4))})}function L(W,F,H,G){return W?(x.lastIndex=0,I.lastIndex=0,c||H||x.test(W)||n.tryParseNumber(W,!0)!==void 0||I.test(W)?(S.lastIndex=0,T.lastIndex=0,S.test(W)?!T.test(W)&&!G&&f?B(W,F):M(g.qstr,$(W)):M(g.qstr,W)):M(g.str,W)):M(g.qstr,"")}function B(W,F){var H,G=W.replace(/\r/g,"").split(`
`);if(F+=o,G.length===1)return M(g.mstr,G[0]);var X=s+F+g.mstr[0];for(H=0;H<G.length;H++)X+=s,G[H]&&(X+=F+G[H]);return X+s+F+g.mstr[1]}function z(W){return W?u||k.test(W)?(S.lastIndex=0,M(g.qkey,S.test(W)?$(W):W)):M(g.key,W):'""'}function U(W,F,H,G){function X(Xt){return Xt&&Xt[Xt[0]==="\r"?1:0]===`
`}function ie(Xt){return Xt&&!X(Xt)}function oe(Xt,Dn,rr){if(!Xt)return"";Xt=n.forceComment(Xt);var ir,ao=Xt.length;for(ir=0;ir<ao&&Xt[ir]<=" ";ir++);return rr&&ir>0&&(Xt=Xt.substr(ir)),ir<ao?Dn+M(g.rem,Xt):Xt}var se=w(W);if(se!==void 0)return M(g.dsf,se);switch(typeof W){case"string":return L(W,D,F,G);case"number":return isFinite(W)?M(g.num,String(W)):M(g.lit,"null");case"boolean":return M(g.lit,String(W));case"object":if(!W)return M(g.lit,"null");var le;a&&(le=n.getComment(W));var Se=Object.prototype.toString.apply(W)==="[object Array]",de=D;D+=o;var De=s+de,Fe=s+D,Be=H||l?"":De,je=[],me,ne=d?[]:null,Ee=c,Pe=f,Je=h?"":g.com[0],qe=0,_e,Qe,pt,ye,ke,Ge,Ke,xt,Cn;if(Se){for(_e=0,Qe=W.length;_e<Qe;_e++){if(me=_e<Qe-1,le?(Ge=le.a[_e]||[],Ke=ie(Ge[1]),je.push(oe(Ge[0],`
`)+Fe),ne&&(Ge[0]||Ge[1]||Ke)&&(ne=null)):je.push(Fe),R=0,ye=W[_e],je.push(U(ye,le?Ke:!1,!0)+(me?h:"")),ne){switch(typeof ye){case"string":R=0,c=!0,f=0,ne.push(U(ye,!1,!0)+(me?g.com[0]:"")),c=Ee,f=Pe;break;case"object":if(ye){ne=null;break}default:ne.push(je[je.length-1]+(me?Je:""));break}me&&(R+=g.com[0].length-g.com[2]),qe+=R}le&&Ge[1]&&je.push(oe(Ge[1],Ke?" ":`
`,Ke))}Qe===0?le&&le.e&&je.push(oe(le.e[0],`
`)+De):je.push(De),je.length===0?xt=M(g.arr,""):(xt=Be+M(g.arr,je.join("")),ne&&(Cn=ne.join(" "),Cn.length-qe<=d&&(xt=M(g.arr,Cn))))}else{var gr=le?le.o.slice():[],yr=[];for(pt in W)Object.prototype.hasOwnProperty.call(W,pt)&&gr.indexOf(pt)<0&&yr.push(pt);m&&yr.sort();var kr=gr.concat(yr);for(_e=0,Qe=kr.length;_e<Qe;_e++)if(me=_e<Qe-1,pt=kr[_e],le?(Ge=le.c[pt]||[],Ke=ie(Ge[1]),je.push(oe(Ge[0],`
`)+Fe),ne&&(Ge[0]||Ge[1]||Ke)&&(ne=null)):je.push(Fe),R=0,ye=W[pt],ke=U(ye,le&&Ke),je.push(z(pt)+g.col[0]+(X(ke)?"":" ")+ke+(me?h:"")),le&&Ge[1]&&je.push(oe(Ge[1],Ke?" ":`
`,Ke)),ne){switch(typeof ye){case"string":R=0,c=!0,f=0,ke=U(ye,!1),c=Ee,f=Pe,ne.push(z(pt)+g.col[0]+" "+ke+(me?g.com[0]:""));break;case"object":if(ye){ne=null;break}default:ne.push(je[je.length-1]+(me?Je:""));break}R+=g.col[0].length-g.col[2],me&&(R+=g.com[0].length-g.com[2]),qe+=R}Qe===0?le&&le.e&&je.push(oe(le.e[0],`
`)+De):je.push(De),je.length===0?xt=M(g.obj,""):(xt=Be+M(g.obj,je.join("")),ne&&(Cn=ne.join(" "),Cn.length-qe<=d&&(xt=M(g.obj,Cn))))}return D=de,xt}}w=r.loadDsf(p,"stringify");var N="",V=a?V=(n.getComment(e)||{}).r:null;return V&&V[0]&&(N=V[0]+`
`),N+=U(e,null,!0,!0),V&&(N+=V[1]||""),N},oE=w6;function q2(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function dV(e,t){if(!(e===null||typeof e!="object")){var n=oE.getComment(e);n&&oE.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)tde(o.a,r,n.a[r],dV(e[r]))&&(s=!0);!s&&n.e&&(o.e=q2(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,l=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(l).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=l,o.o=a,r=0,i=a.length;r<i;r++){var u=a[r];tde(o.s,u,n.c[u],dV(e[u]))&&(s=!0)}!s&&n.e&&(o.e=q2(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=q2(n.r[0],n.r[1])),s?o:void 0}}function xht(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function Sht(e,t){var n=[];if(fV(e,t,n,[]),n.length>0){var r=r$(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+xht(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),r$(t,r,1)}}function tde(e,t,n,r){var i=q2(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function W2(e,t){var n=q2(t.b,t.a);return n.path=e,n}function G2(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(W2(s,o)),G2(o.x,t,s))}else e.o&&e.o.forEach(function(a){var l=n.slice().concat([a]),u=e.s[a];u&&(t.push(W2(l,u)),G2(u.x,t,l))});e.e&&t.push(W2(n,e.e))}}function fV(e,t,n,r){if(e){if(t===null||typeof t!="object"){G2(e,n,r);return}var i,s=oE.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var l=e.a[a];if(l){var u=r.slice().concat([i]);i<t.length?(s.a[i]=[l.b,l.a],fV(l.x,t[i],n,u)):(n.push(W2(u,l)),G2(l.x,n,u))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var d=r.slice().concat([c]),f=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),f&&(s.c[c]=[f.b,f.a],fV(f.x,t[c],n,d))):f&&(n.push(W2(d,f)),G2(f.x,n,d))}),e.e&&(s.e=[e.e.b,e.e.a])}}function r$(e,t,n){var r=oE.createComment(e,oE.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=oE.forceComment(t)),r.r[n]||""}var Tht={extract:function(e){return dV(e,!0)},merge:Sht,header:function(e,t){return r$(e,t,0)},footer:function(e,t){return r$(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var nde=w6,Cht=yht,rde=wht,ide=Eht,Aht=Tht,Iht=cQ,dQ={parse:rde,stringify:ide,endOfLine:function(){return nde.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(nde.EOL=e)},version:Cht,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,rde(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,ide(e,t)}},comments:Aht,dsf:Iht.std},hV={exports:{}},XCe={},of={},KE={},JR={},qn={},oI={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,w)=>`${_}${w}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,w)=>(w instanceof n&&(_[w.str]=(_[w.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const _=[y[0]];let w=0;for(;w<v.length;)a(_,v[w]),_.push(y[++w]);return new r(_)}e._=i;const s=new r("+");function o(y,...v){const _=[h(y[0])];let w=0;for(;w<v.length;)_.push(s),a(_,v[w]),_.push(s,h(y[++w]));return l(_),new r(_)}e.str=o;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===s){const _=u(y[v-1],y[v+1]);if(_!==void 0){y.splice(v-1,3,_);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}e.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(oI);var pV={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=oI;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,f.setValue(c,{property:h,itemIndex:y}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${y} = ${v};${this.opts._n}`}else if(v=f==null?void 0:f(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(pV);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=oI,n=pV;var r=oI;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=pV;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(H,G){return this}}class o extends s{constructor(H,G,X){super(),this.varKind=H,this.name=G,this.rhs=X}render({es5:H,_n:G}){const X=H?n.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${X} ${this.name}${ie};`+G}optimizeNames(H,G){if(H[this.name.str])return this.rhs&&(this.rhs=M(this.rhs,H,G)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(H,G,X){super(),this.lhs=H,this.rhs=G,this.sideEffects=X}render({_n:H}){return`${this.lhs} = ${this.rhs};`+H}optimizeNames(H,G){if(!(this.lhs instanceof t.Name&&!H[this.lhs.str]&&!this.sideEffects))return this.rhs=M(this.rhs,H,G),this}get names(){const H=this.lhs instanceof t.Name?{}:{...this.lhs.names};return R(H,this.rhs)}}class l extends a{constructor(H,G,X,ie){super(H,X,ie),this.op=G}render({_n:H}){return`${this.lhs} ${this.op}= ${this.rhs};`+H}}class u extends s{constructor(H){super(),this.label=H,this.names={}}render({_n:H}){return`${this.label}:`+H}}class c extends s{constructor(H){super(),this.label=H,this.names={}}render({_n:H}){return`break${this.label?` ${this.label}`:""};`+H}}class d extends s{constructor(H){super(),this.error=H}render({_n:H}){return`throw ${this.error};`+H}get names(){return this.error.names}}class f extends s{constructor(H){super(),this.code=H}render({_n:H}){return`${this.code};`+H}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(H,G){return this.code=M(this.code,H,G),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(H=[]){super(),this.nodes=H}render(H){return this.nodes.reduce((G,X)=>G+X.render(H),"")}optimizeNodes(){const{nodes:H}=this;let G=H.length;for(;G--;){const X=H[G].optimizeNodes();Array.isArray(X)?H.splice(G,1,...X):X?H[G]=X:H.splice(G,1)}return H.length>0?this:void 0}optimizeNames(H,G){const{nodes:X}=this;let ie=X.length;for(;ie--;){const oe=X[ie];oe.optimizeNames(H,G)||($(H,oe.names),X.splice(ie,1))}return X.length>0?this:void 0}get names(){return this.nodes.reduce((H,G)=>D(H,G.names),{})}}class p extends h{render(H){return"{"+H._n+super.render(H)+"}"+H._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(H,G){super(G),this.condition=H}render(H){let G=`if(${this.condition})`+super.render(H);return this.else&&(G+="else "+this.else.render(H)),G}optimizeNodes(){super.optimizeNodes();const H=this.condition;if(H===!0)return this.nodes;let G=this.else;if(G){const X=G.optimizeNodes();G=this.else=Array.isArray(X)?new g(X):X}if(G)return H===!1?G instanceof y?G:G.nodes:this.nodes.length?this:new y(L(H),G instanceof y?[G]:G.nodes);if(!(H===!1||!this.nodes.length))return this}optimizeNames(H,G){var X;if(this.else=(X=this.else)===null||X===void 0?void 0:X.optimizeNames(H,G),!!(super.optimizeNames(H,G)||this.else))return this.condition=M(this.condition,H,G),this}get names(){const H=super.names;return R(H,this.condition),this.else&&D(H,this.else.names),H}}y.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(H){super(),this.iteration=H}render(H){return`for(${this.iteration})`+super.render(H)}optimizeNames(H,G){if(super.optimizeNames(H,G))return this.iteration=M(this.iteration,H,G),this}get names(){return D(super.names,this.iteration.names)}}class w extends v{constructor(H,G,X,ie){super(),this.varKind=H,this.name=G,this.from=X,this.to=ie}render(H){const G=H.es5?n.varKinds.var:this.varKind,{name:X,from:ie,to:oe}=this;return`for(${G} ${X}=${ie}; ${X}<${oe}; ${X}++)`+super.render(H)}get names(){const H=R(super.names,this.from);return R(H,this.to)}}class E extends v{constructor(H,G,X,ie){super(),this.loop=H,this.varKind=G,this.name=X,this.iterable=ie}render(H){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(H)}optimizeNames(H,G){if(super.optimizeNames(H,G))return this.iterable=M(this.iterable,H,G),this}get names(){return D(super.names,this.iterable.names)}}class S extends p{constructor(H,G,X){super(),this.name=H,this.args=G,this.async=X}render(H){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(H)}}S.kind="func";class x extends h{render(H){return"return "+super.render(H)}}x.kind="return";class T extends p{render(H){let G="try"+super.render(H);return this.catch&&(G+=this.catch.render(H)),this.finally&&(G+=this.finally.render(H)),G}optimizeNodes(){var H,G;return super.optimizeNodes(),(H=this.catch)===null||H===void 0||H.optimizeNodes(),(G=this.finally)===null||G===void 0||G.optimizeNodes(),this}optimizeNames(H,G){var X,ie;return super.optimizeNames(H,G),(X=this.catch)===null||X===void 0||X.optimizeNames(H,G),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(H,G),this}get names(){const H=super.names;return this.catch&&D(H,this.catch.names),this.finally&&D(H,this.finally.names),H}}class I extends p{constructor(H){super(),this.error=H}render(H){return`catch(${this.error})`+super.render(H)}}I.kind="catch";class P extends p{render(H){return"finally"+super.render(H)}}P.kind="finally";class k{constructor(H,G={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...G,_n:G.lines?`
`:""},this._extScope=H,this._scope=new n.Scope({parent:H}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(H){return this._scope.name(H)}scopeName(H){return this._extScope.name(H)}scopeValue(H,G){const X=this._extScope.value(H,G);return(this._values[X.prefix]||(this._values[X.prefix]=new Set)).add(X),X}getScopeValue(H,G){return this._extScope.getValue(H,G)}scopeRefs(H){return this._extScope.scopeRefs(H,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(H,G,X,ie){const oe=this._scope.toName(G);return X!==void 0&&ie&&(this._constants[oe.str]=X),this._leafNode(new o(H,oe,X)),oe}const(H,G,X){return this._def(n.varKinds.const,H,G,X)}let(H,G,X){return this._def(n.varKinds.let,H,G,X)}var(H,G,X){return this._def(n.varKinds.var,H,G,X)}assign(H,G,X){return this._leafNode(new a(H,G,X))}add(H,G){return this._leafNode(new l(H,e.operators.ADD,G))}code(H){return typeof H=="function"?H():H!==t.nil&&this._leafNode(new f(H)),this}object(...H){const G=["{"];for(const[X,ie]of H)G.length>1&&G.push(","),G.push(X),(X!==ie||this.opts.es5)&&(G.push(":"),(0,t.addCodeArg)(G,ie));return G.push("}"),new t._Code(G)}if(H,G,X){if(this._blockNode(new y(H)),G&&X)this.code(G).else().code(X).endIf();else if(G)this.code(G).endIf();else if(X)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(H){return this._elseNode(new y(H))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(H,G){return this._blockNode(H),G&&this.code(G).endFor(),this}for(H,G){return this._for(new _(H),G)}forRange(H,G,X,ie,oe=this.opts.es5?n.varKinds.var:n.varKinds.let){const se=this._scope.toName(H);return this._for(new w(oe,se,G,X),()=>ie(se))}forOf(H,G,X,ie=n.varKinds.const){const oe=this._scope.toName(H);if(this.opts.es5){const se=G instanceof t.Name?G:this.var("_arr",G);return this.forRange("_i",0,(0,t._)`${se}.length`,le=>{this.var(oe,(0,t._)`${se}[${le}]`),X(oe)})}return this._for(new E("of",ie,oe,G),()=>X(oe))}forIn(H,G,X,ie=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(H,(0,t._)`Object.keys(${G})`,X);const oe=this._scope.toName(H);return this._for(new E("in",ie,oe,G),()=>X(oe))}endFor(){return this._endBlockNode(v)}label(H){return this._leafNode(new u(H))}break(H){return this._leafNode(new c(H))}return(H){const G=new x;if(this._blockNode(G),this.code(H),G.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(H,G,X){if(!G&&!X)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new T;if(this._blockNode(ie),this.code(H),G){const oe=this.name("e");this._currNode=ie.catch=new I(oe),G(oe)}return X&&(this._currNode=ie.finally=new P,this.code(X)),this._endBlockNode(I,P)}throw(H){return this._leafNode(new d(H))}block(H,G){return this._blockStarts.push(this._nodes.length),H&&this.code(H).endBlock(G),this}endBlock(H){const G=this._blockStarts.pop();if(G===void 0)throw new Error("CodeGen: not in self-balancing block");const X=this._nodes.length-G;if(X<0||H!==void 0&&X!==H)throw new Error(`CodeGen: wrong number of nodes: ${X} vs ${H} expected`);return this._nodes.length=G,this}func(H,G=t.nil,X,ie){return this._blockNode(new S(H,G,X)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(H=1){for(;H-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(H){return this._currNode.nodes.push(H),this}_blockNode(H){this._currNode.nodes.push(H),this._nodes.push(H)}_endBlockNode(H,G){const X=this._currNode;if(X instanceof H||G&&X instanceof G)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${G?`${H.kind}/${G.kind}`:H.kind}"`)}_elseNode(H){const G=this._currNode;if(!(G instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=G.else=H,this}get _root(){return this._nodes[0]}get _currNode(){const H=this._nodes;return H[H.length-1]}set _currNode(H){const G=this._nodes;G[G.length-1]=H}}e.CodeGen=k;function D(F,H){for(const G in H)F[G]=(F[G]||0)+(H[G]||0);return F}function R(F,H){return H instanceof t._CodeOrName?D(F,H.names):F}function M(F,H,G){if(F instanceof t.Name)return X(F);if(!ie(F))return F;return new t._Code(F._items.reduce((oe,se)=>(se instanceof t.Name&&(se=X(se)),se instanceof t._Code?oe.push(...se._items):oe.push(se),oe),[]));function X(oe){const se=G[oe.str];return se===void 0||H[oe.str]!==1?oe:(delete H[oe.str],se)}function ie(oe){return oe instanceof t._Code&&oe._items.some(se=>se instanceof t.Name&&H[se.str]===1&&G[se.str]!==void 0)}}function $(F,H){for(const G in H)F[G]=(F[G]||0)-(H[G]||0)}function L(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${W(F)}`}e.not=L;const B=V(e.operators.AND);function z(...F){return F.reduce(B)}e.and=z;const U=V(e.operators.OR);function N(...F){return F.reduce(U)}e.or=N;function V(F){return(H,G)=>H===t.nil?G:G===t.nil?H:(0,t._)`${W(H)} ${F} ${W(G)}`}function W(F){return F instanceof t.Name?F:(0,t._)`(${F})`}})(qn);var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.checkStrictMode=Ct.getErrorPath=Ct.Type=Ct.useFunc=Ct.setEvaluated=Ct.evaluatedPropsToName=Ct.mergeEvaluated=Ct.eachItem=Ct.unescapeJsonPointer=Ct.escapeJsonPointer=Ct.escapeFragment=Ct.unescapeFragment=Ct.schemaRefOrVal=Ct.schemaHasRulesButRef=Ct.schemaHasRules=Ct.checkUnknownRules=Ct.alwaysValidSchema=Ct.toHash=void 0;const ci=qn,Rht=oI;function kht(e){const t={};for(const n of e)t[n]=!0;return t}Ct.toHash=kht;function Pht(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(QCe(e,t),!JCe(t,e.self.RULES.all))}Ct.alwaysValidSchema=Pht;function QCe(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema||typeof t=="boolean")return;const i=r.RULES.keywords;for(const s in t)i[s]||t2e(e,`unknown keyword: "${s}"`)}Ct.checkUnknownRules=QCe;function JCe(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}Ct.schemaHasRules=JCe;function Nht(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}Ct.schemaHasRulesButRef=Nht;function Oht({topSchemaRef:e,schemaPath:t},n,r,i){if(!i){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,ci._)`${n}`}return(0,ci._)`${e}${t}${(0,ci.getProperty)(r)}`}Ct.schemaRefOrVal=Oht;function Dht(e){return ZCe(decodeURIComponent(e))}Ct.unescapeFragment=Dht;function Mht(e){return encodeURIComponent(fQ(e))}Ct.escapeFragment=Mht;function fQ(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ct.escapeJsonPointer=fQ;function ZCe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ct.unescapeJsonPointer=ZCe;function $ht(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}Ct.eachItem=$ht;function sde({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(i,s,o,a)=>{const l=o===void 0?s:o instanceof ci.Name?(s instanceof ci.Name?e(i,s,o):t(i,s,o),o):s instanceof ci.Name?(t(i,o,s),s):n(s,o);return a===ci.Name&&!(l instanceof ci.Name)?r(i,l):l}}Ct.mergeEvaluated={props:sde({mergeNames:(e,t,n)=>e.if((0,ci._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,ci._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,ci._)`${n} || {}`).code((0,ci._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,ci._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,ci._)`${n} || {}`),hQ(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:e2e}),items:sde({mergeNames:(e,t,n)=>e.if((0,ci._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,ci._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,ci._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,ci._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function e2e(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,ci._)`{}`);return t!==void 0&&hQ(e,n,t),n}Ct.evaluatedPropsToName=e2e;function hQ(e,t,n){Object.keys(n).forEach(r=>e.assign((0,ci._)`${t}${(0,ci.getProperty)(r)}`,!0))}Ct.setEvaluated=hQ;const ode={};function Lht(e,t){return e.scopeValue("func",{ref:t,code:ode[t.code]||(ode[t.code]=new Rht._Code(t.code))})}Ct.useFunc=Lht;var mV;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(mV||(Ct.Type=mV={}));function Fht(e,t,n){if(e instanceof ci.Name){const r=t===mV.Num;return n?r?(0,ci._)`"[" + ${e} + "]"`:(0,ci._)`"['" + ${e} + "']"`:r?(0,ci._)`"/" + ${e}`:(0,ci._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,ci.getProperty)(e).toString():"/"+fQ(e)}Ct.getErrorPath=Fht;function t2e(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}Ct.checkStrictMode=t2e;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});const da=qn,jht={data:new da.Name("data"),valCxt:new da.Name("valCxt"),instancePath:new da.Name("instancePath"),parentData:new da.Name("parentData"),parentDataProperty:new da.Name("parentDataProperty"),rootData:new da.Name("rootData"),dynamicAnchors:new da.Name("dynamicAnchors"),vErrors:new da.Name("vErrors"),errors:new da.Name("errors"),this:new da.Name("this"),self:new da.Name("self"),scope:new da.Name("scope"),json:new da.Name("json"),jsonPos:new da.Name("jsonPos"),jsonLen:new da.Name("jsonLen"),jsonPart:new da.Name("jsonPart")};bp.default=jht;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=qn,n=Ct,r=bp;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,_){const{it:w}=g,{gen:E,compositeRule:S,allErrors:x}=w,T=d(g,y,v);_??(S||x)?l(E,T):u(w,(0,t._)`[${T}]`)}e.reportError=i;function s(g,y=e.keywordError,v){const{it:_}=g,{gen:w,compositeRule:E,allErrors:S}=_,x=d(g,y,v);l(w,x),E||S||u(_,r.default.vErrors)}e.reportExtraError=s;function o(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:y,schemaValue:v,data:_,errsCount:w,it:E}){if(w===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",w,r.default.errors,x=>{g.const(S,(0,t._)`${r.default.vErrors}[${x}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,E.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${y}`),E.opts.verbose&&(g.assign((0,t._)`${S}.schema`,v),g.assign((0,t._)`${S}.data`,_))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:_,schemaEnv:w}=g;w.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${_}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:_}=g.it;return _===!1?(0,t._)`{}`:f(g,y,v)}function f(g,y,v={}){const{gen:_,it:w}=g,E=[h(w,v),p(g,v)];return m(g,y,E),_.object(...E)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:_}){let w=_?y:(0,t.str)`${y}/${g}`;return v&&(w=(0,t.str)`${w}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,w]}function m(g,{params:y,message:v},_){const{keyword:w,data:E,schemaValue:S,it:x}=g,{opts:T,propertyName:I,topSchemaRef:P,schemaPath:k}=x;_.push([c.keyword,w],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),T.messages&&_.push([c.message,typeof v=="function"?v(g):v]),T.verbose&&_.push([c.schema,S],[c.parentSchema,(0,t._)`${P}${k}`],[r.default.data,E]),I&&_.push([c.propertyName,I])}})(JR);Object.defineProperty(KE,"__esModule",{value:!0});KE.boolOrEmptySchema=KE.topBoolOrEmptySchema=void 0;const Bht=JR,zht=qn,Uht=bp,Vht={message:"boolean schema is false"};function Hht(e){const{gen:t,schema:n,validateName:r}=e;n===!1?n2e(e,!1):typeof n=="object"&&n.$async===!0?t.return(Uht.default.data):(t.assign((0,zht._)`${r}.errors`,null),t.return(!0))}KE.topBoolOrEmptySchema=Hht;function qht(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),n2e(e)):n.var(t,!0)}KE.boolOrEmptySchema=qht;function n2e(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Bht.reportError)(i,Vht,void 0,t)}var Us={},ab={};Object.defineProperty(ab,"__esModule",{value:!0});ab.getRules=ab.isJSONType=void 0;const Wht=["string","number","integer","boolean","null","object","array"],Ght=new Set(Wht);function Yht(e){return typeof e=="string"&&Ght.has(e)}ab.isJSONType=Yht;function Kht(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ab.getRules=Kht;var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.shouldUseRule=Tm.shouldUseGroup=Tm.schemaHasRulesForType=void 0;function Xht({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&r2e(e,r)}Tm.schemaHasRulesForType=Xht;function r2e(e,t){return t.rules.some(n=>i2e(e,n))}Tm.shouldUseGroup=r2e;function i2e(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Tm.shouldUseRule=i2e;Object.defineProperty(Us,"__esModule",{value:!0});Us.reportTypeError=Us.checkDataTypes=Us.checkDataType=Us.coerceAndCheckDataType=Us.getJSONTypes=Us.getSchemaTypes=Us.DataType=void 0;const Qht=ab,Jht=Tm,Zht=JR,Mn=qn,s2e=Ct;var aE;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(aE||(Us.DataType=aE={}));function ept(e){const t=o2e(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Us.getSchemaTypes=ept;function o2e(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Qht.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Us.getJSONTypes=o2e;function tpt(e,t){const{gen:n,data:r,opts:i}=e,s=npt(t,i.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,Jht.schemaHasRulesForType)(e,t[0]));if(o){const a=pQ(t,r,i.strictNumbers,aE.Wrong);n.if(a,()=>{s.length?rpt(e,t,s):mQ(e)})}return o}Us.coerceAndCheckDataType=tpt;const a2e=new Set(["string","number","integer","boolean","null"]);function npt(e,t){return t?e.filter(n=>a2e.has(n)||t==="array"&&n==="array"):[]}function rpt(e,t,n){const{gen:r,data:i,opts:s}=e,o=r.let("dataType",(0,Mn._)`typeof ${i}`),a=r.let("coerced",(0,Mn._)`undefined`);s.coerceTypes==="array"&&r.if((0,Mn._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,Mn._)`${i}[0]`).assign(o,(0,Mn._)`typeof ${i}`).if(pQ(t,i,s.strictNumbers),()=>r.assign(a,i))),r.if((0,Mn._)`${a} !== undefined`);for(const u of n)(a2e.has(u)||u==="array"&&s.coerceTypes==="array")&&l(u);r.else(),mQ(e),r.endIf(),r.if((0,Mn._)`${a} !== undefined`,()=>{r.assign(i,a),ipt(e,a)});function l(u){switch(u){case"string":r.elseIf((0,Mn._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,Mn._)`"" + ${i}`).elseIf((0,Mn._)`${i} === null`).assign(a,(0,Mn._)`""`);return;case"number":r.elseIf((0,Mn._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,Mn._)`+${i}`);return;case"integer":r.elseIf((0,Mn._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,Mn._)`+${i}`);return;case"boolean":r.elseIf((0,Mn._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,Mn._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,Mn._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,Mn._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,Mn._)`[${i}]`)}}}function ipt({gen:e,parentData:t,parentDataProperty:n},r){e.if((0,Mn._)`${t} !== undefined`,()=>e.assign((0,Mn._)`${t}[${n}]`,r))}function gV(e,t,n,r=aE.Correct){const i=r===aE.Correct?Mn.operators.EQ:Mn.operators.NEQ;let s;switch(e){case"null":return(0,Mn._)`${t} ${i} null`;case"array":s=(0,Mn._)`Array.isArray(${t})`;break;case"object":s=(0,Mn._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,Mn._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,Mn._)`typeof ${t} ${i} ${e}`}return r===aE.Correct?s:(0,Mn.not)(s);function o(a=Mn.nil){return(0,Mn.and)((0,Mn._)`typeof ${t} == "number"`,a,n?(0,Mn._)`isFinite(${t})`:Mn.nil)}}Us.checkDataType=gV;function pQ(e,t,n,r){if(e.length===1)return gV(e[0],t,n,r);let i;const s=(0,s2e.toHash)(e);if(s.array&&s.object){const o=(0,Mn._)`typeof ${t} != "object"`;i=s.null?o:(0,Mn._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else i=Mn.nil;s.number&&delete s.integer;for(const o in s)i=(0,Mn.and)(i,gV(o,t,n,r));return i}Us.checkDataTypes=pQ;const spt={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Mn._)`{type: ${e}}`:(0,Mn._)`{type: ${t}}`};function mQ(e){const t=opt(e);(0,Zht.reportError)(t,spt)}Us.reportTypeError=mQ;function opt(e){const{gen:t,data:n,schema:r}=e,i=(0,s2e.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}var E6={};Object.defineProperty(E6,"__esModule",{value:!0});E6.assignDefaults=void 0;const $_=qn,apt=Ct;function lpt(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)ade(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>ade(e,s,i.default))}E6.assignDefaults=lpt;function ade(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,$_._)`${s}${(0,$_.getProperty)(t)}`;if(i){(0,apt.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,$_._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,$_._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,$_._)`${a} = ${(0,$_.stringify)(n)}`)}var Rh={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.validateUnion=Vn.validateArray=Vn.usePattern=Vn.callValidateCode=Vn.schemaProperties=Vn.allSchemaProperties=Vn.noPropertyInData=Vn.propertyInData=Vn.isOwnProperty=Vn.hasPropFunc=Vn.reportMissingProp=Vn.checkMissingProp=Vn.checkReportMissingProp=void 0;const Ci=qn,gQ=Ct,Lg=bp,upt=Ct;function cpt(e,t){const{gen:n,data:r,it:i}=e;n.if(vQ(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ci._)`${t}`},!0),e.error()})}Vn.checkReportMissingProp=cpt;function dpt({gen:e,data:t,it:{opts:n}},r,i){return(0,Ci.or)(...r.map(s=>(0,Ci.and)(vQ(e,t,s,n.ownProperties),(0,Ci._)`${i} = ${s}`)))}Vn.checkMissingProp=dpt;function fpt(e,t){e.setParams({missingProperty:t},!0),e.error()}Vn.reportMissingProp=fpt;function l2e(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ci._)`Object.prototype.hasOwnProperty`})}Vn.hasPropFunc=l2e;function yQ(e,t,n){return(0,Ci._)`${l2e(e)}.call(${t}, ${n})`}Vn.isOwnProperty=yQ;function hpt(e,t,n,r){const i=(0,Ci._)`${t}${(0,Ci.getProperty)(n)} !== undefined`;return r?(0,Ci._)`${i} && ${yQ(e,t,n)}`:i}Vn.propertyInData=hpt;function vQ(e,t,n,r){const i=(0,Ci._)`${t}${(0,Ci.getProperty)(n)} === undefined`;return r?(0,Ci.or)(i,(0,Ci.not)(yQ(e,t,n))):i}Vn.noPropertyInData=vQ;function u2e(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Vn.allSchemaProperties=u2e;function ppt(e,t){return u2e(t).filter(n=>!(0,gQ.alwaysValidSchema)(e,t[n]))}Vn.schemaProperties=ppt;function mpt({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,Ci._)`${e}, ${t}, ${r}${i}`:t,d=[[Lg.default.instancePath,(0,Ci.strConcat)(Lg.default.instancePath,s)],[Lg.default.parentData,o.parentData],[Lg.default.parentDataProperty,o.parentDataProperty],[Lg.default.rootData,Lg.default.rootData]];o.opts.dynamicRef&&d.push([Lg.default.dynamicAnchors,Lg.default.dynamicAnchors]);const f=(0,Ci._)`${c}, ${n.object(...d)}`;return l!==Ci.nil?(0,Ci._)`${a}.call(${l}, ${f})`:(0,Ci._)`${a}(${f})`}Vn.callValidateCode=mpt;const gpt=(0,Ci._)`new RegExp`;function ypt({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ci._)`${i.code==="new RegExp"?gpt:(0,upt.useFunc)(e,i)}(${n}, ${r})`})}Vn.usePattern=ypt;function vpt(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,Ci._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:gQ.Type.Num},s),t.if((0,Ci.not)(s),a)})}}Vn.validateArray=vpt;function bpt(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,gQ.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,Ci._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Ci.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Vn.validateUnion=bpt;Object.defineProperty(Rh,"__esModule",{value:!0});Rh.validateKeywordUsage=Rh.validSchemaType=Rh.funcKeywordCode=Rh.macroKeywordCode=void 0;const Qa=qn,c1=bp,_pt=Vn,wpt=JR;function Ept(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=c2e(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Qa.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Rh.macroKeywordCode=Ept;function xpt(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;Tpt(l,t);const u=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,c=c2e(r,i,u),d=r.let("valid");e.block$data(d,f),e.ok((n=t.valid)!==null&&n!==void 0?n:d);function f(){if(t.errors===!1)m(),t.modifying&&lde(e),g(()=>e.error());else{const y=t.async?h():p();t.modifying&&lde(e),g(()=>Spt(e,y))}}function h(){const y=r.let("ruleErrs",null);return r.try(()=>m((0,Qa._)`await `),v=>r.assign(d,!1).if((0,Qa._)`${v} instanceof ${l.ValidationError}`,()=>r.assign(y,(0,Qa._)`${v}.errors`),()=>r.throw(v))),y}function p(){const y=(0,Qa._)`${c}.errors`;return r.assign(y,null),m(Qa.nil),y}function m(y=t.async?(0,Qa._)`await `:Qa.nil){const v=l.opts.passContext?c1.default.this:c1.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(d,(0,Qa._)`${y}${(0,_pt.callValidateCode)(e,c,v,_)}`,t.modifying)}function g(y){var v;r.if((0,Qa.not)((v=t.valid)!==null&&v!==void 0?v:d),y)}}Rh.funcKeywordCode=xpt;function lde(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Qa._)`${r.parentData}[${r.parentDataProperty}]`))}function Spt(e,t){const{gen:n}=e;n.if((0,Qa._)`Array.isArray(${t})`,()=>{n.assign(c1.default.vErrors,(0,Qa._)`${c1.default.vErrors} === null ? ${t} : ${c1.default.vErrors}.concat(${t})`).assign(c1.default.errors,(0,Qa._)`${c1.default.vErrors}.length`),(0,wpt.extendErrors)(e)},()=>e.error())}function Tpt({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function c2e(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Qa.stringify)(n)})}function Cpt(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Rh.validSchemaType=Cpt;function Apt({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Rh.validateKeywordUsage=Apt;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.extendSubschemaMode=H0.extendSubschemaData=H0.getSubschema=void 0;const bh=qn,d2e=Ct;function Ipt(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,bh._)`${e.schemaPath}${(0,bh.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,bh._)`${e.schemaPath}${(0,bh.getProperty)(t)}${(0,bh.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,d2e.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}H0.getSubschema=Ipt;function Rpt(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:d}=t,f=a.let("data",(0,bh._)`${t.data}${(0,bh.getProperty)(n)}`,!0);l(f),e.errorPath=(0,bh.str)`${u}${(0,d2e.getErrorPath)(n,r,d.jsPropertySyntax)}`,e.parentDataProperty=(0,bh._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof bh.Name?i:a.let("data",i,!0);l(u),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}H0.extendSubschemaData=Rpt;function kpt(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}H0.extendSubschemaMode=kpt;var zo={},bQ=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const iD=bu(bQ);var f2e={exports:{}},_0=f2e.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};sD(t,r,i,e,"",e)};_0.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};_0.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};_0.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};_0.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function sD(e,t,n,r,i,s,o,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,l,u);for(var c in r){var d=r[c];if(Array.isArray(d)){if(c in _0.arrayKeywords)for(var f=0;f<d.length;f++)sD(e,t,n,d[f],i+"/"+c+"/"+f,s,i,c,r,f)}else if(c in _0.propsKeywords){if(d&&typeof d=="object")for(var h in d)sD(e,t,n,d[h],i+"/"+c+"/"+Ppt(h),s,i,c,r,h)}else(c in _0.keywords||e.allKeys&&!(c in _0.skipKeywords))&&sD(e,t,n,d,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,l,u)}}function Ppt(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Npt=f2e.exports;Object.defineProperty(zo,"__esModule",{value:!0});zo.getSchemaRefs=zo.resolveUrl=zo.normalizeId=zo._getFullPath=zo.getFullPath=zo.inlineRef=void 0;const Opt=Ct,Dpt=bQ,Mpt=Npt,$pt=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lpt(e,t=!0){return typeof e=="boolean"?!0:t===!0?!yV(e):t?h2e(e)<=t:!1}zo.inlineRef=Lpt;const Fpt=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function yV(e){for(const t in e){if(Fpt.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(yV)||typeof n=="object"&&yV(n))return!0}return!1}function h2e(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!$pt.has(n)&&(typeof e[n]=="object"&&(0,Opt.eachItem)(e[n],r=>t+=h2e(r)),t===1/0))return 1/0}return t}function p2e(e,t="",n){n!==!1&&(t=lE(t));const r=e.parse(t);return m2e(e,r)}zo.getFullPath=p2e;function m2e(e,t){return e.serialize(t).split("#")[0]+"#"}zo._getFullPath=m2e;const jpt=/#\/?$/;function lE(e){return e?e.replace(jpt,""):""}zo.normalizeId=lE;function Bpt(e,t,n){return n=lE(n),e.resolve(t,n)}zo.resolveUrl=Bpt;const zpt=/^[a-z_][-a-z0-9._]*$/i;function Upt(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=lE(e[n]||t),s={"":i},o=p2e(r,i,!1),a={},l=new Set;return Mpt(e,{allKeys:!0},(d,f,h,p)=>{if(p===void 0)return;const m=o+f;let g=s[p];typeof d[n]=="string"&&(g=y.call(this,d[n])),v.call(this,d.$anchor),v.call(this,d.$dynamicAnchor),s[f]=g;function y(_){const w=this.opts.uriResolver.resolve;if(_=lE(g?w(g,_):_),l.has(_))throw c(_);l.add(_);let E=this.refs[_];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?u(d,E.schema,_):_!==lE(m)&&(_[0]==="#"?(u(d,a[_],_),a[_]=d):this.refs[_]=m),_}function v(_){if(typeof _=="string"){if(!zpt.test(_))throw new Error(`invalid anchor "${_}"`);y.call(this,`#${_}`)}}}),a;function u(d,f,h){if(f!==void 0&&!Dpt(d,f))throw c(h)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}zo.getSchemaRefs=Upt;Object.defineProperty(of,"__esModule",{value:!0});of.getData=of.KeywordCxt=of.validateFunctionCode=void 0;const g2e=KE,ude=Us,_Q=Tm,i$=Us,Vpt=E6,Y2=Rh,bB=H0,Ft=qn,yn=bp,Hpt=zo,Cm=Ct,FT=JR;function qpt(e){if(b2e(e)&&(_2e(e),v2e(e))){Ypt(e);return}y2e(e,()=>(0,g2e.topBoolOrEmptySchema)(e))}of.validateFunctionCode=qpt;function y2e({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,Ft._)`${yn.default.data}, ${yn.default.valCxt}`,r.$async,()=>{e.code((0,Ft._)`"use strict"; ${cde(n,i)}`),Gpt(e,i),e.code(s)}):e.func(t,(0,Ft._)`${yn.default.data}, ${Wpt(i)}`,r.$async,()=>e.code(cde(n,i)).code(s))}function Wpt(e){return(0,Ft._)`{${yn.default.instancePath}="", ${yn.default.parentData}, ${yn.default.parentDataProperty}, ${yn.default.rootData}=${yn.default.data}${e.dynamicRef?(0,Ft._)`, ${yn.default.dynamicAnchors}={}`:Ft.nil}}={}`}function Gpt(e,t){e.if(yn.default.valCxt,()=>{e.var(yn.default.instancePath,(0,Ft._)`${yn.default.valCxt}.${yn.default.instancePath}`),e.var(yn.default.parentData,(0,Ft._)`${yn.default.valCxt}.${yn.default.parentData}`),e.var(yn.default.parentDataProperty,(0,Ft._)`${yn.default.valCxt}.${yn.default.parentDataProperty}`),e.var(yn.default.rootData,(0,Ft._)`${yn.default.valCxt}.${yn.default.rootData}`),t.dynamicRef&&e.var(yn.default.dynamicAnchors,(0,Ft._)`${yn.default.valCxt}.${yn.default.dynamicAnchors}`)},()=>{e.var(yn.default.instancePath,(0,Ft._)`""`),e.var(yn.default.parentData,(0,Ft._)`undefined`),e.var(yn.default.parentDataProperty,(0,Ft._)`undefined`),e.var(yn.default.rootData,yn.default.data),t.dynamicRef&&e.var(yn.default.dynamicAnchors,(0,Ft._)`{}`)})}function Ypt(e){const{schema:t,opts:n,gen:r}=e;y2e(e,()=>{n.$comment&&t.$comment&&E2e(e),Zpt(e),r.let(yn.default.vErrors,null),r.let(yn.default.errors,0),n.unevaluated&&Kpt(e),w2e(e),nmt(e)})}function Kpt(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,Ft._)`${n}.evaluated`),t.if((0,Ft._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ft._)`${e.evaluated}.props`,(0,Ft._)`undefined`)),t.if((0,Ft._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ft._)`${e.evaluated}.items`,(0,Ft._)`undefined`))}function cde(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,Ft._)`/*# sourceURL=${n} */`:Ft.nil}function Xpt(e,t){if(b2e(e)&&(_2e(e),v2e(e))){Qpt(e,t);return}(0,g2e.boolOrEmptySchema)(e,t)}function v2e({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b2e(e){return typeof e.schema!="boolean"}function Qpt(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&E2e(e),emt(e),tmt(e);const s=r.const("_errs",yn.default.errors);w2e(e,s),r.var(t,(0,Ft._)`${s} === ${yn.default.errors}`)}function _2e(e){(0,Cm.checkUnknownRules)(e),Jpt(e)}function w2e(e,t){if(e.opts.jtd)return dde(e,[],!1,t);const n=(0,ude.getSchemaTypes)(e.schema),r=(0,ude.coerceAndCheckDataType)(e,n);dde(e,n,!r,t)}function Jpt(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Cm.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function Zpt(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Cm.checkStrictMode)(e,"default is ignored in the schema root")}function emt(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Hpt.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function tmt(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function E2e({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,Ft._)`${yn.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,Ft.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Ft._)`${yn.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function nmt(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,Ft._)`${yn.default.errors} === 0`,()=>t.return(yn.default.data),()=>t.throw((0,Ft._)`new ${i}(${yn.default.vErrors})`)):(t.assign((0,Ft._)`${r}.errors`,yn.default.vErrors),s.unevaluated&&rmt(e),t.return((0,Ft._)`${yn.default.errors} === 0`))}function rmt({gen:e,evaluated:t,props:n,items:r}){n instanceof Ft.Name&&e.assign((0,Ft._)`${t}.props`,n),r instanceof Ft.Name&&e.assign((0,Ft._)`${t}.items`,r)}function dde(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Cm.schemaHasRulesButRef)(s,c))){i.block(()=>T2e(e,"$ref",c.all.$ref.definition));return}l.jtd||imt(e,t),i.block(()=>{for(const f of c.rules)d(f);d(c.post)});function d(f){(0,_Q.shouldUseGroup)(s,f)&&(f.type?(i.if((0,i$.checkDataType)(f.type,o,l.strictNumbers)),fde(e,f),t.length===1&&t[0]===f.type&&n&&(i.else(),(0,i$.reportTypeError)(e)),i.endIf()):fde(e,f),a||i.if((0,Ft._)`${yn.default.errors} === ${r||0}`))}}function fde(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,Vpt.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,_Q.shouldUseRule)(r,s)&&T2e(e,s.keyword,s.definition,t.type)})}function imt(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(smt(e,t),e.opts.allowUnionTypes||omt(e,t),amt(e,e.dataTypes))}function smt(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{x2e(e.dataTypes,n)||wQ(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),umt(e,t)}}function omt(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&wQ(e,"use allowUnionTypes to allow union type keyword")}function amt(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,_Q.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>lmt(t,o))&&wQ(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function lmt(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function x2e(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function umt(e,t){const n=[];for(const r of e.dataTypes)x2e(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function wQ(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Cm.checkStrictMode)(e,t,e.opts.strictTypes)}class S2e{constructor(t,n,r){if((0,Y2.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Cm.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",C2e(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Y2.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",yn.default.errors))}result(t,n,r){this.failResult((0,Ft.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,Ft.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,Ft._)`${n} !== undefined && (${(0,Ft.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?FT.reportExtraError:FT.reportError)(this,this.def.error,n)}$dataError(){(0,FT.reportError)(this,this.def.$dataError||FT.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,FT.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=Ft.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=Ft.nil,n=Ft.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,Ft.or)((0,Ft._)`${i} === undefined`,n)),t!==Ft.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==Ft.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,Ft.or)(o(),a());function o(){if(r.length){if(!(n instanceof Ft.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,Ft._)`${(0,i$.checkDataTypes)(l,n,s.opts.strictNumbers,i$.DataType.Wrong)}`}return Ft.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ft._)`!${l}(${n})`}return Ft.nil}}subschema(t,n){const r=(0,bB.getSubschema)(this.it,t);(0,bB.extendSubschemaData)(r,this.it,t),(0,bB.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return Xpt(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Cm.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Cm.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,Ft.Name)),!0}}of.KeywordCxt=S2e;function T2e(e,t,n,r){const i=new S2e(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Y2.funcKeywordCode)(i,n):"macro"in n?(0,Y2.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Y2.funcKeywordCode)(i,n)}const cmt=/^\/(?:[^~]|~0|~1)*$/,dmt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C2e(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return yn.default.rootData;if(e[0]==="/"){if(!cmt.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=yn.default.rootData}else{const u=dmt.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const u of a)u&&(s=(0,Ft._)`${s}${(0,Ft.getProperty)((0,Cm.unescapeJsonPointer)(u))}`,o=(0,Ft._)`${o} && ${s}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}of.getData=C2e;var ZR={};Object.defineProperty(ZR,"__esModule",{value:!0});class fmt extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}ZR.default=fmt;var _S={};Object.defineProperty(_S,"__esModule",{value:!0});const _B=zo;class hmt extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,_B.resolveUrl)(t,n,r),this.missingSchema=(0,_B.normalizeId)((0,_B.getFullPath)(t,this.missingRef))}}_S.default=hmt;var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.resolveSchema=Vl.getCompilingSchema=Vl.resolveRef=Vl.compileSchema=Vl.SchemaEnv=void 0;const Sd=qn,pmt=ZR,Pv=bp,Vd=zo,hde=Ct,mmt=of;class x6{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Vd.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Vl.SchemaEnv=x6;function EQ(e){const t=A2e.call(this,e);if(t)return t;const n=(0,Vd.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Sd.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:pmt.default,code:(0,Sd._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:Pv.default.data,parentData:Pv.default.parentData,parentDataProperty:Pv.default.parentDataProperty,dataNames:[Pv.default.data],dataPathArr:[Sd.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Sd.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Sd.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Sd._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,mmt.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const d=o.toString();c=`${o.scopeRefs(Pv.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Pv.default.self}`,`${Pv.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=u;h.evaluated={props:p instanceof Sd.Name?void 0:p,items:m instanceof Sd.Name?void 0:m,dynamicProps:p instanceof Sd.Name,dynamicItems:m instanceof Sd.Name},h.source&&(h.source.evaluated=(0,Sd.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(e)}}Vl.compileSchema=EQ;function gmt(e,t,n){var r;n=(0,Vd.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=bmt.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new x6({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=ymt.call(this,s)}Vl.resolveRef=gmt;function ymt(e){return(0,Vd.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:EQ.call(this,e)}function A2e(e){for(const t of this._compilations)if(vmt(t,e))return t}Vl.getCompilingSchema=A2e;function vmt(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function bmt(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||S6.call(this,e,t)}function S6(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Vd._getFullPath)(this.opts.uriResolver,n);let i=(0,Vd.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return wB.call(this,n,e);const s=(0,Vd.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=S6.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:wB.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||EQ.call(this,o),s===(0,Vd.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Vd.resolveUrl)(this.opts.uriResolver,i,u)),new x6({schema:a,schemaId:l,root:e,baseId:i})}return wB.call(this,n,o)}}Vl.resolveSchema=S6;const _mt=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function wB(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,hde.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!_mt.has(a)&&u&&(t=(0,Vd.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,hde.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Vd.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=S6.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new x6({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const wmt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Emt="Meta-schema for $data reference (JSON AnySchema extension proposal)",xmt="object",Smt=["$data"],Tmt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Cmt=!1,Amt={$id:wmt,description:Emt,type:xmt,required:Smt,properties:Tmt,additionalProperties:Cmt};var xQ={},vV={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Ys,function(n){function r(){for(var ce=arguments.length,te=Array(ce),he=0;he<ce;he++)te[he]=arguments[he];if(te.length>1){te[0]=te[0].slice(0,-1);for(var Ie=te.length-1,Re=1;Re<Ie;++Re)te[Re]=te[Re].slice(1,-1);return te[Ie]=te[Ie].slice(1),te.join("")}else return te[0]}function i(ce){return"(?:"+ce+")"}function s(ce){return ce===void 0?"undefined":ce===null?"null":Object.prototype.toString.call(ce).split(" ").pop().split("]").shift().toLowerCase()}function o(ce){return ce.toUpperCase()}function a(ce){return ce!=null?ce instanceof Array?ce:typeof ce.length!="number"||ce.split||ce.setInterval||ce.call?[ce]:Array.prototype.slice.call(ce):[]}function l(ce,te){var he=ce;if(te)for(var Ie in te)he[Ie]=te[Ie];return he}function u(ce){var te="[A-Za-z]",he="[0-9]",Ie=r(he,"[A-Fa-f]"),Re=i(i("%[EFef]"+Ie+"%"+Ie+Ie+"%"+Ie+Ie)+"|"+i("%[89A-Fa-f]"+Ie+"%"+Ie+Ie)+"|"+i("%"+Ie+Ie)),dt="[\\:\\/\\?\\#\\[\\]\\@]",kt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",rn=r(dt,kt),Gn=ce?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Qn=ce?"[\\uE000-\\uF8FF]":"[]",An=r(te,he,"[\\-\\.\\_\\~]",Gn);i(te+r(te,he,"[\\+\\-\\.]")+"*"),i(i(Re+"|"+r(An,kt,"[\\:]"))+"*");var vr=i(i("25[0-5]")+"|"+i("2[0-4]"+he)+"|"+i("1"+he+he)+"|"+i("0?[1-9]"+he)+"|0?0?"+he),zr=i(vr+"\\."+vr+"\\."+vr+"\\."+vr),Qt=i(Ie+"{1,4}"),br=i(i(Qt+"\\:"+Qt)+"|"+zr),si=i(i(Qt+"\\:")+"{6}"+br),dr=i("\\:\\:"+i(Qt+"\\:")+"{5}"+br),Vi=i(i(Qt)+"?\\:\\:"+i(Qt+"\\:")+"{4}"+br),lo=i(i(i(Qt+"\\:")+"{0,1}"+Qt)+"?\\:\\:"+i(Qt+"\\:")+"{3}"+br),hi=i(i(i(Qt+"\\:")+"{0,2}"+Qt)+"?\\:\\:"+i(Qt+"\\:")+"{2}"+br),Ao=i(i(i(Qt+"\\:")+"{0,3}"+Qt)+"?\\:\\:"+Qt+"\\:"+br),es=i(i(i(Qt+"\\:")+"{0,4}"+Qt)+"?\\:\\:"+br),ts=i(i(i(Qt+"\\:")+"{0,5}"+Qt)+"?\\:\\:"+Qt),ia=i(i(i(Qt+"\\:")+"{0,6}"+Qt)+"?\\:\\:"),Ha=i([si,dr,Vi,lo,hi,Ao,es,ts,ia].join("|")),uo=i(i(An+"|"+Re)+"+");i("[vV]"+Ie+"+\\."+r(An,kt,"[\\:]")+"+"),i(i(Re+"|"+r(An,kt))+"*");var gc=i(Re+"|"+r(An,kt,"[\\:\\@]"));return i(i(Re+"|"+r(An,kt,"[\\@]"))+"+"),i(i(gc+"|"+r("[\\/\\?]",Qn))+"*"),{NOT_SCHEME:new RegExp(r("[^]",te,he,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",An,kt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",An,kt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",An,kt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",An,kt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",An,kt,"[\\:\\@\\/\\?]",Qn),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",An,kt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",An,kt),"g"),UNRESERVED:new RegExp(An,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",An,rn),"g"),PCT_ENCODED:new RegExp(Re,"g"),IPV4ADDRESS:new RegExp("^("+zr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ha+")"+i(i("\\%25|\\%(?!"+Ie+"{2})")+"("+uo+")")+"?\\]?$")}}var c=u(!1),d=u(!0),f=function(){function ce(te,he){var Ie=[],Re=!0,dt=!1,kt=void 0;try{for(var rn=te[Symbol.iterator](),Gn;!(Re=(Gn=rn.next()).done)&&(Ie.push(Gn.value),!(he&&Ie.length===he));Re=!0);}catch(Qn){dt=!0,kt=Qn}finally{try{!Re&&rn.return&&rn.return()}finally{if(dt)throw kt}}return Ie}return function(te,he){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ce(te,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(ce){if(Array.isArray(ce)){for(var te=0,he=Array(ce.length);te<ce.length;te++)he[te]=ce[te];return he}else return Array.from(ce)},p=2147483647,m=36,g=1,y=26,v=38,_=700,w=72,E=128,S="-",x=/^xn--/,T=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=m-g,D=Math.floor,R=String.fromCharCode;function M(ce){throw new RangeError(P[ce])}function $(ce,te){for(var he=[],Ie=ce.length;Ie--;)he[Ie]=te(ce[Ie]);return he}function L(ce,te){var he=ce.split("@"),Ie="";he.length>1&&(Ie=he[0]+"@",ce=he[1]),ce=ce.replace(I,".");var Re=ce.split("."),dt=$(Re,te).join(".");return Ie+dt}function B(ce){for(var te=[],he=0,Ie=ce.length;he<Ie;){var Re=ce.charCodeAt(he++);if(Re>=55296&&Re<=56319&&he<Ie){var dt=ce.charCodeAt(he++);(dt&64512)==56320?te.push(((Re&1023)<<10)+(dt&1023)+65536):(te.push(Re),he--)}else te.push(Re)}return te}var z=function(te){return String.fromCodePoint.apply(String,h(te))},U=function(te){return te-48<10?te-22:te-65<26?te-65:te-97<26?te-97:m},N=function(te,he){return te+22+75*(te<26)-((he!=0)<<5)},V=function(te,he,Ie){var Re=0;for(te=Ie?D(te/_):te>>1,te+=D(te/he);te>k*y>>1;Re+=m)te=D(te/k);return D(Re+(k+1)*te/(te+v))},W=function(te){var he=[],Ie=te.length,Re=0,dt=E,kt=w,rn=te.lastIndexOf(S);rn<0&&(rn=0);for(var Gn=0;Gn<rn;++Gn)te.charCodeAt(Gn)>=128&&M("not-basic"),he.push(te.charCodeAt(Gn));for(var Qn=rn>0?rn+1:0;Qn<Ie;){for(var An=Re,vr=1,zr=m;;zr+=m){Qn>=Ie&&M("invalid-input");var Qt=U(te.charCodeAt(Qn++));(Qt>=m||Qt>D((p-Re)/vr))&&M("overflow"),Re+=Qt*vr;var br=zr<=kt?g:zr>=kt+y?y:zr-kt;if(Qt<br)break;var si=m-br;vr>D(p/si)&&M("overflow"),vr*=si}var dr=he.length+1;kt=V(Re-An,dr,An==0),D(Re/dr)>p-dt&&M("overflow"),dt+=D(Re/dr),Re%=dr,he.splice(Re++,0,dt)}return String.fromCodePoint.apply(String,he)},F=function(te){var he=[];te=B(te);var Ie=te.length,Re=E,dt=0,kt=w,rn=!0,Gn=!1,Qn=void 0;try{for(var An=te[Symbol.iterator](),vr;!(rn=(vr=An.next()).done);rn=!0){var zr=vr.value;zr<128&&he.push(R(zr))}}catch(ze){Gn=!0,Qn=ze}finally{try{!rn&&An.return&&An.return()}finally{if(Gn)throw Qn}}var Qt=he.length,br=Qt;for(Qt&&he.push(S);br<Ie;){var si=p,dr=!0,Vi=!1,lo=void 0;try{for(var hi=te[Symbol.iterator](),Ao;!(dr=(Ao=hi.next()).done);dr=!0){var es=Ao.value;es>=Re&&es<si&&(si=es)}}catch(ze){Vi=!0,lo=ze}finally{try{!dr&&hi.return&&hi.return()}finally{if(Vi)throw lo}}var ts=br+1;si-Re>D((p-dt)/ts)&&M("overflow"),dt+=(si-Re)*ts,Re=si;var ia=!0,Ha=!1,uo=void 0;try{for(var gc=te[Symbol.iterator](),Gf;!(ia=(Gf=gc.next()).done);ia=!0){var Y=Gf.value;if(Y<Re&&++dt>p&&M("overflow"),Y==Re){for(var fe=dt,ee=m;;ee+=m){var ve=ee<=kt?g:ee>=kt+y?y:ee-kt;if(fe<ve)break;var we=fe-ve,ge=m-ve;he.push(R(N(ve+we%ge,0))),fe=D(we/ge)}he.push(R(N(fe,0))),kt=V(dt,ts,br==Qt),dt=0,++br}}}catch(ze){Ha=!0,uo=ze}finally{try{!ia&&gc.return&&gc.return()}finally{if(Ha)throw uo}}++dt,++Re}return he.join("")},H=function(te){return L(te,function(he){return x.test(he)?W(he.slice(4).toLowerCase()):he})},G=function(te){return L(te,function(he){return T.test(he)?"xn--"+F(he):he})},X={version:"2.1.0",ucs2:{decode:B,encode:z},decode:W,encode:F,toASCII:G,toUnicode:H},ie={};function oe(ce){var te=ce.charCodeAt(0),he=void 0;return te<16?he="%0"+te.toString(16).toUpperCase():te<128?he="%"+te.toString(16).toUpperCase():te<2048?he="%"+(te>>6|192).toString(16).toUpperCase()+"%"+(te&63|128).toString(16).toUpperCase():he="%"+(te>>12|224).toString(16).toUpperCase()+"%"+(te>>6&63|128).toString(16).toUpperCase()+"%"+(te&63|128).toString(16).toUpperCase(),he}function se(ce){for(var te="",he=0,Ie=ce.length;he<Ie;){var Re=parseInt(ce.substr(he+1,2),16);if(Re<128)te+=String.fromCharCode(Re),he+=3;else if(Re>=194&&Re<224){if(Ie-he>=6){var dt=parseInt(ce.substr(he+4,2),16);te+=String.fromCharCode((Re&31)<<6|dt&63)}else te+=ce.substr(he,6);he+=6}else if(Re>=224){if(Ie-he>=9){var kt=parseInt(ce.substr(he+4,2),16),rn=parseInt(ce.substr(he+7,2),16);te+=String.fromCharCode((Re&15)<<12|(kt&63)<<6|rn&63)}else te+=ce.substr(he,9);he+=9}else te+=ce.substr(he,3),he+=3}return te}function le(ce,te){function he(Ie){var Re=se(Ie);return Re.match(te.UNRESERVED)?Re:Ie}return ce.scheme&&(ce.scheme=String(ce.scheme).replace(te.PCT_ENCODED,he).toLowerCase().replace(te.NOT_SCHEME,"")),ce.userinfo!==void 0&&(ce.userinfo=String(ce.userinfo).replace(te.PCT_ENCODED,he).replace(te.NOT_USERINFO,oe).replace(te.PCT_ENCODED,o)),ce.host!==void 0&&(ce.host=String(ce.host).replace(te.PCT_ENCODED,he).toLowerCase().replace(te.NOT_HOST,oe).replace(te.PCT_ENCODED,o)),ce.path!==void 0&&(ce.path=String(ce.path).replace(te.PCT_ENCODED,he).replace(ce.scheme?te.NOT_PATH:te.NOT_PATH_NOSCHEME,oe).replace(te.PCT_ENCODED,o)),ce.query!==void 0&&(ce.query=String(ce.query).replace(te.PCT_ENCODED,he).replace(te.NOT_QUERY,oe).replace(te.PCT_ENCODED,o)),ce.fragment!==void 0&&(ce.fragment=String(ce.fragment).replace(te.PCT_ENCODED,he).replace(te.NOT_FRAGMENT,oe).replace(te.PCT_ENCODED,o)),ce}function Se(ce){return ce.replace(/^0*(.*)/,"$1")||"0"}function de(ce,te){var he=ce.match(te.IPV4ADDRESS)||[],Ie=f(he,2),Re=Ie[1];return Re?Re.split(".").map(Se).join("."):ce}function De(ce,te){var he=ce.match(te.IPV6ADDRESS)||[],Ie=f(he,3),Re=Ie[1],dt=Ie[2];if(Re){for(var kt=Re.toLowerCase().split("::").reverse(),rn=f(kt,2),Gn=rn[0],Qn=rn[1],An=Qn?Qn.split(":").map(Se):[],vr=Gn.split(":").map(Se),zr=te.IPV4ADDRESS.test(vr[vr.length-1]),Qt=zr?7:8,br=vr.length-Qt,si=Array(Qt),dr=0;dr<Qt;++dr)si[dr]=An[dr]||vr[br+dr]||"";zr&&(si[Qt-1]=de(si[Qt-1],te));var Vi=si.reduce(function(ts,ia,Ha){if(!ia||ia==="0"){var uo=ts[ts.length-1];uo&&uo.index+uo.length===Ha?uo.length++:ts.push({index:Ha,length:1})}return ts},[]),lo=Vi.sort(function(ts,ia){return ia.length-ts.length})[0],hi=void 0;if(lo&&lo.length>1){var Ao=si.slice(0,lo.index),es=si.slice(lo.index+lo.length);hi=Ao.join(":")+"::"+es.join(":")}else hi=si.join(":");return dt&&(hi+="%"+dt),hi}else return ce}var Fe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Be="".match(/(){0}/)[1]===void 0;function je(ce){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he={},Ie=te.iri!==!1?d:c;te.reference==="suffix"&&(ce=(te.scheme?te.scheme+":":"")+"//"+ce);var Re=ce.match(Fe);if(Re){Be?(he.scheme=Re[1],he.userinfo=Re[3],he.host=Re[4],he.port=parseInt(Re[5],10),he.path=Re[6]||"",he.query=Re[7],he.fragment=Re[8],isNaN(he.port)&&(he.port=Re[5])):(he.scheme=Re[1]||void 0,he.userinfo=ce.indexOf("@")!==-1?Re[3]:void 0,he.host=ce.indexOf("//")!==-1?Re[4]:void 0,he.port=parseInt(Re[5],10),he.path=Re[6]||"",he.query=ce.indexOf("?")!==-1?Re[7]:void 0,he.fragment=ce.indexOf("#")!==-1?Re[8]:void 0,isNaN(he.port)&&(he.port=ce.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Re[4]:void 0)),he.host&&(he.host=De(de(he.host,Ie),Ie)),he.scheme===void 0&&he.userinfo===void 0&&he.host===void 0&&he.port===void 0&&!he.path&&he.query===void 0?he.reference="same-document":he.scheme===void 0?he.reference="relative":he.fragment===void 0?he.reference="absolute":he.reference="uri",te.reference&&te.reference!=="suffix"&&te.reference!==he.reference&&(he.error=he.error||"URI is not a "+te.reference+" reference.");var dt=ie[(te.scheme||he.scheme||"").toLowerCase()];if(!te.unicodeSupport&&(!dt||!dt.unicodeSupport)){if(he.host&&(te.domainHost||dt&&dt.domainHost))try{he.host=X.toASCII(he.host.replace(Ie.PCT_ENCODED,se).toLowerCase())}catch(kt){he.error=he.error||"Host's domain name can not be converted to ASCII via punycode: "+kt}le(he,c)}else le(he,Ie);dt&&dt.parse&&dt.parse(he,te)}else he.error=he.error||"URI can not be parsed.";return he}function me(ce,te){var he=te.iri!==!1?d:c,Ie=[];return ce.userinfo!==void 0&&(Ie.push(ce.userinfo),Ie.push("@")),ce.host!==void 0&&Ie.push(De(de(String(ce.host),he),he).replace(he.IPV6ADDRESS,function(Re,dt,kt){return"["+dt+(kt?"%25"+kt:"")+"]"})),(typeof ce.port=="number"||typeof ce.port=="string")&&(Ie.push(":"),Ie.push(String(ce.port))),Ie.length?Ie.join(""):void 0}var ne=/^\.\.?\//,Ee=/^\/\.(\/|$)/,Pe=/^\/\.\.(\/|$)/,Je=/^\/?(?:.|\n)*?(?=\/|$)/;function qe(ce){for(var te=[];ce.length;)if(ce.match(ne))ce=ce.replace(ne,"");else if(ce.match(Ee))ce=ce.replace(Ee,"/");else if(ce.match(Pe))ce=ce.replace(Pe,"/"),te.pop();else if(ce==="."||ce==="..")ce="";else{var he=ce.match(Je);if(he){var Ie=he[0];ce=ce.slice(Ie.length),te.push(Ie)}else throw new Error("Unexpected dot segment condition")}return te.join("")}function _e(ce){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=te.iri?d:c,Ie=[],Re=ie[(te.scheme||ce.scheme||"").toLowerCase()];if(Re&&Re.serialize&&Re.serialize(ce,te),ce.host&&!he.IPV6ADDRESS.test(ce.host)){if(te.domainHost||Re&&Re.domainHost)try{ce.host=te.iri?X.toUnicode(ce.host):X.toASCII(ce.host.replace(he.PCT_ENCODED,se).toLowerCase())}catch(rn){ce.error=ce.error||"Host's domain name can not be converted to "+(te.iri?"Unicode":"ASCII")+" via punycode: "+rn}}le(ce,he),te.reference!=="suffix"&&ce.scheme&&(Ie.push(ce.scheme),Ie.push(":"));var dt=me(ce,te);if(dt!==void 0&&(te.reference!=="suffix"&&Ie.push("//"),Ie.push(dt),ce.path&&ce.path.charAt(0)!=="/"&&Ie.push("/")),ce.path!==void 0){var kt=ce.path;!te.absolutePath&&(!Re||!Re.absolutePath)&&(kt=qe(kt)),dt===void 0&&(kt=kt.replace(/^\/\//,"/%2F")),Ie.push(kt)}return ce.query!==void 0&&(Ie.push("?"),Ie.push(ce.query)),ce.fragment!==void 0&&(Ie.push("#"),Ie.push(ce.fragment)),Ie.join("")}function Qe(ce,te){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=arguments[3],Re={};return Ie||(ce=je(_e(ce,he),he),te=je(_e(te,he),he)),he=he||{},!he.tolerant&&te.scheme?(Re.scheme=te.scheme,Re.userinfo=te.userinfo,Re.host=te.host,Re.port=te.port,Re.path=qe(te.path||""),Re.query=te.query):(te.userinfo!==void 0||te.host!==void 0||te.port!==void 0?(Re.userinfo=te.userinfo,Re.host=te.host,Re.port=te.port,Re.path=qe(te.path||""),Re.query=te.query):(te.path?(te.path.charAt(0)==="/"?Re.path=qe(te.path):((ce.userinfo!==void 0||ce.host!==void 0||ce.port!==void 0)&&!ce.path?Re.path="/"+te.path:ce.path?Re.path=ce.path.slice(0,ce.path.lastIndexOf("/")+1)+te.path:Re.path=te.path,Re.path=qe(Re.path)),Re.query=te.query):(Re.path=ce.path,te.query!==void 0?Re.query=te.query:Re.query=ce.query),Re.userinfo=ce.userinfo,Re.host=ce.host,Re.port=ce.port),Re.scheme=ce.scheme),Re.fragment=te.fragment,Re}function pt(ce,te,he){var Ie=l({scheme:"null"},he);return _e(Qe(je(ce,Ie),je(te,Ie),Ie,!0),Ie)}function ye(ce,te){return typeof ce=="string"?ce=_e(je(ce,te),te):s(ce)==="object"&&(ce=je(_e(ce,te),te)),ce}function ke(ce,te,he){return typeof ce=="string"?ce=_e(je(ce,he),he):s(ce)==="object"&&(ce=_e(ce,he)),typeof te=="string"?te=_e(je(te,he),he):s(te)==="object"&&(te=_e(te,he)),ce===te}function Ge(ce,te){return ce&&ce.toString().replace(!te||!te.iri?c.ESCAPE:d.ESCAPE,oe)}function Ke(ce,te){return ce&&ce.toString().replace(!te||!te.iri?c.PCT_ENCODED:d.PCT_ENCODED,se)}var xt={scheme:"http",domainHost:!0,parse:function(te,he){return te.host||(te.error=te.error||"HTTP URIs must have a host."),te},serialize:function(te,he){var Ie=String(te.scheme).toLowerCase()==="https";return(te.port===(Ie?443:80)||te.port==="")&&(te.port=void 0),te.path||(te.path="/"),te}},Cn={scheme:"https",domainHost:xt.domainHost,parse:xt.parse,serialize:xt.serialize};function gr(ce){return typeof ce.secure=="boolean"?ce.secure:String(ce.scheme).toLowerCase()==="wss"}var yr={scheme:"ws",domainHost:!0,parse:function(te,he){var Ie=te;return Ie.secure=gr(Ie),Ie.resourceName=(Ie.path||"/")+(Ie.query?"?"+Ie.query:""),Ie.path=void 0,Ie.query=void 0,Ie},serialize:function(te,he){if((te.port===(gr(te)?443:80)||te.port==="")&&(te.port=void 0),typeof te.secure=="boolean"&&(te.scheme=te.secure?"wss":"ws",te.secure=void 0),te.resourceName){var Ie=te.resourceName.split("?"),Re=f(Ie,2),dt=Re[0],kt=Re[1];te.path=dt&&dt!=="/"?dt:void 0,te.query=kt,te.resourceName=void 0}return te.fragment=void 0,te}},kr={scheme:"wss",domainHost:yr.domainHost,parse:yr.parse,serialize:yr.serialize},Xt={},Dn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",rr="[0-9A-Fa-f]",ir=i(i("%[EFef]"+rr+"%"+rr+rr+"%"+rr+rr)+"|"+i("%[89A-Fa-f]"+rr+"%"+rr+rr)+"|"+i("%"+rr+rr)),ao="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Oi="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ui=r(Oi,'[\\"\\\\]'),Un="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Wn=new RegExp(Dn,"g"),Zi=new RegExp(ir,"g"),wd=new RegExp(r("[^]",ao,"[\\.]",'[\\"]',Ui),"g"),Va=new RegExp(r("[^]",Dn,Un),"g"),mc=Va;function mt(ce){var te=se(ce);return te.match(Wn)?te:ce}var fi={scheme:"mailto",parse:function(te,he){var Ie=te,Re=Ie.to=Ie.path?Ie.path.split(","):[];if(Ie.path=void 0,Ie.query){for(var dt=!1,kt={},rn=Ie.query.split("&"),Gn=0,Qn=rn.length;Gn<Qn;++Gn){var An=rn[Gn].split("=");switch(An[0]){case"to":for(var vr=An[1].split(","),zr=0,Qt=vr.length;zr<Qt;++zr)Re.push(vr[zr]);break;case"subject":Ie.subject=Ke(An[1],he);break;case"body":Ie.body=Ke(An[1],he);break;default:dt=!0,kt[Ke(An[0],he)]=Ke(An[1],he);break}}dt&&(Ie.headers=kt)}Ie.query=void 0;for(var br=0,si=Re.length;br<si;++br){var dr=Re[br].split("@");if(dr[0]=Ke(dr[0]),he.unicodeSupport)dr[1]=Ke(dr[1],he).toLowerCase();else try{dr[1]=X.toASCII(Ke(dr[1],he).toLowerCase())}catch(Vi){Ie.error=Ie.error||"Email address's domain name can not be converted to ASCII via punycode: "+Vi}Re[br]=dr.join("@")}return Ie},serialize:function(te,he){var Ie=te,Re=a(te.to);if(Re){for(var dt=0,kt=Re.length;dt<kt;++dt){var rn=String(Re[dt]),Gn=rn.lastIndexOf("@"),Qn=rn.slice(0,Gn).replace(Zi,mt).replace(Zi,o).replace(wd,oe),An=rn.slice(Gn+1);try{An=he.iri?X.toUnicode(An):X.toASCII(Ke(An,he).toLowerCase())}catch(br){Ie.error=Ie.error||"Email address's domain name can not be converted to "+(he.iri?"Unicode":"ASCII")+" via punycode: "+br}Re[dt]=Qn+"@"+An}Ie.path=Re.join(",")}var vr=te.headers=te.headers||{};te.subject&&(vr.subject=te.subject),te.body&&(vr.body=te.body);var zr=[];for(var Qt in vr)vr[Qt]!==Xt[Qt]&&zr.push(Qt.replace(Zi,mt).replace(Zi,o).replace(Va,oe)+"="+vr[Qt].replace(Zi,mt).replace(Zi,o).replace(mc,oe));return zr.length&&(Ie.query=zr.join("&")),Ie}},wn=/^([^\:]+)\:(.*)/,$r={scheme:"urn",parse:function(te,he){var Ie=te.path&&te.path.match(wn),Re=te;if(Ie){var dt=he.scheme||Re.scheme||"urn",kt=Ie[1].toLowerCase(),rn=Ie[2],Gn=dt+":"+(he.nid||kt),Qn=ie[Gn];Re.nid=kt,Re.nss=rn,Re.path=void 0,Qn&&(Re=Qn.parse(Re,he))}else Re.error=Re.error||"URN can not be parsed.";return Re},serialize:function(te,he){var Ie=he.scheme||te.scheme||"urn",Re=te.nid,dt=Ie+":"+(he.nid||Re),kt=ie[dt];kt&&(te=kt.serialize(te,he));var rn=te,Gn=te.nss;return rn.path=(Re||he.nid)+":"+Gn,rn}},ri=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ii={scheme:"urn:uuid",parse:function(te,he){var Ie=te;return Ie.uuid=Ie.nss,Ie.nss=void 0,!he.tolerant&&(!Ie.uuid||!Ie.uuid.match(ri))&&(Ie.error=Ie.error||"UUID is not valid."),Ie},serialize:function(te,he){var Ie=te;return Ie.nss=(te.uuid||"").toLowerCase(),Ie}};ie[xt.scheme]=xt,ie[Cn.scheme]=Cn,ie[yr.scheme]=yr,ie[kr.scheme]=kr,ie[fi.scheme]=fi,ie[$r.scheme]=$r,ie[ii.scheme]=ii,n.SCHEMES=ie,n.pctEncChar=oe,n.pctDecChars=se,n.parse=je,n.removeDotSegments=qe,n.serialize=_e,n.resolveComponents=Qe,n.resolve=pt,n.normalize=ye,n.equal=ke,n.escapeComponent=Ge,n.unescapeComponent=Ke,Object.defineProperty(n,"__esModule",{value:!0})})})(vV,vV.exports);var Imt=vV.exports;Object.defineProperty(xQ,"__esModule",{value:!0});const I2e=Imt;I2e.code='require("ajv/dist/runtime/uri").default';xQ.default=I2e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=of;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=qn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=ZR,i=_S,s=ab,o=Vl,a=qn,l=zo,u=Us,c=Ct,d=Amt,f=xQ,h=(N,V)=>new RegExp(N,V);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(N){var V,W,F,H,G,X,ie,oe,se,le,Se,de,De,Fe,Be,je,me,ne,Ee,Pe,Je,qe,_e,Qe,pt;const ye=N.strict,ke=(V=N.code)===null||V===void 0?void 0:V.optimize,Ge=ke===!0||ke===void 0?1:ke||0,Ke=(F=(W=N.code)===null||W===void 0?void 0:W.regExp)!==null&&F!==void 0?F:h,xt=(H=N.uriResolver)!==null&&H!==void 0?H:f.default;return{strictSchema:(X=(G=N.strictSchema)!==null&&G!==void 0?G:ye)!==null&&X!==void 0?X:!0,strictNumbers:(oe=(ie=N.strictNumbers)!==null&&ie!==void 0?ie:ye)!==null&&oe!==void 0?oe:!0,strictTypes:(le=(se=N.strictTypes)!==null&&se!==void 0?se:ye)!==null&&le!==void 0?le:"log",strictTuples:(de=(Se=N.strictTuples)!==null&&Se!==void 0?Se:ye)!==null&&de!==void 0?de:"log",strictRequired:(Fe=(De=N.strictRequired)!==null&&De!==void 0?De:ye)!==null&&Fe!==void 0?Fe:!1,code:N.code?{...N.code,optimize:Ge,regExp:Ke}:{optimize:Ge,regExp:Ke},loopRequired:(Be=N.loopRequired)!==null&&Be!==void 0?Be:v,loopEnum:(je=N.loopEnum)!==null&&je!==void 0?je:v,meta:(me=N.meta)!==null&&me!==void 0?me:!0,messages:(ne=N.messages)!==null&&ne!==void 0?ne:!0,inlineRefs:(Ee=N.inlineRefs)!==null&&Ee!==void 0?Ee:!0,schemaId:(Pe=N.schemaId)!==null&&Pe!==void 0?Pe:"$id",addUsedSchema:(Je=N.addUsedSchema)!==null&&Je!==void 0?Je:!0,validateSchema:(qe=N.validateSchema)!==null&&qe!==void 0?qe:!0,validateFormats:(_e=N.validateFormats)!==null&&_e!==void 0?_e:!0,unicodeRegExp:(Qe=N.unicodeRegExp)!==null&&Qe!==void 0?Qe:!0,int32range:(pt=N.int32range)!==null&&pt!==void 0?pt:!0,uriResolver:xt}}class w{constructor(V={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,V=this.opts={...V,..._(V)};const{es5:W,lines:F}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:W,lines:F}),this.logger=D(V.logger);const H=V.validateFormats;V.validateFormats=!1,this.RULES=(0,s.getRules)(),E.call(this,g,V,"NOT SUPPORTED"),E.call(this,y,V,"DEPRECATED","warn"),this._metaOpts=P.call(this),V.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),V.keywords&&I.call(this,V.keywords),typeof V.meta=="object"&&this.addMetaSchema(V.meta),x.call(this),V.validateFormats=H}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:V,meta:W,schemaId:F}=this.opts;let H=d;F==="id"&&(H={...d},H.id=H.$id,delete H.$id),W&&V&&this.addMetaSchema(H,H[F],!1)}defaultMeta(){const{meta:V,schemaId:W}=this.opts;return this.opts.defaultMeta=typeof V=="object"?V[W]||V:void 0}validate(V,W){let F;if(typeof V=="string"){if(F=this.getSchema(V),!F)throw new Error(`no schema with key or ref "${V}"`)}else F=this.compile(V);const H=F(W);return"$async"in F||(this.errors=F.errors),H}compile(V,W){const F=this._addSchema(V,W);return F.validate||this._compileSchemaEnv(F)}compileAsync(V,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return H.call(this,V,W);async function H(le,Se){await G.call(this,le.$schema);const de=this._addSchema(le,Se);return de.validate||X.call(this,de)}async function G(le){le&&!this.getSchema(le)&&await H.call(this,{$ref:le},!0)}async function X(le){try{return this._compileSchemaEnv(le)}catch(Se){if(!(Se instanceof i.default))throw Se;return ie.call(this,Se),await oe.call(this,Se.missingSchema),X.call(this,le)}}function ie({missingSchema:le,missingRef:Se}){if(this.refs[le])throw new Error(`AnySchema ${le} is loaded but ${Se} cannot be resolved`)}async function oe(le){const Se=await se.call(this,le);this.refs[le]||await G.call(this,Se.$schema),this.refs[le]||this.addSchema(Se,le,W)}async function se(le){const Se=this._loading[le];if(Se)return Se;try{return await(this._loading[le]=F(le))}finally{delete this._loading[le]}}}addSchema(V,W,F,H=this.opts.validateSchema){if(Array.isArray(V)){for(const X of V)this.addSchema(X,void 0,F,H);return this}let G;if(typeof V=="object"){const{schemaId:X}=this.opts;if(G=V[X],G!==void 0&&typeof G!="string")throw new Error(`schema ${X} must be string`)}return W=(0,l.normalizeId)(W||G),this._checkUnique(W),this.schemas[W]=this._addSchema(V,F,W,H,!0),this}addMetaSchema(V,W,F=this.opts.validateSchema){return this.addSchema(V,W,!0,F),this}validateSchema(V,W){if(typeof V=="boolean")return!0;let F;if(F=V.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const H=this.validate(F,V);if(!H&&W){const G="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(G);else throw new Error(G)}return H}getSchema(V){let W;for(;typeof(W=S.call(this,V))=="string";)V=W;if(W===void 0){const{schemaId:F}=this.opts,H=new o.SchemaEnv({schema:{},schemaId:F});if(W=o.resolveSchema.call(this,H,V),!W)return;this.refs[V]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(V){if(V instanceof RegExp)return this._removeAllSchemas(this.schemas,V),this._removeAllSchemas(this.refs,V),this;switch(typeof V){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=S.call(this,V);return typeof W=="object"&&this._cache.delete(W.schema),delete this.schemas[V],delete this.refs[V],this}case"object":{const W=V;this._cache.delete(W);let F=V[this.opts.schemaId];return F&&(F=(0,l.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(V){for(const W of V)this.addKeyword(W);return this}addKeyword(V,W){let F;if(typeof V=="string")F=V,typeof W=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=F);else if(typeof V=="object"&&W===void 0){if(W=V,F=W.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(M.call(this,F,W),!W)return(0,c.eachItem)(F,G=>$.call(this,G)),this;B.call(this,W);const H={...W,type:(0,u.getJSONTypes)(W.type),schemaType:(0,u.getJSONTypes)(W.schemaType)};return(0,c.eachItem)(F,H.type.length===0?G=>$.call(this,G,H):G=>H.type.forEach(X=>$.call(this,G,H,X))),this}getKeyword(V){const W=this.RULES.all[V];return typeof W=="object"?W.definition:!!W}removeKeyword(V){const{RULES:W}=this;delete W.keywords[V],delete W.all[V];for(const F of W.rules){const H=F.rules.findIndex(G=>G.keyword===V);H>=0&&F.rules.splice(H,1)}return this}addFormat(V,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[V]=W,this}errorsText(V=this.errors,{separator:W=", ",dataVar:F="data"}={}){return!V||V.length===0?"No errors":V.map(H=>`${F}${H.instancePath} ${H.message}`).reduce((H,G)=>H+W+G)}$dataMetaSchema(V,W){const F=this.RULES.all;V=JSON.parse(JSON.stringify(V));for(const H of W){const G=H.split("/").slice(1);let X=V;for(const ie of G)X=X[ie];for(const ie in F){const oe=F[ie];if(typeof oe!="object")continue;const{$data:se}=oe.definition,le=X[ie];se&&le&&(X[ie]=U(le))}}return V}_removeAllSchemas(V,W){for(const F in V){const H=V[F];(!W||W.test(F))&&(typeof H=="string"?delete V[F]:H&&!H.meta&&(this._cache.delete(H.schema),delete V[F]))}}_addSchema(V,W,F,H=this.opts.validateSchema,G=this.opts.addUsedSchema){let X;const{schemaId:ie}=this.opts;if(typeof V=="object")X=V[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof V!="boolean")throw new Error("schema must be object or boolean")}let oe=this._cache.get(V);if(oe!==void 0)return oe;F=(0,l.normalizeId)(X||F);const se=l.getSchemaRefs.call(this,V,F);return oe=new o.SchemaEnv({schema:V,schemaId:ie,meta:W,baseId:F,localRefs:se}),this._cache.set(oe.schema,oe),G&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=oe),H&&this.validateSchema(V,!0),oe}_checkUnique(V){if(this.schemas[V]||this.refs[V])throw new Error(`schema with key or id "${V}" already exists`)}_compileSchemaEnv(V){if(V.meta?this._compileMetaSchema(V):o.compileSchema.call(this,V),!V.validate)throw new Error("ajv implementation error");return V.validate}_compileMetaSchema(V){const W=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,V)}finally{this.opts=W}}}w.ValidationError=r.default,w.MissingRefError=i.default,e.default=w;function E(N,V,W,F="error"){for(const H in N){const G=H;G in V&&this.logger[F](`${W}: option ${H}. ${N[G]}`)}}function S(N){return N=(0,l.normalizeId)(N),this.schemas[N]||this.refs[N]}function x(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const V in N)this.addSchema(N[V],V)}function T(){for(const N in this.opts.formats){const V=this.opts.formats[N];V&&this.addFormat(N,V)}}function I(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const V in N){const W=N[V];W.keyword||(W.keyword=V),this.addKeyword(W)}}function P(){const N={...this.opts};for(const V of p)delete N[V];return N}const k={log(){},warn(){},error(){}};function D(N){if(N===!1)return k;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const R=/^[a-z_$][a-z0-9_$:-]*$/i;function M(N,V){const{RULES:W}=this;if((0,c.eachItem)(N,F=>{if(W.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!R.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!V&&V.$data&&!("code"in V||"validate"in V))throw new Error('$data keyword must have "code" or "validate" function')}function $(N,V,W){var F;const H=V==null?void 0:V.post;if(W&&H)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:G}=this;let X=H?G.post:G.rules.find(({type:oe})=>oe===W);if(X||(X={type:W,rules:[]},G.rules.push(X)),G.keywords[N]=!0,!V)return;const ie={keyword:N,definition:{...V,type:(0,u.getJSONTypes)(V.type),schemaType:(0,u.getJSONTypes)(V.schemaType)}};V.before?L.call(this,X,ie,V.before):X.rules.push(ie),G.all[N]=ie,(F=V.implements)===null||F===void 0||F.forEach(oe=>this.addKeyword(oe))}function L(N,V,W){const F=N.rules.findIndex(H=>H.keyword===W);F>=0?N.rules.splice(F,0,V):(N.rules.push(V),this.logger.warn(`rule ${W} is not defined`))}function B(N){let{metaSchema:V}=N;V!==void 0&&(N.$data&&this.opts.$data&&(V=U(V)),N.validateSchema=this.compile(V,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function U(N){return{anyOf:[N,z]}}})(XCe);var SQ={},TQ={},CQ={};Object.defineProperty(CQ,"__esModule",{value:!0});const Rmt={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};CQ.default=Rmt;var lb={};Object.defineProperty(lb,"__esModule",{value:!0});lb.callRef=lb.getValidate=void 0;const kmt=_S,pde=Vn,Ml=qn,L_=bp,mde=Vl,hN=Ct,Pmt={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=r,{root:u}=s;if((n==="#"||n==="#/")&&i===u.baseId)return d();const c=mde.resolveRef.call(l,u,i,n);if(c===void 0)throw new kmt.default(r.opts.uriResolver,i,n);if(c instanceof mde.SchemaEnv)return f(c);return h(c);function d(){if(s===u)return oD(e,o,s,s.$async);const p=t.scopeValue("root",{ref:u});return oD(e,(0,Ml._)`${p}.validate`,u,u.$async)}function f(p){const m=R2e(e,p);oD(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Ml.stringify)(p)}:{ref:p}),g=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:Ml.nil,topSchemaRef:m,errSchemaPath:n},g);e.mergeEvaluated(y),e.ok(g)}}};function R2e(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Ml._)`${n.scopeValue("wrapper",{ref:t})}.validate`}lb.getValidate=R2e;function oD(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?L_.default.this:Ml.nil;r?c():d();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Ml._)`await ${(0,pde.callValidateCode)(e,t,u)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,Ml._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),f(m),o||i.assign(p,!1)}),e.ok(p)}function d(){e.result((0,pde.callValidateCode)(e,t,u),()=>h(t),()=>f(t))}function f(p){const m=(0,Ml._)`${p}.errors`;i.assign(L_.default.vErrors,(0,Ml._)`${L_.default.vErrors} === null ? ${m} : ${L_.default.vErrors}.concat(${m})`),i.assign(L_.default.errors,(0,Ml._)`${L_.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=hN.mergeEvaluated.props(i,g.props,s.props));else{const y=i.var("props",(0,Ml._)`${p}.evaluated.props`);s.props=hN.mergeEvaluated.props(i,y,s.props,Ml.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=hN.mergeEvaluated.items(i,g.items,s.items));else{const y=i.var("items",(0,Ml._)`${p}.evaluated.items`);s.items=hN.mergeEvaluated.items(i,y,s.items,Ml.Name)}}}lb.callRef=oD;lb.default=Pmt;Object.defineProperty(TQ,"__esModule",{value:!0});const Nmt=CQ,Omt=lb,Dmt=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Nmt.default,Omt.default];TQ.default=Dmt;var AQ={},IQ={};Object.defineProperty(IQ,"__esModule",{value:!0});const s$=qn,Fg=s$.operators,o$={maximum:{okStr:"<=",ok:Fg.LTE,fail:Fg.GT},minimum:{okStr:">=",ok:Fg.GTE,fail:Fg.LT},exclusiveMaximum:{okStr:"<",ok:Fg.LT,fail:Fg.GTE},exclusiveMinimum:{okStr:">",ok:Fg.GT,fail:Fg.LTE}},Mmt={message:({keyword:e,schemaCode:t})=>(0,s$.str)`must be ${o$[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,s$._)`{comparison: ${o$[e].okStr}, limit: ${t}}`},$mt={keyword:Object.keys(o$),type:"number",schemaType:"number",$data:!0,error:Mmt,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,s$._)`${n} ${o$[t].fail} ${r} || isNaN(${n})`)}};IQ.default=$mt;var RQ={};Object.defineProperty(RQ,"__esModule",{value:!0});const K2=qn,Lmt={message:({schemaCode:e})=>(0,K2.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,K2._)`{multipleOf: ${e}}`},Fmt={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Lmt,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,K2._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,K2._)`${o} !== parseInt(${o})`;e.fail$data((0,K2._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};RQ.default=Fmt;var kQ={},PQ={};Object.defineProperty(PQ,"__esModule",{value:!0});function k2e(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}PQ.default=k2e;k2e.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(kQ,"__esModule",{value:!0});const d1=qn,jmt=Ct,Bmt=PQ,zmt={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,d1.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,d1._)`{limit: ${e}}`},Umt={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:zmt,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?d1.operators.GT:d1.operators.LT,o=i.opts.unicode===!1?(0,d1._)`${n}.length`:(0,d1._)`${(0,jmt.useFunc)(e.gen,Bmt.default)}(${n})`;e.fail$data((0,d1._)`${o} ${s} ${r}`)}};kQ.default=Umt;var NQ={};Object.defineProperty(NQ,"__esModule",{value:!0});const Vmt=Vn,a$=qn,Hmt={message:({schemaCode:e})=>(0,a$.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,a$._)`{pattern: ${e}}`},qmt={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Hmt,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,a$._)`(new RegExp(${i}, ${o}))`:(0,Vmt.usePattern)(e,r);e.fail$data((0,a$._)`!${a}.test(${t})`)}};NQ.default=qmt;var OQ={};Object.defineProperty(OQ,"__esModule",{value:!0});const X2=qn,Wmt={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,X2.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,X2._)`{limit: ${e}}`},Gmt={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Wmt,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?X2.operators.GT:X2.operators.LT;e.fail$data((0,X2._)`Object.keys(${n}).length ${i} ${r}`)}};OQ.default=Gmt;var DQ={};Object.defineProperty(DQ,"__esModule",{value:!0});const jT=Vn,Q2=qn,Ymt=Ct,Kmt={message:({params:{missingProperty:e}})=>(0,Q2.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Q2._)`{missingProperty: ${e}}`},Xmt={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Kmt,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const l=n.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const g=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,Ymt.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(Q2.nil,d);else for(const h of n)(0,jT.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(l||s){const p=t.let("valid",!0);e.block$data(p,()=>f(h,p)),e.ok(p)}else t.if((0,jT.checkMissingProp)(e,n,h)),(0,jT.reportMissingProp)(e,h),t.else()}function d(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,jT.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function f(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,jT.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Q2.not)(p),()=>{e.error(),t.break()})},Q2.nil)}}};DQ.default=Xmt;var MQ={};Object.defineProperty(MQ,"__esModule",{value:!0});const J2=qn,Qmt={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,J2.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,J2._)`{limit: ${e}}`},Jmt={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Qmt,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?J2.operators.GT:J2.operators.LT;e.fail$data((0,J2._)`${n}.length ${i} ${r}`)}};MQ.default=Jmt;var $Q={},ek={};Object.defineProperty(ek,"__esModule",{value:!0});const P2e=bQ;P2e.code='require("ajv/dist/runtime/equal").default';ek.default=P2e;Object.defineProperty($Q,"__esModule",{value:!0});const EB=Us,Oo=qn,Zmt=Ct,egt=ek,tgt={message:({params:{i:e,j:t}})=>(0,Oo.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Oo._)`{i: ${e}, j: ${t}}`},ngt={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tgt,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const l=t.let("valid"),u=s.items?(0,EB.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,Oo._)`${o} === false`),e.ok(l);function c(){const p=t.let("i",(0,Oo._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(l,!0),t.if((0,Oo._)`${p} > 1`,()=>(d()?f:h)(p,m))}function d(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function f(p,m){const g=t.name("item"),y=(0,EB.checkDataTypes)(u,g,a.opts.strictNumbers,EB.DataType.Wrong),v=t.const("indices",(0,Oo._)`{}`);t.for((0,Oo._)`;${p}--;`,()=>{t.let(g,(0,Oo._)`${n}[${p}]`),t.if(y,(0,Oo._)`continue`),u.length>1&&t.if((0,Oo._)`typeof ${g} == "string"`,(0,Oo._)`${g} += "_"`),t.if((0,Oo._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(m,(0,Oo._)`${v}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,Oo._)`${v}[${g}] = ${p}`)})}function h(p,m){const g=(0,Zmt.useFunc)(t,egt.default),y=t.name("outer");t.label(y).for((0,Oo._)`;${p}--;`,()=>t.for((0,Oo._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Oo._)`${g}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};$Q.default=ngt;var LQ={};Object.defineProperty(LQ,"__esModule",{value:!0});const bV=qn,rgt=Ct,igt=ek,sgt={message:"must be equal to constant",params:({schemaCode:e})=>(0,bV._)`{allowedValue: ${e}}`},ogt={keyword:"const",$data:!0,error:sgt,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,bV._)`!${(0,rgt.useFunc)(t,igt.default)}(${n}, ${i})`):e.fail((0,bV._)`${s} !== ${n}`)}};LQ.default=ogt;var FQ={};Object.defineProperty(FQ,"__esModule",{value:!0});const OC=qn,agt=Ct,lgt=ek,ugt={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,OC._)`{allowedValues: ${e}}`},cgt={keyword:"enum",schemaType:"array",$data:!0,error:ugt,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,agt.useFunc)(t,lgt.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,OC.or)(...i.map((p,m)=>f(h,m)))}e.pass(c);function d(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,OC._)`${u()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function f(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,OC._)`${u()}(${n}, ${h}[${p}])`:(0,OC._)`${n} === ${m}`}}};FQ.default=cgt;Object.defineProperty(AQ,"__esModule",{value:!0});const dgt=IQ,fgt=RQ,hgt=kQ,pgt=NQ,mgt=OQ,ggt=DQ,ygt=MQ,vgt=$Q,bgt=LQ,_gt=FQ,wgt=[dgt.default,fgt.default,hgt.default,pgt.default,mgt.default,ggt.default,ygt.default,vgt.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},bgt.default,_gt.default];AQ.default=wgt;var jQ={},wS={};Object.defineProperty(wS,"__esModule",{value:!0});wS.validateAdditionalItems=void 0;const f1=qn,_V=Ct,Egt={message:({params:{len:e}})=>(0,f1.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,f1._)`{limit: ${e}}`},xgt={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Egt,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,_V.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}N2e(e,r)}};function N2e(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,f1._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,f1._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,_V.alwaysValidSchema)(o,r)){const u=n.var("valid",(0,f1._)`${a} <= ${t.length}`);n.if((0,f1.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:_V.Type.Num},u),o.allErrors||n.if((0,f1.not)(u),()=>n.break())})}}wS.validateAdditionalItems=N2e;wS.default=xgt;var BQ={},ES={};Object.defineProperty(ES,"__esModule",{value:!0});ES.validateTuple=void 0;const gde=qn,aD=Ct,Sgt=Vn,Tgt={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return O2e(e,"additionalItems",t);n.items=!0,!(0,aD.alwaysValidSchema)(n,t)&&e.ok((0,Sgt.validateArray)(e))}};function O2e(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=aD.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,gde._)`${s}.length`);n.forEach((d,f)=>{(0,aD.alwaysValidSchema)(a,d)||(r.if((0,gde._)`${u} > ${f}`,()=>e.subschema({keyword:o,schemaProp:f,dataProp:f},l)),e.ok(l))});function c(d){const{opts:f,errSchemaPath:h}=a,p=n.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(f.strictTuples&&!m){const g=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,aD.checkStrictMode)(a,g,f.strictTuples)}}}ES.validateTuple=O2e;ES.default=Tgt;Object.defineProperty(BQ,"__esModule",{value:!0});const Cgt=ES,Agt={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Cgt.validateTuple)(e,"items")};BQ.default=Agt;var zQ={};Object.defineProperty(zQ,"__esModule",{value:!0});const yde=qn,Igt=Ct,Rgt=Vn,kgt=wS,Pgt={message:({params:{len:e}})=>(0,yde.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yde._)`{limit: ${e}}`},Ngt={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Pgt,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,Igt.alwaysValidSchema)(r,t)&&(i?(0,kgt.validateAdditionalItems)(e,i):e.ok((0,Rgt.validateArray)(e)))}};zQ.default=Ngt;var UQ={};Object.defineProperty(UQ,"__esModule",{value:!0});const Tc=qn,pN=Ct,Ogt={message:({params:{min:e,max:t}})=>t===void 0?(0,Tc.str)`must contain at least ${e} valid item(s)`:(0,Tc.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Tc._)`{minContains: ${e}}`:(0,Tc._)`{minContains: ${e}, maxContains: ${t}}`},Dgt={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ogt,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=r;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,Tc._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,pN.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,pN.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,pN.alwaysValidSchema)(s,n)){let m=(0,Tc._)`${c} >= ${o}`;a!==void 0&&(m=(0,Tc._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const d=t.name("valid");a===void 0&&o===1?h(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,Tc._)`${i}.length > 0`,f)):(t.let(d,!1),f()),e.result(d,()=>e.reset());function f(){const m=t.name("_valid"),g=t.let("count",0);h(m,()=>t.if(m,()=>p(g)))}function h(m,g){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:pN.Type.Num,compositeRule:!0},m),g()})}function p(m){t.code((0,Tc._)`${m}++`),a===void 0?t.if((0,Tc._)`${m} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,Tc._)`${m} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,Tc._)`${m} >= ${o}`,()=>t.assign(d,!0)))}}};UQ.default=Dgt;var D2e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=qn,n=Ct,r=Vn;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(D2e);var VQ={};Object.defineProperty(VQ,"__esModule",{value:!0});const M2e=qn,Mgt=Ct,$gt={message:"property name must be valid",params:({params:e})=>(0,M2e._)`{propertyName: ${e.propertyName}}`},Lgt={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:$gt,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,Mgt.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,M2e.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};VQ.default=Lgt;var T6={};Object.defineProperty(T6,"__esModule",{value:!0});const mN=Vn,Id=qn,Fgt=bp,gN=Ct,jgt={message:"must NOT have additional properties",params:({params:e})=>(0,Id._)`{additionalProperty: ${e.additionalProperty}}`},Bgt={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:jgt,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,gN.alwaysValidSchema)(o,n))return;const u=(0,mN.allSchemaProperties)(r.properties),c=(0,mN.allSchemaProperties)(r.patternProperties);d(),e.ok((0,Id._)`${s} === ${Fgt.default.errors}`);function d(){t.forIn("key",i,g=>{!u.length&&!c.length?p(g):t.if(f(g),()=>p(g))})}function f(g){let y;if(u.length>8){const v=(0,gN.schemaRefOrVal)(o,r.properties,"properties");y=(0,mN.isOwnProperty)(t,v,g)}else u.length?y=(0,Id.or)(...u.map(v=>(0,Id._)`${g} === ${v}`)):y=Id.nil;return c.length&&(y=(0,Id.or)(y,...c.map(v=>(0,Id._)`${(0,mN.usePattern)(e,v)}.test(${g})`))),(0,Id.not)(y)}function h(g){t.code((0,Id._)`delete ${i}[${g}]`)}function p(g){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){h(g);return}if(n===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,gN.alwaysValidSchema)(o,n)){const y=t.name("valid");l.removeAdditional==="failing"?(m(g,y,!1),t.if((0,Id.not)(y),()=>{e.reset(),h(g)})):(m(g,y),a||t.if((0,Id.not)(y),()=>t.break()))}}function m(g,y,v){const _={keyword:"additionalProperties",dataProp:g,dataPropType:gN.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,y)}}};T6.default=Bgt;var HQ={};Object.defineProperty(HQ,"__esModule",{value:!0});const zgt=of,vde=Vn,xB=Ct,bde=T6,Ugt={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&bde.default.code(new zgt.KeywordCxt(s,bde.default,"additionalProperties"));const o=(0,vde.allSchemaProperties)(n);for(const d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=xB.mergeEvaluated.props(t,(0,xB.toHash)(o),s.props));const a=o.filter(d=>!(0,xB.alwaysValidSchema)(s,n[d]));if(a.length===0)return;const l=t.name("valid");for(const d of a)u(d)?c(d):(t.if((0,vde.propertyInData)(t,i,d,s.opts.ownProperties)),c(d),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function u(d){return s.opts.useDefaults&&!s.compositeRule&&n[d].default!==void 0}function c(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};HQ.default=Ugt;var qQ={};Object.defineProperty(qQ,"__esModule",{value:!0});const _de=Vn,yN=qn,wde=Ct,Ede=Ct,Vgt={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,_de.allSchemaProperties)(n),l=a.filter(m=>(0,wde.alwaysValidSchema)(s,n[m]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof yN.Name)&&(s.props=(0,Ede.evaluatedPropsToName)(t,s.props));const{props:d}=s;f();function f(){for(const m of a)u&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const g in u)new RegExp(m).test(g)&&(0,wde.checkStrictMode)(s,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,g=>{t.if((0,yN._)`${(0,_de.usePattern)(e,m)}.test(${g})`,()=>{const y=l.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:Ede.Type.Str},c),s.opts.unevaluated&&d!==!0?t.assign((0,yN._)`${d}[${g}]`,!0):!y&&!s.allErrors&&t.if((0,yN.not)(c),()=>t.break())})})}}};qQ.default=Vgt;var WQ={};Object.defineProperty(WQ,"__esModule",{value:!0});const Hgt=Ct,qgt={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,Hgt.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};WQ.default=qgt;var GQ={};Object.defineProperty(GQ,"__esModule",{value:!0});const Wgt=Vn,Ggt={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Wgt.validateUnion,error:{message:"must match a schema in anyOf"}};GQ.default=Ggt;var YQ={};Object.defineProperty(YQ,"__esModule",{value:!0});const lD=qn,Ygt=Ct,Kgt={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,lD._)`{passingSchemas: ${e.passing}}`},Xgt={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Kgt,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,d)=>{let f;(0,Ygt.alwaysValidSchema)(i,c)?t.var(l,!0):f=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,lD._)`${l} && ${o}`).assign(o,!1).assign(a,(0,lD._)`[${a}, ${d}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,d),f&&e.mergeEvaluated(f,lD.Name)})})}}};YQ.default=Xgt;var KQ={};Object.defineProperty(KQ,"__esModule",{value:!0});const Qgt=Ct,Jgt={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,Qgt.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};KQ.default=Jgt;var XQ={};Object.defineProperty(XQ,"__esModule",{value:!0});const l$=qn,$2e=Ct,Zgt={message:({params:e})=>(0,l$.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,l$._)`{failingKeyword: ${e.ifClause}}`},e0t={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Zgt,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,$2e.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=xde(r,"then"),s=xde(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,l$.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,d){return()=>{const f=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(f,o),d?t.assign(d,(0,l$._)`${c}`):e.setParams({ifClause:c})}}}};function xde(e,t){const n=e.schema[t];return n!==void 0&&!(0,$2e.alwaysValidSchema)(e,n)}XQ.default=e0t;var QQ={};Object.defineProperty(QQ,"__esModule",{value:!0});const t0t=Ct,n0t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,t0t.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};QQ.default=n0t;Object.defineProperty(jQ,"__esModule",{value:!0});const r0t=wS,i0t=BQ,s0t=ES,o0t=zQ,a0t=UQ,l0t=D2e,u0t=VQ,c0t=T6,d0t=HQ,f0t=qQ,h0t=WQ,p0t=GQ,m0t=YQ,g0t=KQ,y0t=XQ,v0t=QQ;function b0t(e=!1){const t=[h0t.default,p0t.default,m0t.default,g0t.default,y0t.default,v0t.default,u0t.default,c0t.default,l0t.default,d0t.default,f0t.default];return e?t.push(i0t.default,o0t.default):t.push(r0t.default,s0t.default),t.push(a0t.default),t}jQ.default=b0t;var JQ={},ZQ={};Object.defineProperty(ZQ,"__esModule",{value:!0});const vs=qn,_0t={message:({schemaCode:e})=>(0,vs.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,vs._)`{format: ${e}}`},w0t={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_0t,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:d}=a;if(!l.validateFormats)return;i?f():h();function f(){const p=n.scopeValue("formats",{ref:d.formats,code:l.code.formats}),m=n.const("fDef",(0,vs._)`${p}[${o}]`),g=n.let("fType"),y=n.let("format");n.if((0,vs._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,vs._)`${m}.type || "string"`).assign(y,(0,vs._)`${m}.validate`),()=>n.assign(g,(0,vs._)`"string"`).assign(y,m)),e.fail$data((0,vs.or)(v(),_()));function v(){return l.strictSchema===!1?vs.nil:(0,vs._)`${o} && !${y}`}function _(){const w=c.$async?(0,vs._)`(${m}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,vs._)`${y}(${r})`,E=(0,vs._)`(typeof ${y} == "function" ? ${w} : ${y}.test(${r}))`;return(0,vs._)`${y} && ${y} !== true && ${g} === ${t} && !${E}`}}function h(){const p=d.formats[s];if(!p){v();return}if(p===!0)return;const[m,g,y]=_(p);m===t&&e.pass(w());function v(){if(l.strictSchema===!1){d.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function _(E){const S=E instanceof RegExp?(0,vs.regexpCode)(E):l.code.formats?(0,vs._)`${l.code.formats}${(0,vs.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:E,code:S});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,vs._)`${x}.validate`]:["string",E,x]}function w(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,vs._)`await ${y}(${r})`}return typeof g=="function"?(0,vs._)`${y}(${r})`:(0,vs._)`${y}.test(${r})`}}}};ZQ.default=w0t;Object.defineProperty(JQ,"__esModule",{value:!0});const E0t=ZQ,x0t=[E0t.default];JQ.default=x0t;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.contentVocabulary=XE.metadataVocabulary=void 0;XE.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];XE.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(SQ,"__esModule",{value:!0});const S0t=TQ,T0t=AQ,C0t=jQ,A0t=JQ,Sde=XE,I0t=[S0t.default,T0t.default,(0,C0t.default)(),A0t.default,Sde.metadataVocabulary,Sde.contentVocabulary];SQ.default=I0t;var eJ={},C6={};Object.defineProperty(C6,"__esModule",{value:!0});C6.DiscrError=void 0;var Tde;(function(e){e.Tag="tag",e.Mapping="mapping"})(Tde||(C6.DiscrError=Tde={}));Object.defineProperty(eJ,"__esModule",{value:!0});const lw=qn,wV=C6,Cde=Vl,R0t=_S,k0t=Ct,P0t={message:({params:{discrError:e,tagName:t}})=>e===wV.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,lw._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},N0t={keyword:"discriminator",type:"object",schemaType:"object",error:P0t,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,lw._)`${n}${(0,lw.getProperty)(a)}`);t.if((0,lw._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:wV.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const h=f();t.if(!1);for(const p in h)t.elseIf((0,lw._)`${u} === ${p}`),t.assign(l,d(h[p]));t.else(),e.error(!1,{discrError:wV.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function d(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,lw.Name),p}function f(){var h;const p={},m=y(i);let g=!0;for(let w=0;w<o.length;w++){let E=o[w];if(E!=null&&E.$ref&&!(0,k0t.schemaHasRulesButRef)(E,s.self.RULES)){const x=E.$ref;if(E=Cde.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x),E instanceof Cde.SchemaEnv&&(E=E.schema),E===void 0)throw new R0t.default(s.opts.uriResolver,s.baseId,x)}const S=(h=E==null?void 0:E.properties)===null||h===void 0?void 0:h[a];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||y(E)),v(S,w)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:w}){return Array.isArray(w)&&w.includes(a)}function v(w,E){if(w.const)_(w.const,E);else if(w.enum)for(const S of w.enum)_(S,E);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(w,E){if(typeof w!="string"||w in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[w]=E}}}};eJ.default=N0t;const O0t="http://json-schema.org/draft-07/schema#",D0t="http://json-schema.org/draft-07/schema#",M0t="Core schema meta-schema",$0t={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},L0t=["object","boolean"],F0t={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},j0t={$schema:O0t,$id:D0t,title:M0t,definitions:$0t,type:L0t,properties:F0t,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=XCe,r=SQ,i=eJ,s=j0t,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=of;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=qn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=ZR;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=_S;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(hV,hV.exports);var B0t=hV.exports;const L2e=bu(B0t),z0t="#/definitions/StudyConfig",U0t="http://json-schema.org/draft-07/schema#",V0t={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "required": true,    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": [       {         "label": "Europe",         "value": "Europe"       },       {         "label": "Japan",         "value": "Japan"       },       {         "label": "USA",         "value": "USA"       }     ],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "required": false, "location": "aboveStimulus", "type": "checkbox", "options": [  {    "label": "Option 1",    "value": "opt-1"  },  {    "label": "Option 2",    "value": "opt-2"  },  {    "label": "Option 3",    "value": "opt-3"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "required": true, "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": [  {    "label": "Red",    "value": "red"  },  {    "label": "Blue",    "value": "blue"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"iframe",type:"string"}},required:["id","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "required": true, "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"}},required:["id","numItems","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "required": true, "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"}},required:["id","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "required": true, "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"}},required:["id","prompt","required","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "required": true,    "location": "belowStimulus",    "type": "checkbox",    "options": [      {        "label": "Man",        "value": "Man"      },      {        "label": "Woman",        "value": "Woman"      },      {        "label": "Genderqueer",        "value": "Genderqueer"      },      {        "label": "Third-gender",        "value": "Third-gender"      },      ... etc.    ]  } ] } ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "required": true, "location": "aboveStimulus", "type": "radio", "options": [  {    "label": "Option 1",    "value": "opt-1"  },  {    "label": "Option 2",    "value": "opt-2"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v1.0.0/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/demo-brush-interactions (https://github.com/revisit-studies/study/tree/v1.0.0/src/public/demo-brush-interactions/assets)",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "required": true, "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"}},required:["id","prompt","required","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "required": true, "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"slider",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},StudyConfig:{additionalProperties:!1,description:'The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\n\n```js { "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v1.0.0/src/parser/StudyConfigSchema.json", "studyMetadata": {  ... }, "uiConfig": {  ... }, "components": {  ... }, "sequence": {  ... } } ```\n\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\n\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/ComponentBlock",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},tasksToNotRecordAudio:{items:{type:"string"},type:"array"},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:'The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\n\n```js "studyMetadata" : { "title": "My New Study", "version": "pilot", "authors": [  "Jane Doe",  "John Doe" ], "date": "2024-04-01", "description": "This study is meant to test your ability.", "organizations": [  "The reVISit Team",  "The Other Team" ] } ```',properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:'The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ "contactEmail": "contact@revisit.dev", "helpTextPath": "<study-name>/assets/help.md", "logoPath": "<study-name>/assets/logo.jpg", "withProgressBar": true, "autoDownloadStudy": true "autoDownloadTime": 5000, "studyEndMsg": "Thank you for completing this study. You\'re the best!", "sidebar": true, "windowEventDebounceTime": 500, "urlParticipantIdParam": "PROLIFIC_ID", "numSequences": 500 } ``` In the above, the `path/to/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)',properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},enumerateQuestions:{description:"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.",type:"boolean"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},sidebarWidth:{description:"The width of the left sidebar. Defaults to 300.",type:"number"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] } "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "required": true,    "location": "belowStimulus",    "type": "iframe"  } ], } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},H0t={$ref:z0t,$schema:U0t,definitions:V0t},q0t="#/definitions/GlobalConfig",W0t="http://json-schema.org/draft-07/schema#",G0t={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},Y0t={$ref:q0t,$schema:W0t,definitions:G0t},F2e=new L2e;F2e.addSchema(Y0t);const Ade=F2e.getSchema("#/definitions/GlobalConfig"),j2e=new L2e;j2e.addSchema(H0t);const SB=j2e.getSchema("#/definitions/StudyConfig");function K0t(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function A6(e){return e.baseComponent!==void 0}function X0t(e){const t=dQ.parse(e),n=Ade(t),r=K0t(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...Ade.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function B2e(e,t,n=[]){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,s)=>i===e.id?s:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((s,o)=>s===r?o:null).forEach(s=>{s!==null&&t.splice(s,1)}):B2e(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}function Q0t(e){const t=[],n=[];Object.entries(e.components).forEach(([s,o])=>{var a;A6(o)&&!((a=e.baseComponents)!=null&&a[o.baseComponent])&&t.push({message:`Base component \`${o.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${s}`,params:{action:"add the base component to the baseComponents object"}})});const r=VCe(e.sequence);r.forEach(s=>{var o;e.components[s]||t.push({message:(o=e.baseComponents)!=null&&o[s]?`Component \`${s}\` is a base component and cannot be used in the sequence`:`Component \`${s}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(s=>!r.includes(s)).forEach(s=>{n.push({message:`Component \`${s}\` is defined in components object but not used in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const i=[];return B2e(e.sequence,i),i.forEach(s=>{t.push({message:`Skip target \`${s}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:t,warnings:n}}function J0t(e){let t=!1,n;try{n=dQ.parse(e),t=SB(n)}catch{t=!1}let r=[],i=[];if(t){const{errors:s,warnings:o}=Q0t(n);r=[...SB.errors||[],...s],i=o}else r=SB.errors||[{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}function z2e(){const e=rv(),{setAlertModal:t}=nc(),n=Zc();A.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Ide=Object.prototype.hasOwnProperty;function Rde(e,t,n){for(n of e.keys())if(Z2(n,t))return n}function Z2(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Z2(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Rde(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Rde(t,i),!i)||!Z2(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Ide.call(e,n)&&++r&&!Ide.call(t,n)||!(n in t)||!Z2(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Z0t(e){var t=A.useRef(e),n=A.useRef(0);return Z2(e,t.current)||(t.current=e,n.current+=1),A.useMemo(function(){return t.current},[n.current])}function eyt(e,t){return A.useEffect(e,Z0t(t))}const dm=(e,t=null)=>{const[n,r]=A.useState("idle"),[i,s]=A.useState(null),[o,a]=A.useState(null),l=A.useRef(),u=A.useRef(!1);A.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=A.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(s(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(s(null),a(h),r("error")),h});return l.current=f,f},[e]);return eyt(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},kde=["status","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","meta","configHash"],U2e=["participantId","trialId","trialOrder","responseId"];function tJ(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function tyt(e,t,n){const r=(Object.entries(e.answers).filter(([i,s])=>s.endTime!==void 0).length/(Wc(e.sequence).length-1)*100).toFixed(2);return Object.entries(e.answers).map(([i,s])=>{const o=i.split("_").slice(0,-1).join("_"),a=parseInt(`${i.split("_").at(-1)}`,10),l=n.components[o],u=A6(l)&&l.baseComponent&&n.baseComponents?aQ({},n.baseComponents[l.baseComponent],l):l,c=s.endTime-s.startTime;return Object.entries(s.answer).map(([f,h])=>{var g,y;const p={participantId:e.participantId,trialId:o,trialOrder:a,responseId:f},m=u.response.find(v=>v.id===f);if(t.includes("status")&&(p.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("configHash")&&(p.configHash=e.participantConfigHash),t.includes("percentComplete")&&(p.percentComplete=r),t.includes("description")&&(p.description=u.description),t.includes("instruction")&&(p.instruction=u.instruction),t.includes("responsePrompt")&&(p.responsePrompt=m==null?void 0:m.prompt),t.includes("answer")&&(p.answer=h),t.includes("correctAnswer")){const v=(y=(g=u.correctAnswer)==null?void 0:g.find(_=>_.id===f))==null?void 0:y.answer;p.correctAnswer=typeof v=="object"?JSON.stringify(v):v}return t.includes("responseMin")&&(p.responseMin=(m==null?void 0:m.type)==="numerical"?m.min:void 0),t.includes("responseMax")&&(p.responseMax=(m==null?void 0:m.type)==="numerical"?m.max:void 0),t.includes("startTime")&&(p.startTime=new Date(s.startTime).toISOString()),t.includes("endTime")&&(p.endTime=new Date(s.endTime).toISOString()),t.includes("duration")&&(p.duration=c),t.includes("meta")&&(p.meta=JSON.stringify(u.meta,null,2)),p}).flat()}).flat()}async function nyt(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...U2e,...e],s=[...new Set(t.map(c=>c.participantConfigHash))],o=await n.getAllConfigsFromHash(s,r),a=i,u=(await Promise.all(t.map(async c=>await tyt(c,i,o[c.participantConfigHash])))).flat().sort((c,d)=>c!==d?c.participantId.localeCompare(d.participantId):c.trialOrder-d.trialOrder);return{header:a,rows:u}}function ryt({opened:e,close:t,filename:n,data:r,studyId:i}){const[s,o]=A.useState([...kde].filter(h=>h!=="meta")),a=Pi(),{value:l,status:u,error:c}=dm(nyt,[s,r,a.storageEngine,i]),d=A.useCallback(()=>{if(!l)return;const h=[l.header.join(","),...l.rows.map(p=>l.header.map(m=>p[m]).join(","))].join(`
`);tJ(h,n)},[n,l]),f=A.useMemo(()=>{if(!l)return"";const h=l.rows.length>5?5:l.rows.length,p=h===1?"":"s";return`This is a preview of the first ${p?h:""} row${p} of the CSV. The full CSV contains ${l.rows.length} row${p}.`},[l]);return b.jsxs(Ss,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[b.jsx(VF,{searchable:!0,nothingFoundMessage:"Property not found",data:[...kde],value:s,onChange:h=>o(h),label:"Included optional columns:",leftSection:b.jsx(ant,{}),variant:"filled"}),b.jsx(qc,{h:"md"}),b.jsxs(be,{mih:300,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?b.jsxs(or,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[b.jsx(or.Thead,{children:b.jsx(or.Tr,{children:l.header.map(h=>b.jsx(or.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(h)?200:void 0},children:b.jsxs(It,{direction:"row",justify:"space-between",align:"center",children:[h,!U2e.includes(h)&&b.jsx(Fn,{onClick:()=>o(s.filter(p=>p!==h)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:b.jsx(i6,{size:16})})]})},h))})}),b.jsx(or.Tbody,{children:l.rows.slice(0,5).map((h,p)=>b.jsx(or.Tr,{children:l.header.map(m=>b.jsx(or.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(m)?"normal":"nowrap"},children:h[m]},`${p}-${m}`))},p))})]}):u==="error"&&c?b.jsx(aS,{variant:"light",children:c.message}):null,b.jsx(uu,{visible:u==="pending"||u==="idle"})]}),b.jsx(qc,{h:"sm"}),b.jsx(It,{justify:"center",fz:"sm",c:"dimmed",children:b.jsx(nt,{children:f})}),b.jsx(qc,{h:"md"}),b.jsxs(Rn,{justify:"right",children:[b.jsx(hn,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),b.jsx(hn,{leftSection:b.jsx(ISe,{}),onClick:()=>d(),"data-autofocus":!0,children:"Download"})]})]})}function V2e(){const e=Xh(),{storageEngine:t}=Pi(),{answers:n}=Qo(v=>v),[r,i]=A.useState(!1);A.useEffect(()=>{const v=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(v))},1e3)},[]),z2e();const[s,o]=A.useState(),[a,l]=A.useState(""),u=e.studyMetadata.title.replace(" ","_");A.useEffect(()=>{async function v(){if(t){const _=await t.getCurrentParticipantId(),w=await t.getParticipantData();l(_),o(w)}}v()},[t]);const c=A.useCallback(async()=>{tJ(JSON.stringify(s,null,2),`${u}_${a}.json`)},[u,s,a]),d=e.uiConfig.autoDownloadStudy||!1,f=d&&e.uiConfig.autoDownloadTime||-1,[h,p]=A.useState(Math.floor(f/1e3));A.useEffect(()=>{if(r){const v=setInterval(()=>{p(_=>_-1)},1e3);return h<=0?(d&&c(),clearInterval(v),()=>clearInterval(v)):()=>clearInterval(v)}return()=>{}},[d,r,h,c]);const m=bS(),[g,y]=A.useState(!1);return A.useEffect(()=>{(async()=>{if(t){const _=await t.getModes(m);y(_.dataCollectionEnabled)}})()},[t,m]),b.jsx(dl,{style:{height:"100%"},children:b.jsx(It,{direction:"column",children:r||!g?b.jsx(nt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?b.jsx(fl,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):b.jsxs(b.Fragment,{children:[b.jsx(nt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),b.jsx(qc,{h:"lg"}),b.jsx(dl,{children:b.jsx(ws,{color:"blue"})})]})})})}function Gm(e){return structuredClone(e)}const H2e=A.createContext(null);function iyt(){const e=A.useContext(H2e);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Pde(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),s=Object.entries(r.components).find(([a])=>a===i),o=s?s[1]:null;if(!o)throw new Error(`Component ${i} could not be found in the study components.`);return o.correctAnswer?o.correctAnswer.every(a=>e[a.id]===a.answer):!0}function syt(){const e=rv(),t=oQ(),r=`${vp()}_${e}`,{trialValidation:i,sequence:s,answers:o}=Qo(S=>S),a=Zc(),{saveTrialAnswer:l,setIframeAnswers:u}=nc(),{storageEngine:c}=Pi(),d=bS(),[f,h]=A.useState(!0);A.useEffect(()=>{(async()=>{if(c){const x=await c.getModes(d);h(x.dataCollectionEnabled)}})()},[c,d]);const p=rht(r),m=typeof e!="number"||!p,g=uQ(),y=pd(),v=Xh(),_=A.useMemo(()=>Date.now(),[]),w=iyt(),E=A.useCallback(()=>{if(typeof e!="number")return;const S=Gm(i[r]),x=Object.values(S).reduce(($,L)=>Object.hasOwn(L,"values")?{...$,...L.values}:$,{}),{provenanceGraph:T}=S,I=Date.now(),P=w&&"current"in w&&w.current?w.current.splice(0,w.current.length):[];f&&!g.endTime&&(a(l({identifier:r,answer:x,startTime:_,endTime:I,provenanceGraph:T,windowEvents:P})),c&&c.saveAnswers({...o,[r]:{answer:x,startTime:_,endTime:I,provenanceGraph:T,windowEvents:P}}),a(u({})));let k=e+1;const D=eht(s,e),R=D!==null&&D.some($=>Object.hasOwn($.currentBlock,"skip")&&$.currentBlock.skip!==void 0),M={...o,[r]:{answer:x,startTime:_,endTime:I,provenanceGraph:T,windowEvents:P}};R&&[...D.flatMap(L=>L.currentBlock.skip?L.currentBlock.skip.map(B=>({...B,firstIndex:L.firstIndex,lastIndex:L.lastIndex})):[])].some(L=>{let B=!1;const z=Object.fromEntries(Object.entries(M).filter(([N])=>{const V=parseInt(N.slice(N.lastIndexOf("_")+1),10);return V>=L.firstIndex&&V<=e})),U=L.check!=="block"?Object.entries(z).filter(([N])=>N.slice(0,N.lastIndexOf("_"))===L.name):Object.entries(z);if(U.length===0)return!1;if(U.some(([N,V])=>!V))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(L,null,2)}`);if(L.check==="response"||L.check==="responses"){const[N,V]=U[0];L.check==="response"?B=L.value!==V.answer[L.responseId]:B=!Pde(V.answer,N,v.components[N.slice(0,N.lastIndexOf("_"))],v)}else if(L.check==="block"||L.check==="repeatedComponent"){if(U.length<L.value)return!1;const N=U.map(([F,H])=>Pde(H.answer,F,v.components[F.slice(0,F.lastIndexOf("_"))],v)),V=N.filter(F=>F).length,W=N.length-V;B=L.condition==="numCorrect"&&V===L.value||L.condition==="numIncorrect"&&W===L.value}if(B){const N=t.indexOf(L.to),V=N===-1?tht(s,L.to):-1;return k=N===-1?V:N,!0}return!1}),y(`/${d}/${k}${window.location.search}`)},[i,r,w,g,e,s,o,_,y,d,a,l,c,u,v,t]);return{isNextDisabled:m,goToNextStep:E}}function oyt({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=syt(),o=A.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return b.jsx(hn,{type:"submit",disabled:t||i,onClick:o,children:e})}function ayt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const lyt=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ro(e,t){lyt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function uyt(e,t){e&&ayt(e),Ro(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Ro(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Ro(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Ro(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Ro(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Ro(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Ro(`mantine-form:${e}:clear-errors`,t.clearErrors),Ro(`mantine-form:${e}:reset`,t.reset),Ro(`mantine-form:${e}:validate`,t.validate),Ro(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Ro(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Ro(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Ro(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Ro(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Ro(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Ro(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Ro(`mantine-form:${e}:reset-touched`,t.resetTouched)}function cyt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function EV(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function dyt(e){const[t,n]=A.useState(EV(e)),r=A.useRef(t),i=A.useCallback(l=>{n(u=>{const c=EV(typeof l=="function"?l(u):l);return r.current=c,c})},[]),s=A.useCallback(()=>i({}),[]),o=A.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=A.useCallback((l,u)=>{u==null||u===!1?o(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:s,setFieldError:a,clearFieldError:o}}function q2e(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function Nde(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function Ode(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=q2e(`${i}.${t}`,s));const o={...s},a=new Set;return Object.entries(s).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=Nde(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=Nde(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,a.add(d),a.has(l)||delete o[l]}),o}function fyt(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o={...r};return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,s)),a.startsWith(s)&&(l=a.replace(s,i),u=a),l&&u){const c=o[l],d=o[u];return d===void 0?delete o[l]:o[l]=d,c===void 0?delete o[u]:o[u]=c,!1}return!0}),o}function Dde(e,t,n){typeof n.value=="object"&&(n.value=$w(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function $w(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add($w(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set($w(a),$w(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor($w(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Dde(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Dde(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function W2e(e){return typeof e!="string"?[]:e.split(".")}function Gl(e,t){const n=W2e(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function I6(e,t,n){const r=W2e(e);if(r.length===0)return n;const i=$w(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function hyt(e,{from:t,to:n},r){const i=Gl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),I6(e,s,r)}function pyt(e,t,n,r){const i=Gl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),I6(e,s,r)}function myt(e,t,n){const r=Gl(e,n);return Array.isArray(r)?I6(e,r.filter((i,s)=>s!==t),n):n}function gyt({$values:e,$errors:t,$status:n}){const r=A.useCallback((o,a)=>{n.clearFieldDirty(o),t.setErrors(l=>fyt(o,a,l)),e.setValues({values:hyt(o,a,e.refValues.current),updateState:!0})},[]),i=A.useCallback((o,a)=>{n.clearFieldDirty(o),t.setErrors(l=>Ode(o,a,l,-1)),e.setValues({values:myt(o,a,e.refValues.current),updateState:!0})},[]),s=A.useCallback((o,a,l)=>{n.clearFieldDirty(o),t.setErrors(u=>Ode(o,l,u,1)),e.setValues({values:pyt(o,a,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:s}}function vN(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function yyt({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,s]=A.useState(t),[o,a]=A.useState(e),l=A.useRef(t),u=A.useRef(e),c=A.useCallback(E=>{const S=typeof E=="function"?E(l.current):E;l.current=S,n==="controlled"&&s(S)},[]),d=A.useCallback(E=>{const S=typeof E=="function"?E(u.current):E;u.current=S,n==="controlled"&&a(S)},[]),f=A.useCallback(()=>c({}),[]),h=E=>{const S=E?{...E,...r.refValues.current}:r.refValues.current;r.setValuesSnapshot(S),d({})},p=A.useCallback((E,S)=>{c(x=>vN(x,E)===S?x:{...x,[E]:S})},[]),m=A.useCallback((E,S)=>{d(x=>vN(x,E)===S?x:{...x,[E]:S})},[]),g=A.useCallback(E=>vN(l.current,E),[]),y=A.useCallback(E=>d(S=>{if(typeof E!="string")return S;const x=q2e(E,S);return delete x[E],iD(x,S)?S:x}),[]),v=A.useCallback(E=>{if(E){const x=Gl(E,u.current);if(typeof x=="boolean")return x;const T=Gl(E,r.refValues.current),I=Gl(E,r.valuesSnapshot.current);return!iD(T,I)}return Object.keys(u.current).length>0?vN(u.current):!iD(r.refValues.current,r.valuesSnapshot.current)},[]),_=A.useCallback(()=>u.current,[]),w=A.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:o,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:g,setFieldTouched:p,setFieldDirty:m,setTouchedState:s,setDirtyState:a,clearFieldDirty:y,isDirty:v,getDirty:_,getTouched:w}}function vyt({initialValues:e,onValuesChange:t,mode:n}){const r=A.useRef(!1),[i,s]=A.useState(e||{}),o=A.useRef(i),a=A.useRef(i),l=A.useCallback(({values:p,subscribers:m,updateState:g=!0,mergeWithPreviousValues:y=!0})=>{const v=o.current,_=p instanceof Function?p(o.current):p,w=y?{...v,..._}:_;o.current=w,g&&s(w),t==null||t(w,v),m==null||m.filter(Boolean).forEach(E=>E({updatedValues:w,previousValues:v}))},[t]),u=A.useCallback(p=>{var y;const m=Gl(p.path,o.current),g=p.value instanceof Function?p.value(m):p.value;if(m!==g){const v=o.current,_=I6(p.path,g,o.current);l({values:_,updateState:p.updateState}),(y=p.subscribers)==null||y.filter(Boolean).forEach(w=>w({path:p.path,updatedValues:_,previousValues:v}))}},[l]),c=A.useCallback(p=>{a.current=p},[]),d=A.useCallback((p,m)=>{r.current||(r.current=!0,l({values:p,updateState:n==="controlled"}),c(p),m())},[l]),f=A.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=A.useCallback(()=>o.current,[]);return{initialized:r,stateValues:i,refValues:o,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h}}function byt({$status:e}){const t=A.useRef({}),n=A.useCallback((i,s)=>{A.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(s),()=>{t.current[i]=t.current[i].filter(o=>o!==s)}),[s])},[]),r=A.useCallback(i=>t.current[i]?t.current[i].map(s=>o=>s({previousValue:Gl(i,o.previousValues),value:Gl(i,o.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function Mde(e,t){return e?`${e}-${t.toString()}`:t.toString()}function $de(e){const t=EV(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function xV(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,l=Gl(a,t);let u=!1;return typeof o=="function"&&(i[a]=o(l,t,a)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>xV(o,t,`${a}.${d}`,i))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||xV(o,t,a,i)),i},r)}function SV(e,t){return $de(typeof e=="function"?e(t):xV(e,t))}function bN(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=SV(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const _yt="__MANTINE_FORM_INDEX__";function Lde(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${_yt}`)):!1:!1}function G2e({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=h=>h,enhanceGetInputProps:d,validate:f}={}){const h=dyt(r),p=vyt({initialValues:n,onValuesChange:u,mode:t}),m=yyt({initialDirty:i,initialTouched:s,$values:p,mode:t}),g=gyt({$values:p,$errors:h,$status:m}),y=byt({$status:m}),[v,_]=A.useState(0),[w,E]=A.useState({}),S=A.useCallback(()=>{p.resetValues(),h.clearErrors(),m.resetDirty(),m.resetTouched(),t==="uncontrolled"&&_(N=>N+1)},[]),x=A.useCallback(N=>{p.initialize(N,()=>t==="uncontrolled"&&_(V=>V+1))},[]),T=A.useCallback((N,V,W)=>{const F=Lde(N,a);m.clearFieldDirty(N),m.setFieldTouched(N,!0),!F&&o&&h.clearFieldError(N),p.setFieldValue({path:N,value:V,updateState:t==="controlled",subscribers:[...y.getFieldSubscribers(N),F?H=>{const G=bN(N,f,H.updatedValues);G.hasError?h.setFieldError(N,G.error):h.clearFieldError(N)}:null,(W==null?void 0:W.forceUpdate)!==!1&&t!=="controlled"?()=>E(H=>({...H,[N]:(H[N]||0)+1})):null]})},[u,f]),I=A.useCallback(N=>{const V=p.refValues.current;p.setValues({values:N,updateState:t==="controlled"}),o&&h.clearErrors(),t==="uncontrolled"&&_(W=>W+1),Object.keys(y.subscribers.current).forEach(W=>{const F=Gl(W,p.refValues.current),H=Gl(W,V);F!==H&&y.getFieldSubscribers(W).forEach(G=>G({previousValues:V,updatedValues:p.refValues.current}))})},[u,o]),P=A.useCallback(()=>{const N=SV(f,p.refValues.current);return h.setErrors(N.errors),N},[f]),k=A.useCallback(N=>{const V=bN(N,f,p.refValues.current);return V.hasError?h.setFieldError(N,V.error):h.clearFieldError(N),V},[f]),D=(N,{type:V="input",withError:W=!0,withFocus:F=!0,...H}={})=>{const X={onChange:cyt(ie=>T(N,ie,{forceUpdate:!1})),"data-path":Mde(e,N)};return W&&(X.error=h.errorsState[N]),V==="checkbox"?X[t==="controlled"?"checked":"defaultChecked"]=Gl(N,p.refValues.current):X[t==="controlled"?"value":"defaultValue"]=Gl(N,p.refValues.current),F&&(X.onFocus=()=>m.setFieldTouched(N,!0),X.onBlur=()=>{if(Lde(N,l)){const ie=bN(N,f,p.refValues.current);ie.hasError?h.setFieldError(N,ie.error):h.clearFieldError(N)}}),Object.assign(X,d==null?void 0:d({inputProps:X,field:N,options:{type:V,withError:W,withFocus:F,...H},form:U}))},R=(N,V)=>W=>{W==null||W.preventDefault();const F=P();F.hasErrors?V==null||V(F.errors,p.refValues.current,W):N==null||N(c(p.refValues.current),W)},M=N=>c(N||p.refValues.current),$=A.useCallback(N=>{N.preventDefault(),S()},[]),L=A.useCallback(N=>N?!bN(N,f,p.refValues.current).hasError:!SV(f,p.refValues.current).hasErrors,[f]),B=N=>`${v}-${N}-${w[N]||0}`,z=A.useCallback(N=>document.querySelector(`[data-path="${Mde(e,N)}"]`),[]),U={watch:y.watch,initialized:p.initialized.current,values:p.stateValues,getValues:p.getValues,setInitialValues:p.setValuesSnapshot,initialize:x,setValues:I,setFieldValue:T,errors:h.errorsState,setErrors:h.setErrors,setFieldError:h.setFieldError,clearFieldError:h.clearFieldError,clearErrors:h.clearErrors,resetDirty:m.resetDirty,setTouched:m.setTouched,setDirty:m.setDirty,isTouched:m.isTouched,resetTouched:m.resetTouched,isDirty:m.isDirty,getTouched:m.getTouched,getDirty:m.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,reset:S,validate:P,validateField:k,getInputProps:D,onSubmit:R,onReset:$,isValid:L,getTransformedValues:M,key:B,getInputNode:z};return uyt(e,U),U}function wyt(e,t){const n=t||!0;return r=>typeof r!="string"?n:e.test(r)?null:n}function Eyt(e){return wyt(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}const xyt=new URLSearchParams(window.location.search),Syt=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?xyt.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},Tyt=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function Cyt(e,t,n){const[r,i]=A.useState(null),s=G2e({initialValues:Syt(e,n),validate:Tyt(e)});return A.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Zb(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function Ayt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:l}=e;return b.jsx(yf.Group,{label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:s,required:o})})]}),description:l,...n,error:Zb(e,n,a),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:b.jsx(Rn,{mt:"xs",children:a.map(u=>b.jsx(yf,{disabled:t,value:u.value,label:u.label},u.value))})})}function Iyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,options:l,secondaryText:u}=e;return b.jsx(nu,{disabled:t,label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:o,required:a})})]}),description:u,placeholder:s,data:l,radius:"md",size:"md",...n,error:Zb(e,n,l)})}function Ryt({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:s,secondaryText:o}=e;return b.jsx(Kr.Wrapper,{label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[r&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${n}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:i,required:s})})]}),description:o,size:"md",children:b.jsx(rf,{children:Array.isArray(t.value)?t.value.map(a=>b.jsx(rf.Item,{children:a},a)):b.jsx(rf.Item,{children:t.value})})})}function Y2e({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,leftLabel:l,rightLabel:u,secondaryText:c}=e;return b.jsx(ay.Group,{name:`radioInput${e.id}`,label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:s,required:o})})]}),description:c,...n,error:Zb(e,n,a),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:b.jsxs(Rn,{mt:"xs",children:[l?b.jsx(nt,{style:{textAlign:"center"},children:l}):null,a.map(d=>b.jsx(ay,{disabled:t,value:d.value,label:d.label},d.label)),b.jsx(nt,{children:u})]})},e.id)}function kyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:s}=e,o=[];for(let l=1;l<=+s;l+=1)o.push({label:`${l}`,value:`${l}`});const a={...e,type:"radio",options:o};return b.jsx(Y2e,{disabled:t,response:a,answer:n,index:r,enumerateQuestions:i})}function Pyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,min:a,max:l,placeholder:u,secondaryText:c}=e;return b.jsx(XK,{disabled:t,placeholder:u,label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:s,required:o})})]}),description:c,radius:"md",size:"md",min:a,max:l,...n,error:Zb(e,n)})}function Nyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:l}=e,u=Zb(e,n);return b.jsx(Kr.Wrapper,{label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:s,required:o})})]}),description:l,error:u,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:b.jsx(e6,{disabled:t,marks:a,...n,h:40})})}function Oyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l}=e;return b.jsx(sf,{disabled:t,placeholder:s,label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:o,required:a})})]}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Zb(e,n)})}function Dyt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l}=e;return b.jsx(YA,{disabled:t,placeholder:s,label:b.jsxs(It,{direction:"row",wrap:"nowrap",gap:4,children:[i&&b.jsx(be,{style:{minWidth:"fit-content"},children:`${r}. `}),b.jsx(be,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(fl,{text:o,required:a})})]}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Zb(e,n)})}function Myt({response:e,answer:t,storedAnswer:n,index:r}){const i=(n?{value:n}:t)||{value:void 0},s=!!n,[o]=SX(),l=Xh().uiConfig.enumerateQuestions??!1,u=A.useMemo(()=>{if(e.paramCapture){const c=o.get(e.paramCapture);return s||!!c}return s},[s,e.paramCapture,o]);return b.jsxs(be,{mb:"md",children:[e.type==="numerical"&&b.jsx(Pyt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="shortText"&&b.jsx(Oyt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="longText"&&b.jsx(Dyt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="likert"&&b.jsx(kyt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="dropdown"&&b.jsx(Iyt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="slider"&&b.jsx(Nyt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="radio"&&b.jsx(Y2e,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="checkbox"&&b.jsx(Ayt,{response:e,disabled:u,answer:i,index:r,enumerateQuestions:l}),e.type==="iframe"&&b.jsx(Ryt,{response:e,answer:i,index:r,enumerateQuestions:l})]})}function u$({config:e,location:t,status:n,style:r}){var w;const i=rv(),s=vp(),o=n==null?void 0:n.answer,a=e,l=A.useMemo(()=>{var E;return((E=a==null?void 0:a.response)==null?void 0:E.filter(S=>S.location?S.location===t:t==="belowStimulus"))||[]},[a==null?void 0:a.response,t]),u=Zc(),{updateResponseBlockValidation:c}=nc(),d=Cyt(l,i,o||{}),[f,h]=A.useState(void 0),[p,m]=A.useState(!1),{iframeAnswers:g,iframeProvenance:y}=Qo(E=>E),v=(a==null?void 0:a.provideFeedback)&&(((w=a==null?void 0:a.correctAnswer)==null?void 0:w.length)||0)>0,_=t===((a==null?void 0:a.nextButtonLocation)||"belowStimulus");return A.useEffect(()=>{const E=l.find(S=>S.type==="iframe");if(g&&E){const S=E.id;d.setValues({...d.values,[S]:g[S]})}},[g]),A.useEffect(()=>{y&&h(y)},[y]),A.useEffect(()=>{u(c({location:t,identifier:`${s}_${i}`,status:d.isValid(),values:Gm(d.values),provenanceGraph:f}))},[d.values,s,i,t,u,c,f]),b.jsxs("div",{style:r,children:[l.map((E,S)=>{var x,T;return b.jsx(us.Fragment,{children:E.hidden?"":b.jsxs(b.Fragment,{children:[b.jsx(Myt,{storedAnswer:o?o[E.id]:void 0,answer:{...d.getInputProps(E.id,{type:E.type==="checkbox"?"checkbox":"input"})},response:E,index:S+1}),v&&p&&b.jsx(nt,{children:`The correct answer is: ${(T=(x=a.correctAnswer)==null?void 0:x.find(I=>I.id===E.id))==null?void 0:T.answer}`})]})},`${E.id}-${i}`)}),b.jsxs(Rn,{justify:"right",gap:"xs",children:[v&&_&&b.jsx(hn,{onClick:()=>m(!0),disabled:!d.isValid(),children:"Check Answer"}),_&&b.jsx(oyt,{disabled:v&&!p,setCheckClicked:m,label:a.nextButtonText||"Next"})]})]})}function $yt({columns:e,catColumns:t,onAdd:n,onAddHistogram:r}){const[i,s]=A.useState(!1),[o,a]=A.useState(null),[l,u]=A.useState(null),[c,d]=A.useState(null);return i?b.jsxs(Jr,{children:[b.jsx(nu,{data:e,onChange:f=>a(f),placeholder:"Select X Column"}),b.jsx(nu,{data:e,onChange:f=>u(f),placeholder:"Select Y Column"}),b.jsx(hn,{disabled:!o||!l,onClick:()=>{n(o,l),s(!1)},children:"Create plot"}),b.jsx(nu,{data:t,onChange:f=>d(f),placeholder:"Select X Column"}),b.jsx(hn,{disabled:!c,onClick:()=>{r(c),s(!1)},children:"Add Histogram"})]}):b.jsx(Jr,{children:b.jsx(Fn,{variant:"light",size:150,onClick:()=>s(!0),children:b.jsx(SSe,{size:50})})})}const Lyt=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:$yt},Symbol.toStringTag,{value:"Module"})),K2e=A.createContext(null),nJ=({id:e="waveform",children:t})=>us.createElement("div",{id:e},t),Fyt=["audioRate","audioContext","audioScriptProcessor","autoCenter","backend","backgroundColor","barGap","barHeight","barMinHeight","barRadius","barWidth","closeAudioContext","cursorColor","cursorWidth","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","maxCanvasWidth","mediaControls","mediaType","minPxPerSec","normalize","partialRender","pixelRatio","progressColor","removeMediaElementOnDestroy","renderer","responsive","scrollParent","skipLength","splitChannels","waveColor","autoCenterRate","autoCenterImmediately","drawingContextAttributes","duration","ignoreSilenceMode","rtl","splitChannelsOptions","vertical","xhr"],jyt=e=>e?Fyt.reduce((t,n)=>Object.prototype.hasOwnProperty.call(e,n)?Object.assign(Object.assign({},t),{[n]:e[n]}):t,{}):{};var Byt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function zyt(e,t){return Byt(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})}function Uyt(e){const t=e[0];if(t.some(n=>n>1||n<-1)){const n=t.length;let r=0;for(let i=0;i<n;i++){const s=Math.abs(t[i]);s>r&&(r=s)}for(const i of e)for(let s=0;s<n;s++)i[s]/=r}return e}function Vyt(e,t){return typeof e[0]=="number"&&(e=[e]),Uyt(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}const TB={decode:zyt,createBuffer:Vyt};var Fde=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Hyt(e,t,n){var r,i;return Fde(this,void 0,void 0,function*(){const s=yield fetch(e,n);{const o=(r=s.clone().body)===null||r===void 0?void 0:r.getReader(),a=Number((i=s.headers)===null||i===void 0?void 0:i.get("Content-Length"));let l=0;const u=(c,d)=>Fde(this,void 0,void 0,function*(){if(c)return;l+=(d==null?void 0:d.length)||0;const f=Math.round(l/a*100);return t(f),o==null?void 0:o.read().then(({done:h,value:p})=>u(h,p))});o==null||o.read().then(({done:c,value:d})=>u(c,d))}return s.blob()})}const qyt={fetchBlob:Hyt};class R6{constructor(){this.listeners={},this.on=this.addEventListener,this.un=this.removeEventListener}addEventListener(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r!=null&&r.once){const i=()=>{this.removeEventListener(t,i),this.removeEventListener(t,n)};return this.addEventListener(t,i),i}return()=>this.removeEventListener(t,n)}removeEventListener(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}class Wyt extends R6{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const i=n instanceof Blob?URL.createObjectURL(n):t;this.media.src=i,this.media.load()}destroy(){this.media.pause(),!this.isExternalMedia&&(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function Gyt(e,t,n,r,i=5){let s=()=>{};if(!e)return s;const o=a=>{if(a.button===2)return;a.preventDefault(),a.stopPropagation(),e.style.touchAction="none";let l=a.clientX,u=a.clientY,c=!1;const d=p=>{p.preventDefault(),p.stopPropagation();const m=p.clientX,g=p.clientY;if(c||Math.abs(m-l)>=i||Math.abs(g-u)>=i){const{left:y,top:v}=e.getBoundingClientRect();c||(c=!0,n==null||n(l-y,u-v)),t(m-l,g-u,m-y,g-v),l=m,u=g}},f=p=>{c&&(p.preventDefault(),p.stopPropagation())},h=()=>{e.style.touchAction="",c&&(r==null||r()),s()};document.addEventListener("pointermove",d),document.addEventListener("pointerup",h),document.addEventListener("pointerleave",h),document.addEventListener("click",f,!0),s=()=>{document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",h),document.removeEventListener("pointerleave",h),setTimeout(()=>{document.removeEventListener("click",f,!0)},10)}};return e.addEventListener("pointerdown",o),()=>{s(),e.removeEventListener("pointerdown",o)}}let X2e=class Q2e extends R6{constructor(t,n){super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left,a=s/i.width,l=o/i.height;return[a,l]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n(()=>this.reRender())}),this.resizeObserver.observe(this.scrollContainer)}initDrag(){Gyt(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(){return this.options.height==null?128:isNaN(Number(this.options.height))?this.options.height==="auto"&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight()}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){const n={};return this.timeouts.push(n),r=>{n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(r,t)}}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),i=n.getContext("2d").createLinearGradient(0,0,0,n.height),s=1/(t.length-1);return t.forEach((o,a)=>{const l=a*s;i.addColorStop(l,o)}),i}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:l,height:u}=r.canvas,c=u/2,d=window.devicePixelRatio||1,f=n.barWidth?n.barWidth*d:1,h=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,m=l/(f+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,_=0;for(let w=0;w<=a;w++){const E=Math.round(w*m);if(E>y){const T=Math.round(v*c*i),I=Math.round(_*c*i),P=T+I||1;let k=c-T;n.barAlign==="top"?k=0:n.barAlign==="bottom"&&(k=u-P),r[g](y*(f+h),k,f,P,p),y=E,v=0,_=0}const S=Math.abs(s[w]||0),x=Math.abs(o[w]||0);S>v&&(v=S),x>_&&(_=x)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let f=0,h=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>f){const y=Math.round(h*c*i)||1,v=c+y*(o===0?-1:1);r.lineTo(f,v),f=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(f,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction){n.renderFunction(t,r);return}let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}if(n.barWidth||n.barGap||n.barAlign){this.renderBarWaveform(t,n,r,i);return}this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,l){const u=window.devicePixelRatio||1,c=document.createElement("canvas"),d=t[0].length;c.width=Math.round(r*(o-s)/d),c.height=i*u,c.style.width=`${Math.floor(c.width/u)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/u/d)}px`,a.appendChild(c);const f=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,f),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),l.appendChild(h)}}renderChannel(t,n,r){const i=document.createElement("div"),s=this.getHeight();i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const{scrollLeft:a,scrollWidth:l,clientWidth:u}=this.scrollContainer,c=t[0].length,d=c/l;let f=Math.min(Q2e.MAX_CANVAS_WIDTH,u);if(n.barWidth||n.barGap){const E=n.barWidth||.5,S=n.barGap||E/2,x=E+S;f%x!==0&&(f=Math.floor(f/x)*x)}const h=Math.floor(Math.abs(a)*d),p=Math.floor(h+f*d),m=p-h,g=(E,S)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,E),Math.min(S,c),i,o)},y=this.createDelay(),v=this.createDelay(),_=(E,S)=>{g(E,S),E>0&&y(()=>{_(E-m,S-m)})},w=(E,S)=>{g(E,S),S<c&&v(()=>{w(E+m,S+m)})};_(h,p),p<c&&w(p,p+m)}render(t){this.timeouts.forEach(a=>a.timeout&&clearTimeout(a.timeout)),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.wrapper.style.width="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrolling=i>r;const s=this.options.fillParent&&!this.isScrolling,o=(s?r:i)*n;if(this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrolling?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let a=0;a<t.numberOfChannels;a++){const l=Object.assign(Object.assign({},this.options),this.options.splitChannels[a]);this.renderChannel([t.getChannelData(a)],l,o)}else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),this.renderChannel(a,this.options,o)}this.audioData=t,this.emit("render")}reRender(){if(!this.audioData)return;const t=this.progressWrapper.clientWidth;this.render(this.audioData);const n=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=n-t}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{clientWidth:r,scrollLeft:i,scrollWidth:s}=this.scrollContainer,o=s*t,a=r/2,l=n&&this.options.autoCenter&&!this.isDragging?a:r;if(o>i+l||o<i)if(this.options.autoCenter&&!this.isDragging){const u=a/20;o-(i+a)>=u&&o<i+r?this.scrollContainer.scrollLeft+=u:this.scrollContainer.scrollLeft=o-a}else this.isDragging?this.scrollContainer.scrollLeft=o<i?o-10:o-r+10:this.scrollContainer.scrollLeft=o;{const{scrollLeft:u}=this.scrollContainer,c=u/s,d=(u+r)/s;this.emit("scroll",c,d)}}renderProgress(t,n){if(isNaN(t))return;const r=t*100;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.marginLeft=Math.round(r)===100?`-${this.options.cursorWidth}px`:"",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(t,n)}};X2e.MAX_CANVAS_WIDTH=4e3;let Yyt=class extends R6{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};var CB=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Kyt extends R6{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return CB(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){this.currentSrc=t,fetch(t).then(n=>n.arrayBuffer()).then(n=>this.audioContext.decodeAudioData(n)).then(n=>{this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play()})}_play(){var t;this.paused&&(this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.connect(this.gainNode),this.playedDuration>=this.duration&&(this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,this.playedDuration),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))})}_pause(){var t;this.paused||(this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime)}play(){return CB(this,void 0,void 0,function*(){this._play(),this.emit("play")})}pause(){this._pause(),this.emit("pause")}setSinkId(t){return CB(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){var t,n;return(n=(t=this.bufferNode)===null||t===void 0?void 0:t.playbackRate.value)!==null&&n!==void 0?n:1}set playbackRate(t){this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return this.paused?this.playedDuration:this.playedDuration+this.audioContext.currentTime-this.playStartTime}set currentTime(t){this.emit("seeking"),this.paused?this.playedDuration=t:(this._pause(),this.playedDuration=t,this._play()),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}getGainNode(){return this.gainNode}}var F_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Xyt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let Qyt=class J2e extends Wyt{static create(t){return new J2e(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Kyt:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},Xyt,t),this.timer=new Yyt;const r=n?void 0:this.getMediaElement();this.renderer=new X2e(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc();i?this.load(i,this.options.peaks,this.options.duration):this.options.peaks&&this.options.duration&&this.loadPredecoded()}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),!0),this.emit("timeupdate",t),this.emit("audioprocess",t)}))}initPlayerEvents(){this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t.init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}loadPredecoded(){return F_(this,void 0,void 0,function*(){this.options.peaks&&this.options.duration&&(this.decodedData=TB.createBuffer(this.options.peaks,this.options.duration),yield Promise.resolve(),this.renderDecoded())})}renderDecoded(){return F_(this,void 0,void 0,function*(){this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData))})}loadAudio(t,n,r,i){return F_(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const s=o=>this.emit("loading",o);n=yield qyt.fetchBlob(t,s,this.options.fetchParams)}if(this.setSrc(t,n),i=(yield Promise.resolve(i||this.getDuration()))||(yield new Promise(s=>{this.onceMediaEvent("loadedmetadata",()=>s(this.getDuration()))}))||(yield Promise.resolve(0)),r)this.decodedData=TB.createBuffer(r,i);else if(n){const s=yield n.arrayBuffer();this.decodedData=yield TB.decode(s,this.options.sampleRate)}this.renderDecoded(),this.emit("ready",this.getDuration())})}load(t,n,r){return F_(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return F_(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),l=[],u=Math.round(a.length/n);for(let c=0;c<n;c++){const d=a.slice(c*u,(c+1)*u),f=Math.max(...d);l.push(Math.round(f*r)/r)}s.push(l)}return s}getDuration(){let t=super.getDuration()||0;return(t===0||t===1/0)&&this.decodedData&&(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return F_(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};function Jyt(e){return Qyt.create(e)}function jde(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Zyt=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var evt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Z2e(e){var{container:t,plugins:n=[],onMount:r}=e,i=evt(e,["container","plugins","onMount"]);const s=A.useRef([]),[o,a]=A.useState(null);return A.useEffect(()=>{if(!t)return;let l=[];n&&(l=n.map(jde)),s.current=l;const u=Jyt(Object.assign(Object.assign({container:t},i),{plugins:l}));return r==null||r(u),a(u),()=>{u.destroy()}},[t]),A.useEffect(()=>{if(o){const l=n.map(jde),{disabled:u,enabled:c}=Zyt(s.current,l);s.current=l,u.forEach(d=>{d.name&&(o==null||o.destroyPlugin(d.name))}),c.forEach(d=>{d.name&&(o==null||o.addPlugin(d).initPlugin(d.name))})}},[n]),o}function tvt(e){return!!e&&typeof e!="string"&&typeof e!="number"&&typeof e!="boolean"&&"type"in e&&"props"in e}var nvt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const eAe=e=>{var{children:t,plugins:n=[],onMount:r}=e,i=nvt(e,["children","plugins","onMount"]);const s=A.useMemo(()=>{let a={};return A.Children.forEach(t,l=>{if(typeof l!="object"||l===null||["string","number"].includes(typeof l)||!tvt(l))return;const{props:u,type:c}=l;if(c===nJ){const{id:d}=u;a=jyt(u),a=Object.assign(Object.assign({},a),{container:"#"+d})}}),a},[t]),o=Z2e(Object.assign(Object.assign({plugins:n,onMount:r},i),s));return us.createElement(K2e.Provider,{value:o},t)};eAe.defaultProps={children:null,plugins:[]};function AB(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(o,a)}l((r=r.apply(e,[])).next())})}let rvt=class{constructor(){this.listeners={},this.on=this.addEventListener,this.un=this.removeEventListener}addEventListener(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.removeEventListener(t,i),this.removeEventListener(t,n)};return this.addEventListener(t,i),i}return()=>this.removeEventListener(t,n)}removeEventListener(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}},ivt=class extends rvt{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};const svt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];let ovt=class tAe extends ivt{constructor(t){var n;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3})),this.stream=null,this.mediaRecorder=null}static create(t){return new tAe(t||{})}renderMicStream(t){const n=new AudioContext,r=n.createMediaStreamSource(t),i=n.createAnalyser();r.connect(i);const s=i.frequencyBinCount,o=new Float32Array(s),a=s/n.sampleRate;let l;const u=()=>{i.getFloatTimeDomainData(o),this.wavesurfer&&(this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[o],a)),l=requestAnimationFrame(u)};return u(),()=>{cancelAnimationFrame(l),r==null||r.disconnect(),n==null||n.close()}}startMic(t){return AB(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(i){throw new Error("Error accessing the microphone: "+i.message)}const r=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return AB(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t)),r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||svt.find(s=>MediaRecorder.isTypeSupported(s)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=s=>{s.data.size>0&&i.push(s.data)},r.onstop=()=>{var s;const o=new Blob(i,{type:r.mimeType});this.emit("record-end",o),this.options.renderRecordedAudio!==!1&&((s=this.wavesurfer)===null||s===void 0||s.load(URL.createObjectURL(o)))},r.start(),this.emit("record-start")})}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}stopRecording(){var t;this.isRecording()&&((t=this.mediaRecorder)===null||t===void 0||t.stop())}pauseRecording(){var t;this.isRecording()&&((t=this.mediaRecorder)===null||t===void 0||t.pause(),this.emit("record-pause"))}resumeRecording(){var t;this.isPaused()&&((t=this.mediaRecorder)===null||t===void 0||t.resume(),this.emit("record-resume"))}static getAvailableAudioDevices(){return AB(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){super.destroy(),this.stopRecording(),this.stopMic()}};function nAe({width:e=70,height:t=50}){const n=A.useRef(null),r=A.useCallback(i=>{n.current=i,n.current&&(n.current.registerPlugin(ovt.create({scrollingWaveform:!0,renderRecordedAudio:!1})).startRecording(),n.current.setOptions({height:50,waveColor:"#FA5252"}))},[]);return b.jsx(be,{style:{width:`${e}px`,height:`${t}px`},children:b.jsx(eAe,{onMount:r,children:b.jsx(nJ,{id:"waveform"})})})}function Bde({parameters:e,setAnswer:t}){return A.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(r=>{new MediaRecorder(r).start();const s=new AudioContext,o=s.createMediaStreamSource(r),a=s.createAnalyser();a.minDecibels=-45,o.connect(a);const l=a.frequencyBinCount,u=new Uint8Array(l);let c=!1;const d=()=>{if(!c){a.getByteFrequencyData(u);for(let f=0;f<l;f+=1)u[f]>0&&(c=!0,t({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(d)}};window.requestAnimationFrame(d)})},[t]),b.jsx(dl,{style:{height:"70%",width:"100%"},children:b.jsxs(Jr,{children:[b.jsx(nt,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),b.jsx(nt,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),b.jsx(nt,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please close it now."}),b.jsx(dl,{children:b.jsx(nAe,{height:200,width:400})})]})})}const avt=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Bde,default:Bde},Symbol.toStringTag,{value:"Module"}));function Am(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lvt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xS(e){let t,n,r;e.length!==2?(t=Am,n=(a,l)=>Am(e(a),l),r=(a,l)=>e(a)-l):(t=e===Am||e===lvt?e:uvt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function uvt(){return 0}function rAe(e){return e===null?NaN:+e}function*cvt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const iAe=xS(Am),cy=iAe.right,dvt=iAe.left;xS(rAe).center;function fvt(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function hvt(e,t){const n=fvt(e,t);return n&&Math.sqrt(n)}function ph(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class ll{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=t+s,a=Math.abs(t)<Math.abs(s)?t-(o-s):s-(o-t);a&&(n[r++]=a),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}class zde extends Map{constructor(t,n=aAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(TV(this,t))}has(t){return super.has(TV(this,t))}set(t,n){return super.set(sAe(this,t),n)}delete(t){return super.delete(oAe(this,t))}}class c$ extends Set{constructor(t,n=aAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(TV(this,t))}add(t){return super.add(sAe(this,t))}delete(t){return super.delete(oAe(this,t))}}function TV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function sAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function oAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aAe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pvt(e,t){return Array.from(t,n=>e[n])}function mvt(e=Am){if(e===Am)return lAe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function lAe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gvt=Math.sqrt(50),yvt=Math.sqrt(10),vvt=Math.sqrt(2);function d$(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=gvt?10:s>=yvt?5:s>=vvt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?d$(e,t,n*2):[a,l,u]}function CV(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?d$(t,e,n):d$(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function AV(e,t,n){return t=+t,e=+e,n=+n,d$(e,t,n)[2]}function dy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?AV(t,e,n):AV(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gc(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function IV(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function uAe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?lAe:mvt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));uAe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(BT(e,n,t),i(e[r],s)>0&&BT(e,n,r);o<a;){for(BT(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?BT(e,n,a):(++a,BT(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function BT(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function RV(e,t,n){if(e=Float64Array.from(cvt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IV(e);if(t>=1)return Gc(e);var r,i=(r-1)*t,s=Math.floor(i),o=Gc(uAe(e,s).subarray(0,s+1)),a=IV(e.subarray(s+1));return o+(a-o)*(i-s)}}function cAe(e,t,n=rAe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function dAe(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function fAe(e,t){return RV(e,.5,t)}function*bvt(e){for(const t of e)yield*t}function hAe(e){return Array.from(bvt(e))}function Yl(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function aI(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function _vt(e,...t){e=new c$(e),t=t.map(wvt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function wvt(e){return e instanceof c$?e:new c$(e)}function Evt(...e){const t=new c$;for(const n of e)for(const r of n)t.add(r);return t}var xvt={value:()=>{}};function k6(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uD(n)}function uD(e){this._=e}function Svt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uD.prototype=k6.prototype={constructor:uD,on:function(e,t){var n=this._,r=Svt(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Tvt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Ude(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ude(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uD(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Tvt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ude(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=xvt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var kV="http://www.w3.org/1999/xhtml";const Vde={svg:"http://www.w3.org/2000/svg",xhtml:kV,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function P6(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vde.hasOwnProperty(t)?{space:Vde[t],local:e}:e}function Cvt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===kV&&t.documentElement.namespaceURI===kV?t.createElement(e):t.createElementNS(n,e)}}function Avt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function pAe(e){var t=P6(e);return(t.local?Avt:Cvt)(t)}function Ivt(){}function rJ(e){return e==null?Ivt:function(){return this.querySelector(e)}}function Rvt(e){typeof e!="function"&&(e=rJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new hl(r,this._parents)}function mAe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kvt(){return[]}function gAe(e){return e==null?kvt:function(){return this.querySelectorAll(e)}}function Pvt(e){return function(){return mAe(e.apply(this,arguments))}}function Nvt(e){typeof e=="function"?e=Pvt(e):e=gAe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new hl(r,i)}function yAe(e){return function(){return this.matches(e)}}function vAe(e){return function(t){return t.matches(e)}}var Ovt=Array.prototype.find;function Dvt(e){return function(){return Ovt.call(this.children,e)}}function Mvt(){return this.firstElementChild}function $vt(e){return this.select(e==null?Mvt:Dvt(typeof e=="function"?e:vAe(e)))}var Lvt=Array.prototype.filter;function Fvt(){return Array.from(this.children)}function jvt(e){return function(){return Lvt.call(this.children,e)}}function Bvt(e){return this.selectAll(e==null?Fvt:jvt(typeof e=="function"?e:vAe(e)))}function zvt(e){typeof e!="function"&&(e=yAe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new hl(r,this._parents)}function bAe(e){return new Array(e.length)}function Uvt(){return new hl(this._enter||this._groups.map(bAe),this._parents)}function f$(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}f$.prototype={constructor:f$,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vvt(e){return function(){return e}}function Hvt(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new f$(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function qvt(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new f$(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function Wvt(e){return e.__data__}function Gvt(e,t){if(!arguments.length)return Array.from(this,Wvt);var n=t?qvt:Hvt,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vvt(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=Yvt(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=o[u]=new Array(p),y=l[u]=new Array(f);n(c,d,m,g,y,h,t);for(var v=0,_=0,w,E;v<p;++v)if(w=m[v]){for(v>=_&&(_=v+1);!(E=g[_])&&++_<p;);w._next=E||null}}return o=new hl(o,r),o._enter=a,o._exit=l,o}function Yvt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kvt(){return new hl(this._exit||this._groups.map(bAe),this._parents)}function Xvt(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Qvt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new hl(a,this._parents)}function Jvt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Zvt(e){e||(e=e1t);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new hl(i,this._parents).order()}function e1t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function t1t(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function n1t(){return Array.from(this)}function r1t(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function i1t(){let e=0;for(const t of this)++e;return e}function s1t(){return!this.node()}function o1t(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function a1t(e){return function(){this.removeAttribute(e)}}function l1t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u1t(e,t){return function(){this.setAttribute(e,t)}}function c1t(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function d1t(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function f1t(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function h1t(e,t){var n=P6(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?l1t:a1t:typeof t=="function"?n.local?f1t:d1t:n.local?c1t:u1t)(n,t))}function _Ae(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function p1t(e){return function(){this.style.removeProperty(e)}}function m1t(e,t,n){return function(){this.style.setProperty(e,t,n)}}function g1t(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function y1t(e,t,n){return arguments.length>1?this.each((t==null?p1t:typeof t=="function"?g1t:m1t)(e,t,n??"")):QE(this.node(),e)}function QE(e,t){return e.style.getPropertyValue(t)||_Ae(e).getComputedStyle(e,null).getPropertyValue(t)}function v1t(e){return function(){delete this[e]}}function b1t(e,t){return function(){this[e]=t}}function _1t(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function w1t(e,t){return arguments.length>1?this.each((t==null?v1t:typeof t=="function"?_1t:b1t)(e,t)):this.node()[e]}function wAe(e){return e.trim().split(/^|\s+/)}function iJ(e){return e.classList||new EAe(e)}function EAe(e){this._node=e,this._names=wAe(e.getAttribute("class")||"")}EAe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xAe(e,t){for(var n=iJ(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function SAe(e,t){for(var n=iJ(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function E1t(e){return function(){xAe(this,e)}}function x1t(e){return function(){SAe(this,e)}}function S1t(e,t){return function(){(t.apply(this,arguments)?xAe:SAe)(this,e)}}function T1t(e,t){var n=wAe(e+"");if(arguments.length<2){for(var r=iJ(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?S1t:t?E1t:x1t)(n,t))}function C1t(){this.textContent=""}function A1t(e){return function(){this.textContent=e}}function I1t(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function R1t(e){return arguments.length?this.each(e==null?C1t:(typeof e=="function"?I1t:A1t)(e)):this.node().textContent}function k1t(){this.innerHTML=""}function P1t(e){return function(){this.innerHTML=e}}function N1t(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function O1t(e){return arguments.length?this.each(e==null?k1t:(typeof e=="function"?N1t:P1t)(e)):this.node().innerHTML}function D1t(){this.nextSibling&&this.parentNode.appendChild(this)}function M1t(){return this.each(D1t)}function $1t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L1t(){return this.each($1t)}function F1t(e){var t=typeof e=="function"?e:pAe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j1t(){return null}function B1t(e,t){var n=typeof e=="function"?e:pAe(e),r=t==null?j1t:typeof t=="function"?t:rJ(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function z1t(){var e=this.parentNode;e&&e.removeChild(this)}function U1t(){return this.each(z1t)}function V1t(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function H1t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function q1t(e){return this.select(e?H1t:V1t)}function W1t(e){return arguments.length?this.property("__data__",e):this.node().__data__}function G1t(e){return function(t){e.call(this,t,this.__data__)}}function Y1t(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function K1t(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function X1t(e,t,n){return function(){var r=this.__on,i,s=G1t(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Q1t(e,t,n){var r=Y1t(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?X1t:K1t,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function TAe(e,t,n){var r=_Ae(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function J1t(e,t){return function(){return TAe(this,e,t)}}function Z1t(e,t){return function(){return TAe(this,e,t.apply(this,arguments))}}function ebt(e,t){return this.each((typeof t=="function"?Z1t:J1t)(e,t))}function*tbt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var sJ=[null];function hl(e,t){this._groups=e,this._parents=t}function tk(){return new hl([[document.documentElement]],sJ)}function nbt(){return this}hl.prototype=tk.prototype={constructor:hl,select:Rvt,selectAll:Nvt,selectChild:$vt,selectChildren:Bvt,filter:zvt,data:Gvt,enter:Uvt,exit:Kvt,join:Xvt,merge:Qvt,selection:nbt,order:Jvt,sort:Zvt,call:t1t,nodes:n1t,node:r1t,size:i1t,empty:s1t,each:o1t,attr:h1t,style:y1t,property:w1t,classed:T1t,text:R1t,html:O1t,raise:M1t,lower:L1t,append:F1t,insert:B1t,remove:U1t,clone:q1t,datum:W1t,on:Q1t,dispatch:ebt,[Symbol.iterator]:tbt};function Fo(e){return typeof e=="string"?new hl([[document.querySelector(e)]],[document.documentElement]):new hl([[e]],sJ)}function rbt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Hde(e,t){if(e=rbt(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function ibt(e){return typeof e=="string"?new hl([document.querySelectorAll(e)],[document.documentElement]):new hl([mAe(e)],sJ)}const PV={capture:!0,passive:!1};function NV(e){e.preventDefault(),e.stopImmediatePropagation()}function sbt(e){var t=e.document.documentElement,n=Fo(e).on("dragstart.drag",NV,PV);"onselectstart"in t?n.on("selectstart.drag",NV,PV):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function obt(e,t){var n=e.document.documentElement,r=Fo(e).on("dragstart.drag",null);t&&(r.on("click.drag",NV,PV),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function SS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function iv(){}var ub=.7,JE=1/ub,uE="\\s*([+-]?\\d+)\\s*",lI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",abt=/^#([0-9a-f]{3,8})$/,lbt=new RegExp(`^rgb\\(${uE},${uE},${uE}\\)$`),ubt=new RegExp(`^rgb\\(${Fh},${Fh},${Fh}\\)$`),cbt=new RegExp(`^rgba\\(${uE},${uE},${uE},${lI}\\)$`),dbt=new RegExp(`^rgba\\(${Fh},${Fh},${Fh},${lI}\\)$`),fbt=new RegExp(`^hsl\\(${lI},${Fh},${Fh}\\)$`),hbt=new RegExp(`^hsla\\(${lI},${Fh},${Fh},${lI}\\)$`),qde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SS(iv,cb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wde,formatHex:Wde,formatHex8:pbt,formatHsl:mbt,formatRgb:Gde,toString:Gde});function Wde(){return this.rgb().formatHex()}function pbt(){return this.rgb().formatHex8()}function mbt(){return CAe(this).formatHsl()}function Gde(){return this.rgb().formatRgb()}function cb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=abt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yde(t):n===3?new yo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_N(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_N(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lbt.exec(e))?new yo(t[1],t[2],t[3],1):(t=ubt.exec(e))?new yo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cbt.exec(e))?_N(t[1],t[2],t[3],t[4]):(t=dbt.exec(e))?_N(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fbt.exec(e))?Qde(t[1],t[2]/100,t[3]/100,1):(t=hbt.exec(e))?Qde(t[1],t[2]/100,t[3]/100,t[4]):qde.hasOwnProperty(e)?Yde(qde[e]):e==="transparent"?new yo(NaN,NaN,NaN,0):null}function Yde(e){return new yo(e>>16&255,e>>8&255,e&255,1)}function _N(e,t,n,r){return r<=0&&(e=t=n=NaN),new yo(e,t,n,r)}function oJ(e){return e instanceof iv||(e=cb(e)),e?(e=e.rgb(),new yo(e.r,e.g,e.b,e.opacity)):new yo}function fy(e,t,n,r){return arguments.length===1?oJ(e):new yo(e,t,n,r??1)}function yo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}SS(yo,fy,nk(iv,{brighter(e){return e=e==null?JE:Math.pow(JE,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ub:Math.pow(ub,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yo(z1(this.r),z1(this.g),z1(this.b),h$(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kde,formatHex:Kde,formatHex8:gbt,formatRgb:Xde,toString:Xde}));function Kde(){return`#${R1(this.r)}${R1(this.g)}${R1(this.b)}`}function gbt(){return`#${R1(this.r)}${R1(this.g)}${R1(this.b)}${R1((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xde(){const e=h$(this.opacity);return`${e===1?"rgb(":"rgba("}${z1(this.r)}, ${z1(this.g)}, ${z1(this.b)}${e===1?")":`, ${e})`}`}function h$(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function z1(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function R1(e){return e=z1(e),(e<16?"0":"")+e.toString(16)}function Qde(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hd(e,t,n,r)}function CAe(e){if(e instanceof Hd)return new Hd(e.h,e.s,e.l,e.opacity);if(e instanceof iv||(e=cb(e)),!e)return new Hd;if(e instanceof Hd)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Hd(o,a,l,e.opacity)}function uI(e,t,n,r){return arguments.length===1?CAe(e):new Hd(e,t,n,r??1)}function Hd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}SS(Hd,uI,nk(iv,{brighter(e){return e=e==null?JE:Math.pow(JE,e),new Hd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ub:Math.pow(ub,e),new Hd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yo(IB(e>=240?e-240:e+120,i,r),IB(e,i,r),IB(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hd(Jde(this.h),wN(this.s),wN(this.l),h$(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=h$(this.opacity);return`${e===1?"hsl(":"hsla("}${Jde(this.h)}, ${wN(this.s)*100}%, ${wN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jde(e){return e=(e||0)%360,e<0?e+360:e}function wN(e){return Math.max(0,Math.min(1,e||0))}function IB(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const AAe=Math.PI/180,IAe=180/Math.PI,p$=18,RAe=.96422,kAe=1,PAe=.82521,NAe=4/29,cE=6/29,OAe=3*cE*cE,ybt=cE*cE*cE;function DAe(e){if(e instanceof jh)return new jh(e.l,e.a,e.b,e.opacity);if(e instanceof fm)return MAe(e);e instanceof yo||(e=oJ(e));var t=NB(e.r),n=NB(e.g),r=NB(e.b),i=RB((.2225045*t+.7168786*n+.0606169*r)/kAe),s,o;return t===n&&n===r?s=o=i:(s=RB((.4360747*t+.3850649*n+.1430804*r)/RAe),o=RB((.0139322*t+.0971045*n+.7141733*r)/PAe)),new jh(116*i-16,500*(s-i),200*(i-o),e.opacity)}function m$(e,t,n,r){return arguments.length===1?DAe(e):new jh(e,t,n,r??1)}function jh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}SS(jh,m$,nk(iv,{brighter(e){return new jh(this.l+p$*(e??1),this.a,this.b,this.opacity)},darker(e){return new jh(this.l-p$*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=RAe*kB(t),e=kAe*kB(e),n=PAe*kB(n),new yo(PB(3.1338561*t-1.6168667*e-.4906146*n),PB(-.9787684*t+1.9161415*e+.033454*n),PB(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function RB(e){return e>ybt?Math.pow(e,1/3):e/OAe+NAe}function kB(e){return e>cE?e*e*e:OAe*(e-NAe)}function PB(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function NB(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vbt(e){if(e instanceof fm)return new fm(e.h,e.c,e.l,e.opacity);if(e instanceof jh||(e=DAe(e)),e.a===0&&e.b===0)return new fm(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*IAe;return new fm(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function g$(e,t,n,r){return arguments.length===1?vbt(e):new fm(e,t,n,r??1)}function fm(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function MAe(e){if(isNaN(e.h))return new jh(e.l,0,0,e.opacity);var t=e.h*AAe;return new jh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}SS(fm,g$,nk(iv,{brighter(e){return new fm(this.h,this.c,this.l+p$*(e??1),this.opacity)},darker(e){return new fm(this.h,this.c,this.l-p$*(e??1),this.opacity)},rgb(){return MAe(this).rgb()}}));var $Ae=-.14861,aJ=1.78277,lJ=-.29227,N6=-.90649,cI=1.97294,Zde=cI*N6,efe=cI*aJ,tfe=aJ*lJ-N6*$Ae;function bbt(e){if(e instanceof U1)return new U1(e.h,e.s,e.l,e.opacity);e instanceof yo||(e=oJ(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(tfe*r+Zde*t-efe*n)/(tfe+Zde-efe),s=r-i,o=(cI*(n-i)-lJ*s)/N6,a=Math.sqrt(o*o+s*s)/(cI*i*(1-i)),l=a?Math.atan2(o,s)*IAe-120:NaN;return new U1(l<0?l+360:l,a,i,e.opacity)}function OV(e,t,n,r){return arguments.length===1?bbt(e):new U1(e,t,n,r??1)}function U1(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}SS(U1,OV,nk(iv,{brighter(e){return e=e==null?JE:Math.pow(JE,e),new U1(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ub:Math.pow(ub,e),new U1(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*AAe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new yo(255*(t+n*($Ae*r+aJ*i)),255*(t+n*(lJ*r+N6*i)),255*(t+n*(cI*r)),this.opacity)}}));function LAe(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function FAe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return LAe((n-r/t)*t,o,i,s,a)}}function jAe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return LAe((n-r/t)*t,i,s,o,a)}}const O6=e=>()=>e;function BAe(e,t){return function(n){return e+n*t}}function _bt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function D6(e,t){var n=t-e;return n?BAe(e,n>180||n<-180?n-360*Math.round(n/360):n):O6(isNaN(e)?t:e)}function wbt(e){return(e=+e)==1?vo:function(t,n){return n-t?_bt(t,n,e):O6(isNaN(t)?n:t)}}function vo(e,t){var n=t-e;return n?BAe(e,n):O6(isNaN(e)?t:e)}const dI=function e(t){var n=wbt(t);function r(i,s){var o=n((i=fy(i)).r,(s=fy(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=vo(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function zAe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=fy(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}var Ebt=zAe(FAe),xbt=zAe(jAe);function uJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function UAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sbt(e,t){return(UAe(t)?uJ:VAe)(e,t)}function VAe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=gg(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function HAe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Rc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qAe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=gg(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var DV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OB=new RegExp(DV.source,"g");function Tbt(e){return function(){return e}}function Cbt(e){return function(t){return e(t)+""}}function cJ(e,t){var n=DV.lastIndex=OB.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=DV.exec(e))&&(i=OB.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Rc(r,i)})),n=OB.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Cbt(l[0].x):Tbt(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function gg(e,t){var n=typeof t,r;return t==null||n==="boolean"?O6(t):(n==="number"?Rc:n==="string"?(r=cb(t))?(t=r,dI):cJ:t instanceof cb?dI:t instanceof Date?HAe:UAe(t)?uJ:Array.isArray(t)?VAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qAe:Rc)(e,t)}function Abt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Ibt(e,t){var n=D6(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function rk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var nfe=180/Math.PI,MV={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function WAe(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*nfe,skewX:Math.atan(l)*nfe,scaleX:o,scaleY:a}}var EN;function Rbt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?MV:WAe(t.a,t.b,t.c,t.d,t.e,t.f)}function kbt(e){return e==null||(EN||(EN=document.createElementNS("http://www.w3.org/2000/svg","g")),EN.setAttribute("transform",e),!(e=EN.transform.baseVal.consolidate()))?MV:(e=e.matrix,WAe(e.a,e.b,e.c,e.d,e.e,e.f))}function GAe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Rc(u,d)},{i:m-2,x:Rc(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Rc(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Rc(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Rc(u,d)},{i:m-2,x:Rc(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var YAe=GAe(Rbt,"px, ","px)","deg)"),KAe=GAe(kbt,", ",")",")"),Pbt=1e-12;function rfe(e){return((e=Math.exp(e))+1/e)/2}function Nbt(e){return((e=Math.exp(e))-1/e)/2}function Obt(e){return((e=Math.exp(2*e))-1)/(e+1)}const Dbt=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,p=d-l,m=h*h+p*p,g,y;if(m<Pbt)y=Math.log(f/u)/t,g=function(x){return[a+x*h,l+x*p,u*Math.exp(t*x*y)]};else{var v=Math.sqrt(m),_=(f*f-u*u+r*m)/(2*u*n*v),w=(f*f-u*u-r*m)/(2*f*n*v),E=Math.log(Math.sqrt(_*_+1)-_),S=Math.log(Math.sqrt(w*w+1)-w);y=(S-E)/t,g=function(x){var T=x*y,I=rfe(E),P=u/(n*v)*(I*Obt(t*T+E)-Nbt(E));return[a+P*h,l+P*p,u*I/rfe(t*T+E)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);function XAe(e){return function(t,n){var r=e((t=uI(t)).h,(n=uI(n)).h),i=vo(t.s,n.s),s=vo(t.l,n.l),o=vo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const Mbt=XAe(D6);var $bt=XAe(vo);function Lbt(e,t){var n=vo((e=m$(e)).l,(t=m$(t)).l),r=vo(e.a,t.a),i=vo(e.b,t.b),s=vo(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function QAe(e){return function(t,n){var r=e((t=g$(t)).h,(n=g$(n)).h),i=vo(t.c,n.c),s=vo(t.l,n.l),o=vo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const Fbt=QAe(D6);var jbt=QAe(vo);function JAe(e){return function t(n){n=+n;function r(i,s){var o=e((i=OV(i)).h,(s=OV(s)).h),a=vo(i.s,s.s),l=vo(i.l,s.l),u=vo(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const Bbt=JAe(D6);var zbt=JAe(vo);function dJ(e,t){t===void 0&&(t=e,e=gg);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Ubt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Vbt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:gg,interpolateArray:Sbt,interpolateBasis:FAe,interpolateBasisClosed:jAe,interpolateCubehelix:Bbt,interpolateCubehelixLong:zbt,interpolateDate:HAe,interpolateDiscrete:Abt,interpolateHcl:Fbt,interpolateHclLong:jbt,interpolateHsl:Mbt,interpolateHslLong:$bt,interpolateHue:Ibt,interpolateLab:Lbt,interpolateNumber:Rc,interpolateNumberArray:uJ,interpolateObject:qAe,interpolateRgb:dI,interpolateRgbBasis:Ebt,interpolateRgbBasisClosed:xbt,interpolateRound:rk,interpolateString:cJ,interpolateTransformCss:YAe,interpolateTransformSvg:KAe,interpolateZoom:Dbt,piecewise:dJ,quantize:Ubt},Symbol.toStringTag,{value:"Module"}));var ZE=0,DC=0,zT=0,ZAe=1e3,y$,MC,v$=0,db=0,M6=0,fI=typeof performance=="object"&&performance.now?performance:Date,eIe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $6(){return db||(eIe(Hbt),db=fI.now()+M6)}function Hbt(){db=0}function hI(){this._call=this._time=this._next=null}hI.prototype=fJ.prototype={constructor:hI,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$6():+n)+(t==null?0:+t),!this._next&&MC!==this&&(MC?MC._next=this:y$=this,MC=this),this._call=e,this._time=n,$V()},stop:function(){this._call&&(this._call=null,this._time=1/0,$V())}};function fJ(e,t,n){var r=new hI;return r.restart(e,t,n),r}function qbt(){$6(),++ZE;for(var e=y$,t;e;)(t=db-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ZE}function ife(){db=(v$=fI.now())+M6,ZE=DC=0;try{qbt()}finally{ZE=0,Gbt(),db=0}}function Wbt(){var e=fI.now(),t=e-v$;t>ZAe&&(M6-=t,v$=e)}function Gbt(){for(var e,t=y$,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:y$=n);MC=e,$V(r)}function $V(e){if(!ZE){DC&&(DC=clearTimeout(DC));var t=e-db;t>24?(e<1/0&&(DC=setTimeout(ife,e-fI.now()-M6)),zT&&(zT=clearInterval(zT))):(zT||(v$=fI.now(),zT=setInterval(Wbt,ZAe)),ZE=1,eIe(ife))}}function sfe(e,t,n){var r=new hI;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function Ybt(e,t,n){var r=new hI,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,o,a){o=+o,a=a==null?$6():+a,r._restart(function l(u){u+=i,r._restart(l,i+=o,a),s(u)},o,a)},r.restart(e,t,n),r)}var Kbt=k6("start","end","cancel","interrupt"),Xbt=[],tIe=0,ofe=1,LV=2,cD=3,afe=4,FV=5,dD=6;function L6(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Qbt(e,n,{name:t,index:r,group:i,on:Kbt,tween:Xbt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tIe})}function hJ(e,t){var n=Mf(e,t);if(n.state>tIe)throw new Error("too late; already scheduled");return n}function _p(e,t){var n=Mf(e,t);if(n.state>cD)throw new Error("too late; already running");return n}function Mf(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qbt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=fJ(s,0,n.time);function s(u){n.state=ofe,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==ofe)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===cD)return sfe(o);h.state===afe?(h.state=dD,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=dD,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(sfe(function(){n.state===cD&&(n.state=afe,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=LV,n.on.call("start",e,e.__data__,n.index,n.group),n.state===LV){for(n.state=cD,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=FV,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===FV&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=dD,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function jV(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>LV&&r.state<FV,r.state=dD,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Jbt(e){return this.each(function(){jV(this,e)})}function Zbt(e,t){var n,r;return function(){var i=_p(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function e_t(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_p(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function t_t(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Mf(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Zbt:e_t)(n,e,t))}function pJ(e,t,n){var r=e._id;return e.each(function(){var i=_p(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Mf(i,r).value[t]}}function nIe(e,t){var n;return(typeof t=="number"?Rc:t instanceof cb?dI:(n=cb(t))?(t=n,dI):cJ)(e,t)}function n_t(e){return function(){this.removeAttribute(e)}}function r_t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function i_t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function s_t(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function o_t(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function a_t(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function l_t(e,t){var n=P6(e),r=n==="transform"?KAe:nIe;return this.attrTween(e,typeof t=="function"?(n.local?a_t:o_t)(n,r,pJ(this,"attr."+e,t)):t==null?(n.local?r_t:n_t)(n):(n.local?s_t:i_t)(n,r,t))}function u_t(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function c_t(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function d_t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&c_t(e,s)),n}return i._value=t,i}function f_t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&u_t(e,s)),n}return i._value=t,i}function h_t(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=P6(e);return this.tween(n,(r.local?d_t:f_t)(r,t))}function p_t(e,t){return function(){hJ(this,e).delay=+t.apply(this,arguments)}}function m_t(e,t){return t=+t,function(){hJ(this,e).delay=t}}function g_t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?p_t:m_t)(t,e)):Mf(this.node(),t).delay}function y_t(e,t){return function(){_p(this,e).duration=+t.apply(this,arguments)}}function v_t(e,t){return t=+t,function(){_p(this,e).duration=t}}function b_t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?y_t:v_t)(t,e)):Mf(this.node(),t).duration}function __t(e,t){if(typeof t!="function")throw new Error;return function(){_p(this,e).ease=t}}function w_t(e){var t=this._id;return arguments.length?this.each(__t(t,e)):Mf(this.node(),t).ease}function E_t(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;_p(this,e).ease=n}}function x_t(e){if(typeof e!="function")throw new Error;return this.each(E_t(this._id,e))}function S_t(e){typeof e!="function"&&(e=yAe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Ym(r,this._parents,this._name,this._id)}function T_t(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new Ym(o,this._parents,this._name,this._id)}function C_t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function A_t(e,t,n){var r,i,s=C_t(t)?hJ:_p;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function I_t(e,t){var n=this._id;return arguments.length<2?Mf(this.node(),n).on.on(e):this.each(A_t(n,e,t))}function R_t(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function k_t(){return this.on("end.remove",R_t(this._id))}function P_t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rJ(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,L6(u[f],t,n,f,u,Mf(c,n)));return new Ym(s,this._parents,t,n)}function N_t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gAe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Mf(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&L6(h,t,n,m,f,p);s.push(f),o.push(c)}return new Ym(s,o,t,n)}var O_t=tk.prototype.constructor;function D_t(){return new O_t(this._groups,this._parents)}function M_t(e,t){var n,r,i;return function(){var s=QE(this,e),o=(this.style.removeProperty(e),QE(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function rIe(e){return function(){this.style.removeProperty(e)}}function $_t(e,t,n){var r,i=n+"",s;return function(){var o=QE(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function L_t(e,t,n){var r,i,s;return function(){var o=QE(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),QE(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function F_t(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=_p(this,e),u=l.on,c=l.value[s]==null?a||(a=rIe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function j_t(e,t,n){var r=(e+="")=="transform"?YAe:nIe;return t==null?this.styleTween(e,M_t(e,r)).on("end.style."+e,rIe(e)):typeof t=="function"?this.styleTween(e,L_t(e,r,pJ(this,"style."+e,t))).each(F_t(this._id,e)):this.styleTween(e,$_t(e,r,t),n).on("end.style."+e,null)}function B_t(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function z_t(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&B_t(e,o,n)),r}return s._value=t,s}function U_t(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,z_t(e,t,n??""))}function V_t(e){return function(){this.textContent=e}}function H_t(e){return function(){var t=e(this);this.textContent=t??""}}function q_t(e){return this.tween("text",typeof e=="function"?H_t(pJ(this,"text",e)):V_t(e==null?"":e+""))}function W_t(e){return function(t){this.textContent=e.call(this,t)}}function G_t(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&W_t(i)),t}return r._value=e,r}function Y_t(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G_t(e))}function K_t(){for(var e=this._name,t=this._id,n=iIe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Mf(l,t);L6(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ym(r,this._parents,e,n)}function X_t(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=_p(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var Q_t=0;function Ym(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function iIe(){return++Q_t}var zp=tk.prototype;Ym.prototype={constructor:Ym,select:P_t,selectAll:N_t,selectChild:zp.selectChild,selectChildren:zp.selectChildren,filter:S_t,merge:T_t,selection:D_t,transition:K_t,call:zp.call,nodes:zp.nodes,node:zp.node,size:zp.size,empty:zp.empty,each:zp.each,on:I_t,attr:l_t,attrTween:h_t,style:j_t,styleTween:U_t,text:q_t,textTween:Y_t,remove:k_t,tween:t_t,delay:g_t,duration:b_t,ease:w_t,easeVarying:x_t,end:X_t,[Symbol.iterator]:zp[Symbol.iterator]};function J_t(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Z_t={time:null,delay:0,duration:250,ease:J_t};function ewt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function twt(e){var t,n;e instanceof Ym?(t=e._id,e=e._name):(t=iIe(),(n=Z_t).time=$6(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&L6(l,e,t,u,o,n||ewt(l,t));return new Ym(r,this._parents,e,t)}tk.prototype.interrupt=Jbt;tk.prototype.transition=twt;const DB=e=>()=>e;function nwt(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function rwt(e){e.stopImmediatePropagation()}function MB(e){e.preventDefault(),e.stopImmediatePropagation()}var lfe={name:"drag"},$B={name:"space"},j_={name:"handle"},B_={name:"center"};const{abs:ufe,max:fa,min:ha}=Math;function cfe(e){return[+e[0],+e[1]]}function BV(e){return[cfe(e[0]),cfe(e[1])]}var fD={name:"x",handles:["w","e"].map(pI),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},hD={name:"y",handles:["n","s"].map(pI),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},iwt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(pI),input:function(e){return e==null?null:BV(e)},output:function(e){return e}},Up={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},dfe={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ffe={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},swt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},owt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function pI(e){return{type:e}}function awt(e){return!e.ctrlKey&&!e.button}function lwt(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function uwt(){return navigator.maxTouchPoints||"ontouchstart"in this}function LB(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function cwt(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function dwt(){return mJ(fD)}function fwt(){return mJ(hD)}function hwt(){return mJ(iwt)}function mJ(e){var t=lwt,n=awt,r=uwt,i=!0,s=k6("start","brush","end"),o=6,a;function l(g){var y=g.property("__brush",m).selectAll(".overlay").data([pI("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Up.overlay).merge(y).each(function(){var _=LB(this).extent;Fo(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),g.selectAll(".selection").data([pI("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Up.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=g.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Up[_.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,y,v){g.tween?g.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,w=_.__brush,E=c(_,arguments),S=w.selection,x=e.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),T=gg(S,x);function I(P){w.selection=P===1&&x===null?null:T(P),u.call(_),E.brush()}return S!==null&&x!==null?I:I(1)}):g.each(function(){var _=this,w=arguments,E=_.__brush,S=e.input(typeof y=="function"?y.apply(_,w):y,E.extent),x=c(_,w).beforestart();jV(_),E.selection=S===null?null:S,u.call(_),x.start(v).brush(v).end(v)})},l.clear=function(g,y){l.move(g,null,y)};function u(){var g=Fo(this),y=LB(this).selection;y?(g.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+o:o})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(g,y,v){var _=g.__brush.emitter;return _&&(!v||!_.clean)?_:new d(g,y,v)}function d(g,y,v){this.that=g,this.args=y,this.state=g.__brush,this.active=0,this.clean=v}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,y){return this.starting?(this.starting=!1,this.emit("start",g,y)):this.emit("brush",g),this},brush:function(g,y){return this.emit("brush",g,y),this},end:function(g,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,y)),this},emit:function(g,y,v){var _=Fo(this.that).datum();s.call(g,this.that,new nwt(g,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function f(g){if(a&&!g.touches||!n.apply(this,arguments))return;var y=this,v=g.target.__data__.type,_=(i&&g.metaKey?v="overlay":v)==="selection"?lfe:i&&g.altKey?B_:j_,w=e===hD?null:swt[v],E=e===fD?null:owt[v],S=LB(y),x=S.extent,T=S.selection,I=x[0][0],P,k,D=x[0][1],R,M,$=x[1][0],L,B,z=x[1][1],U,N,V=0,W=0,F,H=w&&E&&i&&g.shiftKey,G,X,ie=Array.from(g.touches||[g],me=>{const ne=me.identifier;return me=Hde(me,y),me.point0=me.slice(),me.identifier=ne,me});jV(y);var oe=c(y,arguments,!0).beforestart();if(v==="overlay"){T&&(F=!0);const me=[ie[0],ie[1]||ie[0]];S.selection=T=[[P=e===hD?I:ha(me[0][0],me[1][0]),R=e===fD?D:ha(me[0][1],me[1][1])],[L=e===hD?$:fa(me[0][0],me[1][0]),U=e===fD?z:fa(me[0][1],me[1][1])]],ie.length>1&&De(g)}else P=T[0][0],R=T[0][1],L=T[1][0],U=T[1][1];k=P,M=R,B=L,N=U;var se=Fo(y).attr("pointer-events","none"),le=se.selectAll(".overlay").attr("cursor",Up[v]);if(g.touches)oe.moved=de,oe.ended=Fe;else{var Se=Fo(g.view).on("mousemove.brush",de,!0).on("mouseup.brush",Fe,!0);i&&Se.on("keydown.brush",Be,!0).on("keyup.brush",je,!0),sbt(g.view)}u.call(y),oe.start(g,_.name);function de(me){for(const ne of me.changedTouches||[me])for(const Ee of ie)Ee.identifier===ne.identifier&&(Ee.cur=Hde(ne,y));if(H&&!G&&!X&&ie.length===1){const ne=ie[0];ufe(ne.cur[0]-ne[0])>ufe(ne.cur[1]-ne[1])?X=!0:G=!0}for(const ne of ie)ne.cur&&(ne[0]=ne.cur[0],ne[1]=ne.cur[1]);F=!0,MB(me),De(me)}function De(me){const ne=ie[0],Ee=ne.point0;var Pe;switch(V=ne[0]-Ee[0],W=ne[1]-Ee[1],_){case $B:case lfe:{w&&(V=fa(I-P,ha($-L,V)),k=P+V,B=L+V),E&&(W=fa(D-R,ha(z-U,W)),M=R+W,N=U+W);break}case j_:{ie[1]?(w&&(k=fa(I,ha($,ie[0][0])),B=fa(I,ha($,ie[1][0])),w=1),E&&(M=fa(D,ha(z,ie[0][1])),N=fa(D,ha(z,ie[1][1])),E=1)):(w<0?(V=fa(I-P,ha($-P,V)),k=P+V,B=L):w>0&&(V=fa(I-L,ha($-L,V)),k=P,B=L+V),E<0?(W=fa(D-R,ha(z-R,W)),M=R+W,N=U):E>0&&(W=fa(D-U,ha(z-U,W)),M=R,N=U+W));break}case B_:{w&&(k=fa(I,ha($,P-V*w)),B=fa(I,ha($,L+V*w))),E&&(M=fa(D,ha(z,R-W*E)),N=fa(D,ha(z,U+W*E)));break}}B<k&&(w*=-1,Pe=P,P=L,L=Pe,Pe=k,k=B,B=Pe,v in dfe&&le.attr("cursor",Up[v=dfe[v]])),N<M&&(E*=-1,Pe=R,R=U,U=Pe,Pe=M,M=N,N=Pe,v in ffe&&le.attr("cursor",Up[v=ffe[v]])),S.selection&&(T=S.selection),G&&(k=T[0][0],B=T[1][0]),X&&(M=T[0][1],N=T[1][1]),(T[0][0]!==k||T[0][1]!==M||T[1][0]!==B||T[1][1]!==N)&&(S.selection=[[k,M],[B,N]],u.call(y),oe.brush(me,_.name))}function Fe(me){if(rwt(me),me.touches){if(me.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else obt(me.view,F),Se.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);se.attr("pointer-events","all"),le.attr("cursor",Up.overlay),S.selection&&(T=S.selection),cwt(T)&&(S.selection=null,u.call(y)),oe.end(me,_.name)}function Be(me){switch(me.keyCode){case 16:{H=w&&E;break}case 18:{_===j_&&(w&&(L=B-V*w,P=k+V*w),E&&(U=N-W*E,R=M+W*E),_=B_,De(me));break}case 32:{(_===j_||_===B_)&&(w<0?L=B-V:w>0&&(P=k-V),E<0?U=N-W:E>0&&(R=M-W),_=$B,le.attr("cursor",Up.selection),De(me));break}default:return}MB(me)}function je(me){switch(me.keyCode){case 16:{H&&(G=X=H=!1,De(me));break}case 18:{_===B_&&(w<0?L=B:w>0&&(P=k),E<0?U=N:E>0&&(R=M),_=j_,De(me));break}case 32:{_===$B&&(me.altKey?(w&&(L=B-V*w,P=k+V*w),E&&(U=N-W*E,R=M+W*E),_=B_):(w<0?L=B:w>0&&(P=k),E<0?U=N:E>0&&(R=M),_=j_),le.attr("cursor",Up[v]),De(me));break}default:return}MB(me)}}function h(g){c(this,arguments).moved(g)}function p(g){c(this,arguments).ended(g)}function m(){var g=this.__brush||{selection:null};return g.extent=BV(t.apply(this,arguments)),g.dim=e,g}return l.extent=function(g){return arguments.length?(t=typeof g=="function"?g:DB(BV(g)),l):t},l.filter=function(g){return arguments.length?(n=typeof g=="function"?g:DB(!!g),l):n},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:DB(!!g),l):r},l.handleSize=function(g){return arguments.length?(o=+g,l):o},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=s.on.apply(s,arguments);return g===s?l:g},l}const zV=Math.PI,UV=2*zV,Xv=1e-6,pwt=UV-Xv;function sIe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function mwt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sIe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let gJ=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sIe:mwt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,u=i-n,c=o-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Xv)if(!(Math.abs(d*l-u*c)>Xv)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=l*l+u*u,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(f),_=s*Math.tan((zV-Math.acos((m+f-g)/(2*y*v)))/2),w=_/v,E=_/y;Math.abs(w-1)>Xv&&this._append`L${t+w*c},${n+w*d}`,this._append`A${s},${s},0,0,${+(d*h>c*p)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Xv||Math.abs(this._y1-c)>Xv)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%UV+UV),f>pwt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Xv&&this._append`A${r},${r},0,${+(f>=zV)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function F6(){return new gJ}F6.prototype=gJ.prototype;const Im=11102230246251565e-32,pa=134217729,gwt=(3+8*Im)*Im;function FB(e,t,n,r,i){let s,o,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(s=u,u=t[++d]):(s=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(o=u+s,a=s-(o-u),u=t[++d]):(o=c+s,a=s-(o-c),c=r[++f]),s=o,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d]):(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f]),s=o,a!==0&&(i[h++]=a);for(;d<e;)o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d],s=o,a!==0&&(i[h++]=a);for(;f<n;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f],s=o,a!==0&&(i[h++]=a);return(s!==0||h===0)&&(i[h++]=s),h}function ywt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function ik(e){return new Float64Array(e)}const vwt=(3+16*Im)*Im,bwt=(2+12*Im)*Im,_wt=(9+64*Im)*Im*Im,z_=ik(4),hfe=ik(8),pfe=ik(12),mfe=ik(16),Wa=ik(4);function wwt(e,t,n,r,i,s,o){let a,l,u,c,d,f,h,p,m,g,y,v,_,w,E,S,x,T;const I=e-i,P=n-i,k=t-s,D=r-s;w=I*D,f=pa*I,h=f-(f-I),p=I-h,f=pa*D,m=f-(f-D),g=D-m,E=p*g-(w-h*m-p*m-h*g),S=k*P,f=pa*k,h=f-(f-k),p=k-h,f=pa*P,m=f-(f-P),g=P-m,x=p*g-(S-h*m-p*m-h*g),y=E-x,d=E-y,z_[0]=E-(y+d)+(d-x),v=w+y,d=v-w,_=w-(v-d)+(y-d),y=_-S,d=_-y,z_[1]=_-(y+d)+(d-S),T=v+y,d=T-v,z_[2]=v-(T-d)+(y-d),z_[3]=T;let R=ywt(4,z_),M=bwt*o;if(R>=M||-R>=M||(d=e-I,a=e-(I+d)+(d-i),d=n-P,u=n-(P+d)+(d-i),d=t-k,l=t-(k+d)+(d-s),d=r-D,c=r-(D+d)+(d-s),a===0&&l===0&&u===0&&c===0)||(M=_wt*o+gwt*Math.abs(R),R+=I*c+D*a-(k*u+P*l),R>=M||-R>=M))return R;w=a*D,f=pa*a,h=f-(f-a),p=a-h,f=pa*D,m=f-(f-D),g=D-m,E=p*g-(w-h*m-p*m-h*g),S=l*P,f=pa*l,h=f-(f-l),p=l-h,f=pa*P,m=f-(f-P),g=P-m,x=p*g-(S-h*m-p*m-h*g),y=E-x,d=E-y,Wa[0]=E-(y+d)+(d-x),v=w+y,d=v-w,_=w-(v-d)+(y-d),y=_-S,d=_-y,Wa[1]=_-(y+d)+(d-S),T=v+y,d=T-v,Wa[2]=v-(T-d)+(y-d),Wa[3]=T;const $=FB(4,z_,4,Wa,hfe);w=I*c,f=pa*I,h=f-(f-I),p=I-h,f=pa*c,m=f-(f-c),g=c-m,E=p*g-(w-h*m-p*m-h*g),S=k*u,f=pa*k,h=f-(f-k),p=k-h,f=pa*u,m=f-(f-u),g=u-m,x=p*g-(S-h*m-p*m-h*g),y=E-x,d=E-y,Wa[0]=E-(y+d)+(d-x),v=w+y,d=v-w,_=w-(v-d)+(y-d),y=_-S,d=_-y,Wa[1]=_-(y+d)+(d-S),T=v+y,d=T-v,Wa[2]=v-(T-d)+(y-d),Wa[3]=T;const L=FB($,hfe,4,Wa,pfe);w=a*c,f=pa*a,h=f-(f-a),p=a-h,f=pa*c,m=f-(f-c),g=c-m,E=p*g-(w-h*m-p*m-h*g),S=l*u,f=pa*l,h=f-(f-l),p=l-h,f=pa*u,m=f-(f-u),g=u-m,x=p*g-(S-h*m-p*m-h*g),y=E-x,d=E-y,Wa[0]=E-(y+d)+(d-x),v=w+y,d=v-w,_=w-(v-d)+(y-d),y=_-S,d=_-y,Wa[1]=_-(y+d)+(d-S),T=v+y,d=T-v,Wa[2]=v-(T-d)+(y-d),Wa[3]=T;const B=FB(L,pfe,4,Wa,mfe);return mfe[B-1]}function xN(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,u=Math.abs(o+a);return Math.abs(l)>=vwt*u?l:-wwt(e,t,n,r,i,s,u)}const gfe=Math.pow(2,-52),SN=new Uint32Array(512);class b${static from(t,n=Cwt,r=Awt){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=n(a),s[2*o+1]=r(a)}return new b$(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let I=0;I<o;I++){const P=t[2*I],k=t[2*I+1];P<a&&(a=P),k<l&&(l=k),P>u&&(u=P),k>c&&(c=k),this._ids[I]=I}const d=(a+u)/2,f=(l+c)/2;let h,p,m;for(let I=0,P=1/0;I<o;I++){const k=jB(d,f,t[2*I],t[2*I+1]);k<P&&(h=I,P=k)}const g=t[2*h],y=t[2*h+1];for(let I=0,P=1/0;I<o;I++){if(I===h)continue;const k=jB(g,y,t[2*I],t[2*I+1]);k<P&&k>0&&(p=I,P=k)}let v=t[2*p],_=t[2*p+1],w=1/0;for(let I=0;I<o;I++){if(I===h||I===p)continue;const P=Swt(g,y,v,_,t[2*I],t[2*I+1]);P<w&&(m=I,w=P)}let E=t[2*m],S=t[2*m+1];if(w===1/0){for(let k=0;k<o;k++)this._dists[k]=t[2*k]-t[0]||t[2*k+1]-t[1];Lw(this._ids,this._dists,0,o-1);const I=new Uint32Array(o);let P=0;for(let k=0,D=-1/0;k<o;k++){const R=this._ids[k],M=this._dists[R];M>D&&(I[P++]=R,D=M)}this.hull=I.subarray(0,P),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(xN(g,y,v,_,E,S)<0){const I=p,P=v,k=_;p=m,v=E,_=S,m=I,E=P,S=k}const x=Twt(g,y,v,_,E,S);this._cx=x.x,this._cy=x.y;for(let I=0;I<o;I++)this._dists[I]=jB(t[2*I],t[2*I+1],x.x,x.y);Lw(this._ids,this._dists,0,o-1),this._hullStart=h;let T=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,s.fill(-1),s[this._hashKey(g,y)]=h,s[this._hashKey(v,_)]=p,s[this._hashKey(E,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let I=0,P,k;I<this._ids.length;I++){const D=this._ids[I],R=t[2*D],M=t[2*D+1];if(I>0&&Math.abs(R-P)<=gfe&&Math.abs(M-k)<=gfe||(P=R,k=M,D===h||D===p||D===m))continue;let $=0;for(let N=0,V=this._hashKey(R,M);N<this._hashSize&&($=s[(V+N)%this._hashSize],!($!==-1&&$!==r[$]));N++);$=n[$];let L=$,B;for(;B=r[L],xN(R,M,t[2*L],t[2*L+1],t[2*B],t[2*B+1])>=0;)if(L=B,L===$){L=-1;break}if(L===-1)continue;let z=this._addTriangle(L,D,r[L],-1,-1,i[L]);i[D]=this._legalize(z+2),i[L]=z,T++;let U=r[L];for(;B=r[U],xN(R,M,t[2*U],t[2*U+1],t[2*B],t[2*B+1])<0;)z=this._addTriangle(U,D,B,i[D],-1,i[U]),i[D]=this._legalize(z+2),r[U]=U,T--,U=B;if(L===$)for(;B=n[L],xN(R,M,t[2*B],t[2*B+1],t[2*L],t[2*L+1])<0;)z=this._addTriangle(B,D,L,-1,i[L],i[B]),this._legalize(z+2),i[B]=z,r[L]=L,T--,L=B;this._hullStart=n[D]=L,r[L]=n[U]=D,r[D]=U,s[this._hashKey(R,M)]=D,s[this._hashKey(t[2*L],t[2*L+1])]=L}this.hull=new Uint32Array(T);for(let I=0,P=this._hullStart;I<T;I++)this.hull[I]=P,P=r[P];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Ewt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const a=r[t],l=t-t%3;if(o=l+(t+2)%3,a===-1){if(s===0)break;t=SN[--s];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[o],h=n[t],p=n[c],m=n[d];if(xwt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const y=r[d];if(y===-1){let _=this._hullStart;do{if(this._hullTri[_]===d){this._hullTri[_]=t;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(t,y),this._link(a,r[o]),this._link(o,d);const v=u+(a+1)%3;s<SN.length&&(SN[s++]=v)}else{if(s===0)break;t=SN[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function Ewt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function jB(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function xwt(e,t,n,r,i,s,o,a){const l=e-o,u=t-a,c=n-o,d=r-a,f=i-o,h=s-a,p=l*l+u*u,m=c*c+d*d,g=f*f+h*h;return l*(d*g-m*h)-u*(c*g-m*f)+p*(c*h-d*f)<0}function Swt(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=(u*c-a*d)*f,p=(o*d-l*c)*f;return h*h+p*p}function Twt(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=e+(u*c-a*d)*f,p=t+(o*d-l*c)*f;return{x:h,y:p}}function Lw(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=n+r>>1;let s=n+1,o=r;UT(e,i,s),t[e[n]]>t[e[r]]&&UT(e,n,r),t[e[s]]>t[e[r]]&&UT(e,s,r),t[e[n]]>t[e[s]]&&UT(e,n,s);const a=e[s],l=t[a];for(;;){do s++;while(t[e[s]]<l);do o--;while(t[e[o]]>l);if(o<s)break;UT(e,s,o)}e[n+1]=e[o],e[o]=a,r-s+1>=o-n?(Lw(e,t,s,r),Lw(e,t,n,o-1)):(Lw(e,t,n,o-1),Lw(e,t,s,r))}}function UT(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Cwt(e){return e[0]}function Awt(e){return e[1]}const yfe=1e-6;class k1{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>yfe||Math.abs(this._y1-s)>yfe)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class VV{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let Iwt=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,_;m<y;m+=3,g+=2){const w=r[m]*2,E=r[m+1]*2,S=r[m+2]*2,x=t[w],T=t[w+1],I=t[E],P=t[E+1],k=t[S],D=t[S+1],R=I-x,M=P-T,$=k-x,L=D-T,B=(R*L-M*$)*2;if(Math.abs(B)<1e-9){if(s===void 0){s=o=0;for(const U of n)s+=t[U*2],o+=t[U*2+1];s/=n.length,o/=n.length}const z=1e9*Math.sign((s-x)*L-(o-T)*$);v=(x+k)/2-z*L,_=(T+D)/2+z*$}else{const z=1/B,U=R*R+M*M,N=$*$+L*L;v=x+(L*U-M*N)*z,_=T+(R*N-$*U)*z}a[g]=v,a[g+1]=_}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=f,h=p,c=l*4,f=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new k1:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(f/3)*2,m=o[h],g=o[h+1],y=o[p],v=o[p+1];this._renderSegment(m,g,y,v,t)}let l,u=s[s.length-1];for(let c=0;c<s.length;++c){l=u,u=s[c];const d=Math.floor(i[u]/3)*2,f=o[d],h=o[d+1],p=l*4,m=this._project(f,h,a[p+2],a[p+3]);m&&this._renderSegment(f,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new k1:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new k1:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new VV;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let o;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(s.moveTo(t,n),s.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,o=n.length;s<o;s+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[s]===i[a]&&n[s+1]===i[a+1]&&n[(s+2)%o]===i[(a+l-2)%l]&&n[(s+3)%o]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[t];if(o===-1)return null;const a=[];let l=o;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,o,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(s=a,o=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let p,m,g,y,v;if(u===0){if((p=this._clipSegment(s,o,a,l,u,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,l,s,o,c,u))===null)continue;[y,v,m,g]=p,d=f,f=this._edgecode(m,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,g):i=[m,g]}d=f,f=this._edgecode(y,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,v):i=[y,v]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,o){const a=s<o;for(a&&([t,n,r,i,s,o]=[r,i,t,n,o,s]);;){if(s===0&&o===0)return a?[r,i,t,n]:[t,n,r,i];if(s&o)return null;let l,u,c=s||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),s?(t=l,n=u,s=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,o){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,s){for(;n!==r;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,n,r,i){let s=1/0,o,a,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<s&&(l=this.ymin,a=t+(s=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<s&&(l=this.ymax,a=t+(s=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<s&&(a=this.xmax,l=n+(s=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<s&&(a=this.xmin,l=n+(s=o)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Rwt=2*Math.PI,U_=Math.pow;function kwt(e){return e[0]}function Pwt(e){return e[1]}function Nwt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function Owt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class yJ{static from(t,n=kwt,r=Pwt,i){return new yJ("length"in t?Dwt(t,n,r,i):Float64Array.from(Mwt(t,n,r,i)))}constructor(t){this._delaunator=new b$(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Nwt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const p=Owt(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new b$(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=s[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Iwt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=s[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=U_(n-u[t*2],2)+U_(r-u[t*2+1],2);const f=i[t];let h=f;do{let p=l[h];const m=U_(n-u[p*2],2)+U_(r-u[p*2+1],2);if(m<d&&(d=m,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=s[(o[t]+1)%s.length],h!==p&&U_(n-u[h*2],2)+U_(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new k1:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l<o)continue;const u=s[o]*2,c=s[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new k1:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],l=i[s+1];t.moveTo(a+n,l),t.arc(a,l,n,0,Rwt)}return r&&r.value()}renderHull(t){const n=t==null?t=new k1:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new VV;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new k1:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,l=s[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new VV;return this.renderTriangle(t,n),n.value()}}function Dwt(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(r,a,o,e),s[o*2+1]=n.call(r,a,o,e)}return s}function*Mwt(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var vfe={},BB={},zB=34,VT=10,UB=13;function oIe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function $wt(e,t){var n=oIe(e);return function(r,i){return t(n(r),i,e)}}function bfe(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Dl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Lwt(e){return e<0?"-"+Dl(-e,6):e>9999?"+"+Dl(e,6):Dl(e,4)}function Fwt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Lwt(e.getUTCFullYear())+"-"+Dl(e.getUTCMonth()+1,2)+"-"+Dl(e.getUTCDate(),2)+(i?"T"+Dl(t,2)+":"+Dl(n,2)+":"+Dl(r,2)+"."+Dl(i,3)+"Z":r?"T"+Dl(t,2)+":"+Dl(n,2)+":"+Dl(r,2)+"Z":n||t?"T"+Dl(t,2)+":"+Dl(n,2)+"Z":"")}function aIe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,y){if(h)return h(g,y-1);p=g,h=f?$wt(g,f):oIe(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,y,v=p<=0,_=!1;d.charCodeAt(p-1)===VT&&--p,d.charCodeAt(p-1)===UB&&--p;function w(){if(v)return BB;if(_)return _=!1,vfe;var S,x=m,T;if(d.charCodeAt(x)===zB){for(;m++<p&&d.charCodeAt(m)!==zB||d.charCodeAt(++m)===zB;);return(S=m)>=p?v=!0:(T=d.charCodeAt(m++))===VT?_=!0:T===UB&&(_=!0,d.charCodeAt(m)===VT&&++m),d.slice(x+1,S-1).replace(/""/g,'"')}for(;m<p;){if((T=d.charCodeAt(S=m++))===VT)_=!0;else if(T===UB)_=!0,d.charCodeAt(m)===VT&&++m;else if(T!==n)continue;return d.slice(x,S)}return v=!0,d.slice(x,p)}for(;(y=w())!==BB;){for(var E=[];y!==vfe&&y!==BB;)E.push(y),y=w();f&&(E=f(E,g++))==null||h.push(E)}return h}function s(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function o(d,f){return f==null&&(f=bfe(d)),[f.map(c).join(e)].concat(s(d,f)).join(`
`)}function a(d,f){return f==null&&(f=bfe(d)),s(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?Fwt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var jwt=aIe(","),Bwt=jwt.parse;function zwt(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Uwt(e,t){return fetch(e,t).then(zwt)}function Vwt(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Uwt(t,n).then(function(i){return e(i,r)})}}var Hwt=Vwt(Bwt);function qwt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-e)*r,u=(u/o-t)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function Wwt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return lIe(this.cover(t,n),t,n,e)}function lIe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,p,m,g,y,v;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=s,!(s=s[y=g<<1|m]))return i[y]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((y=g<<1|m)===(v=(p>=f)<<1|h>=d));return i[v]=s,i[y]=o,e}function Gwt(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>d&&(d=s));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)lIe(this,o[n],a[n],e[n]);return this}function Ywt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=s;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Kwt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Xwt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function rl(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Qwt(e,t,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,p,m;for(h&&f.push(new rl(h,i,s,c,d)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,d=t+n,n*=n);p=f.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<s))if(h.length){var g=(o+l)/2,y=(a+u)/2;f.push(new rl(h[3],g,y,l,u),new rl(h[2],o,y,g,u),new rl(h[1],g,a,l,y),new rl(h[0],o,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),_=t-+this._y.call(null,h.data),w=v*v+_*_;if(w<n){var E=Math.sqrt(n=w);i=e-E,s=t-E,c=e+E,d=t+E,r=h.data}}return r}function Jwt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(o+l)/2))?o=f:l=f,(m=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[g]=s:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function Zwt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function eEt(){return this._root}function tEt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function nEt(e){var t=[],n,r=this._root,i,s,o,a,l;for(r&&t.push(new rl(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&t.push(new rl(i,u,c,a,l)),(i=r[2])&&t.push(new rl(i,s,c,u,l)),(i=r[1])&&t.push(new rl(i,u,o,a,c)),(i=r[0])&&t.push(new rl(i,s,o,u,c))}return this}function rEt(e){var t=[],n=[],r;for(this._root&&t.push(new rl(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,d=(a+u)/2;(s=i[0])&&t.push(new rl(s,o,a,c,d)),(s=i[1])&&t.push(new rl(s,c,a,l,d)),(s=i[2])&&t.push(new rl(s,o,d,c,u)),(s=i[3])&&t.push(new rl(s,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function iEt(e){return e[0]}function sEt(e){return arguments.length?(this._x=e,this):this._x}function oEt(e){return e[1]}function aEt(e){return arguments.length?(this._y=e,this):this._y}function vJ(e,t,n){var r=new bJ(t??iEt,n??oEt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function bJ(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function _fe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var xl=vJ.prototype=bJ.prototype;xl.copy=function(){var e=new bJ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=_fe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=_fe(r));return e};xl.add=Wwt;xl.addAll=Gwt;xl.cover=Ywt;xl.data=Kwt;xl.extent=Xwt;xl.find=Qwt;xl.remove=Jwt;xl.removeAll=Zwt;xl.root=eEt;xl.size=tEt;xl.visit=nEt;xl.visitAfter=rEt;xl.x=sEt;xl.y=aEt;function sl(e){return function(){return e}}function w0(e){return(e()-.5)*1e-6}function lEt(e){return e.x+e.vx}function uEt(e){return e.y+e.vy}function cEt(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=sl(e==null?1:+e));function o(){for(var u,c=t.length,d,f,h,p,m,g,y=0;y<s;++y)for(d=vJ(t,lEt,uEt).visitAfter(a),u=0;u<c;++u)f=t[u],m=n[f.index],g=m*m,h=f.x+f.vx,p=f.y+f.vy,d.visit(v);function v(_,w,E,S,x){var T=_.data,I=_.r,P=m+I;if(T){if(T.index>f.index){var k=h-T.x-T.vx,D=p-T.y-T.vy,R=k*k+D*D;R<P*P&&(k===0&&(k=w0(r),R+=k*k),D===0&&(D=w0(r),R+=D*D),R=(P-(R=Math.sqrt(R)))/R*i,f.vx+=(k*=R)*(P=(I*=I)/(g+I)),f.vy+=(D*=R)*P,T.vx-=k*(P=1-P),T.vy-=D*P)}return}return w>h+P||S<h-P||E>p+P||x<p-P}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:sl(+u),l(),o):e},o}function dEt(e){return e.index}function wfe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function fEt(e){var t=dEt,n=d,r,i=sl(30),s,o,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var y=0,v=e.length;y<c;++y)for(var _=0,w,E,S,x,T,I,P;_<v;++_)w=e[_],E=w.source,S=w.target,x=S.x+S.vx-E.x-E.vx||w0(u),T=S.y+S.vy-E.y-E.vy||w0(u),I=Math.sqrt(x*x+T*T),I=(I-s[_])/I*g*r[_],x*=I,T*=I,S.vx-=x*(P=l[_]),S.vy-=T*P,E.vx+=x*(P=1-P),E.vy+=T*P}function h(){if(o){var g,y=o.length,v=e.length,_=new Map(o.map((E,S)=>[t(E,S,o),E])),w;for(g=0,a=new Array(y);g<v;++g)w=e[g],w.index=g,typeof w.source!="object"&&(w.source=wfe(_,w.source)),typeof w.target!="object"&&(w.target=wfe(_,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(g=0,l=new Array(v);g<v;++g)w=e[g],l[g]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(v),p(),s=new Array(v),m()}}function p(){if(o)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(o)for(var g=0,y=e.length;g<y;++g)s[g]=+i(e[g],g,e)}return f.initialize=function(g,y){o=g,u=y,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:sl(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:sl(+g),m(),f):i},f}const hEt=1664525,pEt=1013904223,Efe=4294967296;function mEt(){let e=1;return()=>(e=(hEt*e+pEt)%Efe)/Efe}function gEt(e){return e.x}function yEt(e){return e.y}var vEt=10,bEt=Math.PI*(3-Math.sqrt(5));function _Et(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=fJ(d),u=k6("tick","end"),c=mEt();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(m){var g,y=e.length,v;m===void 0&&(m=1);for(var _=0;_<m;++_)for(n+=(s-n)*i,a.forEach(function(w){w(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=o:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=o:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=vEt*Math.sqrt(.5+m),_=m*bEt;y.x=v*Math.cos(_),y.y=v*Math.sin(_)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,_=e.length,w,E,S,x,T;for(y==null?y=1/0:y*=y,v=0;v<_;++v)x=e[v],w=m-x.x,E=g-x.y,S=w*w+E*E,S<y&&(T=x,y=S);return T},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function wEt(){var e,t,n,r,i=sl(-30),s,o=1,a=1/0,l=.81;function u(h){var p,m=e.length,g=vJ(e,gEt,yEt).visitAfter(d);for(r=h,p=0;p<m;++p)t=e[p],g.visit(f)}function c(){if(e){var h,p=e.length,m;for(s=new Array(p),h=0;h<p;++h)m=e[h],s[m.index]=+i(m,h,e)}}function d(h){var p=0,m,g,y=0,v,_,w;if(h.length){for(v=_=w=0;w<4;++w)(m=h[w])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,_+=g*m.y);h.x=v/y,h.y=_/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}h.value=p}function f(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,_=g-p,w=y*y+v*v;if(_*_/l<w)return w<a&&(y===0&&(y=w0(n),w+=y*y),v===0&&(v=w0(n),w+=v*v),w<o&&(w=Math.sqrt(o*w)),t.vx+=y*h.value*r/w,t.vy+=v*h.value*r/w),!0;if(h.length||w>=a)return;(h.data!==t||h.next)&&(y===0&&(y=w0(n),w+=y*y),v===0&&(v=w0(n),w+=v*v),w<o&&(w=Math.sqrt(o*w)));do h.data!==t&&(_=s[h.data.index]*r/w,t.vx+=y*_,t.vy+=v*_);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:sl(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function EEt(e){var t=sl(.1),n,r,i;typeof e!="function"&&(e=sl(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:sl(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:sl(+a),o(),s):e},s}function xEt(e){var t=sl(.1),n,r,i;typeof e!="function"&&(e=sl(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:sl(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:sl(+a),o(),s):e},s}function SEt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _$(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ex(e){return e=_$(Math.abs(e)),e?e[1]:NaN}function TEt(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function CEt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var AEt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fb(e){if(!(t=AEt.exec(e)))throw new Error("invalid format: "+e);var t;return new _J({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fb.prototype=_J.prototype;function _J(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_J.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IEt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var uIe;function REt(e,t){var n=_$(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(uIe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+_$(e,Math.max(0,t+s-1))[0]}function xfe(e,t){var n=_$(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Sfe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SEt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xfe(e*100,t),r:xfe,s:REt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tfe(e){return e}var Cfe=Array.prototype.map,Afe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cIe(e){var t=e.grouping===void 0||e.thousands===void 0?Tfe:TEt(Cfe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Tfe:CEt(Cfe.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=fb(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,v=d.comma,_=d.precision,w=d.trim,E=d.type;E==="n"?(v=!0,E="g"):Sfe[E]||(_===void 0&&(_=12),w=!0,E="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",x=m==="$"?r:/[%p]/.test(E)?o:"",T=Sfe[E],I=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(k){var D=S,R=x,M,$,L;if(E==="c")R=T(k)+R,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?l:T(Math.abs(k),_),w&&(k=IEt(k)),B&&+k==0&&p!=="+"&&(B=!1),D=(B?p==="("?p:a:p==="-"||p==="("?"":p)+D,R=(E==="s"?Afe[8+uIe/3]:"")+R+(B&&p==="("?")":""),I){for(M=-1,$=k.length;++M<$;)if(L=k.charCodeAt(M),48>L||L>57){R=(L===46?i+k.slice(M+1):k.slice(M))+R,k=k.slice(0,M);break}}}v&&!g&&(k=t(k,1/0));var z=D.length+k.length+R.length,U=z<y?new Array(y-z+1).join(f):"";switch(v&&g&&(k=t(U+k,U.length?y-R.length:1/0),U=""),h){case"<":k=D+k+R+U;break;case"=":k=D+U+k+R;break;case"^":k=U.slice(0,z=U.length>>1)+D+k+R+U.slice(z);break;default:k=U+D+k+R;break}return s(k)}return P.toString=function(){return d+""},P}function c(d,f){var h=u((d=fb(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(ex(f)/3)))*3,m=Math.pow(10,-p),g=Afe[8+p/3];return function(y){return h(m*y)+g}}return{format:u,formatPrefix:c}}var TN,TS,wJ;kEt({thousands:",",grouping:[3],currency:["$",""]});function kEt(e){return TN=cIe(e),TS=TN.format,wJ=TN.formatPrefix,TN}function dIe(e){return Math.max(0,-ex(Math.abs(e)))}function fIe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ex(t)/3)))*3-ex(Math.abs(e)))}function hIe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ex(t)-ex(e))+1}var Gt=1e-6,w$=1e-12,Hn=Math.PI,cs=Hn/2,E$=Hn/4,pl=Hn*2,bs=180/Hn,Bn=Hn/180,ur=Math.abs,CS=Math.atan,ed=Math.atan2,Kt=Math.cos,CN=Math.ceil,pIe=Math.exp,HV=Math.hypot,x$=Math.log,VB=Math.pow,Ut=Math.sin,jc=Math.sign||function(e){return e>0?1:e<0?-1:0},ml=Math.sqrt,EJ=Math.tan;function mIe(e){return e>1?0:e<-1?Hn:Math.acos(e)}function cu(e){return e>1?cs:e<-1?-cs:Math.asin(e)}function Ho(){}function S$(e,t){e&&Rfe.hasOwnProperty(e.type)&&Rfe[e.type](e,t)}var Ife={Feature:function(e,t){S$(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)S$(n[r].geometry,t)}},Rfe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){qV(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)qV(n[r],t,0)},Polygon:function(e,t){kfe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)kfe(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)S$(n[r],t)}};function qV(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function kfe(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)qV(e[n],t,1);t.polygonEnd()}function im(e,t){e&&Ife.hasOwnProperty(e.type)?Ife[e.type](e,t):S$(e,t)}var T$=new ll,C$=new ll,gIe,yIe,WV,GV,YV,Qh={point:Ho,lineStart:Ho,lineEnd:Ho,polygonStart:function(){T$=new ll,Qh.lineStart=PEt,Qh.lineEnd=NEt},polygonEnd:function(){var e=+T$;C$.add(e<0?pl+e:e),this.lineStart=this.lineEnd=this.point=Ho},sphere:function(){C$.add(pl)}};function PEt(){Qh.point=OEt}function NEt(){vIe(gIe,yIe)}function OEt(e,t){Qh.point=vIe,gIe=e,yIe=t,e*=Bn,t*=Bn,WV=e,GV=Kt(t=t/2+E$),YV=Ut(t)}function vIe(e,t){e*=Bn,t*=Bn,t=t/2+E$;var n=e-WV,r=n>=0?1:-1,i=r*n,s=Kt(t),o=Ut(t),a=YV*o,l=GV*s+a*Kt(i),u=a*r*Ut(i);T$.add(ed(u,l)),WV=e,GV=s,YV=o}function DEt(e){return C$=new ll,im(e,Qh),C$*2}function A$(e){return[ed(e[1],e[0]),cu(e[2])]}function hb(e){var t=e[0],n=e[1],r=Kt(n);return[r*Kt(t),r*Ut(t),Ut(n)]}function AN(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function tx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function HB(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function IN(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function I$(e){var t=ml(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Hi,zl,ns,Du,Qv,bIe,_Ie,dE,eA,Zg,Km,em={point:KV,lineStart:Pfe,lineEnd:Nfe,polygonStart:function(){em.point=EIe,em.lineStart=MEt,em.lineEnd=$Et,eA=new ll,Qh.polygonStart()},polygonEnd:function(){Qh.polygonEnd(),em.point=KV,em.lineStart=Pfe,em.lineEnd=Nfe,T$<0?(Hi=-(ns=180),zl=-(Du=90)):eA>Gt?Du=90:eA<-Gt&&(zl=-90),Km[0]=Hi,Km[1]=ns},sphere:function(){Hi=-(ns=180),zl=-(Du=90)}};function KV(e,t){Zg.push(Km=[Hi=e,ns=e]),t<zl&&(zl=t),t>Du&&(Du=t)}function wIe(e,t){var n=hb([e*Bn,t*Bn]);if(dE){var r=tx(dE,n),i=[r[1],-r[0],0],s=tx(i,r);I$(s),s=A$(s);var o=e-Qv,a=o>0?1:-1,l=s[0]*bs*a,u,c=ur(o)>180;c^(a*Qv<l&&l<a*e)?(u=s[1]*bs,u>Du&&(Du=u)):(l=(l+360)%360-180,c^(a*Qv<l&&l<a*e)?(u=-s[1]*bs,u<zl&&(zl=u)):(t<zl&&(zl=t),t>Du&&(Du=t))),c?e<Qv?Nu(Hi,e)>Nu(Hi,ns)&&(ns=e):Nu(e,ns)>Nu(Hi,ns)&&(Hi=e):ns>=Hi?(e<Hi&&(Hi=e),e>ns&&(ns=e)):e>Qv?Nu(Hi,e)>Nu(Hi,ns)&&(ns=e):Nu(e,ns)>Nu(Hi,ns)&&(Hi=e)}else Zg.push(Km=[Hi=e,ns=e]);t<zl&&(zl=t),t>Du&&(Du=t),dE=n,Qv=e}function Pfe(){em.point=wIe}function Nfe(){Km[0]=Hi,Km[1]=ns,em.point=KV,dE=null}function EIe(e,t){if(dE){var n=e-Qv;eA.add(ur(n)>180?n+(n>0?360:-360):n)}else bIe=e,_Ie=t;Qh.point(e,t),wIe(e,t)}function MEt(){Qh.lineStart()}function $Et(){EIe(bIe,_Ie),Qh.lineEnd(),ur(eA)>Gt&&(Hi=-(ns=180)),Km[0]=Hi,Km[1]=ns,dE=null}function Nu(e,t){return(t-=e)<0?t+360:t}function LEt(e,t){return e[0]-t[0]}function Ofe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function FEt(e){var t,n,r,i,s,o,a;if(Du=ns=-(Hi=zl=1/0),Zg=[],im(e,em),n=Zg.length){for(Zg.sort(LEt),t=1,r=Zg[0],s=[r];t<n;++t)i=Zg[t],Ofe(r,i[0])||Ofe(r,i[1])?(Nu(r[0],i[1])>Nu(r[0],r[1])&&(r[1]=i[1]),Nu(i[0],r[1])>Nu(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(a=Nu(r[1],i[0]))>o&&(o=a,Hi=i[0],ns=r[1])}return Zg=Km=null,Hi===1/0||zl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Hi,zl],[ns,Du]]}var $C,R$,k$,P$,N$,O$,D$,M$,XV,QV,JV,xIe,SIe,el,tl,nl,Kd={sphere:Ho,point:xJ,lineStart:Dfe,lineEnd:Mfe,polygonStart:function(){Kd.lineStart=zEt,Kd.lineEnd=UEt},polygonEnd:function(){Kd.lineStart=Dfe,Kd.lineEnd=Mfe}};function xJ(e,t){e*=Bn,t*=Bn;var n=Kt(t);sk(n*Kt(e),n*Ut(e),Ut(t))}function sk(e,t,n){++$C,k$+=(e-k$)/$C,P$+=(t-P$)/$C,N$+=(n-N$)/$C}function Dfe(){Kd.point=jEt}function jEt(e,t){e*=Bn,t*=Bn;var n=Kt(t);el=n*Kt(e),tl=n*Ut(e),nl=Ut(t),Kd.point=BEt,sk(el,tl,nl)}function BEt(e,t){e*=Bn,t*=Bn;var n=Kt(t),r=n*Kt(e),i=n*Ut(e),s=Ut(t),o=ed(ml((o=tl*s-nl*i)*o+(o=nl*r-el*s)*o+(o=el*i-tl*r)*o),el*r+tl*i+nl*s);R$+=o,O$+=o*(el+(el=r)),D$+=o*(tl+(tl=i)),M$+=o*(nl+(nl=s)),sk(el,tl,nl)}function Mfe(){Kd.point=xJ}function zEt(){Kd.point=VEt}function UEt(){TIe(xIe,SIe),Kd.point=xJ}function VEt(e,t){xIe=e,SIe=t,e*=Bn,t*=Bn,Kd.point=TIe;var n=Kt(t);el=n*Kt(e),tl=n*Ut(e),nl=Ut(t),sk(el,tl,nl)}function TIe(e,t){e*=Bn,t*=Bn;var n=Kt(t),r=n*Kt(e),i=n*Ut(e),s=Ut(t),o=tl*s-nl*i,a=nl*r-el*s,l=el*i-tl*r,u=HV(o,a,l),c=cu(u),d=u&&-c/u;XV.add(d*o),QV.add(d*a),JV.add(d*l),R$+=c,O$+=c*(el+(el=r)),D$+=c*(tl+(tl=i)),M$+=c*(nl+(nl=s)),sk(el,tl,nl)}function HEt(e){$C=R$=k$=P$=N$=O$=D$=M$=0,XV=new ll,QV=new ll,JV=new ll,im(e,Kd);var t=+XV,n=+QV,r=+JV,i=HV(t,n,r);return i<w$&&(t=O$,n=D$,r=M$,R$<Gt&&(t=k$,n=P$,r=N$),i=HV(t,n,r),i<w$)?[NaN,NaN]:[ed(n,t)*bs,cu(r/i)*bs]}function ZV(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function eH(e,t){return ur(e)>Hn&&(e-=Math.round(e/pl)*pl),[e,t]}eH.invert=eH;function CIe(e,t,n){return(e%=pl)?t||n?ZV(Lfe(e),Ffe(t,n)):Lfe(e):t||n?Ffe(t,n):eH}function $fe(e){return function(t,n){return t+=e,ur(t)>Hn&&(t-=Math.round(t/pl)*pl),[t,n]}}function Lfe(e){var t=$fe(e);return t.invert=$fe(-e),t}function Ffe(e,t){var n=Kt(e),r=Ut(e),i=Kt(t),s=Ut(t);function o(a,l){var u=Kt(l),c=Kt(a)*u,d=Ut(a)*u,f=Ut(l),h=f*n+c*r;return[ed(d*i-h*s,c*n-f*r),cu(h*i+d*s)]}return o.invert=function(a,l){var u=Kt(l),c=Kt(a)*u,d=Ut(a)*u,f=Ut(l),h=f*i-d*s;return[ed(d*i+f*s,c*n+h*r),cu(h*n-c*r)]},o}function qEt(e){e=CIe(e[0]*Bn,e[1]*Bn,e.length>2?e[2]*Bn:0);function t(n){return n=e(n[0]*Bn,n[1]*Bn),n[0]*=bs,n[1]*=bs,n}return t.invert=function(n){return n=e.invert(n[0]*Bn,n[1]*Bn),n[0]*=bs,n[1]*=bs,n},t}function WEt(e,t,n,r,i,s){if(n){var o=Kt(t),a=Ut(t),l=r*n;i==null?(i=t+r*pl,s=t-l/2):(i=jfe(o,i),s=jfe(o,s),(r>0?i<s:i>s)&&(i+=r*pl));for(var u,c=i;r>0?c>s:c<s;c-=l)u=A$([o,-a*Kt(c),-a*Ut(c)]),e.point(u[0],u[1])}}function jfe(e,t){t=hb(t),t[0]-=e,I$(t);var n=mIe(-t[1]);return((-t[2]<0?-n:n)+pl-Gt)%pl}function AIe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Ho,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function pD(e,t){return ur(e[0]-t[0])<Gt&&ur(e[1]-t[1])<Gt}function RN(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function IIe(e,t,n,r,i){var s=[],o=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(pD(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*Gt}s.push(v=new RN(g,p,null,!0)),o.push(v.o=new RN(g,null,v,!1)),s.push(v=new RN(y,p,null,!1)),o.push(v.o=new RN(y,null,v,!0))}}),!!s.length){for(o.sort(t),Bfe(s),Bfe(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function Bfe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function qB(e){return ur(e[0])<=Hn?e[0]:jc(e[0])*((ur(e[0])+Hn)%pl-Hn)}function GEt(e,t){var n=qB(t),r=t[1],i=Ut(r),s=[Ut(n),-Kt(n),0],o=0,a=0,l=new ll;i===1?r=cs+Gt:i===-1&&(r=-cs-Gt);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],p=qB(h),m=h[1]/2+E$,g=Ut(m),y=Kt(m),v=0;v<f;++v,p=w,g=S,y=x,h=_){var _=d[v],w=qB(_),E=_[1]/2+E$,S=Ut(E),x=Kt(E),T=w-p,I=T>=0?1:-1,P=I*T,k=P>Hn,D=g*S;if(l.add(ed(D*I*Ut(P),y*x+D*Kt(P))),o+=k?T+I*pl:T,k^p>=n^w>=n){var R=tx(hb(h),hb(_));I$(R);var M=tx(s,R);I$(M);var $=(k^T>=0?-1:1)*cu(M[2]);(r>$||r===$&&(R[0]||R[1]))&&(a+=k^T>=0?1:-1)}}return(o<-Gt||o<Gt&&l<-w$)^a&1}function RIe(e,t,n,r){return function(i){var s=t(i),o=AIe(),a=t(o),l=!1,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=_,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,c=hAe(c);var w=GEt(u,r);c.length?(l||(i.polygonStart(),l=!0),IIe(c,KEt,w,n,i)):w&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,E){e(w,E)&&i.point(w,E)}function p(w,E){s.point(w,E)}function m(){f.point=p,s.lineStart()}function g(){f.point=h,s.lineEnd()}function y(w,E){d.push([w,E]),a.point(w,E)}function v(){a.lineStart(),d=[]}function _(){y(d[0][0],d[0][1]),a.lineEnd();var w=a.clean(),E=o.result(),S,x=E.length,T,I,P;if(d.pop(),u.push(d),d=null,!!x){if(w&1){if(I=E[0],(T=I.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<T;++S)i.point((P=I[S])[0],P[1]);i.lineEnd()}return}x>1&&w&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(YEt))}}return f}}function YEt(e){return e.length>1}function KEt(e,t){return((e=e.x)[0]<0?e[1]-cs-Gt:cs-e[1])-((t=t.x)[0]<0?t[1]-cs-Gt:cs-t[1])}const zfe=RIe(function(){return!0},XEt,JEt,[-Hn,-cs]);function XEt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var a=s>0?Hn:-Hn,l=ur(s-t);ur(l-Hn)<Gt?(e.point(t,n=(n+o)/2>0?cs:-cs),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),i=0):r!==a&&l>=Hn&&(ur(t-r)<Gt&&(t-=r*Gt),ur(s-a)<Gt&&(s-=a*Gt),n=QEt(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=s,n=o),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function QEt(e,t,n,r){var i,s,o=Ut(e-n);return ur(o)>Gt?CS((Ut(t)*(s=Kt(r))*Ut(n)-Ut(r)*(i=Kt(t))*Ut(e))/(i*s*o)):(t+r)/2}function JEt(e,t,n,r){var i;if(e==null)i=n*cs,r.point(-Hn,i),r.point(0,i),r.point(Hn,i),r.point(Hn,0),r.point(Hn,-i),r.point(0,-i),r.point(-Hn,-i),r.point(-Hn,0),r.point(-Hn,i);else if(ur(e[0]-t[0])>Gt){var s=e[0]<t[0]?Hn:-Hn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function ZEt(e){var t=Kt(e),n=2*Bn,r=t>0,i=ur(t)>Gt;function s(c,d,f,h){WEt(h,e,n,f,c,d)}function o(c,d){return Kt(c)*Kt(d)>t}function a(c){var d,f,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],_,w=o(g,y),E=r?w?0:u(g,y):w?u(g+(g<0?Hn:-Hn),y):0;if(!d&&(p=h=w)&&c.lineStart(),w!==h&&(_=l(d,v),(!_||pD(d,_)||pD(v,_))&&(v[2]=1)),w!==h)m=0,w?(c.lineStart(),_=l(v,d),c.point(_[0],_[1])):(_=l(d,v),c.point(_[0],_[1],2),c.lineEnd()),d=_;else if(i&&d&&r^w){var S;!(E&f)&&(S=l(v,d,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}w&&(!d||!pD(d,v))&&c.point(v[0],v[1]),d=v,h=w,f=E},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function l(c,d,f){var h=hb(c),p=hb(d),m=[1,0,0],g=tx(h,p),y=AN(g,g),v=g[0],_=y-v*v;if(!_)return!f&&c;var w=t*y/_,E=-t*v/_,S=tx(m,g),x=IN(m,w),T=IN(g,E);HB(x,T);var I=S,P=AN(x,I),k=AN(I,I),D=P*P-k*(AN(x,x)-1);if(!(D<0)){var R=ml(D),M=IN(I,(-P-R)/k);if(HB(M,x),M=A$(M),!f)return M;var $=c[0],L=d[0],B=c[1],z=d[1],U;L<$&&(U=$,$=L,L=U);var N=L-$,V=ur(N-Hn)<Gt,W=V||N<Gt;if(!V&&z<B&&(U=B,B=z,z=U),W?V?B+z>0^M[1]<(ur(M[0]-$)<Gt?B:z):B<=M[1]&&M[1]<=z:N>Hn^($<=M[0]&&M[0]<=L)){var F=IN(I,(-P+R)/k);return HB(F,x),[M,A$(F)]}}}function u(c,d){var f=r?e:Hn-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return RIe(o,a,s,r?[0,-e]:[-Hn,e-Hn])}function ext(e,t,n,r,i,s){var o=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-o,h=u-a,p;if(p=n-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=s-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=o+c*f,e[1]=a+c*h),d<1&&(t[0]=o+d*f,t[1]=a+d*h),!0}}}}}var LC=1e9,kN=-LC;function kIe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function s(u,c,d,f){var h=0,p=0;if(u==null||(h=o(u,d))!==(p=o(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else f.point(c[0],c[1])}function o(u,c){return ur(u[0]-e)<Gt?c>0?0:3:ur(u[0]-n)<Gt?c>0?2:1:ur(u[1]-t)<Gt?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=o(u,1),f=o(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=AIe(),f,h,p,m,g,y,v,_,w,E,S,x={point:T,lineStart:D,lineEnd:R,polygonStart:P,polygonEnd:k};function T($,L){i($,L)&&c.point($,L)}function I(){for(var $=0,L=0,B=h.length;L<B;++L)for(var z=h[L],U=1,N=z.length,V=z[0],W,F,H=V[0],G=V[1];U<N;++U)W=H,F=G,V=z[U],H=V[0],G=V[1],F<=r?G>r&&(H-W)*(r-F)>(G-F)*(e-W)&&++$:G<=r&&(H-W)*(r-F)<(G-F)*(e-W)&&--$;return $}function P(){c=d,f=[],h=[],S=!0}function k(){var $=I(),L=S&&$,B=(f=hAe(f)).length;(L||B)&&(u.polygonStart(),L&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),B&&IIe(f,a,$,s,u),u.polygonEnd()),c=u,f=h=p=null}function D(){x.point=M,h&&h.push(p=[]),E=!0,w=!1,v=_=NaN}function R(){f&&(M(m,g),y&&w&&d.rejoin(),f.push(d.result())),x.point=T,w&&c.lineEnd()}function M($,L){var B=i($,L);if(h&&p.push([$,L]),E)m=$,g=L,y=B,E=!1,B&&(c.lineStart(),c.point($,L));else if(B&&w)c.point($,L);else{var z=[v=Math.max(kN,Math.min(LC,v)),_=Math.max(kN,Math.min(LC,_))],U=[$=Math.max(kN,Math.min(LC,$)),L=Math.max(kN,Math.min(LC,L))];ext(z,U,e,t,n,r)?(w||(c.lineStart(),c.point(z[0],z[1])),c.point(U[0],U[1]),B||c.lineEnd(),S=!1):B&&(c.lineStart(),c.point($,L),S=!1)}v=$,_=L,w=B}return x}}function Ufe(e,t,n){var r=Yl(e,t-Gt,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function Vfe(e,t,n){var r=Yl(e,t-Gt,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function txt(){var e,t,n,r,i,s,o,a,l=10,u=l,c=90,d=360,f,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Yl(CN(r/c)*c,n,c).map(p).concat(Yl(CN(a/d)*d,o,d).map(m)).concat(Yl(CN(t/l)*l,e,l).filter(function(_){return ur(_%c)>Gt}).map(f)).concat(Yl(CN(s/u)*u,i,u).filter(function(_){return ur(_%d)>Gt}).map(h))}return y.lines=function(){return v().map(function(_){return{type:"LineString",coordinates:_}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(o).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(_){return arguments.length?y.extentMajor(_).extentMinor(_):y.extentMinor()},y.extentMajor=function(_){return arguments.length?(r=+_[0][0],n=+_[1][0],a=+_[0][1],o=+_[1][1],r>n&&(_=r,r=n,n=_),a>o&&(_=a,a=o,o=_),y.precision(g)):[[r,a],[n,o]]},y.extentMinor=function(_){return arguments.length?(t=+_[0][0],e=+_[1][0],s=+_[0][1],i=+_[1][1],t>e&&(_=t,t=e,e=_),s>i&&(_=s,s=i,i=_),y.precision(g)):[[t,s],[e,i]]},y.step=function(_){return arguments.length?y.stepMajor(_).stepMinor(_):y.stepMinor()},y.stepMajor=function(_){return arguments.length?(c=+_[0],d=+_[1],y):[c,d]},y.stepMinor=function(_){return arguments.length?(l=+_[0],u=+_[1],y):[l,u]},y.precision=function(_){return arguments.length?(g=+_,f=Ufe(s,i,90),h=Vfe(t,e,g),p=Ufe(a,o,90),m=Vfe(r,n,g),y):g},y.extentMajor([[-180,-90+Gt],[180,90-Gt]]).extentMinor([[-180,-80-Gt],[180,80+Gt]])}const mI=e=>e;var WB=new ll,tH=new ll,PIe,NIe,nH,rH,sm={point:Ho,lineStart:Ho,lineEnd:Ho,polygonStart:function(){sm.lineStart=nxt,sm.lineEnd=ixt},polygonEnd:function(){sm.lineStart=sm.lineEnd=sm.point=Ho,WB.add(ur(tH)),tH=new ll},result:function(){var e=WB/2;return WB=new ll,e}};function nxt(){sm.point=rxt}function rxt(e,t){sm.point=OIe,PIe=nH=e,NIe=rH=t}function OIe(e,t){tH.add(rH*e-nH*t),nH=e,rH=t}function ixt(){OIe(PIe,NIe)}var nx=1/0,$$=nx,gI=-nx,L$=gI,F$={point:sxt,lineStart:Ho,lineEnd:Ho,polygonStart:Ho,polygonEnd:Ho,result:function(){var e=[[nx,$$],[gI,L$]];return gI=L$=-($$=nx=1/0),e}};function sxt(e,t){e<nx&&(nx=e),e>gI&&(gI=e),t<$$&&($$=t),t>L$&&(L$=t)}var iH=0,sH=0,FC=0,j$=0,B$=0,Fw=0,oH=0,aH=0,jC=0,DIe,MIe,_h,wh,Oc={point:pb,lineStart:Hfe,lineEnd:qfe,polygonStart:function(){Oc.lineStart=lxt,Oc.lineEnd=uxt},polygonEnd:function(){Oc.point=pb,Oc.lineStart=Hfe,Oc.lineEnd=qfe},result:function(){var e=jC?[oH/jC,aH/jC]:Fw?[j$/Fw,B$/Fw]:FC?[iH/FC,sH/FC]:[NaN,NaN];return iH=sH=FC=j$=B$=Fw=oH=aH=jC=0,e}};function pb(e,t){iH+=e,sH+=t,++FC}function Hfe(){Oc.point=oxt}function oxt(e,t){Oc.point=axt,pb(_h=e,wh=t)}function axt(e,t){var n=e-_h,r=t-wh,i=ml(n*n+r*r);j$+=i*(_h+e)/2,B$+=i*(wh+t)/2,Fw+=i,pb(_h=e,wh=t)}function qfe(){Oc.point=pb}function lxt(){Oc.point=cxt}function uxt(){$Ie(DIe,MIe)}function cxt(e,t){Oc.point=$Ie,pb(DIe=_h=e,MIe=wh=t)}function $Ie(e,t){var n=e-_h,r=t-wh,i=ml(n*n+r*r);j$+=i*(_h+e)/2,B$+=i*(wh+t)/2,Fw+=i,i=wh*e-_h*t,oH+=i*(_h+e),aH+=i*(wh+t),jC+=i*3,pb(_h=e,wh=t)}function LIe(e){this._context=e}LIe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,pl);break}}},result:Ho};var lH=new ll,GB,FIe,jIe,BC,zC,yI={point:Ho,lineStart:function(){yI.point=dxt},lineEnd:function(){GB&&BIe(FIe,jIe),yI.point=Ho},polygonStart:function(){GB=!0},polygonEnd:function(){GB=null},result:function(){var e=+lH;return lH=new ll,e}};function dxt(e,t){yI.point=BIe,FIe=BC=e,jIe=zC=t}function BIe(e,t){BC-=e,zC-=t,lH.add(ml(BC*BC+zC*zC)),BC=e,zC=t}let Wfe,z$,Gfe,Yfe;class Kfe{constructor(t){this._append=t==null?zIe:fxt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Gfe||this._append!==z$){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Gfe=r,z$=this._append,Yfe=this._,this._=i}this._+=Yfe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function zIe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fxt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return zIe;if(t!==Wfe){const n=10**t;Wfe=t,z$=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return z$}function UIe(e,t){let n=3,r=4.5,i,s;function o(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),im(a,i(s))),s.result()}return o.area=function(a){return im(a,i(sm)),sm.result()},o.measure=function(a){return im(a,i(yI)),yI.result()},o.bounds=function(a){return im(a,i(F$)),F$.result()},o.centroid=function(a){return im(a,i(Oc)),Oc.result()},o.projection=function(a){return arguments.length?(i=a==null?(e=null,mI):(e=a).stream,o):e},o.context=function(a){return arguments.length?(s=a==null?(t=null,new Kfe(n)):new LIe(t=a),typeof r!="function"&&s.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(s=new Kfe(n)),o},o.projection(e).digits(n).context(t)}function j6(e){return function(t){var n=new uH;for(var r in e)n[r]=e[r];return n.stream=t,n}}function uH(){}uH.prototype={constructor:uH,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function SJ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),im(n,e.stream(F$)),t(F$.result()),r!=null&&e.clipExtent(r),e}function B6(e,t,n){return SJ(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,l])},n)}function TJ(e,t,n){return B6(e,[[0,0],t],n)}function CJ(e,t,n){return SJ(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];e.scale(150*s).translate([o,a])},n)}function AJ(e,t,n){return SJ(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,a])},n)}var Xfe=16,hxt=Kt(30*Bn);function Qfe(e,t){return+t?mxt(e,t):pxt(e)}function pxt(e){return j6({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function mxt(e,t){function n(r,i,s,o,a,l,u,c,d,f,h,p,m,g){var y=u-r,v=c-i,_=y*y+v*v;if(_>4*t&&m--){var w=o+f,E=a+h,S=l+p,x=ml(w*w+E*E+S*S),T=cu(S/=x),I=ur(ur(S)-1)<Gt||ur(s-d)<Gt?(s+d)/2:ed(E,w),P=e(I,T),k=P[0],D=P[1],R=k-r,M=D-i,$=v*R-y*M;($*$/_>t||ur((y*R+v*M)/_-.5)>.3||o*f+a*h+l*p<hxt)&&(n(r,i,s,o,a,l,k,D,I,w/=x,E/=x,S,m,g),g.point(k,D),n(k,D,I,w,E,S,u,c,d,f,h,p,m,g))}}return function(r){var i,s,o,a,l,u,c,d,f,h,p,m,g={point:y,lineStart:v,lineEnd:w,polygonStart:function(){r.polygonStart(),g.lineStart=E},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(T,I){T=e(T,I),r.point(T[0],T[1])}function v(){d=NaN,g.point=_,r.lineStart()}function _(T,I){var P=hb([T,I]),k=e(T,I);n(d,f,c,h,p,m,d=k[0],f=k[1],c=T,h=P[0],p=P[1],m=P[2],Xfe,r),r.point(d,f)}function w(){g.point=y,r.lineEnd()}function E(){v(),g.point=S,g.lineEnd=x}function S(T,I){_(i=T,I),s=d,o=f,a=h,l=p,u=m,g.point=_}function x(){n(d,f,c,h,p,m,s,o,i,a,l,u,Xfe,r),g.lineEnd=w,w()}return g}}var gxt=j6({point:function(e,t){this.stream.point(e*Bn,t*Bn)}});function yxt(e){return j6({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function vxt(e,t,n,r,i){function s(o,a){return o*=r,a*=i,[t+e*o,n-e*a]}return s.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},s}function Jfe(e,t,n,r,i,s){if(!s)return vxt(e,t,n,r,i);var o=Kt(s),a=Ut(s),l=o*e,u=a*e,c=o/e,d=a/e,f=(a*n-o*t)/e,h=(a*t+o*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+f),i*(h-d*m-c*g)]},p}function wp(e){return VIe(function(){return e})()}function VIe(e){var t,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,c,d=0,f=1,h=1,p=null,m=zfe,g=null,y,v,_,w=mI,E=.5,S,x,T,I,P;function k($){return T($[0]*Bn,$[1]*Bn)}function D($){return $=T.invert($[0],$[1]),$&&[$[0]*bs,$[1]*bs]}k.stream=function($){return I&&P===$?I:I=gxt(yxt(c)(m(S(w(P=$)))))},k.preclip=function($){return arguments.length?(m=$,p=void 0,M()):m},k.postclip=function($){return arguments.length?(w=$,g=y=v=_=null,M()):w},k.clipAngle=function($){return arguments.length?(m=+$?ZEt(p=$*Bn):(p=null,zfe),M()):p*bs},k.clipExtent=function($){return arguments.length?(w=$==null?(g=y=v=_=null,mI):kIe(g=+$[0][0],y=+$[0][1],v=+$[1][0],_=+$[1][1]),M()):g==null?null:[[g,y],[v,_]]},k.scale=function($){return arguments.length?(n=+$,R()):n},k.translate=function($){return arguments.length?(r=+$[0],i=+$[1],R()):[r,i]},k.center=function($){return arguments.length?(s=$[0]%360*Bn,o=$[1]%360*Bn,R()):[s*bs,o*bs]},k.rotate=function($){return arguments.length?(a=$[0]%360*Bn,l=$[1]%360*Bn,u=$.length>2?$[2]%360*Bn:0,R()):[a*bs,l*bs,u*bs]},k.angle=function($){return arguments.length?(d=$%360*Bn,R()):d*bs},k.reflectX=function($){return arguments.length?(f=$?-1:1,R()):f<0},k.reflectY=function($){return arguments.length?(h=$?-1:1,R()):h<0},k.precision=function($){return arguments.length?(S=Qfe(x,E=$*$),M()):ml(E)},k.fitExtent=function($,L){return B6(k,$,L)},k.fitSize=function($,L){return TJ(k,$,L)},k.fitWidth=function($,L){return CJ(k,$,L)},k.fitHeight=function($,L){return AJ(k,$,L)};function R(){var $=Jfe(n,0,0,f,h,d).apply(null,t(s,o)),L=Jfe(n,r-$[0],i-$[1],f,h,d);return c=CIe(a,l,u),x=ZV(t,L),T=ZV(c,x),S=Qfe(x,E),M()}function M(){return I=P=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&D,R()}}function IJ(e){var t=0,n=Hn/3,r=VIe(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*Bn,n=s[1]*Bn):[t*bs,n*bs]},i}function bxt(e){var t=Kt(e);function n(r,i){return[r*t,Ut(i)/t]}return n.invert=function(r,i){return[r/t,cu(i*t)]},n}function _xt(e,t){var n=Ut(e),r=(n+Ut(t))/2;if(ur(r)<Gt)return bxt(e);var i=1+n*(2*r-n),s=ml(i)/r;function o(a,l){var u=ml(i-2*r*Ut(l))/r;return[u*Ut(a*=r),s-u*Kt(a)]}return o.invert=function(a,l){var u=s-l,c=ed(a,ur(u))*jc(u);return u*r<0&&(c-=Hn*jc(a)*jc(u)),[c/r,cu((i-(a*a+u*u)*r*r)/(2*r))]},o}function U$(){return IJ(_xt).scale(155.424).center([0,33.6442])}function HIe(){return U$().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wxt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Ext(){var e,t,n=HIe(),r,i=U$().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=U$().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],p=f[1];return l=null,r.point(h,p),l||(s.point(h,p),l)||(a.point(h,p),l)}c.invert=function(f){var h=n.scale(),p=n.translate(),m=(f[0]-p[0])/h,g=(f[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=wxt([n.stream(t=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),p=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),s=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Gt,m+.12*h+Gt],[p-.214*h-Gt,m+.234*h-Gt]]).stream(u),a=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Gt,m+.166*h+Gt],[p-.115*h-Gt,m+.234*h-Gt]]).stream(u),d()},c.fitExtent=function(f,h){return B6(c,f,h)},c.fitSize=function(f,h){return TJ(c,f,h)},c.fitWidth=function(f,h){return CJ(c,f,h)},c.fitHeight=function(f,h){return AJ(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function qIe(e){return function(t,n){var r=Kt(t),i=Kt(n),s=e(r*i);return s===1/0?[2,0]:[s*i*Ut(t),s*Ut(n)]}}function ok(e){return function(t,n){var r=ml(t*t+n*n),i=e(r),s=Ut(i),o=Kt(i);return[ed(t*s,r*o),cu(r&&n*s/r)]}}var WIe=qIe(function(e){return ml(2/(1+e))});WIe.invert=ok(function(e){return 2*cu(e/2)});function xxt(){return wp(WIe).scale(124.75).clipAngle(180-.001)}var GIe=qIe(function(e){return(e=mIe(e))&&e/Ut(e)});GIe.invert=ok(function(e){return e});function Sxt(){return wp(GIe).scale(79.4188).clipAngle(180-.001)}function z6(e,t){return[e,x$(EJ((cs+t)/2))]}z6.invert=function(e,t){return[e,2*CS(pIe(t))-cs]};function Txt(){return YIe(z6).scale(961/pl)}function YIe(e){var t=wp(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,o=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?o=a=l=u=null:(o=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):o==null?null:[[o,a],[l,u]]};function c(){var d=Hn*r(),f=t(qEt(t.rotate()).invert([0,0]));return s(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===z6?[[Math.max(f[0]-d,o),a],[Math.min(f[0]+d,l),u]]:[[o,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function PN(e){return EJ((cs+e)/2)}function Cxt(e,t){var n=Kt(e),r=e===t?Ut(e):x$(n/Kt(t))/x$(PN(t)/PN(e)),i=n*VB(PN(e),r)/r;if(!r)return z6;function s(o,a){i>0?a<-cs+Gt&&(a=-cs+Gt):a>cs-Gt&&(a=cs-Gt);var l=i/VB(PN(a),r);return[l*Ut(r*o),i-l*Kt(r*o)]}return s.invert=function(o,a){var l=i-a,u=jc(r)*ml(o*o+l*l),c=ed(o,ur(l))*jc(l);return l*r<0&&(c-=Hn*jc(o)*jc(l)),[c/r,2*CS(VB(i/u,1/r))-cs]},s}function Axt(){return IJ(Cxt).scale(109.5).parallels([30,30])}function V$(e,t){return[e,t]}V$.invert=V$;function Ixt(){return wp(V$).scale(152.63)}function Rxt(e,t){var n=Kt(e),r=e===t?Ut(e):(n-Kt(t))/(t-e),i=n/r+e;if(ur(r)<Gt)return V$;function s(o,a){var l=i-a,u=r*o;return[l*Ut(u),i-l*Kt(u)]}return s.invert=function(o,a){var l=i-a,u=ed(o,ur(l))*jc(l);return l*r<0&&(u-=Hn*jc(o)*jc(l)),[u/r,i-jc(r)*ml(o*o+l*l)]},s}function kxt(){return IJ(Rxt).scale(131.154).center([0,13.9389])}var tA=1.340264,nA=-.081106,rA=893e-6,iA=.003796,H$=ml(3)/2,Pxt=12;function KIe(e,t){var n=cu(H$*Ut(t)),r=n*n,i=r*r*r;return[e*Kt(n)/(H$*(tA+3*nA*r+i*(7*rA+9*iA*r))),n*(tA+nA*r+i*(rA+iA*r))]}KIe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,o,a,l;s<Pxt&&(a=n*(tA+nA*r+i*(rA+iA*r))-t,l=tA+3*nA*r+i*(7*rA+9*iA*r),n-=o=a/l,r=n*n,i=r*r*r,!(ur(o)<w$));++s);return[H$*e*(tA+3*nA*r+i*(7*rA+9*iA*r))/Kt(n),cu(Ut(n)/H$)]};function Nxt(){return wp(KIe).scale(177.158)}function XIe(e,t){var n=Kt(t),r=Kt(e)*n;return[n*Ut(e)/r,Ut(t)/r]}XIe.invert=ok(CS);function Oxt(){return wp(XIe).scale(144.049).clipAngle(60)}function Dxt(){var e=1,t=0,n=0,r=1,i=1,s=0,o,a,l=null,u,c,d,f=1,h=1,p=j6({point:function(w,E){var S=_([w,E]);this.stream.point(S[0],S[1])}}),m=mI,g,y;function v(){return f=e*r,h=e*i,g=y=null,_}function _(w){var E=w[0]*f,S=w[1]*h;if(s){var x=S*o-E*a;E=E*o+S*a,S=x}return[E+t,S+n]}return _.invert=function(w){var E=w[0]-t,S=w[1]-n;if(s){var x=S*o+E*a;E=E*o-S*a,S=x}return[E/f,S/h]},_.stream=function(w){return g&&y===w?g:g=p(m(y=w))},_.postclip=function(w){return arguments.length?(m=w,l=u=c=d=null,v()):m},_.clipExtent=function(w){return arguments.length?(m=w==null?(l=u=c=d=null,mI):kIe(l=+w[0][0],u=+w[0][1],c=+w[1][0],d=+w[1][1]),v()):l==null?null:[[l,u],[c,d]]},_.scale=function(w){return arguments.length?(e=+w,v()):e},_.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],v()):[t,n]},_.angle=function(w){return arguments.length?(s=w%360*Bn,a=Ut(s),o=Kt(s),v()):s*bs},_.reflectX=function(w){return arguments.length?(r=w?-1:1,v()):r<0},_.reflectY=function(w){return arguments.length?(i=w?-1:1,v()):i<0},_.fitExtent=function(w,E){return B6(_,w,E)},_.fitSize=function(w,E){return TJ(_,w,E)},_.fitWidth=function(w,E){return CJ(_,w,E)},_.fitHeight=function(w,E){return AJ(_,w,E)},_}function QIe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}QIe.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-t)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(ur(i)>Gt&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function Mxt(){return wp(QIe).scale(175.295)}function JIe(e,t){return[Kt(t)*Ut(e),Ut(t)]}JIe.invert=ok(cu);function $xt(){return wp(JIe).scale(249.5).clipAngle(90+Gt)}function ZIe(e,t){var n=Kt(t),r=1+Kt(e)*n;return[n*Ut(e)/r,Ut(t)/r]}ZIe.invert=ok(function(e){return 2*CS(e)});function Lxt(){return wp(ZIe).scale(250).clipAngle(142)}function eRe(e,t){return[x$(EJ((cs+t)/2)),-e]}eRe.invert=function(e,t){return[-t,2*CS(pIe(e))-cs]};function Fxt(){var e=YIe(eRe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function jxt(e,t){return e.parent===t.parent?1:2}function Bxt(e){return e.reduce(zxt,0)/e.length}function zxt(e,t){return e+t.x}function Uxt(e){return 1+e.reduce(Vxt,0)}function Vxt(e,t){return Math.max(e,t.y)}function Hxt(e){for(var t;t=e.children;)e=t[0];return e}function qxt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Wxt(){var e=jxt,t=1,n=1,r=!1;function i(s){var o,a=0;s.eachAfter(function(f){var h=f.children;h?(f.x=Bxt(h),f.y=Uxt(h)):(f.x=o?a+=e(f,o):0,f.y=0,o=f)});var l=Hxt(s),u=qxt(s),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return s.eachAfter(r?function(f){f.x=(f.x-s.x)*t,f.y=(s.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(s.y?f.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function Gxt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Yxt(){return this.eachAfter(Gxt)}function Kxt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Xxt(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Qxt(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Jxt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Zxt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function eSt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function tSt(e){for(var t=this,n=nSt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function nSt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function rSt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function iSt(){return Array.from(this)}function sSt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function oSt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*aSt(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function RJ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=cSt)):t===void 0&&(t=uSt);for(var n=new rx(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new rx(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(tRe)}function lSt(){return RJ(this).eachBefore(dSt)}function uSt(e){return e.children}function cSt(e){return Array.isArray(e)?e[1]:null}function dSt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function tRe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function rx(e){this.data=e,this.depth=this.height=0,this.parent=null}rx.prototype=RJ.prototype={constructor:rx,count:Yxt,each:Kxt,eachAfter:Qxt,eachBefore:Xxt,find:Jxt,sum:Zxt,sort:eSt,path:tSt,ancestors:rSt,descendants:iSt,leaves:sSt,links:oSt,copy:lSt,[Symbol.iterator]:aSt};function mD(e){return e==null?null:nRe(e)}function nRe(e){if(typeof e!="function")throw new Error;return e}function h1(){return 0}function uw(e){return function(){return e}}const fSt=1664525,hSt=1013904223,Zfe=4294967296;function pSt(){let e=1;return()=>(e=(fSt*e+hSt)%Zfe)/Zfe}function mSt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gSt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function ySt(e,t){for(var n=0,r=(e=gSt(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&rRe(o,s)?++n:(o=bSt(i=vSt(i,s)),n=0);return o}function vSt(e,t){var n,r;if(YB(t,e))return[t];for(n=0;n<e.length;++n)if(NN(t,e[n])&&YB(UC(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(NN(UC(e[n],e[r]),t)&&NN(UC(e[n],t),e[r])&&NN(UC(e[r],t),e[n])&&YB(iRe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function NN(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function rRe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function YB(e,t){for(var n=0;n<t.length;++n)if(!rRe(e,t[n]))return!1;return!0}function bSt(e){switch(e.length){case 1:return _St(e[0]);case 2:return UC(e[0],e[1]);case 3:return iRe(e[0],e[1],e[2])}}function _St(e){return{x:e.x,y:e.y,r:e.r}}function UC(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,l=s-n,u=o-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+s+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+a)/2}}function iRe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-o,h=r-u,p=i-a,m=i-c,g=l-s,y=d-s,v=r*r+i*i-s*s,_=v-o*o-a*a+l*l,w=v-u*u-c*c+d*d,E=h*p-f*m,S=(p*w-m*_)/(E*2)-r,x=(m*g-p*y)/E,T=(h*_-f*w)/(E*2)-i,I=(f*y-h*g)/E,P=x*x+I*I-1,k=2*(s+S*x+T*I),D=S*S+T*T-s*s,R=-(Math.abs(P)>1e-6?(k+Math.sqrt(k*k-4*P*D))/(2*P):D/k);return{x:r+S+x*R,y:i+T+I*R,r:R}}function ehe(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,l,u=r*r+o*o;u?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(u+l-s)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(u+s-l)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function the(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function nhe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function ON(e){this._=e,this.next=null,this.previous=null}function wSt(e,t){if(!(s=(e=mSt(e)).length))return 0;var n,r,i,s,o,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;ehe(r,n,i=e[2]),n=new ON(n),r=new ON(r),i=new ON(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){ehe(n._,r._,i=e[l]),i=new ON(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(the(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(the(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=nhe(n);(i=i.next)!==r;)(a=nhe(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=ySt(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function ESt(e){return Math.sqrt(e.value)}function xSt(){var e=null,t=1,n=1,r=h1;function i(s){const o=pSt();return s.x=t/2,s.y=n/2,e?s.eachBefore(rhe(e)).eachAfter(KB(r,.5,o)).eachBefore(ihe(1)):s.eachBefore(rhe(ESt)).eachAfter(KB(h1,1,o)).eachAfter(KB(r,s.r/Math.min(t,n),o)).eachBefore(ihe(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=mD(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:uw(+s),i):r},i}function rhe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function KB(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,l;if(a)for(s=0;s<o;++s)i[s].r+=a;if(l=wSt(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=l+a}}}function ihe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function sRe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ak(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(r-t)/e.value;++a<l;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function SSt(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(sRe),o}function s(o,a){return function(l){l.children&&ak(l,l.x0,o*(l.depth+1)/a,l.x1,o*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var TSt={depth:-1},she={},XB={};function CSt(e){return e.id}function ASt(e){return e.parentId}function ohe(){var e=CSt,t=ASt,n;function r(i){var s=Array.from(i),o=e,a=t,l,u,c,d,f,h,p,m,g=new Map;if(n!=null){const y=s.map((w,E)=>ISt(n(w,E,i))),v=y.map(ahe),_=new Set(y).add("");for(const w of v)_.has(w)||(_.add(w),y.push(w),v.push(ahe(w)),s.push(XB));o=(w,E)=>y[E],a=(w,E)=>v[E]}for(c=0,l=s.length;c<l;++c)u=s[c],h=s[c]=new rx(u),(p=o(u,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?she:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=s[c],p=h.parent){if(f=g.get(p),!f)throw new Error("missing: "+p);if(f===she)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===XB&&d.children.length===1;)d=d.children[0],--l;for(let y=s.length-1;y>=0&&(h=s[y],h.data===XB);--y)h.data=null}if(d.parent=TSt,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(tRe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=mD(i),r):e},r.parentId=function(i){return arguments.length?(t=mD(i),r):t},r.path=function(i){return arguments.length?(n=mD(i),r):n},r}function ISt(e){e=`${e}`;let t=e.length;return cH(e,t-1)&&!cH(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function ahe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!cH(e,t););return e.slice(0,t)}function cH(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function RSt(e,t){return e.parent===t.parent?1:2}function QB(e){var t=e.children;return t?t[0]:e.t}function JB(e){var t=e.children;return t?t[t.length-1]:e.t}function kSt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function PSt(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function NSt(e,t,n){return e.a.parent===t.parent?e.a:n}function gD(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}gD.prototype=Object.create(rx.prototype);function OSt(e){for(var t=new gD(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new gD(s[o],o)),i.parent=n;return(t.parent=new gD(null,0)).children=[t],t}function DSt(){var e=RSt,t=1,n=1,r=null;function i(u){var c=OSt(u);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>h.depth&&(h=v)});var p=d===f?1:e(d,f)/2,m=p-d.x,g=t/(f.x+p+m),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return u}function s(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){PSt(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,p=c,m=f.parent.children[0],g=f.m,y=h.m,v=p.m,_=m.m,w;p=JB(p),f=QB(f),p&&f;)m=QB(m),h=JB(h),h.a=u,w=p.z+v-f.z-g+e(p._,f._),w>0&&(kSt(NSt(p,u,d),u,w),g+=w,y+=w),v+=p.m,g+=f.m,_+=m.m,y+=h.m;p&&!JB(h)&&(h.t=p,h.m+=v-y),f&&!QB(m)&&(m.t=f,m.m+=g-_,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function U6(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(i-n)/e.value;++a<l;)o=s[a],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var oRe=(1+Math.sqrt(5))/2;function aRe(e,t,n,r,i,s){for(var o=[],a=t.children,l,u,c=0,d=0,f=a.length,h,p,m=t.value,g,y,v,_,w,E,S;c<f;){h=i-n,p=s-r;do g=a[d++].value;while(!g&&d<f);for(y=v=g,E=Math.max(p/h,h/p)/(m*e),S=g*g*E,w=Math.max(v/S,S/y);d<f;++d){if(g+=u=a[d].value,u<y&&(y=u),u>v&&(v=u),S=g*g*E,_=Math.max(v/S,S/y),_>w){g-=u;break}w=_}o.push(l={value:g,dice:h<p,children:a.slice(c,d)}),l.dice?ak(l,n,r,i,m?r+=p*g/m:s):U6(l,n,r,m?n+=h*g/m:i,s),m-=g,c=d}return o}const lRe=function e(t){function n(r,i,s,o,a){aRe(t,r,i,s,o,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(oRe);function MSt(){var e=lRe,t=!1,n=1,r=1,i=[0],s=h1,o=h1,a=h1,l=h1,u=h1;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(sRe),f}function d(f){var h=i[f.depth],p=f.x0+h,m=f.y0+h,g=f.x1-h,y=f.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),f.x0=p,f.y0=m,f.x1=g,f.y1=y,f.children&&(h=i[f.depth+1]=s(f)/2,p+=u(f)-h,m+=o(f)-h,g-=a(f)-h,y-=l(f)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(f,p,m,g,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=nRe(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:uw(+f),c):s},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:uw(+f),c):o},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:uw(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:uw(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:uw(+f),c):u},c}function $St(e,t,n,r,i){var s=e.children,o,a=s.length,l,u=new Array(a+1);for(u[0]=l=o=0;o<a;++o)u[o+1]=l+=s[o].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,p,m,g,y){if(d>=f-1){var v=s[d];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var _=u[d],w=h/2+_,E=d+1,S=f-1;E<S;){var x=E+S>>>1;u[x]<w?E=x+1:S=x}w-u[E-1]<u[E]-w&&d+1<E&&--E;var T=u[E]-_,I=h-T;if(g-p>y-m){var P=h?(p*I+g*T)/h:g;c(d,E,T,p,m,P,y),c(E,f,I,P,m,g,y)}else{var k=h?(m*I+y*T)/h:y;c(d,E,T,p,m,g,k),c(E,f,I,p,k,g,y)}}}function LSt(e,t,n,r,i){(e.depth&1?U6:ak)(e,t,n,r,i)}const FSt=function e(t){function n(r,i,s,o,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,p=l.length,m=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?ak(u,i,s,o,m?s+=(a-s)*u.value/m:a):U6(u,i,s,m?i+=(o-i)*u.value/m:o,a),m-=u.value}else r._squarify=l=aRe(t,r,i,s,o,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(oRe);function $f(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dH=Symbol("implicit");function AS(){var e=new zde,t=[],n=[],r=dH;function i(s){let o=e.get(s);if(o===void 0){if(r!==dH)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new zde;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return AS(t,n).unknown(r)},$f.apply(i,arguments),i}function V6(){var e=AS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),p+=(m-p-s*(f-l))*c,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=Yl(f).map(function(y){return p+s*y});return n(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return V6(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},$f.apply(d(),arguments)}function jSt(e){return function(){return e}}function fH(e){return+e}var lhe=[0,1];function Kl(e){return e}function hH(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jSt(isNaN(t)?NaN:.5)}function BSt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zSt(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=hH(i,r),s=n(o,s)):(r=hH(r,i),s=n(s,o)),function(a){return s(r(a))}}function USt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=hH(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=cy(e,a,1,r)-1;return s[l](i[l](a))}}function lk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H6(){var e=lhe,t=lhe,n=gg,r,i,s,o=Kl,a,l,u;function c(){var f=Math.min(e.length,t.length);return o!==Kl&&(o=BSt(e[0],e[f-1])),a=f>2?USt:zSt,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(t,e.map(r),Rc)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,fH),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=rk,c()},d.clamp=function(f){return arguments.length?(o=f?!0:Kl,c()):o!==Kl},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,h){return r=f,i=h,c()}}function uRe(){return H6()(Kl,Kl)}function cRe(e,t,n,r){var i=dy(e,t,n),s;switch(r=fb(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=fIe(i,o))&&(r.precision=s),wJ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=hIe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=dIe(i))&&(r.precision=s-(r.type==="%")*2);break}}return TS(r)}function e_(e){var t=e.domain;return e.ticks=function(n){var r=t();return CV(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return cRe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=AV(o,a,n),u===l)return r[i]=o,r[s]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function il(){var e=uRe();return e.copy=function(){return lk(e,il())},$f.apply(e,arguments),e_(e)}function dRe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fH),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return dRe(e).unknown(t)},e=arguments.length?Array.from(e,fH):[0,1],e_(n)}function fRe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function uhe(e){return Math.log(e)}function che(e){return Math.exp(e)}function VSt(e){return-Math.log(-e)}function HSt(e){return-Math.exp(-e)}function qSt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function WSt(e){return e===10?qSt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GSt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dhe(e){return(t,n)=>-e(-t,n)}function kJ(e){const t=e(uhe,che),n=t.domain;let r=10,i,s;function o(){return i=GSt(r),s=WSt(r),n()[0]<0?(i=dhe(i),s=dhe(s),e(VSt,HSt)):e(uhe,che),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;y.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=CV(u,c,g))}else y=CV(f,h,Math.min(h-f,g)).map(s);return d?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fb(l)).precision==null&&(l.trim=!0),l=TS(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(fRe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function hRe(){const e=kJ(H6()).domain([1,10]);return e.copy=()=>lk(e,hRe()).base(e.base()),$f.apply(e,arguments),e}function fhe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hhe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function PJ(e){var t=1,n=e(fhe(t),hhe(t));return n.constant=function(r){return arguments.length?e(fhe(t=+r),hhe(t)):t},e_(n)}function pRe(){var e=PJ(H6());return e.copy=function(){return lk(e,pRe()).constant(e.constant())},$f.apply(e,arguments)}function phe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YSt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KSt(e){return e<0?-e*e:e*e}function NJ(e){var t=e(Kl,Kl),n=1;function r(){return n===1?e(Kl,Kl):n===.5?e(YSt,KSt):e(phe(n),phe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},e_(t)}function OJ(){var e=NJ(H6());return e.copy=function(){return lk(e,OJ()).exponent(e.exponent())},$f.apply(e,arguments),e}function XSt(){return OJ.apply(null,arguments).exponent(.5)}function mRe(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=cAe(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[cy(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Am),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return mRe().domain(e).range(t).unknown(r)},$f.apply(s,arguments)}function gRe(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[cy(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return gRe().domain([e,t]).range(i).unknown(s)},$f.apply(e_(o),arguments)}function yRe(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[cy(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return yRe().domain(e).range(t).unknown(n)},$f.apply(i,arguments)}const ZB=new Date,e9=new Date;function so(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>so(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(ZB.setTime(+s),e9.setTime(+o),e(ZB),e(e9),Math.floor(n(ZB,e9))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ix=so(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ix.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?so(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ix);ix.range;const hm=1e3,Bc=hm*60,pm=Bc*60,Xm=pm*24,DJ=Xm*7,mhe=Xm*30,t9=Xm*365,mm=so(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hm)},(e,t)=>(t-e)/hm,e=>e.getUTCSeconds());mm.range;const q6=so(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hm)},(e,t)=>{e.setTime(+e+t*Bc)},(e,t)=>(t-e)/Bc,e=>e.getMinutes());q6.range;const W6=so(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bc)},(e,t)=>(t-e)/Bc,e=>e.getUTCMinutes());W6.range;const G6=so(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hm-e.getMinutes()*Bc)},(e,t)=>{e.setTime(+e+t*pm)},(e,t)=>(t-e)/pm,e=>e.getHours());G6.range;const Y6=so(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pm)},(e,t)=>(t-e)/pm,e=>e.getUTCHours());Y6.range;const Rm=so(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bc)/Xm,e=>e.getDate()-1);Rm.range;const q0=so(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xm,e=>e.getUTCDate()-1);q0.range;const vRe=so(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xm,e=>Math.floor(e/Xm));vRe.range;function t_(e){return so(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bc)/DJ)}const IS=t_(0),q$=t_(1),QSt=t_(2),JSt=t_(3),sx=t_(4),ZSt=t_(5),eTt=t_(6);IS.range;q$.range;QSt.range;JSt.range;sx.range;ZSt.range;eTt.range;function n_(e){return so(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/DJ)}const RS=n_(0),W$=n_(1),tTt=n_(2),nTt=n_(3),ox=n_(4),rTt=n_(5),iTt=n_(6);RS.range;W$.range;tTt.range;nTt.range;ox.range;rTt.range;iTt.range;const vI=so(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vI.range;const bI=so(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bI.range;const Jh=so(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:so(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Jh.range;const Zh=so(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:so(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zh.range;function bRe(e,t,n,r,i,s){const o=[[mm,1,hm],[mm,5,5*hm],[mm,15,15*hm],[mm,30,30*hm],[s,1,Bc],[s,5,5*Bc],[s,15,15*Bc],[s,30,30*Bc],[i,1,pm],[i,3,3*pm],[i,6,6*pm],[i,12,12*pm],[r,1,Xm],[r,2,2*Xm],[n,1,DJ],[t,1,mhe],[t,3,3*mhe],[e,1,t9]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=xS(([,,g])=>g).right(o,f);if(h===o.length)return e.every(dy(u/t9,c/t9,d));if(h===0)return ix.every(Math.max(dy(u,c,d),1));const[p,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[sTt,oTt]=bRe(Zh,bI,RS,vRe,Y6,W6),[aTt,lTt]=bRe(Jh,vI,IS,Rm,G6,q6);function n9(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r9(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function HT(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _Re(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=qT(i),c=WT(i),d=qT(s),f=WT(s),h=qT(o),p=WT(o),m=qT(a),g=WT(a),y=qT(l),v=WT(l),_={a:B,A:z,b:U,B:N,c:null,d:whe,e:whe,f:PTt,g:zTt,G:VTt,H:ITt,I:RTt,j:kTt,L:wRe,m:NTt,M:OTt,p:V,q:W,Q:She,s:The,S:DTt,u:MTt,U:$Tt,V:LTt,w:FTt,W:jTt,x:null,X:null,y:BTt,Y:UTt,Z:HTt,"%":xhe},w={a:F,A:H,b:G,B:X,c:null,d:Ehe,e:Ehe,f:YTt,g:iCt,G:oCt,H:qTt,I:WTt,j:GTt,L:xRe,m:KTt,M:XTt,p:ie,q:oe,Q:She,s:The,S:QTt,u:JTt,U:ZTt,V:eCt,w:tCt,W:nCt,x:null,X:null,y:rCt,Y:sCt,Z:aCt,"%":xhe},E={a:P,A:k,b:D,B:R,c:M,d:bhe,e:bhe,f:STt,g:vhe,G:yhe,H:_he,I:_he,j:_Tt,L:xTt,m:bTt,M:wTt,p:I,q:vTt,Q:CTt,s:ATt,S:ETt,u:hTt,U:pTt,V:mTt,w:fTt,W:gTt,x:$,X:L,y:vhe,Y:yhe,Z:yTt,"%":TTt};_.x=S(n,_),_.X=S(r,_),_.c=S(t,_),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(se,le){return function(Se){var de=[],De=-1,Fe=0,Be=se.length,je,me,ne;for(Se instanceof Date||(Se=new Date(+Se));++De<Be;)se.charCodeAt(De)===37&&(de.push(se.slice(Fe,De)),(me=ghe[je=se.charAt(++De)])!=null?je=se.charAt(++De):me=je==="e"?" ":"0",(ne=le[je])&&(je=ne(Se,me)),de.push(je),Fe=De+1);return de.push(se.slice(Fe,De)),de.join("")}}function x(se,le){return function(Se){var de=HT(1900,void 0,1),De=T(de,se,Se+="",0),Fe,Be;if(De!=Se.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(le&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Fe=r9(HT(de.y,0,1)),Be=Fe.getUTCDay(),Fe=Be>4||Be===0?W$.ceil(Fe):W$(Fe),Fe=q0.offset(Fe,(de.V-1)*7),de.y=Fe.getUTCFullYear(),de.m=Fe.getUTCMonth(),de.d=Fe.getUTCDate()+(de.w+6)%7):(Fe=n9(HT(de.y,0,1)),Be=Fe.getDay(),Fe=Be>4||Be===0?q$.ceil(Fe):q$(Fe),Fe=Rm.offset(Fe,(de.V-1)*7),de.y=Fe.getFullYear(),de.m=Fe.getMonth(),de.d=Fe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Be="Z"in de?r9(HT(de.y,0,1)).getUTCDay():n9(HT(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Be+5)%7:de.w+de.U*7-(Be+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,r9(de)):n9(de)}}function T(se,le,Se,de){for(var De=0,Fe=le.length,Be=Se.length,je,me;De<Fe;){if(de>=Be)return-1;if(je=le.charCodeAt(De++),je===37){if(je=le.charAt(De++),me=E[je in ghe?le.charAt(De++):je],!me||(de=me(se,Se,de))<0)return-1}else if(je!=Se.charCodeAt(de++))return-1}return de}function I(se,le,Se){var de=u.exec(le.slice(Se));return de?(se.p=c.get(de[0].toLowerCase()),Se+de[0].length):-1}function P(se,le,Se){var de=h.exec(le.slice(Se));return de?(se.w=p.get(de[0].toLowerCase()),Se+de[0].length):-1}function k(se,le,Se){var de=d.exec(le.slice(Se));return de?(se.w=f.get(de[0].toLowerCase()),Se+de[0].length):-1}function D(se,le,Se){var de=y.exec(le.slice(Se));return de?(se.m=v.get(de[0].toLowerCase()),Se+de[0].length):-1}function R(se,le,Se){var de=m.exec(le.slice(Se));return de?(se.m=g.get(de[0].toLowerCase()),Se+de[0].length):-1}function M(se,le,Se){return T(se,t,le,Se)}function $(se,le,Se){return T(se,n,le,Se)}function L(se,le,Se){return T(se,r,le,Se)}function B(se){return o[se.getDay()]}function z(se){return s[se.getDay()]}function U(se){return l[se.getMonth()]}function N(se){return a[se.getMonth()]}function V(se){return i[+(se.getHours()>=12)]}function W(se){return 1+~~(se.getMonth()/3)}function F(se){return o[se.getUTCDay()]}function H(se){return s[se.getUTCDay()]}function G(se){return l[se.getUTCMonth()]}function X(se){return a[se.getUTCMonth()]}function ie(se){return i[+(se.getUTCHours()>=12)]}function oe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var le=S(se+="",_);return le.toString=function(){return se},le},parse:function(se){var le=x(se+="",!1);return le.toString=function(){return se},le},utcFormat:function(se){var le=S(se+="",w);return le.toString=function(){return se},le},utcParse:function(se){var le=x(se+="",!0);return le.toString=function(){return se},le}}}var ghe={"-":"",_:" ",0:"0"},To=/^\s*\d+/,uTt=/^%/,cTt=/[\\^$*+?|[\]().{}]/g;function Ir(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function dTt(e){return e.replace(cTt,"\\$&")}function qT(e){return new RegExp("^(?:"+e.map(dTt).join("|")+")","i")}function WT(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function fTt(e,t,n){var r=To.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function hTt(e,t,n){var r=To.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pTt(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mTt(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gTt(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yhe(e,t,n){var r=To.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vhe(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yTt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vTt(e,t,n){var r=To.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function bTt(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bhe(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _Tt(e,t,n){var r=To.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _he(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function wTt(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ETt(e,t,n){var r=To.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xTt(e,t,n){var r=To.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function STt(e,t,n){var r=To.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TTt(e,t,n){var r=uTt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function CTt(e,t,n){var r=To.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ATt(e,t,n){var r=To.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function whe(e,t){return Ir(e.getDate(),t,2)}function ITt(e,t){return Ir(e.getHours(),t,2)}function RTt(e,t){return Ir(e.getHours()%12||12,t,2)}function kTt(e,t){return Ir(1+Rm.count(Jh(e),e),t,3)}function wRe(e,t){return Ir(e.getMilliseconds(),t,3)}function PTt(e,t){return wRe(e,t)+"000"}function NTt(e,t){return Ir(e.getMonth()+1,t,2)}function OTt(e,t){return Ir(e.getMinutes(),t,2)}function DTt(e,t){return Ir(e.getSeconds(),t,2)}function MTt(e){var t=e.getDay();return t===0?7:t}function $Tt(e,t){return Ir(IS.count(Jh(e)-1,e),t,2)}function ERe(e){var t=e.getDay();return t>=4||t===0?sx(e):sx.ceil(e)}function LTt(e,t){return e=ERe(e),Ir(sx.count(Jh(e),e)+(Jh(e).getDay()===4),t,2)}function FTt(e){return e.getDay()}function jTt(e,t){return Ir(q$.count(Jh(e)-1,e),t,2)}function BTt(e,t){return Ir(e.getFullYear()%100,t,2)}function zTt(e,t){return e=ERe(e),Ir(e.getFullYear()%100,t,2)}function UTt(e,t){return Ir(e.getFullYear()%1e4,t,4)}function VTt(e,t){var n=e.getDay();return e=n>=4||n===0?sx(e):sx.ceil(e),Ir(e.getFullYear()%1e4,t,4)}function HTt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ir(t/60|0,"0",2)+Ir(t%60,"0",2)}function Ehe(e,t){return Ir(e.getUTCDate(),t,2)}function qTt(e,t){return Ir(e.getUTCHours(),t,2)}function WTt(e,t){return Ir(e.getUTCHours()%12||12,t,2)}function GTt(e,t){return Ir(1+q0.count(Zh(e),e),t,3)}function xRe(e,t){return Ir(e.getUTCMilliseconds(),t,3)}function YTt(e,t){return xRe(e,t)+"000"}function KTt(e,t){return Ir(e.getUTCMonth()+1,t,2)}function XTt(e,t){return Ir(e.getUTCMinutes(),t,2)}function QTt(e,t){return Ir(e.getUTCSeconds(),t,2)}function JTt(e){var t=e.getUTCDay();return t===0?7:t}function ZTt(e,t){return Ir(RS.count(Zh(e)-1,e),t,2)}function SRe(e){var t=e.getUTCDay();return t>=4||t===0?ox(e):ox.ceil(e)}function eCt(e,t){return e=SRe(e),Ir(ox.count(Zh(e),e)+(Zh(e).getUTCDay()===4),t,2)}function tCt(e){return e.getUTCDay()}function nCt(e,t){return Ir(W$.count(Zh(e)-1,e),t,2)}function rCt(e,t){return Ir(e.getUTCFullYear()%100,t,2)}function iCt(e,t){return e=SRe(e),Ir(e.getUTCFullYear()%100,t,2)}function sCt(e,t){return Ir(e.getUTCFullYear()%1e4,t,4)}function oCt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ox(e):ox.ceil(e),Ir(e.getUTCFullYear()%1e4,t,4)}function aCt(){return"+0000"}function xhe(){return"%"}function She(e){return+e}function The(e){return Math.floor(+e/1e3)}var V_,MJ,TRe,K6,CRe;lCt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lCt(e){return V_=_Re(e),MJ=V_.format,TRe=V_.parse,K6=V_.utcFormat,CRe=V_.utcParse,V_}function uCt(e){return new Date(e)}function cCt(e){return e instanceof Date?+e:+new Date(+e)}function $J(e,t,n,r,i,s,o,a,l,u){var c=uRe(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),_=u("%B"),w=u("%Y");function E(S){return(l(S)<S?h:a(S)<S?p:o(S)<S?m:s(S)<S?g:r(S)<S?i(S)<S?y:v:n(S)<S?_:w)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,cCt)):f().map(uCt)},c.ticks=function(S){var x=f();return e(x[0],x[x.length-1],S??10)},c.tickFormat=function(S,x){return x==null?E:u(x)},c.nice=function(S){var x=f();return(!S||typeof S.range!="function")&&(S=t(x[0],x[x.length-1],S??10)),S?f(fRe(x,S)):c},c.copy=function(){return lk(c,$J(e,t,n,r,i,s,o,a,l,u))},c}function ARe(){return $f.apply($J(aTt,lTt,Jh,vI,IS,Rm,G6,q6,mm,MJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dCt(){return $f.apply($J(sTt,oTt,Zh,bI,RS,q0,Y6,W6,mm,K6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X6(){var e=0,t=1,n,r,i,s,o=Kl,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var h,p;return arguments.length?([h,p]=f,o=d(h,p),u):[o(0),o(1)]}}return u.range=c(gg),u.rangeRound=c(rk),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function ov(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LJ(){var e=e_(X6()(Kl));return e.copy=function(){return ov(e,LJ())},sv.apply(e,arguments)}function IRe(){var e=kJ(X6()).domain([1,10]);return e.copy=function(){return ov(e,IRe()).base(e.base())},sv.apply(e,arguments)}function RRe(){var e=PJ(X6());return e.copy=function(){return ov(e,RRe()).constant(e.constant())},sv.apply(e,arguments)}function FJ(){var e=NJ(X6());return e.copy=function(){return ov(e,FJ()).exponent(e.exponent())},sv.apply(e,arguments)}function fCt(){return FJ.apply(null,arguments).exponent(.5)}function Q6(){var e=0,t=.5,n=1,r=1,i,s,o,a,l,u=Kl,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),s=c(t=+t),o=c(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var y,v,_;return arguments.length?([y,v,_]=g,u=dJ(m,[y,v,_]),h):[u(0),u(.5),u(1)]}}return h.range=p(gg),h.rangeRound=p(rk),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function kRe(){var e=e_(Q6()(Kl));return e.copy=function(){return ov(e,kRe())},sv.apply(e,arguments)}function PRe(){var e=kJ(Q6()).domain([.1,1,10]);return e.copy=function(){return ov(e,PRe()).base(e.base())},sv.apply(e,arguments)}function NRe(){var e=PJ(Q6());return e.copy=function(){return ov(e,NRe()).constant(e.constant())},sv.apply(e,arguments)}function jJ(){var e=NJ(Q6());return e.copy=function(){return ov(e,jJ()).exponent(e.exponent())},sv.apply(e,arguments)}function hCt(){return jJ.apply(null,arguments).exponent(.5)}function Lf(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const pCt=Lf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),mCt=Lf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),gCt=Lf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),yCt=Lf("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),vCt=Lf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),bCt=Lf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),_Ct=Lf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wCt=Lf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ECt=Lf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),xCt=Lf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ORe=Lf("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Fr(e){return function(){return e}}const Che=Math.abs,ma=Math.atan2,Nv=Math.cos,SCt=Math.max,i9=Math.min,Xf=Math.sin,P1=Math.sqrt,va=1e-12,ax=Math.PI,G$=ax/2,DRe=2*ax;function TCt(e){return e>1?0:e<-1?ax:Math.acos(e)}function Ahe(e){return e>=1?G$:e<=-1?-G$:Math.asin(e)}function J6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new gJ(t)}function CCt(e){return e.innerRadius}function ACt(e){return e.outerRadius}function ICt(e){return e.startAngle}function RCt(e){return e.endAngle}function kCt(e){return e&&e.padAngle}function PCt(e,t,n,r,i,s,o,a){var l=n-e,u=r-t,c=o-i,d=a-s,f=d*l-c*u;if(!(f*f<va))return f=(c*(t-s)-d*(e-i))/f,[e+f*l,t+f*u]}function DN(e,t,n,r,i,s,o){var a=e-n,l=t-r,u=(o?s:-s)/P1(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,y=(h+m)/2,v=p-f,_=m-h,w=v*v+_*_,E=i-s,S=f*m-p*h,x=(_<0?-1:1)*P1(SCt(0,E*E*w-S*S)),T=(S*_-v*x)/w,I=(-S*v-_*x)/w,P=(S*_+v*x)/w,k=(-S*v+_*x)/w,D=T-g,R=I-y,M=P-g,$=k-y;return D*D+R*R>M*M+$*$&&(T=P,I=k),{cx:T,cy:I,x01:-c,y01:-d,x11:T*(i/E-1),y11:I*(i/E-1)}}function NCt(){var e=CCt,t=ACt,n=Fr(0),r=null,i=ICt,s=RCt,o=kCt,a=null,l=J6(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-G$,m=s.apply(this,arguments)-G$,g=Che(m-p),y=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>va))a.moveTo(0,0);else if(g>DRe-va)a.moveTo(h*Nv(p),h*Xf(p)),a.arc(0,0,h,p,m,!y),f>va&&(a.moveTo(f*Nv(m),f*Xf(m)),a.arc(0,0,f,m,p,y));else{var v=p,_=m,w=p,E=m,S=g,x=g,T=o.apply(this,arguments)/2,I=T>va&&(r?+r.apply(this,arguments):P1(f*f+h*h)),P=i9(Che(h-f)/2,+n.apply(this,arguments)),k=P,D=P,R,M;if(I>va){var $=Ahe(I/f*Xf(T)),L=Ahe(I/h*Xf(T));(S-=$*2)>va?($*=y?1:-1,w+=$,E-=$):(S=0,w=E=(p+m)/2),(x-=L*2)>va?(L*=y?1:-1,v+=L,_-=L):(x=0,v=_=(p+m)/2)}var B=h*Nv(v),z=h*Xf(v),U=f*Nv(E),N=f*Xf(E);if(P>va){var V=h*Nv(_),W=h*Xf(_),F=f*Nv(w),H=f*Xf(w),G;if(g<ax)if(G=PCt(B,z,F,H,V,W,U,N)){var X=B-G[0],ie=z-G[1],oe=V-G[0],se=W-G[1],le=1/Xf(TCt((X*oe+ie*se)/(P1(X*X+ie*ie)*P1(oe*oe+se*se)))/2),Se=P1(G[0]*G[0]+G[1]*G[1]);k=i9(P,(f-Se)/(le-1)),D=i9(P,(h-Se)/(le+1))}else k=D=0}x>va?D>va?(R=DN(F,H,B,z,h,D,y),M=DN(V,W,U,N,h,D,y),a.moveTo(R.cx+R.x01,R.cy+R.y01),D<P?a.arc(R.cx,R.cy,D,ma(R.y01,R.x01),ma(M.y01,M.x01),!y):(a.arc(R.cx,R.cy,D,ma(R.y01,R.x01),ma(R.y11,R.x11),!y),a.arc(0,0,h,ma(R.cy+R.y11,R.cx+R.x11),ma(M.cy+M.y11,M.cx+M.x11),!y),a.arc(M.cx,M.cy,D,ma(M.y11,M.x11),ma(M.y01,M.x01),!y))):(a.moveTo(B,z),a.arc(0,0,h,v,_,!y)):a.moveTo(B,z),!(f>va)||!(S>va)?a.lineTo(U,N):k>va?(R=DN(U,N,V,W,f,-k,y),M=DN(B,z,F,H,f,-k,y),a.lineTo(R.cx+R.x01,R.cy+R.y01),k<P?a.arc(R.cx,R.cy,k,ma(R.y01,R.x01),ma(M.y01,M.x01),!y):(a.arc(R.cx,R.cy,k,ma(R.y01,R.x01),ma(R.y11,R.x11),!y),a.arc(0,0,f,ma(R.cy+R.y11,R.cx+R.x11),ma(M.cy+M.y11,M.cx+M.x11),y),a.arc(M.cx,M.cy,k,ma(M.y11,M.x11),ma(M.y01,M.x01),!y))):a.arc(0,0,f,E,w,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-ax/2;return[Nv(d)*c,Xf(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Fr(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Fr(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Fr(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Fr(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Fr(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Fr(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Fr(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function MRe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $Re(e){this._context=e}$Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function BJ(e){return new $Re(e)}function LRe(e){return e[0]}function FRe(e){return e[1]}function Y$(e,t){var n=Fr(!0),r=null,i=BJ,s=null,o=J6(a);e=typeof e=="function"?e:e===void 0?LRe:Fr(e),t=typeof t=="function"?t:t===void 0?FRe:Fr(t);function a(l){var u,c=(l=MRe(l)).length,d,f=!1,h;for(r==null&&(s=i(h=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,l),+t(d,u,l));if(h)return s=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Fr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Fr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function jRe(e,t,n){var r=null,i=Fr(!0),s=null,o=BJ,a=null,l=J6(u);e=typeof e=="function"?e:e===void 0?LRe:Fr(+e),t=typeof t=="function"?t:Fr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?FRe:Fr(+n);function u(d){var f,h,p,m=(d=MRe(d)).length,g,y=!1,v,_=new Array(m),w=new Array(m);for(s==null&&(a=o(v=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===y)if(y=!y)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(_[p],w[p]);a.lineEnd(),a.areaEnd()}y&&(_[f]=+e(g,f,d),w[f]=+t(g,f,d),a.point(r?+r(g,f,d):_[f],n?+n(g,f,d):w[f]))}if(v)return a=null,v+""||null}function c(){return Y$().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Fr(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Fr(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Fr(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Fr(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Fr(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Fr(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Fr(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}const OCt={draw(e,t){const n=P1(t/ax);e.moveTo(n,0),e.arc(0,0,n,0,DRe)}};function DCt(e,t){let n=null,r=J6(i);e=typeof e=="function"?e:Fr(e||OCt),t=typeof t=="function"?t:Fr(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Fr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Fr(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function hy(){}function K$(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Z6(e){this._context=e}Z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:K$(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:K$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pH(e){return new Z6(e)}function BRe(e){this._context=e}BRe.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:K$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MCt(e){return new BRe(e)}function zRe(e){this._context=e}zRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:K$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $Ct(e){return new zRe(e)}function URe(e,t){this._basis=new Z6(e),this._beta=t}URe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const LCt=function e(t){function n(r){return t===1?new Z6(r):new URe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function X$(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function zJ(e,t){this._context=e,this._k=(1-t)/6}zJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:X$(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:X$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FCt=function e(t){function n(r){return new zJ(r,t)}return n.tension=function(r){return e(+r)},n}(0);function UJ(e,t){this._context=e,this._k=(1-t)/6}UJ.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:X$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jCt=function e(t){function n(r){return new UJ(r,t)}return n.tension=function(r){return e(+r)},n}(0);function VJ(e,t){this._context=e,this._k=(1-t)/6}VJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:X$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BCt=function e(t){function n(r){return new VJ(r,t)}return n.tension=function(r){return e(+r)},n}(0);function HJ(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>va){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>va){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function VRe(e,t){this._context=e,this._alpha=t}VRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:HJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zCt=function e(t){function n(r){return t?new VRe(r,t):new zJ(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function HRe(e,t){this._context=e,this._alpha=t}HRe.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:HJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UCt=function e(t){function n(r){return t?new HRe(r,t):new UJ(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function qRe(e,t){this._context=e,this._alpha=t}qRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:HJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VCt=function e(t){function n(r){return t?new qRe(r,t):new VJ(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function WRe(e){this._context=e}WRe.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function HCt(e){return new WRe(e)}function Ihe(e){return e<0?-1:1}function Rhe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(Ihe(s)+Ihe(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function khe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function s9(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function Q$(e){this._context=e}Q$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s9(this,this._t0,khe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s9(this,khe(this,n=Rhe(this,e,t)),n);break;default:s9(this,this._t0,n=Rhe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function GRe(e){this._context=new YRe(e)}(GRe.prototype=Object.create(Q$.prototype)).point=function(e,t){Q$.prototype.point.call(this,t,e)};function YRe(e){this._context=e}YRe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function qCt(e){return new Q$(e)}function WCt(e){return new GRe(e)}function KRe(e){this._context=e}KRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Phe(e),i=Phe(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Phe(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function GCt(e){return new KRe(e)}function e4(e,t){this._context=e,this._t=t}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function YCt(e){return new e4(e,.5)}function KCt(e){return new e4(e,0)}function XCt(e){return new e4(e,1)}function VC(e,t,n){this.k=e,this.x=t,this.y=n}VC.prototype={constructor:VC,scale:function(e){return e===1?this:new VC(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new VC(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};VC.prototype;function uk({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:l=!1,columnList:u,setColumn:c,stringTicks:d=!1}){const f=A.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),h=A.useCallback(p=>(s?K6("%B"):TS(".2s"))(p),[s]);return b.jsxs(b.Fragment,{children:[b.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:b.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:b.jsx(dl,{children:b.jsx(Rn,{gap:3,children:b.jsx(nt,{size:a?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),b.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?b.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:p,offset:m})=>b.jsxs("g",{transform:`translate(${m}, ${n})`,children:[b.jsx("line",{y2:"6",stroke:"currentColor"}),o?b.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,b.jsx("foreignObject",{x:0-f/2,y:10,width:f,height:20,children:b.jsx(dl,{children:b.jsx(dn,{withinPortal:!0,label:p,children:b.jsx(nt,{px:2,size:"10px",style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:d?p:+p==0?0:h(s?new Date(p):p)})})})})]},`${p}test`))]})}const QCt=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:uk},Symbol.toStringTag,{value:"Module"}));function t4({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=A.useMemo(()=>{const l=i.reduce((u,{value:c})=>{const{length:d}=`${c}`;return d>u?d:u},0);return l>20?120:l*6},[i]);return b.jsxs(b.Fragment,{children:[b.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:b.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:b.jsx(dl,{children:b.jsx(Rn,{gap:3,children:b.jsx(nt,{size:o?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),b.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?b.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:l,offset:u})=>b.jsxs("g",{transform:`translate(${n}, ${u})`,children:[b.jsx("line",{x2:"-6",stroke:"currentColor"}),s?b.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,b.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:b.jsx("foreignObject",{width:a,height:20,children:b.jsx(Rn,{style:{width:"100%",height:"100%"},justify:"right",children:b.jsx(nt,{lineClamp:1,style:{textOverflow:"ellipsis",overflow:"hidden"},size:"10px",children:l})})})},l)]},l))]})}const JCt=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:t4},Symbol.toStringTag,{value:"Module"})),Pl={top:15,left:160,right:50,bottom:130};function mH({barsTable:e,fullTable:t,parameters:n,data:r,setSelection:i}){const[s,{height:o,width:a}]=nf(),l=A.useMemo(()=>a-Pl.left-Pl.right,[a]),u=A.useMemo(()=>o-Pl.top-Pl.bottom,[o]),c=A.useMemo(()=>t==null?void 0:t.groupby(n.category).count(),[]),d=A.useMemo(()=>{const g=Array.from(new Set(r.map(y=>y[n.category])));return AS(ORe).domain(g)},[r,n.category]),f=A.useMemo(()=>c?il([Pl.left,l+Pl.left]).domain([0,Gc(c.objects().map(g=>g.count))]).nice():null,[c,l]),h=A.useMemo(()=>c?V6([Pl.top,u+Pl.top]).domain(c.array(n.category).sort()).paddingInner(.1):null,[c,u,n.category]),p=A.useMemo(()=>!f||!h||!d||!e?null:e.objects().map((g,y)=>g[n.category]===null||g.count===null?null:b.jsxs("g",{style:{cursor:"pointer"},children:[b.jsx("rect",{onClick:v=>i(r.filter(_=>_[n.category]===g[n.category]).map(_=>_[n.ids]),v),x:Pl.left,y:h(g[n.category]),fill:d(g[n.category]),height:h.bandwidth(),width:f(g.count)-Pl.left},y),b.jsx("text",{x:f(g.count)+5,y:h(g[n.category])+h.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:g.count})]},y)),[e,d,r,n.category,n.ids,i,f,h]),m=A.useMemo(()=>!f||!h||!d||!c?null:c.objects().map((g,y)=>g[n.category]===null||g.count===null?null:b.jsx("g",{style:{cursor:"pointer"},children:b.jsx("rect",{opacity:.7,onClick:v=>i(r.filter(_=>_[n.category]===g[n.category]).map(_=>_[n.ids]),v),x:Pl.left,y:h(g[n.category]),fill:"lightgray",height:h.bandwidth(),width:f(g.count)-Pl.left},y)},y)),[d,r,c,n.category,n.ids,i,f,h]);return h&&f?b.jsxs("svg",{ref:s,style:{height:"500px",width:"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[b.jsx(uk,{xScale:f,yRange:h.range(),vertPosition:u+Pl.top,showLines:!1,label:"Count",ticks:f.ticks(5).map(g=>({value:g.toString(),offset:f(g)}))}),h?b.jsx(t4,{yScale:h,horizontalPosition:Pl.left,xRange:f.range(),label:n.category,ticks:d.domain().map(g=>({value:g,offset:h(g)+h.bandwidth()/2}))}):null,m,p]}):b.jsx(ws,{})}const ZCt=Object.freeze(Object.defineProperty({__proto__:null,Bar:mH,default:mH},Symbol.toStringTag,{value:"Module"})),Tr=Array.isArray;function du(e){return e!=null?Tr(e)?e:[e]:[]}function e2t(e=0,t=1/0){return`${Nhe(e)} < row_number() && row_number() <= ${Nhe(t)}`}function Nhe(e){return e<0?`count() + ${e}`:e}class XRe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(e2t(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,du(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Ln(e){throw Error(e)}function gl(e){return typeof e=="number"}function Ni(e){return typeof e=="function"}function n4(e,t){const n=Array(e);if(Ni(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let t2t=class extends XRe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Ln("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Ln("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Ln("Not implemented")}getter(t){Ln("Not implemented")}objects(t){Ln("Not implemented")}object(t){Ln("Not implemented")}[Symbol.iterator](){Ln("Not implemented")}print(t={}){gl(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,l=this._data;r.sort((u,c)=>a(u,c,l))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=n4(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let l=0,u;l<a;++l)u=s[l],i[n[u]].push(u);else if(o)for(let l=o.next(0);l>=0;l=o.next(l+1))i[n[l]].push(l);else for(let l=0;l<a;++l)i[n[l]].push(l);if(t&&!s&&this.isOrdered()){const l=this._order,u=this._data;for(let c=0;c<r;++c)i[c].sort((d,f)=>l(d,f,u))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let l=i||0;if(l>o)return;const u=Math.min(o,l+r),c=()=>l=this._total;if(n&&this.isOrdered()||s&&this._index){const d=this.indices(),f=this._data;for(;l<u;++l)t(d[l],f,c)}else if(s){let d=u-l+1;for(l=s.nth(l);--d&&l>-1;l=s.next(l+1))t(l,a,c)}else for(;l<u;++l)t(l,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},n2t=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},r2t=function(e){return e&&Ni(e.get)?e:new n2t(e)};function Qm(e){return e instanceof Date}function La(e){return e===Object(e)}function J$(e){return e instanceof RegExp}function na(e){return typeof e=="string"}function i2t(e,t){const n=r=>Ln(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?Ohe(e.entries(),t):Qm(e)?n("Date"):J$(e)?n("RegExp"):na(e)?n():Tr(e)?s2t(e,t):Ni(e[Symbol.iterator])?o2t(e,t):La(e)?Ohe(Object.entries(e),t):n()}function Ohe(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function s2t(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const l=e[a];for(let u=0;u<o;++u)s[u][a]=l[t[u]]}}else t&&t.forEach(i);return r}function o2t(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:a2t}=Object.prototype;function bf(e,t){return a2t.call(e,t)}function pc(e){return e?new Dhe({...e.data()},e.columnNames()):new Dhe}class Dhe{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return bf(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const wr=void 0,l2t=Object.getPrototypeOf(Int8Array);function ck(e){return e instanceof l2t}function N1(e){return Tr(e)||ck(e)}function Xd(e){return e!=null&&e===e}const GT=e=>N1(e)||na(e),u2t={compact:e=>N1(e)?e.filter(t=>Xd(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>GT(e)?e.includes(t,n):!1,indexof:(e,t)=>GT(e)?e.indexOf(t):-1,join:(e,t)=>N1(e)?e.join(t):wr,lastindexof:(e,t)=>GT(e)?e.lastIndexOf(t):-1,length:e=>GT(e)?e.length:0,pluck:(e,t)=>N1(e)?e.map(n=>Xd(n)?n[t]:wr):wr,reverse:e=>N1(e)?e.slice().reverse():na(e)?e.split("").reverse().join(""):wr,slice:(e,t,n)=>GT(e)?e.slice(t,n):wr};function c2t(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function yD(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Qf=e=>(e<10?"0":"")+e,d2t=e=>e<0?"-"+yD(-e,6):e>9999?"+"+yD(e,6):yD(e,4);function QRe(e,t,n,r,i,s,o,a,l){const u=a?"Z":"";return d2t(e)+"-"+Qf(t+1)+"-"+Qf(n)+(!l||o?"T"+Qf(r)+":"+Qf(i)+":"+Qf(s)+"."+yD(o,3)+u:s?"T"+Qf(r)+":"+Qf(i)+":"+Qf(s)+u:i||r||!a?"T"+Qf(r)+":"+Qf(i)+u:"")}function JRe(e,t){return isNaN(e)?"Invalid Date":QRe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function r4(e,t){return isNaN(e)?"Invalid Date":QRe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const f2t=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function h2t(e){return e.match(f2t)&&!isNaN(Date.parse(e))}function p2t(e,t=Date.parse){return h2t(e)?t(e):e}const ZRe=6e4,eke=864e5,tke=6048e5,os=new Date,as=new Date,ys=e=>(os.setTime(typeof e=="string"?p2t(e):e),os);function m2t(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function g2t(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function y2t(e){as.setTime(+e),as.setHours(0,0,0,0),os.setTime(+as),os.setMonth(0),os.setDate(1);const t=(as.getTimezoneOffset()-os.getTimezoneOffset())*ZRe;return Math.floor(1+(as-os-t)/eke)}function v2t(e){as.setTime(+e),as.setUTCHours(0,0,0,0);const t=Date.UTC(as.getUTCFullYear(),0,1);return Math.floor(1+(as-t)/eke)}function b2t(e,t){const n=t||0;as.setTime(+e),as.setDate(as.getDate()-(as.getDay()+7-n)%7),as.setHours(0,0,0,0),os.setTime(+e),os.setMonth(0),os.setDate(1),os.setDate(1-(os.getDay()+7-n)%7),os.setHours(0,0,0,0);const r=(as.getTimezoneOffset()-os.getTimezoneOffset())*ZRe;return Math.floor((1+(as-os)-r)/tke)}function _2t(e,t){const n=t||0;return as.setTime(+e),as.setUTCDate(as.getUTCDate()-(as.getUTCDay()+7-n)%7),as.setUTCHours(0,0,0,0),os.setTime(+e),os.setUTCMonth(0),os.setUTCDate(1),os.setUTCDate(1-(os.getUTCDay()+7-n)%7),os.setUTCHours(0,0,0,0),Math.floor((1+(as-os))/tke)}const w2t={format_date:(e,t)=>JRe(ys(e),!t),format_utcdate:(e,t)=>r4(ys(e),!t),timestamp:e=>+ys(e),year:e=>ys(e).getFullYear(),quarter:e=>Math.floor(ys(e).getMonth()/3),month:e=>ys(e).getMonth(),date:e=>ys(e).getDate(),dayofweek:e=>ys(e).getDay(),hours:e=>ys(e).getHours(),minutes:e=>ys(e).getMinutes(),seconds:e=>ys(e).getSeconds(),milliseconds:e=>ys(e).getMilliseconds(),utcyear:e=>ys(e).getUTCFullYear(),utcquarter:e=>Math.floor(ys(e).getUTCMonth()/3),utcmonth:e=>ys(e).getUTCMonth(),utcdate:e=>ys(e).getUTCDate(),utcdayofweek:e=>ys(e).getUTCDay(),utchours:e=>ys(e).getUTCHours(),utcminutes:e=>ys(e).getUTCMinutes(),utcseconds:e=>ys(e).getUTCSeconds(),utcmilliseconds:e=>ys(e).getUTCMilliseconds(),datetime:m2t,dayofyear:y2t,week:b2t,utcdatetime:g2t,utcdayofyear:v2t,utcweek:_2t,now:Date.now};function qJ(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Qm(e)||Qm(t)?+e==+t:J$(e)&&J$(t)?e+""==t+"":La(e)&&La(t)?E2t(e,t):!1}function E2t(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return Mhe(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!Mhe(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!qJ(e[o],t[o]))return!1}return!0}function Mhe(e,t,n=qJ){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const x2t={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let S2t=Math.random;function kS(){return S2t()}const T2t={random:kS,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function WJ(e){return e instanceof Map}function C2t(e){return e instanceof Set}function vD(e){return WJ(e)||C2t(e)}function o9(e){return Array.from(e)}const A2t={has:(e,t)=>vD(e)?e.has(t):e!=null?bf(e,t):!1,keys:e=>WJ(e)?o9(e.keys()):e!=null?Object.keys(e):[],values:e=>vD(e)?o9(e.values()):e!=null?Object.values(e):[],entries:e=>vD(e)?o9(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):wr};function I2t(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(bf(t,e))return t[e];return n!==void 0?n:e}function R2t(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const k2t={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},jw={bin:c2t,equal:qJ,recode:I2t,sequence:R2t,...u2t,...w2t,...x2t,...T2t,...A2t,...k2t};function _I(e){return typeof e=="bigint"}function ep(e){return e===void 0?e+"":_I(e)?e+"n":JSON.stringify(e)}function Pn(e,t=[],n=[]){return new P2t(e,du(t),du(n))}let P2t=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${ep(n)}]`),...this.params.map(ep)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const nke=e=>Pn("any",e),rke=()=>Pn("count"),ike=e=>Pn("array_agg",e),ske=e=>Pn("array_agg_distinct",e),oke=(e,t)=>Pn("map_agg",[e,t]),ake=(e,t)=>Pn("object_agg",[e,t]),lke=(e,t)=>Pn("entries_agg",[e,t]),sA={...jw,row_object:(...e)=>Pn("row_object",null,e.flat()),count:rke,any:nke,array_agg:ike,array_agg_distinct:ske,object_agg:ake,map_agg:oke,entries_agg:lke,valid:e=>Pn("valid",e),invalid:e=>Pn("invalid",e),distinct:e=>Pn("distinct",e),mode:e=>Pn("mode",e),sum:e=>Pn("sum",e),product:e=>Pn("product",e),mean:e=>Pn("mean",e),average:e=>Pn("average",e),variance:e=>Pn("variance",e),variancep:e=>Pn("variancep",e),stdev:e=>Pn("stdev",e),stdevp:e=>Pn("stdevp",e),min:e=>Pn("min",e),max:e=>Pn("max",e),quantile:(e,t)=>Pn("quantile",e,t),median:e=>Pn("median",e),covariance:(e,t)=>Pn("covariance",[e,t]),covariancep:(e,t)=>Pn("covariancep",[e,t]),corr:(e,t)=>Pn("corr",[e,t]),bins:(e,t,n,r)=>Pn("bins",e,[t,n,r]),row_number:()=>Pn("row_number"),rank:()=>Pn("rank"),avg_rank:()=>Pn("avg_rank"),dense_rank:()=>Pn("dense_rank"),percent_rank:()=>Pn("percent_rank"),cume_dist:()=>Pn("cume_dist"),ntile:e=>Pn("ntile",null,e),lag:(e,t,n)=>Pn("lag",e,[t,n]),lead:(e,t,n)=>Pn("lead",e,[t,n]),first_value:e=>Pn("first_value",e),last_value:e=>Pn("last_value",e),nth_value:(e,t)=>Pn("nth_value",e,t),fill_down:(e,t)=>Pn("fill_down",e,t),fill_up:(e,t)=>Pn("fill_up",e,t)};function N2t(e,t){e=vD(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function O2t(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,d)=>c+d,0);if(o===i)return e;const a=Array(o);let l=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=l++]=r[c]);const u=new Uint32Array(n.length);return t.scan(c=>u[c]=s[n[c]]),{...e,keys:u,rows:a,size:l}}function D2t(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,l=o,u=null;if(n){u=new Int32Array(o),t(p=>u[i[p]]=1);const h=u.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),l=0;for(let p=0;p<o;++p)u[p]&&(a[u[p]=l++]=s[p])}}let c=-1;const d=new Uint32Array(r);return t(l!==o?h=>d[++c]=u[i[h]]:h=>d[++c]=i[h]),{...e,keys:d,rows:a,size:l}}function M2t(e,t,n,r){const i=r==="map"||r===!0?oke:r==="entries"?lke:r==="object"?ake:Ln('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=N2t(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:ike(o)});for(let l=s.length;--l>=0;)a=a.groupby(s.slice(0,l)).rollup({[o]:i(s[l],o)});return a.get(o)}const $2t="ArrayPattern",L2t="ArrowFunctionExpression",F2t="FunctionExpression",W0="Identifier",PS="Literal",uke="MemberExpression",j2t="ObjectExpression",cke="ObjectPattern",dke="Property",dk="Column",B2t="Constant",z2t="Dictionary",U2t="Function",V2t="Parameter",fke="Op",gi=(e,t)=>{const n=H2t[e.type];return n?n(e,t):Ln(`Unsupported expression construct: ${e.type}`)},a9=(e,t)=>"("+gi(e.left,t)+" "+e.operator+" "+gi(e.right,t)+")",l9=(e,t)=>"("+ah(e.params,t)+")=>"+gi(e.body,t),$he=(e,t)=>gi(e.callee,t)+"("+ah(e.arguments,t)+")",ah=(e,t,n=",")=>e.map(r=>gi(r,t)).join(n),hke=e=>e.computed?`[${ep(e.name)}]`:`.${e.name}`,Lhe=(e,t,n)=>{const r=e.table||"";return`data${r}${hke(e)}.${n}(${t.index}${r})`},H2t={Constant:e=>e.raw,Column:(e,t)=>Lhe(e,t,"get"),Dictionary:(e,t)=>Lhe(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${hke(e)}`,Op:(e,t)=>`op(${ep(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+gi(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=gi(e.object,t),i=gi(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:$he,NewExpression:(e,t)=>"new "+$he(e,t),ArrayExpression:(e,t)=>"["+ah(e.elements,t)+"]",AssignmentExpression:a9,BinaryExpression:a9,LogicalExpression:a9,UnaryExpression:(e,t)=>"("+e.operator+gi(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+gi(e.test,t)+"?"+gi(e.consequent,t)+":"+gi(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+ah(e.properties,t)+"})",Property:(e,t)=>{const n=gi(e.key,t);return(e.computed?`[${n}]`:n)+":"+gi(e.value,t)},ArrowFunctionExpression:l9,FunctionExpression:l9,FunctionDeclaration:l9,ArrayPattern:(e,t)=>"["+ah(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+ah(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+ah(e.declarations,t,","),VariableDeclarator:(e,t)=>gi(e.id,t)+"="+gi(e.init,t),SpreadElement:(e,t)=>"..."+gi(e.argument,t),BlockStatement:(e,t)=>"{"+ah(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>gi(e.expression,t),IfStatement:(e,t)=>"if ("+gi(e.test,t)+")"+gi(e.consequent,t)+(e.alternate?" else "+gi(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+gi(e.discriminant,t)+") {"+ah(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+gi(e.test,t):"default")+": "+ah(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+gi(e.argument,t),Program:(e,t)=>gi(e.body[0],t)};function Z$(e,t={index:"row"}){return gi(e,t)}function q2t(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const l=Math.ceil(Math.log(n)/a),u=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(u)/a)-l));Math.ceil(u/s)>n;)s*=10;const d=c.length;for(let f=0;f<d;++f){const h=s/c[f];h>=i&&u/h<=n&&(s=h)}}if(r){let l=Math.log(s);const u=l>=0?0:~~(-l/a)+1,c=Math.pow(10,-u-1);l=Math.floor(e/s+c)*s,e=e<l?l-s:l,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function lx(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Qm(e)?+e:Tr(e)||ck(e)?`[${e.map(lx)}]`:J$(e)?e+"":W2t(e)}function W2t(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${lx(e[r])}`;return t+="}",t}function e3(e,t){const n=e.length;return n===1?(r,i)=>lx(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=lx(a)}return s}}function G2t(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=lx(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=lx(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function tm(){}function Y2t(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Fs(e){return e.init=e.init||tm,e.add=e.add||tm,e.rem=e.rem||tm,e}function Fhe(e,t){return e.product_v=!1,e.product=t}const pke={count:{create:()=>Fs({value:e=>e.count}),param:[]},array_agg:{create:()=>Fs({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Fs({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Fs({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Fs({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Fs({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:wr}),param:[1]},valid:{create:()=>Fs({value:e=>e.valid}),param:[1]},invalid:{create:()=>Fs({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=G2t(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Fs({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Fs({value:e=>{let t=wr,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:wr,add:(e,t)=>_I(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Fhe(e,1),value:e=>e.valid?e.product_v?Fhe(e,Y2t(e.list.values())):e.product:void 0,add:(e,t)=>_I(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:wr,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Fs({value:e=>e.valid?e.mean:wr}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):wr,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Fs({value:e=>e.valid>1?e.dev/e.valid:wr}),param:[1],req:["variance"]},stdev:{create:()=>Fs({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):wr}),param:[1],req:["variance"]},stdevp:{create:()=>Fs({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):wr}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=wr,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===wr)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=wr,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===wr)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Fs({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Fs({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):wr,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Fs({value:e=>e.valid>1?e.cov/e.valid:wr}),param:[2],req:["covariance"]},corr:{create:()=>Fs({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):wr}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Fs({value:i=>q2t(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},jhe={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},Bhe={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},mke={row_number:{create(){return{init:tm,value:e=>e.index+1}},param:[]},rank:jhe,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=jhe.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:Bhe,ntile:{create(e){e=+e,e>0||Ln("ntile num must be greater than zero.");const{init:t,value:n}=Bhe.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=wr){return e=+e||1,{init:tm,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=wr){return e=+e||1,{init:tm,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:tm,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:tm,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Ln("nth_value nth must be greater than zero."),{init:tm,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):wr}}},param:[1,1]},fill_down:{create(e=wr){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Xd(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=wr){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=K2t(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function K2t(e,t,n){for(const r=e.size;n<r;++n)if(Xd(e.value(n,t)))return n;return-1}function GJ(e){return bf(pke,e)}function YJ(e){return bf(mke,e)}function gke(e){return bf(jw,e)||e==="row_object"}function yke(e){return GJ(e)&&pke[e]}function vke(e){return YJ(e)&&mke[e]}function YT(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const KJ={escape:(e,t,n)=>YT(e,t,n),expr:(e,t)=>YT(`(row,data,op)=>${e}`,jw,t),expr2:(e,t)=>YT(`(row0,data0,row,data)=>${e}`,jw,t),join:(e,t)=>YT(`(row1,data1,row2,data2)=>${e}`,jw,t),param:(e,t)=>YT(e,jw,t)},X2t={"==":1,"!=":1,"===":1,"!==":1};function bke(e,t,n=0,r,i){if(e.type=dk,e.name=t,e.table=n,i&&r&&Ni(r.keyFor)){const s=X2t[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===PS&&Q2t(i,e,s,r.keyFor(s.value))}return e}function Q2t(e,t,n,r){return r<0?(e.type=PS,e.value=!1,e.raw="false"):(t.type=z2t,n.value=r,n.raw=r+""),!0}function i4(e){return Tr(e)?e:WJ(e)?e.entries():e?Object.entries(e):[]}const _ke="row_object";function wke(e,t){e.type=j2t;const n=e.properties=[];for(const r of i4(t)){const[i,s]=Tr(r)?r:[r,r];n.push({type:dke,key:{type:PS,raw:ep(s)},value:bke({computed:!0},i)})}return e}function Eke(e){return Z$(wke({},e))}function xke(e){return KJ.expr(Eke(e))}const J2t=new TextDecoder("utf-8"),gH=e=>J2t.decode(e),Z2t=new TextEncoder,s4=e=>Z2t.encode(e),eAt=e=>typeof e=="boolean",Fl=e=>typeof e=="function",av=e=>e!=null&&Object(e)===e,o4=e=>av(e)&&Fl(e.then),XJ=e=>av(e)&&Fl(e[Symbol.iterator]),a4=e=>av(e)&&Fl(e[Symbol.asyncIterator]),tAt=e=>av(e)&&"done"in e&&"value"in e,Ske=e=>"_getDOMStream"in e&&"_getNodeStream"in e,nAt=e=>av(e)&&Fl(e.abort)&&Fl(e.getWriter)&&!Ske(e),rAt=e=>av(e)&&Fl(e.end)&&Fl(e.write)&&eAt(e.writable)&&!Ske(e),iAt=e=>av(e)&&Fl(e.clear)&&Fl(e.bytes)&&Fl(e.position)&&Fl(e.setPosition)&&Fl(e.capacity)&&Fl(e.getBufferIdentifier)&&Fl(e.createLong),QJ=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function sAt(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=e.length;++l<c;){if(o=t[u],a=e[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,n,r-n+s)}return t}function yH(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function tp(e,t){const n=sAt(e),r=n.reduce((c,d)=>c+d.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?yH(o,s,a):o=s;break}yH(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function Bs(e,t){let n=tAt(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=s4(n)),n instanceof ArrayBuffer?new e(n):n instanceof QJ?new e(n):iAt(n)?Bs(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const KT=e=>Bs(Int32Array,e),zhe=e=>Bs(BigInt64Array,e),hr=e=>Bs(Uint8Array,e),vH=e=>(e.next(),e);function*oAt(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof QJ?n(t):XJ(t)?t:n(t);return yield*vH(function*(i){let s=null;do s=i.next(yield Bs(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const aAt=e=>oAt(Uint8Array,e);function Tke(e,t){return T1(this,arguments,function*(){if(o4(t))return yield lr(yield lr(yield*N8(O2(Tke(e,yield lr(t))))));const r=function(o){return T1(this,arguments,function*(){yield yield lr(yield lr(o))})},i=function(o){return T1(this,arguments,function*(){yield lr(yield*N8(O2(vH(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof QJ?r(t):XJ(t)?i(t):a4(t)?t:r(t);return yield lr(yield*N8(O2(vH(function(o){return T1(this,arguments,function*(){let a=null;do a=yield lr(o.next(yield yield lr(Bs(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield lr(new e)})}const lAt=e=>Tke(Uint8Array,e);function Cke(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function uAt(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Uhe={fromIterable(e){return MN(cAt(e))},fromAsyncIterable(e){return MN(dAt(e))},fromDOMStream(e){return MN(fAt(e))},fromNodeStream(e){return MN(pAt(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},MN=e=>(e.next(),e);function*cAt(e){let t,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?tp(r,o)[0]:([i,r,a]=tp(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=aAt(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function dAt(e){return T1(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?tp(i,a)[0]:([s,i,l]=tp(i,a),s)}({cmd:o,size:a}=(yield yield lr(null))||{cmd:"read",size:0});const c=lAt(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield lr(c.next()):yield lr(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield lr(u()));while(a<l);while(!n)}catch(d){(r=!0)&&typeof c.throw=="function"&&(yield lr(c.throw(d)))}finally{r===!1&&typeof c.return=="function"&&(yield lr(c.return(new Uint8Array(0))))}return yield lr(null)})}function fAt(e){return T1(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?tp(i,a)[0]:([s,i,l]=tp(i,a),s)}({cmd:o,size:a}=(yield yield lr(null))||{cmd:"read",size:0});const c=new hAt(e);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield lr(c.read()):yield lr(c.read(a-l)),!n&&s.byteLength>0&&(i.push(hr(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield lr(u()));while(a<l);while(!n)}catch(d){(r=!0)&&(yield lr(c.cancel(d)))}finally{r===!1?yield lr(c.cancel()):e.locked&&c.releaseLock()}return yield lr(null)})}class hAt{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return rm(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return rm(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=hr(n)),n})}}const u9=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function pAt(e){return T1(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function d(){return o==="peek"?tp(u,a)[0]:([c,u,l]=tp(u,a),c)}if({cmd:o,size:a}=(yield yield lr(null))||{cmd:"read",size:0},e.isTTY)return yield yield lr(new Uint8Array(0)),yield lr(null);try{n[0]=u9(e,"end"),n[1]=u9(e,"error");do{if(n[2]=u9(e,"readable"),[r,s]=yield lr(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=hr(e.read(a-l)),c.byteLength<a-l&&(c=hr(e.read()))):c=hr(e.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield lr(d()));while(a<l)}while(!i)}finally{yield lr(f(n,r==="error"?s:null))}return yield lr(null);function f(h,p){return c=u=null,new Promise((m,g)=>{for(const[y,v]of h)e.off(y,v);try{const y=e.destroy;y&&y.call(e,p),p=void 0}catch(y){p=y||p}finally{p!=null?g(p):m()}})}})}var qs;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(qs||(qs={}));var yl;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(yl||(yl={}));var Zs;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Zs||(Zs={}));var td;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(td||(td={}));var Wt;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Wt||(Wt={}));var nd;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(nd||(nd={}));const c9=2,Eh=4,om=4,Br=4,e0=new Int32Array(2),Vhe=new Float32Array(e0.buffer),Hhe=new Float64Array(e0.buffer),$N=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var bH;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(bH||(bH={}));let t3=class Ake{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Ake(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return e0[0]=this.readInt32(t),Vhe[0]}readFloat64(t){return e0[$N?0:1]=this.readInt32(t),e0[$N?1:0]=this.readInt32(t+4),Hhe[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){Vhe[0]=n,this.writeInt32(t,e0[0])}writeFloat64(t,n){Hhe[0]=n,this.writeInt32(t,e0[$N?0:1]),this.writeInt32(t+4,e0[$N?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Eh+om)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<om;n++)t+=String.fromCharCode(this.readInt8(this.position_+Eh+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Eh;const i=this.bytes_.subarray(t,t+r);return n===bH.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Eh}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=om)throw new Error("FlatBuffers: file identifier must be length "+om);for(let n=0;n<om;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Eh+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Ike=class Rke{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=t3.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Rke.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=t3.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Eh,0),this.writeInt32(this.offset()-t+Eh)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*c9;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=c9;u<s;u+=c9)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Br:0;if(n){const s=n;if(this.prep(this.minalign,Eh+om+i),s.length!=om)throw new TypeError("FlatBuffers: file identifier must be length "+om);for(let o=om-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Eh+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Eh,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var n3;(function(e){e[e.BUFFER=0]="BUFFER"})(n3||(n3={}));var r3;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(r3||(r3={}));class t0{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new t0).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Br),(n||new t0).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):r3.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):n3.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,r3.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,n3.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return t0.startBodyCompression(t),t0.addCodec(t,n),t0.addMethod(t,r),t0.endBodyCompression(t)}}let kke=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Pke=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Xp=class _H{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new _H).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Br),(n||new _H).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Pke).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new kke).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new t0).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},cw=class wH{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new wH).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Br),(n||new wH).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Xp).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var ux;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(ux||(ux={}));var i3;(function(e){e[e.DenseArray=0]="DenseArray"})(i3||(i3={}));class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Br),(n||new Mu).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Mu.startInt(t),Mu.addBitWidth(t,n),Mu.addIsSigned(t,r),Mu.endInt(t)}}class am{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new am).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Br),(n||new am).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Mu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):i3.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,i3.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Vs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Vs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Br),(n||new Vs).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Vs.startKeyValue(t),Vs.addKey(t,n),Vs.addValue(t,r),Vs.endKeyValue(t)}}let qhe=class HC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new HC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Br),(n||new HC).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return HC.startBinary(t),HC.endBinary(t)}},Whe=class qC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new qC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Br),(n||new qC).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return qC.startBool(t),qC.endBool(t)}},bD=class dw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new dw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Br),(n||new dw).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):td.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,td.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return dw.startDate(t),dw.addUnit(t,n),dw.endDate(t)}},fw=class Wg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Wg).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Br),(n||new Wg).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Wg.startDecimal(t),Wg.addPrecision(t,n),Wg.addScale(t,r),Wg.addBitWidth(t,i),Wg.endDecimal(t)}},_D=class hw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new hw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Br),(n||new hw).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wt.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Wt.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return hw.startDuration(t),hw.addUnit(t,n),hw.endDuration(t)}},wD=class pw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new pw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Br),(n||new pw).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return pw.startFixedSizeBinary(t),pw.addByteWidth(t,n),pw.endFixedSizeBinary(t)}},ED=class mw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new mw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Br),(n||new mw).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return mw.startFixedSizeList(t),mw.addListSize(t,n),mw.endFixedSizeList(t)}};class xh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new xh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Br),(n||new xh).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Zs.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Zs.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return xh.startFloatingPoint(t),xh.addPrecision(t,n),xh.endFloatingPoint(t)}}class Sh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Sh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Br),(n||new Sh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nd.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,nd.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Sh.startInterval(t),Sh.addUnit(t,n),Sh.endInterval(t)}}let Ghe=class WC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new WC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+Br),(n||new WC).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return WC.startLargeBinary(t),WC.endLargeBinary(t)}},Yhe=class GC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new GC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+Br),(n||new GC).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return GC.startLargeUtf8(t),GC.endLargeUtf8(t)}},Khe=class YC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new YC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Br),(n||new YC).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return YC.startList(t),YC.endList(t)}},xD=class gw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new gw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Br),(n||new gw).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return gw.startMap(t),gw.addKeysSorted(t,n),gw.endMap(t)}},Xhe=class KC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new KC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Br),(n||new KC).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return KC.startNull(t),KC.endNull(t)}};class O1{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new O1).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Br),(n||new O1).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return O1.startStruct_(t),O1.endStruct_(t)}}let XC=class Jv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Jv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Br),(n||new Jv).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wt.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Wt.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Jv.startTime(t),Jv.addUnit(t,n),Jv.addBitWidth(t,r),Jv.endTime(t)}},QC=class Zv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Zv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Br),(n||new Zv).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Wt.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Wt.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Zv.startTimestamp(t),Zv.addUnit(t,n),Zv.addTimezone(t,r),Zv.endTimestamp(t)}},e1=class t1{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new t1).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Br),(n||new t1).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yl.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,yl.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return t1.startUnion(t),t1.addMode(t,n),t1.addTypeIds(t,r),t1.endUnion(t)}},Qhe=class JC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new JC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Br),(n||new JC).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return JC.startUtf8(t),JC.endUtf8(t)}};var mi;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(mi||(mi={}));let Ec=class SD{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new SD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Br),(n||new SD).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):mi.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new am).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new SD).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Vs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,mi.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},lh=class Yp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Yp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Br),(n||new Yp).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ux.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ec).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Vs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,ux.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Yp.startSchema(t),Yp.addEndianness(t,n),Yp.addFields(t,r),Yp.addCustomMetadata(t,i),Yp.addFeatures(t,s),Yp.endSchema(t)}};var Os;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Os||(Os={}));var ae;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(ae||(ae={}));var Qp;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Qp||(Qp={}));const mAt=void 0;function mb(e){if(e===null)return"null";if(e===mAt)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>mb(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const gAt=Symbol.for("isArrowBigNum");function Ff(e,...t){return t.length===0?Object.setPrototypeOf(Bs(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Ff.prototype[gAt]=!0;Ff.prototype.toJSON=function(){return`"${EI(this)}"`};Ff.prototype.valueOf=function(){return Nke(this)};Ff.prototype.toString=function(){return EI(this)};Ff.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Nke(this);case"string":return EI(this);case"default":return yAt(this)}return EI(this)};function fE(...e){return Ff.apply(this,e)}function hE(...e){return Ff.apply(this,e)}function wI(...e){return Ff.apply(this,e)}Object.setPrototypeOf(fE.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(hE.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(wI.prototype,Object.create(Uint32Array.prototype));Object.assign(fE.prototype,Ff.prototype,{constructor:fE,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(hE.prototype,Ff.prototype,{constructor:hE,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(wI.prototype,Ff.prototype,{constructor:wI,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function Nke(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const u of s)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}const EI=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return d9(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return d9(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${d9(t)}`},yAt=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:EI(e);function d9(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class JJ{static new(t,n){switch(n){case!0:return new fE(t);case!1:return new hE(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new fE(t)}return t.byteLength===16?new wI(t):new hE(t)}static signed(t){return new fE(t)}static unsigned(t){return new hE(t)}static decimal(t){return new wI(t)}constructor(t,n){return JJ.new(t,n)}}function Jo(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var Oke,Dke,Mke,$ke,Lke,Fke,jke,Bke,zke,Uke,Vke,Hke,qke,Wke,Gke,Yke,Kke,Xke,Qke,Jke,Zke,ePe;class xn{static isNull(t){return(t==null?void 0:t.typeId)===ae.Null}static isInt(t){return(t==null?void 0:t.typeId)===ae.Int}static isFloat(t){return(t==null?void 0:t.typeId)===ae.Float}static isBinary(t){return(t==null?void 0:t.typeId)===ae.Binary}static isLargeBinary(t){return(t==null?void 0:t.typeId)===ae.LargeBinary}static isUtf8(t){return(t==null?void 0:t.typeId)===ae.Utf8}static isLargeUtf8(t){return(t==null?void 0:t.typeId)===ae.LargeUtf8}static isBool(t){return(t==null?void 0:t.typeId)===ae.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===ae.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===ae.Date}static isTime(t){return(t==null?void 0:t.typeId)===ae.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===ae.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===ae.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===ae.Duration}static isList(t){return(t==null?void 0:t.typeId)===ae.List}static isStruct(t){return(t==null?void 0:t.typeId)===ae.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===ae.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===ae.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===ae.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===ae.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===ae.Dictionary}static isDenseUnion(t){return xn.isUnion(t)&&t.mode===yl.Dense}static isSparseUnion(t){return xn.isUnion(t)&&t.mode===yl.Sparse}constructor(t){this.typeId=t}}Oke=Symbol.toStringTag;xn[Oke]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(xn.prototype);class Jm extends xn{constructor(){super(ae.Null)}toString(){return"Null"}}Dke=Symbol.toStringTag;Jm[Dke]=(e=>e[Symbol.toStringTag]="Null")(Jm.prototype);class vl extends xn{constructor(t,n){super(ae.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Mke=Symbol.toStringTag;vl[Mke]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(vl.prototype);class ZJ extends vl{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class eZ extends vl{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class py extends vl{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class tZ extends vl{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class nZ extends vl{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class rZ extends vl{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class iZ extends vl{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class sZ extends vl{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(ZJ.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(eZ.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(py.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(tZ.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(nZ.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(rZ.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(iZ.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(sZ.prototype,"ArrayType",{value:BigUint64Array});class my extends xn{constructor(t){super(ae.Float),this.precision=t}get ArrayType(){switch(this.precision){case Zs.HALF:return Uint16Array;case Zs.SINGLE:return Float32Array;case Zs.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}$ke=Symbol.toStringTag;my[$ke]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(my.prototype);class tPe extends my{constructor(){super(Zs.HALF)}}class oZ extends my{constructor(){super(Zs.SINGLE)}}class aZ extends my{constructor(){super(Zs.DOUBLE)}}Object.defineProperty(tPe.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(oZ.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(aZ.prototype,"ArrayType",{value:Float64Array});class xI extends xn{constructor(){super(ae.Binary)}toString(){return"Binary"}}Lke=Symbol.toStringTag;xI[Lke]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(xI.prototype);class s3 extends xn{constructor(){super(ae.LargeBinary)}toString(){return"LargeBinary"}}Fke=Symbol.toStringTag;s3[Fke]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(s3.prototype);class cx extends xn{constructor(){super(ae.Utf8)}toString(){return"Utf8"}}jke=Symbol.toStringTag;cx[jke]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(cx.prototype);class o3 extends xn{constructor(){super(ae.LargeUtf8)}toString(){return"LargeUtf8"}}Bke=Symbol.toStringTag;o3[Bke]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(o3.prototype);class SI extends xn{constructor(){super(ae.Bool)}toString(){return"Bool"}}zke=Symbol.toStringTag;SI[zke]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(SI.prototype);class a3 extends xn{constructor(t,n,r=128){super(ae.Decimal),this.scale=t,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}Uke=Symbol.toStringTag;a3[Uke]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(a3.prototype);class dx extends xn{constructor(t){super(ae.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${td[this.unit]}>`}}Vke=Symbol.toStringTag;dx[Vke]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(dx.prototype);class vAt extends dx{constructor(){super(td.DAY)}}class bAt extends dx{constructor(){super(td.MILLISECOND)}}class Zm extends xn{constructor(t,n){super(ae.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${Wt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Hke=Symbol.toStringTag;Zm[Hke]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Zm.prototype);class _At extends Zm{constructor(){super(Wt.SECOND,32)}}class wAt extends Zm{constructor(){super(Wt.MILLISECOND,32)}}class EAt extends Zm{constructor(){super(Wt.MICROSECOND,64)}}class xAt extends Zm{constructor(){super(Wt.NANOSECOND,64)}}class l3 extends xn{constructor(t,n){super(ae.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${Wt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}qke=Symbol.toStringTag;l3[qke]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(l3.prototype);class fx extends xn{constructor(t){super(ae.Interval),this.unit=t}toString(){return`Interval<${nd[this.unit]}>`}}Wke=Symbol.toStringTag;fx[Wke]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(fx.prototype);class SAt extends fx{constructor(){super(nd.DAY_TIME)}}class TAt extends fx{constructor(){super(nd.YEAR_MONTH)}}class u3 extends xn{constructor(t){super(ae.Duration),this.unit=t}toString(){return`Duration<${Wt[this.unit]}>`}}Gke=Symbol.toStringTag;u3[Gke]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(u3.prototype);class hx extends xn{constructor(t){super(ae.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Yke=Symbol.toStringTag;hx[Yke]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(hx.prototype);class Aa extends xn{constructor(t){super(ae.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Kke=Symbol.toStringTag;Aa[Kke]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Aa.prototype);class TI extends xn{constructor(t,n,r){super(ae.Union),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Xke=Symbol.toStringTag;TI[Xke]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(TI.prototype);class c3 extends xn{constructor(t){super(ae.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Qke=Symbol.toStringTag;c3[Qke]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(c3.prototype);class px extends xn{constructor(t,n){super(ae.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Jke=Symbol.toStringTag;px[Jke]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(px.prototype);class CI extends xn{constructor(t,n=!1){var r,i,s;if(super(ae.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Zke=Symbol.toStringTag;CI[Zke]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(CI.prototype);const CAt=(e=>()=>++e)(-1);class gy extends xn{constructor(t,n,r,i){super(ae.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?CAt():Jo(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}ePe=Symbol.toStringTag;gy[ePe]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(gy.prototype);function ch(e){const t=e;switch(e.typeId){case ae.Decimal:return e.bitWidth/32;case ae.Timestamp:return 2;case ae.Date:return 1+t.unit;case ae.Interval:return 1+t.unit;case ae.FixedSizeList:return t.listSize;case ae.FixedSizeBinary:return t.byteWidth;default:return 1}}class zn{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return AAt(this,t,n)}getVisitFnByTypeId(t,n=!0){return yw(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function AAt(e,t,n=!0){return typeof t=="number"?yw(e,t,n):typeof t=="string"&&t in ae?yw(e,ae[t],n):t&&t instanceof xn?yw(e,Jhe(t),n):t!=null&&t.type&&t.type instanceof xn?yw(e,Jhe(t.type),n):yw(e,ae.NONE,n)}function yw(e,t,n=!0){let r=null;switch(t){case ae.Null:r=e.visitNull;break;case ae.Bool:r=e.visitBool;break;case ae.Int:r=e.visitInt;break;case ae.Int8:r=e.visitInt8||e.visitInt;break;case ae.Int16:r=e.visitInt16||e.visitInt;break;case ae.Int32:r=e.visitInt32||e.visitInt;break;case ae.Int64:r=e.visitInt64||e.visitInt;break;case ae.Uint8:r=e.visitUint8||e.visitInt;break;case ae.Uint16:r=e.visitUint16||e.visitInt;break;case ae.Uint32:r=e.visitUint32||e.visitInt;break;case ae.Uint64:r=e.visitUint64||e.visitInt;break;case ae.Float:r=e.visitFloat;break;case ae.Float16:r=e.visitFloat16||e.visitFloat;break;case ae.Float32:r=e.visitFloat32||e.visitFloat;break;case ae.Float64:r=e.visitFloat64||e.visitFloat;break;case ae.Utf8:r=e.visitUtf8;break;case ae.LargeUtf8:r=e.visitLargeUtf8;break;case ae.Binary:r=e.visitBinary;break;case ae.LargeBinary:r=e.visitLargeBinary;break;case ae.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case ae.Date:r=e.visitDate;break;case ae.DateDay:r=e.visitDateDay||e.visitDate;break;case ae.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case ae.Timestamp:r=e.visitTimestamp;break;case ae.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case ae.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case ae.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case ae.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case ae.Time:r=e.visitTime;break;case ae.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case ae.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case ae.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case ae.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case ae.Decimal:r=e.visitDecimal;break;case ae.List:r=e.visitList;break;case ae.Struct:r=e.visitStruct;break;case ae.Union:r=e.visitUnion;break;case ae.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case ae.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case ae.Dictionary:r=e.visitDictionary;break;case ae.Interval:r=e.visitInterval;break;case ae.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case ae.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case ae.Duration:r=e.visitDuration;break;case ae.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case ae.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case ae.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case ae.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case ae.FixedSizeList:r=e.visitFixedSizeList;break;case ae.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${ae[t]}'`)}function Jhe(e){switch(e.typeId){case ae.Null:return ae.Null;case ae.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?ae.Int8:ae.Uint8;case 16:return n?ae.Int16:ae.Uint16;case 32:return n?ae.Int32:ae.Uint32;case 64:return n?ae.Int64:ae.Uint64}return ae.Int}case ae.Float:switch(e.precision){case Zs.HALF:return ae.Float16;case Zs.SINGLE:return ae.Float32;case Zs.DOUBLE:return ae.Float64}return ae.Float;case ae.Binary:return ae.Binary;case ae.LargeBinary:return ae.LargeBinary;case ae.Utf8:return ae.Utf8;case ae.LargeUtf8:return ae.LargeUtf8;case ae.Bool:return ae.Bool;case ae.Decimal:return ae.Decimal;case ae.Time:switch(e.unit){case Wt.SECOND:return ae.TimeSecond;case Wt.MILLISECOND:return ae.TimeMillisecond;case Wt.MICROSECOND:return ae.TimeMicrosecond;case Wt.NANOSECOND:return ae.TimeNanosecond}return ae.Time;case ae.Timestamp:switch(e.unit){case Wt.SECOND:return ae.TimestampSecond;case Wt.MILLISECOND:return ae.TimestampMillisecond;case Wt.MICROSECOND:return ae.TimestampMicrosecond;case Wt.NANOSECOND:return ae.TimestampNanosecond}return ae.Timestamp;case ae.Date:switch(e.unit){case td.DAY:return ae.DateDay;case td.MILLISECOND:return ae.DateMillisecond}return ae.Date;case ae.Interval:switch(e.unit){case nd.DAY_TIME:return ae.IntervalDayTime;case nd.YEAR_MONTH:return ae.IntervalYearMonth}return ae.Interval;case ae.Duration:switch(e.unit){case Wt.SECOND:return ae.DurationSecond;case Wt.MILLISECOND:return ae.DurationMillisecond;case Wt.MICROSECOND:return ae.DurationMicrosecond;case Wt.NANOSECOND:return ae.DurationNanosecond}return ae.Duration;case ae.Map:return ae.Map;case ae.List:return ae.List;case ae.Struct:return ae.Struct;case ae.Union:switch(e.mode){case yl.Dense:return ae.DenseUnion;case yl.Sparse:return ae.SparseUnion}return ae.Union;case ae.FixedSizeBinary:return ae.FixedSizeBinary;case ae.FixedSizeList:return ae.FixedSizeList;case ae.Dictionary:return ae.Dictionary}throw new Error(`Unrecognized type '${ae[e.typeId]}'`)}zn.prototype.visitInt8=null;zn.prototype.visitInt16=null;zn.prototype.visitInt32=null;zn.prototype.visitInt64=null;zn.prototype.visitUint8=null;zn.prototype.visitUint16=null;zn.prototype.visitUint32=null;zn.prototype.visitUint64=null;zn.prototype.visitFloat16=null;zn.prototype.visitFloat32=null;zn.prototype.visitFloat64=null;zn.prototype.visitDateDay=null;zn.prototype.visitDateMillisecond=null;zn.prototype.visitTimestampSecond=null;zn.prototype.visitTimestampMillisecond=null;zn.prototype.visitTimestampMicrosecond=null;zn.prototype.visitTimestampNanosecond=null;zn.prototype.visitTimeSecond=null;zn.prototype.visitTimeMillisecond=null;zn.prototype.visitTimeMicrosecond=null;zn.prototype.visitTimeNanosecond=null;zn.prototype.visitDenseUnion=null;zn.prototype.visitSparseUnion=null;zn.prototype.visitIntervalDayTime=null;zn.prototype.visitIntervalYearMonth=null;zn.prototype.visitDuration=null;zn.prototype.visitDurationSecond=null;zn.prototype.visitDurationMillisecond=null;zn.prototype.visitDurationMicrosecond=null;zn.prototype.visitDurationNanosecond=null;const nPe=new Float64Array(1),H_=new Uint32Array(nPe.buffer);function rPe(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function iPe(e){if(e!==e)return 32256;nPe[0]=e;const t=(H_[1]&2147483648)>>16&65535;let n=H_[1]&2146435072,r=0;return n>=1089470464?H_[0]>0?n=31744:(n=(n&2080374784)>>16,r=(H_[1]&1048575)>>10):n<=1056964608?(r=1048576+(H_[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(H_[1]&1048575)+512>>10),t|n|r&65535}class an extends zn{}function fn(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const IAt=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},lZ=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},RAt=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},kAt=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},sPe=(e,t,n,r)=>{if(n+1<t.length){const i=Jo(t[n]),s=Jo(t[n+1]);e.set(r.subarray(0,s-i),i)}},PAt=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},yg=({values:e},t,n)=>{e[t]=n},uZ=({values:e},t,n)=>{e[t]=n},oPe=({values:e},t,n)=>{e[t]=iPe(n)},NAt=(e,t,n)=>{switch(e.type.precision){case Zs.HALF:return oPe(e,t,n);case Zs.SINGLE:case Zs.DOUBLE:return uZ(e,t,n)}},cZ=({values:e},t,n)=>{IAt(e,t,n.valueOf())},dZ=({values:e},t,n)=>{lZ(e,t*2,n.valueOf())},aPe=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},lPe=({values:e,valueOffsets:t},n,r)=>sPe(e,t,n,r),uPe=({values:e,valueOffsets:t},n,r)=>sPe(e,t,n,s4(r)),cPe=(e,t,n)=>{e.type.unit===td.DAY?cZ(e,t,n):dZ(e,t,n)},fZ=({values:e},t,n)=>lZ(e,t*2,n/1e3),hZ=({values:e},t,n)=>lZ(e,t*2,n),pZ=({values:e},t,n)=>RAt(e,t*2,n),mZ=({values:e},t,n)=>kAt(e,t*2,n),dPe=(e,t,n)=>{switch(e.type.unit){case Wt.SECOND:return fZ(e,t,n);case Wt.MILLISECOND:return hZ(e,t,n);case Wt.MICROSECOND:return pZ(e,t,n);case Wt.NANOSECOND:return mZ(e,t,n)}},gZ=({values:e},t,n)=>{e[t]=n},yZ=({values:e},t,n)=>{e[t]=n},vZ=({values:e},t,n)=>{e[t]=n},bZ=({values:e},t,n)=>{e[t]=n},fPe=(e,t,n)=>{switch(e.type.unit){case Wt.SECOND:return gZ(e,t,n);case Wt.MILLISECOND:return yZ(e,t,n);case Wt.MICROSECOND:return vZ(e,t,n);case Wt.NANOSECOND:return bZ(e,t,n)}},hPe=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},OAt=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=rd.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n.get(++o))},DAt=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=rd.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},MAt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),$At=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),LAt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),FAt=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),jAt=(e,t,n)=>{const r=e.type.children.map(s=>rd.getVisitFn(s.type)),i=n instanceof Map?LAt(t,n):n instanceof Cr?$At(t,n):Array.isArray(n)?MAt(t,n):FAt(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},BAt=(e,t,n)=>{e.type.mode===yl.Dense?pPe(e,t,n):mPe(e,t,n)},pPe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];rd.visit(i,e.valueOffsets[t],n)},mPe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];rd.visit(i,t,n)},zAt=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},gPe=(e,t,n)=>{e.type.unit===nd.DAY_TIME?_Z(e,t,n):wZ(e,t,n)},_Z=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},wZ=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},EZ=({values:e},t,n)=>{e[t]=n},xZ=({values:e},t,n)=>{e[t]=n},SZ=({values:e},t,n)=>{e[t]=n},TZ=({values:e},t,n)=>{e[t]=n},yPe=(e,t,n)=>{switch(e.type.unit){case Wt.SECOND:return EZ(e,t,n);case Wt.MILLISECOND:return xZ(e,t,n);case Wt.MICROSECOND:return SZ(e,t,n);case Wt.NANOSECOND:return TZ(e,t,n)}},UAt=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=rd.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};an.prototype.visitBool=fn(PAt);an.prototype.visitInt=fn(yg);an.prototype.visitInt8=fn(yg);an.prototype.visitInt16=fn(yg);an.prototype.visitInt32=fn(yg);an.prototype.visitInt64=fn(yg);an.prototype.visitUint8=fn(yg);an.prototype.visitUint16=fn(yg);an.prototype.visitUint32=fn(yg);an.prototype.visitUint64=fn(yg);an.prototype.visitFloat=fn(NAt);an.prototype.visitFloat16=fn(oPe);an.prototype.visitFloat32=fn(uZ);an.prototype.visitFloat64=fn(uZ);an.prototype.visitUtf8=fn(uPe);an.prototype.visitLargeUtf8=fn(uPe);an.prototype.visitBinary=fn(lPe);an.prototype.visitLargeBinary=fn(lPe);an.prototype.visitFixedSizeBinary=fn(aPe);an.prototype.visitDate=fn(cPe);an.prototype.visitDateDay=fn(cZ);an.prototype.visitDateMillisecond=fn(dZ);an.prototype.visitTimestamp=fn(dPe);an.prototype.visitTimestampSecond=fn(fZ);an.prototype.visitTimestampMillisecond=fn(hZ);an.prototype.visitTimestampMicrosecond=fn(pZ);an.prototype.visitTimestampNanosecond=fn(mZ);an.prototype.visitTime=fn(fPe);an.prototype.visitTimeSecond=fn(gZ);an.prototype.visitTimeMillisecond=fn(yZ);an.prototype.visitTimeMicrosecond=fn(vZ);an.prototype.visitTimeNanosecond=fn(bZ);an.prototype.visitDecimal=fn(hPe);an.prototype.visitList=fn(OAt);an.prototype.visitStruct=fn(jAt);an.prototype.visitUnion=fn(BAt);an.prototype.visitDenseUnion=fn(pPe);an.prototype.visitSparseUnion=fn(mPe);an.prototype.visitDictionary=fn(zAt);an.prototype.visitInterval=fn(gPe);an.prototype.visitIntervalDayTime=fn(_Z);an.prototype.visitIntervalYearMonth=fn(wZ);an.prototype.visitDuration=fn(yPe);an.prototype.visitDurationSecond=fn(EZ);an.prototype.visitDurationMillisecond=fn(xZ);an.prototype.visitDurationMicrosecond=fn(SZ);an.prototype.visitDurationNanosecond=fn(TZ);an.prototype.visitFixedSizeList=fn(UAt);an.prototype.visitMap=fn(DAt);const rd=new an,$d=Symbol.for("parent"),pE=Symbol.for("rowIndex");class CZ{constructor(t,n){return this[$d]=t,this[pE]=n,new Proxy(this,new HAt)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[pE],n=this[$d],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=fu.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${mb(t)}: ${mb(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new VAt(this[$d],this[pE])}}class VAt{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,fu.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(CZ.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$d]:{writable:!0,enumerable:!1,configurable:!1,value:null},[pE]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class HAt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[$d].type.children.map(n=>n.name)}has(t,n){return t[$d].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[$d].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[$d].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=fu.visit(t[$d].children[r],t[pE]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[$d].type.children.findIndex(s=>s.name===n);return i!==-1?(rd.visit(t[$d].children[i],t[pE],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class Zt extends zn{}function ln(e){return(t,n)=>t.getValid(n)?e(t,n):null}const qAt=(e,t)=>864e5*e[t],AZ=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),WAt=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,GAt=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,vPe=e=>new Date(e),YAt=(e,t)=>vPe(qAt(e,t)),KAt=(e,t)=>vPe(AZ(e,t)),XAt=(e,t)=>null,bPe=(e,t,n)=>{if(n+1>=t.length)return null;const r=Jo(t[n]),i=Jo(t[n+1]);return e.subarray(r,i)},QAt=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},_Pe=({values:e},t)=>YAt(e,t),wPe=({values:e},t)=>KAt(e,t*2),lv=({stride:e,values:t},n)=>t[e*n],JAt=({stride:e,values:t},n)=>rPe(t[e*n]),EPe=({values:e},t)=>e[t],ZAt=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),xPe=({values:e,valueOffsets:t},n)=>bPe(e,t,n),SPe=({values:e,valueOffsets:t},n)=>{const r=bPe(e,t,n);return r!==null?gH(r):null},eIt=({values:e},t)=>e[t],tIt=({type:e,values:t},n)=>e.precision!==Zs.HALF?t[n]:rPe(t[n]),nIt=(e,t)=>e.type.unit===td.DAY?_Pe(e,t):wPe(e,t),TPe=({values:e},t)=>1e3*AZ(e,t*2),CPe=({values:e},t)=>AZ(e,t*2),APe=({values:e},t)=>WAt(e,t*2),IPe=({values:e},t)=>GAt(e,t*2),rIt=(e,t)=>{switch(e.type.unit){case Wt.SECOND:return TPe(e,t);case Wt.MILLISECOND:return CPe(e,t);case Wt.MICROSECOND:return APe(e,t);case Wt.NANOSECOND:return IPe(e,t)}},RPe=({values:e},t)=>e[t],kPe=({values:e},t)=>e[t],PPe=({values:e},t)=>e[t],NPe=({values:e},t)=>e[t],iIt=(e,t)=>{switch(e.type.unit){case Wt.SECOND:return RPe(e,t);case Wt.MILLISECOND:return kPe(e,t);case Wt.MICROSECOND:return PPe(e,t);case Wt.NANOSECOND:return NPe(e,t)}},sIt=({values:e,stride:t},n)=>JJ.decimal(e.subarray(t*n,t*(n+1))),oIt=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,l=i[0].slice(s,o-s);return new Cr([l])},aIt=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new l4(o.slice(i,s-i))},lIt=(e,t)=>new CZ(e,t),uIt=(e,t)=>e.type.mode===yl.Dense?OPe(e,t):DPe(e,t),OPe=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return fu.visit(r,e.valueOffsets[t])},DPe=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return fu.visit(r,t)},cIt=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},dIt=(e,t)=>e.type.unit===nd.DAY_TIME?MPe(e,t):$Pe(e,t),MPe=({values:e},t)=>e.subarray(2*t,2*(t+1)),$Pe=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},LPe=({values:e},t)=>e[t],FPe=({values:e},t)=>e[t],jPe=({values:e},t)=>e[t],BPe=({values:e},t)=>e[t],fIt=(e,t)=>{switch(e.type.unit){case Wt.SECOND:return LPe(e,t);case Wt.MILLISECOND:return FPe(e,t);case Wt.MICROSECOND:return jPe(e,t);case Wt.NANOSECOND:return BPe(e,t)}},hIt=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Cr([s])};Zt.prototype.visitNull=ln(XAt);Zt.prototype.visitBool=ln(QAt);Zt.prototype.visitInt=ln(eIt);Zt.prototype.visitInt8=ln(lv);Zt.prototype.visitInt16=ln(lv);Zt.prototype.visitInt32=ln(lv);Zt.prototype.visitInt64=ln(EPe);Zt.prototype.visitUint8=ln(lv);Zt.prototype.visitUint16=ln(lv);Zt.prototype.visitUint32=ln(lv);Zt.prototype.visitUint64=ln(EPe);Zt.prototype.visitFloat=ln(tIt);Zt.prototype.visitFloat16=ln(JAt);Zt.prototype.visitFloat32=ln(lv);Zt.prototype.visitFloat64=ln(lv);Zt.prototype.visitUtf8=ln(SPe);Zt.prototype.visitLargeUtf8=ln(SPe);Zt.prototype.visitBinary=ln(xPe);Zt.prototype.visitLargeBinary=ln(xPe);Zt.prototype.visitFixedSizeBinary=ln(ZAt);Zt.prototype.visitDate=ln(nIt);Zt.prototype.visitDateDay=ln(_Pe);Zt.prototype.visitDateMillisecond=ln(wPe);Zt.prototype.visitTimestamp=ln(rIt);Zt.prototype.visitTimestampSecond=ln(TPe);Zt.prototype.visitTimestampMillisecond=ln(CPe);Zt.prototype.visitTimestampMicrosecond=ln(APe);Zt.prototype.visitTimestampNanosecond=ln(IPe);Zt.prototype.visitTime=ln(iIt);Zt.prototype.visitTimeSecond=ln(RPe);Zt.prototype.visitTimeMillisecond=ln(kPe);Zt.prototype.visitTimeMicrosecond=ln(PPe);Zt.prototype.visitTimeNanosecond=ln(NPe);Zt.prototype.visitDecimal=ln(sIt);Zt.prototype.visitList=ln(oIt);Zt.prototype.visitStruct=ln(lIt);Zt.prototype.visitUnion=ln(uIt);Zt.prototype.visitDenseUnion=ln(OPe);Zt.prototype.visitSparseUnion=ln(DPe);Zt.prototype.visitDictionary=ln(cIt);Zt.prototype.visitInterval=ln(dIt);Zt.prototype.visitIntervalDayTime=ln(MPe);Zt.prototype.visitIntervalYearMonth=ln($Pe);Zt.prototype.visitDuration=ln(fIt);Zt.prototype.visitDurationSecond=ln(LPe);Zt.prototype.visitDurationMillisecond=ln(FPe);Zt.prototype.visitDurationMicrosecond=ln(jPe);Zt.prototype.visitDurationNanosecond=ln(BPe);Zt.prototype.visitFixedSizeList=ln(hIt);Zt.prototype.visitMap=ln(aIt);const fu=new Zt,qd=Symbol.for("keys"),mE=Symbol.for("vals");class l4{constructor(t){return this[qd]=new Cr([t.children[0]]).memoize(),this[mE]=t.children[1],new Proxy(this,new mIt)}[Symbol.iterator](){return new pIt(this[qd],this[mE])}get size(){return this[qd].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[qd],n=this[mE],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=fu.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${mb(t)}: ${mb(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class pIt{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),fu.visit(this.vals,t)]})}}class mIt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[qd].toArray().map(String)}has(t,n){return t[qd].includes(n)}getOwnPropertyDescriptor(t,n){if(t[qd].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[qd].indexOf(n);if(r!==-1){const i=fu.visit(Reflect.get(t,mE),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[qd].indexOf(n);return i!==-1?(rd.visit(Reflect.get(t,mE),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(l4.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[qd]:{writable:!0,enumerable:!1,configurable:!1,value:null},[mE]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Zhe;function zPe(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Zhe=s,s=o,o=Zhe),o>i&&(o=i),r?r(e,s,o):[s,o]}const epe=e=>e!==e;function NS(e){if(typeof e!=="object"||e===null)return epe(e)?epe:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?uAt(e,n):!1:e instanceof Map?yIt(e):Array.isArray(e)?gIt(e):e instanceof Cr?vIt(e):bIt(e,!0)}function gIt(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=NS(e[n]);return u4(t)}function yIt(e){let t=-1;const n=[];for(const r of e.values())n[++t]=NS(r);return u4(n)}function vIt(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=NS(e.get(n));return u4(t)}function bIt(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=NS(e[n[i]]);return u4(r,n)}function u4(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return _It(e,n);case Map:return tpe(e,n,n.keys());case l4:case CZ:case Object:case void 0:return tpe(e,n,t||Object.keys(n))}return n instanceof Cr?wIt(e,n):!1}}function _It(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function wIt(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function tpe(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!e[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function UPe(e,t,n,r){return(n&1<<r)!==0}function EIt(e,t,n,r){return(n&1<<r)>>r}function d3(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):VPe(new IZ(n,e,t,null,UPe)).subarray(0,r)),i}return n}function VPe(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class IZ{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function EH(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new IZ(e,t,n-t,e,EIt))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return EH(e,t,i)+EH(e,r,n)+xIt(e,i>>3,r-i>>3)}function xIt(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=f9(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=f9(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=f9(s.getUint8(i)),i+=1;return r}function f9(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const SIt=-1;class Pr{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return xn.isSparseUnion(t)?this.children.some(n=>n.nullable):xn.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(xn.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=SIt&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-EH(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof Pr?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=ch(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(t){const{type:n}=this;if(xn.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===yl.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(xn.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===yl.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+t,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(d3(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const d=s[c];r=(d&u)!==0,n?s[c]=d|u:s[c]=d&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Pr(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===ae.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(d3(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Qp.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Qp.TYPE])&&(o[Qp.TYPE]=s.subarray(t,t+n)),(s=o[Qp.OFFSET])&&(o[Qp.OFFSET]=s.subarray(t,t+n+1))||(s=o[Qp.DATA])&&(o[Qp.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Pr.prototype.children=Object.freeze([]);class oA extends zn{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Pr(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.data),s=hr(t.nullBitmap),o=KT(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[o,i,s])}visitLargeUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.data),s=hr(t.nullBitmap),o=zhe(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.data),s=hr(t.nullBitmap),o=KT(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[o,i,s])}visitLargeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.data),s=hr(t.nullBitmap),o=zhe(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=hr(t.nullBitmap),o=KT(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=hr(t.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Bs(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(xn.isSparseUnion(n))return new Pr(n,r,o,a,[void 0,void 0,void 0,s],i);const l=KT(t.valueOffsets);return new Pr(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.indices.ArrayType,t.data),{["dictionary"]:o=new Cr([new oA().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=hr(t.nullBitmap),s=Bs(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new oA().visit({type:n.valueType})}=t,s=hr(t.nullBitmap),{["length"]:o=i.length/ch(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Pr(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new oA().visit({type:n.childType})}=t,s=hr(t.nullBitmap),o=KT(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Pr(n,r,a,l,[o,void 0,s],[i])}}const TIt=new oA;function Ea(e){return TIt.visit(e)}class npe{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function CIt(e){return e.some(t=>t.nullable)}function HPe(e){return e.reduce((t,n)=>t+n.nullCount,0)}function qPe(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function WPe(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],l=t[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),d=Math.min(r-l,u);i.push(a.slice(c,d-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function RZ(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function kZ(e,t){return e.getValid(t)}function f3(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return RZ(r,this._offsets,n,t)}}function GPe(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=RZ(s,this._offsets,r,n);return t=void 0,o}}function YPe(e){let t;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const d=r[u];if(~(a=e(d,t,o)))return l+a;o=0,l+=d.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):RZ(s,this._offsets,i,n);return t=void 0,o}}class en extends zn{}function AIt(e,t){return t===null&&e.length>0?0:-1}function IIt(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new IZ(n,e.offset+(t||0),e.length,n,UPe)){if(!i)return r;++r}return-1}function gn(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case ae.Union:break;case ae.Dictionary:break;default:return IIt(e,n)}const r=fu.getVisitFn(e),i=NS(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function KPe(e,t,n){const r=fu.getVisitFn(e),i=NS(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}en.prototype.visitNull=AIt;en.prototype.visitBool=gn;en.prototype.visitInt=gn;en.prototype.visitInt8=gn;en.prototype.visitInt16=gn;en.prototype.visitInt32=gn;en.prototype.visitInt64=gn;en.prototype.visitUint8=gn;en.prototype.visitUint16=gn;en.prototype.visitUint32=gn;en.prototype.visitUint64=gn;en.prototype.visitFloat=gn;en.prototype.visitFloat16=gn;en.prototype.visitFloat32=gn;en.prototype.visitFloat64=gn;en.prototype.visitUtf8=gn;en.prototype.visitLargeUtf8=gn;en.prototype.visitBinary=gn;en.prototype.visitLargeBinary=gn;en.prototype.visitFixedSizeBinary=gn;en.prototype.visitDate=gn;en.prototype.visitDateDay=gn;en.prototype.visitDateMillisecond=gn;en.prototype.visitTimestamp=gn;en.prototype.visitTimestampSecond=gn;en.prototype.visitTimestampMillisecond=gn;en.prototype.visitTimestampMicrosecond=gn;en.prototype.visitTimestampNanosecond=gn;en.prototype.visitTime=gn;en.prototype.visitTimeSecond=gn;en.prototype.visitTimeMillisecond=gn;en.prototype.visitTimeMicrosecond=gn;en.prototype.visitTimeNanosecond=gn;en.prototype.visitDecimal=gn;en.prototype.visitList=gn;en.prototype.visitStruct=gn;en.prototype.visitUnion=gn;en.prototype.visitDenseUnion=KPe;en.prototype.visitSparseUnion=KPe;en.prototype.visitDictionary=gn;en.prototype.visitInterval=gn;en.prototype.visitIntervalDayTime=gn;en.prototype.visitIntervalYearMonth=gn;en.prototype.visitDuration=gn;en.prototype.visitDurationSecond=gn;en.prototype.visitDurationMillisecond=gn;en.prototype.visitDurationMicrosecond=gn;en.prototype.visitDurationNanosecond=gn;en.prototype.visitFixedSizeList=gn;en.prototype.visitMap=gn;const h3=new en;class tn extends zn{}function un(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===ae.Timestamp||t instanceof vl&&t.bitWidth!==64||t instanceof Zm&&t.bitWidth!==64||t instanceof my&&t.precision!==Zs.HALF))return new npe(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new npe(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new RIt(o)})}class RIt{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}tn.prototype.visitNull=un;tn.prototype.visitBool=un;tn.prototype.visitInt=un;tn.prototype.visitInt8=un;tn.prototype.visitInt16=un;tn.prototype.visitInt32=un;tn.prototype.visitInt64=un;tn.prototype.visitUint8=un;tn.prototype.visitUint16=un;tn.prototype.visitUint32=un;tn.prototype.visitUint64=un;tn.prototype.visitFloat=un;tn.prototype.visitFloat16=un;tn.prototype.visitFloat32=un;tn.prototype.visitFloat64=un;tn.prototype.visitUtf8=un;tn.prototype.visitLargeUtf8=un;tn.prototype.visitBinary=un;tn.prototype.visitLargeBinary=un;tn.prototype.visitFixedSizeBinary=un;tn.prototype.visitDate=un;tn.prototype.visitDateDay=un;tn.prototype.visitDateMillisecond=un;tn.prototype.visitTimestamp=un;tn.prototype.visitTimestampSecond=un;tn.prototype.visitTimestampMillisecond=un;tn.prototype.visitTimestampMicrosecond=un;tn.prototype.visitTimestampNanosecond=un;tn.prototype.visitTime=un;tn.prototype.visitTimeSecond=un;tn.prototype.visitTimeMillisecond=un;tn.prototype.visitTimeMicrosecond=un;tn.prototype.visitTimeNanosecond=un;tn.prototype.visitDecimal=un;tn.prototype.visitList=un;tn.prototype.visitStruct=un;tn.prototype.visitUnion=un;tn.prototype.visitDenseUnion=un;tn.prototype.visitSparseUnion=un;tn.prototype.visitDictionary=un;tn.prototype.visitInterval=un;tn.prototype.visitIntervalDayTime=un;tn.prototype.visitIntervalYearMonth=un;tn.prototype.visitDuration=un;tn.prototype.visitDurationSecond=un;tn.prototype.visitDurationMillisecond=un;tn.prototype.visitDurationMicrosecond=un;tn.prototype.visitDurationNanosecond=un;tn.prototype.visitFixedSizeList=un;tn.prototype.visitMap=un;const PZ=new tn;var XPe;const QPe={},JPe={};class Cr{constructor(t){var n,r,i;const s=t[0]instanceof Cr?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Pr)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=QPe[o.typeId],c=s[0];this.isValid=d=>kZ(c,d),this.get=d=>a(c,d),this.set=(d,f)=>l(c,d,f),this.indexOf=d=>u(c,d),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,JPe[o.typeId]),this._offsets=qPe(s);break}this.data=s,this.type=o,this.stride=ch(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return CIt(this.data)}get nullCount(){return HPe(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${ae[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return PZ.visit(this)}concat(...t){return new Cr(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Cr(zPe(this,t,n,({data:r,_offsets:i},s,o)=>WPe(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case ae.Int:case ae.Float:case ae.Decimal:case ae.Time:case ae.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Cr(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return xn.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(xn.isDictionary(this.type)){const t=new p3(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Cr(n)}return new p3(this)}unmemoize(){if(xn.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Cr(n)}return this}}XPe=Symbol.toStringTag;Cr[XPe]=(e=>{e.type=xn.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(ae).map(n=>ae[n]).filter(n=>typeof n=="number"&&n!==ae.NONE);for(const n of t){const r=fu.getVisitFnByTypeId(n),i=rd.getVisitFnByTypeId(n),s=h3.getVisitFnByTypeId(n);QPe[n]={get:r,set:i,indexOf:s},JPe[n]=Object.create(e,{isValid:{value:f3(kZ)},get:{value:f3(fu.getVisitFnByTypeId(n))},set:{value:GPe(rd.getVisitFnByTypeId(n))},indexOf:{value:YPe(h3.getVisitFnByTypeId(n))}})}return"Vector"})(Cr.prototype);class p3 extends Cr{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new p3(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Cr(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function kIt(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${PIt(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function PIt(e){return typeof e!="bigint"?mb(e):`${mb(e)}n`}function h9(e,t){const n=Math.ceil(e)*t-1;return(n-n%64+64||64)/t}function rpe(e,t=0){return e.length>=t?e.subarray(0,t):yH(new e.constructor(t),e,0)}class fk{constructor(t,n=0,r=1){this.length=Math.ceil(n/r),this.buffer=new t(this.length),this.stride=r,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?h9(r*1,this.BYTES_PER_ELEMENT):h9(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=h9(t*this.stride,this.BYTES_PER_ELEMENT);const n=rpe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(t){return this.buffer=rpe(this.buffer,t)}}class hk extends fk{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class ZPe extends hk{constructor(){super(Uint8Array,0,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class eNe extends hk{constructor(t){super(t.OffsetArrayType,1,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&r>=0&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0),super.flush(t+1)}}let wu=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=ch(t),this._nulls=new ZPe,n&&n.length>0&&(this._isValid=kIt(n))}toVector(){return new Cr([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:l,_offsets:u,_values:c,_nulls:d}=this;(n=l==null?void 0:l.flush(o))?i=u==null?void 0:u.flush(o):(i=u==null?void 0:u.flush(o))?t=c==null?void 0:c.flush(u.last()):t=c==null?void 0:c.flush(o),a>0&&(r=d==null?void 0:d.flush(o));const f=this.children.map(h=>h.flush());return this.clear(),Ea({type:s,length:o,nullCount:a,children:f,child:f[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};wu.prototype.length=1;wu.prototype.stride=1;wu.prototype.children=null;wu.prototype.finished=!1;wu.prototype.nullValues=null;wu.prototype._isValid=()=>!0;class vg extends wu{constructor(t){super(t),this._values=new hk(this.ArrayType,0,this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class OS extends wu{constructor(t){super(t),this._pendingLength=0,this._offsets=new eNe(t.type)}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof l4?n[qd].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class xH{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}class ku{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Br),(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qs.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new lh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new xH).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new xH).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Vs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,qs.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class jr{constructor(t=[],n,r,i=qs.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=TH(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new jr(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new jr(n,this.metadata)}assign(...t){const n=t[0]instanceof jr?t[0]:Array.isArray(t[0])?new jr(t[0]):new jr(t),r=[...this.fields],i=LN(LN(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:LN(LN(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=TH(s,new Map);return new jr([...r,...s],i,new Map([...this.dictionaries,...o]))}}jr.prototype.fields=null;jr.prototype.metadata=null;jr.prototype.dictionaries=null;let Zr=class SH{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new SH(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],SH.new(n,r,i,s)}};Zr.prototype.type=null;Zr.prototype.name=null;Zr.prototype.nullable=null;Zr.prototype.metadata=null;function LN(e,t){return new Map([...e||new Map,...t||new Map])}function TH(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(xn.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&TH(s.children,t)}return t}var NIt=Ike,OIt=t3;class CH{static decode(t){t=new OIt(hr(t));const n=ku.getRootAsFooter(t),r=jr.decode(n.schema(),new Map,n.version());return new DIt(r,n)}static encode(t){const n=new NIt,r=jr.encode(n,t.schema);ku.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())yy.encode(n,o);const i=n.endVector();ku.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())yy.encode(n,o);const s=n.endVector();return ku.startFooter(n),ku.addSchema(n,r),ku.addVersion(n,qs.V5),ku.addRecordBatches(n,i),ku.addDictionaries(n,s),ku.finishFooterBuffer(n,ku.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=qs.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class DIt extends CH{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return yy.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return yy.decode(n)}return null}}class yy{static decode(t){return new yy(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return xH.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=Jo(r),this.bodyLength=Jo(n)}}const FN=Object.freeze({done:!0,value:void 0});class tNe{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class MIt extends tNe{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return rm(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(FN);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Uhe.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Uhe.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return rm(this,void 0,void 0,function*(){return yield this.abort(t),FN})}return(t){return rm(this,void 0,void 0,function*(){return yield this.close(),FN})}read(t){return rm(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return rm(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(FN)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class p9 extends MIt{write(t){if((t=hr(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?gH(this.toUint8Array(!0)):this.toUint8Array(!1).then(gH)}toUint8Array(t=!1){return t?tp(this._values)[0]:rm(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=O2(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const d=s;o.push(d),a+=d.byteLength}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return tp(o,a)[0]})}}class nNe extends OS{constructor(t){super(t),this._values=new fk(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,hr(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const l=a.length;i.set(a,s),r.set(o,l),s+=l}}}class rNe extends OS{constructor(t){super(t),this._values=new fk(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,hr(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,BigInt(0));else{const l=a.length;i.set(a,s),r.set(o,BigInt(l)),s+=l}}}class $It extends wu{constructor(t){super(t),this._values=new ZPe}setValue(t,n){this._values.set(t,+n)}}class c4 extends vg{}c4.prototype._setValue=cPe;class iNe extends c4{}iNe.prototype._setValue=cZ;class sNe extends c4{}sNe.prototype._setValue=dZ;class oNe extends vg{}oNe.prototype._setValue=hPe;class LIt extends wu{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new gy(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=m3({type:this.type.indices,nullValues:n}),this.dictionary=m3({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class aNe extends vg{}aNe.prototype._setValue=aPe;class FIt extends wu{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new px(this.type.listSize,new Zr(n,t.type,!0)),r}}class d4 extends vg{setValue(t,n){this._values.set(t,n)}}class jIt extends d4{setValue(t,n){super.setValue(t,iPe(n))}}class BIt extends d4{}class zIt extends d4{}class f4 extends vg{}f4.prototype._setValue=gPe;class lNe extends f4{}lNe.prototype._setValue=_Z;class uNe extends f4{}uNe.prototype._setValue=wZ;class DS extends vg{}DS.prototype._setValue=yPe;class cNe extends DS{}cNe.prototype._setValue=EZ;class dNe extends DS{}dNe.prototype._setValue=xZ;class fNe extends DS{}fNe.prototype._setValue=SZ;class hNe extends DS{}hNe.prototype._setValue=TZ;class bg extends vg{setValue(t,n){this._values.set(t,n)}}class UIt extends bg{}class VIt extends bg{}class HIt extends bg{}class qIt extends bg{}class WIt extends bg{}class GIt extends bg{}class YIt extends bg{}class KIt extends bg{}class XIt extends OS{constructor(t){super(t),this._offsets=new eNe(t.type)}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new hx(new Zr(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,l=n.set(i,a).buffer[i];for(let u=-1;++u<a;)r.set(l+u,o[u])}}}class QIt extends OS{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new CI(new Zr(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const l of s.entries())if(r.set(o,l),++o>=a)break}}}class JIt extends wu{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class ZIt extends wu{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Aa([...this.type.children,new Zr(n,t.type,!0)]),r}}class MS extends vg{}MS.prototype._setValue=dPe;class pNe extends MS{}pNe.prototype._setValue=fZ;class mNe extends MS{}mNe.prototype._setValue=hZ;class gNe extends MS{}gNe.prototype._setValue=pZ;class yNe extends MS{}yNe.prototype._setValue=mZ;class $S extends vg{}$S.prototype._setValue=fPe;class vNe extends $S{}vNe.prototype._setValue=gZ;class bNe extends $S{}bNe.prototype._setValue=yZ;class _Ne extends $S{}_Ne.prototype._setValue=vZ;class wNe extends $S{}wNe.prototype._setValue=bZ;class NZ extends wu{constructor(t){super(t),this._typeIds=new hk(Int8Array,0,1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Zr(n,t.type)];return this.type=new TI(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class eRt extends NZ{}class tRt extends NZ{constructor(t){super(t),this._offsets=new hk(Int32Array)}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class ENe extends OS{constructor(t){super(t),this._values=new fk(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,s4(n))}_flushPending(t,n){}}ENe.prototype._flushPending=nNe.prototype._flushPending;class xNe extends OS{constructor(t){super(t),this._values=new fk(Uint8Array)}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,s4(n))}_flushPending(t,n){}}xNe.prototype._flushPending=rNe.prototype._flushPending;class nRt extends zn{visitNull(){return JIt}visitBool(){return $It}visitInt(){return bg}visitInt8(){return UIt}visitInt16(){return VIt}visitInt32(){return HIt}visitInt64(){return qIt}visitUint8(){return WIt}visitUint16(){return GIt}visitUint32(){return YIt}visitUint64(){return KIt}visitFloat(){return d4}visitFloat16(){return jIt}visitFloat32(){return BIt}visitFloat64(){return zIt}visitUtf8(){return ENe}visitLargeUtf8(){return xNe}visitBinary(){return nNe}visitLargeBinary(){return rNe}visitFixedSizeBinary(){return aNe}visitDate(){return c4}visitDateDay(){return iNe}visitDateMillisecond(){return sNe}visitTimestamp(){return MS}visitTimestampSecond(){return pNe}visitTimestampMillisecond(){return mNe}visitTimestampMicrosecond(){return gNe}visitTimestampNanosecond(){return yNe}visitTime(){return $S}visitTimeSecond(){return vNe}visitTimeMillisecond(){return bNe}visitTimeMicrosecond(){return _Ne}visitTimeNanosecond(){return wNe}visitDecimal(){return oNe}visitList(){return XIt}visitStruct(){return ZIt}visitUnion(){return NZ}visitDenseUnion(){return tRt}visitSparseUnion(){return eRt}visitDictionary(){return LIt}visitInterval(){return f4}visitIntervalDayTime(){return lNe}visitIntervalYearMonth(){return uNe}visitDuration(){return DS}visitDurationSecond(){return cNe}visitDurationMillisecond(){return dNe}visitDurationMicrosecond(){return fNe}visitDurationNanosecond(){return hNe}visitFixedSizeList(){return FIt}visitMap(){return QIt}}const rRt=new nRt;class nn extends zn{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Sl(e,t){return t instanceof e.constructor}function r_(e,t){return e===t||Sl(e,t)}function _g(e,t){return e===t||Sl(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function h4(e,t){return e===t||Sl(e,t)&&e.precision===t.precision}function iRt(e,t){return e===t||Sl(e,t)&&e.byteWidth===t.byteWidth}function OZ(e,t){return e===t||Sl(e,t)&&e.unit===t.unit}function pk(e,t){return e===t||Sl(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function mk(e,t){return e===t||Sl(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function sRt(e,t){return e===t||Sl(e,t)&&e.children.length===t.children.length&&vy.compareManyFields(e.children,t.children)}function oRt(e,t){return e===t||Sl(e,t)&&e.children.length===t.children.length&&vy.compareManyFields(e.children,t.children)}function DZ(e,t){return e===t||Sl(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&vy.compareManyFields(e.children,t.children)}function aRt(e,t){return e===t||Sl(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&vy.visit(e.indices,t.indices)&&vy.visit(e.dictionary,t.dictionary)}function MZ(e,t){return e===t||Sl(e,t)&&e.unit===t.unit}function gk(e,t){return e===t||Sl(e,t)&&e.unit===t.unit}function lRt(e,t){return e===t||Sl(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&vy.compareManyFields(e.children,t.children)}function uRt(e,t){return e===t||Sl(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&vy.compareManyFields(e.children,t.children)}nn.prototype.visitNull=r_;nn.prototype.visitBool=r_;nn.prototype.visitInt=_g;nn.prototype.visitInt8=_g;nn.prototype.visitInt16=_g;nn.prototype.visitInt32=_g;nn.prototype.visitInt64=_g;nn.prototype.visitUint8=_g;nn.prototype.visitUint16=_g;nn.prototype.visitUint32=_g;nn.prototype.visitUint64=_g;nn.prototype.visitFloat=h4;nn.prototype.visitFloat16=h4;nn.prototype.visitFloat32=h4;nn.prototype.visitFloat64=h4;nn.prototype.visitUtf8=r_;nn.prototype.visitLargeUtf8=r_;nn.prototype.visitBinary=r_;nn.prototype.visitLargeBinary=r_;nn.prototype.visitFixedSizeBinary=iRt;nn.prototype.visitDate=OZ;nn.prototype.visitDateDay=OZ;nn.prototype.visitDateMillisecond=OZ;nn.prototype.visitTimestamp=pk;nn.prototype.visitTimestampSecond=pk;nn.prototype.visitTimestampMillisecond=pk;nn.prototype.visitTimestampMicrosecond=pk;nn.prototype.visitTimestampNanosecond=pk;nn.prototype.visitTime=mk;nn.prototype.visitTimeSecond=mk;nn.prototype.visitTimeMillisecond=mk;nn.prototype.visitTimeMicrosecond=mk;nn.prototype.visitTimeNanosecond=mk;nn.prototype.visitDecimal=r_;nn.prototype.visitList=sRt;nn.prototype.visitStruct=oRt;nn.prototype.visitUnion=DZ;nn.prototype.visitDenseUnion=DZ;nn.prototype.visitSparseUnion=DZ;nn.prototype.visitDictionary=aRt;nn.prototype.visitInterval=MZ;nn.prototype.visitIntervalDayTime=MZ;nn.prototype.visitIntervalYearMonth=MZ;nn.prototype.visitDuration=gk;nn.prototype.visitDurationSecond=gk;nn.prototype.visitDurationMillisecond=gk;nn.prototype.visitDurationMicrosecond=gk;nn.prototype.visitDurationNanosecond=gk;nn.prototype.visitFixedSizeList=lRt;nn.prototype.visitMap=uRt;const vy=new nn;function AH(e,t){return vy.compareSchemas(e,t)}function m3(e){const t=e.type,n=new(rRt.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:l}=a,u=s(a,o);n.children.push(m3(Object.assign(Object.assign({},u),{type:l})))}}return n}function m9(e,t){return cRt(e,t.map(n=>n.data.concat()))}function cRt(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((d,f)=>Math.max(d,f.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=dRt(n,o,c,t,i),o>0&&(r[s++]=Ea({type:new Aa(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(d=>new $u(e,d))]}function dRt(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=t)c===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,c-t))));else{const d=e[a];e[a]=d.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Ea({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var SNe;class Ul{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new jr([]),this._offsets=[0],this;let i,s;t[0]instanceof jr&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof $u)return[l];if(l instanceof Ul)return l.batches;if(l instanceof Pr){if(l.type instanceof Aa)return[new $u(new jr(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(h=>new Cr([l[h]])),d=i??new jr(u.map((h,p)=>new Zr(String(h),c[p].type,c[p].nullable))),[,f]=m9(d,c);return f.length===0?[new $u(l)]:f}}}return[]},a=t.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new jr([]),!(i instanceof jr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof $u))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!AH(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??qPe(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=HPe(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?PZ.visit(new Cr(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Ul(n,r.map(i=>new $u(n,i)))}slice(t,n){const r=this.schema;[t,n]=zPe({length:this.numRows},t,n);const i=WPe(this.data,this._offsets,t,n);return new Ul(r,i.map(s=>new $u(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Ea({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Cr(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Cr([Ea({type:new Jm,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[t],a[t]]=[o,n],[r,i]=m9(r,a)}return new Ul(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Ul(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[c,d]=a,f=n.findIndex(h=>h.name===l.name);return~f?d[f]=u:c.push(u),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Ul(...m9(s,o))}}SNe=Symbol.toStringTag;Ul[SNe]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=f3(kZ),e.get=f3(fu.getVisitFn(ae.Struct)),e.set=GPe(rd.getVisitFn(ae.Struct)),e.indexOf=YPe(h3.getVisitFn(ae.Struct)),"Table"))(Ul.prototype);var TNe;let $u=class ZC{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof jr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ea({nullCount:0,type:new Aa(this.schema.fields),children:this.schema.fields.map(n=>Ea({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Pr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=ipe(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=Zr.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new jr(r),a=Ea({type:new Aa(r),length:s,children:i,nullCount:0});[this.schema,this.data]=ipe(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=CNe(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return fu.visit(this.data,t)}set(t,n){return rd.visit(this.data,t,n)}indexOf(t,n){return h3.visit(this.data,t,n)}[Symbol.iterator](){return PZ.visit(new Cr([this.data]))}toArray(){return[...this]}concat(...t){return new Ul(this.schema,[this,...t])}slice(t,n){const[r]=new Cr([this.data]).slice(t,n).data;return new ZC(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Cr([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Cr([Ea({type:new Jm,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new jr(s,new Map(this.schema.metadata)),i=Ea({type:new Aa(s),children:o})}return new ZC(r,i)}select(t){const n=this.schema.select(t),r=new Aa(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new ZC(n,Ea({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Ea({type:new Aa(n.fields),length:this.numRows,children:r});return new ZC(n,i)}};TNe=Symbol.toStringTag;$u[TNe]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))($u.prototype);function ipe(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const u=t[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Ea({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Ea({type:new Aa(i),length:n,children:s})]}function CNe(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],l=t[s];for(const u of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])CNe(a.children,u==null?void 0:u.children,n);if(xn.isDictionary(a)){const{id:u}=a;if(!n.has(u))l!=null&&l.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class fRt extends $u{constructor(t){const n=t.fields.map(i=>Ea({type:i.type})),r=Ea({type:new Aa(t.fields),nullCount:0,children:n});super(t,r)}}let jg=class eh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Br),(n||new eh).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qs.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Os.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Vs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,qs.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Os.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return eh.startMessage(t),eh.addVersion(t,n),eh.addHeaderType(t,r),eh.addHeader(t,i),eh.addBodyLength(t,s),eh.addCustomMetadata(t,o),eh.endMessage(t)}};class hRt extends zn{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Xhe.startNull(n),Xhe.endNull(n)}visitInt(t,n){return Mu.startInt(n),Mu.addBitWidth(n,t.bitWidth),Mu.addIsSigned(n,t.isSigned),Mu.endInt(n)}visitFloat(t,n){return xh.startFloatingPoint(n),xh.addPrecision(n,t.precision),xh.endFloatingPoint(n)}visitBinary(t,n){return qhe.startBinary(n),qhe.endBinary(n)}visitLargeBinary(t,n){return Ghe.startLargeBinary(n),Ghe.endLargeBinary(n)}visitBool(t,n){return Whe.startBool(n),Whe.endBool(n)}visitUtf8(t,n){return Qhe.startUtf8(n),Qhe.endUtf8(n)}visitLargeUtf8(t,n){return Yhe.startLargeUtf8(n),Yhe.endLargeUtf8(n)}visitDecimal(t,n){return fw.startDecimal(n),fw.addScale(n,t.scale),fw.addPrecision(n,t.precision),fw.addBitWidth(n,t.bitWidth),fw.endDecimal(n)}visitDate(t,n){return bD.startDate(n),bD.addUnit(n,t.unit),bD.endDate(n)}visitTime(t,n){return XC.startTime(n),XC.addUnit(n,t.unit),XC.addBitWidth(n,t.bitWidth),XC.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return QC.startTimestamp(n),QC.addUnit(n,t.unit),r!==void 0&&QC.addTimezone(n,r),QC.endTimestamp(n)}visitInterval(t,n){return Sh.startInterval(n),Sh.addUnit(n,t.unit),Sh.endInterval(n)}visitDuration(t,n){return _D.startDuration(n),_D.addUnit(n,t.unit),_D.endDuration(n)}visitList(t,n){return Khe.startList(n),Khe.endList(n)}visitStruct(t,n){return O1.startStruct_(n),O1.endStruct_(n)}visitUnion(t,n){e1.startTypeIdsVector(n,t.typeIds.length);const r=e1.createTypeIdsVector(n,t.typeIds);return e1.startUnion(n),e1.addMode(n,t.mode),e1.addTypeIds(n,r),e1.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return am.startDictionaryEncoding(n),am.addId(n,BigInt(t.id)),am.addIsOrdered(n,t.isOrdered),r!==void 0&&am.addIndexType(n,r),am.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return wD.startFixedSizeBinary(n),wD.addByteWidth(n,t.byteWidth),wD.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return ED.startFixedSizeList(n),ED.addListSize(n,t.listSize),ED.endFixedSizeList(n)}visitMap(t,n){return xD.startMap(n),xD.addKeysSorted(n,t.keysSorted),xD.endMap(n)}}const g9=new hRt;function pRt(e,t=new Map){return new jr(gRt(e,t),TD(e.metadata),t)}function ANe(e){return new rc(e.count,INe(e.columns),RNe(e.columns))}function mRt(e){return new np(ANe(e.data),e.id,e.isDelta)}function gRt(e,t){return(e.fields||[]).filter(Boolean).map(n=>Zr.fromJSON(n,t))}function spe(e,t){return(e.children||[]).filter(Boolean).map(n=>Zr.fromJSON(n,t))}function INe(e){return(e||[]).reduce((t,n)=>[...t,new by(n.count,yRt(n.VALIDITY)),...INe(n.children)],[])}function RNe(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new kh(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new kh(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new kh(t.length,i.OFFSET.length)),i.DATA&&t.push(new kh(t.length,i.DATA.length)),t=RNe(i.children,t)}return t}function yRt(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function vRt(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=ape(e,spe(e,t)),i=new Zr(e.name,o,e.nullable,TD(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?ope(r):new py,a=new gy(t.get(n),r,n,s.isOrdered),i=new Zr(e.name,a,e.nullable,TD(e.metadata))):(r=(r=s.indexType)?ope(r):new py,t.set(n,o=ape(e,spe(e,t))),a=new gy(o,r,n,s.isOrdered),i=new Zr(e.name,a,e.nullable,TD(e.metadata))),i||null}function TD(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function ope(e){return new vl(e.isSigned,e.bitWidth)}function ape(e,t){const n=e.type.name;switch(n){case"NONE":return new Jm;case"null":return new Jm;case"binary":return new xI;case"largebinary":return new s3;case"utf8":return new cx;case"largeutf8":return new o3;case"bool":return new SI;case"list":return new hx((t||[])[0]);case"struct":return new Aa(t||[]);case"struct_":return new Aa(t||[])}switch(n){case"int":{const r=e.type;return new vl(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new my(Zs[r.precision])}case"decimal":{const r=e.type;return new a3(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new dx(td[r.unit])}case"time":{const r=e.type;return new Zm(Wt[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new l3(Wt[r.unit],r.timezone)}case"interval":{const r=e.type;return new fx(nd[r.unit])}case"duration":{const r=e.type;return new u3(Wt[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new TI(yl[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new c3(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new px(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new CI((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var bRt=Ike,_Rt=t3;class Th{static fromJSON(t,n){const r=new Th(0,qs.V5,n);return r._createHeader=wRt(t,n),r}static decode(t){t=new _Rt(hr(t));const n=jg.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Th(r,i,s);return o._createHeader=ERt(n,s),o}static encode(t){const n=new bRt;let r=-1;return t.isSchema()?r=jr.encode(n,t.header()):t.isRecordBatch()?r=rc.encode(n,t.header()):t.isDictionaryBatch()&&(r=np.encode(n,t.header())),jg.startMessage(n),jg.addVersion(n,qs.V5),jg.addHeader(n,r),jg.addHeaderType(n,t.headerType),jg.addBodyLength(n,BigInt(t.bodyLength)),jg.finishMessageBuffer(n,jg.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof jr)return new Th(0,qs.V5,Os.Schema,t);if(t instanceof rc)return new Th(n,qs.V5,Os.RecordBatch,t);if(t instanceof np)return new Th(n,qs.V5,Os.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Os.Schema}isRecordBatch(){return this.headerType===Os.RecordBatch}isDictionaryBatch(){return this.headerType===Os.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=Jo(t)}}class rc{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=Jo(t)}}class np{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=Jo(n)}}class kh{constructor(t,n){this.offset=Jo(t),this.length=Jo(n)}}class by{constructor(t,n){this.length=Jo(t),this.nullCount=Jo(n)}}function wRt(e,t){return()=>{switch(t){case Os.Schema:return jr.fromJSON(e);case Os.RecordBatch:return rc.fromJSON(e);case Os.DictionaryBatch:return np.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Os[t]}, type: ${t} }`)}}function ERt(e,t){return()=>{switch(t){case Os.Schema:return jr.decode(e.header(new lh),new Map,e.version());case Os.RecordBatch:return rc.decode(e.header(new Xp),e.version());case Os.DictionaryBatch:return np.decode(e.header(new cw),e.version())}throw new Error(`Unrecognized Message type: { name: ${Os[t]}, type: ${t} }`)}}Zr.encode=ORt;Zr.decode=PRt;Zr.fromJSON=vRt;jr.encode=NRt;jr.decode=xRt;jr.fromJSON=pRt;rc.encode=DRt;rc.decode=SRt;rc.fromJSON=ANe;np.encode=MRt;np.decode=TRt;np.fromJSON=mRt;by.encode=$Rt;by.decode=ARt;kh.encode=LRt;kh.decode=CRt;function xRt(e,t=new Map,n=qs.V5){const r=kRt(e,t);return new jr(r,CD(e),t,n)}function SRt(e,t=qs.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new rc(e.length(),IRt(e),RRt(e,t))}function TRt(e,t=qs.V5){return new np(rc.decode(e.data(),t),e.id(),e.isDelta())}function CRt(e){return new kh(e.offset(),e.length())}function ARt(e){return new by(e.length(),e.nullCount())}function IRt(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=by.decode(n));return t}function RRt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<qs.V4&&(r.bb_pos+=8*(i+1)),n[++s]=kh.decode(r));return n}function kRt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Zr.decode(r,t));return n}function lpe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Zr.decode(r,t));return n}function PRt(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=cpe(e,lpe(e,t)),r=new Zr(e.name(),i,e.nullable(),CD(e))):t.has(n=Jo(a.id()))?(s=(s=a.indexType())?upe(s):new py,o=new gy(t.get(n),s,n,a.isOrdered()),r=new Zr(e.name(),o,e.nullable(),CD(e))):(s=(s=a.indexType())?upe(s):new py,t.set(n,i=cpe(e,lpe(e,t))),o=new gy(i,s,n,a.isOrdered()),r=new Zr(e.name(),o,e.nullable(),CD(e))),r||null}function CD(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function upe(e){return new vl(e.isSigned(),e.bitWidth())}function cpe(e,t){const n=e.typeType();switch(n){case mi.NONE:return new Jm;case mi.Null:return new Jm;case mi.Binary:return new xI;case mi.LargeBinary:return new s3;case mi.Utf8:return new cx;case mi.LargeUtf8:return new o3;case mi.Bool:return new SI;case mi.List:return new hx((t||[])[0]);case mi.Struct_:return new Aa(t||[])}switch(n){case mi.Int:{const r=e.type(new Mu);return new vl(r.isSigned(),r.bitWidth())}case mi.FloatingPoint:{const r=e.type(new xh);return new my(r.precision())}case mi.Decimal:{const r=e.type(new fw);return new a3(r.scale(),r.precision(),r.bitWidth())}case mi.Date:{const r=e.type(new bD);return new dx(r.unit())}case mi.Time:{const r=e.type(new XC);return new Zm(r.unit(),r.bitWidth())}case mi.Timestamp:{const r=e.type(new QC);return new l3(r.unit(),r.timezone())}case mi.Interval:{const r=e.type(new Sh);return new fx(r.unit())}case mi.Duration:{const r=e.type(new _D);return new u3(r.unit())}case mi.Union:{const r=e.type(new e1);return new TI(r.mode(),r.typeIdsArray()||[],t||[])}case mi.FixedSizeBinary:{const r=e.type(new wD);return new c3(r.byteWidth())}case mi.FixedSizeList:{const r=e.type(new ED);return new px(r.listSize(),(t||[])[0])}case mi.Map:{const r=e.type(new xD);return new CI((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${mi[n]}" (${n})`)}function NRt(e,t){const n=t.fields.map(s=>Zr.encode(e,s));lh.startFieldsVector(e,n.length);const r=lh.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?lh.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),l=e.createString(`${o}`);return Vs.startKeyValue(e),Vs.addKey(e,a),Vs.addValue(e,l),Vs.endKeyValue(e)})):-1;return lh.startSchema(e),lh.addFields(e,r),lh.addEndianness(e,FRt?ux.Little:ux.Big),i!==-1&&lh.addCustomMetadata(e,i),lh.endSchema(e)}function ORt(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;xn.isDictionary(s)?(o=s.dictionary.typeId,i=g9.visit(s,e),r=g9.visit(s.dictionary,e)):r=g9.visit(s,e);const a=(s.children||[]).map(c=>Zr.encode(e,c)),l=Ec.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?Ec.createCustomMetadataVector(e,[...t.metadata].map(([c,d])=>{const f=e.createString(`${c}`),h=e.createString(`${d}`);return Vs.startKeyValue(e),Vs.addKey(e,f),Vs.addValue(e,h),Vs.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Ec.startField(e),Ec.addType(e,r),Ec.addTypeType(e,o),Ec.addChildren(e,l),Ec.addNullable(e,!!t.nullable),n!==-1&&Ec.addName(e,n),i!==-1&&Ec.addDictionary(e,i),u!==-1&&Ec.addCustomMetadata(e,u),Ec.endField(e)}function DRt(e,t){const n=t.nodes||[],r=t.buffers||[];Xp.startNodesVector(e,n.length);for(const o of n.slice().reverse())by.encode(e,o);const i=e.endVector();Xp.startBuffersVector(e,r.length);for(const o of r.slice().reverse())kh.encode(e,o);const s=e.endVector();return Xp.startRecordBatch(e),Xp.addLength(e,BigInt(t.length)),Xp.addNodes(e,i),Xp.addBuffers(e,s),Xp.endRecordBatch(e)}function MRt(e,t){const n=rc.encode(e,t.data);return cw.startDictionaryBatch(e),cw.addId(e,BigInt(t.id)),cw.addIsDelta(e,t.isDelta),cw.addData(e,n),cw.endDictionaryBatch(e)}function $Rt(e,t){return Pke.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function LRt(e,t){return kke.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const FRt=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),IH="ARROW1",$Z=new Uint8Array(IH.length);for(let e=0;e<IH.length;e+=1)$Z[e]=IH.codePointAt(e);$Z.length;class Qi extends zn{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof $u?s.data.children:s.data),r=new Qi;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Cr)return this.visitMany(t.data),this;const{type:n}=t;if(!xn.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(xn.isUnion(n))this.nodes.push(new by(r,0));else{const{nullCount:i}=t;xn.isNull(n)||af.call(this,i<=0?new Uint8Array(0):d3(t.offset,r,t.nullBitmap)),this.nodes.push(new by(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function af(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new kh(this._byteLength,t)),this._byteLength+=t,this}function jRt(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(af.call(this,i),n.mode===yl.Sparse)return RH.call(this,e);if(n.mode===yl.Dense){if(e.offset<=0)return af.call(this,s),RH.call(this,e);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,d=-1;++d<r;)(u=i[d])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[d]),o[d]=s[d]-c,l[u]=((t=l[u])!==null&&t!==void 0?t:0)+1);af.call(this,o),this.visitMany(e.children.map((u,c)=>{const d=n.typeIds[c],f=a[d],h=l[d];return u.slice(f,Math.min(r,h))}))}}return this}function BRt(e){let t;return e.nullCount>=e.length?af.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?af.call(this,d3(e.offset,e.length,t)):af.call(this,VPe(e.values))}function wg(e){return af.call(this,e.values.subarray(0,e.length*e.stride))}function p4(e){const{length:t,values:n,valueOffsets:r}=e,i=Jo(r[0]),s=Jo(r[t]),o=Math.min(s-i,n.byteLength-i);return af.call(this,Cke(-i,t+1,r)),af.call(this,n.subarray(i,i+o)),this}function LZ(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return af.call(this,Cke(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function RH(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Qi.prototype.visitBool=BRt;Qi.prototype.visitInt=wg;Qi.prototype.visitFloat=wg;Qi.prototype.visitUtf8=p4;Qi.prototype.visitLargeUtf8=p4;Qi.prototype.visitBinary=p4;Qi.prototype.visitLargeBinary=p4;Qi.prototype.visitFixedSizeBinary=wg;Qi.prototype.visitDate=wg;Qi.prototype.visitTimestamp=wg;Qi.prototype.visitTime=wg;Qi.prototype.visitDecimal=wg;Qi.prototype.visitList=LZ;Qi.prototype.visitStruct=RH;Qi.prototype.visitUnion=jRt;Qi.prototype.visitInterval=wg;Qi.prototype.visitDuration=wg;Qi.prototype.visitFixedSizeList=LZ;Qi.prototype.visitMap=LZ;class kNe extends tNe{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new p9,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,av(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return o4(t)?t.then(n=>this.writeAll(n)):a4(t)?zZ(this,t):BZ(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof p9?this._sink=t:(this._sink=new p9,t&&nAt(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&rAt(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!AH(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ul&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof $u&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!AH(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof $u?t instanceof fRt||this._writeRecordBatch(t):t instanceof Ul?this.writeAll(t.batches):XJ(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Th.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return t.headerType===Os.RecordBatch?this._recordBatchBlocks.push(new yy(a,t.bodyLength,this._position)):t.headerType===Os.DictionaryBatch&&this._dictionaryBlocks.push(new yy(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=hr(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Th.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write($Z)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Qi.assemble(t),o=new rc(t.numRows,r,i),a=Th.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Qi.assemble(new Cr([t])),l=new rc(t.length,s,o),u=new np(l,n,r),c=Th.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class FZ extends kNe{static writeAll(t,n){const r=new FZ(n);return o4(t)?t.then(i=>r.writeAll(i)):a4(t)?zZ(r,t):BZ(r,t)}}class jZ extends kNe{static writeAll(t){const n=new jZ;return o4(t)?t.then(r=>n.writeAll(r)):a4(t)?zZ(n,t):BZ(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=CH.encode(new CH(t,qs.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function BZ(e,t){let n=t;t instanceof Ul&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function zZ(e,t){var n,r,i,s,o,a,l;return rm(this,void 0,void 0,function*(){try{for(n=!0,r=O2(t);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;e.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function zRt(e,t="stream"){return(t==="stream"?FZ:jZ).writeAll(e).toUint8Array(!0)}function UZ(e,t=1){return(e*t+63&-64||64)/t}function _y(e,t,n=e.BYTES_PER_ELEMENT){return new e(UZ(t,n))}function VZ(e){return e instanceof Pr?e:new Pr(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function URt(e){return new Cr([VZ(e)])}const HZ=new TextEncoder;function VRt(e,t,n){const r=HZ.encode(n);return e.set(r,t),r.length}function HRt(e,t,n){return HZ.encodeInto(n,e.subarray(t)).written}const qRt=HZ.encodeInto?HRt:VRt;function dpe(e,t){const n=_y(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function WRt(e,t){const n=_y(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function GRt(e,t){const n=_y(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function YRt(e,t){const n=_y(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function KRt(e){const t=m3({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function XRt(e,t,n){const r=_y(Int32Array,t+1),i=_y(Uint8Array,3*n);let s=0;return{set(o,a){s+=qRt(i,s,o),r[a+1]=s},data:()=>{const o=UZ(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function QRt(e,t){const n=[],r=_y(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,l){const u=String(a);let c=i[u];c===void 0&&(o+=u.length,i[u]=c=++s,n.push(u)),r[l]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:JRt(e.dictionary,n,o)})}}function JRt(e,t,n){const r=XRt(e,t.length,n);return t.forEach(r.set),URt(r.data())}function ZRt(e,t){const n=_y(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function ekt(e,t,n=!0){let r;switch(e.typeId){case ae.Int:r=e.bitWidth<64?dpe:null;break;case ae.Float:r=e.precision>0?dpe:null;break;case ae.Dictionary:r=e.dictionary.typeId===ae.Utf8&&e.indices.typeId===ae.Int&&e.indices.bitWidth<64?QRt:null;break;case ae.Bool:r=WRt;break;case ae.Date:r=e.unit?YRt:GRt;break}return r==null?KRt(e):n?ZRt(r(e,t),t):r(e,t)}function tkt(e,t){const n=e.length,r=UZ(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),VZ({type:t,length:n,buffers:[null,i]})}function PNe(e,t,n,r,i=!0){const s=ekt(r,e,i);return t(n,s.set),VZ(s.data())}function qZ(e){if(e instanceof xn||e==null)return e;switch(e){case ae.Binary:return new xI;case ae.Bool:return new SI;case ae.DateDay:return new vAt;case ae.DateMillisecond:case ae.Date:return new bAt;case ae.Dictionary:return new gy(new cx,new py);case ae.Float16:return new tPe;case ae.Float32:return new oZ;case ae.Float64:case ae.Float:return new aZ;case ae.Int8:return new ZJ;case ae.Int16:return new eZ;case ae.Int32:case ae.Int:return new py;case ae.Int64:return new tZ;case ae.IntervalDayTime:return new SAt;case ae.Interval:case ae.IntervalYearMonth:return new TAt;case ae.Null:return new Jm;case ae.TimeMicrosecond:return new EAt;case ae.TimeMillisecond:case ae.Time:return new wAt;case ae.TimeNanosecond:return new xAt;case ae.TimeSecond:return new _At;case ae.Uint8:return new nZ;case ae.Uint16:return new rZ;case ae.Uint32:return new iZ;case ae.Uint64:return new sZ;case ae.Utf8:return new cx;default:Ln(`Unsupported type code: ${ep(e)}. Use a data type constructor instead?`)}}function nkt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function NNe(e,t){const n=kH();return e(t,n.add),n}function kH(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Qm(t))++e.dates,nkt(t)&&++e.utcdays;else if(N1(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=kH());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=kH())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return qZ(rkt(e))}};return e}function rkt(e){const t=e.count-e.nulls;if(t===0)return ae.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?ae.Float64:n<128?ae.Int8:n<32768?ae.Int16:ae.Int32:n>=2**32?ae.Float64:n<256?ae.Uint8:n<65536?ae.Uint16:ae.Uint32}else{if(e.nums===t)return ae.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?ae.Int64:Ln(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?ae.Uint64:Ln(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return ae.Bool;if(e.utcdays===t)return ae.DateDay;if(e.dates===t)return ae.DateMillisecond;if(e.arrays===t){const n=Zr.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new px(e.minlen,n):new hx(n)}else if(e.structs===t){const n=e.struct_prof;return new Aa(Object.keys(n).map(r=>Zr.new(r,n[r].type(),!0)))}else{if(e.strings>0)return ae.Dictionary;Ln("Type inference failure")}}}}function ikt(e,t,n,r,i,s=!0){if(i=qZ(i),!i){const o=NNe(r,t);s=o.nulls>0,i=o.type()}return PNe(n,r,t,i,s)}function skt(e,t,n,r,i,s=!0){i=qZ(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),l=okt(o);if(l&&a&&fpe(l.type,i))return l;const u=o.data;if(ck(u)){const c=akt(u);if(a&&c&&fpe(c,i))return tkt(u,c);i=i||c,s=!1}if(!i){const c=NNe(r,o);s=c.nulls>0,i=c.type()}return PNe(n,r,o,i,s)}function okt(e){return e instanceof Cr?e:e.vector instanceof Cr?e.vector:null}function akt(e){const n={Float32Array:oZ,Float64Array:aZ,Int8Array:ZJ,Int16Array:eZ,Int32Array:py,Uint8Array:nZ,Uint16Array:rZ,Uint32Array:iZ,BigInt64Array:tZ,BigUint64Array:sZ}[e.constructor.name];return n?new n:null}function fpe(e,t){return!e||!t?!0:e.compareTo(t)}function lkt(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function ukt(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&N1(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const ckt=()=>Ln("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function dkt(){try{return Ul}catch{ckt()}}function ONe(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=fkt(e,t),a={};i.forEach(u=>{const c=r(e,u,s,o,n[u]);c.length!==s&&Ln("Column length mismatch"),a[u]=c});const l=dkt();return new l(a)}function fkt(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Ni(n)?n(e):Tr(n)?n:null;if(Tr(e))return{dataFrom:ikt,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:lkt(e,r,i)};if(hkt(e))return{dataFrom:skt,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:ukt(e,r,i)};Ln("Unsupported input data type")}function hkt(e){return e&&Ni(e.reify)}function pkt(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return zRt(ONe(e,r),n)}function mkt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function gkt(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(l=>{if(++n,l==null){++r;return}const u=typeof l;if(u==="object"&&Qm(l))++i,mkt(l)&&++s;else if(u==="number"&&(++o,l===l&&(l|0)!==l)){const c=l+"",d=c.indexOf(".");if(d>=0){const f=c.indexOf("e"),h=f>0?f:c.length;a=Math.max(a,h-d-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function m4(e,t){return Ni(t)?t(e):t||e.columnNames()}function DNe(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const l=gkt(ykt(e,a),n);o[a]=i[a]||l.align,s[a]=r[a]||l.format}),{align:o,format:s}}function ykt(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function WZ(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let l=0;l<o;++l){const u=t[l];i.cell(s[t[l]].get(a),u,l)}},!0,n,r)}function vkt(e,t={}){const n=m4(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=u=>u==null?"":Qm(u)?r4(u,!0):s.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u,a=n.map(o);let l="";return WZ(e,n,t.limit||1/0,t.offset,{row(){l+=a.join(i)+`
`},cell(u,c,d){a[d]=o(r[c]?r[c](u):u)}}),l+a.join(i)}function MNe(e,t={}){if(Ni(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Qm(e))return t.utc?r4(e):JRe(e);{const r=JSON.stringify(e,(s,o)=>ck(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+"…"+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function g4(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function bkt(e,t={}){const n=m4(e,t.columns),{align:r,format:i}=DNe(e,n,t),s=_kt(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",l=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=(m,g)=>l(MNe(m,g)),c=o?(m,g)=>m==null?o(m):u(m,g):u;let d=-1,f=-1;const h=(m,g,y)=>{const v=y?a(r[g]):"",_=s[m]&&s[m](g,f,d)||"",w=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${m}${w?` style="${w}"`:""}>`};let p=h("table")+h("thead")+h("tr",d)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return WZ(e,n,t.limit,t.offset,{row(m){d=m,p+=(++f?"</tr>":"")+h("tr")},cell(m,g){p+=h("td",g,1)+c(m,i[g])+"</td>"}}),p+"</tr></tbody></table>"}function _kt(e){return g4(e.style,t=>Ni(t)?t:()=>t)}function wkt(e,t=!0,n=!1){return e===void 0||e?t:n}const Ekt=e=>Qm(e)?r4(e,!0):e;function xkt(e,t={}){const n=wkt(t.schema),r=t.format||{},i=m4(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const l=e.column(o),u=r[o]||Ekt;let c=-1;e.scan(d=>{const f=l.get(d);s+=(++c?",":"")+JSON.stringify(u(f))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function Skt(e,t={}){const n=m4(e,t.columns),{align:r,format:i}=DNe(e,n,t),s=l=>l==="c"?":-:":l==="r"?"-:":":-",o=l=>l.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(l=>s(r[l])).join("|")+"|";return WZ(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(l,u){a+=o(MNe(l,i[u]))+"|"}}),a+`
`}function $Ne(e,t){for(const[n,r]of i4(t))e.set(n,r);return e}function Tkt(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function eg(e,t,n=new Map){return t=gl(t)?e.columnName(t):t,na(t)?n.set(t,t):Tr(t)?t.forEach(r=>eg(e,r,n)):Ni(t)?eg(e,t(e),n):La(t)?$Ne(n,t):Ln(`Invalid column selection: ${ep(t)}`),n}function y4(e,t){return e.toObject=t,e}function LNe(e){return Tr(e)?e.map(LNe):e&&e.toObject?e.toObject():e}function mx(){return y4(e=>e.columnNames(),()=>({all:[]}))}function FNe(...e){return e=e.flat(),y4(t=>{const n=eg(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:LNe(e)}))}function Ckt(e,t){return y4(n=>{let r=gl(e)?e:n.columnIndex(e),i=gl(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Akt(e){return na(e)&&(e=RegExp(Tkt(e))),y4(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Ikt(e){return ck(e.data)?e.data.constructor:Array}class Ch extends t2t{static from(t,n){return new Ch(i2t(t,n),n)}static new(t,n){if(t instanceof Ch)return t;const r={},i=[];for(const[s,o]of i4(t))r[s]=o,i.push(s);return new Ch(r,n||i)}constructor(t,n,r,i,s,o){g4(t,r2t,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Ch(t||this._data,n||(t?null:this._names),o,i!==void 0?i:O2t(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=pc(r).groupby(r.groups());return t.forEach(s=>{s=Ch.new(s),s.numRows()!==n&&Ln("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Ln(`Unrecognized column: ${t}`)}object(t=0){return hpe(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=eg(this,t.columns||mx()),o=xke(s),a=[];if(this.scan((l,u)=>a.push(o(l,u)),!0,r,i),n&&this.isGrouped()){const l=[];return this.scan(u=>l.push(u),!0,r,i),M2t(this,l,a,n)}return a}*[Symbol.iterator](){const t=hpe(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?l=>t.forEach(l):l=>this.scan(l,!0),a=r.length;i={};for(let l=0;l<a;++l){const u=r[l],c=this.column(u),d=i[u]=new(Ikt(c))(n);let f=-1;o(h=>d[++f]=c.get(h))}this.isGrouped()&&(s=D2t(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return ONe(this,t)}toArrowBuffer(t){return pkt(this,t)}toCSV(t){return vkt(this,t)}toHTML(t){return bkt(this,t)}toJSON(t){return xkt(this,t)}toMarkdown(t){return Skt(this,t)}}function hpe(e){let t=e._builder;if(!t){const n=xke(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Rkt{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function pr(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=kkt[e.type];s&&s(e,t,n)}const jN=(e,t,n)=>{pr(e.argument,t,n,e)},y9=(e,t,n)=>{pr(e.left,t,n,e),pr(e.right,t,n,e)},ppe=(e,t,n)=>{pr(e.test,t,n,e),pr(e.consequent,t,n,e),e.alternate&&pr(e.alternate,t,n,e)},v9=(e,t,n)=>{uh(e.params,t,n,e),pr(e.body,t,n,e)},mpe=(e,t,n)=>{pr(e.callee,t,n,e),uh(e.arguments,t,n,e)},uh=(e,t,n,r)=>{e.forEach(i=>pr(i,t,n,r))},kkt={TemplateLiteral:(e,t,n)=>{uh(e.expressions,t,n,e),uh(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{pr(e.object,t,n,e),pr(e.property,t,n,e)},CallExpression:mpe,NewExpression:mpe,ArrayExpression:(e,t,n)=>{uh(e.elements,t,n,e)},AssignmentExpression:y9,AwaitExpression:jN,BinaryExpression:y9,LogicalExpression:y9,UnaryExpression:jN,UpdateExpression:jN,ConditionalExpression:ppe,ObjectExpression:(e,t,n)=>{uh(e.properties,t,n,e)},Property:(e,t,n)=>{pr(e.key,t,n,e),pr(e.value,t,n,e)},ArrowFunctionExpression:v9,FunctionExpression:v9,FunctionDeclaration:v9,VariableDeclaration:(e,t,n)=>{uh(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{pr(e.id,t,n,e),pr(e.init,t,n,e)},SpreadElement:(e,t,n)=>{pr(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{uh(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{pr(e.expression,t,n,e)},IfStatement:ppe,ForStatement:(e,t,n)=>{pr(e.init,t,n,e),pr(e.test,t,n,e),pr(e.update,t,n,e),pr(e.body,t,n,e)},WhileStatement:(e,t,n)=>{pr(e.test,t,n,e),pr(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{pr(e.body,t,n,e),pr(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{pr(e.discriminant,t,n,e),uh(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&pr(e.test,t,n,e),uh(e.consequent,t,n,e)},ReturnStatement:jN,Program:(e,t,n)=>{pr(e.body[0],t,n,e)}};function jNe(e){delete e.start,delete e.end,delete e.optional}function gpe(e){jNe(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Pkt(e){return pr(e,null,{Column:gpe,Constant:gpe,Default:jNe}),e}function Ws(e,t){return t&&t.type===e}function Nkt(e){return Ws(F2t,e)||Ws(L2t,e)}function Okt(e){return Ni(e)?e:()=>e}const Dkt="Escaped functions are not valid as rollup or pivot values.";function Mkt(e,t,n){e.aggronly&&Ln(Dkt);const r="(row,data)=>fn("+Eke(e.table.columnNames())+",$)";return{escape:KJ.escape(r,Okt(t.expr),n)}}var $kt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],BNe=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Lkt="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",zNe="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",b9={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},_9="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Fkt={5:_9,"5module":_9+" export import",6:_9+" const class extends export import super"},jkt=/^in(stanceof)?$/,Bkt=new RegExp("["+zNe+"]"),zkt=new RegExp("["+zNe+Lkt+"]");function PH(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function tg(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Bkt.test(String.fromCharCode(e)):t===!1?!1:PH(e,BNe)}function gx(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&zkt.test(String.fromCharCode(e)):t===!1?!1:PH(e,BNe)||PH(e,$kt)}var _r=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function vc(e,t){return new _r(e,{beforeExpr:!0,binop:t})}var bc={beforeExpr:!0},Nl={startsExpr:!0},GZ={};function sr(e,t){return t===void 0&&(t={}),t.keyword=e,GZ[e]=new _r(e,t)}var K={num:new _r("num",Nl),regexp:new _r("regexp",Nl),string:new _r("string",Nl),name:new _r("name",Nl),privateId:new _r("privateId",Nl),eof:new _r("eof"),bracketL:new _r("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new _r("]"),braceL:new _r("{",{beforeExpr:!0,startsExpr:!0}),braceR:new _r("}"),parenL:new _r("(",{beforeExpr:!0,startsExpr:!0}),parenR:new _r(")"),comma:new _r(",",bc),semi:new _r(";",bc),colon:new _r(":",bc),dot:new _r("."),question:new _r("?",bc),questionDot:new _r("?."),arrow:new _r("=>",bc),template:new _r("template"),invalidTemplate:new _r("invalidTemplate"),ellipsis:new _r("...",bc),backQuote:new _r("`",Nl),dollarBraceL:new _r("${",{beforeExpr:!0,startsExpr:!0}),eq:new _r("=",{beforeExpr:!0,isAssign:!0}),assign:new _r("_=",{beforeExpr:!0,isAssign:!0}),incDec:new _r("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new _r("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:vc("||",1),logicalAND:vc("&&",2),bitwiseOR:vc("|",3),bitwiseXOR:vc("^",4),bitwiseAND:vc("&",5),equality:vc("==/!=/===/!==",6),relational:vc("</>/<=/>=",7),bitShift:vc("<</>>/>>>",8),plusMin:new _r("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:vc("%",10),star:vc("*",10),slash:vc("/",10),starstar:new _r("**",{beforeExpr:!0}),coalesce:vc("??",1),_break:sr("break"),_case:sr("case",bc),_catch:sr("catch"),_continue:sr("continue"),_debugger:sr("debugger"),_default:sr("default",bc),_do:sr("do",{isLoop:!0,beforeExpr:!0}),_else:sr("else",bc),_finally:sr("finally"),_for:sr("for",{isLoop:!0}),_function:sr("function",Nl),_if:sr("if"),_return:sr("return",bc),_switch:sr("switch"),_throw:sr("throw",bc),_try:sr("try"),_var:sr("var"),_const:sr("const"),_while:sr("while",{isLoop:!0}),_with:sr("with"),_new:sr("new",{beforeExpr:!0,startsExpr:!0}),_this:sr("this",Nl),_super:sr("super",Nl),_class:sr("class",Nl),_extends:sr("extends",bc),_export:sr("export"),_import:sr("import",Nl),_null:sr("null",Nl),_true:sr("true",Nl),_false:sr("false",Nl),_in:sr("in",{beforeExpr:!0,binop:7}),_instanceof:sr("instanceof",{beforeExpr:!0,binop:7}),_typeof:sr("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:sr("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:sr("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},gd=/\r\n?|\n|\u2028|\u2029/,Ukt=new RegExp(gd.source,"g");function LS(e){return e===10||e===13||e===8232||e===8233}function UNe(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(LS(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var VNe=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,kc=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,HNe=Object.prototype,Vkt=HNe.hasOwnProperty,Hkt=HNe.toString,yk=Object.hasOwn||function(e,t){return Vkt.call(e,t)},ype=Array.isArray||function(e){return Hkt.call(e)==="[object Array]"},vpe=Object.create(null);function E0(e){return vpe[e]||(vpe[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function wy(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var qkt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,AI=function(t,n){this.line=t,this.column=n};AI.prototype.offset=function(t){return new AI(this.line,this.column+t)};var v4=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function qNe(e,t){for(var n=1,r=0;;){var i=UNe(e,r,t);if(i<0)return new AI(n,t-r);++n,r=i}}var NH={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},bpe=!1;function Wkt(e){var t={};for(var n in NH)t[n]=e&&yk(e,n)?e[n]:NH[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!bpe&&typeof console=="object"&&console.warn&&(bpe=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),ype(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return ype(t.onComment)&&(t.onComment=Gkt(t,t.onComment)),t}function Gkt(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new v4(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}var II=1,FS=2,YZ=4,WNe=8,GNe=16,YNe=32,KZ=64,KNe=128,vk=256,XZ=II|FS|vk;function QZ(e,t){return FS|(e?YZ:0)|(t?WNe:0)}var g3=0,JZ=1,Eg=2,XNe=3,QNe=4,JNe=5,ro=function(t,n,r){this.options=t=Wkt(t),this.sourceFile=t.sourceFile,this.keywords=E0(Fkt[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=b9[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=E0(i);var s=(i?i+" ":"")+b9.strict;this.reservedWordsStrict=E0(s),this.reservedWordsStrictBind=E0(s+" "+b9.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(gd).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=K.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(II),this.regexpState=null,this.privateNameStack=[]},Ep={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ro.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Ep.inFunction.get=function(){return(this.currentVarScope().flags&FS)>0};Ep.inGenerator.get=function(){return(this.currentVarScope().flags&WNe)>0&&!this.currentVarScope().inClassFieldInit};Ep.inAsync.get=function(){return(this.currentVarScope().flags&YZ)>0&&!this.currentVarScope().inClassFieldInit};Ep.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&vk)return!1;if(t.flags&FS)return(t.flags&YZ)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ep.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&KZ)>0||n||this.options.allowSuperOutsideMethod};Ep.allowDirectSuper.get=function(){return(this.currentThisScope().flags&KNe)>0};Ep.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ep.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(FS|vk))>0||n};Ep.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&vk)>0};ro.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ro.parse=function(t,n){return new this(n,t).parse()};ro.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ro.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ro.prototype,Ep);var Tl=ro.prototype,Ykt=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Tl.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){kc.lastIndex=e,e+=kc.exec(this.input)[0].length;var t=Ykt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){kc.lastIndex=e+t[0].length;var n=kc.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||gd.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,kc.lastIndex=e,e+=kc.exec(this.input)[0].length,this.input[e]===";"&&e++}};Tl.eat=function(e){return this.type===e?(this.next(),!0):!1};Tl.isContextual=function(e){return this.type===K.name&&this.value===e&&!this.containsEsc};Tl.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Tl.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Tl.canInsertSemicolon=function(){return this.type===K.eof||this.type===K.braceR||gd.test(this.input.slice(this.lastTokEnd,this.start))};Tl.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Tl.semicolon=function(){!this.eat(K.semi)&&!this.insertSemicolon()&&this.unexpected()};Tl.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Tl.expect=function(e){this.eat(e)||this.unexpected()};Tl.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var b4=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Tl.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Tl.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Tl.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Tl.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var jt=ro.prototype;jt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==K.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var ZZ={kind:"loop"},Kkt={kind:"switch"};jt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;kc.lastIndex=this.pos;var t=kc.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(tg(r,!0)){for(var i=n+1;gx(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!jkt.test(s))return!0}return!1};jt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;kc.lastIndex=this.pos;var e=kc.exec(this.input),t=this.pos+e[0].length,n;return!gd.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(gx(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};jt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=K._var,s="let"),r){case K._break:case K._continue:return this.parseBreakContinueStatement(i,r.keyword);case K._debugger:return this.parseDebuggerStatement(i);case K._do:return this.parseDoStatement(i);case K._for:return this.parseForStatement(i);case K._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case K._class:return e&&this.unexpected(),this.parseClass(i,!0);case K._if:return this.parseIfStatement(i);case K._return:return this.parseReturnStatement(i);case K._switch:return this.parseSwitchStatement(i);case K._throw:return this.parseThrowStatement(i);case K._try:return this.parseTryStatement(i);case K._const:case K._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case K._while:return this.parseWhileStatement(i);case K._with:return this.parseWithStatement(i);case K.braceL:return this.parseBlock(!0,i);case K.semi:return this.parseEmptyStatement(i);case K._export:case K._import:if(this.options.ecmaVersion>10&&r===K._import){kc.lastIndex=this.pos;var o=kc.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===K._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var u=this.value,c=this.parseExpression();return r===K.name&&c.type==="Identifier"&&this.eat(K.colon)?this.parseLabeledStatement(i,u,c,e):this.parseExpressionStatement(i,c)}};jt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(K.semi)||this.insertSemicolon()?e.label=null:this.type!==K.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};jt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};jt.parseDoStatement=function(e){return this.next(),this.labels.push(ZZ),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(K._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(K.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};jt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ZZ),this.enterScope(0),this.expect(K.parenL),this.type===K.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===K._var||this.type===K._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===K._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=this.containsEsc,l=new b4,u=this.start,c=t>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===K._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===K._in&&this.unexpected(t),e.await=!0):o&&this.options.ecmaVersion>=8&&(c.start===u&&!a&&c.type==="Identifier"&&c.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),s&&o&&this.raise(c.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(c,!1,l),this.checkLValPattern(c),this.parseForIn(e,c)):(this.checkExpressionErrors(l,!0),t>-1&&this.unexpected(t),this.parseFor(e,c))};jt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,aA|(n?0:OH),!1,t)};jt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(K._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};jt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(K.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};jt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(K.braceL),this.labels.push(Kkt),this.enterScope(0);for(var t,n=!1;this.type!==K.braceR;)if(this.type===K._case||this.type===K._default){var r=this.type===K._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(K.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};jt.parseThrowStatement=function(e){return this.next(),gd.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Xkt=[];jt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?YNe:0),this.checkLValPattern(e,t?QNe:Eg),this.expect(K.parenR),e};jt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===K._catch){var t=this.startNode();this.next(),this.eat(K.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(K._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};jt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};jt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(ZZ),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};jt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};jt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};jt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===K._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};jt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};jt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(K.braceL),e&&this.enterScope(0);this.type!==K.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};jt.parseFor=function(e,t){return e.init=t,this.expect(K.semi),e.test=this.type===K.semi?null:this.parseExpression(),this.expect(K.semi),e.update=this.type===K.parenR?null:this.parseExpression(),this.expect(K.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};jt.parseForIn=function(e,t){var n=this.type===K._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(K.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};jt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(K.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===K._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(K.comma))break}return e};jt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?JZ:Eg,!1)};var aA=1,OH=2,ZNe=4;jt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===K.star&&t&OH&&this.unexpected(),e.generator=this.eat(K.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&aA&&(e.id=t&ZNe&&this.type!==K.name?null:this.parseIdent(),e.id&&!(t&OH)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?JZ:Eg:XNe));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(QZ(e.async,e.generator)),t&aA||(e.id=this.type===K.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&aA?"FunctionDeclaration":"FunctionExpression")};jt.parseFunctionParams=function(e){this.expect(K.parenL),e.params=this.parseBindingList(K.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};jt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(K.braceL);this.type!==K.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&Qkt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};jt.parseClassElement=function(e){if(this.eat(K.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(K.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===K.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===K.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(K.star)&&(i=!0),!r&&!s&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===K.parenL||o!=="method"||i||s){var u=!n.static&&y3(n,"constructor"),c=u&&e;u&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};jt.isClassElementNameStart=function(){return this.type===K.name||this.type===K.privateId||this.type===K.num||this.type===K.string||this.type===K.bracketL||this.type.keyword};jt.parseClassElementName=function(e){this.type===K.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};jt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&y3(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};jt.parseClassField=function(e){if(y3(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&y3(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(K.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};jt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(vk|KZ);this.type!==K.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};jt.parseClassId=function(e,t){this.type===K.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Eg,!1)):(t===!0&&this.unexpected(),e.id=null)};jt.parseClassSuper=function(e){e.superClass=this.eat(K._extends)?this.parseExprSubscripts(null,!1):null};jt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};jt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];yk(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function Qkt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function y3(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}jt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==K.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};jt.parseExport=function(e,t){if(this.next(),this.eat(K.star))return this.parseExportAllDeclaration(e,t);if(this.eat(K._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==K.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};jt.parseExportDeclaration=function(e){return this.parseStatement(null)};jt.parseExportDefaultDeclaration=function(){var e;if(this.type===K._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,aA|ZNe,!1,e)}else if(this.type===K._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};jt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),yk(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};jt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(e,l)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};jt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};jt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};jt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};jt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(K.braceL);!this.eat(K.braceR);){if(n)n=!1;else if(this.expect(K.comma),this.afterTrailingComma(K.braceR))break;t.push(this.parseExportSpecifier(e))}return t};jt.parseImport=function(e){return this.next(),this.type===K.string?(e.specifiers=Xkt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===K.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};jt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Eg),this.finishNode(e,"ImportSpecifier")};jt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Eg),this.finishNode(e,"ImportDefaultSpecifier")};jt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Eg),this.finishNode(e,"ImportNamespaceSpecifier")};jt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===K.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(K.comma)))return e;if(this.type===K.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(K.braceL);!this.eat(K.braceR);){if(t)t=!1;else if(this.expect(K.comma),this.afterTrailingComma(K.braceR))break;e.push(this.parseImportSpecifier())}return e};jt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===K.string){var e=this.parseLiteral(this.value);return qkt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};jt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};jt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var yd=ro.prototype;yd.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};yd.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};yd.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};yd.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==K.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};yd.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case K.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(K.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case K.braceL:return this.parseObj(!0)}return this.parseIdent()};yd.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(K.comma),t&&this.type===K.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===K.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===K.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};yd.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};yd.parseBindingListItem=function(e){return e};yd.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(K.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};yd.checkLValSimple=function(e,t,n){t===void 0&&(t=g3);var r=t!==g3;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Eg&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(yk(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==JNe&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};yd.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=g3),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}};yd.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=g3),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Rd=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},ji={b_stat:new Rd("{",!1),b_expr:new Rd("{",!0),b_tmpl:new Rd("${",!1),p_stat:new Rd("(",!1),p_expr:new Rd("(",!0),q_tmpl:new Rd("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Rd("function",!1),f_expr:new Rd("function",!0),f_expr_gen:new Rd("function",!0,!1,null,!0),f_gen:new Rd("function",!1,!1,null,!0)},jS=ro.prototype;jS.initialContext=function(){return[ji.b_stat]};jS.curContext=function(){return this.context[this.context.length-1]};jS.braceIsBlock=function(e){var t=this.curContext();return t===ji.f_expr||t===ji.f_stat?!0:e===K.colon&&(t===ji.b_stat||t===ji.b_expr)?!t.isExpr:e===K._return||e===K.name&&this.exprAllowed?gd.test(this.input.slice(this.lastTokEnd,this.start)):e===K._else||e===K.semi||e===K.eof||e===K.parenR||e===K.arrow?!0:e===K.braceL?t===ji.b_stat:e===K._var||e===K._const||e===K.name?!1:!this.exprAllowed};jS.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};jS.updateContext=function(e){var t,n=this.type;n.keyword&&e===K.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};jS.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};K.parenR.updateContext=K.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===ji.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};K.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ji.b_stat:ji.b_expr),this.exprAllowed=!0};K.dollarBraceL.updateContext=function(){this.context.push(ji.b_tmpl),this.exprAllowed=!0};K.parenL.updateContext=function(e){var t=e===K._if||e===K._for||e===K._with||e===K._while;this.context.push(t?ji.p_stat:ji.p_expr),this.exprAllowed=!0};K.incDec.updateContext=function(){};K._function.updateContext=K._class.updateContext=function(e){e.beforeExpr&&e!==K._else&&!(e===K.semi&&this.curContext()!==ji.p_stat)&&!(e===K._return&&gd.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===K.colon||e===K.braceL)&&this.curContext()===ji.b_stat)?this.context.push(ji.f_expr):this.context.push(ji.f_stat),this.exprAllowed=!1};K.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};K.backQuote.updateContext=function(){this.curContext()===ji.q_tmpl?this.context.pop():this.context.push(ji.q_tmpl),this.exprAllowed=!1};K.star.updateContext=function(e){if(e===K._function){var t=this.context.length-1;this.context[t]===ji.f_expr?this.context[t]=ji.f_expr_gen:this.context[t]=ji.f_gen}this.exprAllowed=!0};K.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==K.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var _n=ro.prototype;_n.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};_n.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===K.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(K.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};_n.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new b4,r=!0);var a=this.start,l=this.startLoc;(this.type===K.parenL||this.type===K.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===K.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===K.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u};_n.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(K.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(K.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};_n.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};_n.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==K._in)&&s>r){var o=this.type===K.logicalOR||this.type===K.logicalAND,a=this.type===K.coalesce;a&&(s=K.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,s,i),f=this.buildBinary(t,n,e,d,l,o||a);return(o&&this.type===K.coalesce||a&&(this.type===K.logicalOR||this.type===K.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,t,n,r,i)}return e};_n.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};_n.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===K.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&eOe(a.argument)?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&DH(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===K.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==K._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,s);u.operator=this.value,u.prefix=!1,u.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(K.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function eOe(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&eOe(e.expression)}function DH(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&DH(e.expression)||e.type==="ParenthesizedExpression"&&DH(e.expression)}_n.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};_n.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(t,n);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}};_n.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(K.arrow)};_n.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};_n.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(K.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(K.bracketL);if(u||l&&this.type!==K.parenL&&this.type!==K.backQuote||this.eat(K.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(K.bracketR)):this.type===K.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,a&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(K.parenL)){var d=new b4,f=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(K.parenR,this.options.ecmaVersion>=8,!1,d);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,a&&(g.optional=l),e=this.finishNode(g,"CallExpression")}else if(this.type===K.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e};_n.parseExprAtom=function(e,t,n){this.type===K.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case K._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===K.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==K.dot&&this.type!==K.bracketL&&this.type!==K.parenL&&this.unexpected(),this.finishNode(r,"Super");case K._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case K.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(K._function))return this.overrideContext(ji.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(K.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===K.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(K.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,t)}return l;case K.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case K.num:case K.string:return this.parseLiteral(this.value);case K._null:case K._true:case K._false:return r=this.startNode(),r.value=this.type===K._null?null:this.type===K._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case K.parenL:var c=this.start,d=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),d;case K.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(K.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case K.braceL:return this.overrideContext(ji.b_expr),this.parseObj(!1,e);case K._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case K._class:return this.parseClass(this.startNode(),!1);case K._new:return this.parseNew();case K.backQuote:return this.parseTemplate();case K._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};_n.parseExprAtomDefault=function(){this.unexpected()};_n.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===K.parenL&&!e)return this.parseDynamicImport(t);if(this.type===K.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};_n.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(K.parenR)){var t=this.start;this.eat(K.comma)&&this.eat(K.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};_n.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};_n.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};_n.parseParenExpression=function(){this.expect(K.parenL);var e=this.parseExpression();return this.expect(K.parenR),e};_n.shouldParseArrow=function(e){return!this.canInsertSemicolon()};_n.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,l=[],u=!0,c=!1,d=new b4,f=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==K.parenR;)if(u?u=!1:this.expect(K.comma),s&&this.afterTrailingComma(K.parenR,!0)){c=!0;break}else if(this.type===K.ellipsis){p=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===K.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(K.parenR),e&&this.shouldParseArrow(l)&&this.eat(K.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=h,this.parseParenArrowList(n,r,l,t);(!l.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,l.length>1?(i=this.startNodeAt(o,a),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",m,g)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}else return i};_n.parseParenItem=function(e){return e};_n.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Jkt=[];_n.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===K.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(K.parenL)?e.arguments=this.parseExprList(K.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Jkt,this.finishNode(e,"NewExpression")};_n.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===K.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===K.backQuote,this.finishNode(n,"TemplateElement")};_n.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===K.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(K.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(K.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};_n.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===K.name||this.type===K.num||this.type===K.string||this.type===K.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===K.star)&&!gd.test(this.input.slice(this.lastTokEnd,this.start))};_n.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(K.braceR);){if(r)r=!1;else if(this.expect(K.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(K.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};_n.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(K.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===K.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===K.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(K.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(K.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};_n.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};_n.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===K.colon&&this.unexpected(),this.eat(K.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===K.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==K.comma&&this.type!==K.braceR&&this.type!==K.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===K.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};_n.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(K.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(K.bracketR),e.key;e.computed=!1}return e.key=this.type===K.num||this.type===K.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};_n.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};_n.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(QZ(t,r.generator)|KZ|(n?KNe:0)),this.expect(K.parenL),r.params=this.parseBindingList(K.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};_n.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(QZ(n,!1)|GNe),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};_n.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==K.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,JNe),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};_n.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};_n.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,JZ,t?null:n)}};_n.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(K.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===K.comma?o=null:this.type===K.ellipsis?(o=this.parseSpread(r),r&&this.type===K.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};_n.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};_n.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};_n.parseIdentNode=function(){var e=this.startNode();return this.type===K.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=K.name):this.unexpected(),e};_n.parsePrivateIdent=function(){var e=this.startNode();return this.type===K.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};_n.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===K.semi||this.canInsertSemicolon()||this.type!==K.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(K.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};_n.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var v3=ro.prototype;v3.raise=function(e,t){var n=qNe(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};v3.raiseRecoverable=v3.raise;v3.curPosition=function(){if(this.options.locations)return new AI(this.curLine,this.pos-this.lineStart)};var uv=ro.prototype,Zkt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};uv.enterScope=function(e){this.scopeStack.push(new Zkt(e))};uv.exitScope=function(){this.scopeStack.pop()};uv.treatFunctionsAsVarInScope=function(e){return e.flags&FS||!this.inModule&&e.flags&II};uv.declareName=function(e,t,n){var r=!1;if(t===Eg){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&II&&delete this.undefinedExports[e]}else if(t===QNe){var s=this.currentScope();s.lexical.push(e)}else if(t===XNe){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(e)>-1&&!(l.flags&YNe&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l.var.push(e),this.inModule&&l.flags&II&&delete this.undefinedExports[e],l.flags&XZ)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};uv.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};uv.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};uv.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&XZ)return t}};uv.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&XZ&&!(t.flags&GNe))return t}};var _4=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new v4(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},bk=ro.prototype;bk.startNode=function(){return new _4(this,this.start,this.startLoc)};bk.startNodeAt=function(e,t){return new _4(this,e,t)};function tOe(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}bk.finishNode=function(e,t){return tOe.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};bk.finishNodeAt=function(e,t,n,r){return tOe.call(this,e,t,n,r)};bk.copyNode=function(e){var t=new _4(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var nOe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",rOe=nOe+" Extended_Pictographic",iOe=rOe,sOe=iOe+" EBase EComp EMod EPres ExtPict",oOe=sOe,ePt=oOe,tPt={9:nOe,10:rOe,11:iOe,12:sOe,13:oOe,14:ePt},nPt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",rPt={9:"",10:"",11:"",12:"",13:"",14:nPt},_pe="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",aOe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",lOe=aOe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",uOe=lOe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",cOe=uOe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",dOe=cOe+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",iPt=dOe+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",sPt={9:aOe,10:lOe,11:uOe,12:cOe,13:dOe,14:iPt},fOe={};function oPt(e){var t=fOe[e]={binary:E0(tPt[e]+" "+_pe),binaryOfStrings:E0(rPt[e]),nonBinary:{General_Category:E0(_pe),Script:E0(sPt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var w9=0,wpe=[9,10,11,12,13,14];w9<wpe.length;w9+=1){var aPt=wpe[w9];oPt(aPt)}var Pt=ro.prototype,b3=function(t,n){this.parent=t,this.base=n||this};b3.prototype.separatedFrom=function(t){for(var n=this;n;n=n.parent)for(var r=t;r;r=r.parent)if(n.base===r.base&&n!==r)return!0;return!1};b3.prototype.sibling=function(){return new b3(this.parent,this.base)};var xp=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=fOe[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};xp.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};xp.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};xp.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};xp.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};xp.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};xp.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};xp.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};xp.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};xp.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Pt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};function lPt(e){for(var t in e)return!0;return!1}Pt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&lPt(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))};Pt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames[r]||e.raise("Invalid named capture referenced")}};Pt.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new b3(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Pt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Pt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Pt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Pt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Pt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Pt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Pt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Pt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Pt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Pt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Pt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Pt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Pt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return hOe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function hOe(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Pt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!hOe(n);)e.advance();return e.pos!==t};Pt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Pt.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var r=0,i=n;r<i.length;r+=1){var s=i[r];s.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}};Pt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Pt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=wy(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=wy(e.lastIntValue);return!0}return!1};Pt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),uPt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function uPt(e){return tg(e,!0)||e===36||e===95}Pt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),cPt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function cPt(e){return gx(e,!0)||e===36||e===95||e===8204||e===8205}Pt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Pt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Pt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Pt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Pt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Pt.regexp_eatZero=function(e){return e.current()===48&&!w4(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Pt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Pt.regexp_eatControlLetter=function(e){var t=e.current();return pOe(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function pOe(e){return e>=65&&e<=90||e>=97&&e<=122}Pt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&dPt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function dPt(e){return e>=0&&e<=1114111}Pt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Pt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var mOe=0,ng=1,Dc=2;Pt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(fPt(t))return e.lastIntValue=-1,e.advance(),ng;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Dc&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return mOe};function fPt(e){return e===100||e===68||e===115||e===83||e===119||e===87}Pt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),ng}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return mOe};Pt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){yk(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Pt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return ng;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Dc;e.raise("Invalid property name")};Pt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";gOe(t=e.current());)e.lastStringValue+=wy(t),e.advance();return e.lastStringValue!==""};function gOe(e){return pOe(e)||e===95}Pt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";hPt(t=e.current());)e.lastStringValue+=wy(t),e.advance();return e.lastStringValue!==""};function hPt(e){return gOe(e)||w4(e)}Pt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Pt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Dc&&e.raise("Negated character class may contain strings"),!0}return!1};Pt.regexp_classContents=function(e){return e.current()===93?ng:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),ng)};Pt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Pt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||bOe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Pt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Pt.regexp_classSetExpression=function(e){var t=ng,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Dc&&(t=Dc);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Dc&&(t=ng);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Dc&&(t=Dc)}};Pt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Pt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?ng:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Pt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Dc&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Pt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Pt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Dc&&(t=Dc);return t};Pt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?ng:Dc};Pt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&pPt(n)||mPt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function pPt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function mPt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Pt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return gPt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function gPt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Pt.regexp_eatClassControlLetter=function(e){var t=e.current();return w4(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Pt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Pt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;w4(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function w4(e){return e>=48&&e<=57}Pt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;yOe(n=e.current());)e.lastIntValue=16*e.lastIntValue+vOe(n),e.advance();return e.pos!==t};function yOe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function vOe(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Pt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Pt.regexp_eatOctalDigit=function(e){var t=e.current();return bOe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function bOe(e){return e>=48&&e<=55}Pt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!yOe(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+vOe(i),e.advance()}return!0};var eee=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new v4(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},nr=ro.prototype;nr.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new eee(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};nr.getToken=function(){return this.next(),new eee(this)};typeof Symbol<"u"&&(nr[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===K.eof,value:t}}}});nr.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(K.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};nr.readToken=function(e){return tg(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};nr.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};nr.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=UNe(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};nr.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!LS(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};nr.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&VNe.test(String.fromCharCode(e)))++this.pos;else break e}}};nr.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};nr.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(K.ellipsis)):(++this.pos,this.finishToken(K.dot))};nr.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(K.assign,2):this.finishOp(K.slash,1)};nr.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?K.star:K.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=K.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(K.assign,n+1):this.finishOp(r,n)};nr.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(K.assign,3)}return this.finishOp(e===124?K.logicalOR:K.logicalAND,2)}return t===61?this.finishOp(K.assign,2):this.finishOp(e===124?K.bitwiseOR:K.bitwiseAND,1)};nr.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(K.assign,2):this.finishOp(K.bitwiseXOR,1)};nr.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||gd.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(K.incDec,2):t===61?this.finishOp(K.assign,2):this.finishOp(K.plusMin,1)};nr.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(K.assign,n+1):this.finishOp(K.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(K.relational,n))};nr.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(K.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(K.arrow)):this.finishOp(e===61?K.eq:K.prefix,1)};nr.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(K.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(K.assign,3)}return this.finishOp(K.coalesce,2)}}return this.finishOp(K.question,1)};nr.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),tg(t,!0)||t===92))return this.finishToken(K.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+wy(t)+"'")};nr.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(K.parenL);case 41:return++this.pos,this.finishToken(K.parenR);case 59:return++this.pos,this.finishToken(K.semi);case 44:return++this.pos,this.finishToken(K.comma);case 91:return++this.pos,this.finishToken(K.bracketL);case 93:return++this.pos,this.finishToken(K.bracketR);case 123:return++this.pos,this.finishToken(K.braceL);case 125:return++this.pos,this.finishToken(K.braceR);case 58:return++this.pos,this.finishToken(K.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(K.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(K.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+wy(e)+"'")};nr.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};nr.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(gd.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new xp(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch{}return this.finishToken(K.regexp,{pattern:i,flags:o,value:l})};nr.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,l=0,u=t??1/0;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),d=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?d=c-97+10:c>=65?d=c-65+10:c>=48&&c<=57?d=c-48:d=1/0,d>=e)break;a=c,o=o*e+d}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function yPt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function _Oe(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}nr.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=_Oe(this.input.slice(t,this.pos)),++this.pos):tg(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(K.num,n)};nr.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=_Oe(this.input.slice(t,this.pos));return++this.pos,tg(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(K.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),tg(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=yPt(this.input.slice(t,this.pos),n);return this.finishToken(K.num,s)};nr.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};nr.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(LS(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(K.string,t)};var wOe={};nr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===wOe)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};nr.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wOe;this.raise(e,t)};nr.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===K.template||this.type===K.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(K.dollarBraceL)):(++this.pos,this.finishToken(K.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(K.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(LS(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};nr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(K.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};nr.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return wy(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return LS(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};nr.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};nr.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(gx(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?tg:gx)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=wy(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};nr.readWord=function(){var e=this.readWord1(),t=K.name;return this.keywords.test(e)&&(t=GZ[e]),this.finishToken(t,e)};var vPt="8.12.1";ro.acorn={Parser:ro,version:vPt,defaultOptions:NH,Position:AI,SourceLocation:v4,getLineInfo:qNe,Node:_4,TokenType:_r,tokTypes:K,keywordTypes:GZ,TokContext:Rd,tokContexts:ji,isIdentifierChar:gx,isIdentifierStart:tg,Token:eee,isNewLine:LS,lineBreak:gd,lineBreakG:Ukt,nonASCIIwhitespace:VNe};function bPt(e,t){return ro.parse(e,t)}const tee={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},_Pt={ecmaVersion:11},Epe="$",wPt="d",EPt="d1",xPt="d2",Lo=e=>(t,n)=>n.error(t,e+" not allowed"),SPt=Lo("Aggregate function"),TPt=Lo("Window function"),CPt="Invalid argument",nee="Invalid column reference",APt=nee+" (must be input to an aggregate function)",EOe="Invalid function call",IPt="Invalid member expression",RPt="Invalid operator parameter",kPt="Invalid param reference",PPt="Invalid variable reference",NPt="Variable not accessible in operator call",OPt="Unsupported variable declaration",DPt="Unsupported destructuring pattern",xOe="Table expressions do not support closures",SOe="Use aq.escape(fn) to use a function as-is (including closures)",MPt="use table.params({ name: value }) to define dynamic parameters",$Pt="use aq.addFunction(name, fn) to add new op functions",LPt=`
Note: ${xOe}. ${SOe}, or ${MPt}.`,TOe=`
Note: ${xOe}. ${SOe}, or ${$Pt}.`,FPt=`The ${_ke} method is not valid in multi-table expressions.`;function jPt(e,t){const n=BPt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Nkt(r)?(UPt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=EPt),e.scope.add(e.tuple2=xPt),e.scope.add(e.$param=Epe)):(e.scope.add(e.tuple=wPt),e.scope.add(e.$param=Epe)),pr(r,e,ree),e.root}function BPt(e){try{const t=e.field?zPt(e):Tr(e)?ep(e):e;return bPt(`expr=(${t})`,_Pt).body[0].expression.right}catch{Ln(`Expression parse error: ${e+""}`)}}function zPt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const ree={FunctionDeclaration:Lo("Function definitions"),ForStatement:Lo("For loops"),ForOfStatement:Lo("For-of loops"),ForInStatement:Lo("For-in loops"),WhileStatement:Lo("While loops"),DoWhileStatement:Lo("Do-while loops"),AwaitExpression:Lo("Await expressions"),ArrowFunctionExpression:Lo("Function definitions"),AssignmentExpression:Lo("Assignments"),FunctionExpression:Lo("Function definitions"),NewExpression:Lo('Use of "new"'),UpdateExpression:Lo("Update expressions"),VariableDeclarator(e,t){LH(e.id,t)},Identifier(e,t,n){IOe(e,t,n)&&!t.scope.has(e.name)&&t.error(e,PPt,LPt)},CallExpression(e,t){const n=COe(e.callee),r=yke(n)||vke(n);if(r){if((t.join||t.aggregate===!1)&&GJ(n)&&SPt(e,t),(t.join||t.window===!1)&&YJ(n)&&TPt(e,t),t.$op=1,t.ast)$H(e,n,t),e.arguments.forEach(i=>pr(i,t,MH));else{const i=t.op(VPt(t,r,n,e.arguments));Object.assign(e,{type:fke,name:i.id})}return t.$op=0,!1}else gke(n)?$H(e,n,t):t.error(e,EOe,TOe)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Ws(W0,r))return;const{name:s}=r;if(AOe(e)&&Ws(W0,i)&&bf(tee,i.name)){POe(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return xpe(e,o,t,ROe,n);if(s===t.$param)return xpe(e,o,t,qPt);t.paramsRef.has(s)?RI(e,t.paramsRef.get(s)):t.columnRef.has(s)?kOe(r,s,t,e):bf(t.params,s)&&RI(r,s)}};function xpe(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Ws(PS,s))a=s.value;else try{pr(s,n,ree,e),a=n.param(s)}catch{n.error(e,IPt)}return r(e,a,t,n,i),!1}const MH={...ree,VariableDeclarator:Lo("Variable declaration in operator call"),Identifier(e,t,n){IOe(e,t,n)&&t.error(e,NPt)},CallExpression(e,t){const n=COe(e.callee);gke(n)?$H(e,n,t):t.error(e,EOe,TOe)}};function UPt(e,t){e.generator&&Lo("Generator functions")(e,t),e.async&&Lo("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,l)=>t.columnRef.set(a,[l,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(XT(t,n[0],"tuple1",i(1)),r>1&&XT(t,n[1],"tuple2",i(2)),r>2&&XT(t,n[2],"$param",s)):(XT(t,n[0],"tuple",i(0)),r>1&&XT(t,n[1],"$param",s))),t.root=e.body}function XT(e,t,n,r){Ws(W0,t)?(e.scope.add(t.name),e[n]=t.name):Ws(cke,t)&&t.properties.forEach(i=>{const s=Ws(W0,i.key)?i.key.name:Ws(PS,i.key)?i.key.value:e.error(i,CPt);Ws(W0,i.value)||e.error(i.value,DPt),r(i.value.name,s)})}function VPt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((l,u)=>{u<o?(pr(l,e,MH),i.push(e.field(l))):u<a?(pr(l,e,MH),s.push(e.param(l))):e.error(l,RPt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function COe(e){return Ws(W0,e)?e.name:Ws(uke,e)?AOe(e)?HPt(e.property.name):e.property.name:null}function AOe(e){return Ws(W0,e.object)&&e.object.name==="Math"}function HPt(e){return e==="max"?"greatest":e==="min"?"least":e}function IOe(e,t,n){const{name:r}=e;if(!(Ws(uke,n)&&n.property===e)){if(!(Ws(dke,n)&&n.key===e))if(t.paramsRef.has(r))RI(e,t.paramsRef.get(r));else if(t.columnRef.has(r))kOe(e,r,t,n);else if(bf(t.params,r))RI(e,r);else if(bf(tee,r))POe(e,r);else return!0}}function ROe(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,nee),r.aggronly&&!r.$op&&r.error(e,APt),bke(e,t,n,o,i)}function kOe(e,t,n,r){const[i,s]=n.columnRef.get(t);ROe(e,i,s,n,r)}function qPt(e,t,n,r){r.params&&!bf(r.params,t)&&r.error(e,kPt),RI(e,t)}function RI(e,t){e.type=V2t,e.name=t}function POe(e,t){e.type=B2t,e.name=t,e.raw=tee[t]}function $H(e,t,n){if(t===_ke){const r=n.table;r||n.error(e,FPt),wke(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=gl(s)?r.columnName(s):s;return r.column(o)||n.error(i,nee),o}):r.columnNames())}else e.callee={type:U2t,name:t}}function LH(e,t){Ws(W0,e)?t.scope.add(e.name):Ws($2t,e)?e.elements.forEach(n=>LH(n,t)):Ws(cke,e)?e.properties.forEach(n=>LH(n.value,t)):t.error(e.id,OPt)}const WPt={[dk]:1,[fke]:1};function hu(e,t={}){const n=t.generate||Z$,r=t.compiler||KJ,i=YPt(t),s={},o={},a=[],l=[];let u=0,c=-1;const d=t.join?r.join:t.index==1?r.expr2:r.expr,f={op(m){const g=GPt(m);return o[g]||(m.id=++c,o[g]=m)},field(m){const g=n(m);return s[g]||(s[g]=++u)},param(m){return Ws(PS,m)?m.value:r.param(n(m),i)},value(m,g){a.push(m);const y=g.escape||(t.ast?Pkt(g):d(n(g),i));l.push(y),WPt[g.type]&&y!==g&&La(y)&&(y.field=g.name)},error(m,g,y=""){const v=m.start-6,_=m.end-6,w=String(f.spec).slice(v,_);Ln(`${g}: "${w}"${y}`)}};Object.assign(f,t,{params:i});for(const[m,g]of i4(e))f.value(m+"",g.escape?Mkt(f,g,i):jPt(f,g));if(t.ast)return{names:a,exprs:l};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(g=>h[g])),{names:a,exprs:l,ops:p}}function GPt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function YPt(e){return(e.table?E9(e.table):e.join?{...E9(e.join[1]),...E9(e.join[0])}:{})||{}}function E9(e){return e&&Ni(e.params)?e.params():{}}const NOe="Expr",kd="ExprList",OOe="ExprNumber",e2="ExprObject",Bw="JoinKeys",_3="JoinValues",xc="Options",iee="OrderKeys",Gg="SelectionList",p1="TableRef",zw="TableRefList",KPt="Descending",XPt="Query",QPt="Selection",JPt="Verb",ZPt="Window";function E4(e,t){return e&&e.expr?new Spe({...e,...t}):new Spe(t,e)}class Spe{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Ni(this.expr)?{func:!0}:{}}}}function eNt(e){return E4(e,{desc:!0})}function gb(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return E4(e,t?{expr:t,...r}:r)}function tNt(e,t,n){return E4(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function nNt(e){const t=n=>n;return t.toString=()=>e,t}function Tpe(e,t){return t=t&&Ni(t.query)?t.query():t,t&&Ni(t.evaluate)?t.evaluate(null,e):e(t)}function DOe(e){return La(e)&&(Tr(e.all)||Tr(e.matches)||Tr(e.not)||Tr(e.range))}function kI(e){return e&&Ni(e.toObject)?e.toObject():Ni(e)?{expr:String(e),func:!0}:Tr(e)?e.map(kI):La(e)?g4(e,t=>kI(t)):e}function see(e){return Tr(e)?e.map(see):La(e)?Tr(e.verbs)?aee.from(e):Tr(e.all)?mx():Tr(e.range)?Ckt(...e.range):Tr(e.match)?Akt(RegExp(...e.match)):Tr(e.not)?FNe(e.not.map(kI)):rNt(e):e}function rNt(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=gb(n):e.func===!0&&(t=n=nNt(n)),La(e.window)){const{frame:r,peers:i}=e.window;t=n=tNt(n,r,i)}e.desc===!0&&(t=eNt(n))}return e===t?g4(e,r=>see(r)):t}function iNt(e){return Tr(e)?e.map(sNt):e}function sNt(e){const t=[];return du(e).forEach(n=>{gl(n)?t.push(n):na(n)?t.push(gb(n,null)):La(n)&&n.expr||Ni(n)?t.push(n):Ln(`Invalid key value: ${n+""}`)}),t}function oNt(e){return Tr(e)?e.map(aNt):e}function aNt(e,t){return t<2?du(e):e}function lNt(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(La(r)&&!Ni(r))for(const i in r)t.push(r[i]);else n=gl(r)?r:na(r)?gb(n):Ni(r)?n:Ln(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const uNt={[NOe]:FOe,[kd]:yx,[OOe]:mNt,[e2]:Ey,[Bw]:gNt,[_3]:yNt,[iee]:yx,[Gg]:hNt};function cNt(e,t,n){return t===p1?Cpe(e):t===zw?e.map(Cpe):MOe(kI(e),t,n)}function MOe(e,t,n){return t===xc?e&&dNt(e,n):uNt[t](e)}function dNt(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?MOe(i,t[r]):i}return n}function fNt(e,t){return hu({expr:e},{...t,ast:!0}).exprs[0]}function oee(e){return{type:dk,name:e}}function $Oe(e){return{type:dk,index:e}}function Ey(e,t){if(na(e))return fNt(e,t);if(e.expr){let n;if(e.field===!0?n=oee(e.expr):e.func===!0&&(n=Ey(e.expr,t)),n)return e.desc&&(n={type:KPt,expr:n}),e.window&&(n={type:ZPt,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Ey(e[n],t),as:n}))}function LOe(e){const t=QPt;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:yx(e.not)}:e.range?{type:t,operator:"range",arguments:yx(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Ln("Invalid input")}function hNt(e){return du(e).map(pNt).flat()}function pNt(e){return DOe(e)?LOe(e):gl(e)?$Oe(e):na(e)?oee(e):La(e)?Object.keys(e).map(t=>({type:dk,name:t,as:e[t]})):Ln("Invalid input")}function FOe(e){return DOe(e)?LOe(e):gl(e)?$Oe(e):na(e)?oee(e):La(e)?Ey(e):Ln("Invalid input")}function yx(e){return du(e).map(FOe).flat()}function mNt(e){return gl(e)?e:Ey(e)}function gNt(e){return Tr(e)?e.map(yx):Ey(e,{join:!0})}function yNt(e){return Tr(e)?e.map((t,n)=>n<2?yx(t):Ey(t,{join:!0})):Ey(e,{join:!0})}function Cpe(e){return e&&Ni(e.toAST)?e.toAST():e}class jOe{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],l=o===Bw?iNt(a):o===_3?oNt(a):o===iee?lNt(a):a;this[i.name]=l!==void 0?l:i.default})}static from(t){const n=FH[t.verb],r=(n.schema||[]).map(({name:i})=>see(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===p1?Tpe(n,o):s===zw?o.map(a=>Tpe(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=kI(this[n])}),t}toAST(){const t={type:JPt,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=cNt(this[n],r,i)}),t}}function Qr(e,t){return Object.assign((...n)=>new jOe(e,t,n),{schema:t})}const FH={count:Qr("count",[{name:"options",type:xc}]),derive:Qr("derive",[{name:"values",type:e2},{name:"options",type:xc,props:{before:Gg,after:Gg}}]),filter:Qr("filter",[{name:"criteria",type:e2}]),groupby:Qr("groupby",[{name:"keys",type:kd}]),orderby:Qr("orderby",[{name:"keys",type:iee}]),relocate:Qr("relocate",[{name:"columns",type:Gg},{name:"options",type:xc,props:{before:Gg,after:Gg}}]),rename:Qr("rename",[{name:"columns",type:Gg}]),rollup:Qr("rollup",[{name:"values",type:e2}]),sample:Qr("sample",[{name:"size",type:OOe},{name:"options",type:xc,props:{weight:NOe}}]),select:Qr("select",[{name:"columns",type:Gg}]),ungroup:Qr("ungroup"),unorder:Qr("unorder"),reify:Qr("reify"),dedupe:Qr("dedupe",[{name:"keys",type:kd,default:[]}]),impute:Qr("impute",[{name:"values",type:e2},{name:"options",type:xc,props:{expand:kd}}]),fold:Qr("fold",[{name:"values",type:kd},{name:"options",type:xc}]),pivot:Qr("pivot",[{name:"keys",type:kd},{name:"values",type:kd},{name:"options",type:xc}]),spread:Qr("spread",[{name:"values",type:kd},{name:"options",type:xc}]),unroll:Qr("unroll",[{name:"values",type:kd},{name:"options",type:xc,props:{drop:kd}}]),lookup:Qr("lookup",[{name:"table",type:p1},{name:"on",type:Bw},{name:"values",type:kd}]),join:Qr("join",[{name:"table",type:p1},{name:"on",type:Bw},{name:"values",type:_3},{name:"options",type:xc}]),cross:Qr("cross",[{name:"table",type:p1},{name:"values",type:_3},{name:"options",type:xc}]),semijoin:Qr("semijoin",[{name:"table",type:p1},{name:"on",type:Bw}]),antijoin:Qr("antijoin",[{name:"table",type:p1},{name:"on",type:Bw}]),concat:Qr("concat",[{name:"tables",type:zw}]),union:Qr("union",[{name:"tables",type:zw}]),intersect:Qr("intersect",[{name:"tables",type:zw}]),except:Qr("except",[{name:"tables",type:zw}])};let aee=class BOe extends XRe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new BOe(t.map(jOe.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return Ape(this,"toObject")}toJSON(){return this.toObject()}toAST(){return Ape(this,"toAST",{type:XPt})}};function Ape(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function vNt(e,t){return new aee(e._verbs.concat(t),e._params,e._table)}for(const e in FH){const t=FH[e];aee.prototype["__"+e]=function(n,...r){return vNt(n,t(...r))}}function BS(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,l)=>`${r[o]}${l} = ${r[o]}[${l}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function bNt(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function lee(e,t){const n=pc();return t.forEach((r,i)=>{const s=na(r)?r:i;if(s){const o=e.column(i)||Ln(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function zOe(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Ln("relocate requires a before or after option."),i&&s&&Ln("relocate accepts only one of the before or after options."),t=eg(e,t);const o=[...eg(e,i?n:r).keys()],a=i?o[0]:o.pop(),l=new Map;return e.columnNames().forEach(u=>{const c=!t.has(u);if(u===a){s&&c&&l.set(u,u);for(const[d,f]of t)l.set(d,f);if(s)return}c&&l.set(u,u)}),lee(e,l)}function _k(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function uee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _Nt(e,t=0,n=e.length){let r=n?e[t++]:wr;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function wNt(e,t=0,n=e.length){let r=n?e[t++]:wr;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function BN(e){return _I(e)?e:+e}function ENt(e,t){const n=e.length;if(!n)return wr;if((t=+t)<=0||n<2)return BN(e[0]);if(t>=1)return BN(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=BN(e[i]);return _I(s)?s:s+(BN(e[i+1])-s)*(r-i)}class xNt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:_Nt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:wNt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(uee)),ENt(this._sorted,t)}}const w3=(e,t,n)=>BS(t,"{"+_k(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function SNt(e,t){const{ops:n,output:r}=TNt(e,t),i=e[0].fields,s=i.length,o=s===0?cee:s===1?CNt:s===2?ANt:Ln("Unsupported field count: "+s);return new o(i,n,r,t)}function TNt(e,t){const n={},r=[];function i(o,a=[]){const l=o+":"+a;if(n[l])return n[l];const u=yke(o),c=u.create(...a);return t<0&&u.stream&&u.stream.forEach(d=>i(d,[])),u.req&&u.req.forEach(d=>i(d,[])),n[l]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class cee extends Rkt{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new xNt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class CNt extends cee{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=w3(n,s,"add"),this._rem=w3(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Xd(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Xd(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class ANt extends cee{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=w3(n,s,"add"),this._rem=w3(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Xd(i)&&Xd(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Xd(i)&&Xd(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function i_(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=zS(e,t),o=i?(a,l)=>s[a][i[l]]:a=>s[a][0];n=n.map(a=>l=>a(l,r,o))}return n}function zS(e,t,n){if(!t.length)return n;const r=UOe(t),i=e.groups(),s=i?i.size:1;return n=n||n4(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=HOe(e,o,i);for(let l=0;l<s;++l)o.write(a[l],n,l)}):r.forEach(o=>{const a=VOe(e,o);o.write(a,n,0)}),n}function UOe(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(SNt(r[i],t));return n}function VOe(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function HOe(e,t,n){const{keys:r,size:i}=n,s=n4(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),l=a.length;for(let u=0;u<l;++u){const c=a[u];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let l=a.next(0);l>=0;l=a.next(l+1))t.add(s[r[l]],l,o)}else{const a=e.totalRows();for(let l=0;l<a;++l)t.add(s[r[l]],l,o)}return s}function qOe(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const l=e.add(r[a],Array(s)),u=n[a];for(let c=0;c<s;++c)l[c]=u(i[c])}}function WOe(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const Ipe=WOe(uee);function INt(e,t,n,r,i){let s,o,a,l,u;const c=m=>o[m-1]===o[m],d=r.length,f=i.length,h=r.length?BS(["w","r","k"],"{"+_k(r,(m,g)=>`r[_${g}.id][k]=_${g}.value(w,_${g}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,g,y,v){p.index=p.i0=p.i1=0,p.size=g.length,s=m,o=g,l=y,u=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<d;++_)r[_].init();return p},value(m,g){return g(s[m],e)},step(m){const[g,y]=t,v=p.size,_=p.i0,w=p.i1;p.i0=g!=null?Math.max(0,m-Math.abs(g)):0,p.i1=y!=null?Math.min(v,m+Math.abs(y)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=Ipe.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=Ipe.right(o,o[p.i1-1])));for(let E=0;E<f;++E){const S=i[E],x=a[E];for(let T=_;T<p.i0;++T)S.rem(x,s[T],e);for(let T=w;T<p.i1;++T)S.add(x,s[T],e);S.write(x,l,u)}return h(p,l,u),l}};return p}const RNt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),kNt=e=>!!e.peers;function PNt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=vke(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function NNt(e,t,n,r={},i){const s=e.data(),o=ONt(i,s),a=o.length,l=BS(["r","d","op"],"{"+_k(t,(u,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((u,c)=>{const d=u.length,f=DNt(e,u);for(let p=0;p<a;++p)o[p].init(u,f,r,c);const h=p=>r[p][c];for(let p=0;p<d;++p){for(let m=0;m<a;++m)o[m].step(p);l(u[p],s,h)}})}function ONt(e,t){const n={};return e.forEach(r=>{const i=RNt(r),s=kNt(r),o=`${i},${s}`,{aggOps:a,winOps:l}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});GJ(r.name)?a.push(r):l.push(PNt(r))}),Object.values(n).map(r=>INt(t,r.frame,r.peers,r.winOps,UOe(r.aggOps,r.frame[0]!=null?-1:1)))}function DNt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function MNt(e){return YJ(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function dee(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=pc(i.drop?null:e),a=t.map(f=>o.add(f,Array(s))),[l,u]=$Nt(r),c=e.isGrouped()?e.groups().size:1,d=zS(e,l,n4(r.length,()=>Array(c)));return u.length?NNt(e,a,n,d,u):LNt(e,a,n,d),e.create(o)}function $Nt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(MNt(s)?n:t).push(s)}return[t,n]}function LNt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(u,c)=>r[u][o[c]]:u=>r[u][0],l=t.length;for(let u=0;u<l;++u){const c=n[u],d=t[u];if(i)for(let f=i.next(0);f>=0;f=i.next(f+1))d[f]=c(f,s,a);else{const f=e.totalRows();for(let h=0;h<f;++h)d[h]=c(h,s,a)}}}function FNt(e,t,n={}){const r=dee(e,hu(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:zOe(r,Object.keys(t).filter(i=>!e.column(i)),n)}function jNt(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const zN=2147483648,BNt=4294967295;class GOe{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&zN>>>t}set(t){this._bits[t>>5]|=zN>>>t}clear(t){this._bits[t>>5]&=~(zN>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&BNt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=zN>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function zNt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new GOe(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function UNt(e,t){const n=hu({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=dee(e,n,{drop:!0}).column("p");r=s=>i[s]}return zNt(e,r)}function YOe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),l=i_(e,r,n),u=pc(),c=new Set(t),d=[],f=[],h=[];e.columnNames().forEach(w=>{if(!a.has(w)){const E=u.add(w,[]);c.has(w)||(d.push(e.column(w)),f.push(E))}}),t.forEach(w=>{a.has(w)||(u.has(w)||u.add(w,[]),h.push(u.data[w]))});const p=o?u.add(o,[]):null;let m=0;const g=d.length,y=h.length,v=(w,E)=>{for(let S=0;S<g;++S)f[S].length=m+E,f[S].fill(d[S].get(w),m,m+E)},_=p?(w,E)=>{for(let S=0;S<E;++S)p[w+S]=S}:()=>{};if(y===1){const w=l[0],E=h[0];e.scan((S,x)=>{const T=du(w(S,x)),I=Math.min(T.length,s);v(S,I);for(let P=0;P<I;++P)E[m+P]=T[P];_(m,I),m+=I})}else e.scan((w,E)=>{let S=0;const x=l.map(T=>{const I=du(T(w,E));return S=Math.min(Math.max(S,I.length),s),I});v(w,S);for(let T=0;T<y;++T){const I=h[T],P=x[T];for(let k=0;k<S;++k)I[m+k]=P[k]}_(m,S),m+=S});return e.create(u.new())}function VNt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=i_(e,r,n);return YOe(e,{names:[s,o],exprs:[()=>t,(l,u)=>a.map(c=>c(l,u))]},{...i,drop:t})}function _f(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=gl(o)?t.columnName(o):o,na(o)?i.set(o,gb(o)):Ni(o)?eg(t,o).forEach(s):La(o)?$Ne(i,o):Ln(`Invalid ${e} value: ${o+""}`)};return du(n).forEach(s),r.preparse&&r.preparse(i),hu(i,{table:t,...r})}function HNt(e,t,n){return VNt(e,_f("fold",e,t),n)}function Rpe(e,t,n,r){const i=n&&n.length;return qNt(i?WNt(e,n,r):e,t,i)}function qNt(e,{names:t,exprs:n,ops:r},i){const s=i_(e,r,n),o=i?null:pc(e),a=e.totalRows();return t.forEach((l,u)=>{const c=e.column(l),d=i?c.data:o.add(l,Array(a)),f=s[u];e.scan(h=>{const p=c.get(h);d[h]=Xd(p)?p:f(h)})}),i?e:e.create(o)}function WNt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,l=e3(o);e.scan((p,m)=>a.add(l(p,m)));const u=e.columnNames(),c=pc(),d=u.map(p=>c.add(p,[]));u.forEach((p,m)=>{const g=i[p],y=d[m];e.scan(v=>y.push(g.get(v)))});const f=e3(o.map((p,m)=>g=>g[m])),h=BS("v","{"+d.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",d,u.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((y,v)=>y*v.length,r.size),g=new Uint32Array(m+(p-a.size));g.set(r.keys),kpe(r,n,(y,v)=>{a.has(f(y))||(h(y),g[p++]=v[0])}),c.groupby({...r,keys:g})}else kpe(r,n,p=>{a.has(f(p))||h(p)});return e.create(c.new())}function kpe(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),l=[];if(e){const{get:c,rows:d,size:f}=e;o[0]=f,l.push((h,p)=>{const m=d[p];for(let g=0;g<r;++g)h[g]=c[g](m)})}t.forEach((c,d)=>{const f=d+r;o[d+i]=c.length,l.push((h,p)=>h[f]=c[p])});const u=Array(r+t.length);for(let c=0;c<s;++c)l[c](u,0);n(u,a);for(let c=s-1;c>=0;){const d=++a[c];d<o[c]?(l[c](u,d),n(u,a),c=s-1):(a[c]=0,l[c](u,0),--c)}}function fee(e,{names:t,exprs:n,ops:r}){const i=pc(),s=e.groups();return s&&qOe(i,s),GNt(t,n,s,zS(e,r),i),e.create(i.new())}function GNt(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(l,u)=>r[l][u],a=e.length;for(let l=0;l<a;++l){const u=t[l];if(u.field!=null)i.add(e[l],r[u.field]);else if(s>1){const c=i.add(e[l],Array(s));for(let d=0;d<s;++d)c[d]=u(d,null,o)}else i.add(e[l],[u(0,null,o)])}}function YNt(e,t,n={}){if(t=hu(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Ln(`Invalid impute column ${ep(r)}`)),n.expand){const r={preparse:KNt,aggronly:!0},i=_f("impute",e,n.expand,r),s=fee(e.ungroup(),i);return Rpe(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return Rpe(e,t)}function KNt(e){e.forEach((t,n)=>t.field?e.set(n,ske(t+"")):0)}function XNt(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function KOe(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function QNt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function JNt(e,t){const n=["i","a","j","b"];return BS(n,"{"+_k(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function ZNt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),l=a.length,u=new Int32Array(l),c=t.data(),d=t.indices(!1),f=d.length,h=new Int32Array(f),p=r.length,m=pc(),g=Array(p),y=Array(p);for(let w=0;w<r.length;++w)g[w]=m.add(r[w],[]),y[w]=i[w];const v=JNt(g,y);if((Tr(n)?tOt:eOt)(v,n,o,c,a,d,u,h,l,f),s.left)for(let w=0;w<l;++w)u[w]||v(a[w],o,-1,c);if(s.right)for(let w=0;w<f;++w)h[w]||v(-1,o,d[w],c);return e.create(m.new())}function eOt(e,t,n,r,i,s,o,a,l,u){for(let c=0;c<l;++c){const d=i[c];for(let f=0;f<u;++f){const h=s[f];t(d,n,h,r)&&(e(d,n,h,r),o[c]=1,a[f]=1)}}}function tOt(e,[t,n],r,i,s,o,a,l,u,c){let d,f,h,p,m,g,y,v,_=e;u>=c?(d=r,f=t,h=a,p=s,m=i,g=n,y=l,v=o):(d=i,f=n,h=l,p=o,m=r,g=t,y=a,v=s,_=(S,x,T,I)=>e(T,I,S,x));const w=QNt(v,m,g),E=p.length;for(let S=0;S<E;++S){const x=p[S],T=w.get(f(x,d));if(T){const I=T.length;for(let P=0;P<I;++P){const k=T[P];_(x,d,v[k],m),y[k]=1}h[S]=1}}}function E3(e,t,n){const r=new Map;du(n).forEach((s,o)=>{s=gl(s)?t.columnName(s):s,na(s)?r.set(o,gb(s)):Ni(s)||La(s)&&s.expr?r.set(o,s):Ln(`Invalid ${e} key value: ${s+""}`)});const i=hu(r,{table:t,aggregate:!1,window:!1});return e3(i.exprs,!0)}function nOt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function hee(e,t,n){if(n)na(n)?n=[n,n]:Tr(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=nOt(e.columnNames(),t.columnNames());r.length||Ln("Natural join requires shared column names."),n=[r,r]}return n}function XOe(e,t,n,r){return n.length!==r.length&&Ln("Mismatched number of join keys"),[E3("join",e,n),E3("join",t,r)]}const rOt={aggregate:!1,window:!1},iOt={...rOt,index:1};function Ppe(e,t,n,r,i={}){n=hee(e,t,n);const s={join:[e,t]};let o;if(Tr(n)){const[a,l]=n.map(du);o=XOe(e,t,a,l),r||(r=sOt(e,a,l,i))}else o=hu({on:n},s).exprs[0],r||(r=[mx(),mx()]);return ZNt(e,t,o,oOt(e,t,r,s,i&&i.suffix),i)}function sOt(e,t,n,r){const i=[];t.forEach((o,a)=>na(o)&&o===n[a]?i.push(o):0);const s=FNe(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const l=`[${ep(a)}]`;return o.has(a)?{[a]:`(a, b) => a${l} == null ? b${l} : a${l}`}:a}),s]}return r.right?[s,mx()]:[mx(),s]}function oOt(e,t,n,r,i=[]){if(Tr(n)){let s,o,a,l=n.length;s=o=a={names:[],exprs:[]},l--&&(s=_f("join",e,n[0],r)),l--&&(o=_f("join",t,n[1],iOt)),l--&&(a=hu(n[2],r));const u=new Set,c=new Set(s.names);return o.names.forEach(d=>{c.has(d)&&u.add(d)}),u.size&&(i[0]!==""&&Npe(s.names,u,i[0]||"_1"),i[1]!==""&&Npe(o.names,u,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return hu(n,r)}function Npe(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function aOt(e,t,n,r={}){const i=new GOe(e.totalRows());return(Tr(n)?lOt:uOt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function lOt(e,t,n,[r,i]){const s=KOe(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function uOt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const l=t.indices(!1),u=n.indices(!1);for(let c=0;c<i;++c){const d=l[c];for(let f=0;f<s;++f)if(r(d,o,u[f],a)){e.set(d);break}}}else for(let l=0;l<i;++l)for(let u=0;u<s;++u)if(r(l,o,u,a)){e.set(l);break}}function Ope(e,t,n,r){n=hee(e,t,n);const i=Tr(n)?XOe(e,t,...n.map(du)):hu({on:n},{join:[e,t]}).exprs[0];return aOt(e,t,i,r)}function cOt(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=pc(e),l=e.totalRows();i.forEach(f=>a.add(f,Array(l).fill(wr)));const u=KOe(t,r),c=BS(["lr","rr","data"],"{"+_k(i,(f,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(f=>a.data[f]),i_(t,o,s)),d=t.data();return e.scan((f,h)=>{const p=u.get(n(f,h));p>=0&&c(f,p,d)}),e.create(a)}function dOt(e,t,n,r){return n=hee(e,t,n),cOt(e,t,[E3("lookup",e,n[0]),E3("lookup",t,n[1])],_f("lookup",t,r))}const jH=(e,t)=>e??t;function fOt(e,t,n,r={}){const{keys:i,keyColumn:s}=hOt(e,t,r),o=jH(r.valueSeparator,"_"),a=n.names.length>1?(u,c)=>c+o+i[u]:u=>i[u],l=i.map(u=>zS(e,n.ops.map(c=>{if(c.name==="count"){const f=h=>u===s[h]?1:NaN;return f.toString=()=>u+":1",{...c,name:"sum",fields:[f]}}const d=c.fields.map(f=>{const h=(p,m)=>u===s[p]?f(p,m):NaN;return h.toString=()=>u+":"+f,h});return{...c,fields:d}})));return e.create(pOt(n,a,e.groups(),l))}function hOt(e,t,n){const r=n.limit>0?+n.limit:1/0,i=jH(n.sort,!0),s=jH(n.keySeparator,"_"),o=i_(e,t.ops,t.exprs),a=o.length===1?o[0]:(d,f)=>o.map(h=>h(d,f)).join(s),l=Array(e.totalRows());e.scan((d,f)=>l[d]=a(d,f));const u=zS(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[d=>l[d]],params:[]}])[0][0],c=i?u.sort():u;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:l}}function pOt({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=pc(),a=i.length,l=e.length;let u;const c=(d,f)=>u[d][f];r&&qOe(o,r);for(let d=0;d<l;++d){const f=t[d];if(f.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[d]),i[h][f.field]);else if(s>1)for(let h=0;h<a;++h){u=i[h];const p=o.add(n(h,e[d]),Array(s));for(let m=0;m<s;++m)p[m]=f(m,null,c)}else for(let h=0;h<a;++h)u=i[h],o.add(n(h,e[d]),[f(0,null,c)])}return o.new()}function mOt(e,t,n,r){return fOt(e,_f("fold",e,t),_f("fold",e,n,{preparse:gOt,aggronly:!0}),r)}function gOt(e){e.forEach((t,n)=>t.field?e.set(n,nke(t+"")):0)}function yOt(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),lee(e,eg(e,t,n))}function Dpe(e,t){return fee(e,hu(t,{table:e,aggronly:!0,window:!1}))}function vOt(e,t,n,r){return(t?r?_Ot:bOt:r?EOt:wOt)(e.length,e,n,r)}function bOt(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*kS()|0];return t}function _Ot(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let l=0;l<i;++l)s[l]=o+=r(n[l]);const a=WOe(uee).right;for(let l=0;l<e;++l)t[l]=n[a(s,o*kS())];return t}function wOt(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*kS();s<e&&(t[s|0]=n[i])}return t}function EOt(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(kS())/r(n[a]);o.sort((a,l)=>s[a]-s[l]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function xOt(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=kS()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function SOt(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,d)=>{let f=t(d);return a+=f=i?f:Math.min(c.length,f),f});const l=new Uint32Array(a);let u=0;return o.forEach((c,d)=>{const f=t[d],h=l.subarray(u,u+=f);!i&&f===c.length?h.set(c):vOt(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&xOt(l),e.reify(l)}function TOt(e,t,n={}){return SOt(e,COt(e,t),AOt(e,n.weight),n)}const QOe=e=>t=>e.get(t)||0;function COt(e,t){return gl(t)?()=>t:QOe(fee(e,hu({size:t},{table:e,window:!1})).column("size"))}function AOt(e,t){return t==null?null:(t=gl(t)?e.columnName(t):t,QOe(na(t)?e.column(t):dee(e,hu({w:t},{table:e}),{drop:!0}).column("w")))}function IOt(e,t){return lee(e,eg(e,t))}function ROt(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),l=i_(e,r,n),u=pc(),c=t.reduce((f,h,p)=>f.set(h,p),new Map),d=(f,h)=>{const p=kOt(e,l[f],a),m=p.length;for(let g=0;g<m;++g)u.add(s[g]||`${h}_${g+1}`,p[g])};return e.columnNames().forEach(f=>{c.has(f)?(o||u.add(f,e.column(f)),d(c.get(f),f),c.delete(f)):u.add(f,e.column(f))}),c.forEach(d),e.create(u)}function kOt(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=du(t(s,o)),l=Math.min(a.length,n);for(;i.length<l;)i.push(Array(r).fill(wr));for(let u=0;u<l;++u)i[u][s]=a[u]}),i}function POt(e,t,n){return ROt(e,_f("spread",e,t),n)}function NOt(e,t){return e.concat(t).dedupe()}function OOt(e,t,n){return YOe(e,_f("unroll",e,t),n&&n.drop?{...n,drop:_f("unroll",e,n.drop).names}:n)}function DOt(e,t){return e.create({groups:MOt(e,t)})}function MOt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=i_(e,r,n);const o=e3(s),a=e.totalRows(),l=new Uint32Array(a),u={},c=[],d=e.data(),f=e.mask();if(f)for(let h=f.next(0);h>=0;h=f.next(h+1)){const p=o(h,d)+"",m=u[p];l[h]=m??(u[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,d)+"",m=u[p];l[h]=m??(u[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,d))),{keys:l,get:s,names:t,rows:c,size:c.length}}function $Ot(e,t){return DOt(e,_f("groupby",e,t))}function LOt(e,t){return e.create({order:t})}const FOt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function jOt(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:l}=hu(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=g=>`fn[${i.length}](${g}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([Z$(p,{index:"a",op:o}),Z$(p,{index:"b",op:a})])},window:!1}),u=zS(e,l),c=(h,p)=>u[h][p],d=n.length;let f="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<d;++h){const p=t.get(n[h]).desc?-1:1,[m,g]=r[h];f+=FOt(m,g,-p,p)}return f+="0;};",Function("op","keys","fn","data",f)(c,s,i,e.data())}function BOt(e,t){return LOt(e,zOt(e,t))}function zOt(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(La(o)&&!Ni(o))for(const a in o)i(o[a]);else i(gl(o)?gb(s,e.columnName(o)):na(o)?gb(s):Ni(o)?s:Ln(`Invalid orderby field: ${s+""}`))}),jOt(e,r)}function UOt(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=pc();return e.columnNames().forEach(o=>{const a=Array(r);let l=0;i.forEach(u=>{const c=u.column(o)||{get:()=>wr};u.scan(d=>a[l++]=c.get(d))}),s.add(o,a)}),e.create(s.new())}function VOt(e,t){const n=pc(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},l=new Uint32Array(a+1);s.forEach(f=>n.add(f,null));const u=r?HOe(e,t,r):[VOe(e,t)];t.outputs().map(f=>n.add(f,[]));const c=l.length-1;let d=0;for(let f=0;f<c;++f)d+=l[f+1]=t.write(u[f],n.data,l[f]);if(r){const f=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(d),g=i[p];for(let y=0,v=0;y<a;++y)m.fill(g(o[y],f),v,v+=l[y+1])})}return e.create(n.new())}function HOt(e){return e.isGrouped()?e.create({groups:null}):e}function qOt(e){return e.isOrdered()?e.create({order:null}):e}const WOt={__antijoin:(e,t,n)=>Ope(e,t,n,{anti:!0}),__count:(e,t={})=>Dpe(e,{[t.as||"count"]:rke()}),__cross:(e,t,n,r)=>Ppe(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:UOt,__dedupe:bNt,__derive:FNt,__except:jNt,__filter:UNt,__fold:HNt,__impute:YNt,__intersect:XNt,__join:Ppe,__lookup:dOt,__pivot:mOt,__relocate:zOe,__rename:yOt,__rollup:Dpe,__sample:TOt,__select:IOt,__semijoin:Ope,__spread:POt,__union:NOt,__unroll:OOt,__groupby:$Ot,__orderby:BOt,__ungroup:HOt,__unorder:qOt,__reduce:VOt};Object.assign(Ch.prototype,WOt);function GOt(e,t){return Ch.new(e,t)}function pee(e,t){return Ch.from(e,t)}function UN(e,t={}){const n=`d[${JSON.stringify(e)}]`,{maxbins:r,nice:i,minstep:s,step:o,offset:a}=t,l=[r,i,s,o];let u=l.length;for(;u&&l[--u]==null;)l.pop();const c=l.length?", "+l.map(d=>d+"").join(", "):"";return`d => op.bin(${n}, ...op.bins(${n}${c}), ${a||0})`}function m1(e){return E4(e,{escape:!0,toString(){Ln("Escaped values can not be serialized.")}})}Ch.prototype;function Wd(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xy(e){return!!e&&!!e[$i]}function rg(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===nDt}(e)||Array.isArray(e)||!!e[zpe]||!!(!((t=e.constructor)===null||t===void 0)&&t[zpe])||mee(e)||gee(e))}function yb(e,t,n){n===void 0&&(n=!1),US(e)===0?(n?Object.keys:yE)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function US(e){var t=e[$i];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:mee(e)?2:gee(e)?3:0}function gE(e,t){return US(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function YOt(e,t){return US(e)===2?e.get(t):e[t]}function JOe(e,t,n){var r=US(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ZOe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function mee(e){return eDt&&e instanceof Map}function gee(e){return tDt&&e instanceof Set}function n1(e){return e.o||e.t}function yee(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=tDe(e);delete t[$i];for(var n=yE(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function vee(e,t){return t===void 0&&(t=!1),bee(e)||xy(e)||!rg(e)||(US(e)>1&&(e.set=e.add=e.clear=e.delete=KOt),Object.freeze(e),t&&yb(e,function(n,r){return vee(r,!0)},!0)),e}function KOt(){Wd(2)}function bee(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Bh(e){var t=VH[e];return t||Wd(18,e),t}function XOt(e,t){VH[e]||(VH[e]=t)}function BH(){return PI}function x9(e,t){t&&(Bh("Patches"),e.u=[],e.s=[],e.v=t)}function x3(e){zH(e),e.p.forEach(QOt),e.p=null}function zH(e){e===PI&&(PI=e.l)}function Mpe(e){return PI={p:[],l:PI,h:e,m:!0,_:0}}function QOt(e){var t=e[$i];t.i===0||t.i===1?t.j():t.g=!0}function S9(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Bh("ES5").S(t,e,r),r?(n[$i].P&&(x3(t),Wd(4)),rg(e)&&(e=S3(t,e),t.l||T3(t,e)),t.u&&Bh("Patches").M(n[$i].t,e,t.u,t.s)):e=S3(t,n,[]),x3(t),t.u&&t.v(t.u,t.s),e!==eDe?e:void 0}function S3(e,t,n){if(bee(t))return t;var r=t[$i];if(!r)return yb(t,function(a,l){return $pe(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return T3(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=yee(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),yb(s,function(a,l){return $pe(e,r,i,a,l,n,o)}),T3(e,i,!1),n&&e.u&&Bh("Patches").N(r,n,e.u,e.s)}return r.o}function $pe(e,t,n,r,i,s,o){if(xy(i)){var a=S3(e,i,s&&t&&t.i!==3&&!gE(t.R,r)?s.concat(r):void 0);if(JOe(n,r,a),!xy(a))return;e.m=!1}else o&&n.add(i);if(rg(i)&&!bee(i)){if(!e.h.D&&e._<1)return;S3(e,i),t&&t.A.l||T3(e,i)}}function T3(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&vee(t,n)}function T9(e,t){var n=e[$i];return(n?n1(n):e)[t]}function Lpe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function d0(e){e.P||(e.P=!0,e.l&&d0(e.l))}function C9(e){e.o||(e.o=yee(e.t))}function UH(e,t,n){var r=mee(t)?Bh("MapSet").F(t,n):gee(t)?Bh("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:BH(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=NI;o&&(l=[a],u=t2);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Bh("ES5").J(t,n);return(n?n.A:BH()).p.push(r),r}function JOt(e){return xy(e)||Wd(22,e),function t(n){if(!rg(n))return n;var r,i=n[$i],s=US(n);if(i){if(!i.P&&(i.i<4||!Bh("ES5").K(i)))return i.t;i.I=!0,r=Fpe(n,s),i.I=!1}else r=Fpe(n,s);return yb(r,function(o,a){i&&YOt(i.t,o)===a||JOe(r,o,t(a))}),s===3?new Set(r):r}(e)}function Fpe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return yee(e)}function ZOt(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[$i];return NI.get(l,s)},set:function(l){var u=this[$i];NI.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][$i];if(!a.P)switch(a.i){case 5:r(a)&&d0(a);break;case 4:n(a)&&d0(a)}}}function n(s){for(var o=s.t,a=s.k,l=yE(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==$i){var d=o[c];if(d===void 0&&!gE(o,c))return!0;var f=a[c],h=f&&f[$i];if(h?h.t!==d:!ZOe(f,d))return!0}}var p=!!o[$i];return l.length!==yE(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};XOt("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=tDe(d);delete p[$i];for(var m=yE(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,s),u={i:a?5:4,A:o?o.A:BH(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,$i,{value:u,writable:!0}),l},S:function(s,o,a){a?xy(o)&&o[$i].A===s&&t(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[$i];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)yb(f,function(_){_!==$i&&(d[_]!==void 0||gE(d,_)?h[_]||l(f[_]):(h[_]=!0,d0(c)))}),yb(d,function(_){f[_]!==void 0||gE(f,_)||(h[_]=!1,d0(c))});else if(p===5){if(r(c)&&(d0(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var y=Math.min(f.length,d.length),v=0;v<y;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var jpe,PI,_ee=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",eDt=typeof Map<"u",tDt=typeof Set<"u",Bpe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",eDe=_ee?Symbol.for("immer-nothing"):((jpe={})["immer-nothing"]=!0,jpe),zpe=_ee?Symbol.for("immer-draftable"):"__$immer_draftable",$i=_ee?Symbol.for("immer-state"):"__$immer_state",nDt=""+Object.prototype.constructor,yE=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,tDe=Object.getOwnPropertyDescriptors||function(e){var t={};return yE(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},VH={},NI={get:function(e,t){if(t===$i)return e;var n=n1(e);if(!gE(n,t))return function(i,s,o){var a,l=Lpe(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!rg(r)?r:r===T9(e.t,t)?(C9(e),e.o[t]=UH(e.A.h,r,e)):r},has:function(e,t){return t in n1(e)},ownKeys:function(e){return Reflect.ownKeys(n1(e))},set:function(e,t,n){var r=Lpe(n1(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=T9(n1(e),t),s=i==null?void 0:i[$i];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ZOe(n,i)&&(n!==void 0||gE(e.t,t)))return!0;C9(e),d0(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return T9(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,C9(e),d0(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=n1(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Wd(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Wd(12)}},t2={};yb(NI,function(e,t){t2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),t2.deleteProperty=function(e,t){return t2.set.call(this,e,t,void 0)},t2.set=function(e,t,n){return NI.set.call(this,e[0],t,n,e[0])};var rDt=function(){function e(n){var r=this;this.O=Bpe,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),_=1;_<y;_++)v[_-1]=arguments[_];return l.produce(m,function(w){var E;return(E=s).call.apply(E,[g,w].concat(v))})}}var u;if(typeof s!="function"&&Wd(6),o!==void 0&&typeof o!="function"&&Wd(7),rg(i)){var c=Mpe(r),d=UH(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?x3(c):zH(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return x9(c,o),S9(m,c)},function(m){throw x3(c),m}):(x9(c,o),S9(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===eDe&&(u=void 0),r.D&&vee(u,!0),o){var h=[],p=[];Bh("Patches").M(i,u,h,p),o(h,p)}return u}Wd(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){rg(n)||Wd(8),xy(n)&&(n=JOt(n));var r=Mpe(this),i=UH(this,n,void 0);return i[$i].C=!0,zH(r),i},t.finishDraft=function(n,r){var i=n&&n[$i],s=i.A;return x9(s,r),S9(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Bpe&&Wd(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Bh("Patches").$;return xy(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),ic=new rDt,iDt=ic.produce;ic.produceWithPatches.bind(ic);ic.setAutoFreeze.bind(ic);ic.setUseProxies.bind(ic);ic.applyPatches.bind(ic);ic.createDraft.bind(ic);ic.finishDraft.bind(ic);const nDe=iDt;function OI(e){"@babel/helpers - typeof";return OI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OI(e)}function sDt(e,t){if(OI(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(OI(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oDt(e){var t=sDt(e,"string");return OI(t)=="symbol"?t:t+""}function aDt(e,t,n){return(t=oDt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Upe(Object(n),!0).forEach(function(r){aDt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Upe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Hpe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),A9=function(){return Math.random().toString(36).substring(7).split("").join(".")},C3={INIT:"@@redux/INIT"+A9(),REPLACE:"@@redux/REPLACE"+A9(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A9()}};function lDt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rDe(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_a(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_a(1));return n(rDe)(e,t)}if(typeof e!="function")throw new Error(_a(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(_a(3));return s}function d(m){if(typeof m!="function")throw new Error(_a(4));if(l)throw new Error(_a(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(_a(6));g=!1,u();var v=a.indexOf(m);a.splice(v,1),o=null}}}function f(m){if(!lDt(m))throw new Error(_a(7));if(typeof m.type>"u")throw new Error(_a(8));if(l)throw new Error(_a(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var g=o=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(_a(10));i=m,f({type:C3.REPLACE})}function p(){var m,g=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(_a(11));function _(){v.next&&v.next(c())}_();var w=g(_);return{unsubscribe:w}}},m[Hpe]=function(){return this},m}return f({type:C3.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Hpe]=p,r}function uDt(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:C3.INIT});if(typeof r>"u")throw new Error(_a(12));if(typeof n(void 0,{type:C3.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_a(13))})}function cDt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{uDt(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(_a(14));d[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function A3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function dDt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(_a(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=A3.apply(void 0,a)(i.dispatch),Vpe(Vpe({},i),{},{dispatch:s})}}}function iDe(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var HH=iDe();HH.withExtraArgument=iDe;var sDe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wk=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vb=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},fDt=Object.defineProperty,hDt=Object.defineProperties,pDt=Object.getOwnPropertyDescriptors,qpe=Object.getOwnPropertySymbols,mDt=Object.prototype.hasOwnProperty,gDt=Object.prototype.propertyIsEnumerable,Wpe=function(e,t,n){return t in e?fDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},G0=function(e,t){for(var n in t||(t={}))mDt.call(t,n)&&Wpe(e,n,t[n]);if(qpe)for(var r=0,i=qpe(t);r<i.length;r++){var n=i[r];gDt.call(t,n)&&Wpe(e,n,t[n])}return e},I9=function(e,t){return hDt(e,pDt(t))},Ek=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},yDt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?A3:A3.apply(null,arguments)};function oDe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var vDt=function(e){return e&&typeof e.match=="function"};function zh(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return G0(G0({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function bDt(e){return oDe(e)&&"type"in e}var _Dt=function(e){sDe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,vb([void 0],n[0].concat(this)))):new(t.bind.apply(t,vb([void 0],n.concat(this))))},t}(Array),wDt=function(e){sDe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,vb([void 0],n[0].concat(this)))):new(t.bind.apply(t,vb([void 0],n.concat(this))))},t}(Array);function qH(e){return rg(e)?nDe(e,function(){}):e}function EDt(e){return typeof e=="boolean"}function xDt(){return function(t){return SDt(t)}}function SDt(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new _Dt;return n&&(EDt(n)?r.push(HH):r.push(HH.withExtraArgument(n.extraArgument))),r}var TDt=!0;function CDt(e){var t=xDt(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(oDe(i))h=cDt(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=dDt.apply(void 0,p),g=A3;l&&(g=yDt(G0({trace:!TDt},typeof l=="object"&&l)));var y=new wDt(m),v=y;Array.isArray(f)?v=vb([m],f):typeof f=="function"&&(v=f(y));var _=g.apply(void 0,v);return rDe(h,c,_)}function aDe(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function ADt(e){return typeof e=="function"}function IDt(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?aDe(t):[t,n,r],s=i[0],o=i[1],a=i[2],l;if(ADt(e))l=function(){return qH(e())};else{var u=qH(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=vb([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(xy(p)){var g=p,y=m(g,f);return y===void 0?p:y}else{if(rg(p))return nDe(p,function(v){return m(v,f)});var y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},d)}return c.getInitialState=l,c}function RDt(e,t){return e+"/"+t}function kDt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:qH(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=RDt(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=p?zh(f,p):zh(f)});function l(){var c=typeof e.extraReducers=="function"?aDe(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=G0(G0({},f),o);return IDt(n,function(v){for(var _ in y)v.addCase(_,y[_]);for(var w=0,E=p;w<E.length;w++){var S=E[w];v.addMatcher(S.matcher,S.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var PDt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lDe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=PDt[Math.random()*64|0];return t},NDt=["name","message","stack","code"],R9=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Gpe=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),ODt=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=NDt;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=zh(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:I9(G0({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=zh(t+"/pending",function(u,c,d){return{payload:void 0,meta:I9(G0({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=zh(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||ODt)(u||"Rejected"),meta:I9(G0({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):lDe(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return Ek(this,null,function(){var v,_,w,E,S,x,T;return wk(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),E=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),MDt(E)?[4,E]:[3,2];case 1:E=I.sent(),I.label=2;case 2:if(E===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(P,k){return p.signal.addEventListener("abort",function(){return k({name:"AbortError",message:m||"Aborted"})})}),c(s(h,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(P,k){return new R9(P,k)},fulfillWithValue:function(P,k){return new Gpe(P,k)}})).then(function(P){if(P instanceof R9)throw P;return P instanceof Gpe?i(P.payload,h,u,P.meta):i(P,h,u)})])];case 3:return w=I.sent(),[3,5];case 4:return x=I.sent(),w=x instanceof R9?o(null,h,u,x.payload,x.meta):o(x,h,u),[3,5];case 5:return T=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,T||c(w),[2,w]}})})}();return Object.assign(y,{abort:g,requestId:h,arg:u,unwrap:function(){return y.then(DDt)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function DDt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function MDt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var $Dt=function(e,t){return vDt(e)?e.match(t):e(t)};function Ype(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return $Dt(r,n)})}}var wee=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},WH=function(){},uDe=function(e,t){return t===void 0&&(t=WH),e.catch(t),e},cDe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},vE=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},LDt="task",dDe="listener",fDe="completed",Eee="cancelled",FDt="task-"+Eee,jDt="task-"+fDe,hDe=dDe+"-"+Eee,BDt=dDe+"-"+fDe,x4=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=LDt+" "+Eee+" (reason: "+t+")"}return e}(),bE=function(e){if(e.aborted)throw new x4(e.reason)};function pDe(e,t){var n=WH;return new Promise(function(r,i){var s=function(){return i(new x4(e.reason))};if(e.aborted){s();return}n=cDe(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=WH})}var zDt=function(e,t){return Ek(void 0,null,function(){var n,r;return wk(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof x4?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},I3=function(e){return function(t){return uDe(pDe(e,t).then(function(n){return bE(e),n}))}},mDe=function(e){var t=I3(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},UDt=Object.assign,Kpe={},xk="listenerMiddleware",VDt=function(e,t){var n=function(r){return cDe(e,function(){return vE(r,e.reason)})};return function(r,i){wee(r,"taskExecutor");var s=new AbortController;n(s);var o=zDt(function(){return Ek(void 0,null,function(){var a;return wk(this,function(l){switch(l.label){case 0:return bE(e),bE(s.signal),[4,r({pause:I3(s.signal),delay:mDe(s.signal),signal:s.signal})];case 1:return a=l.sent(),bE(s.signal),[2,a]}})})},function(){return vE(s,jDt)});return i!=null&&i.autoJoin&&t.push(o),{result:I3(e)(o),cancel:function(){vE(s,FDt)}}}},HDt=function(e,t){var n=function(r,i){return Ek(void 0,null,function(){var s,o,a,l;return wk(this,function(u){switch(u.label){case 0:bE(t),s=function(){},o=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){f(),d()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,pDe(t,Promise.race(a))];case 2:return l=u.sent(),bE(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return uDe(n(r,i))}},gDe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=zh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return wee(s,"options.listener"),{predicate:i,type:t,effect:s}},qDt=function(e){var t=gDe(e),n=t.type,r=t.predicate,i=t.effect,s=lDe(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},GH=function(e){e.pending.forEach(function(t){vE(t,hDe)})},WDt=function(e){return function(){e.forEach(GH),e.clear()}},Xpe=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},GDt=zh(xk+"/add"),YDt=zh(xk+"/removeAll"),KDt=zh(xk+"/remove"),XDt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,vb([xk+"/error"],e))};function QDt(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?XDt:i;wee(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&GH(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=qDt(h)),o(p)},u=function(h){var p=gDe(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(_){var w=typeof m=="string"?_.type===m:_.predicate===y;return w&&_.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&GH(v)),!!v},c=function(h,p,m,g){return Ek(t,null,function(){var y,v,_,w;return wk(this,function(E){switch(E.label){case 0:y=new AbortController,v=HDt(l,y.signal),_=[],E.label=1;case 1:return E.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,UDt({},m,{getOriginalState:g,condition:function(S,x){return v(S,x).then(Boolean)},take:v,delay:mDe(y.signal),pause:I3(y.signal),extra:r,signal:y.signal,fork:VDt(y.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,x,T){S!==y&&(vE(S,hDe),T.delete(S))})}})))];case 2:return E.sent(),[3,6];case 3:return w=E.sent(),w instanceof x4||Xpe(s,w,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return E.sent(),vE(y,BDt),h.pending.delete(y),[7];case 6:return[2]}})})},d=WDt(n),f=function(h){return function(p){return function(m){if(!bDt(m))return p(m);if(GDt.match(m))return l(m.payload);if(YDt.match(m)){d();return}if(KDt.match(m))return u(m.payload);var g=h.getState(),y=function(){if(g===Kpe)throw new Error(xk+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var _=h.getState(),w=Array.from(n.values()),E=0,S=w;E<S.length;E++){var x=S[E],T=!1;try{T=x.predicate(m,_,g)}catch(I){T=!1,Xpe(s,I,{raisedBy:"predicate"})}T&&c(x,m,h,y)}}finally{g=Kpe}return v}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var Qpe;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ZOt();function JDt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let VN;const ZDt=new Uint8Array(16);function eMt(){if(!VN&&(VN=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!VN))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return VN(ZDt)}const Po=[];for(let e=0;e<256;++e)Po.push((e+256).toString(16).slice(1));function tMt(e,t=0){return(Po[e[t+0]]+Po[e[t+1]]+Po[e[t+2]]+Po[e[t+3]]+"-"+Po[e[t+4]]+Po[e[t+5]]+"-"+Po[e[t+6]]+Po[e[t+7]]+"-"+Po[e[t+8]]+Po[e[t+9]]+"-"+Po[e[t+10]]+Po[e[t+11]]+Po[e[t+12]]+Po[e[t+13]]+Po[e[t+14]]+Po[e[t+15]]).toLowerCase()}const nMt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jpe={randomUUID:nMt};function Zpe(e,t,n){if(Jpe.randomUUID&&!t&&!e)return Jpe.randomUUID();e=e||{};const r=e.random||(e.rng||eMt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tMt(r)}class Uh{static get(){let t=Zpe();for(;this.ids.has(t);)t=Zpe();return this.ids.set(t,!0),t}}Uh.ids=new Map;function lf(e){return"parent"in e}function rMt(e){return!lf(e)}function iMt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:Uh.get(),val:i[u],createdOn:Date.now()}),l),s),a=r?[{id:Uh.get(),createdOn:Date.now(),val:r}]:[];return{id:Uh.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function sMt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:Uh.get(),val:i[d],createdOn:Date.now()}),c),a),u=s?[{id:Uh.get(),createdOn:Date.now(),val:s}]:[];return{id:Uh.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function ls(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=pMt[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function bb(e){return!!e&&!!e[sc]}function Sy(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===mMt}(e)||Array.isArray(e)||!!e[lA]||!!(!((t=e.constructor)===null||t===void 0)&&t[lA])||S4(e)||T4(e))}function vx(e,t,n){n===void 0&&(n=!1),Ty(e)===0?(n?Object.keys:Iee)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Ty(e){var t=e[sc];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:S4(e)?2:T4(e)?3:0}function DI(e,t){return Ty(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AD(e,t){return Ty(e)===2?e.get(t):e[t]}function yDe(e,t,n){var r=Ty(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function oMt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function S4(e){return fMt&&e instanceof Map}function T4(e){return hMt&&e instanceof Set}function r1(e){return e.o||e.t}function xee(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=gMt(e);delete t[sc];for(var n=Iee(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function See(e,t){return t===void 0&&(t=!1),Tee(e)||bb(e)||!Sy(e)||(Ty(e)>1&&(e.set=e.add=e.clear=e.delete=aMt),Object.freeze(e),t&&vx(e,function(n,r){return See(r,!0)},!0)),e}function aMt(){ls(2)}function Tee(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Vh(e){var t=QH[e];return t||ls(18,e),t}function lMt(e,t){QH[e]||(QH[e]=t)}function eme(){return{}.NODE_ENV==="production"||bx||ls(0),bx}function k9(e,t){t&&(Vh("Patches"),e.u=[],e.s=[],e.v=t)}function R3(e){YH(e),e.p.forEach(uMt),e.p=null}function YH(e){e===bx&&(bx=e.l)}function tme(e){return bx={p:[],l:bx,h:e,m:!0,_:0}}function uMt(e){var t=e[sc];t.i===0||t.i===1?t.j():t.O=!0}function P9(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Vh("ES5").S(t,e,r),r?(n[sc].P&&(R3(t),ls(4)),Sy(e)&&(e=k3(t,e),t.l||P3(t,e)),t.u&&Vh("Patches").M(n[sc].t,e,t.u,t.s)):e=k3(t,n,[]),R3(t),t.u&&t.v(t.u,t.s),e!==Aee?e:void 0}function k3(e,t,n){if(Tee(t))return t;var r=t[sc];if(!r)return vx(t,function(s,o){return nme(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return P3(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=xee(r.k):r.o;vx(r.i===3?new Set(i):i,function(s,o){return nme(e,r,i,s,o,n)}),P3(e,i,!1),n&&e.u&&Vh("Patches").R(r,n,e.u,e.s)}return r.o}function nme(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&ls(5),bb(i)){var o=k3(e,i,s&&t&&t.i!==3&&!DI(t.D,r)?s.concat(r):void 0);if(yDe(n,r,o),!bb(o))return;e.m=!1}if(Sy(i)&&!Tee(i)){if(!e.h.F&&e._<1)return;k3(e,i),t&&t.A.l||P3(e,i)}}function P3(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&See(t,n)}function N9(e,t){var n=e[sc];return(n?r1(n):e)[t]}function rme(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function KH(e){e.P||(e.P=!0,e.l&&KH(e.l))}function O9(e){e.o||(e.o=xee(e.t))}function XH(e,t,n){var r=S4(t)?Vh("MapSet").N(t,n):T4(t)?Vh("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:eme(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=JH;o&&(l=[a],u=n2);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Vh("ES5").J(t,n);return(n?n.A:eme()).p.push(r),r}function cMt(e){return bb(e)||ls(22,e),function t(n){if(!Sy(n))return n;var r,i=n[sc],s=Ty(n);if(i){if(!i.P&&(i.i<4||!Vh("ES5").K(i)))return i.t;i.I=!0,r=ime(n,s),i.I=!1}else r=ime(n,s);return vx(r,function(o,a){i&&AD(i.t,o)===a||yDe(r,o,t(a))}),s===3?new Set(r):r}(e)}function ime(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return xee(e)}function dMt(){function e(r){if(!Sy(r))return r;if(Array.isArray(r))return r.map(e);if(S4(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(T4(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return DI(r,lA)&&(i[lA]=r[lA]),i}function t(r){return bb(r)?e(r):r}var n="add";lMt("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=Ty(l),d=""+o[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||ls(24),typeof l=="function"&&d==="prototype"&&ls(24),typeof(l=AD(l,d))!="object"&&ls(15,o.join("/"))}var f=Ty(l),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:ls(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(s.value);default:return delete l[p]}default:ls(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,f=a.o;vx(a.D,function(h,p){var m=AD(d,h),g=AD(f,h),y=p?DI(d,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=l.concat(h);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<h.length;v++){var _=l.concat([v]);u.push({op:n,path:_,value:t(h[v])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===Aee?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var sme,bx,Cee=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",fMt=typeof Map<"u",hMt=typeof Set<"u",ome=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Aee=Cee?Symbol.for("immer-nothing"):((sme={})["immer-nothing"]=!0,sme),lA=Cee?Symbol.for("immer-draftable"):"__$immer_draftable",sc=Cee?Symbol.for("immer-state"):"__$immer_state",pMt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},mMt=""+Object.prototype.constructor,Iee=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,gMt=Object.getOwnPropertyDescriptors||function(e){var t={};return Iee(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},QH={},JH={get:function(e,t){if(t===sc)return e;var n=r1(e);if(!DI(n,t))return function(i,s,o){var a,l=rme(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Sy(r)?r:r===N9(e.t,t)?(O9(e),e.o[t]=XH(e.A.h,r,e)):r},has:function(e,t){return t in r1(e)},ownKeys:function(e){return Reflect.ownKeys(r1(e))},set:function(e,t,n){var r=rme(r1(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=N9(r1(e),t),s=i==null?void 0:i[sc];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(oMt(n,i)&&(n!==void 0||DI(e.t,t)))return!0;O9(e),KH(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return N9(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,O9(e),KH(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=r1(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ls(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ls(12)}},n2={};vx(JH,function(e,t){n2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),n2.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&ls(13),n2.set.call(this,e,t,void 0)},n2.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&ls(14),JH.set.call(this,e[0],t,n,e[0])};var yMt=function(){function e(n){var r=this;this.g=ome,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),_=1;_<y;_++)v[_-1]=arguments[_];return l.produce(m,function(w){var E;return(E=s).call.apply(E,[g,w].concat(v))})}}var u;if(typeof s!="function"&&ls(6),o!==void 0&&typeof o!="function"&&ls(7),Sy(i)){var c=tme(r),d=XH(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?R3(c):YH(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return k9(c,o),P9(m,c)},function(m){throw R3(c),m}):(k9(c,o),P9(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Aee&&(u=void 0),r.F&&See(u,!0),o){var h=[],p=[];Vh("Patches").M(i,u,h,p),o(h,p)}return u}ls(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Sy(n)||ls(8),bb(n)&&(n=cMt(n));var r=tme(this),i=XH(this,n,void 0);return i[sc].C=!0,YH(r),i},t.finishDraft=function(n,r){var i=n&&n[sc];({}).NODE_ENV!=="production"&&(i&&i.C||ls(9),i.I&&ls(10));var s=i.A;return k9(s,r),P9(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!ome&&ls(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Vh("Patches").$;return bb(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),oc=new yMt,vMt=oc.produce;oc.produceWithPatches.bind(oc);oc.setAutoFreeze.bind(oc);oc.setUseProxies.bind(oc);oc.applyPatches.bind(oc);oc.createDraft.bind(oc);oc.finishDraft.bind(oc);function bMt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=iMt({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return kDt({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:Uh.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:Uh.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function _Mt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=bMt(e),s=QDt();s.startListening({matcher:Ype(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Ype(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const o=CDt({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,l){const u={id:Uh.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var wMt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EMt=Object.prototype.hasOwnProperty;function ZH(e,t){return EMt.call(e,t)}function eq(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)ZH(e,i)&&r.push(i);return r}function Xl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function tq(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function i1(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function vDe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function nq(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(nq(e[t]))return!0}else if(typeof e=="object"){for(var r=eq(e),i=r.length,s=0;s<i;s++)if(nq(e[r[s]]))return!0}}return!1}function ame(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var bDe=function(e){wMt(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,ame(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=ame(n,{name:r,index:i,operation:s,tree:o}),l}return t}(Error),rs=bDe,xMt=Xl,Uw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=N3(n,this.path);r&&(r=Xl(r));var i=V1(n,{op:"remove",path:this.from}).removed;return V1(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=N3(n,this.from);return V1(n,{op:"add",path:this.path,value:Xl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:MI(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},SMt={add:function(e,t,n){return tq(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Uw.move,copy:Uw.copy,test:Uw.test,_get:Uw._get};function N3(e,t){if(t=="")return e;var n={op:"_get",path:t};return V1(e,n),n.value}function V1(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):O3(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=N3(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=MI(e,t.value),o.test===!1)throw new rs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new rs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Xl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=O3;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=vDe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!tq(h))throw new rs("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);tq(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new rs("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=SMt[t.op].call(t,u,h,e);if(o.test===!1)throw new rs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Uw[t.op].call(t,u,h,e);if(o.test===!1)throw new rs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new rs("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function C4(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new rs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Xl(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=V1(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function TMt(e,t,n){var r=V1(e,t);if(r.test===!1)throw new rs("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function O3(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new rs("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Uw[e.op]){if(typeof e.path!="string")throw new rs("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new rs('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new rs("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new rs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&nq(e.value))throw new rs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new rs("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new rs("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=_De([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new rs("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new rs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function _De(e,t,n){try{if(!Array.isArray(e))throw new rs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)C4(Xl(t),Xl(e),n||!0);else{n=n||O3;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof rs)return i;throw i}}function MI(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!MI(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!MI(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const CMt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:rs,_areEquals:MI,applyOperation:V1,applyPatch:C4,applyReducer:TMt,deepClone:xMt,getValueByPointer:N3,validate:_De,validator:O3},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Ree=new WeakMap,AMt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),IMt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function RMt(e){return Ree.get(e)}function kMt(e,t){return e.observers.get(t)}function PMt(e,t){e.observers.delete(t.callback)}function NMt(e,t){t.unobserve()}function OMt(e,t){var n=[],r,i=RMt(e);if(!i)i=new AMt(e),Ree.set(e,i);else{var s=kMt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Xl(e),t){r.callback=t,r.next=null;var o=function(){rq(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){rq(r),clearTimeout(r.next),PMt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new IMt(t,r)),r}function rq(e,t){t===void 0&&(t=!1);var n=Ree.get(e.object);kee(n.value,e.object,e.patches,"",t),e.patches.length&&C4(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function kee(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=eq(t),o=eq(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(ZH(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?kee(c,d,n,r+"/"+i1(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+i1(u),value:Xl(c)}),n.push({op:"replace",path:r+"/"+i1(u),value:Xl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+i1(u),value:Xl(c)}),n.push({op:"remove",path:r+"/"+i1(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!ZH(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+i1(u),value:Xl(t[u])})}}}function wDe(e,t,n){n===void 0&&(n=!1);var r=[];return kee(e,t,r,"",n),r}const DMt=Object.freeze(Object.defineProperty({__proto__:null,compare:wDe,generate:rq,observe:OMt,unobserve:NMt},Symbol.toStringTag,{value:"Module"}));Object.assign({},CMt,DMt,{JsonPatchError:bDe,deepClone:Xl,escapePathComponent:i1,unescapePathComponent:vDe});var r2=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(r2||{});function ID(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=EDe(i,e,t);s.shift();const o=s.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=ID(i,t);return C4(a,Xl(o),!0,!1).newDocument}function MMt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function iq({registry:e,initialState:t}){let n=!1;const r=JDt(),i=_Mt(t);function s(c){return i.backend.nodes[c]}r.listen(r2.TRAVERSAL_START,()=>{n=!0}),r.listen(r2.TRAVERSAL_END,()=>{n=!1});const o={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){var f;return(f=i.backend.nodes[d].meta[c])==null?void 0:f.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){o.add({annotation:c},d)},latest(c=i.current.id){var d;return(d=o.latestOfType("annotation",c))==null?void 0:d.val},all(c=i.current.id){var d;return(d=o.allOfType("annotation",c))==null?void 0:d.map(f=>f.val)}},u={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var d;return!!((d=o.latestOfType("bookmark",c))!=null&&d.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return ID(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=ID(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const v=wDe(y,d);if(MMt(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:_}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=sMt({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=ID(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(r2.TRAVERSAL_START);const d=EDe(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=s(d[h]),m=s(d[h+1]);LMt(p,m)?lf(p)&&f.push(...p.sideEffects.undo):lf(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(r2.TRAVERSAL_END)},undo(){const{current:c}=i;return lf(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return xDe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:o,artifact:a,annotations:l,bookmarks:u}}function $Mt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;lf(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)lf(r)&&(r=n[r.parent]),lf(i)&&(i=n[i.parent]);return r.id}function EDe(e,t,n){const r=$Mt(e,t,n),i=n[r],s=[],o=[];let[a,l]=[e,t];for(;a.id!==i.id;)s.push(a),lf(a)&&(a=n[a.parent]);for(s.push(a);l.id!==i.id;)o.push(l),lf(l)&&(l=n[l.parent]);const u=o.reverse();return[...s,...u].map(c=>c.id)}function LMt(e,t){if(lf(e)&&e.parent===t.id)return!0;if(lf(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function xDe(e,t){return{...e,children:e.children.map(n=>xDe(t[n],t)),name:`${e.label}`}}dMt();function FMt(e){return e.length===2?vMt(e):e}class $I{static create(){return new $I}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:FMt(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),zh(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var jMt="Expected a function",lme=NaN,BMt="[object Symbol]",zMt=/^\s+|\s+$/g,UMt=/^[-+]0x[0-9a-f]+$/i,VMt=/^0b[01]+$/i,HMt=/^0o[0-7]+$/i,qMt=parseInt,WMt=typeof Ys=="object"&&Ys&&Ys.Object===Object&&Ys,GMt=typeof self=="object"&&self&&self.Object===Object&&self,YMt=WMt||GMt||Function("return this")(),KMt=Object.prototype,XMt=KMt.toString,QMt=Math.max,JMt=Math.min,D9=function(){return YMt.Date.now()};function ZMt(e,t,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(jMt);t=ume(t)||0,sq(n)&&(c=!!n.leading,d="maxWait"in n,s=d?QMt(ume(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function h(S){var x=r,T=i;return r=i=void 0,u=S,o=e.apply(T,x),o}function p(S){return u=S,a=setTimeout(y,t),c?h(S):o}function m(S){var x=S-l,T=S-u,I=t-x;return d?JMt(I,s-T):I}function g(S){var x=S-l,T=S-u;return l===void 0||x>=t||x<0||d&&T>=s}function y(){var S=D9();if(g(S))return v(S);a=setTimeout(y,m(S))}function v(S){return a=void 0,f&&r?h(S):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:v(D9())}function E(){var S=D9(),x=g(S);if(r=arguments,i=this,l=S,x){if(a===void 0)return p(l);if(d)return a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),o}return E.cancel=_,E.flush=w,E}function sq(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function e$t(e){return!!e&&typeof e=="object"}function t$t(e){return typeof e=="symbol"||e$t(e)&&XMt.call(e)==BMt}function ume(e){if(typeof e=="number")return e;if(t$t(e))return lme;if(sq(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sq(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(zMt,"");var n=VMt.test(e);return n||HMt.test(e)?qMt(e.slice(2),n?2:8):UMt.test(e)?lme:+e}var n$t=ZMt;const th=bu(n$t);function SDe({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=A.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=A.useMemo(()=>TS(".2s"),[]);return b.jsxs(b.Fragment,{children:[b.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:b.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:b.jsx(dl,{children:b.jsx(Rn,{gap:3,children:b.jsx(nt,{size:"14px",style:{color:"#878E95"},children:r})})})})}),b.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),b.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>b.jsxs("g",{transform:`translate(${n}, ${a})`,children:[b.jsx("line",{x2:"-6",stroke:"currentColor"}),b.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),b.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const r$t=Object.freeze(Object.defineProperty({__proto__:null,YAxis:SDe},Symbol.toStringTag,{value:"Module"})),M9=15;function TDe({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:l}){const[u,c]=A.useState([0,0]),[d,f]=A.useState(!1);return A.useEffect(()=>{const h=Fo(l.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",m=>{const g=[m.clientX-p.x,m.clientY-p.y];if(c(g),d){const y=i.filter(v=>Math.abs(e(v[r.x])-g[0])<M9&&Math.abs(t(v[r.y])-g[1])<M9);if(m.ctrlKey||m.metaKey||!o){const v=new Set(a);y.forEach(w=>{v.has(w[r.ids])&&v.delete(w[r.ids])});const _=Array.from(v);n([[u[0],u[1]],[u[0],u[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...y.map(_=>_[r.ids])]));v.length>0&&n([[u[0],u[1]],[u[0],u[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",m=>{f(!0),m.stopPropagation(),m.preventDefault()}),h.on("mouseup",()=>{f(!1)})}},[u,s.id,a,i,d,o,r,n,l,e,t]),b.jsx("circle",{style:{cursor:d?"pointer":"default",pointerEvents:"none"},r:M9,fill:"darkgray",opacity:.5,cx:s.x1,cy:s.y1})}const i$t=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:TDe},Symbol.toStringTag,{value:"Module"}));function g1(e){const t=A.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return A.useLayoutEffect(()=>{t.current=e}),A.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const ui={top:15,left:100,right:15,bottom:130};function CDe({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:l,setIsPaintbrushSelect:u}){const[c,{height:d,width:f}]=nf(),[h,p]=A.useState(i),[m]=nf(),[g]=nf(),y=A.useMemo(()=>f-ui.left-ui.right,[f]),v=A.useMemo(()=>d-ui.top-ui.bottom,[d]),_=A.useMemo(()=>{const R=Array.from(new Set(s.map(M=>M[h.category])));return AS(ORe).domain(R)},[s,h.category]),{xMin:w,yMin:E,xMax:S,yMax:x}=A.useMemo(()=>{const R=s.map(U=>+U[h.x]).filter(U=>U!==null),[M,$]=ph(R),L=s.map(U=>+U[h.y]).filter(U=>U!==null),[B,z]=ph(L);return{xMin:M,xMax:$,yMin:B,yMax:z}},[s,h.x,h.y]),T=A.useMemo(()=>{const R=S-w;return y<=0?null:h.dataType==="date"?ARe([ui.left,y+ui.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):il([ui.left,y+ui.left]).domain([w-R/10,S+R/10]).nice()},[h.dataType,y,S,w]),I=A.useMemo(()=>{const R=x-E;return v<=0?null:il([v+ui.top,ui.top]).domain([E-R/10,x+R/10]).nice()},[v,x,E]);A.useMemo(()=>{if(!T||!I)return()=>null;if(r==="Axis Selection"){const R=dwt().extent([[ui.left,ui.top+v-5],[ui.left+y,ui.top+v+5]]).on("brush end",$=>{$.sourceEvent!==void 0&&n([[$.selection[0],null],[$.selection[1],null]],T,I,$.mode,t.id)}),M=fwt().extent([[ui.left-5,ui.top],[ui.left+5,ui.top+v]]).on("brush end",$=>{$.sourceEvent!==void 0&&n([[null,$.selection[0]],[null,$.selection[1]]],T,I,$.mode,t.id)});return m.current&&g.current&&(Fo(g.current).call(M),Fo(m.current).call(R),t.hasBrush||(Fo(g.current).call(M.move,[I(x),I(E)]),Fo(m.current).call(R.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),I(x)],[T(new Date("2015-12-31")),I(E)]],T,I,"drag",t.id))),()=>{Fo(g.current).call(M.move,[I(x),I(E)]),Fo(m.current).call(R.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),I(x)],[T(new Date("2015-12-31")),I(E)]],T,I,"clear",t.id)}}if(r==="Rectangular Selection"){const R=hwt().extent([[ui.left,ui.top],[ui.left+y,ui.top+v]]).on("brush",M=>{M.sourceEvent!==void 0&&n([[M.selection[0][0],M.selection[0][1]],[M.selection[1][0],M.selection[1][1]]],T,I,M.mode,t.id)}).on("end",M=>{M.selection===null&&M.sourceEvent!==void 0&&(Fo(c.current).call(R.move,null),e(null))});return Fo(c.current).call(R),()=>{Fo(c.current).call(R.move,null),n([[null,null],[null,null]],T,I,"clear",t.id)}}return r==="Slider Selection"?()=>n([[T(w),I(x)],[T(S),I(E)]],T,I,"clear",t.id):r==="Paintbrush Selection"?()=>n([[T(w),I(x)],[T(S),I(E)]],T,I,"clear",t.id,[]):()=>null},[t,r,m,g,v,c,n,y,S,w,T,x,E,I]),A.useEffect(()=>{r==="Slider Selection"&&T&&I&&n([[T(w),I(x)],[T(S),I(E)]],T,I,null,t.id)},[r,S,w,T,x,E,I]);const P=A.useMemo(()=>o.length===0?null:new Set(o),[o]),k=A.useMemo(()=>!T||!I?null:s.filter(R=>h.year?+R.Year===h.year:!0).map((R,M)=>{if(R[h.x]===null||R[h.y]===null)return null;const $=h.dataType==="date"?T(new Date(R[h.x])):T(R[h.x]);return b.jsx(dn,{withinPortal:!0,label:R[h.ids],children:b.jsx("circle",{opacity:P&&!P.has(R[h.ids])?.3:.7,r:3,fill:P&&!P.has(R[h.ids])?"lightgray":h.hideCat?"gray":_(R[h.category]),cx:$,cy:I(R[h.y])},M)},M)}),[P,_,s,T,I,h]);A.useEffect(()=>{r==="Axis Selection"&&ibt(".handle").style("fill","darkgrey")},[t,r]);const D=g1(R=>{p({...h,year:R?+R:void 0})});return b.jsxs(Jr,{gap:0,children:[b.jsx(Rn,{mr:ui.right,style:{justifyContent:"space-between"},children:h.year?b.jsxs(Jr,{gap:0,children:[b.jsx(nt,{size:"12px",ml:ui.left,children:h.year}),b.jsx(e6,{min:2008,max:2022,value:h.year,onChange:D,ml:ui.left,style:{width:"150px"},label:h.year})]}):null}),b.jsxs(Rn,{style:{width:"100%",height:"100%"},wrap:"nowrap",children:[b.jsxs("svg",{id:"scatterSvgBrushStudy",ref:c,style:{height:"500px",width:h.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[T&&I?b.jsxs("g",{children:[b.jsx(SDe,{yScale:I,label:h.y,horizontalPosition:ui.left,xRange:T.range()}),b.jsx(uk,{xScale:T,yRange:I.range(),isDate:h.dataType==="date",vertPosition:v+ui.top,label:h.x,ticks:T.ticks(h.brushType==="Axis Selection"?12:5).map(R=>({value:R.toString(),offset:T(R)}))})]}):null,k,b.jsx("g",{id:"brushXRef",ref:m}),b.jsx("g",{id:"brushYRef",ref:g}),T&&I&&r==="Paintbrush Selection"?b.jsx(TDe,{currSelected:o,svgRef:c,brushState:t,setBrushedSpace:n,params:h,data:s.filter(R=>h.year?+R.Year===h.year:!0),isSelect:l,xScale:T,yScale:I}):null]}),r==="Slider Selection"&&T&&I?b.jsxs(Jr,{style:{flexGrow:1},gap:50,children:[b.jsxs(Jr,{gap:0,children:[b.jsx(nt,{children:h.x}),b.jsx(JA,{minRange:1,label:null,min:T.domain()[0],max:T.domain()[1],labelAlwaysOn:!1,onChange:R=>{n([[T(R[0]),t.y1],[T(R[1]),t.y2]],T,I,"drag",t.id)},style:{width:"300px"},marks:T.ticks(5).map(R=>({value:R,label:R})),value:[T.invert(t.x1),T.invert(t.x2)]})]}),b.jsxs(Jr,{gap:0,children:[b.jsx(nt,{children:h.y}),b.jsx(JA,{minRange:1,label:null,min:I.domain()[0],max:I.domain()[1],onChange:R=>{n([[t.x1,I(R[1])],[t.x2,I(R[0])]],T,I,"drag",t.id)},style:{width:"300px"},marks:I.ticks(5).map(R=>({value:R,label:R})),value:[I.invert(t.y2),I.invert(t.y1)]})]})]}):null]})]})}const s$t=Object.freeze(Object.defineProperty({__proto__:null,Scatter:CDe},Symbol.toStringTag,{value:"Module"})),Cu={top:15,left:100,right:15,bottom:130};function ADe({setFilteredTable:e,brushState:t,setSelection:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:l,dataTable:u}){const[c,{height:d,width:f}]=nf(),[h,p]=A.useState(i),m=A.useMemo(()=>f-Cu.left-Cu.right,[f]),g=A.useMemo(()=>d-Cu.top-Cu.bottom,[d]),y=A.useMemo(()=>h.hideCat?u.groupby(t.xCol).count():u.groupby(t.xCol,"Survived").count(),[t.xCol,u,h.hideCat]),v=A.useMemo(()=>{if(!s)return null;const x=pee(s);return h.hideCat?x.groupby(t.xCol).count():x.groupby(t.xCol,"Survived").count()},[t.xCol,s,h.hideCat]),_=A.useMemo(()=>y?il([Cu.top,g+Cu.top]).domain([0,Gc(y.objects().map(x=>x.count))].reverse()).nice():null,[y,g]),w=A.useMemo(()=>y?V6([Cu.left,m+Cu.left]).domain(y.array(t.xCol).sort()).paddingInner(.1):null,[y,m,t.xCol]),E=A.useMemo(()=>!w||!_||!v?null:v.objects().map((x,T)=>b.jsxs("g",{children:[h.hideCat?b.jsx("rect",{onClick:I=>n(u.objects().filter(P=>P[t.xCol]===x[t.xCol]).map(P=>P.Name),I),x:w(x[t.xCol]),y:g-(g-_(x.count)),fill:"gray",width:w.bandwidth(),height:Cu.top+g-_(x.count)}):b.jsx("rect",{onClick:I=>n(u.objects().filter(P=>P[t.xCol]===x[t.xCol]&&P.Survived===x.Survived).map(P=>P.Name),I),x:x.Survived==="Yes"?w(x[t.xCol]):w(x[t.xCol])+w.bandwidth()/2,y:g-(g-_(x.count)),fill:x.Survived==="Yes"?"#f28e2c":"#4e79a7",width:w.bandwidth()/2,height:Cu.top+g-_(x.count)}),b.jsx("text",{x:w(x[t.xCol])+(h.hideCat?w.bandwidth()/2:x.Survived==="Yes"?w.bandwidth()/4:w.bandwidth()*.75),y:_(x.count)-10,style:{textAnchor:"middle",dominantBaseline:"middle",fontSize:14},children:x.count})]},`${T}fullRects`)),[v,t.xCol,u,g,h.hideCat,n,w,_]),S=A.useMemo(()=>!w||!_||!y?null:y.objects().map((x,T)=>b.jsx("g",{style:{cursor:"pointer"},children:b.jsx("rect",{onClick:I=>n(u.objects().filter(P=>P[t.xCol]===x[t.xCol]&&(h.hideCat?!0:P.Survived===x.Survived)).map(P=>P.Name),I),opacity:.7,x:x.Survived==="Yes"||h.hideCat?w(x[t.xCol]):w(x[t.xCol])+w.bandwidth()/2,fill:"lightgray",width:h.hideCat?w.bandwidth():w.bandwidth()/2,y:g-(g-_(x.count)),height:Cu.top+g-_(x.count)})},`${T}survRects`)),[y,t.xCol,u,g,h.hideCat,n,w,_]);return _&&w&&v?b.jsx(Jr,{gap:0,children:b.jsxs("svg",{id:"scatterSvgBrushStudy",ref:c,style:{height:"500px",width:h.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[b.jsx(uk,{xScale:w,yRange:_.range(),vertPosition:g+Cu.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:[...new Set(u.array(t.xCol))].map(x=>({value:x,offset:w(x)+w.bandwidth()/2}))}),_?b.jsx(t4,{label:"Count",yScale:_,horizontalPosition:Cu.left,xRange:w.range(),ticks:_.ticks(5).map(x=>({value:x.toString(),offset:_(x)}))}):null,S,E]})}):null}const o$t=Object.freeze(Object.defineProperty({__proto__:null,Histogram:ADe},Symbol.toStringTag,{value:"Module"})),Jf={top:15,left:100,right:15,bottom:130};function IDe({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,allData:o,setSelection:a,brushedPoints:l,onClose:u,isPaintbrushSelect:c}){const[d,{height:f,width:h}]=nf(),[p,m]=A.useState(i),g=A.useMemo(()=>h-Jf.left-Jf.right,[h]),y=A.useMemo(()=>f-Jf.top-Jf.bottom,[f]),v=A.useMemo(()=>il([Jf.top,y+Jf.top]).domain([0,Gc(o.map(x=>+x[t.yCol]))].reverse()).nice(),[o,t.yCol,y]),_=A.useMemo(()=>V6([Jf.left,g+Jf.left]).domain([...new Set(o.map(x=>x[t.xCol].toString()))].sort()).paddingInner(.01),[g,o,t.xCol]),w=A.useMemo(()=>pee(o.map(x=>({...x,Age:+x.Age}))),[o]),E=A.useMemo(()=>new Set(s.map(x=>x[p.ids])),[s,p.ids]),S=A.useMemo(()=>{let x=p.hideCat?w.groupby(t.xCol,{group:UN(t.yCol,{maxbins:20}),group_max:UN(t.yCol,{maxbins:20,offset:1})}):w.groupby(t.xCol,"Survived",{group:UN(t.yCol,{maxbins:20}),group_max:UN(t.yCol,{maxbins:20,offset:1})});x=x.rollup({ids:sA.array_agg(p.ids),count:sA.count()}).orderby("group");const T=x.derive({ids:m1(D=>D.ids.filter(R=>E.has(R))),count:m1(D=>D.ids.filter(R=>E.has(R)).length)}).orderby("group"),I=il([0,_.bandwidth()/2]).domain([0,Gc(x.array("count"))]),P=Y$(D=>I(D[1])+_.bandwidth()/2,D=>v(D[0])).curve(pH),k=Y$(D=>_.bandwidth()/2-I(D[1]),D=>v(D[0])).curve(pH);return b.jsx("g",{children:_.domain().map(D=>b.jsx("g",{style:{cursor:"pointer"},children:p.hideCat?b.jsxs("g",{children:[b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D).map(M=>M.ids).flat(),R),opacity:.7,transform:`translate(${_(D)}, 0)`,d:`${P(x.objects().filter(R=>R[t.xCol]===D).map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D).map(M=>M.ids).flat(),R),opacity:.7,transform:`translate(${_(D)}, 0)`,d:`${k(x.objects().filter(R=>R[t.xCol]===D).map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D).map(M=>M.ids).flat(),R),transform:`translate(${_(D)}, 0)`,d:`${P(T.objects().filter(R=>R[t.xCol]===D).map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"}),b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D).map(M=>M.ids).flat(),R),transform:`translate(${_(D)}, 0)`,d:`${k(T.objects().filter(R=>R[t.xCol]===D).map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"})]}):b.jsxs("g",{children:[b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D&&M.Survived==="Yes").map(M=>M.ids).flat(),R),opacity:.7,transform:`translate(${_(D)}, 0)`,d:`${P(x.objects().filter(R=>R[t.xCol]===D&&R.Survived==="Yes").map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D&&M.Survived==="No").map(M=>M.ids).flat(),R),opacity:.7,transform:`translate(${_(D)}, 0)`,d:`${k(x.objects().filter(R=>R[t.xCol]===D&&R.Survived==="No").map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D&&M.Survived==="Yes").map(M=>M.ids).flat(),R),transform:`translate(${_(D)}, 0)`,d:`${P(T.objects().filter(R=>R[t.xCol]===D&&R.Survived==="Yes").map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#f28e2c"}),b.jsx("path",{onClick:R=>a(x.objects().filter(M=>M[t.xCol]===D&&M.Survived==="No").map(M=>M.ids).flat(),R),transform:`translate(${_(D)}, 0)`,d:`${k(T.objects().filter(R=>R[t.xCol]===D&&R.Survived==="No").map(R=>[R.group,R.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#4e79a7"})]})},D))})},[t.xCol,t.yCol,E,w,p.hideCat,p.ids,a,_,v]);return b.jsx(Jr,{gap:0,children:b.jsxs("svg",{id:"scatterSvgBrushStudy",ref:d,style:{height:"500px",width:p.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[b.jsx(uk,{xScale:_,yRange:v.range(),vertPosition:y+Jf.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:_.domain().map(x=>({value:x,offset:_(x)+_.bandwidth()/2}))}),v?b.jsx(t4,{label:t.yCol,yScale:v,horizontalPosition:Jf.left,xRange:_.range(),ticks:v.ticks(5).map(x=>({value:x.toString(),offset:v(x)}))}):null,S]})})}const a$t=Object.freeze(Object.defineProperty({__proto__:null,Violin:IDe},Symbol.toStringTag,{value:"Module"}));function cme({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=A.useState(null),[s,o]=A.useState(e.brushState?{...e.brushState,selection:[]}:{0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"scatter"},selection:[]}),[a,l]=A.useState(!0),[u,c]=A.useState(null);A.useEffect(()=>{Hwt(`/ThinkAloud/data/${e.dataset}.csv`).then(S=>{c(S)})},[e]);const d=A.useMemo(()=>u?pee(u):null,[u]);A.useEffect(()=>{if(n){const S=n.all.brush||n.all;o(S);const x=new Set(S.selection);if(d){const T=d.filter(m1(I=>x.has(I[e.ids])));i(T)}}},[d,e.ids,n]);const{actions:f,trrack:h}=A.useMemo(()=>{const S=$I.create(),x=S.register("brush",(D,R)=>(D.all={brush:R},D)),T=S.register("brushMove",(D,R)=>(D.all={brush:R},D)),I=S.register("brushResize",(D,R)=>(D.all={brush:R},D)),P=S.register("brushClear",(D,R)=>(D.all={brush:R},D)),k=iq({registry:S,initialState:{all:s}});return{actions:{brush:x,brushMove:T,brushResize:I,clearBrush:P},trrack:k}},[]),p=A.useCallback((S,x)=>{S==="drag"?h.apply("Move Brush",f.brushMove(x)):(S==="handle"||S==="click")&&h.apply("Brush",f.brush(x)),t({status:!0,provenanceGraph:h.graph.backend,answers:{}})},[f,t,h]),m=A.useMemo(()=>th(p,50,{maxWait:50}),[p]),g=A.useCallback((S,x,T,I,P,k)=>{if(!x||!T)return;const D=s[P],R=x.invert(S[0][0]||D.x1),M=x.invert(S[1][0]||D.x2),$=T.invert(S[1][1]||D.y2),L=T.invert(S[0][1]||D.y1);let B=null;if(I==="clear")B=d;else if(k){const N=new Set(k);B=d.filter(m1(V=>N.has(V[e.ids])))}else e.brushType==="Axis Selection"?B=d.filter(m1(N=>new Date(N[e.x])>=new Date(R)&&new Date(N[e.x])<=new Date(M)&&N[e.y]>=$&&N[e.y]<=L)):B=d.filter(m1(N=>N[e.x]>=R&&N[e.x]<=M&&N[e.y]>=$&&N[e.y]<=L));const z={xCol:D.xCol,yCol:D.yCol,x1:S[0][0]||(D==null?void 0:D.x1)||0,x2:S[1][0]||(D==null?void 0:D.x2)||0,y1:S[0][1]||(D==null?void 0:D.y1)||0,y2:S[1][1]||(D==null?void 0:D.y2)||0,hasBrush:I!=="clear",id:P},U=I!=="clear"?B==null?void 0:B.array(e.ids):[];o({...s,[P]:z,selection:U}),I==="drag"||I==="handle"||I==="click"?m(I,{...s,[P]:z,selection:U}):I==="clear"&&h.apply("Clear Brush",f.clearBrush({...s,[P]:z,selection:U})),i(B)},[s,d,e,h,m,f]),y=A.useMemo(()=>r?r==null?void 0:r.groupby(e.category).count():d?d==null?void 0:d.groupby(e.category).count():null,[r,d,e.category]),v=A.useCallback(S=>{i(S)},[]),_=A.useCallback((S,x)=>{const T=new Set(x.ctrlKey||x.metaKey?[...s.selection,...S]:S),I=d.filter(m1(P=>T.has(P[e.ids])));o({...s,selection:[...T]}),i(I),p("click",{...s,selection:[...T]})},[s,d,p,e.ids]),w=A.useMemo(()=>(d==null?void 0:d.objects())||[],[d]),E=A.useMemo(()=>(r==null?void 0:r.objects())||[],[r]);return u?b.jsxs(Jr,{gap:"xs",children:[b.jsxs(Rn,{children:[b.jsx(hn,{ml:60,size:"compact-sm",style:{width:"130px"},disabled:s.selection.length===0,onClick:()=>{i(null),o({...s,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?b.jsx(rX,{defaultChecked:!0,value:a?"Select":"De-Select",onChange:S=>l(S==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:s.selection.length===0}]}):null,e.columns&&!e.hideCat?b.jsxs(b.Fragment,{children:[b.jsx(Hc,{color:"#f28e2c"}),b.jsx(nt,{children:"Survived"}),b.jsx(Hc,{color:"#4e79a7"}),b.jsx(nt,{children:"Died"})]}):null]}),b.jsxs(Rn,{children:[Object.entries(s).map(S=>{const[x,T]=S;return x==="selection"?null:T.type==="histogram"?b.jsx(ADe,{onClose:I=>{const{[I]:P,...k}=s;o(k)},dataTable:d,setSelection:_,brushedPoints:s.selection,data:E.length>0?E:w,initialParams:{...e,x:T.xCol,y:T.yCol},brushType:e.brushType,brushState:T,isPaintbrushSelect:a,setFilteredTable:v},x):T.type==="violin"?b.jsx(IDe,{onClose:I=>{const{[I]:P,...k}=s;o(k)},allData:w,setSelection:_,brushedPoints:s.selection,data:E.length>0?E:w,initialParams:{...e,x:T.xCol,y:T.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:T,isPaintbrushSelect:a,setFilteredTable:v},x):b.jsx(CDe,{onClose:I=>{const{[I]:P,...k}=s;o(k)},brushedPoints:s.selection,data:w,initialParams:{...e,x:T.xCol,y:T.yCol},brushType:e.brushType,setBrushedSpace:g,brushState:T,isPaintbrushSelect:a,setFilteredTable:v,setIsPaintbrushSelect:l},x)}),e.hideCat?null:b.jsx(mH,{fullTable:d,setSelection:_,data:w,parameters:e,barsTable:y})]})]}):b.jsx(ws,{})}const l$t=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:cme,default:cme},Symbol.toStringTag,{value:"Module"})),u$t=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function RDe(e,t){return function(n){return t.map(r=>[r,dAe(n,i=>e(r-i))])}}function kDe(e){return function(t){return Math.abs(t/=e)<=1?.75*(1-t*t)/e:0}}function PDe(e,t){return e*t/(t-1)}function NDe(e,t,n){let r=Math.sqrt(PDe(t,n));return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*n**-.2}function c$t({values:e,xScale:t,ticks:n}){const r=GOt({values:e}).rollup({variance:sA.variance("values"),q1:sA.quantile("values",.25),q3:sA.quantile("values",.75)}).objects()[0];return RDe(kDe(NDe(r.q3-r.q1,r.variance,e.length)),t.ticks(n))(e)}const d$t=Object.freeze(Object.defineProperty({__proto__:null,kdeCalc:c$t,kernelDensityEstimator:RDe,kernelEpanechnikov:kDe,silvermans:NDe,toSampleVariance:PDe},Symbol.toStringTag,{value:"Module"}));var ODe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:Ys,()=>(()=>{var n={d:(c,d)=>{for(var f in d)n.o(d,f)&&!n.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:d[f]})},o:(c,d)=>Object.prototype.hasOwnProperty.call(c,d),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},r={};function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},i(c)}function s(c){return function(d){if(Array.isArray(d))return o(d)}(c)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(c)||function(d,f){if(d){if(typeof d=="string")return o(d,f);var h=Object.prototype.toString.call(d).slice(8,-1);if(h==="Object"&&d.constructor&&(h=d.constructor.name),h==="Map"||h==="Set")return Array.from(d);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return o(d,f)}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(c,d){(d==null||d>c.length)&&(d=c.length);for(var f=0,h=new Array(d);f<d;f++)h[f]=c[f];return h}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function l(c,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,(p=h.key,m=void 0,m=function(g,y){if(i(g)!=="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var _=v.call(g,y||"default");if(i(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}(p,"string"),i(m)==="symbol"?m:String(m)),h)}var p,m}n.r(r),n.d(r,{default:()=>u});var u=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.sampleRate;a(this,c),this._context=this._createContext(p),p||(p=this._context.sampleRate),this._sampleRate=p}var d,f;return d=c,f=[{key:"_createContext",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:44100;return window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,new AudioContext({sampleRate:h})}},{key:"context",get:function(){return this._context}},{key:"fetchAudio",value:async function(){for(var h=this,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return await Promise.all(m.map(async function(y){var v;return v=y instanceof File||y instanceof Blob?await y.arrayBuffer():await fetch(y).then(function(_){return _.headers.has("Content-Type")&&!_.headers.get("Content-Type").includes("audio/")&&console.warn("Crunker: Attempted to fetch an audio file, but its MIME type is `".concat(_.headers.get("Content-Type").split(";")[0],"`. We'll try and continue anyway. (file: \"").concat(y,'")')),_.arrayBuffer()}),await h._context.decodeAudioData(v)}))}},{key:"mergeAudio",value:function(h){var p=this._context.createBuffer(this._maxNumberOfChannels(h),this._sampleRate*this._maxDuration(h),this._sampleRate);return h.forEach(function(m){for(var g=0;g<m.numberOfChannels;g++){for(var y=p.getChannelData(g),v=m.getChannelData(g),_=m.getChannelData(g).length-1;_>=0;_--)y[_]+=v[_];p.getChannelData(g).set(y)}}),p}},{key:"concatAudio",value:function(h){var p=this._context.createBuffer(this._maxNumberOfChannels(h),this._totalLength(h),this._sampleRate),m=0;return h.forEach(function(g){for(var y=0;y<g.numberOfChannels;y++)p.getChannelData(y).set(g.getChannelData(y),m);m+=g.length}),p}},{key:"padAudio",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(m===0)return h;if(p<0)throw new Error('Crunker: Parameter "padStart" in padAudio must be positive');if(m<0)throw new Error('Crunker: Parameter "seconds" in padAudio must be positive');for(var g=this._context.createBuffer(h.numberOfChannels,Math.ceil(h.length+m*h.sampleRate),h.sampleRate),y=0;y<h.numberOfChannels;y++){var v=h.getChannelData(y);g.getChannelData(y).set(v.subarray(0,Math.ceil(p*h.sampleRate)+1),0),g.getChannelData(y).set(v.subarray(Math.ceil(p*h.sampleRate)+2,g.length+1),Math.ceil((p+m)*h.sampleRate))}return g}},{key:"sliceAudio",value:function(h,p,m){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(p>=m)throw new Error('Crunker: "start" time should be less than "end" time in sliceAudio method');for(var v=Math.round((m-p)*this._sampleRate),_=Math.round(p*this._sampleRate),w=this._context.createBuffer(h.numberOfChannels,v,this._sampleRate),E=0;E<h.numberOfChannels;E++)for(var S=h.getChannelData(E),x=w.getChannelData(E),T=0;T<v;T++)x[T]=S[_+T],T<g*this._sampleRate&&(x[T]*=T/(g*this._sampleRate)),T>v-y*this._sampleRate&&(x[T]*=(v-T)/(y*this._sampleRate));return w}},{key:"play",value:function(h){var p=this._context.createBufferSource();return p.buffer=h,p.connect(this._context.destination),p.start(),p}},{key:"export",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"audio/wav",m=this._interleave(h),g=this._writeHeaders(m,h.numberOfChannels,h.sampleRate),y=new Blob([g],{type:p});return{blob:y,url:this._renderURL(y),element:this._renderAudioElement(y)}}},{key:"download",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"crunker",m=document.createElement("a");return m.style.display="none",m.href=this._renderURL(h),m.download="".concat(p,".").concat(h.type.split("/")[1]),m.click(),m}},{key:"notSupported",value:function(h){return this._isSupported()?void 0:h()}},{key:"close",value:function(){return this._context.close(),this}},{key:"_maxDuration",value:function(h){return Math.max.apply(Math,s(h.map(function(p){return p.duration})))}},{key:"_maxNumberOfChannels",value:function(h){return Math.max.apply(Math,s(h.map(function(p){return p.numberOfChannels})))}},{key:"_totalLength",value:function(h){return h.map(function(p){return p.length}).reduce(function(p,m){return p+m},0)}},{key:"_isSupported",value:function(){return"AudioContext"in window||"webkitAudioContext"in window||"mozAudioContext"in window}},{key:"_writeHeaders",value:function(h,p,m){var g=2*p,y=2*h.length,v=36+y,_=new ArrayBuffer(8+v),w=new DataView(_);return this._writeString(w,0,"RIFF"),w.setUint32(4,v,!0),this._writeString(w,8,"WAVE"),this._writeString(w,12,"fmt "),w.setUint32(16,16,!0),w.setUint16(20,1,!0),w.setUint16(22,p,!0),w.setUint32(24,m,!0),w.setUint32(28,m*g,!0),w.setUint16(32,g,!0),w.setUint16(34,16,!0),this._writeString(w,36,"data"),w.setUint32(40,y,!0),this._floatTo16BitPCM(w,h,44)}},{key:"_floatTo16BitPCM",value:function(h,p,m){for(var g=0;g<p.length;g++,m+=2){var y=Math.max(-1,Math.min(1,p[g]));h.setInt16(m,y<0?32768*y:32767*y,!0)}return h}},{key:"_writeString",value:function(h,p,m){for(var g=0;g<m.length;g++)h.setUint8(p+g,m.charCodeAt(g))}},{key:"_interleave",value:function(h){if(h.numberOfChannels===1)return h.getChannelData(0);for(var p=[],m=0;m<h.numberOfChannels;m++)p.push(h.getChannelData(m));for(var g=p.reduce(function(w,E){return w+E.length},0),y=new Float32Array(g),v=0,_=0;v<g;)p.forEach(function(w){y[v++]=w[_]}),_++;return y}},{key:"_renderAudioElement",value:function(h){var p=document.createElement("audio");return p.controls=!0,p.src=this._renderURL(h),p}},{key:"_renderURL",value:function(h){return(window.URL||window.webkitURL).createObjectURL(h)}}],f&&l(d.prototype,f),Object.defineProperty(d,"prototype",{writable:!1}),c}();return r})())})(ODe);var f$t=ODe.exports;const h$t=bu(f$t),HN=3,q_=25,qN=25,WN=20,dme=1;function p$t({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,l]=A.useState(!1),[u,{width:c}]=nf();return b.jsxs("g",{onClick:()=>i(n),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{cursor:"pointer"},children:[b.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+dme,width:e(t.endTime)-e(t.startTime)-dme*2,y:r-q_,height:q_}),b.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-HN,width:c+HN*2,y:r-q_-qN-o,height:WN,fill:"whitesmoke"}),b.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-HN,x2:c+e(t.startTime)+HN,y1:r-q_-qN+WN-o,y2:r-q_-qN+WN-o}),b.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-q_-qN-o,height:WN,children:b.jsx(dl,{style:{width:"fit-content"},children:b.jsx(nt,{lineClamp:1,ref:u,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:n})})})]})}function m$t({xScale:e,answer:t,height:n,labelHeight:r=0}){return b.jsx("g",{children:b.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const fme=25,g$t=8;function DDe({xScale:e,participantData:t,width:n,height:r,setSelectedTask:i,trialFilter:s}){const{analysisTrialName:o}=Qo(u=>u),a=A.useMemo(()=>{let u=0;const c=Object.entries(t.answers||{}).filter(d=>s?d[0]===s:!0).sort((d,f)=>d[1].startTime-f[1].startTime);return c.map((d,f)=>{const[h,p]=d,m=f>0?c[f-u-1]:null;return m&&m[0].length*g$t+e(m[1].startTime)>e(p.startTime)?u+=1:u=0,{line:b.jsx(m$t,{labelHeight:u*fme,answer:p,height:r,xScale:e},h),label:b.jsx(p$t,{labelHeight:u*fme,isSelected:s?!1:o===h,setSelectedTask:i,answer:p,height:r,name:h,xScale:e},h)}})},[r,t.answers,o,i,s,e]),l=A.useMemo(()=>Object.entries(t.answers||{}).sort((c,d)=>c[1].startTime-d[1].startTime).map(c=>{const[d,f]=c,h=[];let p=[-1,-1],m="visible";if(f.windowEvents)for(let g=0;g<f.windowEvents.length;g+=1)f.windowEvents[g][1]==="visibility"&&(f.windowEvents[g][2]==="hidden"&&m==="visible"?(p=[f.windowEvents[g][0],-1],m="hidden"):f.windowEvents[g][2]==="visible"&&m==="hidden"&&(p[1]=f.windowEvents[g][0],h.push(p),p=[-1,-1],m="visible"));return h.map((g,y)=>b.jsx(dn,{withinPortal:!0,label:"Browsed away",children:b.jsx("rect",{x:e(g[0]),width:e(g[1])-e(g[0]),y:r-5,height:10})},y))}),[r,t,e]);return s?null:b.jsxs("svg",{style:{width:n,height:r,overflow:"visible"},children:[a.map(u=>u.line),a.map(u=>u.label),l]})}function y$t({cx:e,cy:t,r:n,color:r}){return b.jsx("circle",{cx:e,cy:t,r:n,fill:r})}function v$t({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i,taskName:s}){return b.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(o=>{const[a,l]=o;return b.jsx("g",{onClick:()=>i(a,l.createdOn,s),children:b.jsx(y$t,{color:a===r?"cornflowerblue":"lightgray",cx:e(l.createdOn),cy:n/2,r:5})},a)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?b.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const hme={left:5,top:0,right:5,bottom:0};function b$t({xScale:e,participantData:t,width:n,height:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:l,setIsPlaying:u,setSelectedTask:c}){const d=A.useMemo(()=>e.domain()[1]-e.domain()[0],[e]),{index:f}=vf(),h=vp(),p=f?h:null,m=A.useMemo(()=>!p||!t?null:Object.keys(t.answers).find(v=>v.startsWith(p))||null,[t,p]);A.useEffect(()=>{if(!m||!t)return;const v=t.answers[m].provenanceGraph;if(!v)return;const{startTime:_}=t.answers.introduction_0,w=_+o;if(!i||!v.nodes[i]){s(v.root);return}let E=v.nodes[i];for(;;)if(w<E.createdOn){if(rMt(E))break;{const S=E.parent;if(w<v.nodes[S].createdOn)E=v.nodes[S];else break}}else if(E.children.length>0){const S=E.children[0];if(w>v.nodes[S].createdOn)E=v.nodes[S];else break}else break;E.id!==i&&s(E.id)},[i,t,o,s,m]);const g=A.useCallback((v,_)=>{a(_,(_-e.domain()[0])/d),s(v)},[s,a,d,e]),y=A.useMemo(()=>Object.entries(t.answers).filter(v=>m?m===v[0]:!0).map(v=>{const[_,w]=v;return b.jsx(v$t,{taskName:_,answer:w,height:r,currentNode:i,setCurrentNode:g,xScale:e},_)}),[i,g,r,t.answers,m,e]);return b.jsx(Jr,{children:b.jsxs("svg",{style:{width:n,height:r},children:[b.jsx("line",{stroke:"black",strokeWidth:1,x1:hme.left,x2:n+hme.left,y1:r/2,y2:r/2}),y]})})}const pme={top:5,left:5,right:5,bottom:5};function _$t({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=A.useMemo(()=>e.map(s=>b.jsxs("g",{children:[b.jsx("line",{stroke:r>=s.lineStart&&r<=s.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:pme.top,y2:pme.top,x1:t(n+s.start*1e3)+2,x2:t(n+s.end*1e3)-2}),s.tags.map((o,a)=>b.jsx("g",{children:o.map((l,u)=>{const c=t(n+s.start*1e3),d=t(n+s.end*1e3);return l?b.jsx("foreignObject",{x:c+(d-c)/s.tags.length*(a+.5)-6+(-(o.length-1)*15/2+u*15),y:30,height:"20px",width:"20px",children:b.jsx(dn,{label:l.name,withArrow:!0,arrowSize:6,children:b.jsx(Hc,{size:12,color:l.color})})},l.name):null})},a))]},s.start)),[r,n,e,t]);return b.jsx("svg",{style:{width:"100%",height:"50px"},children:i})}function MDe({selectedTags:e,removeFunc:t,isLink:n=!1,participantId:r="",currentTask:i=""}){return e.map((s,o)=>{if(!s||!s.id)return null;const a=uI(s.color).l;return b.jsx(sb,{component:n?xX:null,to:`/ThinkAloud/analysis/${r}/ui/reviewer-${i}`,target:"_blank",withRemoveButton:!!t,styles:{root:{backgroundColor:s.color,color:a>.7?"black":"white"}},onRemove:()=>t?t(s.id):null,children:s.name},s.id+o)})}function RD({tags:e,selectedTags:t,onSelectTags:n,disabled:r=!1,taskTags:i,partTags:s}){const o=$R(),a=h=>n([...t,[...e,...i||[],...s||[]].find(p=>p.id===h)]),l=h=>n(t.filter(p=>p!==void 0&&p.id!==h)),u=b.jsx(MDe,{selectedTags:t,removeFunc:l}),c=e.filter(h=>h!==void 0&&!t.find(p=>p&&p.id===h.id)).map(h=>b.jsx(sn.Option,{value:h.id,children:b.jsxs(Rn,{gap:"sm",children:[b.jsx(Hc,{size:10,color:h.color}),b.jsx("span",{children:h.name})]})},h.id)),d=i?i.filter(h=>!t.find(p=>p.id===h.id)).map(h=>b.jsx(sn.Option,{value:h.id,children:b.jsxs(Rn,{gap:"sm",children:[b.jsx(Hc,{size:10,color:h.color}),b.jsx("span",{children:h.name})]})},h.id)):null,f=s?s.filter(h=>!t.find(p=>p.id===h.id)).map(h=>b.jsx(sn.Option,{value:h.id,children:b.jsxs(Rn,{gap:"sm",children:[b.jsx(Hc,{size:10,color:h.color}),b.jsx("span",{children:h.name})]})},h.id)):null;return b.jsxs(sn,{disabled:r,width:300,store:o,onOptionSubmit:a,withinPortal:!0,children:[b.jsx(sn.DropdownTarget,{children:b.jsx(VE,{style:{width:"400px"},pointer:!0,onClick:()=>o.toggleDropdown(),children:b.jsxs(sb.Group,{children:[t.length>0?u:b.jsx(Kr.Placeholder,{children:"Add tags"}),b.jsx(sn.EventsTarget,{children:b.jsx(VE.Field,{type:"hidden",onBlur:()=>o.closeDropdown()})})]})})}),b.jsx(sn.Dropdown,{children:b.jsxs(sn.Options,{children:[c.length===0?b.jsx(sn.Empty,{children:"No additional tags"}):i||s?b.jsx(sn.Group,{label:"Text Tags",children:c}):c,i?b.jsx(sn.Group,{label:"Task Tags",children:d}):null,s?b.jsx(sn.Group,{label:"Participant Tags",children:f}):null]})})]})}function w$t({annotation:e,setAnnotation:t,start:n,current:r,end:i,text:s,tags:o,selectedTags:a,onTextChange:l,deleteRowCallback:u,addRowCallback:c,onSelectTags:d,addRef:f}){const[h,p]=A.useState(e);return b.jsxs(Rn,{justify:"space-between",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(Rn,{wrap:"nowrap",gap:0,style:{width:"100%",backgroundColor:r>=n&&r<=i?"rgba(100, 149, 237, 0.3)":"white"},children:b.jsx(YA,{ref:m=>m?f(m):null,autosize:!0,minRows:1,maxRows:3,style:{width:"100%"},variant:"unstyled",value:s,onChange:m=>{l(m.currentTarget.value)},onKeyDown:m=>{m.key==="Enter"&&m.currentTarget.selectionStart!==null?c(m.currentTarget.selectionStart):m.key==="Backspace"&&m.currentTarget.selectionStart===0&&m.currentTarget.selectionEnd===0&&(u(),m.preventDefault(),m.stopPropagation())}})}),b.jsxs(Rn,{wrap:"nowrap",style:{width:"300px"},children:[b.jsx(AF,{orientation:"vertical",size:"xs"}),b.jsx(RD,{onSelectTags:d,selectedTags:a,tags:o}),b.jsxs($n,{children:[b.jsx($n.Target,{children:b.jsx(vnt,{style:{color:e.length>0?"cornflowerblue":"lightgray",cursor:"pointer"}})}),b.jsx($n.Dropdown,{children:b.jsx(YA,{value:h,onChange:m=>p(m.currentTarget.value),placeholder:"Add Annotation",onBlur:()=>t(h)})})]})]})]})}var No=[];for(var $9=0;$9<256;++$9)No.push(($9+256).toString(16).slice(1));function E$t(e,t=0){return(No[e[t+0]]+No[e[t+1]]+No[e[t+2]]+No[e[t+3]]+"-"+No[e[t+4]]+No[e[t+5]]+"-"+No[e[t+6]]+No[e[t+7]]+"-"+No[e[t+8]]+No[e[t+9]]+"-"+No[e[t+10]]+No[e[t+11]]+No[e[t+12]]+No[e[t+13]]+No[e[t+14]]+No[e[t+15]]).toLowerCase()}var GN,x$t=new Uint8Array(16);function S$t(){if(!GN&&(GN=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!GN))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return GN(x$t)}var T$t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const mme={randomUUID:T$t};function LI(e,t,n){if(mme.randomUUID&&!t&&!e)return mme.randomUUID();e=e||{};var r=e.random||(e.rng||S$t)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,E$t(r)}function gme({addTagCallback:e,currentNames:t,editTag:n=!1,editableTag:r}){const[i,s]=A.useState(n?r.name:""),[o,a]=A.useState(n?r.color:"#fd7e14"),l=A.useCallback(()=>{const u=LI();e({color:o,name:i,id:u})},[e,o,i]);return b.jsxs(Jr,{gap:"xs",children:[b.jsxs(Rn,{children:[b.jsx(Hc,{color:o}),b.jsx(sf,{required:!0,placeholder:"Enter tag name",value:i,onChange:u=>s(u.currentTarget.value),error:t.includes(i)&&(!n||r.name!==i)?"Tag with this name already exists":null})]}),b.jsx(MK,{withPicker:n,style:{width:"100%"},value:o,onChange:u=>a(u),swatches:["#2e2e2e","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"]}),b.jsx(hn,{disabled:n&&o===r.color&&(i.length===0||t.includes(i)),size:"compact-sm",onClick:()=>l(),children:n?"Edit Tag":"Add Tag"})]})}function oq({createTagCallback:e,editTagCallback:t,tags:n,email:r=""}){const[i,s]=A.useState(!1);return b.jsxs($n,{withinPortal:!1,children:[b.jsx($n.Target,{children:b.jsxs(Jr,{justify:"center",style:{width:"300px",cursor:"pointer"},children:[b.jsxs(Rn,{children:[b.jsx(SSe,{}),b.jsx(nt,{children:"Tags"})]}),r?b.jsx(nt,{ta:"center",style:{justifyContent:"end",alignContent:"end"},c:"dimmed",children:r}):null]})}),n?b.jsx($n.Dropdown,{children:b.jsxs(Jr,{style:{width:"300px"},gap:"xs",children:[n.length===0?b.jsx(nt,{color:"dimmed",children:"No tags found. Create new tags below."}):null,n.map(o=>b.jsxs(Rn,{justify:"space-between",children:[b.jsxs(Rn,{children:[b.jsx(Hc,{color:o.color}),b.jsx(nt,{children:o.name})]}),b.jsxs($n,{trapFocus:!0,withinPortal:!1,children:[b.jsx($n.Target,{children:b.jsx(xSe,{color:"lightgray"})}),b.jsx($n.Dropdown,{children:b.jsx(gme,{editTag:!0,currentNames:n.map(a=>a.name),addTagCallback:a=>{t(o,{...a,id:o.id})},editableTag:o})})]})]},o.id)),b.jsxs($n,{trapFocus:!0,opened:i,withinPortal:!1,children:[b.jsx($n.Target,{children:b.jsx(hn,{variant:"light",onClick:()=>s(!i),children:"Create new tag"})}),b.jsx($n.Dropdown,{children:b.jsx(gme,{currentNames:n.map(o=>o.name),addTagCallback:o=>{s(!1),e(o)}})})]})]})}):b.jsx(ws,{})]})}var yme={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $De=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},C$t=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Pee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($De(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):C$t(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new A$t;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class A$t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I$t=function(e){const t=$De(e);return Pee.encodeByteArray(t,!0)},D3=function(e){return I$t(e).replace(/\./g,"")},LDe=function(e){try{return Pee.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FDe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$t=()=>FDe().__FIREBASE_DEFAULTS__,k$t=()=>{if(typeof process>"u"||typeof yme>"u")return;const e=yme.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},P$t=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&LDe(e[1]);return t&&JSON.parse(t)},A4=()=>{try{return R$t()||k$t()||P$t()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},jDe=e=>{var t,n;return(n=(t=A4())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},N$t=e=>{const t=jDe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},BDe=()=>{var e;return(e=A4())===null||e===void 0?void 0:e.config},zDe=e=>{var t;return(t=A4())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$t(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[D3(JSON.stringify(n)),D3(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D$t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zo())}function M$t(){var e;const t=(e=A4())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $$t(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function L$t(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F$t(){const e=Zo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j$t(){return!M$t()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nee(){try{return typeof indexedDB=="object"}catch{return!1}}function B$t(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$t="FirebaseError";class Sp extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=z$t,Object.setPrototypeOf(this,Sp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,VS.prototype.create)}}class VS{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?U$t(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Sp(i,a,r)}}function U$t(e,t){return e.replace(V$t,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const V$t=/\{\$([^}]+)}/g;function H$t(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jI(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(vme(s)&&vme(o)){if(!jI(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vme(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function q$t(e,t){const n=new W$t(e,t);return n.subscribe.bind(n)}class W$t{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G$t(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=L9),i.error===void 0&&(i.error=L9),i.complete===void 0&&(i.complete=L9);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G$t(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function L9(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$t=1e3,X$t=2,Q$t=4*60*60*1e3,J$t=.5;function Z$t(e,t=K$t,n=X$t){const r=t*Math.pow(n,e),i=Math.round(J$t*r*(Math.random()-.5)*2);return Math.min(Q$t,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e){return e&&e._delegate?e._delegate:e}class rp{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3t{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new FI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(n3t(t))try{this.getOrInitializeService({instanceIdentifier:s1})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=s1){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=s1){return this.instances.has(t)}getOptions(t=s1){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t3t(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=s1){return this.component?this.component.multipleInstances?t:s1:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t3t(e){return e===s1?void 0:e}function n3t(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3t{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new e3t(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ar||(ar={}));const i3t={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},s3t=ar.INFO,o3t={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},a3t=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=o3t[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class I4{constructor(t){this.name=t,this._logLevel=s3t,this._logHandler=a3t,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ar))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?i3t[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...t),this._logHandler(this,ar.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...t),this._logHandler(this,ar.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...t),this._logHandler(this,ar.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...t),this._logHandler(this,ar.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...t),this._logHandler(this,ar.ERROR,...t)}}const l3t=(e,t)=>t.some(n=>e instanceof n);let bme,_me;function u3t(){return bme||(bme=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c3t(){return _me||(_me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UDe=new WeakMap,aq=new WeakMap,VDe=new WeakMap,F9=new WeakMap,Oee=new WeakMap;function d3t(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Y0(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&UDe.set(n,e)}).catch(()=>{}),Oee.set(t,e),t}function f3t(e){if(aq.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});aq.set(e,t)}let lq={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return aq.get(e);if(t==="objectStoreNames")return e.objectStoreNames||VDe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Y0(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function h3t(e){lq=e(lq)}function p3t(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(j9(this),t,...n);return VDe.set(r,t.sort?t.sort():[t]),Y0(r)}:c3t().includes(e)?function(...t){return e.apply(j9(this),t),Y0(UDe.get(this))}:function(...t){return Y0(e.apply(j9(this),t))}}function m3t(e){return typeof e=="function"?p3t(e):(e instanceof IDBTransaction&&f3t(e),l3t(e,u3t())?new Proxy(e,lq):e)}function Y0(e){if(e instanceof IDBRequest)return d3t(e);if(F9.has(e))return F9.get(e);const t=m3t(e);return t!==e&&(F9.set(e,t),Oee.set(t,e)),t}const j9=e=>Oee.get(e);function g3t(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Y0(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Y0(o.result),l.oldVersion,l.newVersion,Y0(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const y3t=["get","getKey","getAll","getAllKeys","count"],v3t=["put","add","delete","clear"],B9=new Map;function wme(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(B9.get(t))return B9.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v3t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y3t.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return B9.set(t,s),s}h3t(e=>({...e,get:(t,n,r)=>wme(t,n)||e.get(t,n,r),has:(t,n)=>!!wme(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3t{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_3t(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _3t(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const uq="@firebase/app",Eme="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new I4("@firebase/app"),w3t="@firebase/app-compat",E3t="@firebase/analytics-compat",x3t="@firebase/analytics",S3t="@firebase/app-check-compat",T3t="@firebase/app-check",C3t="@firebase/auth",A3t="@firebase/auth-compat",I3t="@firebase/database",R3t="@firebase/database-compat",k3t="@firebase/functions",P3t="@firebase/functions-compat",N3t="@firebase/installations",O3t="@firebase/installations-compat",D3t="@firebase/messaging",M3t="@firebase/messaging-compat",$3t="@firebase/performance",L3t="@firebase/performance-compat",F3t="@firebase/remote-config",j3t="@firebase/remote-config-compat",B3t="@firebase/storage",z3t="@firebase/storage-compat",U3t="@firebase/firestore",V3t="@firebase/vertexai-preview",H3t="@firebase/firestore-compat",q3t="firebase",W3t="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq="[DEFAULT]",G3t={[uq]:"fire-core",[w3t]:"fire-core-compat",[x3t]:"fire-analytics",[E3t]:"fire-analytics-compat",[T3t]:"fire-app-check",[S3t]:"fire-app-check-compat",[C3t]:"fire-auth",[A3t]:"fire-auth-compat",[I3t]:"fire-rtdb",[R3t]:"fire-rtdb-compat",[k3t]:"fire-fn",[P3t]:"fire-fn-compat",[N3t]:"fire-iid",[O3t]:"fire-iid-compat",[D3t]:"fire-fcm",[M3t]:"fire-fcm-compat",[$3t]:"fire-perf",[L3t]:"fire-perf-compat",[F3t]:"fire-rc",[j3t]:"fire-rc-compat",[B3t]:"fire-gcs",[z3t]:"fire-gcs-compat",[U3t]:"fire-fst",[H3t]:"fire-fst-compat",[V3t]:"fire-vertex","fire-js":"fire-js",[q3t]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Map,Y3t=new Map,dq=new Map;function xme(e,t){try{e.container.addComponent(t)}catch(n){_b.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ig(e){const t=e.name;if(dq.has(t))return _b.debug(`There were multiple attempts to register component ${t}.`),!1;dq.set(t,e);for(const n of M3.values())xme(n,e);for(const n of Y3t.values())xme(n,e);return!0}function HS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ph(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3t={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},K0=new VS("app","Firebase",K3t);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3t{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw K0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=W3t;function HDe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:cq,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw K0.create("bad-app-name",{appName:String(i)});if(n||(n=BDe()),!n)throw K0.create("no-options");const s=M3.get(i);if(s){if(jI(n,s.options)&&jI(r,s.config))return s;throw K0.create("duplicate-app",{appName:i})}const o=new r3t(i);for(const l of dq.values())o.addComponent(l);const a=new X3t(n,r,o);return M3.set(i,a),a}function Dee(e=cq){const t=M3.get(e);if(!t&&e===cq&&BDe())return HDe();if(!t)throw K0.create("no-app",{appName:e});return t}function uf(e,t,n){var r;let i=(r=G3t[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_b.warn(a.join(" "));return}ig(new rp(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3t="firebase-heartbeat-database",J3t=1,BI="firebase-heartbeat-store";let z9=null;function qDe(){return z9||(z9=g3t(Q3t,J3t,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(BI)}catch(n){console.warn(n)}}}}).catch(e=>{throw K0.create("idb-open",{originalErrorMessage:e.message})})),z9}async function Z3t(e){try{const n=(await qDe()).transaction(BI),r=await n.objectStore(BI).get(WDe(e));return await n.done,r}catch(t){if(t instanceof Sp)_b.warn(t.message);else{const n=K0.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_b.warn(n.message)}}}async function Sme(e,t){try{const r=(await qDe()).transaction(BI,"readwrite");await r.objectStore(BI).put(t,WDe(e)),await r.done}catch(n){if(n instanceof Sp)_b.warn(n.message);else{const r=K0.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_b.warn(r.message)}}}function WDe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eLt=1024,tLt=30*24*60*60*1e3;class nLt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iLt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tme();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tLt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tme(),{heartbeatsToSend:r,unsentEntries:i}=rLt(this._heartbeatsCache.heartbeats),s=D3(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Tme(){return new Date().toISOString().substring(0,10)}function rLt(e,t=eLt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Cme(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cme(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iLt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nee()?B$t().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z3t(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sme(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sme(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Cme(e){return D3(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sLt(e){ig(new rp("platform-logger",t=>new b3t(t),"PRIVATE")),ig(new rp("heartbeat",t=>new nLt(t),"PRIVATE")),uf(uq,Eme,e),uf(uq,Eme,"esm2017"),uf("fire-js","")}sLt("");function GDe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oLt=GDe,YDe=new VS("auth","Firebase",GDe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new I4("@firebase/auth");function aLt(e,...t){$3.logLevel<=ar.WARN&&$3.warn(`Auth (${s_}): ${e}`,...t)}function kD(e,...t){$3.logLevel<=ar.ERROR&&$3.error(`Auth (${s_}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e,...t){throw $ee(e,...t)}function cf(e,...t){return $ee(e,...t)}function Mee(e,t,n){const r=Object.assign(Object.assign({},oLt()),{[t]:n});return new VS("auth","Firebase",r).create(t,{appName:e.name})}function X0(e){return Mee(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lLt(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&ip(e,"argument-error"),Mee(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $ee(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return YDe.create(e,...t)}function vn(e,t,...n){if(!e)throw $ee(t,...n)}function gm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kD(t),new Error(t)}function sg(e,t){e||gm(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function uLt(){return Ame()==="http:"||Ame()==="https:"}function Ame(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cLt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uLt()||$$t()||"connection"in navigator)?navigator.onLine:!0}function dLt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t,n){this.shortDelay=t,this.longDelay=n,sg(n>t,"Short delay should be less than long delay!"),this.isMobile=D$t()||L$t()}get(){return cLt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(e,t){sg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KDe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fLt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hLt=new Tk(3e4,6e4);function R4(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qS(e,t,n,r,i={}){return XDe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Sk(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),KDe.fetch()(JDe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function XDe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},fLt),t);try{const i=new pLt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw YN(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw YN(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw YN(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw YN(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Mee(e,c,u);ip(e,c)}}catch(i){if(i instanceof Sp)throw i;ip(e,"network-request-failed",{message:String(i)})}}async function QDe(e,t,n,r,i={}){const s=await qS(e,t,n,r,i);return"mfaPendingCredential"in s&&ip(e,"multi-factor-auth-required",{_serverResponse:s}),s}function JDe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Lee(e.config,i):`${e.config.apiScheme}://${i}`}class pLt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cf(this.auth,"network-request-failed")),hLt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function YN(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cf(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mLt(e,t){return qS(e,"POST","/v1/accounts:delete",t)}async function ZDe(e,t){return qS(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gLt(e,t=!1){const n=wi(e),r=await n.getIdToken(t),i=Fee(r);vn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uA(U9(i.auth_time)),issuedAtTime:uA(U9(i.iat)),expirationTime:uA(U9(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function U9(e){return Number(e)*1e3}function Fee(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return kD("JWT malformed, contained fewer than 3 sections"),null;try{const i=LDe(n);return i?JSON.parse(i):(kD("Failed to decode base64 JWT payload"),null)}catch(i){return kD("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ime(e){const t=Fee(e);return vn(t,"internal-error"),vn(typeof t.exp<"u","internal-error"),vn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Sp&&yLt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function yLt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vLt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uA(this.lastLoginAt),this.creationTime=uA(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(e){var t;const n=e.auth,r=await e.getIdToken(),i=await zI(e,ZDe(n,{idToken:r}));vn(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?eMe(s.providerUserInfo):[],a=_Lt(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hq(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function bLt(e){const t=wi(e);await L3(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _Lt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function eMe(e){return e.map(t=>{var{providerId:n}=t,r=AR(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wLt(e,t){const n=await XDe(e,{},async()=>{const r=Sk({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=JDe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KDe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ELt(e,t){return qS(e,"POST","/v2/accounts:revokeToken",R4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vn(t.idToken,"internal-error"),vn(typeof t.idToken<"u","internal-error"),vn(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ime(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vn(t.length!==0,"internal-error");const n=Ime(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wLt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _E;return r&&(vn(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(vn(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(vn(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _E,this.toJSON())}_performRefresh(){return gm("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e,t){vn(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ym{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=AR(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vLt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hq(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await zI(this,this.stsTokenManager.getToken(this.auth,t));return vn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gLt(this,t)}reload(){return bLt(this)}_assign(t){this!==t&&(vn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ym(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await L3(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ph(this.auth.app))return Promise.reject(X0(this.auth));const t=await this.getIdToken();return await zI(this,mLt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:w,isAnonymous:E,providerData:S,stsTokenManager:x}=n;vn(_&&x,t,"internal-error");const T=_E.fromJSON(this.name,x);vn(typeof _=="string",t,"internal-error"),Bg(d,t.name),Bg(f,t.name),vn(typeof w=="boolean",t,"internal-error"),vn(typeof E=="boolean",t,"internal-error"),Bg(h,t.name),Bg(p,t.name),Bg(m,t.name),Bg(g,t.name),Bg(y,t.name),Bg(v,t.name);const I=new ym({uid:_,auth:t,email:f,emailVerified:w,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:T,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(I.providerData=S.map(P=>Object.assign({},P))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new _E;i.updateFromServerResponse(n);const s=new ym({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await L3(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];vn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eMe(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _E;a.updateFromIdToken(r);const l=new ym({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hq(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rme=new Map;function vm(e){sg(e instanceof Function,"Expected a class definition");let t=Rme.get(e);return t?(sg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rme.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tMe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tMe.type="NONE";const kme=tMe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(e,t,n){return`firebase:${e}:${t}:${n}`}class wE{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=PD(this.userKey,i.apiKey,s),this.fullPersistenceKey=PD("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ym._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new wE(vm(kme),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vm(kme);const o=PD(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ym._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wE(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wE(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pme(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iMe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nMe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oMe(t))return"Blackberry";if(aMe(t))return"Webos";if(jee(t))return"Safari";if((t.includes("chrome/")||rMe(t))&&!t.includes("edge/"))return"Chrome";if(sMe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nMe(e=Zo()){return/firefox\//i.test(e)}function jee(e=Zo()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rMe(e=Zo()){return/crios\//i.test(e)}function iMe(e=Zo()){return/iemobile/i.test(e)}function sMe(e=Zo()){return/android/i.test(e)}function oMe(e=Zo()){return/blackberry/i.test(e)}function aMe(e=Zo()){return/webos/i.test(e)}function k4(e=Zo()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xLt(e=Zo()){var t;return k4(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function SLt(){return F$t()&&document.documentMode===10}function lMe(e=Zo()){return k4(e)||sMe(e)||aMe(e)||oMe(e)||/windows phone/i.test(e)||iMe(e)}function TLt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uMe(e,t=[]){let n;switch(e){case"Browser":n=Pme(Zo());break;case"Worker":n=`${Pme(Zo())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s_}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CLt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ALt(e,t={}){return qS(e,"GET","/v2/passwordPolicy",R4(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ILt=6;class RLt{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ILt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kLt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nme(this),this.idTokenSubscription=new Nme(this),this.beforeStateQueue=new CLt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YDe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=vm(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wE.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ZDe(this,{idToken:t}),r=await ym._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ph(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await L3(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dLt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ph(this.app))return Promise.reject(X0(this));const n=t?wi(t):null;return n&&vn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ph(this.app)?Promise.reject(X0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ph(this.app)?Promise.reject(X0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vm(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ALt(this),n=new RLt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new VS("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ELt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&vm(t)||this._popupRedirectResolver;vn(n,this,"argument-error"),this.redirectPersistenceManager=await wE.create(this,[vm(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vn(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uMe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&aLt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ck(e){return wi(e)}class Nme{constructor(t){this.auth=t,this.observer=null,this.addObserver=q$t(n=>this.observer=n)}get next(){return vn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bee={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PLt(e){Bee=e}function NLt(e){return Bee.loadJS(e)}function OLt(){return Bee.gapiScript}function DLt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MLt(e,t){const n=HS(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jI(s,t??{}))return i;ip(i,"already-initialized")}return n.initialize({options:t})}function $Lt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vm);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function LLt(e,t,n){const r=Ck(e);vn(r._canInitEmulator,r,"emulator-config-failed"),vn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=cMe(t),{host:o,port:a}=FLt(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),jLt()}function cMe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function FLt(e){const t=cMe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ome(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ome(o)}}}function Ome(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function jLt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dMe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gm("not implemented")}_getIdTokenResponse(t){return gm("not implemented")}_linkToIdToken(t,n){return gm("not implemented")}_getReauthenticationResolver(t){return gm("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(e,t){return QDe(e,"POST","/v1/accounts:signInWithIdp",R4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BLt="http://localhost";class wb extends dMe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new wb(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ip("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=AR(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wb(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return EE(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,EE(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,EE(t,n)}buildRequest(){const t={requestUri:BLt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Sk(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends zee{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Ak{constructor(){super("facebook.com")}static credential(t){return wb._fromParams({providerId:f0.PROVIDER_ID,signInMethod:f0.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return f0.credentialFromTaggedObject(t)}static credentialFromError(t){return f0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return f0.credential(t.oauthAccessToken)}catch{return null}}}f0.FACEBOOK_SIGN_IN_METHOD="facebook.com";f0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends Ak{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return wb._fromParams({providerId:lm.PROVIDER_ID,signInMethod:lm.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lm.credentialFromTaggedObject(t)}static credentialFromError(t){return lm.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lm.credential(n,r)}catch{return null}}}lm.GOOGLE_SIGN_IN_METHOD="google.com";lm.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Ak{constructor(){super("github.com")}static credential(t){return wb._fromParams({providerId:h0.PROVIDER_ID,signInMethod:h0.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return h0.credentialFromTaggedObject(t)}static credentialFromError(t){return h0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return h0.credential(t.oauthAccessToken)}catch{return null}}}h0.GITHUB_SIGN_IN_METHOD="github.com";h0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends Ak{constructor(){super("twitter.com")}static credential(t,n){return wb._fromParams({providerId:p0.PROVIDER_ID,signInMethod:p0.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return p0.credentialFromTaggedObject(t)}static credentialFromError(t){return p0.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return p0.credential(n,r)}catch{return null}}}p0.TWITTER_SIGN_IN_METHOD="twitter.com";p0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zLt(e,t){return QDe(e,"POST","/v1/accounts:signUp",R4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await ym._fromIdTokenResponse(t,r,i),o=Dme(r);return new Cy({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Dme(r);return new Cy({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Dme(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ULt(e){var t;if(Ph(e.app))return Promise.reject(X0(e));const n=Ck(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Cy({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await zLt(n,{returnSecureToken:!0}),i=await Cy._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3 extends Sp{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,F3.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new F3(t,n,r,i)}}function fMe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?F3._fromErrorAndOperation(e,s,t,r):s})}async function VLt(e,t,n=!1){const r=await zI(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Cy._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HLt(e,t,n=!1){const{auth:r}=e;if(Ph(r.app))return Promise.reject(X0(r));const i="reauthenticate";try{const s=await zI(e,fMe(r,i,t,e),n);vn(s.idToken,r,"internal-error");const o=Fee(s.idToken);vn(o,r,"internal-error");const{sub:a}=o;return vn(e.uid===a,r,"user-mismatch"),Cy._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ip(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qLt(e,t,n=!1){if(Ph(e.app))return Promise.reject(X0(e));const r="signIn",i=await fMe(e,r,t),s=await Cy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function WLt(e,t,n,r){return wi(e).onIdTokenChanged(t,n,r)}function GLt(e,t,n){return wi(e).beforeAuthStateChanged(t,n)}function YLt(e,t,n,r){return wi(e).onAuthStateChanged(t,n,r)}function KLt(e){return wi(e).signOut()}const j3="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hMe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(j3,"1"),this.storage.removeItem(j3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XLt(){const e=Zo();return jee(e)||k4(e)}const QLt=1e3,JLt=10;class pMe extends hMe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XLt()&&TLt(),this.fallbackToPolling=lMe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SLt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,JLt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},QLt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}pMe.type="LOCAL";const ZLt=pMe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mMe extends hMe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}mMe.type="SESSION";const gMe=mMe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eFt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new P4(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await eFt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}P4.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uee(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tFt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Uee("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){return window}function nFt(e){Hh().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yMe(){return typeof Hh().WorkerGlobalScope<"u"&&typeof Hh().importScripts=="function"}async function rFt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iFt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function sFt(){return yMe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vMe="firebaseLocalStorageDb",oFt=1,B3="firebaseLocalStorage",bMe="fbase_key";class Ik{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function N4(e,t){return e.transaction([B3],t?"readwrite":"readonly").objectStore(B3)}function aFt(){const e=indexedDB.deleteDatabase(vMe);return new Ik(e).toPromise()}function pq(){const e=indexedDB.open(vMe,oFt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(B3,{keyPath:bMe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(B3)?t(r):(r.close(),await aFt(),t(await pq()))})})}async function Mme(e,t,n){const r=N4(e,!0).put({[bMe]:t,value:n});return new Ik(r).toPromise()}async function lFt(e,t){const n=N4(e,!1).get(t),r=await new Ik(n).toPromise();return r===void 0?null:r.value}function $me(e,t){const n=N4(e,!0).delete(t);return new Ik(n).toPromise()}const uFt=800,cFt=3;class _Me{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pq(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>cFt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yMe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=P4._getInstance(sFt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await rFt(),!this.activeServiceWorker)return;this.sender=new tFt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iFt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pq();return await Mme(t,j3,"1"),await $me(t,j3),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mme(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>lFt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$me(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=N4(i,!1).getAll();return new Ik(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uFt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_Me.type="LOCAL";const dFt=_Me;new Tk(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wMe(e,t){return t?vm(t):(vn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee extends dMe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return EE(t,this._buildIdpRequest())}_linkToIdToken(t,n){return EE(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return EE(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fFt(e){return qLt(e.auth,new Vee(e),e.bypassAuthState)}function hFt(e){const{auth:t,user:n}=e;return vn(n,t,"internal-error"),HLt(n,new Vee(e),e.bypassAuthState)}async function pFt(e){const{auth:t,user:n}=e;return vn(n,t,"internal-error"),VLt(n,new Vee(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EMe{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fFt;case"linkViaPopup":case"linkViaRedirect":return pFt;case"reauthViaPopup":case"reauthViaRedirect":return hFt;default:ip(this.auth,"internal-error")}}resolve(t){sg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mFt=new Tk(2e3,1e4);async function gFt(e,t,n){if(Ph(e.app))return Promise.reject(cf(e,"operation-not-supported-in-this-environment"));const r=Ck(e);lLt(e,t,zee);const i=wMe(r,n);return new D1(r,"signInViaPopup",t,i).executeNotNull()}class D1 extends EMe{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,D1.currentPopupAction&&D1.currentPopupAction.cancel(),D1.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vn(t,this.auth,"internal-error"),t}async onExecution(){sg(this.filter.length===1,"Popup operations only handle one event");const t=Uee();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(cf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D1.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cf(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mFt.get())};t()}}D1.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yFt="pendingRedirect",ND=new Map;class vFt extends EMe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ND.get(this.auth._key());if(!t){try{const r=await bFt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ND.set(this.auth._key(),t)}return this.bypassAuthState||ND.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bFt(e,t){const n=EFt(t),r=wFt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _Ft(e,t){ND.set(e._key(),t)}function wFt(e){return vm(e._redirectPersistence)}function EFt(e){return PD(yFt,e.config.apiKey,e.name)}async function xFt(e,t,n=!1){if(Ph(e.app))return Promise.reject(X0(e));const r=Ck(e),i=wMe(r,t),o=await new vFt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SFt=10*60*1e3;class TFt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CFt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xMe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cf(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SFt&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lme(t))}saveEventToCache(t){this.cachedEventUids.add(Lme(t)),this.lastProcessedEventTime=Date.now()}}function Lme(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xMe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function CFt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xMe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AFt(e,t={}){return qS(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IFt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RFt=/^https?/;async function kFt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AFt(e);for(const n of t)try{if(PFt(n))return}catch{}ip(e,"unauthorized-domain")}function PFt(e){const t=fq(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RFt.test(n))return!1;if(IFt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NFt=new Tk(3e4,6e4);function Fme(){const e=Hh().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function OFt(e){return new Promise((t,n)=>{var r,i,s;function o(){Fme(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fme(),n(cf(e,"network-request-failed"))},timeout:NFt.get()})}if(!((i=(r=Hh().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Hh().gapi)===null||s===void 0)&&s.load)o();else{const a=DLt("iframefcb");return Hh()[a]=()=>{gapi.load?o():n(cf(e,"network-request-failed"))},NLt(`${OLt()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw OD=null,t})}let OD=null;function DFt(e){return OD=OD||OFt(e),OD}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MFt=new Tk(5e3,15e3),$Ft="__/auth/iframe",LFt="emulator/auth/iframe",FFt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jFt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BFt(e){const t=e.config;vn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lee(t,LFt):`https://${e.config.authDomain}/${$Ft}`,r={apiKey:t.apiKey,appName:e.name,v:s_},i=jFt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sk(r).slice(1)}`}async function zFt(e){const t=await DFt(e),n=Hh().gapi;return vn(n,e,"internal-error"),t.open({where:document.body,url:BFt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FFt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cf(e,"network-request-failed"),a=Hh().setTimeout(()=>{s(o)},MFt.get());function l(){Hh().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UFt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VFt=500,HFt=600,qFt="_blank",WFt="http://localhost";class jme{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GFt(e,t,n,r=VFt,i=HFt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UFt),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Zo().toLowerCase();n&&(a=rMe(u)?qFt:n),nMe(u)&&(t=t||WFt,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(xLt(u)&&a!=="_self")return YFt(t||"",a),new jme(null);const d=window.open(t||"",a,c);vn(d,e,"popup-blocked");try{d.focus()}catch{}return new jme(d)}function YFt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KFt="__/auth/handler",XFt="emulator/auth/handler",QFt=encodeURIComponent("fac");async function Bme(e,t,n,r,i,s){vn(e.config.authDomain,e,"auth-domain-config-required"),vn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s_,eventId:i};if(t instanceof zee){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",H$t(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof Ak){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${QFt}=${encodeURIComponent(l)}`:"";return`${JFt(e)}?${Sk(a).slice(1)}${u}`}function JFt({config:e}){return e.emulator?Lee(e,XFt):`https://${e.authDomain}/${KFt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="webStorageSupport";class ZFt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gMe,this._completeRedirectFn=xFt,this._overrideRedirectResult=_Ft}async _openPopup(t,n,r,i){var s;sg((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Bme(t,n,r,fq(),i);return GFt(t,o,Uee())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await Bme(t,n,r,fq(),i);return nFt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(sg(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await zFt(t),r=new TFt(t);return n.register("authEvent",i=>(vn(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(V9,{type:V9},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[V9];o!==void 0&&n(!!o),ip(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kFt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lMe()||jee()||k4()}}const SMe=ZFt;var zme="@firebase/auth",Ume="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6t{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6t(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n6t(e){ig(new rp("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;vn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uMe(e)},u=new kLt(r,i,s,l);return $Lt(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ig(new rp("auth-internal",t=>{const n=Ck(t.getProvider("auth").getImmediate());return(r=>new e6t(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uf(zme,Ume,t6t(e)),uf(zme,Ume,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6t=5*60,i6t=zDe("authIdTokenMaxAge")||r6t;let Vme=null;const s6t=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i6t)return;const i=n==null?void 0:n.token;Vme!==i&&(Vme=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z3(e=Dee()){const t=HS(e,"auth");if(t.isInitialized())return t.getImmediate();const n=MLt(e,{popupRedirectResolver:SMe,persistence:[dFt,ZLt,gMe]}),r=zDe("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=s6t(s.toString());GLt(n,o,()=>o(n.currentUser)),WLt(n,a=>o(a))}}const i=jDe("auth");return i&&LLt(n,`http://${i}`),n}function o6t(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}PLt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=cf("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o6t().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n6t("Browser");var a6t="firebase",l6t="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uf(a6t,l6t,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TMe="firebasestorage.googleapis.com",CMe="storageBucket",u6t=2*60*1e3,c6t=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Sp{constructor(t,n,r=0){super(H9(t),`Firebase Storage: ${n} (${H9(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ms.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return H9(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hs;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hs||(hs={}));function H9(e){return"storage/"+e}function Hee(){const e="An unknown error occurred, please check the error payload for server response.";return new ms(hs.UNKNOWN,e)}function d6t(e){return new ms(hs.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function f6t(e){return new ms(hs.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h6t(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ms(hs.UNAUTHENTICATED,e)}function p6t(){return new ms(hs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m6t(e){return new ms(hs.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function g6t(){return new ms(hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y6t(){return new ms(hs.CANCELED,"User canceled the upload/download.")}function v6t(e){return new ms(hs.INVALID_URL,"Invalid URL '"+e+"'.")}function b6t(e){return new ms(hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function _6t(){return new ms(hs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CMe+"' property when initializing the app?")}function w6t(){return new ms(hs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function E6t(){return new ms(hs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function x6t(e){return new ms(hs.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mq(e){return new ms(hs.INVALID_ARGUMENT,e)}function AMe(){return new ms(hs.APP_DELETED,"The Firebase app was deleted.")}function S6t(e){return new ms(hs.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cA(e,t){return new ms(hs.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function QT(e){throw new ms(hs.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ol.makeFromUrl(t,n)}catch{return new ol(t,"")}if(r.path==="")return r;throw b6t(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===TMe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<_.length;w++){const E=_[w],S=E.regex.exec(t);if(S){const x=S[E.indices.bucket];let T=S[E.indices.path];T||(T=""),r=new ol(x,T),E.postModify(r);break}}if(r==null)throw v6t(t);return r}}class T6t{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6t(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||o){f(),c.call(null,g,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function A6t(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6t(e){return e!==void 0}function R6t(e){return typeof e=="object"&&!Array.isArray(e)}function qee(e){return typeof e=="string"||e instanceof String}function Hme(e){return Wee()&&e instanceof Blob}function Wee(){return typeof Blob<"u"}function gq(e,t,n,r){if(r<t)throw mq(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw mq(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function IMe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H1;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(H1||(H1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6t(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6t{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new KN(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===H1.NO_ERROR,l=s.getStatus();if(!a||k6t(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===H1.ABORT;r(!1,new KN(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new KN(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());I6t(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Hee();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?AMe():y6t();o(l)}else{const l=g6t();o(l)}};this.canceled_?n(!1,new KN(!1,null,!0)):this.backoffId_=C6t(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&A6t(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class KN{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function N6t(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function O6t(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function D6t(e,t){t&&(e["X-Firebase-GMPID"]=t)}function M6t(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function $6t(e,t,n,r,i,s,o=!0){const a=IMe(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return D6t(u,t),N6t(u,n),O6t(u,s),M6t(u,r),new P6t(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6t(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F6t(...e){const t=L6t();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Wee())return new Blob(e);throw new ms(hs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j6t(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6t(e){if(typeof atob>"u")throw x6t("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class q9{constructor(t,n){this.data=t,this.contentType=n||null}}function z6t(e,t){switch(e){case Nh.RAW:return new q9(RMe(t));case Nh.BASE64:case Nh.BASE64URL:return new q9(kMe(e,t));case Nh.DATA_URL:return new q9(V6t(t),H6t(t))}throw Hee()}function RMe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function U6t(e){let t;try{t=decodeURIComponent(e)}catch{throw cA(Nh.DATA_URL,"Malformed data URL.")}return RMe(t)}function kMe(e,t){switch(e){case Nh.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw cA(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nh.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw cA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=B6t(t)}catch(i){throw i.message.includes("polyfill")?i:cA(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class PMe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw cA(Nh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=q6t(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function V6t(e){const t=new PMe(e);return t.base64?kMe(Nh.BASE64,t.rest):U6t(t.rest)}function H6t(e){return new PMe(e).contentType}function q6t(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,n){let r=0,i="";Hme(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Hme(this.data_)){const r=this.data_,i=j6t(r,t,n);return i===null?null:new m0(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new m0(r,!0)}}static getBlob(...t){if(Wee()){const n=t.map(r=>r instanceof m0?r.data_:r);return new m0(F6t.apply(null,n))}else{const n=t.map(o=>qee(o)?z6t(Nh.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new m0(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(e){let t;try{t=JSON.parse(e)}catch{return null}return R6t(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6t(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function G6t(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function NMe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6t(e,t){return t}class Ga{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Y6t}}let XN=null;function K6t(e){return!qee(e)||e.length<2?e:NMe(e)}function OMe(){if(XN)return XN;const e=[];e.push(new Ga("bucket")),e.push(new Ga("generation")),e.push(new Ga("metageneration")),e.push(new Ga("name","fullPath",!0));function t(s,o){return K6t(o)}const n=new Ga("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ga("size");return i.xform=r,e.push(i),e.push(new Ga("timeCreated")),e.push(new Ga("updated")),e.push(new Ga("md5Hash",null,!0)),e.push(new Ga("cacheControl",null,!0)),e.push(new Ga("contentDisposition",null,!0)),e.push(new Ga("contentEncoding",null,!0)),e.push(new Ga("contentLanguage",null,!0)),e.push(new Ga("contentType",null,!0)),e.push(new Ga("metadata","customMetadata",!0)),XN=e,XN}function X6t(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new ol(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Q6t(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return X6t(r,e),r}function DMe(e,t,n){const r=Gee(t);return r===null?null:Q6t(e,r,n)}function J6t(e,t,n,r){const i=Gee(t);if(i===null||!qee(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,d=e.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=Rk(f,n,r),p=IMe({alt:"media",token:u});return h+p})[0]}function Z6t(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme="prefixes",Wme="items";function e4t(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qme])for(const i of n[qme]){const s=i.replace(/\/$/,""),o=e._makeStorageReference(new ol(t,s));r.prefixes.push(o)}if(n[Wme])for(const i of n[Wme]){const s=e._makeStorageReference(new ol(t,i.name));r.items.push(s)}return r}function t4t(e,t,n){const r=Gee(n);return r===null?null:e4t(e,t,r)}class O4{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(e){if(!e)throw Hee()}function n4t(e,t){function n(r,i){const s=DMe(e,i,t);return Yee(s!==null),s}return n}function r4t(e,t){function n(r,i){const s=t4t(e,t,i);return Yee(s!==null),s}return n}function i4t(e,t){function n(r,i){const s=DMe(e,i,t);return Yee(s!==null),J6t(s,i,e.host,e._protocol)}return n}function Kee(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=p6t():i=h6t():n.getStatus()===402?i=f6t(e.bucket):n.getStatus()===403?i=m6t(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function MMe(e){const t=Kee(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=d6t(e.path)),s.serverResponse=i.serverResponse,s}return n}function s4t(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=t.bucketOnlyServerUrl(),a=Rk(o,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,c=new O4(a,l,r4t(e,t.bucket),u);return c.urlParams=s,c.errorHandler=Kee(t),c}function o4t(e,t,n){const r=t.fullServerUrl(),i=Rk(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new O4(i,s,i4t(e,n),o);return a.errorHandler=MMe(t),a}function a4t(e,t){const n=t.fullServerUrl(),r=Rk(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(l,u){}const a=new O4(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=MMe(t),a}function l4t(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function u4t(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=l4t(null,t)),r}function c4t(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=u4t(t,r,i),c=Z6t(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=m0.getBlob(d,r,f);if(h===null)throw w6t();const p={name:u.fullPath},m=Rk(s,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new O4(m,g,n4t(e,n),y);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=Kee(t),v}class d4t{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=H1.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=H1.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=H1.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw QT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QT("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw QT("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw QT("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class f4t extends d4t{initXhr(){this.xhr_.responseType="text"}}function D4(){return new f4t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n){this._service=t,n instanceof ol?this._location=n:this._location=ol.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Eb(t,n)}get root(){const t=new ol(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NMe(this._location.path)}get storage(){return this._service}get parent(){const t=W6t(this._location.path);if(t===null)return null;const n=new ol(this._location.bucket,t);return new Eb(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw S6t(t)}}function h4t(e,t,n){e._throwIfRoot("uploadBytes");const r=c4t(e.storage,e._location,OMe(),new m0(t,!0),n);return e.storage.makeRequestWithTokens(r,D4).then(i=>({metadata:i,ref:e}))}function p4t(e){const t={prefixes:[],items:[]};return $Me(e,t).then(()=>t)}async function $Me(e,t,n){const i=await m4t(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await $Me(e,t,i.nextPageToken)}function m4t(e,t){t!=null&&typeof t.maxResults=="number"&&gq("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=s4t(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,D4)}function g4t(e){e._throwIfRoot("getDownloadURL");const t=o4t(e.storage,e._location,OMe());return e.storage.makeRequestWithTokens(t,D4).then(n=>{if(n===null)throw E6t();return n})}function y4t(e){e._throwIfRoot("deleteObject");const t=a4t(e.storage,e._location);return e.storage.makeRequestWithTokens(t,D4)}function v4t(e,t){const n=G6t(e._location.path,t),r=new ol(e._location.bucket,n);return new Eb(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4t(e){return/^[A-Za-z]+:\/\//.test(e)}function _4t(e,t){return new Eb(e,t)}function LMe(e,t){if(e instanceof Xee){const n=e;if(n._bucket==null)throw _6t();const r=new Eb(n,n._bucket);return t!=null?LMe(r,t):r}else return t!==void 0?v4t(e,t):e}function w4t(e,t){if(t&&b4t(t)){if(e instanceof Xee)return _4t(e,t);throw mq("To use ref(service, url), the first argument must be a Storage instance.")}else return LMe(e,t)}function Gme(e,t){const n=t==null?void 0:t[CMe];return n==null?null:ol.makeFromBucketSpec(n,e)}function E4t(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:O$t(i,e.app.options.projectId))}class Xee{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=TMe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u6t,this._maxUploadRetryTime=c6t,this._requests=new Set,i!=null?this._bucket=ol.makeFromBucketSpec(i,this._host):this._bucket=Gme(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ol.makeFromBucketSpec(this._url,t):this._bucket=Gme(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gq("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gq("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Eb(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new T6t(AMe());{const o=$6t(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Yme="@firebase/storage",Kme="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FMe="storage";function Ov(e,t,n){return e=wi(e),h4t(e,t,n)}function JT(e){return e=wi(e),p4t(e)}function Dv(e){return e=wi(e),g4t(e)}function Xme(e){return e=wi(e),y4t(e)}function pi(e,t){return e=wi(e),w4t(e,t)}function W_(e=Dee(),t){e=wi(e);const r=HS(e,FMe).getImmediate({identifier:t}),i=N$t("storage");return i&&x4t(r,...i),r}function x4t(e,t,n,r={}){E4t(e,t,n,r)}function S4t(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Xee(n,r,i,t,s_)}function T4t(){ig(new rp(FMe,S4t,"PUBLIC").setMultipleInstances(!0)),uf(Yme,Kme,""),uf(Yme,Kme,"esm2017")}T4t();var Qme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q1,jMe;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(P,k,D){for(var R=Array(arguments.length-2),M=2;M<arguments.length;M++)R[M-2]=arguments[M];return T.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)P[k]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(k=0;16>k;++k)P[k]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],k=x.g[2];var D=x.g[3],R=T+(D^I&(k^D))+P[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=D+(k^T&(I^k))+P[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(I^D&(T^I))+P[2]+606105819&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(T^k&(D^T))+P[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(D^I&(k^D))+P[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(k^T&(I^k))+P[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(I^D&(T^I))+P[6]+2821735955&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(T^k&(D^T))+P[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(D^I&(k^D))+P[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(k^T&(I^k))+P[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(I^D&(T^I))+P[10]+4294925233&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(T^k&(D^T))+P[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(D^I&(k^D))+P[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(k^T&(I^k))+P[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=k+(I^D&(T^I))+P[14]+2792965006&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(T^k&(D^T))+P[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(k^D&(I^k))+P[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(T^I))+P[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(D^T))+P[11]+643717713&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(k^D))+P[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(k^D&(I^k))+P[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(T^I))+P[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(D^T))+P[15]+3634488961&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(k^D))+P[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(k^D&(I^k))+P[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(T^I))+P[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(D^T))+P[3]+4107603335&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(k^D))+P[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(k^D&(I^k))+P[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(T^I))+P[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(D^T))+P[7]+1735328473&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(k^D))+P[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(I^k^D)+P[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^k)+P[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^I)+P[11]+1839030562&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^T)+P[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(I^k^D)+P[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^k)+P[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^I)+P[7]+4139469664&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^T)+P[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(I^k^D)+P[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^k)+P[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^I)+P[3]+3572445317&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^T)+P[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(I^k^D)+P[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^k)+P[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=k+(D^T^I)+P[15]+530742520&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^T)+P[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(k^(I|~D))+P[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~k))+P[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~I))+P[14]+2878612391&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~T))+P[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=T+(k^(I|~D))+P[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~k))+P[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~I))+P[10]+4293915773&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~T))+P[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=T+(k^(I|~D))+P[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~k))+P[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~I))+P[6]+2734768916&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~T))+P[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=T+(k^(I|~D))+P[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~k))+P[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=k+(T^(D|~I))+P[2]+718787259&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~T))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,P=this.B,k=this.h,D=0;D<T;){if(k==0)for(;D<=I;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<T;)if(P[k++]=x.charCodeAt(D++),k==this.blockSize){i(this,P),k=0;break}}else for(;D<T;)if(P[k++]=x[D++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)x[I++]=this.g[T]>>>P&255;return x};function s(x,T){var I=a;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function o(x,T){this.h=T;for(var I=[],P=!0,k=x.length-1;0<=k;k--){var D=x[k]|0;P&&D==T||(I[k]=D,P=!1)}this.g=I}var a={};function l(x){return-128<=x&&128>x?s(x,function(T){return new o([T|0],0>T?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return d;if(0>x)return g(u(-x));for(var T=[],I=1,P=0;x>=I;P++)T[P]=x/I|0,I*=4294967296;return new o(T,0)}function c(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return g(c(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),P=d,k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k),R=parseInt(x.substring(k,k+D),T);8>D?(D=u(Math.pow(T,D)),P=P.j(D).add(u(R))):(P=P.j(I),P=P.add(u(R)))}return P}var d=l(0),f=l(1),h=l(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);x+=(0<=P?P:4294967296+P)*T,T*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(p(this))return"0";if(m(this))return"-"+g(this).toString(x);for(var T=u(Math.pow(x,6)),I=this,P="";;){var k=w(I,T).g;I=y(I,k.j(T));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=k,p(I))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function p(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function m(x){return x.h==-1}e.l=function(x){return x=y(this,x),m(x)?-1:p(x)?0:1};function g(x){for(var T=x.g.length,I=[],P=0;P<T;P++)I[P]=~x.g[P];return new o(I,~x.h).add(f)}e.abs=function(){return m(this)?g(this):this},e.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0,k=0;k<=T;k++){var D=P+(this.i(k)&65535)+(x.i(k)&65535),R=(D>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);P=R>>>16,D&=65535,R&=65535,I[k]=R<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(x,T){return x.add(g(T))}e.j=function(x){if(p(this)||p(x))return d;if(m(this))return m(x)?g(this).j(g(x)):g(g(this).j(x));if(m(x))return g(this.j(g(x)));if(0>this.l(h)&&0>x.l(h))return u(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<x.g.length;k++){var D=this.i(P)>>>16,R=this.i(P)&65535,M=x.i(k)>>>16,$=x.i(k)&65535;I[2*P+2*k]+=R*$,v(I,2*P+2*k),I[2*P+2*k+1]+=D*$,v(I,2*P+2*k+1),I[2*P+2*k+1]+=R*M,v(I,2*P+2*k+1),I[2*P+2*k+2]+=D*M,v(I,2*P+2*k+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new o(I,0)};function v(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function _(x,T){this.g=x,this.h=T}function w(x,T){if(p(T))throw Error("division by zero");if(p(x))return new _(d,d);if(m(x))return T=w(g(x),T),new _(g(T.g),g(T.h));if(m(T))return T=w(x,g(T)),new _(g(T.g),T.h);if(30<x.g.length){if(m(x)||m(T))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=T;0>=P.l(x);)I=E(I),P=E(P);var k=S(I,1),D=S(P,1);for(P=S(P,2),I=S(I,2);!p(P);){var R=D.add(P);0>=R.l(x)&&(k=k.add(I),D=R),P=S(P,1),I=S(I,1)}return T=y(x,k.j(T)),new _(k,T)}for(k=d;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(I),R=D.j(T);m(R)||0<R.l(x);)I-=P,D=u(I),R=D.j(T);p(D)&&(D=f),k=k.add(D),x=y(x,R)}return new _(k,x)}e.A=function(x){return w(this,x).h},e.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&x.i(P);return new o(I,this.h&x.h)},e.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|x.i(P);return new o(I,this.h|x.h)},e.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^x.i(P);return new o(I,this.h^x.h)};function E(x){for(var T=x.g.length+1,I=[],P=0;P<T;P++)I[P]=x.i(P)<<1|x.i(P-1)>>>31;return new o(I,x.h)}function S(x,T){var I=T>>5;T%=32;for(var P=x.g.length-I,k=[],D=0;D<P;D++)k[D]=0<T?x.i(D+I)>>>T|x.i(D+I+1)<<32-T:x.i(D+I);return new o(k,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jMe=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,q1=o}).apply(typeof Qme<"u"?Qme:typeof self<"u"?self:typeof window<"u"?window:{});var QN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BMe,zMe,i2,UMe,DD,yq,VMe,HMe,qMe;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(C,j,q){return C==Array.prototype||C==Object.prototype||(C[j]=q.value),C};function n(C){C=[typeof globalThis=="object"&&globalThis,C,typeof window=="object"&&window,typeof self=="object"&&self,typeof QN=="object"&&QN];for(var j=0;j<C.length;++j){var q=C[j];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(C,j){if(j)e:{var q=r;C=C.split(".");for(var J=0;J<C.length-1;J++){var Te=C[J];if(!(Te in q))break e;q=q[Te]}C=C[C.length-1],J=q[C],j=j(J),j!=J&&j!=null&&t(q,C,{configurable:!0,writable:!0,value:j})}}function s(C,j){C instanceof String&&(C+="");var q=0,J=!1,Te={next:function(){if(!J&&q<C.length){var $e=q++;return{value:j($e,C[$e]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}i("Array.prototype.values",function(C){return C||function(){return s(this,function(j,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(C){var j=typeof C;return j=j!="object"?j:C?Array.isArray(C)?"array":j:"null",j=="array"||j=="object"&&typeof C.length=="number"}function u(C){var j=typeof C;return j=="object"&&C!=null||j=="function"}function c(C,j,q){return C.call.apply(C.bind,arguments)}function d(C,j,q){if(!C)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,J),C.apply(j,Te)}}return function(){return C.apply(j,arguments)}}function f(C,j,q){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(C,j){var q=Array.prototype.slice.call(arguments,1);return function(){var J=q.slice();return J.push.apply(J,arguments),C.apply(this,J)}}function p(C,j){function q(){}q.prototype=j.prototype,C.aa=j.prototype,C.prototype=new q,C.prototype.constructor=C,C.Qb=function(J,Te,$e){for(var gt=Array(arguments.length-2),li=2;li<arguments.length;li++)gt[li-2]=arguments[li];return j.prototype[Te].apply(J,gt)}}function m(C){const j=C.length;if(0<j){const q=Array(j);for(let J=0;J<j;J++)q[J]=C[J];return q}return[]}function g(C,j){for(let q=1;q<arguments.length;q++){const J=arguments[q];if(l(J)){const Te=C.length||0,$e=J.length||0;C.length=Te+$e;for(let gt=0;gt<$e;gt++)C[Te+gt]=J[gt]}else C.push(J)}}class y{constructor(j,q){this.i=j,this.j=q,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function v(C){return/^[\s\xa0]*$/.test(C)}function _(){var C=a.navigator;return C&&(C=C.userAgent)?C:""}function w(C){return w[" "](C),C}w[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function S(C,j,q){for(const J in C)j.call(q,C[J],J,C)}function x(C,j){for(const q in C)j.call(void 0,C[q],q,C)}function T(C){const j={};for(const q in C)j[q]=C[q];return j}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(C,j){let q,J;for(let Te=1;Te<arguments.length;Te++){J=arguments[Te];for(q in J)C[q]=J[q];for(let $e=0;$e<I.length;$e++)q=I[$e],Object.prototype.hasOwnProperty.call(J,q)&&(C[q]=J[q])}}function k(C){var j=1;C=C.split(":");const q=[];for(;0<j&&C.length;)q.push(C.shift()),j--;return C.length&&q.push(C.join(":")),q}function D(C){a.setTimeout(()=>{throw C},0)}function R(){var C=U;let j=null;return C.g&&(j=C.g,C.g=C.g.next,C.g||(C.h=null),j.next=null),j}class M{constructor(){this.h=this.g=null}add(j,q){const J=$.get();J.set(j,q),this.h?this.h.next=J:this.g=J,this.h=J}}var $=new y(()=>new L,C=>C.reset());class L{constructor(){this.next=this.g=this.h=null}set(j,q){this.h=j,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let B,z=!1,U=new M,N=()=>{const C=a.Promise.resolve(void 0);B=()=>{C.then(V)}};var V=()=>{for(var C;C=R();){try{C.h.call(C.g)}catch(q){D(q)}var j=$;j.j(C),100>j.h&&(j.h++,C.next=j.g,j.g=C)}z=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(C,j){this.type=C,this.g=this.target=j,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var C=!1,j=Object.defineProperty({},"passive",{get:function(){C=!0}});try{const q=()=>{};a.addEventListener("test",q,j),a.removeEventListener("test",q,j)}catch{}return C}();function G(C,j){if(F.call(this,C?C.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,C){var q=this.type=C.type,J=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.g=j,j=C.relatedTarget){if(E){e:{try{w(j.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(j=null)}}else q=="mouseover"?j=C.fromElement:q=="mouseout"&&(j=C.toElement);this.relatedTarget=j,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType=typeof C.pointerType=="string"?C.pointerType:X[C.pointerType]||"",this.state=C.state,this.i=C,C.defaultPrevented&&G.aa.h.call(this)}}p(G,F);var X={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var C=this.i;C.preventDefault?C.preventDefault():C.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(C,j,q,J,Te){this.listener=C,this.proxy=null,this.src=j,this.type=q,this.capture=!!J,this.ha=Te,this.key=++oe,this.da=this.fa=!1}function le(C){C.da=!0,C.listener=null,C.proxy=null,C.src=null,C.ha=null}function Se(C){this.src=C,this.g={},this.h=0}Se.prototype.add=function(C,j,q,J,Te){var $e=C.toString();C=this.g[$e],C||(C=this.g[$e]=[],this.h++);var gt=De(C,j,J,Te);return-1<gt?(j=C[gt],q||(j.fa=!1)):(j=new se(j,this.src,$e,!!J,Te),j.fa=q,C.push(j)),j};function de(C,j){var q=j.type;if(q in C.g){var J=C.g[q],Te=Array.prototype.indexOf.call(J,j,void 0),$e;($e=0<=Te)&&Array.prototype.splice.call(J,Te,1),$e&&(le(j),C.g[q].length==0&&(delete C.g[q],C.h--))}}function De(C,j,q,J){for(var Te=0;Te<C.length;++Te){var $e=C[Te];if(!$e.da&&$e.listener==j&&$e.capture==!!q&&$e.ha==J)return Te}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Be={};function je(C,j,q,J,Te){if(Array.isArray(j)){for(var $e=0;$e<j.length;$e++)je(C,j[$e],q,J,Te);return null}return q=pt(q),C&&C[ie]?C.K(j,q,u(J)?!!J.capture:!!J,Te):me(C,j,q,!1,J,Te)}function me(C,j,q,J,Te,$e){if(!j)throw Error("Invalid event type");var gt=u(Te)?!!Te.capture:!!Te,li=_e(C);if(li||(C[Fe]=li=new Se(C)),q=li.add(j,q,J,gt,$e),q.proxy)return q;if(J=ne(),q.proxy=J,J.src=C,J.listener=q,C.addEventListener)H||(Te=gt),Te===void 0&&(Te=!1),C.addEventListener(j.toString(),J,Te);else if(C.attachEvent)C.attachEvent(Je(j.toString()),J);else if(C.addListener&&C.removeListener)C.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return q}function ne(){function C(q){return j.call(C.src,C.listener,q)}const j=qe;return C}function Ee(C,j,q,J,Te){if(Array.isArray(j))for(var $e=0;$e<j.length;$e++)Ee(C,j[$e],q,J,Te);else J=u(J)?!!J.capture:!!J,q=pt(q),C&&C[ie]?(C=C.i,j=String(j).toString(),j in C.g&&($e=C.g[j],q=De($e,q,J,Te),-1<q&&(le($e[q]),Array.prototype.splice.call($e,q,1),$e.length==0&&(delete C.g[j],C.h--)))):C&&(C=_e(C))&&(j=C.g[j.toString()],C=-1,j&&(C=De(j,q,J,Te)),(q=-1<C?j[C]:null)&&Pe(q))}function Pe(C){if(typeof C!="number"&&C&&!C.da){var j=C.src;if(j&&j[ie])de(j.i,C);else{var q=C.type,J=C.proxy;j.removeEventListener?j.removeEventListener(q,J,C.capture):j.detachEvent?j.detachEvent(Je(q),J):j.addListener&&j.removeListener&&j.removeListener(J),(q=_e(j))?(de(q,C),q.h==0&&(q.src=null,j[Fe]=null)):le(C)}}}function Je(C){return C in Be?Be[C]:Be[C]="on"+C}function qe(C,j){if(C.da)C=!0;else{j=new G(j,this);var q=C.listener,J=C.ha||C.src;C.fa&&Pe(C),C=q.call(J,j)}return C}function _e(C){return C=C[Fe],C instanceof Se?C:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(C){return typeof C=="function"?C:(C[Qe]||(C[Qe]=function(j){return C.handleEvent(j)}),C[Qe])}function ye(){W.call(this),this.i=new Se(this),this.M=this,this.F=null}p(ye,W),ye.prototype[ie]=!0,ye.prototype.removeEventListener=function(C,j,q,J){Ee(this,C,j,q,J)};function ke(C,j){var q,J=C.F;if(J)for(q=[];J;J=J.F)q.push(J);if(C=C.M,J=j.type||j,typeof j=="string")j=new F(j,C);else if(j instanceof F)j.target=j.target||C;else{var Te=j;j=new F(J,C),P(j,Te)}if(Te=!0,q)for(var $e=q.length-1;0<=$e;$e--){var gt=j.g=q[$e];Te=Ge(gt,J,!0,j)&&Te}if(gt=j.g=C,Te=Ge(gt,J,!0,j)&&Te,Te=Ge(gt,J,!1,j)&&Te,q)for($e=0;$e<q.length;$e++)gt=j.g=q[$e],Te=Ge(gt,J,!1,j)&&Te}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var C=this.i,j;for(j in C.g){for(var q=C.g[j],J=0;J<q.length;J++)le(q[J]);delete C.g[j],C.h--}}this.F=null},ye.prototype.K=function(C,j,q,J){return this.i.add(String(C),j,!1,q,J)},ye.prototype.L=function(C,j,q,J){return this.i.add(String(C),j,!0,q,J)};function Ge(C,j,q,J){if(j=C.i.g[String(j)],!j)return!0;j=j.concat();for(var Te=!0,$e=0;$e<j.length;++$e){var gt=j[$e];if(gt&&!gt.da&&gt.capture==q){var li=gt.listener,Io=gt.ha||gt.src;gt.fa&&de(C.i,gt),Te=li.call(Io,J)!==!1&&Te}}return Te&&!J.defaultPrevented}function Ke(C,j,q){if(typeof C=="function")q&&(C=f(C,q));else if(C&&typeof C.handleEvent=="function")C=f(C.handleEvent,C);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:a.setTimeout(C,j||0)}function xt(C){C.g=Ke(()=>{C.g=null,C.i&&(C.i=!1,xt(C))},C.l);const j=C.h;C.h=null,C.m.apply(null,j)}class Cn extends W{constructor(j,q){super(),this.m=j,this.l=q,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(C){W.call(this),this.h=C,this.g={}}p(gr,W);var yr=[];function kr(C){S(C.g,function(j,q){this.g.hasOwnProperty(q)&&Pe(j)},C),C.g={}}gr.prototype.N=function(){gr.aa.N.call(this),kr(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=a.JSON.stringify,Dn=a.JSON.parse,rr=class{stringify(C){return a.JSON.stringify(C,void 0)}parse(C){return a.JSON.parse(C,void 0)}};function ir(){}ir.prototype.h=null;function ao(C){return C.h||(C.h=C.i())}function Oi(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){F.call(this,"d")}p(Un,F);function Wn(){F.call(this,"c")}p(Wn,F);var Zi={},wd=null;function Va(){return wd=wd||new ye}Zi.La="serverreachability";function mc(C){F.call(this,Zi.La,C)}p(mc,F);function mt(C){const j=Va();ke(j,new mc(j))}Zi.STAT_EVENT="statevent";function fi(C,j){F.call(this,Zi.STAT_EVENT,C),this.stat=j}p(fi,F);function wn(C){const j=Va();ke(j,new fi(j,C))}Zi.Ma="timingevent";function $r(C,j){F.call(this,Zi.Ma,C),this.size=j}p($r,F);function ri(C,j){if(typeof C!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){C()},j)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function ce(C,j,q,J,Te,$e){C.info(function(){if(C.g)if($e)for(var gt="",li=$e.split("&"),Io=0;Io<li.length;Io++){var Sr=li[Io].split("=");if(1<Sr.length){var aa=Sr[0];Sr=Sr[1];var la=aa.split("_");gt=2<=la.length&&la[1]=="type"?gt+(aa+"="+Sr+"&"):gt+(aa+"=redacted&")}}else gt=null;else gt=$e;return"XMLHTTP REQ ("+J+") [attempt "+Te+"]: "+j+`
`+q+`
`+gt})}function te(C,j,q,J,Te,$e,gt){C.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Te+"]: "+j+`
`+q+`
`+$e+" "+gt})}function he(C,j,q,J){C.info(function(){return"XMLHTTP TEXT ("+j+"): "+Re(C,q)+(J?" "+J:"")})}function Ie(C,j){C.info(function(){return"TIMEOUT: "+j})}ii.prototype.info=function(){};function Re(C,j){if(!C.g)return j;if(!j)return null;try{var q=JSON.parse(j);if(q){for(C=0;C<q.length;C++)if(Array.isArray(q[C])){var J=q[C];if(!(2>J.length)){var Te=J[1];if(Array.isArray(Te)&&!(1>Te.length)){var $e=Te[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(var gt=1;gt<Te.length;gt++)Te[gt]=""}}}}return Xt(q)}catch{return j}}var dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rn;function Gn(){}p(Gn,ir),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},rn=new Gn;function Qn(C,j,q,J){this.j=C,this.i=j,this.l=q,this.R=J||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new An}function An(){this.i=null,this.g="",this.h=!1}var vr={},zr={};function Qt(C,j,q){C.L=1,C.v=Jn(et(j)),C.m=q,C.P=!0,br(C,null)}function br(C,j){C.F=Date.now(),Vi(C),C.A=et(C.v);var q=C.A,J=C.R;Array.isArray(J)||(J=[String(J)]),CP(q.i,"t",J),C.C=0,q=C.j.J,C.h=new An,C.g=Hoe(C.j,q?j:null,!C.m),0<C.O&&(C.M=new Cn(f(C.Y,C,C.g),C.O)),j=C.U,q=C.g,J=C.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(yr[0]=Te.toString()),Te=yr);for(var $e=0;$e<Te.length;$e++){var gt=je(q,Te[$e],J||j.handleEvent,!1,j.h||j);if(!gt)break;j.g[gt.key]=gt}j=C.H?T(C.H):{},C.m?(C.u||(C.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",C.g.ea(C.A,C.u,C.m,j)):(C.u="GET",C.g.ea(C.A,C.u,null,j)),mt(),ce(C.i,C.u,C.A,C.l,C.R,C.m)}Qn.prototype.ca=function(C){C=C.target;const j=this.M;j&&gs(C)==3?j.j():this.Y(C)},Qn.prototype.Y=function(C){try{if(C==this.g)e:{const la=gs(this.g);var j=this.g.Ba();const I_=this.g.Z();if(!(3>la)&&(la!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||la!=4||j==7||(j==8||0>=I_?mt(3):mt(2)),hi(this);var q=this.g.Z();this.X=q;t:if(si(this)){var J=oa(this.g);C="";var Te=J.length,$e=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Ao(this);var gt="";break t}this.h.i=new a.TextDecoder}for(j=0;j<Te;j++)this.h.h=!0,C+=this.h.i.decode(J[j],{stream:!($e&&j==Te-1)});J.length=0,this.h.g+=C,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=q==200,te(this.i,this.u,this.A,this.l,this.R,la,q),this.o){if(this.T&&!this.K){t:{if(this.g){var li,Io=this.g;if((li=Io.g?Io.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(li)){var Sr=li;break t}}Sr=null}if(q=Sr)he(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,q);else{this.o=!1,this.s=3,wn(12),es(this),Ao(this);break e}}if(this.P){q=!0;let Ed;for(;!this.J&&this.C<gt.length;)if(Ed=dr(this,gt),Ed==zr){la==4&&(this.s=4,wn(14),q=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(Ed==vr){this.s=4,wn(15),he(this.i,this.l,gt,"[Invalid Chunk]"),q=!1;break}else he(this.i,this.l,Ed,null),ts(this,Ed);if(si(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),la!=4||gt.length!=0||this.h.h||(this.s=1,wn(16),q=!1),this.o=this.o&&q,!q)he(this.i,this.l,gt,"[Invalid Chunked Response]"),es(this),Ao(this);else if(0<gt.length&&!this.W){this.W=!0;var aa=this.j;aa.g==this&&aa.ba&&!aa.M&&(aa.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),i8(aa),aa.M=!0,wn(11))}}else he(this.i,this.l,gt,null),ts(this,gt);la==4&&es(this),this.o&&!this.J&&(la==4?Boe(this.j,this):(this.o=!1,Vi(this)))}else Rv(this.g),q==400&&0<gt.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),es(this),Ao(this)}}}catch{}finally{}};function si(C){return C.g?C.u=="GET"&&C.L!=2&&C.j.Ca:!1}function dr(C,j){var q=C.C,J=j.indexOf(`
`,q);return J==-1?zr:(q=Number(j.substring(q,J)),isNaN(q)?vr:(J+=1,J+q>j.length?zr:(j=j.slice(J,J+q),C.C=J+q,j)))}Qn.prototype.cancel=function(){this.J=!0,es(this)};function Vi(C){C.S=Date.now()+C.I,lo(C,C.I)}function lo(C,j){if(C.B!=null)throw Error("WatchDog timer not null");C.B=ri(f(C.ba,C),j)}function hi(C){C.B&&(a.clearTimeout(C.B),C.B=null)}Qn.prototype.ba=function(){this.B=null;const C=Date.now();0<=C-this.S?(Ie(this.i,this.A),this.L!=2&&(mt(),wn(17)),es(this),this.s=2,Ao(this)):lo(this,this.S-C)};function Ao(C){C.j.G==0||C.J||Boe(C.j,C)}function es(C){hi(C);var j=C.M;j&&typeof j.ma=="function"&&j.ma(),C.M=null,kr(C.U),C.g&&(j=C.g,C.g=null,j.abort(),j.ma())}function ts(C,j){try{var q=C.j;if(q.G!=0&&(q.g==C||Gf(q.h,C))){if(!C.K&&Gf(q.h,C)&&q.G==3){try{var J=q.Da.g.parse(j)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Te=J;if(Te[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<C.F)OP(q),PP(q);else break e;r8(q),wn(18)}}else q.za=Te[1],0<q.za-q.T&&37500>Te[2]&&q.F&&q.v==0&&!q.C&&(q.C=ri(f(q.Za,q),6e3));if(1>=gc(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else kv(q,11)}else if((C.K||q.g==C)&&OP(q),!v(j))for(Te=q.Da.g.parse(j),j=0;j<Te.length;j++){let Sr=Te[j];if(q.T=Sr[0],Sr=Sr[1],q.G==2)if(Sr[0]=="c"){q.K=Sr[1],q.ia=Sr[2];const aa=Sr[3];aa!=null&&(q.la=aa,q.j.info("VER="+q.la));const la=Sr[4];la!=null&&(q.Aa=la,q.j.info("SVER="+q.Aa));const I_=Sr[5];I_!=null&&typeof I_=="number"&&0<I_&&(J=1.5*I_,q.L=J,q.j.info("backChannelRequestTimeoutMs_="+J)),J=q;const Ed=C.g;if(Ed){const MP=Ed.g?Ed.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(MP){var $e=J.h;$e.g||MP.indexOf("spdy")==-1&&MP.indexOf("quic")==-1&&MP.indexOf("h2")==-1||($e.j=$e.l,$e.g=new Set,$e.h&&(Y($e,$e.h),$e.h=null))}if(J.D){const s8=Ed.g?Ed.g.getResponseHeader("X-HTTP-Session-Id"):null;s8&&(J.ya=s8,Lt(J.I,J.D,s8))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-C.F,q.j.info("Handshake RTT: "+q.R+"ms")),J=q;var gt=C;if(J.qa=Voe(J,J.J?J.ia:null,J.W),gt.K){fe(J.h,gt);var li=gt,Io=J.L;Io&&(li.I=Io),li.B&&(hi(li),Vi(li)),J.g=gt}else Foe(J);0<q.i.length&&NP(q)}else Sr[0]!="stop"&&Sr[0]!="close"||kv(q,7);else q.G==3&&(Sr[0]=="stop"||Sr[0]=="close"?Sr[0]=="stop"?kv(q,7):C_(q):Sr[0]!="noop"&&q.l&&q.l.ta(Sr),q.v=0)}}mt(4)}catch{}}var ia=class{constructor(C,j){this.g=C,this.map=j}};function Ha(C){this.l=C||10,a.PerformanceNavigationTiming?(C=a.performance.getEntriesByType("navigation"),C=0<C.length&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=C?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uo(C){return C.h?!0:C.g?C.g.size>=C.j:!1}function gc(C){return C.h?1:C.g?C.g.size:0}function Gf(C,j){return C.h?C.h==j:C.g?C.g.has(j):!1}function Y(C,j){C.g?C.g.add(j):C.h=j}function fe(C,j){C.h&&C.h==j?C.h=null:C.g&&C.g.has(j)&&C.g.delete(j)}Ha.prototype.cancel=function(){if(this.i=ee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const C of this.g.values())C.cancel();this.g.clear()}};function ee(C){if(C.h!=null)return C.i.concat(C.h.D);if(C.g!=null&&C.g.size!==0){let j=C.i;for(const q of C.g.values())j=j.concat(q.D);return j}return m(C.i)}function ve(C){if(C.V&&typeof C.V=="function")return C.V();if(typeof Map<"u"&&C instanceof Map||typeof Set<"u"&&C instanceof Set)return Array.from(C.values());if(typeof C=="string")return C.split("");if(l(C)){for(var j=[],q=C.length,J=0;J<q;J++)j.push(C[J]);return j}j=[],q=0;for(J in C)j[q++]=C[J];return j}function we(C){if(C.na&&typeof C.na=="function")return C.na();if(!C.V||typeof C.V!="function"){if(typeof Map<"u"&&C instanceof Map)return Array.from(C.keys());if(!(typeof Set<"u"&&C instanceof Set)){if(l(C)||typeof C=="string"){var j=[];C=C.length;for(var q=0;q<C;q++)j.push(q);return j}j=[],q=0;for(const J in C)j[q++]=J;return j}}}function ge(C,j){if(C.forEach&&typeof C.forEach=="function")C.forEach(j,void 0);else if(l(C)||typeof C=="string")Array.prototype.forEach.call(C,j,void 0);else for(var q=we(C),J=ve(C),Te=J.length,$e=0;$e<Te;$e++)j.call(void 0,J[$e],q&&q[$e],C)}var ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(C,j){if(C){C=C.split("&");for(var q=0;q<C.length;q++){var J=C[q].indexOf("="),Te=null;if(0<=J){var $e=C[q].substring(0,J);Te=C[q].substring(J+1)}else $e=C[q];j($e,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function Ze(C){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,C instanceof Ze){this.h=C.h,ct(this,C.j),this.o=C.o,this.g=C.g,At(this,C.s),this.l=C.l;var j=C.i,q=new yc;q.i=j.i,j.g&&(q.g=new Map(j.g),q.h=j.h),In(this,q),this.m=C.m}else C&&(j=String(C).match(ze))?(this.h=!1,ct(this,j[1]||"",!0),this.o=Ur(j[2]||""),this.g=Ur(j[3]||"",!0),At(this,j[4]),this.l=Ur(j[5]||"",!0),In(this,j[6]||"",!0),this.m=Ur(j[7]||"")):(this.h=!1,this.i=new yc(null,this.h))}Ze.prototype.toString=function(){var C=[],j=this.j;j&&C.push(Vr(j,Yf,!0),":");var q=this.g;return(q||j=="file")&&(C.push("//"),(j=this.o)&&C.push(Vr(j,Yf,!0),"@"),C.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&C.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&C.push("/"),C.push(Vr(q,q.charAt(0)=="/"?vT:$p,!0))),(q=this.i.toString())&&C.push("?",q),(q=this.m)&&C.push("#",Vr(q,TP)),C.join("")};function et(C){return new Ze(C)}function ct(C,j,q){C.j=q?Ur(j,!0):j,C.j&&(C.j=C.j.replace(/:$/,""))}function At(C,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);C.s=j}else C.s=null}function In(C,j,q){j instanceof yc?(C.i=j,bT(C.i,C.h)):(q||(j=Vr(j,Tv)),C.i=new yc(j,C.h))}function Lt(C,j,q){C.i.set(j,q)}function Jn(C){return Lt(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),C}function Ur(C,j){return C?j?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function Vr(C,j,q){return typeof C=="string"?(C=encodeURI(C).replace(j,sa),q&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function sa(C){return C=C.charCodeAt(0),"%"+(C>>4&15).toString(16)+(C&15).toString(16)}var Yf=/[#\/\?@]/g,$p=/[#\?:]/g,vT=/[#\?]/g,Tv=/[#\?@]/g,TP=/#/g;function yc(C,j){this.h=this.g=null,this.i=C||null,this.j=!!j}function Al(C){C.g||(C.g=new Map,C.h=0,C.i&&Xe(C.i,function(j,q){C.add(decodeURIComponent(j.replace(/\+/g," ")),q)}))}e=yc.prototype,e.add=function(C,j){Al(this),this.i=null,C=Fp(this,C);var q=this.g.get(C);return q||this.g.set(C,q=[]),q.push(j),this.h+=1,this};function Lp(C,j){Al(C),j=Fp(C,j),C.g.has(j)&&(C.i=null,C.h-=C.g.get(j).length,C.g.delete(j))}function S_(C,j){return Al(C),j=Fp(C,j),C.g.has(j)}e.forEach=function(C,j){Al(this),this.g.forEach(function(q,J){q.forEach(function(Te){C.call(j,Te,J,this)},this)},this)},e.na=function(){Al(this);const C=Array.from(this.g.values()),j=Array.from(this.g.keys()),q=[];for(let J=0;J<j.length;J++){const Te=C[J];for(let $e=0;$e<Te.length;$e++)q.push(j[J])}return q},e.V=function(C){Al(this);let j=[];if(typeof C=="string")S_(this,C)&&(j=j.concat(this.g.get(Fp(this,C))));else{C=Array.from(this.g.values());for(let q=0;q<C.length;q++)j=j.concat(C[q])}return j},e.set=function(C,j){return Al(this),this.i=null,C=Fp(this,C),S_(this,C)&&(this.h-=this.g.get(C).length),this.g.set(C,[j]),this.h+=1,this},e.get=function(C,j){return C?(C=this.V(C),0<C.length?String(C[0]):j):j};function CP(C,j,q){Lp(C,j),0<q.length&&(C.i=null,C.g.set(Fp(C,j),m(q)),C.h+=q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const C=[],j=Array.from(this.g.keys());for(var q=0;q<j.length;q++){var J=j[q];const $e=encodeURIComponent(String(J)),gt=this.V(J);for(J=0;J<gt.length;J++){var Te=$e;gt[J]!==""&&(Te+="="+encodeURIComponent(String(gt[J]))),C.push(Te)}}return this.i=C.join("&")};function Fp(C,j){return j=String(j),C.j&&(j=j.toLowerCase()),j}function bT(C,j){j&&!C.j&&(Al(C),C.i=null,C.g.forEach(function(q,J){var Te=J.toLowerCase();J!=Te&&(Lp(this,J),CP(this,Te,q))},C)),C.j=j}function AP(C,j){const q=new ii;if(a.Image){const J=new Image;J.onload=h(Il,q,"TestLoadImage: loaded",!0,j,J),J.onerror=h(Il,q,"TestLoadImage: error",!1,j,J),J.onabort=h(Il,q,"TestLoadImage: abort",!1,j,J),J.ontimeout=h(Il,q,"TestLoadImage: timeout",!1,j,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=C}else j(!1)}function jp(C,j){const q=new ii,J=new AbortController,Te=setTimeout(()=>{J.abort(),Il(q,"TestPingServer: timeout",!1,j)},1e4);fetch(C,{signal:J.signal}).then($e=>{clearTimeout(Te),$e.ok?Il(q,"TestPingServer: ok",!0,j):Il(q,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Te),Il(q,"TestPingServer: error",!1,j)})}function Il(C,j,q,J,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),J(q)}catch{}}function n8(){this.g=new rr}function IP(C,j,q){const J=q||"";try{ge(C,function(Te,$e){let gt=Te;u(Te)&&(gt=Xt(Te)),j.push(J+$e+"="+encodeURIComponent(gt))})}catch(Te){throw j.push(J+"type="+encodeURIComponent("_badmap")),Te}}function Cv(C){this.l=C.Ub||null,this.j=C.eb||!1}p(Cv,ir),Cv.prototype.g=function(){return new Av(this.l,this.j)},Cv.prototype.i=function(C){return function(){return C}}({});function Av(C,j){ye.call(this),this.D=C,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Av,ye),e=Av.prototype,e.open=function(C,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=C,this.A=j,this.readyState=1,Ng(this)},e.send=function(C){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};C&&(j.body=C),(this.D||a).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Iv(this)),this.readyState=0},e.Sa=function(C){if(this.g&&(this.l=C,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=C.headers,this.readyState=2,Ng(this)),this.g&&(this.readyState=3,Ng(this),this.g)))if(this.responseType==="arraybuffer")C.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in C){if(this.j=C.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RP(this)}else C.text().then(this.Ra.bind(this),this.ga.bind(this))};function RP(C){C.j.read().then(C.Pa.bind(C)).catch(C.ga.bind(C))}e.Pa=function(C){if(this.g){if(this.o&&C.value)this.response.push(C.value);else if(!this.o){var j=C.value?C.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!C.done}))&&(this.response=this.responseText+=j)}C.done?Iv(this):Ng(this),this.readyState==3&&RP(this)}},e.Ra=function(C){this.g&&(this.response=this.responseText=C,Iv(this))},e.Qa=function(C){this.g&&(this.response=C,Iv(this))},e.ga=function(){this.g&&Iv(this)};function Iv(C){C.readyState=4,C.l=null,C.j=null,C.v=null,Ng(C)}e.setRequestHeader=function(C,j){this.u.append(C,j)},e.getResponseHeader=function(C){return this.h&&this.h.get(C.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const C=[],j=this.h.entries();for(var q=j.next();!q.done;)q=q.value,C.push(q[0]+": "+q[1]),q=j.next();return C.join(`\r
`)};function Ng(C){C.onreadystatechange&&C.onreadystatechange.call(C)}Object.defineProperty(Av.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(C){this.m=C?"include":"same-origin"}});function kP(C){let j="";return S(C,function(q,J){j+=J,j+=":",j+=q,j+=`\r
`}),j}function re(C,j,q){e:{for(J in q){var J=!1;break e}J=!0}J||(q=kP(q),typeof C=="string"?q!=null&&encodeURIComponent(String(q)):Lt(C,j,q))}function pe(C){ye.call(this),this.headers=new Map,this.o=C||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(pe,ye);var Ne=/^https?$/i,Nt=["POST","PUT"];e=pe.prototype,e.Ha=function(C){this.J=C},e.ea=function(C,j,q,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+C);j=j?j.toUpperCase():"GET",this.D=C,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rn.g(),this.v=this.o?ao(this.o):ao(rn),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(j,String(C),!0),this.B=!1}catch($e){Yn(this,$e);return}if(C=q||"",q=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Te in J)q.set(Te,J[Te]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const $e of J.keys())q.set($e,J.get($e));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(q.keys()).find($e=>$e.toLowerCase()=="content-type"),Te=a.FormData&&C instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Nt,j,void 0))||J||Te||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$e,gt]of q)this.g.setRequestHeader($e,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ai(this),this.u=!0,this.g.send(C),this.u=!1}catch($e){Yn(this,$e)}};function Yn(C,j){C.h=!1,C.g&&(C.j=!0,C.g.abort(),C.j=!1),C.l=j,C.m=5,Lr(C),Zn(C)}function Lr(C){C.A||(C.A=!0,ke(C,"complete"),ke(C,"error"))}e.abort=function(C){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=C||7,ke(this,"complete"),ke(this,"abort"),Zn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),pe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?oi(this):this.bb())},e.bb=function(){oi(this)};function oi(C){if(C.h&&typeof o<"u"&&(!C.v[1]||gs(C)!=4||C.Z()!=2)){if(C.u&&gs(C)==4)Ke(C.Ea,0,C);else if(ke(C,"readystatechange"),gs(C)==4){C.h=!1;try{const gt=C.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var q;if(!(q=j)){var J;if(J=gt===0){var Te=String(C.D).match(ze)[1]||null;!Te&&a.self&&a.self.location&&(Te=a.self.location.protocol.slice(0,-1)),J=!Ne.test(Te?Te.toLowerCase():"")}q=J}if(q)ke(C,"complete"),ke(C,"success");else{C.m=6;try{var $e=2<gs(C)?C.g.statusText:""}catch{$e=""}C.l=$e+" ["+C.Z()+"]",Lr(C)}}finally{Zn(C)}}}}function Zn(C,j){if(C.g){ai(C);const q=C.g,J=C.v[0]?()=>{}:null;C.g=null,C.v=null,j||ke(C,"ready");try{q.onreadystatechange=J}catch{}}}function ai(C){C.I&&(a.clearTimeout(C.I),C.I=null)}e.isActive=function(){return!!this.g};function gs(C){return C.g?C.g.readyState:0}e.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(C){if(this.g){var j=this.g.responseText;return C&&j.indexOf(C)==0&&(j=j.substring(C.length)),Dn(j)}};function oa(C){try{if(!C.g)return null;if("response"in C.g)return C.g.response;switch(C.H){case"":case"text":return C.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in C.g)return C.g.mozResponseArrayBuffer}return null}catch{return null}}function Rv(C){const j={};C=(C.g&&2<=gs(C)&&C.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<C.length;J++){if(v(C[J]))continue;var q=k(C[J]);const Te=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const $e=j[Te]||[];j[Te]=$e,$e.push(q)}x(j,function(J){return J.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bp(C,j,q){return q&&q.internalChannelParams&&q.internalChannelParams[C]||j}function T_(C){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bp("failFast",!1,C),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bp("baseRetryDelayMs",5e3,C),this.cb=Bp("retryDelaySeedMs",1e4,C),this.Wa=Bp("forwardChannelMaxRetries",2,C),this.wa=Bp("forwardChannelRequestTimeoutMs",2e4,C),this.pa=C&&C.xmlHttpFactory||void 0,this.Xa=C&&C.Tb||void 0,this.Ca=C&&C.useFetchStreams||!1,this.L=void 0,this.J=C&&C.supportsCrossDomainXhr||!1,this.K="",this.h=new Ha(C&&C.concurrentRequestLimit),this.Da=new n8,this.P=C&&C.fastHandshake||!1,this.O=C&&C.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=C&&C.Rb||!1,C&&C.xa&&this.j.xa(),C&&C.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&C&&C.detectBufferingProxy||!1,this.ja=void 0,C&&C.longPollingTimeout&&0<C.longPollingTimeout&&(this.ja=C.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=T_.prototype,e.la=8,e.G=1,e.connect=function(C,j,q,J){wn(0),this.W=C,this.H=j||{},q&&J!==void 0&&(this.H.OSID=q,this.H.OAID=J),this.F=this.X,this.I=Voe(this,null,this.W),NP(this)};function C_(C){if(Moe(C),C.G==3){var j=C.U++,q=et(C.I);if(Lt(q,"SID",C.K),Lt(q,"RID",j),Lt(q,"TYPE","terminate"),_T(C,q),j=new Qn(C,C.j,j),j.L=2,j.v=Jn(et(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(j.v.toString(),"")}catch{}!q&&a.Image&&(new Image().src=j.v,q=!0),q||(j.g=Hoe(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Vi(j)}Uoe(C)}function PP(C){C.g&&(i8(C),C.g.cancel(),C.g=null)}function Moe(C){PP(C),C.u&&(a.clearTimeout(C.u),C.u=null),OP(C),C.h.cancel(),C.s&&(typeof C.s=="number"&&a.clearTimeout(C.s),C.s=null)}function NP(C){if(!uo(C.h)&&!C.s){C.s=!0;var j=C.Ga;B||N(),z||(B(),z=!0),U.add(j,C),C.B=0}}function g7e(C,j){return gc(C.h)>=C.h.j-(C.s?1:0)?!1:C.s?(C.i=j.D.concat(C.i),!0):C.G==1||C.G==2||C.B>=(C.Va?0:C.Wa)?!1:(C.s=ri(f(C.Ga,C,j),zoe(C,C.B)),C.B++,!0)}e.Ga=function(C){if(this.s)if(this.s=null,this.G==1){if(!C){this.U=Math.floor(1e5*Math.random()),C=this.U++;const Te=new Qn(this,this.j,C);let $e=this.o;if(this.S&&($e?($e=T($e),P($e,this.S)):$e=this.S),this.m!==null||this.O||(Te.H=$e,$e=null),this.P)e:{for(var j=0,q=0;q<this.i.length;q++){t:{var J=this.i[q];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(j+=J,4096<j){j=q;break e}if(j===4096||q===this.i.length-1){j=q+1;break e}}j=1e3}else j=1e3;j=Loe(this,Te,j),q=et(this.I),Lt(q,"RID",C),Lt(q,"CVER",22),this.D&&Lt(q,"X-HTTP-Session-Id",this.D),_T(this,q),$e&&(this.O?j="headers="+encodeURIComponent(String(kP($e)))+"&"+j:this.m&&re(q,this.m,$e)),Y(this.h,Te),this.Ua&&Lt(q,"TYPE","init"),this.P?(Lt(q,"$req",j),Lt(q,"SID","null"),Te.T=!0,Qt(Te,q,null)):Qt(Te,q,j),this.G=2}}else this.G==3&&(C?$oe(this,C):this.i.length==0||uo(this.h)||$oe(this))};function $oe(C,j){var q;j?q=j.l:q=C.U++;const J=et(C.I);Lt(J,"SID",C.K),Lt(J,"RID",q),Lt(J,"AID",C.T),_T(C,J),C.m&&C.o&&re(J,C.m,C.o),q=new Qn(C,C.j,q,C.B+1),C.m===null&&(q.H=C.o),j&&(C.i=j.D.concat(C.i)),j=Loe(C,q,1e3),q.I=Math.round(.5*C.wa)+Math.round(.5*C.wa*Math.random()),Y(C.h,q),Qt(q,J,j)}function _T(C,j){C.H&&S(C.H,function(q,J){Lt(j,J,q)}),C.l&&ge({},function(q,J){Lt(j,J,q)})}function Loe(C,j,q){q=Math.min(C.i.length,q);var J=C.l?f(C.l.Na,C.l,C):null;e:{var Te=C.i;let $e=-1;for(;;){const gt=["count="+q];$e==-1?0<q?($e=Te[0].g,gt.push("ofs="+$e)):$e=0:gt.push("ofs="+$e);let li=!0;for(let Io=0;Io<q;Io++){let Sr=Te[Io].g;const aa=Te[Io].map;if(Sr-=$e,0>Sr)$e=Math.max(0,Te[Io].g-100),li=!1;else try{IP(aa,gt,"req"+Sr+"_")}catch{J&&J(aa)}}if(li){J=gt.join("&");break e}}}return C=C.i.splice(0,q),j.D=C,J}function Foe(C){if(!C.g&&!C.u){C.Y=1;var j=C.Fa;B||N(),z||(B(),z=!0),U.add(j,C),C.v=0}}function r8(C){return C.g||C.u||3<=C.v?!1:(C.Y++,C.u=ri(f(C.Fa,C),zoe(C,C.v)),C.v++,!0)}e.Fa=function(){if(this.u=null,joe(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var C=2*this.R;this.j.info("BP detection timer enabled: "+C),this.A=ri(f(this.ab,this),C)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),PP(this),joe(this))};function i8(C){C.A!=null&&(a.clearTimeout(C.A),C.A=null)}function joe(C){C.g=new Qn(C,C.j,"rpc",C.Y),C.m===null&&(C.g.H=C.o),C.g.O=0;var j=et(C.qa);Lt(j,"RID","rpc"),Lt(j,"SID",C.K),Lt(j,"AID",C.T),Lt(j,"CI",C.F?"0":"1"),!C.F&&C.ja&&Lt(j,"TO",C.ja),Lt(j,"TYPE","xmlhttp"),_T(C,j),C.m&&C.o&&re(j,C.m,C.o),C.L&&(C.g.I=C.L);var q=C.g;C=C.ia,q.L=1,q.v=Jn(et(j)),q.m=null,q.P=!0,br(q,C)}e.Za=function(){this.C!=null&&(this.C=null,PP(this),r8(this),wn(19))};function OP(C){C.C!=null&&(a.clearTimeout(C.C),C.C=null)}function Boe(C,j){var q=null;if(C.g==j){OP(C),i8(C),C.g=null;var J=2}else if(Gf(C.h,j))q=j.D,fe(C.h,j),J=1;else return;if(C.G!=0){if(j.o)if(J==1){q=j.m?j.m.length:0,j=Date.now()-j.F;var Te=C.B;J=Va(),ke(J,new $r(J,q)),NP(C)}else Foe(C);else if(Te=j.s,Te==3||Te==0&&0<j.X||!(J==1&&g7e(C,j)||J==2&&r8(C)))switch(q&&0<q.length&&(j=C.h,j.i=j.i.concat(q)),Te){case 1:kv(C,5);break;case 4:kv(C,10);break;case 3:kv(C,6);break;default:kv(C,2)}}}function zoe(C,j){let q=C.Ta+Math.floor(Math.random()*C.cb);return C.isActive()||(q*=2),q*j}function kv(C,j){if(C.j.info("Error code "+j),j==2){var q=f(C.fb,C),J=C.Xa;const Te=!J;J=new Ze(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ct(J,"https"),Jn(J),Te?AP(J.toString(),q):jp(J.toString(),q)}else wn(2);C.G=0,C.l&&C.l.sa(j),Uoe(C),Moe(C)}e.fb=function(C){C?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Uoe(C){if(C.G=0,C.ka=[],C.l){const j=ee(C.h);(j.length!=0||C.i.length!=0)&&(g(C.ka,j),g(C.ka,C.i),C.h.i.length=0,m(C.i),C.i.length=0),C.l.ra()}}function Voe(C,j,q){var J=q instanceof Ze?et(q):new Ze(q);if(J.g!="")j&&(J.g=j+"."+J.g),At(J,J.s);else{var Te=a.location;J=Te.protocol,j=j?j+"."+Te.hostname:Te.hostname,Te=+Te.port;var $e=new Ze(null);J&&ct($e,J),j&&($e.g=j),Te&&At($e,Te),q&&($e.l=q),J=$e}return q=C.D,j=C.ya,q&&j&&Lt(J,q,j),Lt(J,"VER",C.la),_T(C,J),J}function Hoe(C,j,q){if(j&&!C.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=C.Ca&&!C.pa?new pe(new Cv({eb:q})):new pe(C.pa),j.Ha(C.J),j}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qoe(){}e=qoe.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function DP(){}DP.prototype.g=function(C,j){return new Tu(C,j)};function Tu(C,j){ye.call(this),this.g=new T_(j),this.l=C,this.h=j&&j.messageUrlParams||null,C=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.g.o=C,C=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(C?C["X-WebChannel-Content-Type"]=j.messageContentType:C={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(C?C["X-WebChannel-Client-Profile"]=j.va:C={"X-WebChannel-Client-Profile":j.va}),this.g.S=C,(C=j&&j.Sb)&&!v(C)&&(this.g.m=C),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!v(j)&&(this.g.D=j,C=this.h,C!==null&&j in C&&(C=this.h,j in C&&delete C[j])),this.j=new A_(this)}p(Tu,ye),Tu.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tu.prototype.close=function(){C_(this.g)},Tu.prototype.o=function(C){var j=this.g;if(typeof C=="string"){var q={};q.__data__=C,C=q}else this.u&&(q={},q.__data__=Xt(C),C=q);j.i.push(new ia(j.Ya++,C)),j.G==3&&NP(j)},Tu.prototype.N=function(){this.g.l=null,delete this.j,C_(this.g),delete this.g,Tu.aa.N.call(this)};function Woe(C){Un.call(this),C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var j=C.__sm__;if(j){e:{for(const q in j){C=q;break e}C=void 0}(this.i=C)&&(C=this.i,j=j!==null&&C in j?j[C]:void 0),this.data=j}else this.data=C}p(Woe,Un);function Goe(){Wn.call(this),this.status=1}p(Goe,Wn);function A_(C){this.g=C}p(A_,qoe),A_.prototype.ua=function(){ke(this.g,"a")},A_.prototype.ta=function(C){ke(this.g,new Woe(C))},A_.prototype.sa=function(C){ke(this.g,new Goe)},A_.prototype.ra=function(){ke(this.g,"b")},DP.prototype.createWebChannel=DP.prototype.g,Tu.prototype.send=Tu.prototype.o,Tu.prototype.open=Tu.prototype.m,Tu.prototype.close=Tu.prototype.close,qMe=function(){return new DP},HMe=function(){return Va()},VMe=Zi,yq={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,DD=dt,kt.COMPLETE="complete",UMe=kt,Oi.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ye.prototype.listen=ye.prototype.K,i2=Oi,zMe=Cv,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,BMe=pe}).apply(typeof QN<"u"?QN:typeof self<"u"?self:typeof window<"u"?window:{});const Jme="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$l.UNAUTHENTICATED=new $l(null),$l.GOOGLE_CREDENTIALS=new $l("google-credentials-uid"),$l.FIRST_PARTY=new $l("first-party-uid"),$l.MOCK_USER=new $l("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WS="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new I4("@firebase/firestore");function ZT(){return xb.logLevel}function Ot(e,...t){if(xb.logLevel<=ar.DEBUG){const n=t.map(Qee);xb.debug(`Firestore (${WS}): ${e}`,...n)}}function og(e,...t){if(xb.logLevel<=ar.ERROR){const n=t.map(Qee);xb.error(`Firestore (${WS}): ${e}`,...n)}}function UI(e,...t){if(xb.logLevel<=ar.WARN){const n=t.map(Qee);xb.warn(`Firestore (${WS}): ${e}`,...n)}}function Qee(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e="Unexpected state"){const t=`FIRESTORE (${WS}) INTERNAL ASSERTION FAILED: `+e;throw og(t),new Error(t)}function _i(e,t){e||bn()}function Tn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Sp{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4t{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A4t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($l.UNAUTHENTICATED))}shutdown(){}}class I4t{constructor(t){this.t=t,this.currentUser=$l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new km;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new km,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new km)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_i(typeof r.accessToken=="string"),new C4t(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _i(t===null||typeof t=="string"),new $l(t)}}class R4t{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=$l.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k4t{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new R4t(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n($l.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P4t{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N4t{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_i(typeof n.token=="string"),this.R=n.token,new P4t(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4t(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WMe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=O4t(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Nr(e,t){return e<t?-1:e>t?1:0}function _x(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Tt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return eo.fromMillis(Date.now())}static fromDate(t){return eo.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new eo(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Nr(this.nanoseconds,t.nanoseconds):Nr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Sn(t)}static min(){return new Sn(new eo(0,0))}static max(){return new Sn(new eo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n,r){n===void 0?n=0:n>t.length&&bn(),r===void 0?r=t.length-n:r>t.length-n&&bn(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return VI.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof VI?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ai extends VI{construct(t,n,r){return new Ai(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Tt(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ai(n)}static emptyPath(){return new Ai([])}}const D4t=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vo extends VI{construct(t,n,r){return new Vo(t,n,r)}static isValidIdentifier(t){return D4t.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vo(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Tt(Ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Tt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Tt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Tt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vo(n)}static emptyPath(){return new Vo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(Ai.fromString(t))}static fromName(t){return new Yt(Ai.fromString(t).popFirst(5))}static empty(){return new Yt(Ai.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ai.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ai.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new Ai(t.slice()))}}function M4t(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sn.fromTimestamp(r===1e9?new eo(n+1,0):new eo(n,r));return new Ay(i,Yt.empty(),t)}function $4t(e){return new Ay(e.readTime,e.key,-1)}class Ay{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ay(Sn.min(),Yt.empty(),-1)}static max(){return new Ay(Sn.max(),Yt.empty(),-1)}}function L4t(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Yt.comparator(e.documentKey,t.documentKey),n!==0?n:Nr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4t="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j4t{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(e){if(e.code!==Ye.FAILED_PRECONDITION||e.message!==F4t)throw e;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.reject(n)}static resolve(t){return new rt((n,r)=>{n(t)})}static reject(t){return new rt((n,r)=>{r(t)})}static waitFor(t){return new rt((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=rt.resolve(!1);for(const r of t)n=n.next(i=>i?rt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new rt((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new rt((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function B4t(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pk(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Jee.oe=-1;function M4(e){return e==null}function U3(e){return e===0&&1/e==-1/0}function z4t(e){return typeof e=="number"&&Number.isInteger(e)&&!U3(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zme(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function o_(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GMe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n){this.comparator=t,this.root=n||jo.EMPTY}insert(t,n){return new Ji(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jo.BLACK,null,null))}remove(t){return new Ji(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new JN(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new JN(this.root,t,this.comparator,!1)}getReverseIterator(){return new JN(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new JN(this.root,t,this.comparator,!0)}}class JN{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jo{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??jo.RED,this.left=i??jo.EMPTY,this.right=s??jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new jo(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return jo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bn();const t=this.left.check();if(t!==this.right.check())throw bn();return t+(this.isRed()?0:1)}}jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1;jo.EMPTY=new class{constructor(){this.size=0}get key(){throw bn()}get value(){throw bn()}get color(){throw bn()}get left(){throw bn()}get right(){throw bn()}copy(t,n,r,i,s){return this}insert(t,n,r){return new jo(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.comparator=t,this.data=new Ji(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ege(this.data.getIterator())}getIteratorFrom(t){return new ege(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Go)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Go(this.comparator);return n.data=t,n}}class ege{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t){this.fields=t,t.sort(Vo.comparator)}static empty(){return new Vu([])}unionWith(t){let n=new Go(Vo.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Vu(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return _x(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YMe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YMe("Invalid base64 string: "+s):s}}(t);return new Fa(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Fa(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fa.EMPTY_BYTE_STRING=new Fa("");const U4t=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iy(e){if(_i(!!e),typeof e=="string"){let t=0;const n=U4t.exec(e);if(_i(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ns(e.seconds),nanos:Ns(e.nanos)}}function Ns(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Sb(e){return typeof e=="string"?Fa.fromBase64String(e):Fa.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ete(e){const t=e.mapValue.fields.__previous_value__;return Zee(t)?ete(t):t}function HI(e){const t=Iy(e.mapValue.fields.__local_write_time__.timestampValue);return new eo(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4t{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qI{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qI("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qI&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Tb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zee(e)?4:H4t(e)?9007199254740991:10:bn()}function sp(e,t){if(e===t)return!0;const n=Tb(e);if(n!==Tb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return HI(e).isEqual(HI(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Iy(i.timestampValue),a=Iy(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Sb(i.bytesValue).isEqual(Sb(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Ns(i.geoPointValue.latitude)===Ns(s.geoPointValue.latitude)&&Ns(i.geoPointValue.longitude)===Ns(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ns(i.integerValue)===Ns(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ns(i.doubleValue),a=Ns(s.doubleValue);return o===a?U3(o)===U3(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return _x(e.arrayValue.values||[],t.arrayValue.values||[],sp);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Zme(o)!==Zme(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!sp(o[l],a[l])))return!1;return!0}(e,t);default:return bn()}}function WI(e,t){return(e.values||[]).find(n=>sp(n,t))!==void 0}function wx(e,t){if(e===t)return 0;const n=Tb(e),r=Tb(t);if(n!==r)return Nr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nr(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Ns(s.integerValue||s.doubleValue),l=Ns(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return tge(e.timestampValue,t.timestampValue);case 4:return tge(HI(e),HI(t));case 5:return Nr(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Sb(s),l=Sb(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Nr(a[u],l[u]);if(c!==0)return c}return Nr(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Nr(Ns(s.latitude),Ns(o.latitude));return a!==0?a:Nr(Ns(s.longitude),Ns(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=wx(a[u],l[u]);if(c)return c}return Nr(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===ZN.mapValue&&o===ZN.mapValue)return 0;if(s===ZN.mapValue)return 1;if(o===ZN.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Nr(l[d],c[d]);if(f!==0)return f;const h=wx(a[l[d]],u[c[d]]);if(h!==0)return h}return Nr(l.length,c.length)}(e.mapValue,t.mapValue);default:throw bn()}}function tge(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Nr(e,t);const n=Iy(e),r=Iy(t),i=Nr(n.seconds,r.seconds);return i!==0?i:Nr(n.nanos,r.nanos)}function Ex(e){return vq(e)}function vq(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Iy(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Sb(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vq(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vq(n.fields[o])}`;return i+"}"}(e.mapValue):bn()}function nge(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function bq(e){return!!e&&"integerValue"in e}function tte(e){return!!e&&"arrayValue"in e}function rge(e){return!!e&&"nullValue"in e}function ige(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function MD(e){return!!e&&"mapValue"in e}function dA(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return o_(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=dA(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dA(e.arrayValue.values[n]);return t}return Object.assign({},e)}function H4t(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t){this.value=t}static empty(){return new Hl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!MD(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dA(n)}setAll(t){let n=Vo.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dA(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());MD(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sp(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];MD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){o_(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Hl(dA(this.value))}}function KMe(e){const t=[];return o_(e.fields,(n,r)=>{const i=new Vo([n]);if(MD(r)){const s=KMe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Vu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ca(t,0,Sn.min(),Sn.min(),Sn.min(),Hl.empty(),0)}static newFoundDocument(t,n,r,i){return new Ca(t,1,n,Sn.min(),r,i,0)}static newNoDocument(t,n){return new Ca(t,2,n,Sn.min(),Sn.min(),Hl.empty(),0)}static newUnknownDocument(t,n){return new Ca(t,3,n,Sn.min(),Sn.min(),Hl.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ca&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ca(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V3=class{constructor(t,n){this.position=t,this.inclusive=n}};function sge(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Yt.comparator(Yt.fromName(o.referenceValue),n.key):r=wx(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oge(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sp(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n="asc"){this.field=t,this.dir=n}}function q4t(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XMe=class{};class Ms extends XMe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new G4t(t,n,r):n==="array-contains"?new X4t(t,r):n==="in"?new Q4t(t,r):n==="not-in"?new J4t(t,r):n==="array-contains-any"?new Z4t(t,r):new Ms(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Y4t(t,r):new K4t(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wx(n,this.value)):n!==null&&Tb(this.value)===Tb(n)&&this.matchesComparison(wx(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wf extends XMe{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new wf(t,n)}matches(t){return QMe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QMe(e){return e.op==="and"}function JMe(e){return W4t(e)&&QMe(e)}function W4t(e){for(const t of e.filters)if(t instanceof wf)return!1;return!0}function _q(e){if(e instanceof Ms)return e.field.canonicalString()+e.op.toString()+Ex(e.value);if(JMe(e))return e.filters.map(t=>_q(t)).join(",");{const t=e.filters.map(n=>_q(n)).join(",");return`${e.op}(${t})`}}function ZMe(e,t){return e instanceof Ms?function(r,i){return i instanceof Ms&&r.op===i.op&&r.field.isEqual(i.field)&&sp(r.value,i.value)}(e,t):e instanceof wf?function(r,i){return i instanceof wf&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ZMe(o,i.filters[a]),!0):!1}(e,t):void bn()}function e$e(e){return e instanceof Ms?function(n){return`${n.field.canonicalString()} ${n.op} ${Ex(n.value)}`}(e):e instanceof wf?function(n){return n.op.toString()+" {"+n.getFilters().map(e$e).join(" ,")+"}"}(e):"Filter"}class G4t extends Ms{constructor(t,n,r){super(t,n,r),this.key=Yt.fromName(r.referenceValue)}matches(t){const n=Yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Y4t extends Ms{constructor(t,n){super(t,"in",n),this.keys=t$e("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class K4t extends Ms{constructor(t,n){super(t,"not-in",n),this.keys=t$e("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function t$e(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Yt.fromName(r.referenceValue))}class X4t extends Ms{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return tte(n)&&WI(n.arrayValue,this.value)}}class Q4t extends Ms{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&WI(this.value.arrayValue,n)}}class J4t extends Ms{constructor(t,n){super(t,"not-in",n)}matches(t){if(WI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!WI(this.value.arrayValue,n)}}class Z4t extends Ms{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!tte(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>WI(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ejt{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function age(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ejt(e,t,n,r,i,s,o)}function nte(e){const t=Tn(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>_q(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),M4(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ex(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ex(r)).join(",")),t.ue=n}return t.ue}function rte(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!q4t(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ZMe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oge(e.startAt,t.startAt)&&oge(e.endAt,t.endAt)}function wq(e){return Yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tjt(e,t,n,r,i,s,o,a){return new GS(e,t,n,r,i,s,o,a)}function ite(e){return new GS(e)}function lge(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function n$e(e){return e.collectionGroup!==null}function fA(e){const t=Tn(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Go(Vo.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new GI(s,r))}),n.has(Vo.keyField().canonicalString())||t.ce.push(new GI(Vo.keyField(),r))}return t.ce}function qh(e){const t=Tn(e);return t.le||(t.le=njt(t,fA(e))),t.le}function njt(e,t){if(e.limitType==="F")return age(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new GI(i.field,s)});const n=e.endAt?new V3(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new V3(e.startAt.position,e.startAt.inclusive):null;return age(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Eq(e,t){const n=e.filters.concat([t]);return new GS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xq(e,t,n){return new GS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $4(e,t){return rte(qh(e),qh(t))&&e.limitType===t.limitType}function r$e(e){return`${nte(qh(e))}|lt:${e.limitType}`}function vw(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>e$e(i)).join(", ")}]`),M4(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ex(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ex(i)).join(",")),`Target(${r})`}(qh(e))}; limitType=${e.limitType})`}function L4(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Yt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of fA(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=sge(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,fA(r),i)||r.endAt&&!function(o,a,l){const u=sge(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,fA(r),i))}(e,t)}function rjt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function i$e(e){return(t,n)=>{let r=!1;for(const i of fA(e)){const s=ijt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ijt(e,t,n){const r=e.field.isKeyField()?Yt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?wx(l,u):bn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){o_(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return GMe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sjt=new Ji(Yt.comparator);function ag(){return sjt}const s$e=new Ji(Yt.comparator);function s2(...e){let t=s$e;for(const n of e)t=t.insert(n.key,n);return t}function o$e(e){let t=s$e;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function M1(){return hA()}function a$e(){return hA()}function hA(){return new YS(e=>e.toString(),(e,t)=>e.isEqual(t))}const ojt=new Ji(Yt.comparator),ajt=new Go(Yt.comparator);function er(...e){let t=ajt;for(const n of e)t=t.add(n);return t}const ljt=new Go(Nr);function ujt(){return ljt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$e(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U3(t)?"-0":t}}function u$e(e){return{integerValue:""+e}}function cjt(e,t){return z4t(t)?u$e(t):l$e(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this._=void 0}}function djt(e,t,n){return e instanceof YI?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zee(s)&&(s=ete(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof KI?d$e(e,t):e instanceof XI?f$e(e,t):function(i,s){const o=c$e(i,s),a=uge(o)+uge(i.Pe);return bq(o)&&bq(i.Pe)?u$e(a):l$e(i.serializer,a)}(e,t)}function fjt(e,t,n){return e instanceof KI?d$e(e,t):e instanceof XI?f$e(e,t):n}function c$e(e,t){return e instanceof H3?function(r){return bq(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class YI extends F4{}class KI extends F4{constructor(t){super(),this.elements=t}}function d$e(e,t){const n=h$e(t);for(const r of e.elements)n.some(i=>sp(i,r))||n.push(r);return{arrayValue:{values:n}}}class XI extends F4{constructor(t){super(),this.elements=t}}function f$e(e,t){let n=h$e(t);for(const r of e.elements)n=n.filter(i=>!sp(i,r));return{arrayValue:{values:n}}}class H3 extends F4{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function uge(e){return Ns(e.integerValue||e.doubleValue)}function h$e(e){return tte(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hjt{constructor(t,n){this.field=t,this.transform=n}}function pjt(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof KI&&i instanceof KI||r instanceof XI&&i instanceof XI?_x(r.elements,i.elements,sp):r instanceof H3&&i instanceof H3?sp(r.Pe,i.Pe):r instanceof YI&&i instanceof YI}(e.transform,t.transform)}class mjt{constructor(t,n){this.version=t,this.transformResults=n}}class su{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new su}static exists(t){return new su(void 0,t)}static updateTime(t){return new su(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $D(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class j4{}function p$e(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new B4(e.key,su.none()):new Nk(e.key,e.data,su.none());{const n=e.data,r=Hl.empty();let i=new Go(Vo.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new cv(e.key,r,new Vu(i.toArray()),su.none())}}function gjt(e,t,n){e instanceof Nk?function(i,s,o){const a=i.value.clone(),l=dge(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof cv?function(i,s,o){if(!$D(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=dge(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(m$e(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function pA(e,t,n,r){return e instanceof Nk?function(s,o,a,l){if(!$D(s.precondition,o))return a;const u=s.value.clone(),c=fge(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof cv?function(s,o,a,l){if(!$D(s.precondition,o))return a;const u=fge(s.fieldTransforms,l,o),c=o.data;return c.setAll(m$e(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,o,a){return $D(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function yjt(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=c$e(r.transform,i||null);s!=null&&(n===null&&(n=Hl.empty()),n.set(r.field,s))}return n||null}function cge(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_x(r,i,(s,o)=>pjt(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nk extends j4{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cv extends j4{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function m$e(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function dge(e,t,n){const r=new Map;_i(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,fjt(o,a,n[i]))}return r}function fge(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,djt(s,o,t))}return r}class B4 extends j4{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vjt extends j4{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bjt{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&gjt(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=pA(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=pA(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=a$e();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=p$e(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Sn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),er())}isEqual(t){return this.batchId===t.batchId&&_x(this.mutations,t.mutations,(n,r)=>cge(n,r))&&_x(this.baseMutations,t.baseMutations,(n,r)=>cge(n,r))}}class ste{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){_i(t.mutations.length===r.length);let i=function(){return ojt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ste(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _jt{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wjt{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks,fr;function Ejt(e){switch(e){default:return bn();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function g$e(e){if(e===void 0)return og("GRPC error has no .code"),Ye.UNKNOWN;switch(e){case ks.OK:return Ye.OK;case ks.CANCELLED:return Ye.CANCELLED;case ks.UNKNOWN:return Ye.UNKNOWN;case ks.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case ks.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case ks.INTERNAL:return Ye.INTERNAL;case ks.UNAVAILABLE:return Ye.UNAVAILABLE;case ks.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case ks.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case ks.NOT_FOUND:return Ye.NOT_FOUND;case ks.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case ks.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case ks.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case ks.ABORTED:return Ye.ABORTED;case ks.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case ks.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case ks.DATA_LOSS:return Ye.DATA_LOSS;default:return bn()}}(fr=ks||(ks={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xjt(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sjt=new q1([4294967295,4294967295],0);function hge(e){const t=xjt().encode(e),n=new jMe;return n.update(t),new Uint8Array(n.digest())}function pge(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new q1([n,r],0),new q1([i,s],0)]}class ote{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new o2(`Invalid padding: ${n}`);if(r<0)throw new o2(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new o2(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new o2(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=q1.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(q1.fromNumber(r)));return i.compare(Sjt)===1&&(i=new q1([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=hge(t),[r,i]=pge(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new ote(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=hge(t),[r,i]=pge(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class o2 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ok.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new z4(Sn.min(),i,new Ji(Nr),ag(),er())}}class Ok{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ok(r,n,er(),er(),er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class y$e{constructor(t,n){this.targetId=t,this.me=n}}class v$e{constructor(t,n,r=Fa.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mge{constructor(){this.fe=0,this.ge=yge(),this.pe=Fa.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=er(),n=er(),r=er();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bn()}}),new Ok(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=yge()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,_i(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Tjt{constructor(t){this.Le=t,this.Be=new Map,this.ke=ag(),this.qe=gge(),this.Qe=new Ji(Nr)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:bn()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(wq(s))if(r===0){const o=new Yt(s.path);this.Ue(n,o,Ca.newNoDocument(o,Sn.min()))}else _i(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Sb(r).toUint8Array()}catch(l){if(l instanceof YMe)return UI("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ote(o,i,s)}catch(l){return UI(l instanceof o2?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&wq(a.target)){const l=new Yt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ca.newNoDocument(l,t))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=er();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new z4(t,n,this.Qe,this.ke,r);return this.ke=ag(),this.qe=gge(),this.Qe=new Ji(Nr),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new mge,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Go(Nr),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Ot("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new mge),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function gge(){return new Ji(Yt.comparator)}function yge(){return new Ji(Yt.comparator)}const Cjt={asc:"ASCENDING",desc:"DESCENDING"},Ajt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ijt={and:"AND",or:"OR"};class Rjt{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sq(e,t){return e.useProto3Json||M4(t)?t:{value:t}}function q3(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b$e(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kjt(e,t){return q3(e,t.toTimestamp())}function Wh(e){return _i(!!e),Sn.fromTimestamp(function(n){const r=Iy(n);return new eo(r.seconds,r.nanos)}(e))}function ate(e,t){return Tq(e,t).canonicalString()}function Tq(e,t){const n=function(i){return new Ai(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function _$e(e){const t=Ai.fromString(e);return _i(T$e(t)),t}function Cq(e,t){return ate(e.databaseId,t.path)}function W9(e,t){const n=_$e(t);if(n.get(1)!==e.databaseId.projectId)throw new Tt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yt(E$e(n))}function w$e(e,t){return ate(e.databaseId,t)}function Pjt(e){const t=_$e(e);return t.length===4?Ai.emptyPath():E$e(t)}function Aq(e){return new Ai(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function E$e(e){return _i(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function vge(e,t,n){return{name:Cq(e,t),fields:n.value.mapValue.fields}}function Njt(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:bn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(_i(c===void 0||typeof c=="string"),Fa.fromBase64String(c||"")):(_i(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Fa.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ye.UNKNOWN:g$e(u.code);return new Tt(c,u.message||"")}(o);n=new v$e(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=W9(e,r.document.name),s=Wh(r.document.updateTime),o=r.document.createTime?Wh(r.document.createTime):Sn.min(),a=new Hl({mapValue:{fields:r.document.fields}}),l=Ca.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new LD(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=W9(e,r.document),s=r.readTime?Wh(r.readTime):Sn.min(),o=Ca.newNoDocument(i,s),a=r.removedTargetIds||[];n=new LD([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=W9(e,r.document),s=r.removedTargetIds||[];n=new LD([],s,i,null)}else{if(!("filter"in t))return bn();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wjt(i,s),a=r.targetId;n=new y$e(a,o)}}return n}function Ojt(e,t){let n;if(t instanceof Nk)n={update:vge(e,t.key,t.value)};else if(t instanceof B4)n={delete:Cq(e,t.key)};else if(t instanceof cv)n={update:vge(e,t.key,t.data),updateMask:Ujt(t.fieldMask)};else{if(!(t instanceof vjt))return bn();n={verify:Cq(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof YI)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof KI)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof XI)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof H3)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw bn()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kjt(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:bn()}(e,t.precondition)),n}function Djt(e,t){return e&&e.length>0?(_i(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Wh(i.updateTime):Wh(s);return o.isEqual(Sn.min())&&(o=Wh(s)),new mjt(o,i.transformResults||[])}(n,t))):[]}function Mjt(e,t){return{documents:[w$e(e,t.path)]}}function $jt(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=w$e(e,i);const s=function(u){if(u.length!==0)return S$e(wf.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:bw(f.field),direction:jjt(f.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sq(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function Ljt(e){let t=Pjt(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_i(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=x$e(d);return f instanceof wf&&JMe(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new GI(_w(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,M4(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new V3(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new V3(h,f)}(n.endAt)),tjt(t,i,o,s,a,"F",l,u)}function Fjt(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bn()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function x$e(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_w(n.unaryFilter.field);return Ms.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_w(n.unaryFilter.field);return Ms.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_w(n.unaryFilter.field);return Ms.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_w(n.unaryFilter.field);return Ms.create(o,"!=",{nullValue:"NULL_VALUE"});default:return bn()}}(e):e.fieldFilter!==void 0?function(n){return Ms.create(_w(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bn()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return wf.create(n.compositeFilter.filters.map(r=>x$e(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bn()}}(n.compositeFilter.op))}(e):bn()}function jjt(e){return Cjt[e]}function Bjt(e){return Ajt[e]}function zjt(e){return Ijt[e]}function bw(e){return{fieldPath:e.canonicalString()}}function _w(e){return Vo.fromServerFormat(e.fieldPath)}function S$e(e){return e instanceof Ms?function(n){if(n.op==="=="){if(ige(n.value))return{unaryFilter:{field:bw(n.field),op:"IS_NAN"}};if(rge(n.value))return{unaryFilter:{field:bw(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ige(n.value))return{unaryFilter:{field:bw(n.field),op:"IS_NOT_NAN"}};if(rge(n.value))return{unaryFilter:{field:bw(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bw(n.field),op:Bjt(n.op),value:n.value}}}(e):e instanceof wf?function(n){const r=n.getFilters().map(i=>S$e(i));return r.length===1?r[0]:{compositeFilter:{op:zjt(n.op),filters:r}}}(e):bn()}function Ujt(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function T$e(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,r,i,s=Sn.min(),o=Sn.min(),a=Fa.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new x0(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new x0(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new x0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new x0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vjt{constructor(t){this.ct=t}}function Hjt(e){const t=Ljt({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xq(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qjt{constructor(){this._n=new Wjt}addToCollectionParentIndex(t,n){return this._n.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Ay.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Ay.min())}updateCollectionGroup(t,n,r){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class Wjt{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Go(Ai.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Go(Ai.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new xx(0)}static Ln(){return new xx(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gjt{constructor(){this.changes=new YS(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ca.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?rt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yjt{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kjt{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&pA(r.mutation,i,Vu.empty(),eo.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,er()).next(()=>r))}getLocalViewOfDocuments(t,n,r=er()){const i=M1();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=s2();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=M1();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,er()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=ag();const o=hA(),a=function(){return hA()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof cv)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pA(c.mutation,u,c.mutation.getFieldMask(),eo.now())):o.set(u.key,Vu.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Yjt(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=hA();let i=new Ji((o,a)=>o-a),s=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vu.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||er()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=a$e();c.forEach(f=>{if(!s.has(f)){const h=p$e(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return rt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):n$e(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):rt.resolve(M1());let a=-1,l=s;return o.next(u=>rt.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?rt.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,er())).next(c=>({batchId:a,changes:o$e(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Yt(n)).next(r=>{let i=s2();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=s2();return this.indexManager.getCollectionParents(t,s).next(a=>rt.forEach(a,l=>{const u=function(d,f){return new GS(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ca.newInvalidDocument(c)))});let a=s2();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&pA(c.mutation,u,Vu.empty(),eo.now()),L4(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xjt{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return rt.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wh(i.createTime)}}(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Hjt(i.bundledQuery),readTime:Wh(i.readTime)}}(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qjt{constructor(){this.overlays=new Ji(Yt.comparator),this.hr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=M1();return rt.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),rt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),rt.resolve()}getOverlaysForCollection(t,n,r){const i=M1(),s=n.length+1,o=new Yt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return rt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ji((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=M1(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=M1(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return rt.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _jt(n,r));let s=this.hr.get(n);s===void 0&&(s=er(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(){this.Pr=new Go(fo.Ir),this.Tr=new Go(fo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new fo(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new fo(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new Yt(new Ai([])),r=new fo(n,t),i=new fo(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new Yt(new Ai([])),r=new fo(n,t),i=new fo(n,t+1);let s=er();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new fo(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class fo{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return Yt.comparator(t.key,n.key)||Nr(t.pr,n.pr)}static Er(t,n){return Nr(t.pr,n.pr)||Yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jjt{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Go(fo.Ir)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bjt(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new fo(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return rt.resolve(o)}lookupMutationBatch(t,n){return rt.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return rt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new fo(n,0),i=new fo(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),rt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Go(Nr);return n.forEach(i=>{const s=new fo(i,0),o=new fo(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),rt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Yt.isDocumentKey(s)||(s=s.child(""));const o=new fo(new Yt(s),0);let a=new Go(Nr);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),rt.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){_i(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return rt.forEach(n.mutations,i=>{const s=new fo(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new fo(n,0),i=this.wr.firstAfterOrEqual(r);return rt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zjt{constructor(t){this.vr=t,this.docs=function(){return new Ji(Yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return rt.resolve(r?r.document.mutableCopy():Ca.newInvalidDocument(n))}getEntries(t,n){let r=ag();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ca.newInvalidDocument(i))}),rt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=ag();const o=n.path,a=new Yt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||L4t($4t(c),r)<=0||(i.has(c.key)||L4(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return rt.resolve(s)}getAllFromCollectionGroup(t,n,r,i){bn()}Fr(t,n){return rt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new e5t(this)}getSize(t){return rt.resolve(this.size)}}class e5t extends Gjt{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),rt.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5t{constructor(t){this.persistence=t,this.Mr=new YS(n=>nte(n),rte),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lte,this.targetCount=0,this.Lr=xx.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),rt.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new xx(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.qn(n),rt.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),rt.waitFor(s).next(()=>i)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return rt.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),rt.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),rt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return rt.resolve(r)}containsKey(t,n){return rt.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5t{constructor(t,n){this.Br={},this.overlays={},this.kr=new Jee(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new t5t(this),this.indexManager=new qjt,this.remoteDocumentCache=function(i){return new Zjt(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Vjt(n),this.$r=new Xjt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Qjt,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Jjt(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ot("MemoryPersistence","Starting transaction:",t);const i=new r5t(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return rt.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class r5t extends j4t{constructor(t){super(),this.currentSequenceNumber=t}}class ute{constructor(t){this.persistence=t,this.zr=new lte,this.jr=null}static Hr(t){return new ute(t)}get Jr(){if(this.jr)return this.jr;throw bn()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),rt.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),rt.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Jr,r=>{const i=Yt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,Sn.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return rt.or([()=>rt.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=er(),i=er();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cte(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5t{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5t{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return j$t()?8:B4t(Zo())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new i5t;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(ZT()<=ar.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",vw(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),rt.resolve()):(ZT()<=ar.DEBUG&&Ot("QueryEngine","Query:",vw(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ZT()<=ar.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",vw(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qh(n))):rt.resolve())}ji(t,n){if(lge(n))return rt.resolve(null);let r=qh(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xq(n,null,"F"),r=qh(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=er(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(t,xq(n,null,"F")):this.es(t,u,n,l)}))})))}Hi(t,n,r,i){return lge(n)||i.isEqual(Sn.min())?rt.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?rt.resolve(null):(ZT()<=ar.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vw(n)),this.es(t,o,n,M4t(i,-1)).next(a=>a))})}Zi(t,n){let r=new Go(i$e(t));return n.forEach((i,s)=>{L4(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return ZT()<=ar.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",vw(n)),this.zi.getDocumentsMatchingQuery(t,n,Ay.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5t{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Ji(Nr),this.rs=new YS(s=>nte(s),rte),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kjt(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function a5t(e,t,n,r){return new o5t(e,t,n,r)}async function C$e(e,t){const n=Tn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=er();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function l5t(e,t){const n=Tn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=rt.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(m=>{const g=u.docVersions.get(p);_i(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=er();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function A$e(e){const t=Tn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function u5t(e,t){const n=Tn(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(Fa.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let l=ag(),u=er();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(c5t(s,o,t.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Sn.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return rt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function c5t(e,t,n){let r=er(),i=er();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=ag();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Sn.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Ot("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function d5t(e,t){const n=Tn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function f5t(e,t){const n=Tn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,rt.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new x0(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function Iq(e,t,n){const r=Tn(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pk(o))throw o;Ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function bge(e,t,n){const r=Tn(e);let i=Sn.min(),s=er();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Tn(l),f=d.rs.get(c);return f!==void 0?rt.resolve(d.ns.get(f)):d.Qr.getTargetData(u,c)}(r,o,qh(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:Sn.min(),n?s:er())).next(a=>(h5t(r,rjt(t),a),{documents:a,hs:s})))}function h5t(e,t,n){let r=e.ss.get(t)||Sn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class _ge{constructor(){this.activeTargetIds=ujt()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class p5t{constructor(){this.no=new _ge,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new _ge,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5t{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wge{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eO=null;function G9(){return eO===null?eO=function(){return 268435456+Math.round(2147483648*Math.random())}():eO++,"0x"+eO.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5t={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5t{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="WebChannelConnection";class v5t extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=G9(),l=this.vo(n,r.toUriEncodedString());Ot("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,i).then(c=>(Ot("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw UI("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+WS}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=g5t[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,r,i){const s=G9();return new Promise((o,a)=>{const l=new BMe;l.setWithCredentials(!0),l.listenOnce(UMe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case DD.NO_ERROR:const c=l.getResponseJson();Ot(ga,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case DD.TIMEOUT:Ot(ga,`RPC '${t}' ${s} timed out`),a(new Tt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case DD.HTTP_ERROR:const d=l.getStatus();if(Ot(ga,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(y)>=0?y:Ye.UNKNOWN}(h.status);a(new Tt(p,h.message))}else a(new Tt(Ye.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Tt(Ye.UNAVAILABLE,"Connection failed."));break;default:bn()}}finally{Ot(ga,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);Ot(ga,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(t,n,r){const i=G9(),s=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=qMe(),a=HMe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new zMe({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ot(ga,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new y5t({lo:g=>{h?Ot(ga,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(Ot(ga,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),Ot(ga,`RPC '${t}' stream ${i} sending:`,g),d.send(g))},ho:()=>d.close()}),m=(g,y,v)=>{g.listen(y,_=>{try{v(_)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,i2.EventType.OPEN,()=>{h||(Ot(ga,`RPC '${t}' stream ${i} transport opened.`),p.mo())}),m(d,i2.EventType.CLOSE,()=>{h||(h=!0,Ot(ga,`RPC '${t}' stream ${i} transport closed`),p.po())}),m(d,i2.EventType.ERROR,g=>{h||(h=!0,UI(ga,`RPC '${t}' stream ${i} transport errored:`,g),p.po(new Tt(Ye.UNAVAILABLE,"The operation could not be completed")))}),m(d,i2.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];_i(!!v);const _=v,w=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(w){Ot(ga,`RPC '${t}' stream ${i} received error:`,w);const E=w.status;let S=function(I){const P=ks[I];if(P!==void 0)return g$e(P)}(E),x=w.message;S===void 0&&(S=Ye.INTERNAL,x="Unknown error status: "+E+" with message "+w.message),h=!0,p.po(new Tt(S,x)),d.close()}else Ot(ga,`RPC '${t}' stream ${i} received:`,v),p.yo(v)}}),m(a,VMe.STAT_EVENT,g=>{g.stat===yq.PROXY?Ot(ga,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===yq.NOPROXY&&Ot(ga,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Y9(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e){return new Rjt(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I$e{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R$e{constructor(t,n,r,i,s,o,a,l){this.oi=t,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new I$e(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===Ye.RESOURCE_EXHAUSTED?(og(n.toString()),og("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{t(()=>{const i=new Tt(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,n){const r=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return Ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b5t extends R$e{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(t,n){return this.connection.Oo("Listen",t,n)}onMessage(t){this.Yo.reset();const n=Njt(this.serializer,t),r=function(s){if(!("targetChange"in s))return Sn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Sn.min():o.readTime?Wh(o.readTime):Sn.min()}(t);return this.listener.h_(n,r)}P_(t){const n={};n.database=Aq(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=wq(l)?{documents:Mjt(s,l)}:{query:$jt(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=b$e(s,o.resumeToken);const u=Sq(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Sn.min())>0){a.readTime=q3(s,o.snapshotVersion.toTimestamp());const u=Sq(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=Fjt(this.serializer,t);r&&(n.labels=r),this.i_(n)}I_(t){const n={};n.database=Aq(this.serializer),n.removeTarget=t,this.i_(n)}}class _5t extends R$e{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,n){return this.connection.Oo("Write",t,n)}onMessage(t){if(_i(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const n=Djt(t.writeResults,t.commitTime),r=Wh(t.commitTime);return this.listener.A_(r,n)}return _i(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=Aq(this.serializer),this.i_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Ojt(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5t extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Tt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,Tq(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Tt(Ye.UNKNOWN,s.toString())})}xo(t,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(t,Tq(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Tt(Ye.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class E5t{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(og(n),this.y_=!1):Ot("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5t{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{a_(this)&&(Ot("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Tn(l);u.M_.add(4),await Mk(u),u.N_.set("Unknown"),u.M_.delete(4),await Dk(u)}(this))})}),this.N_=new E5t(r,i)}}async function Dk(e){if(a_(e))for(const t of e.x_)await t(!0)}async function Mk(e){for(const t of e.x_)await t(!1)}function k$e(e,t){const n=Tn(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),pte(n)?hte(n):KS(n).Xo()&&fte(n,t))}function dte(e,t){const n=Tn(e),r=KS(n);n.F_.delete(t),r.Xo()&&P$e(n,t),n.F_.size===0&&(r.Xo()?r.n_():a_(n)&&n.N_.set("Unknown"))}function fte(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}KS(e).P_(t)}function P$e(e,t){e.L_.xe(t),KS(e).I_(t)}function hte(e){e.L_=new Tjt({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),KS(e).start(),e.N_.w_()}function pte(e){return a_(e)&&!KS(e).Zo()&&e.F_.size>0}function a_(e){return Tn(e).M_.size===0}function N$e(e){e.L_=void 0}async function S5t(e){e.N_.set("Online")}async function T5t(e){e.F_.forEach((t,n)=>{fte(e,t)})}async function C5t(e,t){N$e(e),pte(e)?(e.N_.D_(t),hte(e)):e.N_.set("Unknown")}async function A5t(e,t,n){if(e.N_.set("Online"),t instanceof v$e&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(e,t)}catch(r){Ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await W3(e,r)}else if(t instanceof LD?e.L_.Ke(t):t instanceof y$e?e.L_.He(t):e.L_.We(t),!n.isEqual(Sn.min()))try{const r=await A$e(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.F_.get(u);c&&s.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.F_.get(l);if(!c)return;s.F_.set(l,c.withResumeToken(Fa.EMPTY_BYTE_STRING,c.snapshotVersion)),P$e(s,l);const d=new x0(c.target,l,u,c.sequenceNumber);fte(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ot("RemoteStore","Failed to raise snapshot:",r),await W3(e,r)}}async function W3(e,t,n){if(!Pk(t))throw t;e.M_.add(1),await Mk(e),e.N_.set("Offline"),n||(n=()=>A$e(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ot("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Dk(e)})}function O$e(e,t){return t().catch(n=>W3(e,n,t))}async function V4(e){const t=Tn(e),n=Ry(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;I5t(t);)try{const i=await d5t(t.localStore,r);if(i===null){t.v_.length===0&&n.n_();break}r=i.batchId,R5t(t,i)}catch(i){await W3(t,i)}D$e(t)&&M$e(t)}function I5t(e){return a_(e)&&e.v_.length<10}function R5t(e,t){e.v_.push(t);const n=Ry(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function D$e(e){return a_(e)&&!Ry(e).Zo()&&e.v_.length>0}function M$e(e){Ry(e).start()}async function k5t(e){Ry(e).V_()}async function P5t(e){const t=Ry(e);for(const n of e.v_)t.d_(n.mutations)}async function N5t(e,t,n){const r=e.v_.shift(),i=ste.from(r,t,n);await O$e(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await V4(e)}async function O5t(e,t){t&&Ry(e).E_&&await async function(r,i){if(function(o){return Ejt(o)&&o!==Ye.ABORTED}(i.code)){const s=r.v_.shift();Ry(r).t_(),await O$e(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await V4(r)}}(e,t),D$e(e)&&M$e(e)}async function Ege(e,t){const n=Tn(e);n.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const r=a_(n);n.M_.add(3),await Mk(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Dk(n)}async function D5t(e,t){const n=Tn(e);t?(n.M_.delete(2),await Dk(n)):t||(n.M_.add(2),await Mk(n),n.N_.set("Unknown"))}function KS(e){return e.B_||(e.B_=function(n,r,i){const s=Tn(n);return s.f_(),new b5t(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:S5t.bind(null,e),To:T5t.bind(null,e),Ao:C5t.bind(null,e),h_:A5t.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.t_(),pte(e)?hte(e):e.N_.set("Unknown")):(await e.B_.stop(),N$e(e))})),e.B_}function Ry(e){return e.k_||(e.k_=function(n,r,i){const s=Tn(n);return s.f_(),new _5t(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:k5t.bind(null,e),Ao:O5t.bind(null,e),R_:P5t.bind(null,e),A_:N5t.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.t_(),await V4(e)):(await e.k_.stop(),e.v_.length>0&&(Ot("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new km,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new mte(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(Ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gte(e,t){if(og("AsyncQueue",`${t}: ${e}`),Pk(e))return new Tt(Ye.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Yt.comparator(n.key,r.key):(n,r)=>Yt.comparator(n.key,r.key),this.keyedMap=s2(),this.sortedSet=new Ji(this.comparator)}static emptySet(t){return new xE(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xE)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new xE;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xge{constructor(){this.q_=new Ji(Yt.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):bn():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Sx{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sx(t,n,xE.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$4(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5t{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class $5t{constructor(){this.queries=new YS(t=>r$e(t),$4),this.onlineState="Unknown",this.z_=new Set}}async function $$e(e,t){const n=Tn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new M5t,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=gte(o,`Initialization of query '${vw(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&yte(n)}async function L$e(e,t){const n=Tn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(t);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L5t(e,t){const n=Tn(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&yte(n)}function F5t(e,t,n){const r=Tn(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function yte(e){e.z_.forEach(t=>{t.next()})}var Rq,Sge;(Sge=Rq||(Rq={})).J_="default",Sge.Cache="cache";class F$e{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Sx(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=Sx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Rq.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j$e{constructor(t){this.key=t}}class B$e{constructor(t){this.key=t}}class j5t{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=er(),this.mutatedKeys=er(),this.Ia=i$e(t),this.Ta=new xE(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new xge,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),h=L4(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.Ra(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.Ia(h,l)>0||u&&this.Ia(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const o=t.Aa.Q_();o.sort((c,d)=>function(h,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bn()}};return m(h)-m(p)}(c.type,d.type)||this.Ia(c.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new Sx(this.query,t.Ta,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new xge,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=er(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new B$e(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new j$e(r))}),n}pa(t){this.la=t.hs,this.Pa=er();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return Sx.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class B5t{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class z5t{constructor(t){this.key=t,this.wa=!1}}class U5t{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new YS(a=>r$e(a),$4),this.Da=new Map,this.Ca=new Set,this.va=new Ji(Yt.comparator),this.Fa=new Map,this.Ma=new lte,this.xa={},this.Oa=new Map,this.Na=xx.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function V5t(e,t,n=!0){const r=W$e(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await z$e(r,t,n,!0),i}async function H5t(e,t){const n=W$e(e);await z$e(n,t,!0,!1)}async function z$e(e,t,n,r){const i=await f5t(e.localStore,qh(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await q5t(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&k$e(e.remoteStore,i),a}async function q5t(e,t,n,r,i){e.Ba=(d,f,h)=>async function(m,g,y,v){let _=g.view.da(y);_.Xi&&(_=await bge(m.localStore,g.query,!1).then(({documents:x})=>g.view.da(x,_)));const w=v&&v.targetChanges.get(g.targetId),E=v&&v.targetMismatches.get(g.targetId)!=null,S=g.view.applyChanges(_,m.isPrimaryClient,w,E);return Cge(m,g.targetId,S.fa),S.snapshot}(e,d,f,h);const s=await bge(e.localStore,t,!0),o=new j5t(t,s.hs),a=o.da(s.documents),l=Ok.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Cge(e,n,u.fa);const c=new B5t(t,n,o);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function W5t(e,t,n){const r=Tn(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!$4(o,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Iq(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dte(r.remoteStore,i.targetId),kq(r,i.targetId)}).catch(kk)):(kq(r,i.targetId),await Iq(r.localStore,i.targetId,!0))}async function G5t(e,t){const n=Tn(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dte(n.remoteStore,r.targetId))}async function Y5t(e,t,n){const r=t8t(e);try{const i=await function(o,a){const l=Tn(o),u=eo.now(),c=a.reduce((h,p)=>h.add(p.key),er());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ag(),m=er();return l.os.getEntries(h,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(g=>{d=g;const y=[];for(const v of a){const _=yjt(v,d.get(v.key).overlayedDocument);_!=null&&y.push(new cv(v.key,_,KMe(_.value.mapValue),su.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,a)}).next(g=>{f=g;const y=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:f.batchId,changes:o$e(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Ji(Nr)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await $k(r,i.changes),await V4(r.remoteStore)}catch(i){const s=gte(i,"Failed to persist write");n.reject(s)}}async function U$e(e,t){const n=Tn(e);try{const r=await u5t(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(_i(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?_i(o.wa):i.removedDocuments.size>0&&(_i(o.wa),o.wa=!1))}),await $k(n,r,t)}catch(r){await kk(r)}}function Tge(e,t,n){const r=Tn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Tn(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.U_)f.j_(a)&&(u=!0)}),u&&yte(l)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function K5t(e,t,n){const r=Tn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let o=new Ji(Yt.comparator);o=o.insert(s,Ca.newNoDocument(s,Sn.min()));const a=er().add(s),l=new z4(Sn.min(),new Map,new Ji(Nr),o,a);await U$e(r,l),r.va=r.va.remove(s),r.Fa.delete(t),vte(r)}else await Iq(r.localStore,t,!1).then(()=>kq(r,t,n)).catch(kk)}async function X5t(e,t){const n=Tn(e),r=t.batch.batchId;try{const i=await l5t(n.localStore,t);H$e(n,r,null),V$e(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $k(n,i)}catch(i){await kk(i)}}async function Q5t(e,t,n){const r=Tn(e);try{const i=await function(o,a){const l=Tn(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(_i(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);H$e(r,t,n),V$e(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $k(r,i)}catch(i){await kk(i)}}function V$e(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function H$e(e,t,n){const r=Tn(e);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function kq(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(r=>{e.Ma.containsKey(r)||q$e(e,r)})}function q$e(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(dte(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),vte(e))}function Cge(e,t,n){for(const r of n)r instanceof j$e?(e.Ma.addReference(r.key,t),J5t(e,r)):r instanceof B$e?(Ot("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||q$e(e,r.key)):bn()}function J5t(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ot("SyncEngine","New document in limbo: "+n),e.Ca.add(r),vte(e))}function vte(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Yt(Ai.fromString(t)),r=e.Na.next();e.Fa.set(r,new z5t(n)),e.va=e.va.insert(n,r),k$e(e.remoteStore,new x0(qh(ite(n.path)),r,"TargetPurposeLimboResolution",Jee.oe))}}async function $k(e,t,n){const r=Tn(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=cte.Ki(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,u){const c=Tn(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>rt.forEach(u,f=>rt.forEach(f.qi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>rt.forEach(f.Qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Pk(d))throw d;Ot("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ns.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(f,m)}}}(r.localStore,s))}async function Z5t(e,t){const n=Tn(e);if(!n.currentUser.isEqual(t)){Ot("SyncEngine","User change. New user:",t.toKey());const r=await C$e(n.localStore,t);n.currentUser=t,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Tt(Ye.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $k(n,r.us)}}function e8t(e,t){const n=Tn(e),r=n.Fa.get(t);if(r&&r.wa)return er().add(r.key);{let i=er();const s=n.Da.get(t);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function W$e(e){const t=Tn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=U$e.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=e8t.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=K5t.bind(null,t),t.Sa.h_=L5t.bind(null,t.eventManager),t.Sa.ka=F5t.bind(null,t.eventManager),t}function t8t(e){const t=Tn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X5t.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q5t.bind(null,t),t}class Age{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=U4(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return a5t(this.persistence,new s5t,t.initialUser,this.serializer)}createPersistence(t){return new n5t(ute.Hr,this.serializer)}createSharedClientState(t){return new p5t}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class n8t{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tge(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z5t.bind(null,this.syncEngine),await D5t(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $5t}()}createDatastore(t){const n=U4(t.databaseInfo.databaseId),r=function(s){return new v5t(s)}(t.databaseInfo);return function(s,o,a,l){return new w5t(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new x5t(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Tge(this.syncEngine,n,0),function(){return wge.D()?new wge:new m5t}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const d=new U5t(i,s,o,a,l,u);return c&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Tn(r);Ot("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Mk(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G$e{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):og("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8t{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$l.UNAUTHENTICATED,this.clientId=WMe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ot("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ot("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new km;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=gte(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function K9(e,t){e.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await C$e(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ige(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Y$e(e);Ot("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Ege(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Ege(t.remoteStore,i)),e._onlineComponents=t}function i8t(e){return e.name==="FirebaseError"?e.code===Ye.FAILED_PRECONDITION||e.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Y$e(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await K9(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!i8t(n))throw n;UI("Error using user provided cache. Falling back to memory cache: "+n),await K9(e,new Age)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),await K9(e,new Age);return e._offlineComponents}async function bte(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),await Ige(e,e._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),await Ige(e,new n8t))),e._onlineComponents}function s8t(e){return Y$e(e).then(t=>t.persistence)}function o8t(e){return bte(e).then(t=>t.remoteStore)}function a8t(e){return bte(e).then(t=>t.syncEngine)}async function K$e(e){const t=await bte(e),n=t.eventManager;return n.onListen=V5t.bind(null,t.syncEngine),n.onUnlisten=W5t.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=H5t.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=G5t.bind(null,t.syncEngine),n}function l8t(e){return e.asyncQueue.enqueue(async()=>{const t=await s8t(e),n=await o8t(e);return t.setNetworkEnabled(!0),function(i){const s=Tn(i);return s.M_.delete(0),Dk(s)}(n)})}function u8t(e,t,n={}){const r=new km;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new G$e({next:f=>{o.enqueueAndForget(()=>L$e(s,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new Tt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Tt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new F$e(ite(a.path),c,{includeMetadataChanges:!0,ra:!0});return $$e(s,d)}(await K$e(e),e.asyncQueue,t,n,r)),r.promise}function c8t(e,t,n={}){const r=new km;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new G$e({next:f=>{o.enqueueAndForget(()=>L$e(s,d)),f.fromCache&&l.source==="server"?u.reject(new Tt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new F$e(a,c,{includeMetadataChanges:!0,ra:!0});return $$e(s,d)}(await K$e(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$e(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rge=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$e(e,t,n){if(!n)throw new Tt(Ye.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function d8t(e,t,n,r){if(t===!0&&r===!0)throw new Tt(Ye.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function kge(e){if(!Yt.isDocumentKey(e))throw new Tt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pge(e){if(Yt.isDocumentKey(e))throw new Tt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function H4(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bn()}function Ef(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=H4(e);throw new Tt(Ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nge{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Tt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}d8t("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X$e((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Tt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Tt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Tt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _te{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nge({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Tt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nge(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A4t;switch(r.type){case"firstParty":return new k4t(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Tt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rge.get(n);r&&(Ot("ComponentProvider","Removing Datastore"),Rge.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new l_(this.firestore,t,this._query)}}class ul{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Q0(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ul(this.firestore,t,this._key)}}class Q0 extends l_{constructor(t,n,r){super(t,n,ite(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ul(this.firestore,null,new Yt(t))}withConverter(t){return new Q0(this.firestore,t,this._path)}}function Td(e,t,...n){if(e=wi(e),Q$e("collection","path",t),e instanceof _te){const r=Ai.fromString(t,...n);return Pge(r),new Q0(e,null,r)}{if(!(e instanceof ul||e instanceof Q0))throw new Tt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ai.fromString(t,...n));return Pge(r),new Q0(e.firestore,null,r)}}function js(e,t,...n){if(e=wi(e),arguments.length===1&&(t=WMe.newId()),Q$e("doc","path",t),e instanceof _te){const r=Ai.fromString(t,...n);return kge(r),new ul(e,null,new Yt(r))}{if(!(e instanceof ul||e instanceof Q0))throw new Tt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ai.fromString(t,...n));return kge(r),new ul(e.firestore,e instanceof Q0?e.converter:null,new Yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8t{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new I$e(this,"async_queue_retry"),this.hu=()=>{const n=Y9();n&&Ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=Y9();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=Y9();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new km;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!Pk(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw og("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=mte.createAndSchedule(this,t,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&bn()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class dv extends _te{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new f8t}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||J$e(this),this._firestoreClient.terminate()}}function h8t(e,t,n){n||(n="(default)");const r=HS(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(jI(s,t))return i;throw new Tt(Ye.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Tt(Ye.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Tt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Lk(e){return e._firestoreClient||J$e(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function J$e(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new V4t(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,X$e(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new r8t(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function p8t(e){return l8t(Lk(e=Ef(e,dv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tx(Fa.fromBase64String(t))}catch(n){throw new Tt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Tx(Fa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Tt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wte=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Tt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nr(this._lat,t._lat)||Nr(this._long,t._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8t=/^__.*__$/;class g8t{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new cv(t,this.data,this.fieldMask,n,this.fieldTransforms):new Nk(t,this.data,n,this.fieldTransforms)}}class Z$e{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new cv(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function e3e(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bn()}}class Ete{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Ete(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return G3(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(e3e(this.fu)&&m8t.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class y8t{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||U4(t)}Fu(t,n,r,i=!1){return new Ete({fu:t,methodName:n,vu:r,path:Vo.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W4(e){const t=e._freezeSettings(),n=U4(e._databaseId);return new y8t(e._databaseId,!!t.ignoreUndefinedProperties,n)}function t3e(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Ste("Data must be an object, but it was:",o,r);const a=i3e(r,o);let l,u;if(s.merge)l=new Vu(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Pq(t,d,n);if(!o.contains(f))throw new Tt(Ye.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);o3e(c,f)||c.push(f)}l=new Vu(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new g8t(new Hl(a),l,u)}class G4 extends q4{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof G4}}class xte extends q4{_toFieldTransform(t){return new hjt(t.path,new YI)}isEqual(t){return t instanceof xte}}function n3e(e,t,n,r){const i=e.Fu(1,t,n);Ste("Data must be an object, but it was:",i,r);const s=[],o=Hl.empty();o_(r,(l,u)=>{const c=Tte(t,l,n);u=wi(u);const d=i.Su(c);if(u instanceof G4)s.push(c);else{const f=jk(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Vu(s);return new Z$e(o,a,i.fieldTransforms)}function r3e(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[Pq(t,r,n)],l=[i];if(s.length%2!=0)throw new Tt(Ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Pq(t,s[f])),l.push(s[f+1]);const u=[],c=Hl.empty();for(let f=a.length-1;f>=0;--f)if(!o3e(u,a[f])){const h=a[f];let p=l[f];p=wi(p);const m=o.Su(h);if(p instanceof G4)u.push(h);else{const g=jk(p,m);g!=null&&(u.push(h),c.set(h,g))}}const d=new Vu(u);return new Z$e(c,d,o.fieldTransforms)}function v8t(e,t,n,r=!1){return jk(n,e.Fu(r?4:3,t))}function jk(e,t){if(s3e(e=wi(e)))return Ste("Unsupported field value:",t,e),i3e(e,t);if(e instanceof q4)return function(r,i){if(!e3e(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=jk(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=wi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cjt(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=eo.fromDate(r);return{timestampValue:q3(i.serializer,s)}}if(r instanceof eo){const s=new eo(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:q3(i.serializer,s)}}if(r instanceof wte)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tx)return{bytesValue:b$e(i.serializer,r._byteString)};if(r instanceof ul){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ate(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${H4(r)}`)}(e,t)}function i3e(e,t){const n={};return GMe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):o_(e,(r,i)=>{const s=jk(i,t.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function s3e(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof eo||e instanceof wte||e instanceof Tx||e instanceof ul||e instanceof q4)}function Ste(e,t,n){if(!s3e(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=H4(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Pq(e,t,n){if((t=wi(t))instanceof Fk)return t._internalPath;if(typeof t=="string")return Tte(e,t);throw G3("Field path arguments must be of type string or ",e,!1,void 0,n)}const b8t=new RegExp("[~\\*/\\[\\]]");function Tte(e,t,n){if(t.search(b8t)>=0)throw G3(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Fk(...t.split("."))._internalPath}catch{throw G3(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function G3(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Tt(Ye.INVALID_ARGUMENT,a+e+l)}function o3e(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3e{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ul(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _8t(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Y4("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _8t extends a3e{data(){return super.data()}}function Y4(e,t){return typeof t=="string"?Tte(e,t):t instanceof Fk?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8t(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Tt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cte{}class l3e extends Cte{}function Oge(e,t,...n){let r=[];t instanceof Cte&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ate).length,a=s.filter(l=>l instanceof K4).length;if(o>1||o>0&&a>0)throw new Tt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class K4 extends l3e{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new K4(t,n,r)}_apply(t){const n=this._parse(t);return u3e(t._query,n),new l_(t.firestore,t.converter,Eq(t._query,n))}_parse(t){const n=W4(t.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Tt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Mge(d,c);const h=[];for(const p of d)h.push(Dge(l,s,p));f={arrayValue:{values:h}}}else f=Dge(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Mge(d,c),f=v8t(a,o,d,c==="in"||c==="not-in");return Ms.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function E8t(e,t,n){const r=t,i=Y4("where",e);return K4._create(i,r,n)}class Ate extends Cte{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ate(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wf.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)u3e(o,l),o=Eq(o,l)}(t._query,n),new l_(t.firestore,t.converter,Eq(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ite extends l3e{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ite(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new Tt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Tt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new GI(s,o)}(t._query,this._field,this._direction);return new l_(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new GS(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function x8t(e,t="asc"){const n=t,r=Y4("orderBy",e);return Ite._create(r,n)}function Dge(e,t,n){if(typeof(n=wi(n))=="string"){if(n==="")throw new Tt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n$e(t)&&n.indexOf("/")!==-1)throw new Tt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ai.fromString(n));if(!Yt.isDocumentKey(r))throw new Tt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nge(e,new Yt(r))}if(n instanceof ul)return nge(e,n._key);throw new Tt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${H4(n)}.`)}function Mge(e,t){if(!Array.isArray(e)||e.length===0)throw new Tt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function u3e(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Tt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Tt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class S8t{convertValue(t,n="none"){switch(Tb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ns(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Sb(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw bn()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return o_(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new wte(Ns(t.latitude),Ns(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ete(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(HI(t));default:return null}}convertTimestamp(t){const n=Iy(t);return new eo(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ai.fromString(t);_i(T$e(r));const i=new qI(r.get(1),r.get(3)),s=new Yt(r.popFirst(5));return i.isEqual(n)||og(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3e(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class d3e extends a3e{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new FD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Y4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class FD extends d3e{data(t={}){return super.data(t)}}class T8t{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new a2(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new FD(this._firestore,this._userDataWriter,r.key,r,new a2(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new FD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new a2(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new FD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new a2(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:C8t(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C8t(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(e){e=Ef(e,ul);const t=Ef(e.firestore,dv);return u8t(Lk(t),e._key).then(n=>R8t(t,e,n))}class f3e extends S8t{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tx(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ul(this.firestore,null,n)}}function eC(e){e=Ef(e,l_);const t=Ef(e.firestore,dv),n=Lk(t),r=new f3e(t);return w8t(e._query),c8t(n,e._query).then(i=>new T8t(t,r,e,i))}function Au(e,t,n){e=Ef(e,ul);const r=Ef(e.firestore,dv),i=c3e(e.converter,t,n);return X4(r,[t3e(W4(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,su.none())])}function A8t(e,t,n,...r){e=Ef(e,ul);const i=Ef(e.firestore,dv),s=W4(i);let o;return o=typeof(t=wi(t))=="string"||t instanceof Fk?r3e(s,"updateDoc",e._key,t,n,r):n3e(s,"updateDoc",e._key,t),X4(i,[o.toMutation(e._key,su.exists(!0))])}function I8t(e){return X4(Ef(e.firestore,dv),[new B4(e._key,su.none())])}function X4(e,t){return function(r,i){const s=new km;return r.asyncQueue.enqueueAndForget(async()=>Y5t(await a8t(r),i,s)),s.promise}(Lk(e),t)}function R8t(e,t,n){const r=n.docs.get(t._key),i=new f3e(e);return new d3e(e,i,t._key,r,new a2(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8t{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=W4(t)}set(t,n,r){this._verifyNotCommitted();const i=Q9(t,this._firestore),s=c3e(i.converter,n,r),o=t3e(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,su.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=Q9(t,this._firestore);let o;return o=typeof(n=wi(n))=="string"||n instanceof Fk?r3e(this._dataReader,"WriteBatch.update",s._key,n,r,i):n3e(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,su.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Q9(t,this._firestore);return this._mutations=this._mutations.concat(new B4(n._key,su.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Q9(e,t){if((e=wi(e)).firestore!==t)throw new Tt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function P8t(){return new xte("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ge(e){return Lk(e=Ef(e,dv)),new k8t(e,t=>X4(e,t))}(function(t,n=!0){(function(i){WS=i})(s_),ig(new rp("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dv(new I4t(r.getProvider("auth-internal")),new N4t(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Tt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qI(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),uf(Jme,"4.6.4",t),uf(Jme,"4.6.4","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=new Map,h3e={activated:!1,tokenObservers:[]},N8t={initialized:!1,enabled:!1};function to(e){return Nq.get(e)||Object.assign({},h3e)}function O8t(e,t){return Nq.set(e,t),Nq.get(e)}function Q4(){return N8t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3e="https://content-firebaseappcheck.googleapis.com/v1",D8t="exchangeRecaptchaV3Token",M8t="exchangeDebugToken",Lge={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$8t=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8t{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new FI,this.pending.promise.catch(n=>{}),await F8t(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new FI,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function F8t(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8t={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ql=new VS("appCheck","AppCheck",j8t);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fge(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function Rte(e){if(!to(e).activated)throw Ql.create("use-before-activation",{appName:e.name})}function m3e(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=tO(n)+"d:"),r&&(o+=tO(r)+"h:"),o+=tO(i)+"m:"+tO(s)+"s",o}function tO(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kte({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(d){throw Ql.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Ql.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Ql.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ql.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function B8t(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${p3e}/projects/${n}/apps/${r}:${D8t}?key=${i}`,body:{recaptcha_v3_token:t}}}function g3e(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${p3e}/projects/${n}/apps/${r}:${M8t}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8t="firebase-app-check-database",U8t=1,QI="firebase-app-check-store",y3e="debug-token";let nO=null;function v3e(){return nO||(nO=new Promise((e,t)=>{try{const n=indexedDB.open(z8t,U8t);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Ql.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(QI,{keyPath:"compositeKey"})}}}catch(n){t(Ql.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),nO)}function V8t(e){return _3e(w3e(e))}function H8t(e,t){return b3e(w3e(e),t)}function q8t(e){return b3e(y3e,e)}function W8t(){return _3e(y3e)}async function b3e(e,t){const r=(await v3e()).transaction(QI,"readwrite"),s=r.objectStore(QI).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Ql.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function _3e(e){const n=(await v3e()).transaction(QI,"readonly"),i=n.objectStore(QI).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Ql.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function w3e(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new I4("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8t(e){if(Nee()){let t;try{t=await V8t(e)}catch(n){JI.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function J9(e,t){return Nee()?H8t(e,t).catch(n=>{JI.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Y8t(){let e;try{e=await W8t()}catch{}if(e)return e;{const t=Y$t();return q8t(t).catch(n=>JI.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(){return Q4().enabled}async function Nte(){const e=Q4();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function K8t(){const e=FDe(),t=Q4();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new FI;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Y8t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8t={error:"UNKNOWN_ERROR"};function Q8t(e){return Pee.encodeString(JSON.stringify(e),!1)}async function Oq(e,t=!1){const n=e.app;Rte(n);const r=to(n);let i=r.token,s;if(i&&!Vw(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(Vw(l)?i=l:await J9(n,void 0))}if(!t&&i&&Vw(i))return{token:i.token};let o=!1;if(Pte()){r.exchangeTokenPromise||(r.exchangeTokenPromise=kte(g3e(n,await Nte()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await J9(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await to(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?JI.warn(l.message):JI.error(l),s=l}let a;return i?s?Vw(i)?a={token:i.token,internalError:s}:a=Bge(s):(a={token:i.token},r.token=i,await J9(n,i)):a=Bge(s),o&&S3e(n,a),a}async function J8t(e){const t=e.app;Rte(t);const{provider:n}=to(t);if(Pte()){const r=await Nte(),{token:i}=await kte(g3e(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function E3e(e,t,n,r){const{app:i}=e,s=to(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Vw(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),jge(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>jge(e))}function x3e(e,t){const n=to(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function jge(e){const{app:t}=e,n=to(t);let r=n.tokenRefresher;r||(r=Z8t(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Z8t(e){const{app:t}=e;return new L8t(async()=>{const n=to(t);let r;if(n.token?r=await Oq(e,!0):r=await Oq(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=to(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Lge.RETRIAL_MIN_WAIT,Lge.RETRIAL_MAX_WAIT)}function S3e(e,t){const n=to(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Vw(e){return e.expireTimeMillis-Date.now()>0}function Bge(e){return{token:Q8t(X8t),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eBt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=to(this.app);for(const n of t)x3e(this.app,n.next);return Promise.resolve()}}function tBt(e,t){return new eBt(e,t)}function nBt(e){return{getToken:t=>Oq(e,t),getLimitedUseToken:()=>J8t(e),addTokenListener:t=>E3e(e,"INTERNAL",t),removeTokenListener:t=>x3e(e.app,t)}}const rBt="@firebase/app-check",iBt="0.8.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sBt="https://www.google.com/recaptcha/api.js";function oBt(e,t){const n=new FI,r=to(e);r.reCAPTCHAState={initialized:n};const i=aBt(e),s=Fge(!1);return s?zge(e,t,s,i,n):cBt(()=>{const o=Fge(!1);if(!o)throw new Error("no recaptcha");zge(e,t,o,i,n)}),n.promise}function zge(e,t,n,r,i){n.ready(()=>{uBt(e,t,n,r),i.resolve(n)})}function aBt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function lBt(e){Rte(e);const n=await to(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=to(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function uBt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{to(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{to(e).reCAPTCHAState.succeeded=!1}}),s=to(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function cBt(e){const t=document.createElement("script");t.src=sBt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;fBt(this._throttleData);const i=await lBt(this._app).catch(o=>{throw Ql.create("recaptcha-error")});if(!(!((t=to(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Ql.create("recaptcha-error");let s;try{s=await kte(B8t(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=dBt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Ql.create("throttled",{time:m3e(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=HS(t,"heartbeat"),oBt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof Ote?this._siteKey===t._siteKey:!1}}function dBt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+$8t,httpStatus:e};{const n=t?t.backoffCount:0,r=Z$t(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function fBt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Ql.create("throttled",{time:m3e(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hBt(e=Dee(),t){e=wi(e);const n=HS(e,"app-check");if(Q4().initialized||K8t(),Pte()&&Nte().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Ql.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return pBt(e,t.provider,t.isTokenAutoRefreshEnabled),to(e).isTokenAutoRefreshEnabled&&E3e(r,"INTERNAL",()=>{}),r}function pBt(e,t,n){const r=O8t(e,Object.assign({},h3e));r.activated=!0,r.provider=t,r.cachedTokenPromise=G8t(e).then(i=>(i&&Vw(i)&&(r.token=i,S3e(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const mBt="app-check",Uge="app-check-internal";function gBt(){ig(new rp(mBt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return tBt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Uge).initialize()})),ig(new rp(Uge,e=>{const t=e.getProvider("app-check").getImmediate();return nBt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),uf(rBt,iBt)}gBt();function rO(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T3e={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof rO=="function"&&rO;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof rO=="function"&&rO,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Ys<"u"?Ys:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==o&&m(this,E)}d.prototype.catch=function(E){return this.then(null,E)},d.prototype.then=function(E,S){if(typeof E!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var x=new this.constructor(o);if(this.state!==c){var T=this.state===u?E:S;h(x,T,this.outcome)}else this.queue.push(new f(x,E,S));return x};function f(E,S,x){this.promise=E,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(E){a.resolve(this.promise,E)},f.prototype.otherCallFulfilled=function(E){h(this.promise,this.onFulfilled,E)},f.prototype.callRejected=function(E){a.reject(this.promise,E)},f.prototype.otherCallRejected=function(E){h(this.promise,this.onRejected,E)};function h(E,S,x){s(function(){var T;try{T=S(x)}catch(I){return a.reject(E,I)}T===E?a.reject(E,new TypeError("Cannot resolve promise with itself")):a.resolve(E,T)})}a.resolve=function(E,S){var x=g(p,S);if(x.status==="error")return a.reject(E,x.value);var T=x.value;if(T)m(E,T);else{E.state=u,E.outcome=S;for(var I=-1,P=E.queue.length;++I<P;)E.queue[I].callFulfilled(S)}return E},a.reject=function(E,S){E.state=l,E.outcome=S;for(var x=-1,T=E.queue.length;++x<T;)E.queue[x].callRejected(S);return E};function p(E){var S=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof S=="function")return function(){S.apply(E,arguments)}}function m(E,S){var x=!1;function T(D){x||(x=!0,a.reject(E,D))}function I(D){x||(x=!0,a.resolve(E,D))}function P(){S(I,T)}var k=g(P);k.status==="error"&&T(k.value)}function g(E,S){var x={};try{x.value=E(S),x.status="success"}catch(T){x.status="error",x.value=T}return x}d.resolve=y;function y(E){return E instanceof this?E:a.resolve(new this(o),E)}d.reject=v;function v(E){var S=new this(o);return a.reject(S,E)}d.all=_;function _(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=E.length,T=!1;if(!x)return this.resolve([]);for(var I=new Array(x),P=0,k=-1,D=new this(o);++k<x;)R(E[k],k);return D;function R(M,$){S.resolve(M).then(L,function(B){T||(T=!0,a.reject(D,B))});function L(B){I[$]=B,++P===x&&!T&&(T=!0,a.resolve(D,I))}}}d.race=w;function w(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=E.length,T=!1;if(!x)return this.resolve([]);for(var I=-1,P=new this(o);++I<x;)k(E[I]);return P;function k(D){S.resolve(D).then(function(R){T||(T=!0,a.resolve(P,R))},function(R){T||(T=!0,a.reject(P,R))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Ys<"u"?Ys:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y};function o(Y,fe){if(!(Y instanceof fe))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var Y=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),fe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Y||fe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(Y,fe){Y=Y||[],fe=fe||{};try{return new Blob(Y,fe)}catch(ge){if(ge.name!=="TypeError")throw ge;for(var ee=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ve=new ee,we=0;we<Y.length;we+=1)ve.append(Y[we]);return ve.getBlob(fe.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(Y,fe){fe&&Y.then(function(ee){fe(null,ee)},function(ee){fe(ee)})}function h(Y,fe,ee){typeof fe=="function"&&Y.then(fe),typeof ee=="function"&&Y.catch(ee)}function p(Y){return typeof Y!="string"&&(console.warn(Y+" used as a key, but it is not a string."),Y=String(Y)),Y}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},_=Object.prototype.toString,w="readonly",E="readwrite";function S(Y){for(var fe=Y.length,ee=new ArrayBuffer(fe),ve=new Uint8Array(ee),we=0;we<fe;we++)ve[we]=Y.charCodeAt(we);return ee}function x(Y){return new d(function(fe){var ee=Y.transaction(g,E),ve=c([""]);ee.objectStore(g).put(ve,"key"),ee.onabort=function(we){we.preventDefault(),we.stopPropagation(),fe(!1)},ee.oncomplete=function(){var we=navigator.userAgent.match(/Chrome\/(\d+)/),ge=navigator.userAgent.match(/Edge\//);fe(ge||!we||parseInt(we[1],10)>=43)}}).catch(function(){return!1})}function T(Y){return typeof y=="boolean"?d.resolve(y):x(Y).then(function(fe){return y=fe,y})}function I(Y){var fe=v[Y.name],ee={};ee.promise=new d(function(ve,we){ee.resolve=ve,ee.reject=we}),fe.deferredOperations.push(ee),fe.dbReady?fe.dbReady=fe.dbReady.then(function(){return ee.promise}):fe.dbReady=ee.promise}function P(Y){var fe=v[Y.name],ee=fe.deferredOperations.pop();if(ee)return ee.resolve(),ee.promise}function k(Y,fe){var ee=v[Y.name],ve=ee.deferredOperations.pop();if(ve)return ve.reject(fe),ve.promise}function D(Y,fe){return new d(function(ee,ve){if(v[Y.name]=v[Y.name]||W(),Y.db)if(fe)I(Y),Y.db.close();else return ee(Y.db);var we=[Y.name];fe&&we.push(Y.version);var ge=l.open.apply(l,we);fe&&(ge.onupgradeneeded=function(ze){var Xe=ge.result;try{Xe.createObjectStore(Y.storeName),ze.oldVersion<=1&&Xe.createObjectStore(g)}catch(Ze){if(Ze.name==="ConstraintError")console.warn('The database "'+Y.name+'" has been upgraded from version '+ze.oldVersion+" to version "+ze.newVersion+', but the storage "'+Y.storeName+'" already exists.');else throw Ze}}),ge.onerror=function(ze){ze.preventDefault(),ve(ge.error)},ge.onsuccess=function(){var ze=ge.result;ze.onversionchange=function(Xe){Xe.target.close()},ee(ze),P(Y)}})}function R(Y){return D(Y,!1)}function M(Y){return D(Y,!0)}function $(Y,fe){if(!Y.db)return!0;var ee=!Y.db.objectStoreNames.contains(Y.storeName),ve=Y.version<Y.db.version,we=Y.version>Y.db.version;if(ve&&(Y.version!==fe&&console.warn('The database "'+Y.name+`" can't be downgraded from version `+Y.db.version+" to version "+Y.version+"."),Y.version=Y.db.version),we||ee){if(ee){var ge=Y.db.version+1;ge>Y.version&&(Y.version=ge)}return!0}return!1}function L(Y){return new d(function(fe,ee){var ve=new FileReader;ve.onerror=ee,ve.onloadend=function(we){var ge=btoa(we.target.result||"");fe({__local_forage_encoded_blob:!0,data:ge,type:Y.type})},ve.readAsBinaryString(Y)})}function B(Y){var fe=S(atob(Y.data));return c([fe],{type:Y.type})}function z(Y){return Y&&Y.__local_forage_encoded_blob}function U(Y){var fe=this,ee=fe._initReady().then(function(){var ve=v[fe._dbInfo.name];if(ve&&ve.dbReady)return ve.dbReady});return h(ee,Y,Y),ee}function N(Y){I(Y);for(var fe=v[Y.name],ee=fe.forages,ve=0;ve<ee.length;ve++){var we=ee[ve];we._dbInfo.db&&(we._dbInfo.db.close(),we._dbInfo.db=null)}return Y.db=null,R(Y).then(function(ge){return Y.db=ge,$(Y)?M(Y):ge}).then(function(ge){Y.db=fe.db=ge;for(var ze=0;ze<ee.length;ze++)ee[ze]._dbInfo.db=ge}).catch(function(ge){throw k(Y,ge),ge})}function V(Y,fe,ee,ve){ve===void 0&&(ve=1);try{var we=Y.db.transaction(Y.storeName,fe);ee(null,we)}catch(ge){if(ve>0&&(!Y.db||ge.name==="InvalidStateError"||ge.name==="NotFoundError"))return d.resolve().then(function(){if(!Y.db||ge.name==="NotFoundError"&&!Y.db.objectStoreNames.contains(Y.storeName)&&Y.version<=Y.db.version)return Y.db&&(Y.version=Y.db.version+1),M(Y)}).then(function(){return N(Y).then(function(){V(Y,fe,ee,ve-1)})}).catch(ee);ee(ge)}}function W(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(Y){var fe=this,ee={db:null};if(Y)for(var ve in Y)ee[ve]=Y[ve];var we=v[ee.name];we||(we=W(),v[ee.name]=we),we.forages.push(fe),fe._initReady||(fe._initReady=fe.ready,fe.ready=U);var ge=[];function ze(){return d.resolve()}for(var Xe=0;Xe<we.forages.length;Xe++){var Ze=we.forages[Xe];Ze!==fe&&ge.push(Ze._initReady().catch(ze))}var et=we.forages.slice(0);return d.all(ge).then(function(){return ee.db=we.db,R(ee)}).then(function(ct){return ee.db=ct,$(ee,fe._defaultConfig.version)?M(ee):ct}).then(function(ct){ee.db=we.db=ct,fe._dbInfo=ee;for(var At=0;At<et.length;At++){var In=et[At];In!==fe&&(In._dbInfo.db=ee.db,In._dbInfo.version=ee.version)}})}function H(Y,fe){var ee=this;Y=p(Y);var ve=new d(function(we,ge){ee.ready().then(function(){V(ee._dbInfo,w,function(ze,Xe){if(ze)return ge(ze);try{var Ze=Xe.objectStore(ee._dbInfo.storeName),et=Ze.get(Y);et.onsuccess=function(){var ct=et.result;ct===void 0&&(ct=null),z(ct)&&(ct=B(ct)),we(ct)},et.onerror=function(){ge(et.error)}}catch(ct){ge(ct)}})}).catch(ge)});return f(ve,fe),ve}function G(Y,fe){var ee=this,ve=new d(function(we,ge){ee.ready().then(function(){V(ee._dbInfo,w,function(ze,Xe){if(ze)return ge(ze);try{var Ze=Xe.objectStore(ee._dbInfo.storeName),et=Ze.openCursor(),ct=1;et.onsuccess=function(){var At=et.result;if(At){var In=At.value;z(In)&&(In=B(In));var Lt=Y(In,At.key,ct++);Lt!==void 0?we(Lt):At.continue()}else we()},et.onerror=function(){ge(et.error)}}catch(At){ge(At)}})}).catch(ge)});return f(ve,fe),ve}function X(Y,fe,ee){var ve=this;Y=p(Y);var we=new d(function(ge,ze){var Xe;ve.ready().then(function(){return Xe=ve._dbInfo,_.call(fe)==="[object Blob]"?T(Xe.db).then(function(Ze){return Ze?fe:L(fe)}):fe}).then(function(Ze){V(ve._dbInfo,E,function(et,ct){if(et)return ze(et);try{var At=ct.objectStore(ve._dbInfo.storeName);Ze===null&&(Ze=void 0);var In=At.put(Ze,Y);ct.oncomplete=function(){Ze===void 0&&(Ze=null),ge(Ze)},ct.onabort=ct.onerror=function(){var Lt=In.error?In.error:In.transaction.error;ze(Lt)}}catch(Lt){ze(Lt)}})}).catch(ze)});return f(we,ee),we}function ie(Y,fe){var ee=this;Y=p(Y);var ve=new d(function(we,ge){ee.ready().then(function(){V(ee._dbInfo,E,function(ze,Xe){if(ze)return ge(ze);try{var Ze=Xe.objectStore(ee._dbInfo.storeName),et=Ze.delete(Y);Xe.oncomplete=function(){we()},Xe.onerror=function(){ge(et.error)},Xe.onabort=function(){var ct=et.error?et.error:et.transaction.error;ge(ct)}}catch(ct){ge(ct)}})}).catch(ge)});return f(ve,fe),ve}function oe(Y){var fe=this,ee=new d(function(ve,we){fe.ready().then(function(){V(fe._dbInfo,E,function(ge,ze){if(ge)return we(ge);try{var Xe=ze.objectStore(fe._dbInfo.storeName),Ze=Xe.clear();ze.oncomplete=function(){ve()},ze.onabort=ze.onerror=function(){var et=Ze.error?Ze.error:Ze.transaction.error;we(et)}}catch(et){we(et)}})}).catch(we)});return f(ee,Y),ee}function se(Y){var fe=this,ee=new d(function(ve,we){fe.ready().then(function(){V(fe._dbInfo,w,function(ge,ze){if(ge)return we(ge);try{var Xe=ze.objectStore(fe._dbInfo.storeName),Ze=Xe.count();Ze.onsuccess=function(){ve(Ze.result)},Ze.onerror=function(){we(Ze.error)}}catch(et){we(et)}})}).catch(we)});return f(ee,Y),ee}function le(Y,fe){var ee=this,ve=new d(function(we,ge){if(Y<0){we(null);return}ee.ready().then(function(){V(ee._dbInfo,w,function(ze,Xe){if(ze)return ge(ze);try{var Ze=Xe.objectStore(ee._dbInfo.storeName),et=!1,ct=Ze.openKeyCursor();ct.onsuccess=function(){var At=ct.result;if(!At){we(null);return}Y===0||et?we(At.key):(et=!0,At.advance(Y))},ct.onerror=function(){ge(ct.error)}}catch(At){ge(At)}})}).catch(ge)});return f(ve,fe),ve}function Se(Y){var fe=this,ee=new d(function(ve,we){fe.ready().then(function(){V(fe._dbInfo,w,function(ge,ze){if(ge)return we(ge);try{var Xe=ze.objectStore(fe._dbInfo.storeName),Ze=Xe.openKeyCursor(),et=[];Ze.onsuccess=function(){var ct=Ze.result;if(!ct){ve(et);return}et.push(ct.key),ct.continue()},Ze.onerror=function(){we(Ze.error)}}catch(ct){we(ct)}})}).catch(we)});return f(ee,Y),ee}function de(Y,fe){fe=m.apply(this,arguments);var ee=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||ee.name,Y.storeName=Y.storeName||ee.storeName);var ve=this,we;if(!Y.name)we=d.reject("Invalid arguments");else{var ge=Y.name===ee.name&&ve._dbInfo.db,ze=ge?d.resolve(ve._dbInfo.db):R(Y).then(function(Xe){var Ze=v[Y.name],et=Ze.forages;Ze.db=Xe;for(var ct=0;ct<et.length;ct++)et[ct]._dbInfo.db=Xe;return Xe});Y.storeName?we=ze.then(function(Xe){if(Xe.objectStoreNames.contains(Y.storeName)){var Ze=Xe.version+1;I(Y);var et=v[Y.name],ct=et.forages;Xe.close();for(var At=0;At<ct.length;At++){var In=ct[At];In._dbInfo.db=null,In._dbInfo.version=Ze}var Lt=new d(function(Jn,Ur){var Vr=l.open(Y.name,Ze);Vr.onerror=function(sa){var Yf=Vr.result;Yf.close(),Ur(sa)},Vr.onupgradeneeded=function(){var sa=Vr.result;sa.deleteObjectStore(Y.storeName)},Vr.onsuccess=function(){var sa=Vr.result;sa.close(),Jn(sa)}});return Lt.then(function(Jn){et.db=Jn;for(var Ur=0;Ur<ct.length;Ur++){var Vr=ct[Ur];Vr._dbInfo.db=Jn,P(Vr._dbInfo)}}).catch(function(Jn){throw(k(Y,Jn)||d.resolve()).catch(function(){}),Jn})}}):we=ze.then(function(Xe){I(Y);var Ze=v[Y.name],et=Ze.forages;Xe.close();for(var ct=0;ct<et.length;ct++){var At=et[ct];At._dbInfo.db=null}var In=new d(function(Lt,Jn){var Ur=l.deleteDatabase(Y.name);Ur.onerror=function(){var Vr=Ur.result;Vr&&Vr.close(),Jn(Ur.error)},Ur.onblocked=function(){console.warn('dropInstance blocked for database "'+Y.name+'" until all open connections are closed')},Ur.onsuccess=function(){var Vr=Ur.result;Vr&&Vr.close(),Lt(Vr)}});return In.then(function(Lt){Ze.db=Lt;for(var Jn=0;Jn<et.length;Jn++){var Ur=et[Jn];P(Ur._dbInfo)}}).catch(function(Lt){throw(k(Y,Lt)||d.resolve()).catch(function(){}),Lt})})}return f(we,fe),we}var De={_driver:"asyncStorage",_initStorage:F,_support:u(),iterate:G,getItem:H,setItem:X,removeItem:ie,clear:oe,length:se,key:le,keys:Se,dropInstance:de};function Fe(){return typeof openDatabase=="function"}var Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="~~local_forage_type~",me=/^~~local_forage_type~([^~]+)~/,ne="__lfsc__:",Ee=ne.length,Pe="arbf",Je="blob",qe="si08",_e="ui08",Qe="uic8",pt="si16",ye="si32",ke="ur16",Ge="ui32",Ke="fl32",xt="fl64",Cn=Ee+Pe.length,gr=Object.prototype.toString;function yr(Y){var fe=Y.length*.75,ee=Y.length,ve,we=0,ge,ze,Xe,Ze;Y[Y.length-1]==="="&&(fe--,Y[Y.length-2]==="="&&fe--);var et=new ArrayBuffer(fe),ct=new Uint8Array(et);for(ve=0;ve<ee;ve+=4)ge=Be.indexOf(Y[ve]),ze=Be.indexOf(Y[ve+1]),Xe=Be.indexOf(Y[ve+2]),Ze=Be.indexOf(Y[ve+3]),ct[we++]=ge<<2|ze>>4,ct[we++]=(ze&15)<<4|Xe>>2,ct[we++]=(Xe&3)<<6|Ze&63;return et}function kr(Y){var fe=new Uint8Array(Y),ee="",ve;for(ve=0;ve<fe.length;ve+=3)ee+=Be[fe[ve]>>2],ee+=Be[(fe[ve]&3)<<4|fe[ve+1]>>4],ee+=Be[(fe[ve+1]&15)<<2|fe[ve+2]>>6],ee+=Be[fe[ve+2]&63];return fe.length%3===2?ee=ee.substring(0,ee.length-1)+"=":fe.length%3===1&&(ee=ee.substring(0,ee.length-2)+"=="),ee}function Xt(Y,fe){var ee="";if(Y&&(ee=gr.call(Y)),Y&&(ee==="[object ArrayBuffer]"||Y.buffer&&gr.call(Y.buffer)==="[object ArrayBuffer]")){var ve,we=ne;Y instanceof ArrayBuffer?(ve=Y,we+=Pe):(ve=Y.buffer,ee==="[object Int8Array]"?we+=qe:ee==="[object Uint8Array]"?we+=_e:ee==="[object Uint8ClampedArray]"?we+=Qe:ee==="[object Int16Array]"?we+=pt:ee==="[object Uint16Array]"?we+=ke:ee==="[object Int32Array]"?we+=ye:ee==="[object Uint32Array]"?we+=Ge:ee==="[object Float32Array]"?we+=Ke:ee==="[object Float64Array]"?we+=xt:fe(new Error("Failed to get type for BinaryArray"))),fe(we+kr(ve))}else if(ee==="[object Blob]"){var ge=new FileReader;ge.onload=function(){var ze=je+Y.type+"~"+kr(this.result);fe(ne+Je+ze)},ge.readAsArrayBuffer(Y)}else try{fe(JSON.stringify(Y))}catch(ze){console.error("Couldn't convert value into a JSON string: ",Y),fe(null,ze)}}function Dn(Y){if(Y.substring(0,Ee)!==ne)return JSON.parse(Y);var fe=Y.substring(Cn),ee=Y.substring(Ee,Cn),ve;if(ee===Je&&me.test(fe)){var we=fe.match(me);ve=we[1],fe=fe.substring(we[0].length)}var ge=yr(fe);switch(ee){case Pe:return ge;case Je:return c([ge],{type:ve});case qe:return new Int8Array(ge);case _e:return new Uint8Array(ge);case Qe:return new Uint8ClampedArray(ge);case pt:return new Int16Array(ge);case ke:return new Uint16Array(ge);case ye:return new Int32Array(ge);case Ge:return new Uint32Array(ge);case Ke:return new Float32Array(ge);case xt:return new Float64Array(ge);default:throw new Error("Unkown type: "+ee)}}var rr={serialize:Xt,deserialize:Dn,stringToBuffer:yr,bufferToString:kr};function ir(Y,fe,ee,ve){Y.executeSql("CREATE TABLE IF NOT EXISTS "+fe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ee,ve)}function ao(Y){var fe=this,ee={db:null};if(Y)for(var ve in Y)ee[ve]=typeof Y[ve]!="string"?Y[ve].toString():Y[ve];var we=new d(function(ge,ze){try{ee.db=openDatabase(ee.name,String(ee.version),ee.description,ee.size)}catch(Xe){return ze(Xe)}ee.db.transaction(function(Xe){ir(Xe,ee,function(){fe._dbInfo=ee,ge()},function(Ze,et){ze(et)})},ze)});return ee.serializer=rr,we}function Oi(Y,fe,ee,ve,we,ge){Y.executeSql(ee,ve,we,function(ze,Xe){Xe.code===Xe.SYNTAX_ERR?ze.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[fe.storeName],function(Ze,et){et.rows.length?ge(Ze,Xe):ir(Ze,fe,function(){Ze.executeSql(ee,ve,we,ge)},ge)},ge):ge(ze,Xe)},ge)}function Ui(Y,fe){var ee=this;Y=p(Y);var ve=new d(function(we,ge){ee.ready().then(function(){var ze=ee._dbInfo;ze.db.transaction(function(Xe){Oi(Xe,ze,"SELECT * FROM "+ze.storeName+" WHERE key = ? LIMIT 1",[Y],function(Ze,et){var ct=et.rows.length?et.rows.item(0).value:null;ct&&(ct=ze.serializer.deserialize(ct)),we(ct)},function(Ze,et){ge(et)})})}).catch(ge)});return f(ve,fe),ve}function Un(Y,fe){var ee=this,ve=new d(function(we,ge){ee.ready().then(function(){var ze=ee._dbInfo;ze.db.transaction(function(Xe){Oi(Xe,ze,"SELECT * FROM "+ze.storeName,[],function(Ze,et){for(var ct=et.rows,At=ct.length,In=0;In<At;In++){var Lt=ct.item(In),Jn=Lt.value;if(Jn&&(Jn=ze.serializer.deserialize(Jn)),Jn=Y(Jn,Lt.key,In+1),Jn!==void 0){we(Jn);return}}we()},function(Ze,et){ge(et)})})}).catch(ge)});return f(ve,fe),ve}function Wn(Y,fe,ee,ve){var we=this;Y=p(Y);var ge=new d(function(ze,Xe){we.ready().then(function(){fe===void 0&&(fe=null);var Ze=fe,et=we._dbInfo;et.serializer.serialize(fe,function(ct,At){At?Xe(At):et.db.transaction(function(In){Oi(In,et,"INSERT OR REPLACE INTO "+et.storeName+" (key, value) VALUES (?, ?)",[Y,ct],function(){ze(Ze)},function(Lt,Jn){Xe(Jn)})},function(In){if(In.code===In.QUOTA_ERR){if(ve>0){ze(Wn.apply(we,[Y,Ze,ee,ve-1]));return}Xe(In)}})})}).catch(Xe)});return f(ge,ee),ge}function Zi(Y,fe,ee){return Wn.apply(this,[Y,fe,ee,1])}function wd(Y,fe){var ee=this;Y=p(Y);var ve=new d(function(we,ge){ee.ready().then(function(){var ze=ee._dbInfo;ze.db.transaction(function(Xe){Oi(Xe,ze,"DELETE FROM "+ze.storeName+" WHERE key = ?",[Y],function(){we()},function(Ze,et){ge(et)})})}).catch(ge)});return f(ve,fe),ve}function Va(Y){var fe=this,ee=new d(function(ve,we){fe.ready().then(function(){var ge=fe._dbInfo;ge.db.transaction(function(ze){Oi(ze,ge,"DELETE FROM "+ge.storeName,[],function(){ve()},function(Xe,Ze){we(Ze)})})}).catch(we)});return f(ee,Y),ee}function mc(Y){var fe=this,ee=new d(function(ve,we){fe.ready().then(function(){var ge=fe._dbInfo;ge.db.transaction(function(ze){Oi(ze,ge,"SELECT COUNT(key) as c FROM "+ge.storeName,[],function(Xe,Ze){var et=Ze.rows.item(0).c;ve(et)},function(Xe,Ze){we(Ze)})})}).catch(we)});return f(ee,Y),ee}function mt(Y,fe){var ee=this,ve=new d(function(we,ge){ee.ready().then(function(){var ze=ee._dbInfo;ze.db.transaction(function(Xe){Oi(Xe,ze,"SELECT key FROM "+ze.storeName+" WHERE id = ? LIMIT 1",[Y+1],function(Ze,et){var ct=et.rows.length?et.rows.item(0).key:null;we(ct)},function(Ze,et){ge(et)})})}).catch(ge)});return f(ve,fe),ve}function fi(Y){var fe=this,ee=new d(function(ve,we){fe.ready().then(function(){var ge=fe._dbInfo;ge.db.transaction(function(ze){Oi(ze,ge,"SELECT key FROM "+ge.storeName,[],function(Xe,Ze){for(var et=[],ct=0;ct<Ze.rows.length;ct++)et.push(Ze.rows.item(ct).key);ve(et)},function(Xe,Ze){we(Ze)})})}).catch(we)});return f(ee,Y),ee}function wn(Y){return new d(function(fe,ee){Y.transaction(function(ve){ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(we,ge){for(var ze=[],Xe=0;Xe<ge.rows.length;Xe++)ze.push(ge.rows.item(Xe).name);fe({db:Y,storeNames:ze})},function(we,ge){ee(ge)})},function(ve){ee(ve)})})}function $r(Y,fe){fe=m.apply(this,arguments);var ee=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||ee.name,Y.storeName=Y.storeName||ee.storeName);var ve=this,we;return Y.name?we=new d(function(ge){var ze;Y.name===ee.name?ze=ve._dbInfo.db:ze=openDatabase(Y.name,"","",0),Y.storeName?ge({db:ze,storeNames:[Y.storeName]}):ge(wn(ze))}).then(function(ge){return new d(function(ze,Xe){ge.db.transaction(function(Ze){function et(Lt){return new d(function(Jn,Ur){Ze.executeSql("DROP TABLE IF EXISTS "+Lt,[],function(){Jn()},function(Vr,sa){Ur(sa)})})}for(var ct=[],At=0,In=ge.storeNames.length;At<In;At++)ct.push(et(ge.storeNames[At]));d.all(ct).then(function(){ze()}).catch(function(Lt){Xe(Lt)})},function(Ze){Xe(Ze)})})}):we=d.reject("Invalid arguments"),f(we,fe),we}var ri={_driver:"webSQLStorage",_initStorage:ao,_support:Fe(),iterate:Un,getItem:Ui,setItem:Zi,removeItem:wd,clear:Va,length:mc,key:mt,keys:fi,dropInstance:$r};function ii(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ce(Y,fe){var ee=Y.name+"/";return Y.storeName!==fe.storeName&&(ee+=Y.storeName+"/"),ee}function te(){var Y="_localforage_support_test";try{return localStorage.setItem(Y,!0),localStorage.removeItem(Y),!1}catch{return!0}}function he(){return!te()||localStorage.length>0}function Ie(Y){var fe=this,ee={};if(Y)for(var ve in Y)ee[ve]=Y[ve];return ee.keyPrefix=ce(Y,fe._defaultConfig),he()?(fe._dbInfo=ee,ee.serializer=rr,d.resolve()):d.reject()}function Re(Y){var fe=this,ee=fe.ready().then(function(){for(var ve=fe._dbInfo.keyPrefix,we=localStorage.length-1;we>=0;we--){var ge=localStorage.key(we);ge.indexOf(ve)===0&&localStorage.removeItem(ge)}});return f(ee,Y),ee}function dt(Y,fe){var ee=this;Y=p(Y);var ve=ee.ready().then(function(){var we=ee._dbInfo,ge=localStorage.getItem(we.keyPrefix+Y);return ge&&(ge=we.serializer.deserialize(ge)),ge});return f(ve,fe),ve}function kt(Y,fe){var ee=this,ve=ee.ready().then(function(){for(var we=ee._dbInfo,ge=we.keyPrefix,ze=ge.length,Xe=localStorage.length,Ze=1,et=0;et<Xe;et++){var ct=localStorage.key(et);if(ct.indexOf(ge)===0){var At=localStorage.getItem(ct);if(At&&(At=we.serializer.deserialize(At)),At=Y(At,ct.substring(ze),Ze++),At!==void 0)return At}}});return f(ve,fe),ve}function rn(Y,fe){var ee=this,ve=ee.ready().then(function(){var we=ee._dbInfo,ge;try{ge=localStorage.key(Y)}catch{ge=null}return ge&&(ge=ge.substring(we.keyPrefix.length)),ge});return f(ve,fe),ve}function Gn(Y){var fe=this,ee=fe.ready().then(function(){for(var ve=fe._dbInfo,we=localStorage.length,ge=[],ze=0;ze<we;ze++){var Xe=localStorage.key(ze);Xe.indexOf(ve.keyPrefix)===0&&ge.push(Xe.substring(ve.keyPrefix.length))}return ge});return f(ee,Y),ee}function Qn(Y){var fe=this,ee=fe.keys().then(function(ve){return ve.length});return f(ee,Y),ee}function An(Y,fe){var ee=this;Y=p(Y);var ve=ee.ready().then(function(){var we=ee._dbInfo;localStorage.removeItem(we.keyPrefix+Y)});return f(ve,fe),ve}function vr(Y,fe,ee){var ve=this;Y=p(Y);var we=ve.ready().then(function(){fe===void 0&&(fe=null);var ge=fe;return new d(function(ze,Xe){var Ze=ve._dbInfo;Ze.serializer.serialize(fe,function(et,ct){if(ct)Xe(ct);else try{localStorage.setItem(Ze.keyPrefix+Y,et),ze(ge)}catch(At){(At.name==="QuotaExceededError"||At.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Xe(At),Xe(At)}})})});return f(we,ee),we}function zr(Y,fe){if(fe=m.apply(this,arguments),Y=typeof Y!="function"&&Y||{},!Y.name){var ee=this.config();Y.name=Y.name||ee.name,Y.storeName=Y.storeName||ee.storeName}var ve=this,we;return Y.name?we=new d(function(ge){Y.storeName?ge(ce(Y,ve._defaultConfig)):ge(Y.name+"/")}).then(function(ge){for(var ze=localStorage.length-1;ze>=0;ze--){var Xe=localStorage.key(ze);Xe.indexOf(ge)===0&&localStorage.removeItem(Xe)}}):we=d.reject("Invalid arguments"),f(we,fe),we}var Qt={_driver:"localStorageWrapper",_initStorage:Ie,_support:ii(),iterate:kt,getItem:dt,setItem:vr,removeItem:An,clear:Re,length:Qn,key:rn,keys:Gn,dropInstance:zr},br=function(fe,ee){return fe===ee||typeof fe=="number"&&typeof ee=="number"&&isNaN(fe)&&isNaN(ee)},si=function(fe,ee){for(var ve=fe.length,we=0;we<ve;){if(br(fe[we],ee))return!0;we++}return!1},dr=Array.isArray||function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},Vi={},lo={},hi={INDEXEDDB:De,WEBSQL:ri,LOCALSTORAGE:Qt},Ao=[hi.INDEXEDDB._driver,hi.WEBSQL._driver,hi.LOCALSTORAGE._driver],es=["dropInstance"],ts=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(es),ia={description:"",driver:Ao.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ha(Y,fe){Y[fe]=function(){var ee=arguments;return Y.ready().then(function(){return Y[fe].apply(Y,ee)})}}function uo(){for(var Y=1;Y<arguments.length;Y++){var fe=arguments[Y];if(fe)for(var ee in fe)fe.hasOwnProperty(ee)&&(dr(fe[ee])?arguments[0][ee]=fe[ee].slice():arguments[0][ee]=fe[ee])}return arguments[0]}var gc=function(){function Y(fe){o(this,Y);for(var ee in hi)if(hi.hasOwnProperty(ee)){var ve=hi[ee],we=ve._driver;this[ee]=we,Vi[we]||this.defineDriver(ve)}this._defaultConfig=uo({},ia),this._config=uo({},this._defaultConfig,fe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Y.prototype.config=function(ee){if((typeof ee>"u"?"undefined":s(ee))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ve in ee){if(ve==="storeName"&&(ee[ve]=ee[ve].replace(/\W/g,"_")),ve==="version"&&typeof ee[ve]!="number")return new Error("Database version must be a number.");this._config[ve]=ee[ve]}return"driver"in ee&&ee.driver?this.setDriver(this._config.driver):!0}else return typeof ee=="string"?this._config[ee]:this._config},Y.prototype.defineDriver=function(ee,ve,we){var ge=new d(function(ze,Xe){try{var Ze=ee._driver,et=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ee._driver){Xe(et);return}for(var ct=ts.concat("_initStorage"),At=0,In=ct.length;At<In;At++){var Lt=ct[At],Jn=!si(es,Lt);if((Jn||ee[Lt])&&typeof ee[Lt]!="function"){Xe(et);return}}var Ur=function(){for(var Yf=function(yc){return function(){var Al=new Error("Method "+yc+" is not implemented by the current driver"),Lp=d.reject(Al);return f(Lp,arguments[arguments.length-1]),Lp}},$p=0,vT=es.length;$p<vT;$p++){var Tv=es[$p];ee[Tv]||(ee[Tv]=Yf(Tv))}};Ur();var Vr=function(Yf){Vi[Ze]&&console.info("Redefining LocalForage driver: "+Ze),Vi[Ze]=ee,lo[Ze]=Yf,ze()};"_support"in ee?ee._support&&typeof ee._support=="function"?ee._support().then(Vr,Xe):Vr(!!ee._support):Vr(!0)}catch(sa){Xe(sa)}});return h(ge,ve,we),ge},Y.prototype.driver=function(){return this._driver||null},Y.prototype.getDriver=function(ee,ve,we){var ge=Vi[ee]?d.resolve(Vi[ee]):d.reject(new Error("Driver not found."));return h(ge,ve,we),ge},Y.prototype.getSerializer=function(ee){var ve=d.resolve(rr);return h(ve,ee),ve},Y.prototype.ready=function(ee){var ve=this,we=ve._driverSet.then(function(){return ve._ready===null&&(ve._ready=ve._initDriver()),ve._ready});return h(we,ee,ee),we},Y.prototype.setDriver=function(ee,ve,we){var ge=this;dr(ee)||(ee=[ee]);var ze=this._getSupportedDrivers(ee);function Xe(){ge._config.driver=ge.driver()}function Ze(At){return ge._extend(At),Xe(),ge._ready=ge._initStorage(ge._config),ge._ready}function et(At){return function(){var In=0;function Lt(){for(;In<At.length;){var Jn=At[In];return In++,ge._dbInfo=null,ge._ready=null,ge.getDriver(Jn).then(Ze).catch(Lt)}Xe();var Ur=new Error("No available storage method found.");return ge._driverSet=d.reject(Ur),ge._driverSet}return Lt()}}var ct=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ct.then(function(){var At=ze[0];return ge._dbInfo=null,ge._ready=null,ge.getDriver(At).then(function(In){ge._driver=In._driver,Xe(),ge._wrapLibraryMethodsWithReady(),ge._initDriver=et(ze)})}).catch(function(){Xe();var At=new Error("No available storage method found.");return ge._driverSet=d.reject(At),ge._driverSet}),h(this._driverSet,ve,we),this._driverSet},Y.prototype.supports=function(ee){return!!lo[ee]},Y.prototype._extend=function(ee){uo(this,ee)},Y.prototype._getSupportedDrivers=function(ee){for(var ve=[],we=0,ge=ee.length;we<ge;we++){var ze=ee[we];this.supports(ze)&&ve.push(ze)}return ve},Y.prototype._wrapLibraryMethodsWithReady=function(){for(var ee=0,ve=ts.length;ee<ve;ee++)Ha(this,ts[ee])},Y.prototype.createInstance=function(ee){return new Y(ee)},Y}(),Gf=new gc;r.exports=Gf},{3:3}]},{},[4])(4)})})(T3e);var yBt=T3e.exports;const ww=bu(yBt);class C3e{constructor(t){Rl(this,"engine");Rl(this,"connected",!1);Rl(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Y3(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function tC(e){return e.participantId!==void 0}class Pc extends C3e{constructor(){super("firebase");Rl(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");Rl(this,"firestore");Rl(this,"collectionPrefix","prod-");Rl(this,"studyCollection");Rl(this,"storage");Rl(this,"studyId","");Rl(this,"localForage",ww.createInstance({name:"currentParticipantId"}));Rl(this,"participantData",null);const n=dQ.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=HDe(n);this.firestore=h8t(r,{}),this.storage=W_();try{hBt(r,{provider:new Ote(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async saveAllParticipantAndTaskTags(n){const r=Gm(n);Object.values(r).forEach(o=>{o.partTags=o.partTags.map(a=>a.id),Object.values(o.taskTags).forEach(a=>{a=a.map(l=>l.id)})});const i=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/_participantTags`),s=new Blob([JSON.stringify(r)],{type:"application/json"});await Ov(i,s)}async getAllParticipantAndTaskTags(){const n=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/_participantTags`),r=await this._getFromFirebaseStorageByRef(n,"config"),i=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/tags/participant/tags`),s=await this._getFromFirebaseStorageByRef(i,"config"),o=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/tags/task/tags`),a=await this._getFromFirebaseStorageByRef(o,"config");return Object.values(r).forEach(l=>{l.partTags=l.partTags.map(u=>s?s.find(c=>c.id===u):u),Object.values(l.taskTags).forEach(u=>{u=u.map(c=>a?a.find(d=>d.id===c):c)})}),Promise.resolve(r)}async saveTags(n,r){const i=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/tags/${r}/tags`),s=new Blob([JSON.stringify(n)],{type:"application/json"});await Ov(i,s)}async getTags(n){const r=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/tags/${n}/tags`),i=await this._getFromFirebaseStorageByRef(r,"config");return Array.isArray(i)?Promise.resolve(i):Promise.resolve([])}async saveEditedTranscript(n,r,i,s){const o=s.map(u=>({...u,selectedTags:u.selectedTags.filter(c=>c!==void 0).map(c=>c.id)})),a=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/${r}/${n}/${i}`),l=new Blob([JSON.stringify(o)],{type:"application/json"});await Ov(a,l)}async getEditedTranscript(n,r,i){const s=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/${r}/${n}/${i}`),o=await this._getFromFirebaseStorageByRef(s,"config");if(!Array.isArray(o))return[];const a=pi(this.storage,`${this.collectionPrefix}${this.studyId}/transcriptAndTags/tags/text/tags`),l=await this._getFromFirebaseStorageByRef(a,"config"),u=o.map(c=>({...c,selectedTags:c.selectedTags.map(d=>l.find(f=>d===f.id))}));return Promise.resolve(u)}async connect(){try{await p8t(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){try{const i=z3();if(!i.currentUser&&(await ULt(i),!i.currentUser))throw new Error("Login failed with firebase");const s=await this.getCurrentConfigHash(),o=await Y3(JSON.stringify(r));if(this.studyCollection=Td(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n,await this._pushToFirebaseStorage(`configs/${o}`,"config",r),s&&s!==o){try{await this._deleteFromFirebaseStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}return await this.localForage.setItem("currentConfigHash",o),Promise.resolve()}catch(i){return console.warn("Failed to connect to Firebase."),Promise.reject(i)}}async _getFirebaseProvenance(n){const r=W_(),i=pi(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await Dv(i),l=await(await fetch(o)).text();s=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=W_(),i=pi(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await Dv(i),l=await(await fetch(o)).text();s=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async initializeParticipantSession(n,r,i,s,o){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(o),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData"),l=await this.getModes(n);if(tC(a))return this.participantData=a,a;const u=await Y3(JSON.stringify(i));return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:s,completed:!1,rejected:!1},l.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getCurrentConfigHash(){return await this.localForage.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){const i=n.map(a=>{const l=pi(this.storage,`${this.collectionPrefix}${r}/configs/${a}_config`);return this._getFromFirebaseStorageByRef(l,"config")}),s=await Promise.all(i),o={};return n.forEach((a,l)=>o[a]=s[l]),o}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return this.currentParticipantId=LI(),await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:n},await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAudio(n,r){n.addEventListener("dataavailable",i=>{const s=W_(),o=pi(s,`${this.studyId}/audio/${this.currentParticipantId}_${r}`);Ov(o,i.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(i=>i.stop())}async getAudio(n,r){const i=W_(),s=await Promise.all(n.map(async a=>await Dv(pi(i,`${this.studyId}/audio/${r}_${a}`))));return Promise.all(s.map(a=>new Promise(l=>{const u=new XMLHttpRequest;u.responseType="blob",u.onload=()=>{const c=u.response,d=URL.createObjectURL(c);l(d)},u.open("GET",a),u.send()})))}async getTranscription(n,r){const i=W_(),s=await Promise.all(n.map(async a=>await Dv(pi(i,`${this.studyId}/audio/${r}_${a}.wav_transcription.txt`))));return Promise.all(s.map(a=>new Promise(l=>{const u=new XMLHttpRequest;u.responseType="blob",u.onload=()=>{u.response.text().then(d=>{l(d)})},u.open("GET",a),u.send()})))}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this._pushToFirebaseStorage("","sequenceArray",n)}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this._getFromFirebaseStorage("","sequenceArray");return Array.isArray(n)?n:null}async getSequence(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.getSequenceArray();if(!r)throw new Error("Latin square not initialized");const i=await this.getModes(this.studyId),s=js(this.studyCollection,"sequenceAssignment");await Au(s,{});const o=Td(s,"sequenceAssignment"),a=js(o,this.currentParticipantId),l=Oge(o,E8t("participantId","==","")),u=await eC(l);if(u.docs.length>0){const g=u.docs[0],y=g.data().timestamp;i.dataCollectionEnabled&&(await I8t(g.ref),await Au(a,{participantId:this.currentParticipantId,timestamp:y}))}else i.dataCollectionEnabled&&await Au(a,{participantId:this.currentParticipantId,timestamp:P8t()});const c=Oge(o,x8t("timestamp","asc")),h=(await eC(c)).docs.map(g=>g.data()).findIndex(g=>g.participantId===n||this.currentParticipantId)%r.length,p=h===-1?Math.floor(Math.random()*r.length-1):h,m=r[p];if(!m)throw new Error("Latin square is empty");return m}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=pi(this.storage,`${this.collectionPrefix}${this.studyId}/participants`),r=await JT(n),i=[],s=r.items.map(async o=>{const a=await this._getFromFirebaseStorageByRef(o,"participantData");tC(a)&&i.push(a)});return await Promise.all(s),i}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(this.currentParticipantId===null)throw new Error("Participant not initialized");const r=await this._getFromFirebaseStorage(`participants/${n||this.currentParticipantId}`,"participantData");return tC(r)?r:null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=LI();await this.localForage.setItem("currentParticipantId",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");if(await this.getParticipantData(),!this.participantData)throw new Error("Participant not initialized");const n=await this.getModes(this.studyId);return this.participantData.completed=!0,n.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),!0}async getUserManagementData(n){const r=Td(this.firestore,"user-management"),i=await eC(r),s=Object.fromEntries(i.docs.map(o=>[o.id,o.data()]));return n in s?s[n]:null}async validateUser(n){if(n!=null&&n.user){const r=await this.getUserManagementData("authentication");if(r!=null&&r.isEnabled){const i=await this.getUserManagementData("adminUsers");if(i&&i.adminUsersList){const s=Object.fromEntries(i.adminUsersList.map(a=>[a.email,a.uid]));if(n.user.email&&(s[n.user.email]===n.user.uid||s[n.user.email]===null)){if(n.user.email&&s[n.user.email]===null){const a=i.adminUsersList.find(l=>l.email===n.user.email);a&&(a.uid=n.user.uid),await Au(js(this.firestore,"user-management","adminUsers"),{adminUsersList:i.adminUsersList})}return!0}return!1}}return!0}return!1}async changeAuth(n){await Au(js(this.firestore,"user-management","authentication"),{isEnabled:n})}async addAdminUser(n){const r=await this.getUserManagementData("adminUsers");if(r!=null&&r.adminUsersList){const i=r.adminUsersList;i.find(o=>o.email===n.email)||(i.push({email:n.email,uid:n.uid}),await Au(js(this.firestore,"user-management","adminUsers"),{adminUsersList:i}))}else await Au(js(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:n.email,uid:n.uid}]})}async removeAdminUser(n){const r=await this.getUserManagementData("adminUsers");r!=null&&r.adminUsersList&&r.adminUsersList.length>1&&r.adminUsersList.find(i=>i.email===n)&&(r.adminUsersList=r==null?void 0:r.adminUsersList.filter(i=>i.email!==n),await Au(js(this.firestore,"user-management","adminUsers"),{adminUsersList:r==null?void 0:r.adminUsersList}))}async getAllParticipantsDataByStudy(n){const r=pi(this.storage,`${this.collectionPrefix}${n}/participants`),i=await JT(r),s=[],o=i.items.map(async a=>{const l=await this._getFromFirebaseStorageByRef(a,"participantData");tC(l)&&s.push(l)});return await Promise.all(o),s}async rejectParticipant(n,r){const i=Td(this.firestore,`${this.collectionPrefix}${n}`),s=pi(this.storage,`${this.collectionPrefix}${n}/participants/${r}`),o=await this._getFromFirebaseStorageByRef(s,"participantData");try{if(!o||!tC(o)||o.rejected)return;o.rejected=!0,await this._pushToFirebaseStorageByRef(s,"participantData",o);const a=js(i,"sequenceAssignment"),l=Td(a,"sequenceAssignment"),u=js(l,r);await A8t(u,{participantId:""})}catch{console.warn("Failed to reject the participant.")}}async setMode(n,r,i){const s=js(this.firestore,"metadata",`${this.collectionPrefix}${n}`);return await Au(s,{[r]:i},{merge:!0})}async getModes(n){const r=js(this.firestore,"metadata",`${this.collectionPrefix}${n}`),i=await X9(r);if(i.exists())return i.data();const s={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await Au(r,s),s}async createSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;if(!await this._directoryExists(i))return console.warn(`Source directory ${i} does not exist.`),!1;const s=new Date,o=s.getUTCFullYear(),a=(s.getUTCMonth()+1).toString().padStart(2,"0"),l=s.getUTCDate().toString().padStart(2,"0"),u=s.getUTCHours().toString().padStart(2,"0"),c=s.getUTCMinutes().toString().padStart(2,"0"),d=s.getUTCSeconds().toString().padStart(2,"0"),f=`${o}-${a}-${l}T${u}:${c}:${d}`,h=`${this.collectionPrefix}${n}-snapshot-${f}`;return await this._copyDirectory(`${i}/configs`,`${h}/configs`),await this._copyDirectory(`${i}/participants`,`${h}/participants`),await this._copyDirectory(i,h),await this._copyCollection(i,h),await this._addDirectoryNameToMetadata(h),r&&await this.removeSnapshotOrLive(i,!1),!0}async removeSnapshotOrLive(n,r){const i=n.startsWith(this.collectionPrefix)?n:`${this.collectionPrefix}${n}`;await this._deleteDirectory(`${i}/configs`),await this._deleteDirectory(`${i}/participants`),await this._deleteDirectory(i),await this._deleteCollection(i),r&&await this._removeNameFromMetadata(i)}async getSnapshots(n){try{const r=js(this.firestore,"metadata","collections"),i=await X9(r);if(i.exists()){const s=i.data();return Object.keys(s).filter(a=>a.startsWith(`${this.collectionPrefix}${n}-snapshot`)).sort().reverse()}return[]}catch(r){throw console.error("Error listing collections with prefix:",r),r}}async restoreSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;await this.createSnapshot(n,!0),await this._copyDirectory(`${r}/configs`,`${i}/configs`),await this._copyDirectory(`${r}/participants`,`${i}/participants`),await this._copyDirectory(r,i),await this._copyCollection(r,i)}async _addDirectoryNameToMetadata(n){try{const r=js(this.firestore,"metadata","collections");await Au(r,{[n]:!0},{merge:!0})}catch(r){console.error("Error adding collection to metadata:",r)}}async _removeNameFromMetadata(n){try{const r=js(this.firestore,"metadata","collections"),i=await X9(r);if(i.exists()){const s=i.data();s[n]?(delete s[n],await Au(r,s)):console.warn(`${n} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(r){throw console.error("Error removing collection from metadata:",r),r}}async _deleteDirectory(n){try{const r=pi(this.storage,n),s=(await JT(r)).items.map(o=>Xme(o));await Promise.all(s)}catch(r){console.error("Error deleting files in directory:",r)}}async _copyDirectory(n,r){try{const i=pi(this.storage,n),o=(await JT(i)).items.map(a=>{const l=a.fullPath,u=l.replace(n,r);return this._copyFile(l,u)});await Promise.all(o)}catch(i){console.error("Error copying file:",i)}}async _copyFile(n,r){try{const i=pi(this.storage,n),s=pi(this.storage,r),o=await Dv(i),l=await(await fetch(o)).blob();await Ov(s,l)}catch(i){console.error("Error copying file:",i)}}async _copyCollection(n,r){const i=Td(this.firestore,n),s=js(i,"sequenceAssignment"),o=Td(s,"sequenceAssignment"),a=Td(this.firestore,r),l=js(a,"sequenceAssignment");await Au(l,{});const u=Td(l,"sequenceAssignment"),c=await eC(o),d=$ge(this.firestore);c.docs.forEach(f=>{const h=js(u,f.id);d.set(h,f.data())}),await d.commit()}async _deleteCollection(n){const r=Td(this.firestore,n),i=js(r,"sequenceAssignment"),s=Td(i,"sequenceAssignment"),o=await eC(s),a=$ge(this.firestore);o.forEach(l=>{const u=js(s,l.id);a.delete(u)}),a.delete(i),await a.commit()}async _directoryExists(n){try{const r=pi(this.storage,n);return(await JT(r)).items.length>0}catch(r){if(r.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",r),r}}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=pi(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);let s={};try{const o=await Dv(i),l=await(await fetch(o)).text();s=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.collectionPrefix}${this.studyId}.`)}return s}async _getFromFirebaseStorageByRef(n,r){let i={};try{const s=await Dv(n),a=await(await fetch(s)).text();i=JSON.parse(a)}catch{console.warn(`${n} with type ${r} not found.`)}return i}async _pushToFirebaseStorage(n,r,i){if(Object.keys(i).length>0){const s=pi(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`),o=new Blob([JSON.stringify(i)],{type:"application/json"});await Ov(s,o)}}async _pushToFirebaseStorageByRef(n,r,i){if(Object.keys(i).length>0){const s=new Blob([JSON.stringify(i)],{type:"application/json"});await Ov(n,s)}}async _deleteFromFirebaseStorage(n,r){const i=pi(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);await Xme(i)}}const A3e=A.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),Tp=()=>A.useContext(A3e);function vBt({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,s]=A.useState(t),[o,a]=A.useState(!1),{storageEngine:l}=Pi(),u=async()=>{const h=z3();try{await KLt(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{s(n)}},c=()=>{a(!0)},d=async h=>l?await l.validateUser(h):!1;A.useEffect(()=>{s(t);let h;if(l instanceof Pc)try{h=z3()}catch{console.warn("No firebase store.")}const p=async y=>{if(s(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},_=await d(v);v.isAdmin=!!_,s(v)}else u()},g=(async()=>{if(l instanceof Pc){const y=await(l==null?void 0:l.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=YLt(h,async _=>await p(_));return()=>v()}s(r)}else l&&s(r);return()=>{}})();return()=>{g.then(y=>y())}},[l,o]);const f=A.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return b.jsx(A3e.Provider,{value:f,children:i.determiningStatus?b.jsx(uu,{visible:!0}):e})}async function bBt(e){return e?await e.getTags("text"):[]}function _Bt({participant:e,playTime:t,setTranscriptLines:n,currentShownTranscription:r,setCurrentShownTranscription:i,transcriptList:s,setTranscriptList:o}){var D;const[a,l]=A.useState(null),u=Tp(),{trrackId:c,studyId:d,index:f}=vf(),h=vp(),p=f?h:null,{storageEngine:m}=Pi(),{value:g,execute:y}=dm(bBt,[m]),v=A.useCallback(R=>{m&&m.saveTags(R,"text").then(()=>y(m))},[y,m]),_=Xh(),w=A.useRef([]),E=A.useMemo(()=>!p||!e?null:Object.keys(e.answers).find(R=>R.startsWith(p))||null,[e,p]),S=g1((R,M)=>{const $=[...s];$[R].text=M,o($)}),x=g1((R,M)=>{const $=[...s];$[R].selectedTags=M,o($)}),T=g1((R,M)=>{const $=[...s];$[R].annotation=M,o($)}),I=g1(R=>{if(R===0)return;const M=structuredClone(s);M[R-1].text=s[R-1].text+s[R].text,M[R-1].transcriptMappingEnd=s[R].transcriptMappingEnd,M[R-1].selectedTags=[...s[R-1].selectedTags,...s[R].selectedTags.filter($=>!s[R-1].selectedTags.find(L=>L.id===$.id))],M.splice(R,1),M.filter($=>$.transcriptMappingStart===M[R-1].transcriptMappingStart).forEach($=>{$.transcriptMappingEnd=M[R-1].transcriptMappingEnd}),o(M),setTimeout(()=>{w.current[R-1].focus(),w.current[R-1].setSelectionRange(s[R-1].text.length,s[R-1].text.length,"none")})}),P=g1((R,M)=>{const $=structuredClone(s),L=$[R];$.splice(R+1,0,{transcriptMappingEnd:L.transcriptMappingEnd,transcriptMappingStart:L.transcriptMappingStart,text:L.text.slice(M),selectedTags:L.selectedTags,annotation:""}),$[R].text=$[R].text.slice(0,M),o($),setTimeout(()=>{w.current[R+1].focus(),w.current[R+1].setSelectionRange(0,0)})});A.useEffect(()=>{const R=[];a&&s.length>a.results.length||(s.forEach((M,$)=>{a&&($===0||M.transcriptMappingStart!==s[$-1].transcriptMappingStart)&&R.push({start:$===0?0:a.results[M.transcriptMappingStart-1].resultEndTime,end:a.results[M.transcriptMappingEnd].resultEndTime,lineStart:M.transcriptMappingStart,lineEnd:M.transcriptMappingEnd,tags:s.filter(L=>L.transcriptMappingStart===M.transcriptMappingStart&&L.transcriptMappingEnd===M.transcriptMappingEnd).map(L=>L.selectedTags)})}),n(R))},[s,n,a]),A.useEffect(()=>{d&&c&&e&&(m==null||m.getTranscription(Wc(e.sequence).filter(R=>_.tasksToNotRecordAudio===void 0||!_.tasksToNotRecordAudio.includes(R)).filter(R=>p?R===p:!0),c).then(R=>{const M=R.map(B=>JSON.parse(B));let $=0;const L=M.map(B=>{const z=B.results.map(U=>({...U,resultEndTime:+U.resultEndTime.split("s")[0]+$}));return $+=+B.results[B.results.length-1].resultEndTime.split("s")[0],z}).flat();l({results:L}),s.length===0&&o(L.map((B,z)=>{var U;return{transcriptMappingStart:z,transcriptMappingEnd:z,text:((U=B.alternatives[0].transcript)==null?void 0:U.trim())||"",selectedTags:[],annotation:""}})),i(0)}))},[m,d,c,_.tasksToNotRecordAudio,e,p,o,i,s.length]),A.useEffect(()=>{if(a&&r!==null&&e&&t>0){let R=r;const M=E?e.answers[E].startTime:e.answers.audioTest.startTime,$=Math.abs(t-M)/1e3;if($>a.results[R].resultEndTime){for(;$>a.results[R].resultEndTime;)if(R+=1,R>a.results.length-1){R=a.results.length-1;break}}else if(R>0&&$<a.results[R-1].resultEndTime)for(;R>0&&$<a.results[R-1].resultEndTime;)R-=1;if(r===R)return;i(R)}},[r,e,t,i,a,E]);const k=A.useCallback((R,M)=>{if(!g)return;const $=g.findIndex(z=>z.id===R.id),L=Array.from(g);L[$]=M;const B=Array.from(s);B.forEach(z=>{z.selectedTags=z.selectedTags.map(U=>U.id===R.id?M:U)}),o(B),v(L)},[v,o,g,s]);return b.jsxs(Jr,{gap:0,children:[b.jsxs(Rn,{mb:"sm",justify:"space-between",wrap:"nowrap",children:[b.jsx(nt,{style:{flexGrow:1,textAlign:"center"},children:"Transcript"}),b.jsx(oq,{createTagCallback:R=>{v([...g||[],R])},editTagCallback:k,tags:g||[],email:((D=u.user.user)==null?void 0:D.email)||""})]}),b.jsx(Jr,{gap:5,children:g?s.map((R,M)=>b.jsx(w$t,{annotation:R.annotation,setAnnotation:$=>T(M,$),addRef:$=>{w.current[M]=$},onSelectTags:$=>x(M,$),addRowCallback:$=>P(M,$),deleteRowCallback:()=>I(M),onTextChange:$=>S(M,$),tags:g,selectedTags:R.selectedTags,text:R.text,start:R.transcriptMappingStart,end:R.transcriptMappingEnd,current:r===null?0:r},M)):b.jsx(ws,{})})]})}const Z9={left:5,top:0,right:5,bottom:0};function wBt(e,t){return t?t.getParticipantData(e):null}async function EBt(e,t,n,r){return e&&t&&n&&r?await e.getEditedTranscript(t,r,n):null}const Vge=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],Hge=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function I3e({mini:e}){var je,me;const{trrackId:t,index:n}=vf(),r=vp(),i=Tp(),s=A.useMemo(()=>n?r:null,[r,n]),{storageEngine:o}=Pi(),[a,l]=A.useState(0),[u,{width:c}]=nf(),[d,f]=A.useState(null),{value:h,status:p}=dm(wBt,[t,o]),{saveAnalysisState:m}=nc(),g=Zc(),[y,v]=A.useState(!1),[_,w]=lqe(0,50),E=A.useRef(null),S=Xh(),x=pd(),{analysisTrialName:T,analysisWaveformTime:I}=Qo(ne=>ne),{setAnalysisTrialName:P,setAnalysisParticipantName:k,setAnalysisWaveformTime:D}=nc(),[R,M]=A.useState(!0),$=A.useRef(null),[L,B]=A.useState([]),[z,U]=A.useState(null),N=A.useCallback(ne=>{var Ee;U(ne),o&&t&&r&&o.saveEditedTranscript(t,((Ee=i.user.user)==null?void 0:Ee.email)||"temp",r,ne)},[r,(je=i.user.user)==null?void 0:je.email,o,t]),{value:V,status:W}=dm(EBt,[o,h==null?void 0:h.participantId,r,(me=i.user.user)==null?void 0:me.email]);A.useEffect(()=>{V&&U(V)},[V,W]);const F=A.useMemo(()=>[...Vge,...Hge],[]),H=A.useMemo(()=>!s||!h?null:Object.keys(h.answers).find(ne=>ne.startsWith(s))||null,[h,s]);A.useEffect(()=>{if(H&&h){const ne=$I.create(),Ee=iq({registry:ne,initialState:{}});h.answers[H].provenanceGraph&&(Ee.importObject(Gm(h.answers[H].provenanceGraph)),$.current=Ee)}},[h,H]);const G=A.useCallback(ne=>{var Ee;ne&&(H&&h&&$.current&&(g(m($.current.getState((Ee=h.answers[H].provenanceGraph)==null?void 0:Ee.nodes[ne]))),$.current.to(ne)),f(ne))},[h,m,g,H]),X=A.useCallback(ne=>{var Ee;if(!e){g(P(ne)),g(m(null)),l(0);const Pe=h?Object.keys(h.answers).find(Je=>Je.startsWith(ne)):"";if(h&&Pe&&h.answers[Pe].provenanceGraph){const Je=$I.create(),qe=iq({registry:Je,initialState:{}});qe.importObject(Gm(h.answers[Pe].provenanceGraph)),$.current=qe,G(((Ee=h.answers[Pe].provenanceGraph)==null?void 0:Ee.root)||"")}else g(m(null)),f(null),$.current=null}},[G,e,h,m,P,g]);A.useEffect(()=>{s&&X(s)},[X,s]);const ie=g1((ne,Ee=!0)=>{if(h&&s&&H&&(h.answers[H].endTime-h.answers.audioTest_2.startTime)/1e3<ne){const Pe=Wc(h.sequence);X(Pe[Pe.indexOf(s)+1])}else h&&s&&$.current&&$.current.current.children.length>0&&($.current.graph.backend.nodes[$.current.current.children[0]].createdOn-h.answers.audioTest_2.startTime)/1e3<ne&&G($.current.current.children[0]);if(h&&s){const Pe=H?h.answers[H].startTime:h.answers.audioTest_2.startTime;w(ne*1e3+Pe)}Ee&&g(D(ne))}),oe=A.useCallback(ne=>{if(ne&&h&&t){const Ee=new h$t;o==null||o.getAudio(Wc(h.sequence).filter(Pe=>S.tasksToNotRecordAudio===void 0||!S.tasksToNotRecordAudio.includes(Pe)).filter(Pe=>s?Pe===s:!0),t).then(Pe=>{ne&&Ee.fetchAudio(...Pe).then(Je=>Ee.concatAudio(Je)).then(Je=>Ee.export(Je,"audio/mp3")).then(Je=>ne.loadBlob(Je.blob).then(()=>{M(!1)})).catch(Je=>{throw new Error(Je)}),ne.on("timeupdate",ie)})}},[S.tasksToNotRecordAudio,h,o,ie,s,t]),se=A.useMemo(()=>[],[]),le=Z2e({container:E.current,plugins:se,onMount:oe,progressColor:"cornflowerblue",waveColor:"lightgray"}),Se=A.useCallback((ne,Ee)=>{w(ne),le&&Ee&&setTimeout(()=>{le.seekTo(Ee)})},[w,le]),de=A.useCallback(ne=>{v(ne),le&&(ne?le.play():le.pause())},[le]);A.useEffect(()=>{ie(I,!1),le&&Math.abs(le.getCurrentTime()-I)>.8&&setTimeout(()=>{le.setTime(I)})},[I,ie,le]);const De=A.useMemo(()=>{if(!h)return null;const ne=Object.values(h.answers||{}).map(Je=>[Je.startTime,Je.endTime]).flat(),Ee=ph(ne);return il([Z9.left,c+Z9.left+Z9.right]).domain(H?[h.answers[H].startTime,h.answers[H].endTime]:Ee).clamp(!0)},[h,H,c]);A.useEffect(()=>{oe(le)},[oe,h,le]);const Fe=A.useCallback(ne=>{var Ee;if(ne&&H&&h&&$.current&&De){const Pe=h.answers[H].provenanceGraph.nodes[ne];g(m($.current.getState((Ee=h.answers[H].provenanceGraph)==null?void 0:Ee.nodes[ne]))),$.current.to(ne);const Je=De.domain()[1]-De.domain()[0];Se(Pe.createdOn+1,(Pe.createdOn-De.domain()[0])/Je)}},[Se,h,m,g,H,De]),Be=A.useCallback(ne=>{if(!h)return;const Ee=F.indexOf(h.participantId);ne?x(`../../${s?"../":""}${F[Ee+1]}/ui/reviewer-${s||""}`,{relative:"path"}):x(`../../${s?"../":""}${F[Ee-1]}/ui/reviewer-${s||""}`,{relative:"path"})},[F,x,h,s]);return b.jsx(Rn,{wrap:"nowrap",gap:25,children:b.jsxs(Jr,{ref:u,style:{width:"100%"},gap:e?0:25,children:[e?null:b.jsx(dl,{children:b.jsxs(Rn,{children:[b.jsx(Fn,{children:b.jsx(Tue,{onClick:()=>Be(!1)})}),b.jsx(nu,{style:{width:"300px"},value:h==null?void 0:h.participantId,onChange:ne=>{g(k(ne)),x(`../../${s?"../":""}${ne}/ui/reviewer-${s||""}`,{relative:"path"})},data:[...Vge,...Hge]}),b.jsx(nu,{style:{width:"300px"},clearable:!0,value:s,data:h?[...Wc(h.sequence)]:[],onChange:ne=>x(`${s?"../":""}reviewer-${ne||""}`,{relative:"path"})}),b.jsx(Fn,{children:b.jsx(Cue,{onClick:()=>Be(!0)})})]})}),p==="success"&&h&&De?e?null:b.jsx(DDe,{trialFilter:H,xScale:De,setSelectedTask:X,participantData:h,width:c,height:200}):e?null:b.jsx(dl,{style:{height:"275px"},children:b.jsx(ws,{})}),De&&h!==null?b.jsxs(b.Fragment,{children:[b.jsxs(be,{ref:E,ml:h&&De?De(h.answers.audioTest_2.startTime):0,mr:h&&De?De(h.answers["post-study-survey_13"].startTime):0,style:{overflow:"visible",width:`${h&&!s?De(h.answers["post-study-survey_13"].startTime)-De(h.answers.audioTest_2.startTime):De.range()[1]-De.range()[0]}px`},children:[b.jsx(K2e.Provider,{value:le,children:b.jsx(nJ,{id:"waveform"})}),R?b.jsx(ws,{}):null]}),e?null:b.jsx(_$t,{startTime:s?De.domain()[0]:h.answers.audioTest_2.startTime,xScale:De,transcriptLines:L,currentShownTranscription:a})]}):null,p==="success"&&h&&De?b.jsx(b$t,{xScale:De,setSelectedTask:X,playTime:_-h.answers.introduction_0.startTime,setPlayTime:Se,isPlaying:y,setIsPlaying:de,currentNode:d,setCurrentNode:G,participantData:h,width:c,height:50}):null,b.jsxs(Rn,{align:"center",justify:"center",children:[b.jsx(Fn,{variant:"subtle",children:b.jsx(Tue,{onClick:()=>{var ne;return Fe(((ne=$.current)==null?void 0:ne.current).parent)}})}),b.jsx(hn,{onClick:()=>de(!0),children:"Play"}),b.jsx(hn,{onClick:()=>de(!1),children:"Pause"}),b.jsx(Fn,{variant:"subtle",children:b.jsx(Cue,{onClick:()=>{var ne;return Fe((ne=$.current)==null?void 0:ne.current.children[0])}})})]}),s?b.jsx(Jr,{children:h&&V&&W==="success"&&z&&!e?b.jsx(_Bt,{transcriptList:z,setTranscriptList:N,setCurrentShownTranscription:l,currentShownTranscription:a,participant:h,playTime:_,setTranscriptLines:B}):e?null:b.jsx(ws,{})}):null]})})}const qge=Object.assign({"../public/ThinkAloud/AddPlot.tsx":Lyt,"../public/ThinkAloud/AudioTest.tsx":avt,"../public/ThinkAloud/Bar.tsx":ZCt,"../public/ThinkAloud/BrushPlot.tsx":l$t,"../public/ThinkAloud/Histogram.tsx":o$t,"../public/ThinkAloud/Paintbrush.tsx":i$t,"../public/ThinkAloud/Scatter.tsx":s$t,"../public/ThinkAloud/Violin.tsx":a$t,"../public/ThinkAloud/XAxisBar.tsx":QCt,"../public/ThinkAloud/YAxis.tsx":r$t,"../public/ThinkAloud/YAxisBar.tsx":JCt,"../public/ThinkAloud/types.ts":u$t,"../public/ThinkAloud/useKdeCalc.tsx":d$t});function xBt({currentConfig:e,provState:t}){const n=rv(),r=vp(),i=`../public/${e.path}`,s=i in qge?qge[i].default:null,o=Zc(),{updateResponseBlockValidation:a,setIframeAnswers:l}=nc(),u=A.useCallback(({status:c,provenanceGraph:d,answers:f})=>{o(a({location:"sidebar",identifier:`${r}_${n}`,status:c,values:f,provenanceGraph:d})),o(l(f))},[o,a,r,n,l]);return b.jsxs(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:[s?b.jsx(s,{parameters:e.parameters,setAnswer:u,provenanceState:t}):b.jsx(QR,{path:e.path}),n.toString().startsWith("reviewer-")?b.jsx(Hr.Footer,{p:"md",children:b.jsx(I3e,{mini:!0})}):null]})}function Wge({provState:e}){var I;const t=Xh(),n=Pi(),r=rv(),i=vp()||"Notfound",s=t.components[i],o=uQ(),a=A6(s)&&t.baseComponents?aQ({},(I=t.baseComponents)==null?void 0:I[s.baseComponent],s):s,l=a.instruction||"",{instructionLocation:u}=a,c=t.uiConfig.sidebar&&(u==="sidebar"||u===void 0),[d,f]=A.useState(null),h=Zc(),{setIsRecording:p}=nc(),{analysisTrialName:m,analysisProvState:g,analysisParticipantName:y}=Qo(P=>P),{trrackId:v}=vf(),_=pd(),[w,E]=A.useState(null);A.useEffect(()=>{i&&m&&v&&(i!==m||v!==y)&&_(`../../${y||v}/reviewer-${m}`,{relative:"path"})},[y,g,m,i,r,_,v]),A.useEffect(()=>{!r||!t||!t.recordStudyAudio||!n.storageEngine||(d&&w&&n.storageEngine.saveAudio(d,w),t.tasksToNotRecordAudio&&t.tasksToNotRecordAudio.includes(i)?(E(null),f(null),h(p(!1))):(navigator.mediaDevices.getUserMedia({audio:!0}).then(k=>{const D=new MediaRecorder(k);D.start(),f(D),h(p(!0))}),E(i)))},[i]),z2e();const{storageEngine:S}=Pi(),x=Zc(),{setAlertModal:T}=nc();return A.useEffect(()=>{(S==null?void 0:S.getEngine())!=="firebase"&&x(T({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[T,S,x]),i==="end"?b.jsx(V2e,{}):i==="Notfound"?b.jsx(QR,{email:t.uiConfig.contactEmail}):b.jsxs(b.Fragment,{children:[u==="aboveStimulus"&&b.jsx(fl,{text:l}),b.jsx(u$,{status:o,config:a,location:"aboveStimulus"},`${r}-above-response-block`),b.jsxs(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:[a.type==="markdown"&&b.jsx(uht,{currentConfig:a}),a.type==="website"&&b.jsx(oht,{currentConfig:a}),a.type==="image"&&b.jsx(lht,{currentConfig:a}),a.type==="react-component"&&b.jsx(xBt,{currentConfig:a,provState:g})]},`${r}-stimulus`),(u==="belowStimulus"||u===void 0&&!c)&&b.jsx(fl,{text:l}),b.jsx(u$,{status:o,config:a,location:"belowStimulus"},`${r}-below-response-block`)]})}function Dq(e){const[t]=SX();return b.jsx(EX,{...e,to:{pathname:e.to,search:t.toString()}})}function SBt(e,t=!1){return typeof e=="number"?Gge(e,t):Gge(e.length,t).map(r=>r.map(i=>e[i]))}function Gge(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function R3e(e,t,n){let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){const o=e.components.indexOf(s);r[i]=R3e(s,t,`${n}-${o}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const s=[];if(i.spacing!=="random")for(let o=0;o<r.length;o+=1)(o===i.firstLocation||o>i.firstLocation&&o%i.spacing===0)&&s.push(i.components),s.push(r[o]);if(i.spacing==="random"){const o=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;o.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;o.add(u)}const a=Array.from(o).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(s.push(i.components),l+=1),s.push(r[u])}r=s}),{id:e.id,orderPath:n,components:r.flat(),skip:e.skip}}function TBt(e,t){const n=Gm(e);return R3e(n,t,"root")}function k3e(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&k3e(s,t,i,o)})}function CBt(e){const t=[];return k3e(e,t,"",0),t}function Yge(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_componentBlock${a}`);return SBt(i.sort(()=>.5-Math.random()),!0)}function ABt(e){const n=CBt(e.sequence).map(s=>({[s]:Yge(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=TBt(e.sequence,n);s.components.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=Yge(e,o))})}),i}function P3e(e,t){return typeof e=="string"?e:{...e,orderPath:t,components:e.components.map((n,r)=>P3e(n,`${t}-${r}`))}}function IBt(){Qo(n=>n),nc();const e=Xh();Zc();const t=bS();return wX(`/${t}`),Pi(),A.useMemo(()=>{let n=Gm(e.sequence);return n=P3e(n,"root"),n.components.push("end"),n},[e.sequence]),A.useState("participant"),null}function RBt(e,t,n,r){e==null||e.nextParticipant().then(()=>{window.location.href=r}).catch(i=>{console.error(i)})}function kBt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const{config:n,metadata:r}=Qo(S=>S),i=oQ(),s=Zc(),{toggleShowHelpText:o,toggleStudyBrowser:a}=nc(),{storageEngine:l}=Pi(),u=Qo(S=>S.isRecording),c=rv(),d=i.length-1,f=typeof c=="number"?c/d*100:0,[h,p]=A.useState(!1),m=n==null?void 0:n.uiConfig.logoPath,g=n==null?void 0:n.uiConfig.withProgressBar,y=bS(),v=wX(`/${y}`),_=A.useRef(null),[w,E]=A.useState(!1);return A.useEffect(()=>{const S=_.current;S&&E(S.scrollWidth>S.offsetWidth)},[n]),b.jsx(Hr.Header,{p:"md",children:b.jsxs(Fc,{mt:-7,align:"center",children:[b.jsx(Fc.Col,{span:4,children:b.jsxs(It,{align:"center",children:[b.jsx(Zy,{w:40,src:`${gp}${m}`,alt:"Study Logo"}),b.jsx(qc,{w:"md"}),b.jsx(Ti,{order:4,children:n==null?void 0:n.studyMetadata.title}),u?b.jsxs(Rn,{gap:20,wrap:"nowrap",children:[b.jsx(nt,{color:"red",children:"Recording audio"}),b.jsx(nAe,{})]}):null]})}),b.jsx(Fc.Col,{span:4,children:g&&b.jsx(Kb,{radius:"md",size:"lg",value:f})}),b.jsx(Fc.Col,{span:4,children:b.jsxs(Rn,{wrap:"nowrap",justify:"right",children:[!t&&b.jsx(dn,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, we’re not collecting any data.",children:b.jsx(xm,{size:"lg",color:"orange",children:"Demo Mode"})}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&b.jsx(hn,{variant:"outline",onClick:()=>s(o()),children:"Help"}),b.jsxs(cn,{shadow:"md",width:200,withinPortal:!0,opened:h,onChange:p,children:[b.jsx(cn.Target,{children:b.jsx(Fn,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:b.jsx(ESe,{})})}),b.jsxs(cn.Dropdown,{children:[e&&b.jsx(cn.Item,{leftSection:b.jsx(pnt,{size:14}),onClick:()=>s(a()),children:"Study Browser"}),b.jsx(cn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:b.jsx(lnt,{size:14}),children:"Contact"}),e&&b.jsx(cn.Item,{leftSection:b.jsx(kSe,{size:14}),onClick:()=>RBt(l,n,r,v),children:"Next Participant"})]})]})]})})]})})}function PBt(){var l;const e=(l=Xh())==null?void 0:l.uiConfig.sidebar,t=Xh(),n=vp(),r=t.components[n],i=A.useMemo(()=>{var u;return r?A6(r)&&t.baseComponents?aQ({},(u=t.baseComponents)==null?void 0:u[r.baseComponent],r):r:null},[r,t.baseComponents]),s=uQ(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?b.jsxs(Hr.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&b.jsx(Hr.Section,{bg:"gray.3",p:"md",children:b.jsxs(nt,{c:"gray.9",children:[b.jsx(nt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),b.jsx(fl,{text:o})]})}),b.jsx(Hr.Section,{p:"md",children:b.jsx(u$,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):b.jsx(Hr.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:b.jsx(u$,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)})}function NBt(){const{showHelpText:e,config:t}=Qo(l=>l),n=Zc(),{toggleShowHelpText:r}=nc(),[i,s]=A.useState(""),[o,a]=A.useState(!0);return A.useEffect(()=>{async function l(){const u=await lQ(t.uiConfig.helpTextPath);u!==void 0&&s(u),a(!1)}l()},[t.uiConfig.helpTextPath]),b.jsx(Ss,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:o||i?b.jsx(fl,{text:i}):b.jsx(QR,{path:t.uiConfig.helpTextPath})})}function OBt(){const{alertModal:e}=Qo(o=>o),{setAlertModal:t}=nc(),n=Zc(),[r,i]=A.useState(e.show),s=A.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return A.useEffect(()=>i(e.show),[e.show]),b.jsx(Ss,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:s,children:b.jsxs(aS,{color:"red",radius:"xs",title:"Alert",icon:b.jsx(Ptt,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[b.jsx(nt,{my:"md",children:e.message}),b.jsx(Rn,{w:"100%",justify:"end",children:b.jsx(hn,{onClick:s,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}function DBt(){const e=A.useRef([]),t=Xh(),n=t.uiConfig.windowEventDebounceTime??100,r=Qo(f=>f.showStudyBrowser);A.useEffect(()=>{const f=th(E=>{e.current.push([Date.now(),"focus",E.target instanceof HTMLElement?E.target.tagName:""])},n,{maxWait:n}),h=th(E=>{e.current.push([Date.now(),"input",E.data??""])},n,{maxWait:n}),p=th(E=>{e.current.push([Date.now(),"keypress",E.key])},n,{maxWait:n}),m=th(E=>{e.current.push([Date.now(),"mousedown",[E.clientX,E.clientY]])},n,{maxWait:n}),g=th(E=>{e.current.push([Date.now(),"mouseup",[E.clientX,E.clientY]])},n,{maxWait:n}),y=th(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),v=th(E=>{e.current.push([Date.now(),"mousemove",[E.clientX,E.clientY]])},n,{maxWait:n}),_=th(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),w=th(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",f,!0),window.addEventListener("input",h),window.addEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.addEventListener("resize",y),window.addEventListener("mousemove",v),window.addEventListener("scroll",_),document.addEventListener("visibilitychange",w),()=>{window.removeEventListener("focus",f,!0),window.removeEventListener("input",h),window.removeEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.removeEventListener("resize",y),window.removeEventListener("mousemove",v),window.removeEventListener("scroll",_),document.removeEventListener("visibilitychange",w)}},[]);const i=t.uiConfig.sidebarWidth??300,{storageEngine:s}=Pi(),o=bS(),[a,l]=A.useState(!1),[u,c]=A.useState(!1);A.useEffect(()=>{(async()=>{if(s){const h=await s.getModes(o);l(h.studyNavigatorEnabled),c(h.dataCollectionEnabled)}})()},[s,o]);const d=A.useMemo(()=>a&&r,[a,r]);return b.jsx(H2e.Provider,{value:e,children:b.jsxs(Hr,{padding:"md",header:{height:70},navbar:{width:i,breakpoint:"xs",collapsed:{desktop:!t.uiConfig.sidebar,mobile:!t.uiConfig.sidebar}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!d,mobile:!d}},children:[b.jsx(PBt,{}),b.jsx(IBt,{}),b.jsx(kBt,{studyNavigatorEnabled:a,dataCollectionEnabled:u}),b.jsx(NBt,{}),b.jsx(OBt,{}),b.jsx(Hr.Main,{children:b.jsx(ctt,{})})]})})}const ez={left:5,top:0,right:5,bottom:0};function MBt(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function $Bt({participant:e,maxDuration:t}){const n=pd(),r=mg(),i=A.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const u=Object.values(e.answers).sort((c,d)=>c.startTime-d.startTime);return new Date(u[u.length-1].endTime-(u[1]?u[1].startTime:0)).getTime()},[e]),[s,{width:o}]=nf(),a=A.useMemo(()=>!e.answers||Object.entries(e.answers).length===0?0:aI(Object.values(e.answers).map(c=>c.provenanceGraph?Object.keys(c.provenanceGraph.nodes).length:0)),[e]),l=A.useMemo(()=>{if(!e)return null;const u=Object.values(e.answers||{}).map(f=>[f.startTime,f.endTime]).flat(),c=ph(u);return il([ez.left,o+ez.left+ez.right]).domain(c).clamp(!0)},[e,o]);return b.jsx(dl,{children:b.jsxs(Jr,{gap:25,ref:s,style:{width:"75%"},children:[b.jsxs(Rn,{justify:"space-between",children:[b.jsx(Qy,{size:"25px",component:xX,target:"_blank",to:`${r.pathname}/${e.participantId}/ui`,onClick:()=>n(`${e.participantId}/reviewer-${Wc(e.sequence)[0]}`),children:e.participantId}),b.jsx(nt,{size:"xl",children:`${a}`}),b.jsx(nt,{size:"xl",children:`${MBt(i)}`})]}),l?b.jsx(DDe,{xScale:l,setSelectedTask:()=>null,participantData:e,width:o,height:250}):null]},e.participantId)})}function LBt(e){return e?e.getAllParticipantsData():null}const FBt=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],jBt=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function BBt(){const{storageEngine:e}=Pi(),{value:t,status:n}=dm(LBt,[e]),r=A.useMemo(()=>{if(!(n!=="success"||!t))return Gc(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return n==="success"&&t?b.jsx(Jr,{gap:50,style:{width:"100%"},children:t==null?void 0:t.filter(i=>jBt.includes(i.participantId)||FBt.includes(i.participantId)).map(i=>b.jsx($Bt,{maxDuration:r,participant:i},i.participantId))}):b.jsx(ws,{})}function zBt({setProvState:e}){return b.jsx("div",{children:b.jsx(Hr.Main,{p:"sm",children:b.jsx(I3e,{mini:!1})})})}var UBt={VITE_BASE_PATH:"/ThinkAloud/",VITE_FIREBASE_CONFIG:`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`,VITE_STORAGE_ENGINE:"firebase",VITE_RECAPTCHAV3TOKEN:"6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ",VITE_REVISIT_MODE:"private",BASE_URL:"/ThinkAloud/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};async function VBt(e){const t=await(await fetch(`${gp}${e}`)).text();return J0t(t)}async function J4(e,t){const n=t.configsList.find(r=>PSe(r)===e);if(n){const r=t.configs[n];return await VBt(`${r.path}`)}return null}async function HBt(e){const t={},n=e.configsList.filter(i=>UBt.VITE_CI==="true"?!0:!e.configs[i].test).map(async i=>J4(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function qBt({studyId:e,config:t}){const{sequence:n}=Qo(i=>i),r=A.useMemo(()=>{if(e&&t&&n){const i=[];return i.push({path:"/",element:b.jsx(Dq,{to:"0",replace:!0})}),i.push({path:"/:index",element:t.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx(Ti,{order:2,mb:8,children:"Error loading config"}),b.jsx(eV,{issues:t.errors,type:"error"})]}):b.jsx(Wge,{})}),i.push({path:"/analysis/:trrackId/:index/",element:b.jsx(Wge,{})}),i.push({path:"/analysis/:trrackId/ui/:index?/",element:b.jsx(Hr,{header:{height:70},navbar:{collapsed:{desktop:!0,mobile:!0},width:0,breakpoint:"xs"},aside:{collapsed:{desktop:!0,mobile:!0},width:0,breakpoint:"xs"},children:b.jsx(zBt,{setProvState:()=>null})})}),i.push({path:"/analysis",element:b.jsx(BBt,{})}),i.push({path:"/end",element:b.jsx(V2e,{})}),[{element:b.jsx(DBt,{}),children:i}]}return[]},[t,n,e]);return vSe(r)}function WBt({globalConfig:e}){const t=bS(),[n,r]=A.useState(null);e.configsList.includes(t),A.useEffect(()=>{J4(t,e).then(u=>{r(u)})},[e,t]);const[i,s]=A.useState(null),{storageEngine:o}=Pi(),[a]=SX();return A.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await ABt(n));const d=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),h=await fetch("https://api.ipify.org?format=json").catch(v=>""),p=h instanceof Response?await h.json():{ip:""},m={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:p.ip},g=await o.initializeParticipantSession(t,f,n,m,d),y=await nht(t,n,g.sequence,m,g.answers);s(y)}u()},[o,n,t,a]),i?b.jsx(WCe.Provider,{value:i,children:b.jsx(Cct,{store:i.store,children:b.jsx(qBt,{studyId:t,config:n})})}):b.jsx(uu,{visible:!0})}function mA({studyIds:e}){const t=pd(),{studyId:n}=vf(),r=mg(),i=e.map(f=>({value:f,label:f})),{storageEngine:s}=Pi(),{user:o,logout:a}=Tp(),[l,u]=A.useState(!1),c=r.pathname.includes("analysis"),d=[{name:"Studies",leftIcon:b.jsx(tnt,{}),href:"/",needAdmin:!1},{name:"Analysis",leftIcon:b.jsx(jtt,{}),href:"/analysis/dashboard",needAdmin:!1},{name:"Settings",leftIcon:b.jsx(ASe,{}),href:"/settings",needAdmin:!0}];return b.jsx(Hr.Header,{p:"md",children:b.jsxs(Fc,{mt:-7,align:"center",children:[b.jsx(Fc.Col,{span:6,children:b.jsxs(It,{align:"center",onClick:()=>t(c?"/analysis/dashboard":"/"),style:{cursor:"pointer"},children:[b.jsx(Zy,{w:40,src:`${gp}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsx(qc,{w:"md"}),b.jsx(Ti,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),b.jsx(Fc.Col,{span:6,children:b.jsxs(It,{justify:"flex-end",direction:"row",children:[c&&b.jsx(nu,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:f=>t(`/analysis/stats/${f}`),mr:16}),b.jsx(IK,{opened:!1,onClick:()=>u(!0),style:{visibility:l?"hidden":void 0}}),b.jsx(pp,{opened:l,onClose:()=>u(!1),position:"right",withCloseButton:!1,children:b.jsxs(It,{direction:"column",mt:20,children:[b.jsx(nt,{ml:15,mb:20,fw:700,size:"lg",children:"Navigation"}),d.map(f=>f.needAdmin?o.isAdmin?b.jsx(hn,{leftSection:f.leftIcon,variant:"default",style:{border:"none",display:"flex",justifyContent:"flex-start"},onClick:()=>{t(f.href),u(!1)},children:f.name},`menu-item-${f.name}`):null:b.jsx(hn,{leftSection:f.leftIcon,variant:"default",style:{border:"none",display:"flex",justifyContent:"flex-start"},onClick:()=>{t(f.href),u(!1)},children:f.name},`menu-item-${f.name}`)),b.jsxs(be,{ml:10,children:[b.jsx(AF,{my:"sm"}),(s==null?void 0:s.getEngine())==="firebase"?o.isAdmin?b.jsx(nt,{size:"sm",ml:10,style:{cursor:"pointer"},onClick:()=>{a(),t("/login"),u(!1)},children:"Logout"}):b.jsx(nt,{size:"sm",ml:10,style:{cursor:"pointer"},onClick:()=>{t("/login"),u(!1)},children:"Login"}):null]})]})})]})})]})})}function N3e({allParticipants:e,studyId:t}){const[n,{close:r,open:i}]=M2(!1),[s,{close:o,open:a}]=M2(!1),[l,{open:u,close:c}]=M2(!1);return b.jsxs(b.Fragment,{children:[b.jsxs(Rn,{children:[b.jsxs($n,{opened:n,children:[b.jsx($n.Target,{children:b.jsx(hn,{variant:"light",disabled:e.length===0,onClick:()=>{tJ(JSON.stringify(e,null,2),`${t}_all.json`)},onMouseEnter:i,onMouseLeave:r,px:4,children:b.jsx(Qtt,{})})}),b.jsx($n.Dropdown,{children:b.jsx(nt,{children:"Download all participants data as JSON"})})]}),b.jsxs($n,{opened:s,children:[b.jsx($n.Target,{children:b.jsx(hn,{variant:"light",disabled:e.length===0,onClick:u,onMouseEnter:a,onMouseLeave:o,px:4,children:b.jsx(ISe,{})})}),b.jsx($n.Dropdown,{children:b.jsx(nt,{children:"Download all participants data as a tidy CSV"})})]})]}),l&&b.jsx(ryt,{opened:l,close:c,filename:`${t}_all_tidy.csv`,data:e,studyId:t})]})}function GBt({cellData:e}){const t=(e.endTime-e.startTime)/1e3;return b.jsxs(or.Td,{children:[t.toFixed(1)," ","s"]})}function YBt(e){const{metaData:t}=e;return b.jsx(or.Td,{children:b.jsx(aX,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:b.jsxs(Jr,{gap:"xs",children:[b.jsxs(be,{children:["IP:"," ",t.ip]}),b.jsxs(be,{children:["Language:"," ",t.language]}),b.jsxs(be,{children:["Resolution:"," ",JSON.stringify(t.resolution)]}),b.jsxs(be,{children:["User Agent:"," ",t.userAgent]})]})})})}function KBt({completed:e,inProgress:t,studyConfig:n,refresh:r}){const{storageEngine:i}=Pi(),{studyId:s}=vf(),{user:o}=Tp(),a=async g=>{i&&s&&(o.isAdmin?(await i.rejectParticipant(s,g),await r()):console.warn("You are not authorized to perform this action."))},[l,u]=A.useState([]),[c,d]=A.useState(!1),f=()=>jU({title:"Confirm rejecting participants",children:b.jsxs(nt,{size:"sm",children:["Are you sure you want to reject the selected participants? This action is"," ",b.jsx(nt,{span:!0,fw:700,td:"underline",inherit:!0,children:"irreversible"}),", and will return the participants' sequences to the beginning of the sequence array."]}),labels:{confirm:"Reject Participants",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:async()=>{d(!0);const g=l.map(async y=>await a(y));await Promise.all(g),u([]),await r(),d(!1)}});function h(g){g==="all"?l.length===[...e,...t].length?u([]):u([...e,...t].map(y=>y.participantId)):l.includes(g)?u(l.filter(y=>y!==g)):u([...l,g])}sQ(n.sequence);const p=[b.jsx(or.Th,{children:b.jsx(It,{justify:"center",children:b.jsx(yf,{mb:-4,checked:l.length===[...e,...t].length,onChange:()=>h("all")})})},"action"),b.jsx(or.Th,{children:"ID"},"ID"),b.jsx(or.Th,{children:"Status"},"status"),b.jsx(or.Th,{children:"Meta"},"meta"),b.jsx(or.Th,{children:"Total Duration"},"total-duration")],m=[...e,...t].map(g=>b.jsxs(or.Tr,{children:[b.jsx(or.Td,{children:b.jsx(It,{justify:"center",children:b.jsx(yf,{mb:-4,checked:l.includes(g.participantId),onChange:()=>h(g.participantId)})})}),b.jsx(or.Td,{style:{whiteSpace:"nowrap"},children:g.participantId}),b.jsx(or.Td,{children:b.jsxs(It,{direction:"row",align:"center",children:[g.rejected?b.jsx(dn,{label:"Rejected",children:b.jsx(i6,{size:16,color:"red",style:{marginBottom:-3}})}):g.completed?b.jsx(dn,{label:"Completed",children:b.jsx(wSe,{size:16,color:"teal",style:{marginBottom:-3}})}):b.jsx(dn,{label:"In Progress",children:b.jsx(TSe,{size:16,color:"orange",style:{marginBottom:-3}})}),!g.completed&&b.jsxs(nt,{size:"sm",mb:-1,ml:4,children:[(Object.entries(g.answers).filter(([y,v])=>v.endTime!==void 0).length/(Wc(g.sequence).length-1)*100).toFixed(2),"%"]})]})}),g.metadata?b.jsx(YBt,{metaData:g.metadata}):b.jsx(or.Td,{children:"N/A"}),b.jsx(GBt,{cellData:{startTime:Math.min(...Object.values(g.answers).map(y=>y.startTime)),endTime:Math.max(...Object.values(g.answers).map(y=>y.endTime)),answer:{},windowEvents:[]}},`cell-${g.participantId}-total-duration`)]},g.participantId));return[...e,...t].length>0?b.jsxs(b.Fragment,{children:[b.jsx(uu,{visible:c,overlayProps:{blur:2}}),b.jsxs(It,{justify:"space-between",mb:8,p:8,children:[b.jsx(Rn,{children:b.jsx(nu,{w:350,variant:"filled",placeholder:"Search for a participant ID",data:[...e,...t].map(g=>({value:g.participantId,label:g.participantId})),searchable:!0,value:null,leftSection:b.jsx(CSe,{size:14}),onChange:g=>g&&h(g)})}),b.jsxs(Rn,{children:[b.jsx(N3e,{allParticipants:[...e,...t],studyId:s||""}),b.jsx(hn,{disabled:l.length===0||!o.isAdmin,onClick:f,color:"red",children:"Reject Participants"})]})]}),b.jsx(It,{direction:"column",style:{width:"100%",overflow:"auto"},children:b.jsxs(or,{striped:!0,withTableBorder:!0,children:[b.jsx(or.Thead,{children:b.jsx(or.Tr,{children:p})}),b.jsx(or.Tbody,{children:m})]})})]}):b.jsx(It,{justify:"center",align:"center",style:{height:"100%"},children:b.jsx(nt,{children:"No data available"})})}const G_=14;function O3e({completed:e,inProgress:t,rejected:n,filteredCompleted:r}){return b.jsxs(It,{ml:4,gap:4,children:[b.jsx(dn,{label:"Completed",children:b.jsx(xm,{variant:"light",color:"green",leftSection:b.jsx(wSe,{width:G_,height:G_,style:{paddingTop:1}}),pb:1,children:r&&r!==e?`${r}/${e}`:e})}),b.jsx(dn,{label:"In Progress",children:b.jsx(xm,{variant:"light",color:"orange",leftSection:b.jsx(TSe,{width:G_,height:G_,style:{paddingTop:1}}),pb:1,children:t})}),b.jsx(dn,{label:"Rejected",children:b.jsx(xm,{variant:"light",color:"red",leftSection:b.jsx(i6,{width:G_,height:G_,style:{paddingTop:1}}),pb:1,children:n})})]})}function XBt({studyId:e,refresh:t}){const[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,u]=A.useState(""),[c,d]=A.useState([]),[f,h]=A.useState(""),[p,m]=A.useState(!1),[g,y]=A.useState(!1),{storageEngine:v}=Pi(),_=v,w=A.useCallback(async()=>{y(!0);const D=await _.getSnapshots(e);d(D),y(!1)},[_,e]);A.useEffect(()=>{w()},[w]);const E=async()=>{m(!0),await _.createSnapshot(e,!1),w(),m(!1),await t()},S=async()=>{m(!0),h(""),r(!1),await _.createSnapshot(e,!0),w(),m(!1),await t()},x=async D=>{m(!0),await _.restoreSnapshot(e,D),w(),m(!1),await t()},T=async()=>{m(!0),h(""),s(!1),await _.removeSnapshotOrLive(l,!0),w(),m(!1),await t()},I=async()=>{m(!0),h(""),a(!1),await _.removeSnapshotOrLive(e,!0),w(),m(!1),await t()},P=()=>jU({title:"Create a Snapshot",children:b.jsx(nt,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>E()}),k=D=>jU({title:"Restore Snapshot",children:b.jsx(nt,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>x(D)});return b.jsxs(b.Fragment,{children:[b.jsx(uu,{visible:p}),b.jsxs(It,{justify:"space-between",align:"center",children:[b.jsxs(be,{style:{width:"70%"},children:[b.jsx(Ti,{order:5,children:"Create a Snapshot"}),b.jsxs(nt,{children:["This will create a snapshot of the live"," ",b.jsx(nt,{span:!0,fw:700,children:e})," ","database. It will"," ",b.jsx(nt,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(dn,{label:"Create a snapshot",children:b.jsx(hn,{onClick:P,children:"Snapshot"})})]}),b.jsx(qc,{h:"lg"}),b.jsxs(It,{justify:"space-between",align:"center",children:[b.jsxs(be,{style:{width:"70%"},children:[b.jsx(Ti,{order:5,children:"Archive Data"}),b.jsxs(nt,{children:["This will create a snapshot of the live"," ",b.jsx(nt,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(dn,{label:"Snapshot and Delete Data",children:b.jsx(hn,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),b.jsx(qc,{h:"lg"}),b.jsxs(It,{justify:"space-between",align:"center",children:[b.jsxs(be,{style:{width:"70%"},children:[b.jsx(Ti,{order:5,children:"Delete Data"}),b.jsxs(nt,{children:["This will delete the live"," ",b.jsx(nt,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),b.jsx(dn,{label:"Delete Data",children:b.jsx(hn,{color:"red",onClick:()=>a(!0),children:"Delete"})})]}),b.jsx(qc,{h:"xl"}),b.jsxs(It,{direction:"column",children:[b.jsx(It,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:b.jsx(Ti,{order:5,children:"Snapshots"})}),b.jsxs(be,{style:{position:"relative"},children:[b.jsx(uu,{visible:g}),c.length>0?c.map(D=>b.jsxs(It,{justify:"space-between",mb:"xs",children:[b.jsx(nt,{children:D}),b.jsxs(It,{direction:"row",gap:"xs",children:[b.jsx(dn,{label:"Restore Snapshot",children:b.jsx(Fn,{color:"blue",variant:"subtle",onClick:()=>{k(D)},children:b.jsx(hnt,{})})}),b.jsx(dn,{label:"Delete Snapshot",children:b.jsx(Fn,{color:"red",variant:"subtle",onClick:()=>{s(!0),u(D)},children:b.jsx(RSe,{})})})]})]},D)):b.jsx(nt,{children:"No snapshots."})]})]}),b.jsxs(Ss,{opened:n,onClose:()=>{r(!1),h("")},title:b.jsx(nt,{children:"Archive Data"}),children:[b.jsx(nt,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),b.jsx(sf,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:D=>h(D.target.value)}),b.jsxs(It,{mt:"sm",justify:"right",children:[b.jsx(hn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),h("")},children:"Cancel"}),b.jsx(hn,{color:"red",onClick:S,disabled:f!==e,children:"Archive"})]})]}),b.jsxs(Ss,{opened:i,onClose:()=>{s(!1),h("")},title:b.jsx(nt,{children:"Delete Snapshot"}),children:[b.jsxs(nt,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",b.jsx(nt,{span:!0,fw:700,children:"irreversible"}),"."]}),b.jsx(sf,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:D=>h(D.target.value)}),b.jsxs(It,{mt:"sm",justify:"right",children:[b.jsx(hn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{s(!1),h("")},children:"Cancel"}),b.jsx(hn,{color:"red",onClick:T,disabled:f!==e,children:"Delete"})]})]}),b.jsxs(Ss,{opened:o,onClose:()=>{a(!1),h("")},title:b.jsx(nt,{children:"Delete Live Data"}),children:[b.jsxs(nt,{mb:"sm",children:["This will permanently delete the live"," ",b.jsx(nt,{span:!0,fw:700,children:e})," ","data. This action is"," ",b.jsx(nt,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),b.jsx(sf,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:D=>h(D.target.value)}),b.jsxs(It,{mt:"sm",justify:"right",children:[b.jsx(hn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),h("")},children:"Cancel"}),b.jsx(hn,{color:"red",onClick:I,disabled:f!==e,children:"Delete"})]})]})]})}function QBt({studyId:e}){const{storageEngine:t}=Pi(),[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,u]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);s(f.dataCollectionEnabled),a(f.studyNavigatorEnabled),u(f.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?s(f):d==="studyNavigatorEnabled"?a(f):d==="analyticsInterfacePubliclyAccessible"&&u(f))};return n&&b.jsxs(Jr,{children:[b.jsx(z0,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),b.jsx(z0,{label:"Study Navigator Enabled",checked:o,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),b.jsx(z0,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]})}function JBt({studyId:e,refresh:t}){const{storageEngine:n}=Pi();return b.jsx(Nf,{children:b.jsxs(Ll,{multiple:!0,variant:"contained",children:[b.jsxs(Ll.Item,{value:"ReVISit Modes",children:[b.jsx(Ll.Control,{children:b.jsx(Ti,{order:5,children:"ReVISit Modes"})}),b.jsx(Ll.Panel,{children:b.jsx(QBt,{studyId:e})})]},"modes"),b.jsxs(Ll.Item,{value:"Data Management",children:[b.jsx(Ll.Control,{disabled:(n==null?void 0:n.getEngine())==="localStorage",children:b.jsx(Ti,{order:5,children:"Data Management"})}),b.jsx(Ll.Panel,{children:(n==null?void 0:n.getEngine())!=="localStorage"&&b.jsx(XBt,{studyId:e,refresh:t})})]},"dataManagement")]})})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function S0(e,t){return typeof e=="function"?e(t):e}function ac(e,t){return n=>{t.setState(r=>({...r,[e]:S0(n,r[e])}))}}function Z4(e){return e instanceof Function}function ZBt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function D3e(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function Ht(e,t,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(s);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c⏱ ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function qt(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function e9t(e,t,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Ht(()=>[e,n,t,s],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),qt(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function t9t(e,t,n,r){var i,s;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(s=a.id)!=null?s:l?l.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const m of l.split(".")){var p;h=(p=h)==null?void 0:p[m]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Ht(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},qt(e.options,"debugColumns")),getLeafColumns:Ht(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let p=d.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[d]},qt(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const ya="debugHeaders";function Kge(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const n9t={createTable:e=>{e.getHeaderGroups=Ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],l=(o=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return iO(t,[...a,...u,...l],e)},qt(e.options,ya)),e.getCenterHeaderGroups=Ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),iO(t,n,e,"center")),qt(e.options,ya)),e.getLeftHeaderGroups=Ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return iO(t,s,e,"left")},qt(e.options,ya)),e.getRightHeaderGroups=Ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return iO(t,s,e,"right")},qt(e.options,ya)),e.getFooterGroups=Ht(()=>[e.getHeaderGroups()],t=>[...t].reverse(),qt(e.options,ya)),e.getLeftFooterGroups=Ht(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),qt(e.options,ya)),e.getCenterFooterGroups=Ht(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),qt(e.options,ya)),e.getRightFooterGroups=Ht(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),qt(e.options,ya)),e.getFlatHeaders=Ht(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),qt(e.options,ya)),e.getLeftFlatHeaders=Ht(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),qt(e.options,ya)),e.getCenterFlatHeaders=Ht(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),qt(e.options,ya)),e.getRightFlatHeaders=Ht(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),qt(e.options,ya)),e.getCenterLeafHeaders=Ht(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qt(e.options,ya)),e.getLeftLeafHeaders=Ht(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qt(e.options,ya)),e.getRightLeafHeaders=Ht(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qt(e.options,ya)),e.getLeafHeaders=Ht(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,o,a,l,u;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},qt(e.options,ya))}};function iO(e,t,n,r){var i,s;let o=0;const a=function(f,h){h===void 0&&(h=1),o=Math.max(o,h),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(g=>{const y=[...m].reverse()[0],v=g.column.depth===p.depth;let _,w=!1;if(v&&g.column.parent?_=g.column.parent:(_=g.column,w=!0),y&&(y==null?void 0:y.column)===_)y.subHeaders.push(g);else{const E=Kge(n,_,{id:[r,h,_.id,g==null?void 0:g.id].filter(Boolean).join("_"),isPlaceholder:w,placeholderId:w?`${m.filter(S=>S.column===_).length}`:void 0,depth:h,index:m.length});E.subHeaders.push(g),m.push(E)}p.headers.push(g),g.headerGroup=p}),l.push(p),h>0&&u(m,h-1)},c=t.map((f,h)=>Kge(n,f,{depth:o,index:h}));u(c,o-1),l.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,g=0,y=[0];p.subHeaders&&p.subHeaders.length?(y=[],d(p.subHeaders).forEach(_=>{let{colSpan:w,rowSpan:E}=_;m+=w,y.push(E)})):m=1;const v=Math.min(...y);return g=g+v,p.colSpan=m,p.rowSpan=g,{colSpan:m,rowSpan:g}});return d((i=(s=l[0])==null?void 0:s.headers)!=null?i:[]),l}const Bk=(e,t,n,r,i,s,o)=>{let a={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:s??[],getLeafRows:()=>D3e(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:Ht(()=>[e.getAllLeafColumns()],l=>l.map(u=>e9t(e,a,u,u.id)),qt(e.options,"debugRows")),_getAllCellsByColumnId:Ht(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),qt(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},r9t={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},M3e=(e,t,n)=>{var r;const i=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};M3e.autoRemove=e=>df(e);const $3e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};$3e.autoRemove=e=>df(e);const L3e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};L3e.autoRemove=e=>df(e);const F3e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};F3e.autoRemove=e=>df(e)||!(e!=null&&e.length);const j3e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});j3e.autoRemove=e=>df(e)||!(e!=null&&e.length);const B3e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});B3e.autoRemove=e=>df(e)||!(e!=null&&e.length);const z3e=(e,t,n)=>e.getValue(t)===n;z3e.autoRemove=e=>df(e);const U3e=(e,t,n)=>e.getValue(t)==n;U3e.autoRemove=e=>df(e);const Dte=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};Dte.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};Dte.autoRemove=e=>df(e)||df(e[0])&&df(e[1]);const dh={includesString:M3e,includesStringSensitive:$3e,equalsString:L3e,arrIncludes:F3e,arrIncludesAll:j3e,arrIncludesSome:B3e,equals:z3e,weakEquals:U3e,inNumberRange:Dte};function df(e){return e==null||e===""}const i9t={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ac("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?dh.includesString:typeof r=="number"?dh.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?dh.equals:Array.isArray(r)?dh.arrIncludes:dh.weakEquals},e.getFilterFn=()=>{var n,r;return Z4(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:dh[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(c=>c.id===e.id),o=S0(n,s?s.value:void 0);if(Xge(i,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(s){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=S0(t,i))==null?void 0:s.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Xge(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Xge(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const s9t=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),o9t=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},a9t=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},l9t=(e,t,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},u9t=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},c9t=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!ZBt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},d9t=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),f9t=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,h9t=(e,t)=>t.length,jD={sum:s9t,min:o9t,max:a9t,extent:l9t,mean:u9t,median:c9t,unique:d9t,uniqueCount:f9t,count:h9t},p9t={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ac("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return jD.sum;if(Object.prototype.toString.call(r)==="[object Date]")return jD.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Z4(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:jD[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function m9t(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const g9t={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ac("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Ht(n=>[gA(t,n)],n=>n.findIndex(r=>r.id===e.id),qt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=gA(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=gA(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Ht(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const o=[...t],a=[...i];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&s.push(a.splice(u,1)[0])}s=[...s,...a]}return m9t(s,n,r)},qt(e.options,"debugTable"))}},tz=()=>({left:[],right:[]}),y9t={getInitialState:e=>({columnPinning:tz(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ac("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,o;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Ht(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},qt(t.options,"debugRows")),e.getLeftVisibleCells=Ht(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),qt(t.options,"debugRows")),e.getRightVisibleCells=Ht(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),qt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?tz():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:tz())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Ht(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),qt(e.options,"debugColumns")),e.getRightLeafColumns=Ht(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),qt(e.options,"debugColumns")),e.getCenterLeafColumns=Ht(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},qt(e.options,"debugColumns"))}},sO={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},nz=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),v9t={getDefaultColumnDef:()=>sO,getInitialState:e=>({columnSizing:{},columnSizingInfo:nz(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ac("columnSizing",e),onColumnSizingInfoChange:ac("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:sO.minSize,(r=s??e.columnDef.size)!=null?r:sO.size),(i=e.columnDef.maxSize)!=null?i:sO.maxSize)},e.getStart=Ht(n=>[n,gA(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),qt(t.options,"debugColumns")),e.getAfter=Ht(n=>[n,gA(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),qt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),rz(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=rz(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(_=>{var w,E;const S=t.options.columnResizeDirection==="rtl"?-1:1,x=(v-((w=_==null?void 0:_.startOffset)!=null?w:0))*S,T=Math.max(x/((E=_==null?void 0:_.startSize)!=null?E:0),-.999999);return _.columnSizingStart.forEach(I=>{let[P,k]=I;u[P]=Math.round(Math.max(k+k*T,0)*100)/100}),{..._,deltaOffset:x,deltaPercentage:T}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(_=>({..._,...u})))},d=y=>c("move",y),f=y=>{c("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:y=>d(y.clientX),upHandler:y=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),f(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var v;h==null||h.removeEventListener("touchmove",m.moveHandler),h==null||h.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((v=y.touches[0])==null?void 0:v.clientX)}},g=b9t()?{passive:!1}:!1;rz(s)?(h==null||h.addEventListener("touchmove",m.moveHandler,g),h==null||h.addEventListener("touchend",m.upHandler,g)):(h==null||h.addEventListener("mousemove",p.moveHandler,g),h==null||h.addEventListener("mouseup",p.upHandler,g)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?nz():(n=e.initialState.columnSizingInfo)!=null?n:nz())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let oO=null;function b9t(){if(typeof oO=="boolean")return oO;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return oO=e,oO}function rz(e){return e.type==="touchstart"}const _9t={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ac("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ht(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),qt(t.options,"debugRows")),e.getVisibleCells=Ht(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],qt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Ht(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),qt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function gA(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const w9t={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},E9t={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ac("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>dh.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Z4(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:dh[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},x9t={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ac("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Mq=0,$q=10,iz=()=>({pageIndex:Mq,pageSize:$q}),S9t={getInitialState:e=>({...e,pagination:{...iz(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ac("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>S0(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?iz():(i=e.initialState.pagination)!=null?i:iz())},e.setPageIndex=r=>{e.setPagination(i=>{let s=S0(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?Mq:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Mq)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?$q:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:$q)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,S0(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let o=S0(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Ht(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},qt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},sz=()=>({top:[],bottom:[]}),T9t={getInitialState:e=>({rowPinning:sz(),...e}),getDefaultOptions:e=>({onRowPinningChange:ac("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...s]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=t._getPinnedRows(i))==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?sz():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:sz())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=Ht(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},qt(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Ht(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},qt(e.options,"debugRows"))}},C9t={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ac("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{Lq(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ht(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?oz(e,n):{rows:[],flatRows:[],rowsById:{}},qt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ht(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?oz(e,n):{rows:[],flatRows:[],rowsById:{}},qt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ht(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?oz(e,n):{rows:[],flatRows:[],rowsById:{}},qt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const a={...s};return Lq(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Mte(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Fq(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Fq(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Lq=(e,t,n,r,i)=>{var s;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>Lq(e,a.id,n,r,i))};function oz(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(l=>{var u;const c=Mte(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:s(l.subRows)}),c)return l}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function Mte(e,t){var n;return(n=t[e.id])!=null?n:!1}function Fq(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(Mte(o,t)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=Fq(o,t);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const jq=/([0-9]+)/gm,A9t=(e,t,n)=>V3e(ky(e.getValue(n)).toLowerCase(),ky(t.getValue(n)).toLowerCase()),I9t=(e,t,n)=>V3e(ky(e.getValue(n)),ky(t.getValue(n))),R9t=(e,t,n)=>$te(ky(e.getValue(n)).toLowerCase(),ky(t.getValue(n)).toLowerCase()),k9t=(e,t,n)=>$te(ky(e.getValue(n)),ky(t.getValue(n))),P9t=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},N9t=(e,t,n)=>$te(e.getValue(n),t.getValue(n));function $te(e,t){return e===t?0:e>t?1:-1}function ky(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function V3e(e,t){const n=e.split(jq).filter(Boolean),r=t.split(jq).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),l=[o,a].sort();if(isNaN(l[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const y1={alphanumeric:A9t,alphanumericCaseSensitive:I9t,text:R9t,textCaseSensitive:k9t,datetime:P9t,basic:N9t},O9t={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ac("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return y1.datetime;if(typeof s=="string"&&(r=!0,s.split(jq).length>1))return y1.alphanumeric}return r?y1.text:y1.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Z4(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:y1[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(h=>h.id===e.id),l=o==null?void 0:o.findIndex(h=>h.id===e.id);let u=[],c,d=s?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(s||i||(c="remove")),c==="add"){var f;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=o.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},D9t=[n9t,_9t,g9t,y9t,r9t,i9t,w9t,E9t,O9t,p9t,x9t,S9t,T9t,C9t,v9t];function M9t(e){var t,n;const r=[...D9t,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(s,f):{...s,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...s,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=S0(f,i.options);i.options=o(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,h,p))!=null?m:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let p=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:Ht(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,g;return(m=(g=p.renderValue())==null||g.toString==null?void 0:g.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},qt(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ht(()=>[i._getColumnDefs()],f=>{const h=function(p,m,g){return g===void 0&&(g=0),p.map(y=>{const v=t9t(i,y,g,m),_=y;return v.columns=_.columns?h(_.columns,v,g+1):[],v})};return h(f)},qt(e,"debugColumns")),getAllFlatColumns:Ht(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),qt(e,"debugColumns")),_getAllFlatColumnsById:Ht(()=>[i.getAllFlatColumns()],f=>f.reduce((h,p)=>(h[p.id]=p,h),{}),qt(e,"debugColumns")),getAllLeafColumns:Ht(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let p=f.flatMap(m=>m.getLeafColumns());return h(p)},qt(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function $9t(){return e=>Ht(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let u=0;u<i.length;u++){const c=Bk(e,e._getRowId(i[u],u,o),i[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,s+1,c))}}return a};return n.rows=r(t),n},qt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function L9t(){return e=>Ht(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:H3e(n),qt(e.options,"debugTable"))}function H3e(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function F9t(){return(e,t)=>Ht(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const i=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof i>"u")return;let s=[i,i];for(let o=0;o<n.flatRows.length;o++){const a=n.flatRows[o].getUniqueValues(t);for(let l=0;l<a.length;l++){const u=a[l];u<s[0]?s[0]=u:u>s[1]&&(s[1]=u)}}return s},qt(e.options,"debugTable"))}function q3e(e,t,n){return n.options.filterFromLeafRows?j9t(e,t,n):B9t(e,t,n)}function j9t(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const p=Bk(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<o){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}if(t(h)||p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}}else h=p,t(h)&&(c.push(h),s[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:s}}function B9t(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<o){const m=Bk(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);m.subRows=a(h.subRows,u+1),h=m}c.push(h),i.push(h),s[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:s}}function z9t(){return(e,t)=>Ht(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),o=a=>{for(let l=0;l<s.length;l++)if(a.columnFilters[s[l]]===!1)return!1;return!0};return q3e(n.rows,o,e)},qt(e.options,"debugTable"))}function U9t(){return(e,t)=>Ht(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(t);for(let a=0;a<o.length;a++){const l=o[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},qt(e.options,"debugTable"))}function V9t(){return e=>Ht(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(f=>{var h;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(h=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?h:f.value})});const o=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(f=>{var h;s.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let p=0;p<i.length;p++){u=i[p];const m=u.id;h.columnFilters[m]=u.filterFn(h,m,u.resolvedValue,g=>{h.columnFiltersMeta[m]=g})}if(s.length){for(let p=0;p<s.length;p++){c=s[p];const m=c.id;if(c.filterFn(h,m,c.resolvedValue,g=>{h.columnFiltersMeta[m]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<o.length;h++)if(f.columnFilters[o[h]]===!1)return!1;return!0};return q3e(t.rows,d,e)},qt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function H9t(){return e=>Ht(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n;const r=t.filter(l=>e.getColumn(l)),i=[],s={},o=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(p=>(p.depth=u,i.push(p),s[p.id]=p,p.subRows&&(p.subRows=o(p.subRows,u+1,p.id)),p));const d=r[u],f=q9t(l,d);return Array.from(f.entries()).map((p,m)=>{let[g,y]=p,v=`${d}:${g}`;v=c?`${c}>${v}`:v;const _=o(y,u+1,v),w=u?D3e(y,S=>S.subRows):y,E=Bk(e,v,w[0].original,m,u,void 0,c);return Object.assign(E,{groupingColumnId:d,groupingValue:g,subRows:_,leafRows:w,getValue:S=>{if(r.includes(S)){if(E._valuesCache.hasOwnProperty(S))return E._valuesCache[S];if(y[0]){var x;E._valuesCache[S]=(x=y[0].getValue(S))!=null?x:void 0}return E._valuesCache[S]}if(E._groupingValuesCache.hasOwnProperty(S))return E._groupingValuesCache[S];const T=e.getColumn(S),I=T==null?void 0:T.getAggregationFn();if(I)return E._groupingValuesCache[S]=I(S,w,y),E._groupingValuesCache[S]}}),_.forEach(S=>{i.push(S),s[S.id]=S}),E})},a=o(n.rows,0);return a.forEach(l=>{i.push(l),s[l.id]=l}),{rows:a,flatRows:i,rowsById:s}},qt(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function q9t(e,t){const n=new Map;return e.reduce((r,i)=>{const s=`${i.getGroupingValue(t)}`,o=r.get(s);return o?o.push(i):r.set(s,[i]),r},n)}function W9t(e){return t=>Ht(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=i*s,c=u+i;o=o.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=H3e({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},qt(t.options,"debugTable"))}function G9t(){return e=>Ht(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};s.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<s.length;h+=1){var f;const p=s[h],m=o[p.id],g=m.sortUndefined,y=(f=p==null?void 0:p.desc)!=null?f:!1;let v=0;if(g){const _=c.getValue(p.id),w=d.getValue(p.id),E=_===void 0,S=w===void 0;if(E||S){if(g==="first")return E?-1:1;if(g==="last")return E?1:-1;v=E&&S?0:E?g:-g}}if(v===0&&(v=m.sortingFn(c,d,p.id)),v!==0)return y&&(v*=-1),m.invertSorting&&(v*=-1),v}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},qt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Y9t(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A.useState(()=>({current:M9t(t)})),[r,i]=A.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}/**
   * match-sorter-utils
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */const W3e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},K9t=Object.keys(W3e).join("|"),X9t=new RegExp(K9t,"g");function Q9t(e){return e.replace(X9t,t=>W3e[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const Ja={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function J9t(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:Ja.MATCHES,!n.accessors){const o=Qge(e,t,n);return{rankedValue:e,rank:o,accessorIndex:-1,accessorThreshold:n.threshold,passed:o>=n.threshold}}const i=rzt(e,n.accessors),s={rankedValue:e,rank:Ja.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let l=Qge(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=Ja.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>s.rank&&(s.rank=l,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=d,s.rankedValue=a.itemValue)}return s}function Qge(e,t,n){return e=Jge(e,n),t=Jge(t,n),t.length>e.length?Ja.NO_MATCH:e===t?Ja.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Ja.EQUAL:e.startsWith(t)?Ja.STARTS_WITH:e.includes(` ${t}`)?Ja.WORD_STARTS_WITH:e.includes(t)?Ja.CONTAINS:t.length===1?Ja.NO_MATCH:Z9t(e).includes(t)?Ja.ACRONYM:ezt(e,t))}function Z9t(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(s=>{t+=s.substr(0,1)})}),t}function ezt(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function s(l){const u=1/l,c=n/t.length;return Ja.MATCHES+c*u}const o=i(t[0],e,0);if(o<0)return Ja.NO_MATCH;r=o;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return Ja.NO_MATCH}const a=r-o;return s(a)}function tzt(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function Jge(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=Q9t(e)),e}function nzt(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function rzt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=izt(s),a=nzt(e,s);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:o})}return n}const Zge={maxRanking:1/0,minRanking:-1/0};function izt(e){return typeof e=="function"?Zge:{...Zge,...e}}function nC(e,t,n){let r=n.initialDeps??[],i;return()=>{var s,o,a,l;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,p)=>r[p]!==h)))return i;r=c;let f;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-f)*100)/100,m=p/16,g=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c⏱ ${g(p,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,i),i}}function az(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const szt=(e,t)=>Math.abs(e-t)<1,ozt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},azt=e=>e,G3e=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},lzt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=o[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},e0e={passive:!0},uzt=typeof window>"u"?!0:"onscrollend"in window,czt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=uzt?()=>{}:ozt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=u=>()=>{i=n[e.options.horizontal?"scrollLeft":"scrollTop"],s(),t(i,u)},a=o(!0),l=o(!1);return l(),n.addEventListener("scroll",a,e0e),n.addEventListener("scrollend",l,e0e),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},dzt=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},fzt=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const o=e+t;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class hzt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var i;return(i=r())==null?void 0:i.disconnect()},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:azt,rangeExtractor:G3e,onChange:()=>{},measureElement:dzt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,r)=>{var i,s;const{startIndex:o,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(n||o!==(l==null?void 0:l.startIndex)||a!==(l==null?void 0:l.endIndex))&&((s=(i=this.options).onChange)==null||s.call(i,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{var n;const r=this.options.getScrollElement();this.scrollElement!==r&&(this.cleanup(),this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.scrollOffset<i?"forward":"backward":null,this.scrollOffset=i;const o=this.isScrolling;this.isScrolling=s,this.notify(o!==s,s)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=nC(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,r,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s}),{key:!1}),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurements=nC(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s},o)=>{const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,a);for(let u=a;u<n;u++){const c=s(u),d=this.options.lanes===1?l[u-1]:this.getFurthestMeasurement(l,u),f=d?d.end+this.options.gap:r+i,h=o.get(c),p=typeof h=="number"?h:this.options.estimateSize(u),m=f+p,g=d?d.lane:u%this.options.lanes;l[u]={index:u,start:f,size:p,end:m,key:c,lane:g}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=nC(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,r,i)=>this.range=n.length>0&&r>0?pzt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=nC(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.measurementsCache[this.indexFromElement(n)];if(!i||!n.isConnected){this.measureElementCache.forEach((a,l)=>{a===n&&(this.observer.unobserve(n),this.measureElementCache.delete(l))});return}const s=this.measureElementCache.get(i.key);s!==n&&(s&&this.observer.unobserve(s),this.observer.observe(n),this.measureElementCache.set(i.key,n));const o=this.options.measureElement(n,r,this);this.resizeItem(i,o)},this.resizeItem=(n,r)=>{const i=this.itemSizeCache.get(n.key)??n.size,s=r-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,s,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=nC(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();return az(r[Y3e(0,r.length-1,i=>az(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize();r==="auto"&&(n<=this.scrollOffset?r="start":n>=this.scrollOffset+i?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-i:r==="center"&&(n=n-i/2);const s=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-this.getSize();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=az(this.getMeasurements()[n]);if(r==="auto")if(i.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)r="end";else if(i.start<=this.scrollOffset+this.options.scrollPaddingStart)r="start";else return[this.scrollOffset,r];const s=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,r),r]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[s,o]=this.getOffsetForIndex(n,r);this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[l]=this.getOffsetForIndex(n,o);szt(l,this.scrollOffset)||this.scrollToIndex(n,{align:o,behavior:i})}else this.scrollToIndex(n,{align:o,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),i-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const Y3e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else if(s>r)t=i-1;else return i}return e>0?e-1:0};function pzt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=Y3e(0,r,a=>e[a].start,n);let o=s;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:s,endIndex:o}}const mzt=typeof document<"u"?A.useLayoutEffect:A.useEffect;function gzt(e){const t=A.useReducer(()=>({}),{})[1],n={...e,onChange:(i,s)=>{var o;s?tS.flushSync(t):t(),(o=e.onChange)==null||o.call(e,i,s)}},[r]=A.useState(()=>new hzt(n));return r.setOptions(n),A.useEffect(()=>r._didMount(),[]),mzt(()=>r._willUpdate()),r}function K3e(e){return gzt({observeElementRect:lzt,observeElementOffset:czt,scrollToFn:fzt,...e})}var X3e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ys,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var $=["th","st","nd","rd"],L=M%100;return"["+M+($[(L-20)%10]||$[L]||$[0])+"]"}},_=function(M,$,L){var B=String(M);return!B||B.length>=$?M:""+Array($+1-B.length).join(L)+M},w={s:_,z:function(M){var $=-M.utcOffset(),L=Math.abs($),B=Math.floor(L/60),z=L%60;return($<=0?"+":"-")+_(B,2,"0")+":"+_(z,2,"0")},m:function M($,L){if($.date()<L.date())return-M(L,$);var B=12*(L.year()-$.year())+(L.month()-$.month()),z=$.clone().add(B,d),U=L-z<0,N=$.clone().add(B+(U?-1:1),d);return+(-(B+(L-z)/(U?z-N:N-z))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:f}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},E="en",S={};S[E]=v;var x="$isDayjsObject",T=function(M){return M instanceof D||!(!M||!M[x])},I=function M($,L,B){var z;if(!$)return E;if(typeof $=="string"){var U=$.toLowerCase();S[U]&&(z=U),L&&(S[U]=L,z=U);var N=$.split("-");if(!z&&N.length>1)return M(N[0])}else{var V=$.name;S[V]=$,z=V}return!B&&z&&(E=z),z||!B&&E},P=function(M,$){if(T(M))return M.clone();var L=typeof $=="object"?$:{};return L.date=M,L.args=arguments,new D(L)},k=w;k.l=I,k.i=T,k.w=function(M,$){return P(M,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var D=function(){function M(L){this.$L=I(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[x]=!0}var $=M.prototype;return $.parse=function(L){this.$d=function(B){var z=B.date,U=B.utc;if(z===null)return new Date(NaN);if(k.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var N=z.match(g);if(N){var V=N[2]-1||0,W=(N[7]||"0").substring(0,3);return U?new Date(Date.UTC(N[1],V,N[3]||1,N[4]||0,N[5]||0,N[6]||0,W)):new Date(N[1],V,N[3]||1,N[4]||0,N[5]||0,N[6]||0,W)}}return new Date(z)}(L),this.init()},$.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},$.$utils=function(){return k},$.isValid=function(){return this.$d.toString()!==m},$.isSame=function(L,B){var z=P(L);return this.startOf(B)<=z&&z<=this.endOf(B)},$.isAfter=function(L,B){return P(L)<this.startOf(B)},$.isBefore=function(L,B){return this.endOf(B)<P(L)},$.$g=function(L,B,z){return k.u(L)?this[B]:this.set(z,L)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(L,B){var z=this,U=!!k.u(B)||B,N=k.p(L),V=function(se,le){var Se=k.w(z.$u?Date.UTC(z.$y,le,se):new Date(z.$y,le,se),z);return U?Se:Se.endOf(u)},W=function(se,le){return k.w(z.toDate()[se].apply(z.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(le)),z)},F=this.$W,H=this.$M,G=this.$D,X="set"+(this.$u?"UTC":"");switch(N){case h:return U?V(1,0):V(31,11);case d:return U?V(1,H):V(0,H+1);case c:var ie=this.$locale().weekStart||0,oe=(F<ie?F+7:F)-ie;return V(U?G-oe:G+(6-oe),H);case u:case p:return W(X+"Hours",0);case l:return W(X+"Minutes",1);case a:return W(X+"Seconds",2);case o:return W(X+"Milliseconds",3);default:return this.clone()}},$.endOf=function(L){return this.startOf(L,!1)},$.$set=function(L,B){var z,U=k.p(L),N="set"+(this.$u?"UTC":""),V=(z={},z[u]=N+"Date",z[p]=N+"Date",z[d]=N+"Month",z[h]=N+"FullYear",z[l]=N+"Hours",z[a]=N+"Minutes",z[o]=N+"Seconds",z[s]=N+"Milliseconds",z)[U],W=U===u?this.$D+(B-this.$W):B;if(U===d||U===h){var F=this.clone().set(p,1);F.$d[V](W),F.init(),this.$d=F.set(p,Math.min(this.$D,F.daysInMonth())).$d}else V&&this.$d[V](W);return this.init(),this},$.set=function(L,B){return this.clone().$set(L,B)},$.get=function(L){return this[k.p(L)]()},$.add=function(L,B){var z,U=this;L=Number(L);var N=k.p(B),V=function(H){var G=P(U);return k.w(G.date(G.date()+Math.round(H*L)),U)};if(N===d)return this.set(d,this.$M+L);if(N===h)return this.set(h,this.$y+L);if(N===u)return V(1);if(N===c)return V(7);var W=(z={},z[a]=r,z[l]=i,z[o]=n,z)[N]||1,F=this.$d.getTime()+L*W;return k.w(F,this)},$.subtract=function(L,B){return this.add(-1*L,B)},$.format=function(L){var B=this,z=this.$locale();if(!this.isValid())return z.invalidDate||m;var U=L||"YYYY-MM-DDTHH:mm:ssZ",N=k.z(this),V=this.$H,W=this.$m,F=this.$M,H=z.weekdays,G=z.months,X=z.meridiem,ie=function(le,Se,de,De){return le&&(le[Se]||le(B,U))||de[Se].slice(0,De)},oe=function(le){return k.s(V%12||12,le,"0")},se=X||function(le,Se,de){var De=le<12?"AM":"PM";return de?De.toLowerCase():De};return U.replace(y,function(le,Se){return Se||function(de){switch(de){case"YY":return String(B.$y).slice(-2);case"YYYY":return k.s(B.$y,4,"0");case"M":return F+1;case"MM":return k.s(F+1,2,"0");case"MMM":return ie(z.monthsShort,F,G,3);case"MMMM":return ie(G,F);case"D":return B.$D;case"DD":return k.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return ie(z.weekdaysMin,B.$W,H,2);case"ddd":return ie(z.weekdaysShort,B.$W,H,3);case"dddd":return H[B.$W];case"H":return String(V);case"HH":return k.s(V,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return se(V,W,!0);case"A":return se(V,W,!1);case"m":return String(W);case"mm":return k.s(W,2,"0");case"s":return String(B.$s);case"ss":return k.s(B.$s,2,"0");case"SSS":return k.s(B.$ms,3,"0");case"Z":return N}return null}(le)||N.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(L,B,z){var U,N=this,V=k.p(B),W=P(L),F=(W.utcOffset()-this.utcOffset())*r,H=this-W,G=function(){return k.m(N,W)};switch(V){case h:U=G()/12;break;case d:U=G();break;case f:U=G()/3;break;case c:U=(H-F)/6048e5;break;case u:U=(H-F)/864e5;break;case l:U=H/i;break;case a:U=H/r;break;case o:U=H/n;break;default:U=H}return z?U:k.a(U)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return S[this.$L]},$.locale=function(L,B){if(!L)return this.$L;var z=this.clone(),U=I(L,B,!0);return U&&(z.$L=U),z},$.clone=function(){return k.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},M}(),R=D.prototype;return P.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach(function(M){R[M[1]]=function($){return this.$g($,M[0],M[1])}}),P.extend=function(M,$){return M.$i||(M($,D,P),M.$i=!0),P},P.locale=I,P.isDayjs=T,P.unix=function(M){return P(1e3*M)},P.en=S[E],P.Ls=S,P.p={},P})})(X3e);var yzt=X3e.exports;const St=bu(yzt);function vzt({type:e,date:t,locale:n,format:r,labelSeparator:i}){const s=o=>St(o).locale(n).format(r);return e==="default"?t===null?"":s(t):e==="multiple"?t.map(s).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${s(t[0])} ${i} ${s(t[1])}`:t[0]?`${s(t[0])} ${i} `:"":""}function bzt({formatter:e,...t}){return(e||vzt)(t)}function _zt({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function Q3e({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:s}){var l,u,c;const o=_zt({direction:t,size:s,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const a=(c=(u=(l=e.current)==null?void 0:l[o.levelIndex])==null?void 0:u[o.rowIndex])==null?void 0:c[o.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?Q3e({controlsRef:e,direction:t,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:s}):a.focus())}function wzt(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Ezt(e){var t;return(t=e.current)==null?void 0:t.map(n=>n.map(r=>r.length))}function Lte({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const s=wzt(i.key);if(s){i.preventDefault();const o=Ezt(e);Q3e({controlsRef:e,direction:s,levelIndex:t,rowIndex:n,cellIndex:r,size:o})}}function xzt(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds(),o=new Date(t);return o.setHours(n),o.setMinutes(r),o.setSeconds(i),o.setMilliseconds(s),o}var J3e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ys,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,l=function(f,h,p){p===void 0&&(p={});var m=new Date(f),g=function(y,v){v===void 0&&(v={});var _=v.timeZoneName||"short",w=y+"|"+_,E=r[w];return E||(E=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:_}),r[w]=E),E}(h,p);return g.formatToParts(m)},u=function(f,h){for(var p=l(f,h),m=[],g=0;g<p.length;g+=1){var y=p[g],v=y.type,_=y.value,w=n[v];w>=0&&(m[w]=parseInt(_,10))}var E=m[3],S=E===24?0:E,x=m[0]+"-"+m[1]+"-"+m[2]+" "+S+":"+m[4]+":"+m[5]+":000",T=+f;return(o.utc(x).valueOf()-(T-=T%1e3))/6e4},c=s.prototype;c.tz=function(f,h){f===void 0&&(f=a);var p=this.utcOffset(),m=this.toDate(),g=m.toLocaleString("en-US",{timeZone:f}),y=Math.round((m-new Date(g))/1e3/60),v=o(g,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(m.getTimezoneOffset()/15)-y,!0);if(h){var _=v.utcOffset();v=v.add(p-_,"minute")}return v.$x.$timezone=f,v},c.offsetName=function(f){var h=this.$x.$timezone||o.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:f}).find(function(m){return m.type.toLowerCase()==="timezonename"});return p&&p.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(p,f,h).tz(this.$x.$timezone,!0)},o.tz=function(f,h,p){var m=p&&h,g=p||h||a,y=u(+o(),g);if(typeof f!="string")return o(f).tz(g);var v=function(S,x,T){var I=S-60*x*1e3,P=u(I,T);if(x===P)return[I,x];var k=u(I-=60*(P-x)*1e3,T);return P===k?[I,P]:[S-60*Math.min(P,k)*1e3,Math.max(P,k)]}(o.utc(f,m).valueOf(),y,g),_=v[0],w=v[1],E=o(_).utcOffset(w);return E.$x.$timezone=g,E},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){a=f}}})})(J3e);var Szt=J3e.exports;const Tzt=bu(Szt);var Z3e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ys,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new o(g)},l.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(m,g){var y=this.$utils().u;if(y(m))return this.$u?0:y(this.$offset)?d.call(this):this.$offset;if(typeof m=="string"&&(m=function(E){E===void 0&&(E="");var S=E.match(r);if(!S)return null;var x=(""+S[0]).match(i)||["-",0,0],T=x[0],I=60*+x[1]+ +x[2];return I===0?0:T==="+"?I:-I}(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m,_=this;if(g)return _.$offset=v,_.$u=m===0,_;if(m!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(v+w,n)).$offset=v,_.$x.$localOffset=w}else _=this.utc();return _};var f=l.format;l.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(m,g,y){if(m&&this.$u===m.$u)return p.call(this,m,g,y);var v=this.local(),_=a(m).local();return p.call(v,_,g,y)}}})})(Z3e);var Czt=Z3e.exports;const Azt=bu(Czt);St.extend(Azt);St.extend(Tzt);function Izt(e,t){return t?St(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const t0e=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=Izt(e,t);return n==="remove"&&(r*=-1),St(e).add(r,"minutes").toDate()};function Pm(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>t0e(i,n,e)):t0e(t,n,e)}function Rzt({minDate:e,maxDate:t,timezone:n}){const r=Pm("add",new Date,n);return!e&&!t?r:e&&St(r).isBefore(e)?e:t&&St(r).isAfter(t)?t:r}const kzt={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"–",consistentWeeks:!1},Pzt=A.createContext(kzt);function Eu(){const e=A.useContext(Pzt),t=A.useCallback(o=>o||e.locale,[e.locale]),n=A.useCallback(o=>o||e.timezone||void 0,[e.timezone]),r=A.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),i=A.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),s=A.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:s}}function Nzt(e,t){if(t==="range"&&Array.isArray(e)){const[n,r]=e;return n?r?`${n.toISOString()} – ${r.toISOString()}`:`${n.toISOString()} –`:""}return t==="multiple"&&Array.isArray(e)?e.map(n=>n==null?void 0:n.toISOString()).filter(Boolean).join(", "):!Array.isArray(e)&&e?e.toISOString():""}function Fte({value:e,type:t,name:n,form:r}){return b.jsx("input",{type:"hidden",value:Nzt(e,t),name:n,form:r})}Fte.displayName="@mantine/dates/HiddenDatesInput";var eLe={day:"m_396ce5cb"};const Ozt={},Dzt=(e,{size:t})=>({day:{"--day-size":Jt(t,"day-size")}}),jte=Le((e,t)=>{const n=xe("Day",Ozt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:y,lastInRange:v,hidden:_,static:w,highlightToday:E,...S}=n,x=vt({name:d||"Day",classes:eLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Dzt,rootSelector:"day"}),T=Eu();return b.jsx(xs,{...x("day",{style:_?{display:"none"}:void 0}),component:w?"div":"button",ref:t,disabled:c,"data-today":St(u).isSame(Pm("add",new Date,T.getTimezone()),"day")||void 0,"data-hidden":_||void 0,"data-highlight-today":E||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":y&&!c||void 0,"data-last-in-range":v&&!c||void 0,"data-static":w||void 0,unstyled:a,...S,children:(m==null?void 0:m(u))||u.getDate()})});jte.classes=eLe;jte.displayName="@mantine/dates/Day";function Mzt({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=St().day(n),i=[];for(let s=0;s<7;s+=1)typeof t=="string"?i.push(St(r).add(s,"days").locale(e).format(t)):i.push(t(St(r).add(s,"days").toDate()));return i}var tLe={weekday:"m_18a3eca"};const $zt={},Lzt=(e,{size:t})=>({weekdaysRow:{"--wr-fz":Js(t),"--wr-spacing":Qu(t)}}),Bte=Le((e,t)=>{const n=xe("WeekdaysRow",$zt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,...p}=n,m=vt({name:h||"WeekdaysRow",classes:tLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Lzt,rootSelector:"weekdaysRow"}),g=Eu(),y=Mzt({locale:g.getLocale(u),format:d,firstDayOfWeek:g.getFirstDayOfWeek(c)}).map((v,_)=>b.jsx(f,{...m("weekday"),children:v},_));return b.jsx(be,{component:"tr",ref:t,...m("weekdaysRow"),...p,children:y})});Bte.classes=tLe;Bte.displayName="@mantine/dates/WeekdaysRow";function Fzt(e,t=1){const n=new Date(e),r=t===0?6:t-1;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function jzt(e,t=1){const n=new Date(e);for(;n.getDay()!==t;)n.setDate(n.getDate()-1);return n}function Bzt({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=e.getMonth(),i=new Date(e.getFullYear(),r,1),s=new Date(e.getFullYear(),e.getMonth()+1,0),o=Fzt(s,t),a=jzt(i,t),l=[];for(;a<=o;){const u=[];for(let c=0;c<7;c+=1)u.push(new Date(a)),a.setDate(a.getDate()+1);l.push(u)}if(n&&l.length<6){const u=l[l.length-1],c=u[u.length-1],d=new Date(c);for(d.setDate(d.getDate()+1);l.length<6;){const f=[];for(let h=0;h<7;h+=1)f.push(new Date(d)),d.setDate(d.getDate()+1);l.push(f)}}return l}function nLe(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function rLe(e,t){return t instanceof Date?St(e).isAfter(St(t).subtract(1,"day"),"day"):!0}function iLe(e,t){return t instanceof Date?St(e).isBefore(St(t).add(1,"day"),"day"):!0}function zzt(e,t,n,r,i,s,o){const a=e.flat().filter(c=>{var d;return iLe(c,n)&&rLe(c,t)&&!(i!=null&&i(c))&&!((d=r==null?void 0:r(c))!=null&&d.disabled)&&(!s||nLe(c,o))}),l=a.find(c=>{var d;return(d=r==null?void 0:r(c))==null?void 0:d.selected});if(l)return l;const u=a.find(c=>St().isSame(c,"date"));return u||a[0]}var sLe={month:"m_cc9820d3",monthCell:"m_8f457cd5"};const Uzt={withCellSpacing:!0},ej=Le((e,t)=>{const n=xe("Month",Uzt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:y,maxDate:v,renderDay:_,hideOutsideDates:w,hideWeekdays:E,getDayAriaLabel:S,static:x,__getDayRef:T,__onDayKeyDown:I,__onDayClick:P,__onDayMouseEnter:k,__preventFocus:D,__stopPropagation:R,withCellSpacing:M,size:$,highlightToday:L,...B}=n,z=vt({name:u||"Month",classes:sLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"month"}),U=Eu(),N=Bzt({month:h,firstDayOfWeek:U.getFirstDayOfWeek(d),consistentWeeks:U.consistentWeeks}),V=zzt(N,y,v,m,g,w,h),{resolvedClassNames:W,resolvedStyles:F}=hp({classNames:r,styles:o,props:n}),H=N.map((G,X)=>{const ie=G.map((oe,se)=>{const le=!nLe(oe,h),Se=(S==null?void 0:S(oe))||St(oe).locale(c||U.locale).format("D MMMM YYYY"),de=m==null?void 0:m(oe),De=St(oe).isSame(V,"date");return b.jsx("td",{...z("monthCell"),"data-with-spacing":M||void 0,children:b.jsx(jte,{__staticSelector:u||"Month",classNames:W,styles:F,unstyled:a,"data-mantine-stop-propagation":R||void 0,highlightToday:L,renderDay:_,date:oe,size:$,weekend:U.getWeekendDays(p).includes(oe.getDay()),outside:le,hidden:w?le:!1,"aria-label":Se,static:x,disabled:(g==null?void 0:g(oe))||!iLe(oe,v)||!rLe(oe,y),ref:Fe=>T==null?void 0:T(X,se,Fe),...de,onKeyDown:Fe=>{var Be;(Be=de==null?void 0:de.onKeyDown)==null||Be.call(de,Fe),I==null||I(Fe,{rowIndex:X,cellIndex:se,date:oe})},onMouseEnter:Fe=>{var Be;(Be=de==null?void 0:de.onMouseEnter)==null||Be.call(de,Fe),k==null||k(Fe,oe)},onClick:Fe=>{var Be;(Be=de==null?void 0:de.onClick)==null||Be.call(de,Fe),P==null||P(Fe,oe)},onMouseDown:Fe=>{var Be;(Be=de==null?void 0:de.onMouseDown)==null||Be.call(de,Fe),D&&Fe.preventDefault()},tabIndex:D||!De?-1:0})},oe.toString())});return b.jsx("tr",{...z("monthRow"),children:ie},X)});return b.jsxs(be,{component:"table",...z("month"),size:$,ref:t,...B,children:[!E&&b.jsx("thead",{...z("monthThead"),children:b.jsx(Bte,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:$,classNames:W,styles:F,unstyled:a})}),b.jsx("tbody",{...z("monthTbody"),children:H})]})});ej.classes=sLe;ej.displayName="@mantine/dates/Month";var oLe={pickerControl:"m_dc6a3c71"};const Vzt={},Hzt=(e,{size:t})=>({pickerControl:{"--dpc-fz":Js(t),"--dpc-size":Jt(t,"dpc-size")}}),tj=Le((e,t)=>{const n=xe("PickerControl",Vzt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:p,...m}=n,g=vt({name:f||"PickerControl",classes:oLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Hzt,rootSelector:"pickerControl"});return b.jsx(xs,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":d&&!p&&!h||void 0,"data-first-in-range":u&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});tj.classes=oLe;tj.displayName="@mantine/dates/PickerControl";function aLe(e,t,n){return!t&&!n?!1:!!(t&&St(e).isBefore(t,"year")||n&&St(e).isAfter(n,"year"))}function qzt(e,t,n,r){const i=e.flat().filter(a=>{var l;return!aLe(a,t,n)&&!((l=r==null?void 0:r(a))!=null&&l.disabled)}),s=i.find(a=>{var l;return(l=r==null?void 0:r(a))==null?void 0:l.selected});if(s)return s;const o=i.find(a=>St().isSame(a,"year"));return o||i[0]}function lLe(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let s=0;s<4;s+=1){const o=s===3?1:3;for(let a=0;a<o;a+=1)i[s].push(new Date(n+r,0)),r+=1}return i}var uLe={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Wzt={yearsListFormat:"YYYY",withCellSpacing:!0},nj=Le((e,t)=>{const n=xe("YearsList",Wzt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:_,__preventFocus:w,__stopPropagation:E,withCellSpacing:S,size:x,...T}=n,I=vt({name:m||"YearsList",classes:uLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"yearsList"}),P=Eu(),k=lLe(u),D=qzt(k,f,h,p),R=k.map((M,$)=>{const L=M.map((B,z)=>{const U=p==null?void 0:p(B),N=St(B).isSame(D,"year");return b.jsx("td",{...I("yearsListCell"),"data-with-spacing":S||void 0,children:b.jsx(tj,{...I("yearsListControl"),size:x,unstyled:a,"data-mantine-stop-propagation":E||void 0,disabled:aLe(B,f,h),ref:V=>g==null?void 0:g($,z,V),...U,onKeyDown:V=>{var W;(W=U==null?void 0:U.onKeyDown)==null||W.call(U,V),y==null||y(V,{rowIndex:$,cellIndex:z,date:B})},onClick:V=>{var W;(W=U==null?void 0:U.onClick)==null||W.call(U,V),v==null||v(V,B)},onMouseEnter:V=>{var W;(W=U==null?void 0:U.onMouseEnter)==null||W.call(U,V),_==null||_(V,B)},onMouseDown:V=>{var W;(W=U==null?void 0:U.onMouseDown)==null||W.call(U,V),w&&V.preventDefault()},tabIndex:w||!N?-1:0,children:St(B).locale(P.getLocale(d)).format(c)})},z)});return b.jsx("tr",{...I("yearsListRow"),children:L},$)});return b.jsx(be,{component:"table",ref:t,size:x,...I("yearsList"),...T,children:b.jsx("tbody",{children:R})})});nj.classes=uLe;nj.displayName="@mantine/dates/YearsList";function cLe(e,t,n){return!t&&!n?!1:!!(t&&St(e).isBefore(t,"month")||n&&St(e).isAfter(n,"month"))}function Gzt(e,t,n,r){const i=e.flat().filter(a=>{var l;return!cLe(a,t,n)&&!((l=r==null?void 0:r(a))!=null&&l.disabled)}),s=i.find(a=>{var l;return(l=r==null?void 0:r(a))==null?void 0:l.selected});if(s)return s;const o=i.find(a=>St().isSame(a,"month"));return o||i[0]}function Yzt(e){const t=St(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let s=0;s<3;s+=1)n[i].push(St(t).add(r,"months").toDate()),r+=1;return n}var dLe={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Kzt={monthsListFormat:"MMM",withCellSpacing:!0},rj=Le((e,t)=>{const n=xe("MonthsList",Kzt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:_,__preventFocus:w,__stopPropagation:E,withCellSpacing:S,size:x,...T}=n,I=vt({name:u||"MonthsList",classes:dLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"monthsList"}),P=Eu(),k=Yzt(c),D=Gzt(k,h,p,m),R=k.map((M,$)=>{const L=M.map((B,z)=>{const U=m==null?void 0:m(B),N=St(B).isSame(D,"month");return b.jsx("td",{...I("monthsListCell"),"data-with-spacing":S||void 0,children:b.jsx(tj,{...I("monthsListControl"),size:x,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":E||void 0,disabled:cLe(B,h,p),ref:V=>g==null?void 0:g($,z,V),...U,onKeyDown:V=>{var W;(W=U==null?void 0:U.onKeyDown)==null||W.call(U,V),y==null||y(V,{rowIndex:$,cellIndex:z,date:B})},onClick:V=>{var W;(W=U==null?void 0:U.onClick)==null||W.call(U,V),v==null||v(V,B)},onMouseEnter:V=>{var W;(W=U==null?void 0:U.onMouseEnter)==null||W.call(U,V),_==null||_(V,B)},onMouseDown:V=>{var W;(W=U==null?void 0:U.onMouseDown)==null||W.call(U,V),w&&V.preventDefault()},tabIndex:w||!N?-1:0,children:St(B).locale(P.getLocale(f)).format(d)})},z)});return b.jsx("tr",{...I("monthsListRow"),children:L},$)});return b.jsx(be,{component:"table",ref:t,size:x,...I("monthsList"),...T,children:b.jsx("tbody",{children:R})})});rj.classes=dLe;rj.displayName="@mantine/dates/MonthsList";var fLe={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Xzt={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Qzt=(e,{size:t})=>({calendarHeader:{"--dch-control-size":Jt(t,"dch-control-size"),"--dch-fz":Js(t)}}),fv=Le((e,t)=>{const n=xe("CalendarHeader",Xzt,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:y,previousDisabled:v,hasNextLevel:_,levelControlAriaLabel:w,withNext:E,withPrevious:S,__staticSelector:x,__preventFocus:T,__stopPropagation:I,...P}=n,k=vt({name:x||"CalendarHeader",classes:fLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Qzt,rootSelector:"calendarHeader"}),D=T?R=>R.preventDefault():void 0;return b.jsxs(be,{...k("calendarHeader"),ref:t,...P,children:[S&&b.jsx(xs,{...k("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:p,unstyled:a,onMouseDown:D,disabled:v,"data-disabled":v||void 0,tabIndex:T||v?-1:0,"data-mantine-stop-propagation":I||void 0,children:c||b.jsx(GA,{...k("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),b.jsx(xs,{component:_?"button":"div",...k("calendarHeaderLevel"),onClick:_?m:void 0,unstyled:a,onMouseDown:_?D:void 0,disabled:!_,"data-static":!_||void 0,"aria-label":w,tabIndex:T||!_?-1:0,"data-mantine-stop-propagation":I||void 0,children:g}),E&&b.jsx(xs,{...k("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:D,disabled:y,"data-disabled":y||void 0,tabIndex:T||y?-1:0,"data-mantine-stop-propagation":I||void 0,children:u||b.jsx(GA,{...k("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});fv.classes=fLe;fv.displayName="@mantine/dates/CalendarHeader";function Jzt(e){const t=lLe(e);return[t[0][0],t[3][0]]}const Zzt={decadeLabelFormat:"YYYY"},ij=Le((e,t)=>{const n=xe("DecadeLevel",Zzt,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:_,onPrevious:w,nextDisabled:E,previousDisabled:S,levelControlAriaLabel:x,withNext:T,withPrevious:I,decadeLabelFormat:P,classNames:k,styles:D,unstyled:R,__staticSelector:M,__stopPropagation:$,size:L,...B}=n,z=Eu(),[U,N]=Jzt(r),V={__staticSelector:M||"DecadeLevel",classNames:k,styles:D,unstyled:R,size:L},W=typeof E=="boolean"?E:o?!St(N).endOf("year").isBefore(o):!1,F=typeof S=="boolean"?S:s?!St(U).startOf("year").isAfter(s):!1,H=(G,X)=>St(G).locale(i||z.locale).format(X);return b.jsxs(be,{"data-decade-level":!0,size:L,ref:t,...B,children:[b.jsx(fv,{label:typeof P=="function"?P(U,N):`${H(U,P)} – ${H(N,P)}`,__preventFocus:p,__stopPropagation:$,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:_,onPrevious:w,nextDisabled:W,previousDisabled:F,hasNextLevel:!1,levelControlAriaLabel:x,withNext:T,withPrevious:I,...V}),b.jsx(nj,{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:$,withCellSpacing:h,...V})]})});ij.classes={...nj.classes,...fv.classes};ij.displayName="@mantine/dates/DecadeLevel";const e7t={yearLabelFormat:"YYYY"},sj=Le((e,t)=>{const n=xe("YearLevel",e7t,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:_,onPrevious:w,onLevelClick:E,nextDisabled:S,previousDisabled:x,hasNextLevel:T,levelControlAriaLabel:I,withNext:P,withPrevious:k,yearLabelFormat:D,__staticSelector:R,__stopPropagation:M,size:$,classNames:L,styles:B,unstyled:z,...U}=n,N=Eu(),V={__staticSelector:R||"YearLevel",classNames:L,styles:B,unstyled:z,size:$},W=typeof S=="boolean"?S:o?!St(r).endOf("year").isBefore(o):!1,F=typeof x=="boolean"?x:s?!St(r).startOf("year").isAfter(s):!1;return b.jsxs(be,{"data-year-level":!0,size:$,ref:t,...U,children:[b.jsx(fv,{label:typeof D=="function"?D(r):St(r).locale(i||N.locale).format(D),__preventFocus:p,__stopPropagation:M,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:_,onPrevious:w,onLevelClick:E,nextDisabled:W,previousDisabled:F,hasNextLevel:T,levelControlAriaLabel:I,withNext:P,withPrevious:k,...V}),b.jsx(rj,{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:M,withCellSpacing:h,...V})]})});sj.classes={...fv.classes,...rj.classes};sj.displayName="@mantine/dates/YearLevel";const t7t={monthLabelFormat:"MMMM YYYY"},oj=Le((e,t)=>{const n=xe("MonthLevel",t7t,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:_,withCellSpacing:w,highlightToday:E,__preventFocus:S,__stopPropagation:x,nextIcon:T,previousIcon:I,nextLabel:P,previousLabel:k,onNext:D,onPrevious:R,onLevelClick:M,nextDisabled:$,previousDisabled:L,hasNextLevel:B,levelControlAriaLabel:z,withNext:U,withPrevious:N,monthLabelFormat:V,classNames:W,styles:F,unstyled:H,__staticSelector:G,size:X,static:ie,...oe}=n,se=Eu(),le={__staticSelector:G||"MonthLevel",classNames:W,styles:F,unstyled:H,size:X},Se=typeof $=="boolean"?$:d?!St(r).endOf("month").isBefore(d):!1,de=typeof L=="boolean"?L:c?!St(r).startOf("month").isAfter(c):!1;return b.jsxs(be,{"data-month-level":!0,size:X,ref:t,...oe,children:[b.jsx(fv,{label:typeof V=="function"?V(r):St(r).locale(i||se.locale).format(V),__preventFocus:S,__stopPropagation:x,nextIcon:T,previousIcon:I,nextLabel:P,previousLabel:k,onNext:D,onPrevious:R,onLevelClick:M,nextDisabled:Se,previousDisabled:de,hasNextLevel:B,levelControlAriaLabel:z,withNext:U,withPrevious:N,...le}),b.jsx(ej,{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:_,__preventFocus:S,__stopPropagation:x,static:ie,withCellSpacing:w,highlightToday:E,...le})]})});oj.classes={...ej.classes,...fv.classes};oj.displayName="@mantine/dates/MonthLevel";var hLe={levelsGroup:"m_30b26e33"};const n7t={},hv=Le((e,t)=>{const n=xe("LevelsGroup",n7t,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=vt({name:u||"LevelsGroup",classes:hLe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"levelsGroup"});return b.jsx(be,{ref:t,...d("levelsGroup"),...c})});hv.classes=hLe;hv.displayName="@mantine/dates/LevelsGroup";const r7t={numberOfColumns:1},aj=Le((e,t)=>{const n=xe("DecadeLevelGroup",r7t,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:_,previousDisabled:w,classNames:E,styles:S,unstyled:x,__staticSelector:T,__stopPropagation:I,numberOfColumns:P,levelControlAriaLabel:k,decadeLabelFormat:D,size:R,vars:M,...$}=n,L=A.useRef([]),B=Array(P).fill(0).map((z,U)=>{const N=St(r).add(U*10,"years").toDate();return b.jsx(ij,{size:R,yearsListFormat:a,decade:N,withNext:U===P-1,withPrevious:U===0,decadeLabelFormat:D,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(V,W)=>Lte({levelIndex:U,rowIndex:W.rowIndex,cellIndex:W.cellIndex,event:V,controlsRef:L}),__getControlRef:(V,W,F)=>{Array.isArray(L.current[U])||(L.current[U]=[]),Array.isArray(L.current[U][V])||(L.current[U][V]=[]),L.current[U][V][W]=F},levelControlAriaLabel:typeof k=="function"?k(N):k,locale:i,minDate:s,maxDate:o,__preventFocus:f,__stopPropagation:I,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:_,previousDisabled:w,getYearControlProps:l,__staticSelector:T||"DecadeLevelGroup",classNames:E,styles:S,unstyled:x,withCellSpacing:d},U)});return b.jsx(hv,{classNames:E,styles:S,__staticSelector:T||"DecadeLevelGroup",ref:t,size:R,unstyled:x,...$,children:B})});aj.classes={...hv.classes,...ij.classes};aj.displayName="@mantine/dates/DecadeLevelGroup";const i7t={numberOfColumns:1},lj=Le((e,t)=>{const n=xe("YearLevelGroup",i7t,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:_,nextDisabled:w,previousDisabled:E,hasNextLevel:S,classNames:x,styles:T,unstyled:I,__staticSelector:P,__stopPropagation:k,numberOfColumns:D,levelControlAriaLabel:R,yearLabelFormat:M,size:$,vars:L,...B}=n,z=A.useRef([]),U=Array(D).fill(0).map((N,V)=>{const W=St(r).add(V,"years").toDate();return b.jsx(sj,{size:$,monthsListFormat:a,year:W,withNext:V===D-1,withPrevious:V===0,yearLabelFormat:M,__stopPropagation:k,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(F,H)=>Lte({levelIndex:V,rowIndex:H.rowIndex,cellIndex:H.cellIndex,event:F,controlsRef:z}),__getControlRef:(F,H,G)=>{Array.isArray(z.current[V])||(z.current[V]=[]),Array.isArray(z.current[V][F])||(z.current[V][F]=[]),z.current[V][F][H]=G},levelControlAriaLabel:typeof R=="function"?R(W):R,locale:i,minDate:s,maxDate:o,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:_,nextDisabled:w,previousDisabled:E,hasNextLevel:S,getMonthControlProps:l,classNames:x,styles:T,unstyled:I,__staticSelector:P||"YearLevelGroup",withCellSpacing:d},V)});return b.jsx(hv,{classNames:x,styles:T,__staticSelector:P||"YearLevelGroup",ref:t,size:$,unstyled:I,...B,children:U})});lj.classes={...sj.classes,...hv.classes};lj.displayName="@mantine/dates/YearLevelGroup";const s7t={numberOfColumns:1},uj=Le((e,t)=>{const n=xe("MonthLevelGroup",s7t,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:y,withCellSpacing:v,highlightToday:_,__preventFocus:w,nextIcon:E,previousIcon:S,nextLabel:x,previousLabel:T,onNext:I,onPrevious:P,onLevelClick:k,nextDisabled:D,previousDisabled:R,hasNextLevel:M,classNames:$,styles:L,unstyled:B,numberOfColumns:z,levelControlAriaLabel:U,monthLabelFormat:N,__staticSelector:V,__stopPropagation:W,size:F,static:H,vars:G,...X}=n,ie=A.useRef([]),oe=Array(z).fill(0).map((se,le)=>{const Se=St(r).add(le,"months").toDate();return b.jsx(oj,{month:Se,withNext:le===z-1,withPrevious:le===0,monthLabelFormat:N,__stopPropagation:W,__onDayClick:g,__onDayMouseEnter:y,__onDayKeyDown:(de,De)=>Lte({levelIndex:le,rowIndex:De.rowIndex,cellIndex:De.cellIndex,event:de,controlsRef:ie}),__getDayRef:(de,De,Fe)=>{Array.isArray(ie.current[le])||(ie.current[le]=[]),Array.isArray(ie.current[le][de])||(ie.current[le][de]=[]),ie.current[le][de][De]=Fe},levelControlAriaLabel:typeof U=="function"?U(Se):U,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:w,nextIcon:E,previousIcon:S,nextLabel:x,previousLabel:T,onNext:I,onPrevious:P,onLevelClick:k,nextDisabled:D,previousDisabled:R,hasNextLevel:M,classNames:$,styles:L,unstyled:B,__staticSelector:V||"MonthLevelGroup",size:F,static:H,withCellSpacing:v,highlightToday:_},le)});return b.jsx(hv,{classNames:$,styles:L,__staticSelector:V||"MonthLevelGroup",ref:t,size:F,...X,children:oe})});uj.classes={...hv.classes,...oj.classes};uj.displayName="@mantine/dates/MonthLevelGroup";var pLe={input:"m_6fa5e2aa"};const o7t={},cj=Le((e,t)=>{const{inputProps:n,wrapperProps:r,placeholder:i,classNames:s,styles:o,unstyled:a,popoverProps:l,modalProps:u,dropdownType:c,children:d,formattedValue:f,dropdownHandlers:h,dropdownOpened:p,onClick:m,clearable:g,onClear:y,clearButtonProps:v,rightSection:_,shouldClear:w,readOnly:E,disabled:S,value:x,name:T,form:I,type:P,...k}=ZY("PickerInputBase",o7t,e),D=_||(g&&w&&!E&&!S?b.jsx(Xy,{variant:"transparent",onClick:y,unstyled:a,size:n.size||"sm",...v}):null),R=()=>{P==="range"&&Array.isArray(x)&&x[0]&&!x[1]&&y(),h.close()};return b.jsxs(b.Fragment,{children:[c==="modal"&&!E&&b.jsx(Ss,{opened:p,onClose:R,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:a,...u,children:d}),b.jsx(Kr.Wrapper,{...r,children:b.jsxs($n,{position:"bottom-start",opened:p,trapFocus:!0,returnFocus:!0,unstyled:a,...l,disabled:(l==null?void 0:l.disabled)||c==="modal"||E,onClose:()=>{var M;(M=l==null?void 0:l.onClose)==null||M.call(l),R()},children:[b.jsx($n.Target,{children:b.jsx(Kr,{"aria-label":f||i,"data-dates-input":!0,"data-read-only":E||void 0,disabled:S,component:"button",type:"button",multiline:!0,onClick:M=>{m==null||m(M),h.toggle()},rightSection:D,...n,ref:t,classNames:{...s,input:yt(pLe.input,s==null?void 0:s.input)},...k,children:f||b.jsx(Kr.Placeholder,{error:n.error,unstyled:a,className:s==null?void 0:s.placeholder,style:o==null?void 0:o.placeholder,children:i})})}),b.jsx($n.Dropdown,{"data-dates-dropdown":!0,children:d})]})}),b.jsx(Fte,{value:x,name:T,form:I,type:P})]})});cj.classes=pLe;cj.displayName="@mantine/dates/PickerInputBase";const n0e=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function ZI({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const s=A.useRef(e),o=Eu(),[a,l,u]=Xi({value:Pm("add",t,o.getTimezone(),!i),defaultValue:Pm("add",n,o.getTimezone(),!i),finalValue:n0e(e),onChange:d=>{r==null||r(Pm("remove",d,o.getTimezone(),!i))}});let c=a;return s.current!==e&&(s.current=e,t===void 0&&(c=n!==void 0?n:n0e(e),l(c))),[c,l,u]}function lz(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function a7t(e){return e===0?"month":e===1?"year":"decade"}function rC(e,t,n){return a7t($c(lz(e,0),lz(t,0),lz(n,2)))}const l7t={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},XS=Le((e,t)=>{const n=xe("Calendar",l7t,e),{vars:r,maxLevel:i,minLevel:s,defaultLevel:o,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:p,onYearSelect:m,onMonthSelect:g,onYearMouseEnter:y,onMonthMouseEnter:v,__updateDateOnYearSelect:_,__updateDateOnMonthSelect:w,firstDayOfWeek:E,weekdayFormat:S,weekendDays:x,getDayProps:T,excludeDate:I,renderDay:P,hideOutsideDates:k,hideWeekdays:D,getDayAriaLabel:R,monthLabelFormat:M,nextIcon:$,previousIcon:L,__onDayClick:B,__onDayMouseEnter:z,withCellSpacing:U,highlightToday:N,monthsListFormat:V,getMonthControlProps:W,yearLabelFormat:F,yearsListFormat:H,getYearControlProps:G,decadeLabelFormat:X,classNames:ie,styles:oe,unstyled:se,minDate:le,maxDate:Se,locale:de,__staticSelector:De,size:Fe,__preventFocus:Be,__stopPropagation:je,onNextDecade:me,onPreviousDecade:ne,onNextYear:Ee,onPreviousYear:Pe,onNextMonth:Je,onPreviousMonth:qe,static:_e,__timezoneApplied:Qe,...pt}=n,{resolvedClassNames:ye,resolvedStyles:ke}=hp({classNames:ie,styles:oe,props:n}),[Ge,Ke]=Xi({value:a?rC(a,s,i):void 0,defaultValue:o?rC(o,s,i):void 0,finalValue:rC(void 0,s,i),onChange:l}),[xt,Cn]=ZI({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!Qe}),gr={__staticSelector:De||"Calendar",styles:ke,classNames:ye,unstyled:se,size:Fe},yr=Eu(),kr=h||f||1,Xt=xt||Pm("add",new Date,yr.getTimezone()),Dn=()=>{const Un=St(Xt).add(kr,"month").toDate();Je==null||Je(Un),Cn(Un)},rr=()=>{const Un=St(Xt).subtract(kr,"month").toDate();qe==null||qe(Un),Cn(Un)},ir=()=>{const Un=St(Xt).add(kr,"year").toDate();Ee==null||Ee(Un),Cn(Un)},ao=()=>{const Un=St(Xt).subtract(kr,"year").toDate();Pe==null||Pe(Un),Cn(Un)},Oi=()=>{const Un=St(Xt).add(10*kr,"year").toDate();me==null||me(Un),Cn(Un)},Ui=()=>{const Un=St(Xt).subtract(10*kr,"year").toDate();ne==null||ne(Un),Cn(Un)};return b.jsxs(be,{ref:t,size:Fe,"data-calendar":!0,...pt,children:[Ge==="month"&&b.jsx(uj,{month:Xt,minDate:le,maxDate:Se,firstDayOfWeek:E,weekdayFormat:S,weekendDays:x,getDayProps:T,excludeDate:I,renderDay:P,hideOutsideDates:k,hideWeekdays:D,getDayAriaLabel:R,onNext:Dn,onPrevious:rr,hasNextLevel:i!=="month",onLevelClick:()=>Ke("year"),numberOfColumns:f,locale:de,levelControlAriaLabel:p==null?void 0:p.monthLevelControl,nextLabel:p==null?void 0:p.nextMonth,nextIcon:$,previousLabel:p==null?void 0:p.previousMonth,previousIcon:L,monthLabelFormat:M,__onDayClick:B,__onDayMouseEnter:z,__preventFocus:Be,__stopPropagation:je,static:_e,withCellSpacing:U,highlightToday:N,...gr}),Ge==="year"&&b.jsx(lj,{year:Xt,numberOfColumns:f,minDate:le,maxDate:Se,monthsListFormat:V,getMonthControlProps:W,locale:de,onNext:ir,onPrevious:ao,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>Ke("decade"),levelControlAriaLabel:p==null?void 0:p.yearLevelControl,nextLabel:p==null?void 0:p.nextYear,nextIcon:$,previousLabel:p==null?void 0:p.previousYear,previousIcon:L,yearLabelFormat:F,__onControlMouseEnter:v,__onControlClick:(Un,Wn)=>{w&&Cn(Wn),Ke(rC("month",s,i)),g==null||g(Wn)},__preventFocus:Be,__stopPropagation:je,withCellSpacing:U,...gr}),Ge==="decade"&&b.jsx(aj,{decade:Xt,minDate:le,maxDate:Se,yearsListFormat:H,getYearControlProps:G,locale:de,onNext:Oi,onPrevious:Ui,numberOfColumns:f,nextLabel:p==null?void 0:p.nextDecade,nextIcon:$,previousLabel:p==null?void 0:p.previousDecade,previousIcon:L,decadeLabelFormat:X,__onControlMouseEnter:y,__onControlClick:(Un,Wn)=>{_&&Cn(Wn),Ke(rC("year",s,i)),m==null||m(Wn)},__preventFocus:Be,__stopPropagation:je,withCellSpacing:U,...gr})]})});XS.classes={...aj.classes,...lj.classes,...uj.classes};XS.displayName="@mantine/dates/Calendar";function mLe(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,onYearSelect:p,onMonthSelect:m,onYearMouseEnter:g,onMonthMouseEnter:y,onNextMonth:v,onPreviousMonth:_,onNextYear:w,onPreviousYear:E,onNextDecade:S,onPreviousDecade:x,withCellSpacing:T,highlightToday:I,__updateDateOnYearSelect:P,__updateDateOnMonthSelect:k,firstDayOfWeek:D,weekdayFormat:R,weekendDays:M,getDayProps:$,excludeDate:L,renderDay:B,hideOutsideDates:z,hideWeekdays:U,getDayAriaLabel:N,monthLabelFormat:V,monthsListFormat:W,getMonthControlProps:F,yearLabelFormat:H,yearsListFormat:G,getYearControlProps:X,decadeLabelFormat:ie,allowSingleDateInRange:oe,allowDeselect:se,minDate:le,maxDate:Se,locale:de,...De}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,onYearSelect:p,onMonthSelect:m,onYearMouseEnter:g,onMonthMouseEnter:y,onNextMonth:v,onPreviousMonth:_,onNextYear:w,onPreviousYear:E,onNextDecade:S,onPreviousDecade:x,withCellSpacing:T,highlightToday:I,__updateDateOnYearSelect:P,__updateDateOnMonthSelect:k,firstDayOfWeek:D,weekdayFormat:R,weekendDays:M,getDayProps:$,excludeDate:L,renderDay:B,hideOutsideDates:z,hideWeekdays:U,getDayAriaLabel:N,monthLabelFormat:V,monthsListFormat:W,getMonthControlProps:F,yearLabelFormat:H,yearsListFormat:G,getYearControlProps:X,decadeLabelFormat:ie,allowSingleDateInRange:oe,allowDeselect:se,minDate:le,maxDate:Se,locale:de},others:De}}function r0e(e,t){const n=[...t].sort((r,i)=>r.getTime()-i.getTime());return St(n[0]).startOf("day").subtract(1,"ms").isBefore(e)&&St(n[1]).endOf("day").add(1,"ms").isAfter(e)}function u7t({type:e,level:t,value:n,defaultValue:r,onChange:i,allowSingleDateInRange:s,allowDeselect:o,onMouseLeave:a,applyTimezone:l=!0}){const[u,c]=ZI({type:e,value:n,defaultValue:r,onChange:i,applyTimezone:l}),[d,f]=A.useState(e==="range"&&u[0]&&!u[1]?u[0]:null),[h,p]=A.useState(null),m=S=>{if(e==="range"){if(d instanceof Date&&!u[1]){if(St(S).isSame(d,t)&&!s){f(null),p(null),c([null,null]);return}const x=[S,d];x.sort((T,I)=>T.getTime()-I.getTime()),c(x),p(null),f(null);return}if(u[0]&&!u[1]&&St(S).isSame(u[0],t)&&!s){f(null),p(null),c([null,null]);return}c([S,null]),p(null),f(S);return}if(e==="multiple"){u.some(x=>St(x).isSame(S,t))?c(u.filter(x=>!St(x).isSame(S,t))):c([...u,S]);return}u&&o&&St(S).isSame(u,t)?c(null):c(S)},g=S=>d instanceof Date&&h instanceof Date?r0e(S,[h,d]):u[0]instanceof Date&&u[1]instanceof Date?r0e(S,u):!1,y=e==="range"?S=>{a==null||a(S),p(null)}:a,v=S=>u[0]instanceof Date&&St(S).isSame(u[0],t)?!(h&&St(h).isBefore(u[0])):!1,_=S=>u[1]instanceof Date?St(S).isSame(u[1],t):!(u[0]instanceof Date)||!h?!1:St(h).isBefore(u[0])&&St(S).isSame(u[0],t),w=S=>{if(e==="range")return{selected:u.some(T=>T&&St(T).isSame(S,t)),inRange:g(S),firstInRange:v(S),lastInRange:_(S),"data-autofocus":!!u[0]&&St(u[0]).isSame(S,t)||void 0};if(e==="multiple")return{selected:u.some(T=>T&&St(T).isSame(S,t)),"data-autofocus":!!u[0]&&St(u[0]).isSame(S,t)||void 0};const x=St(u).isSame(S,t);return{selected:x,"data-autofocus":x||void 0}},E=e==="range"&&d?p:()=>{};return A.useEffect(()=>{e==="range"&&!u[0]&&!u[1]&&f(null)},[n]),{onDateChange:m,onRootMouseLeave:y,onHoveredDateChange:E,getControlProps:w,_value:u,setValue:c}}const c7t={type:"default",defaultLevel:"month",numberOfColumns:1},dj=Le((e,t)=>{const n=xe("DatePicker",c7t,e),{classNames:r,styles:i,vars:s,type:o,defaultValue:a,value:l,onChange:u,__staticSelector:c,getDayProps:d,allowSingleDateInRange:f,allowDeselect:h,onMouseLeave:p,numberOfColumns:m,hideOutsideDates:g,__onDayMouseEnter:y,__onDayClick:v,__timezoneApplied:_,...w}=n,{onDateChange:E,onRootMouseLeave:S,onHoveredDateChange:x,getControlProps:T}=u7t({type:o,level:"day",allowDeselect:h,allowSingleDateInRange:f,value:l,defaultValue:a,onChange:u,onMouseLeave:p,applyTimezone:!_}),{resolvedClassNames:I,resolvedStyles:P}=hp({classNames:r,styles:i,props:n}),k=Eu();return b.jsx(XS,{ref:t,minLevel:"month",classNames:I,styles:P,__staticSelector:c||"DatePicker",onMouseLeave:S,numberOfColumns:m,hideOutsideDates:g??m!==1,__onDayMouseEnter:(D,R)=>{x(R),y==null||y(D,R)},__onDayClick:(D,R)=>{E(R),v==null||v(D,R)},getDayProps:D=>({...T(D),...d==null?void 0:d(D)}),...w,date:Pm("add",w.date,k.getTimezone(),_),__timezoneApplied:!0})});dj.classes=XS.classes;dj.displayName="@mantine/dates/DatePicker";function d7t(e,t){if(e===null)return null;const n=Pm("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function f7t({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&St(e).isAfter(t,"date")||n&&St(e).isBefore(n,"date"))}const h7t={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},zte=Le((e,t)=>{const n=ZY("DateInput",h7t,e),{inputProps:r,wrapperProps:i,value:s,defaultValue:o,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:p,minDate:m,maxDate:g,fixOnBlur:y,onFocus:v,onBlur:_,onClick:w,readOnly:E,name:S,form:x,rightSection:T,unstyled:I,classNames:P,styles:k,allowDeselect:D,preserveTime:R,date:M,defaultDate:$,onDateChange:L,...B}=n,[z,U]=A.useState(!1),{calendarProps:N,others:V}=mLe(B),W=Eu(),H=p||(Pe=>{const Je=St(Pe,h,W.getLocale(f)).toDate();return Number.isNaN(Je.getTime())?d7t(Pe,W.getTimezone()):Je}),G=D!==void 0?D:l,X=Pe=>Pe?St(Pe).locale(W.getLocale(f)).format(h):"",[ie,oe,se]=ZI({type:"default",value:s,defaultValue:o,onChange:a}),[le,Se]=ZI({type:"default",value:M,defaultValue:o||$,onChange:L});A.useEffect(()=>{se&&Se(s)},[se,s]);const[de,De]=A.useState(X(ie));A.useEffect(()=>{De(X(ie))},[W.getLocale(f)]);const Fe=Pe=>{const Je=Pe.currentTarget.value;if(De(Je),U(!0),Je.trim()===""&&l)oe(null);else{const qe=H(Je);f7t({date:qe,minDate:m,maxDate:g})&&(oe(qe),Se(qe))}},Be=Pe=>{_==null||_(Pe),U(!1),y&&De(X(ie))},je=Pe=>{v==null||v(Pe),U(!0)},me=Pe=>{w==null||w(Pe),U(!0)},ne=Pe=>({...d==null?void 0:d(Pe),selected:St(ie).isSame(Pe,"day"),onClick:()=>{const Je=R?xzt(ie,Pe):Pe,qe=l&&G&&St(ie).isSame(Pe,"day")?null:Je;oe(qe),!se&&De(X(qe)),U(!1)}}),Ee=T||(l&&ie&&!E?b.jsx(Xy,{variant:"transparent",onMouseDown:Pe=>Pe.preventDefault(),tabIndex:-1,onClick:()=>{oe(null),!se&&De(""),U(!1)},unstyled:I,size:r.size||"sm",...u}):null);return Ju(()=>{s!==void 0&&!z&&De(X(s))},[s]),b.jsxs(b.Fragment,{children:[b.jsx(Kr.Wrapper,{...i,__staticSelector:"DateInput",children:b.jsxs($n,{opened:z,trapFocus:!1,position:"bottom-start",disabled:E,withRoles:!1,unstyled:I,...c,children:[b.jsx($n.Target,{children:b.jsx(Kr,{"data-dates-input":!0,"data-read-only":E||void 0,autoComplete:"off",ref:t,value:de,onChange:Fe,onBlur:Be,onFocus:je,onClick:me,readOnly:E,rightSection:Ee,...r,...V,__staticSelector:"DateInput"})}),b.jsx($n.Dropdown,{onMouseDown:Pe=>Pe.preventDefault(),"data-dates-dropdown":!0,children:b.jsx(XS,{__staticSelector:"DateInput",__timezoneApplied:!0,...N,classNames:P,styles:k,unstyled:I,__preventFocus:!0,minDate:m,maxDate:g,locale:f,getDayProps:ne,size:r.size,date:le,onDateChange:Se})})]})}),b.jsx(Fte,{name:S,form:x,value:ie,type:"default"})]})});zte.classes={...Kr.classes,...XS.classes};zte.displayName="@mantine/dates/DateInput";function p7t({type:e,value:t,defaultValue:n,onChange:r,locale:i,format:s,closeOnChange:o,sortDates:a,labelSeparator:l,valueFormatter:u}){const c=Eu(),[d,f]=M2(!1),[h,p]=ZI({type:e,value:t,defaultValue:n,onChange:r}),m=bzt({type:e,date:h,locale:c.getLocale(i),format:s,labelSeparator:c.getLabelSeparator(l),formatter:u}),g=_=>{o&&(e==="default"&&f.close(),e==="range"&&_[0]&&_[1]&&f.close()),p(a&&e==="multiple"?[..._].sort((w,E)=>w.getTime()-E.getTime()):_)},y=()=>g(e==="range"?[null,null]:e==="multiple"?[]:null),v=e==="range"?!!h[0]:e==="multiple"?h.length>0:h!==null;return{_value:h,setValue:g,onClear:y,shouldClear:v,formattedValue:m,dropdownOpened:d,dropdownHandlers:f}}const m7t={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},Ute=Le((e,t)=>{const n=xe("DatePickerInput",m7t,e),{type:r,value:i,defaultValue:s,onChange:o,valueFormat:a,labelSeparator:l,locale:u,classNames:c,styles:d,unstyled:f,closeOnChange:h,size:p,variant:m,dropdownType:g,sortDates:y,minDate:v,maxDate:_,vars:w,defaultDate:E,valueFormatter:S,...x}=n,{resolvedClassNames:T,resolvedStyles:I}=hp({classNames:c,styles:d,props:n}),{calendarProps:P,others:k}=mLe(x),{_value:D,setValue:R,formattedValue:M,dropdownHandlers:$,dropdownOpened:L,onClear:B,shouldClear:z}=p7t({type:r,value:i,defaultValue:s,onChange:o,locale:u,format:a,labelSeparator:l,closeOnChange:h,sortDates:y,valueFormatter:S}),U=Array.isArray(D)?D[0]||E:D||E,N=Eu();return b.jsx(cj,{formattedValue:M,dropdownOpened:L,dropdownHandlers:$,classNames:T,styles:I,unstyled:f,ref:t,onClear:B,shouldClear:z,value:D,size:p,variant:m,dropdownType:g,...k,type:r,__staticSelector:"DatePickerInput",children:b.jsx(dj,{...P,size:p,variant:m,type:r,value:D,defaultDate:U||Rzt({maxDate:_,minDate:v,timezone:N.getTimezone()}),onChange:R,locale:u,classNames:T,styles:I,unstyled:f,__staticSelector:"DatePickerInput",__stopPropagation:g==="popover",minDate:v,maxDate:_,date:Pm("add",P.date,N.getTimezone()),__timezoneApplied:!0})})});Ute.classes={...cj.classes,...dj.classes};Ute.displayName="@mantine/dates/DatePickerInput";const SE=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},K3=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},gLe=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:s={},state:{columnFilterFns:o={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=SE(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=gLe({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(p=>{var m;return(m=n[p])===null||m===void 0?void 0:m.call(n,d,f,h)})}Object.keys(i).includes(o[a.id])&&(a.filterFn=(u=i[o[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=o[a.id]),Object.keys(s).includes(a.sortingFn)&&(a.sortingFn=s[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},yLe=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},g7t=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t!=null&&t.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},y7t=(e,t,n=-1,r=0,i,s)=>Bk(e,"mrt-row-create",Object.assign({},...K3(e.options.columns).map(o=>({[SE(o)]:""}))),n,r,i,s);function u_({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:s,localization:o}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?o[e]:"",size:n}),s==null?void 0:s[t]),{id:t})}const vLe=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!(n!=null&&n.startsWith("select")))},bLe=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},Vte=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&(i!=null&&i.length)||r)},Hte=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:s}}=e;return!!(i||s&&t==="row"||r&&["modal","row"].includes(n??""))},_Le=e=>!!e.enableRowSelection,wLe=e=>!!e.enableRowNumbers,ELe=e=>e.layoutMode==="grid-no-grow",v7t=e=>[vLe(e)&&"mrt-row-pin",bLe(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&Hte(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&Vte(e)&&"mrt-row-expand",_Le(e)&&"mrt-row-select",wLe(e)&&"mrt-row-numbers"].filter(Boolean),b7t=e=>[e.positionActionsColumn==="last"&&Hte(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&Vte(e)&&"mrt-row-expand",ELe(e)&&"mrt-row-spacer"].filter(Boolean),qte=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=v7t(e),i=b7t(e),s=K3(e.columns).map(a=>SE(a));let o=t?s:Array.from(new Set([...n,...s]));return o=o.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...o,...i]},_7t=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=tzt(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?y1.alphanumeric(e,t,n):r},w7t=Object.assign(Object.assign({},y1),{fuzzy:_7t}),E7t=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),_t=(e,t)=>e instanceof Function?e(t):e,xLe=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:s,getTopRows:o,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:p}=s(),m=x7t(e);let g=[];if(!m)g=!u||f!=null&&f.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((y,v)=>E7t(y,v)),l&&!c&&!t){const y=p.pageIndex*p.pageSize;g=g.slice(y,y+p.pageSize)}u&&!(f!=null&&f.includes("sticky"))&&(g=g.filter(y=>!y.getIsPinned()))}if(u&&(f!=null&&f.includes("sticky"))){const y=g.filter(v=>v.getIsPinned()).map(v=>v.id);g=[...o().filter(v=>!y.includes(v.id)),...g]}if(d!==void 0&&h&&a==="row"){const y=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,y),h,...g.slice(y)]}return g},SLe=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:s,manualSorting:o}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!s&&!o&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},x7t=e=>{const{globalFilter:t,sorting:n}=e.getState();return SLe(e)&&t&&!Object.values(n).some(Boolean)},X3=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||_t(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},S7t=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var s;const{getState:o,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:p}}=o(),m=c?0:p*h,g=X3({row:t,table:n});t.toggleSelected(i??!g);const y=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const v=xLe(n,!0),_=v.findIndex(w=>w.id===f.current);if(_!==-1){const w=X3({row:v==null?void 0:v[_],table:n}),E=e+m,[S,x]=_<E?[_,E]:[E,_];if(g!==w)for(let T=S;T<=x;T++)v[T].toggleSelected(!g),y.add(v[T].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((s=t.subRows)===null||s===void 0||s.forEach(v=>v.toggleSelected(!1))),u&&(d!=null&&d.includes("select"))&&y.forEach(v=>{n.getRow(v).pin(g?!1:d!=null&&d.includes("bottom")?"bottom":"top")})},TLe=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:s,selectAllMode:o},refs:{lastSelectedRowId:a}}=e;o==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&(s!=null&&s.includes("select"))&&e.setRowPinning({bottom:[],top:[]}),a.current=null},ff=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),T7t=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},C7t=(e,t)=>e.colors[e.primaryColor][t??T7t(e)];function Q3(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}const A7t=Object.assign({},jD),CLe=(e,t,n,r)=>{const i=J9t(e.getValue(t),n,{threshold:Ja.MATCHES});return r(i),i.passed};CLe.autoRemove=e=>!e;const ALe=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim());ALe.autoRemove=e=>!e;const ILe=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim());ILe.autoRemove=e=>!e;const RLe=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim());RLe.autoRemove=e=>!e;const fj=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim()===(n==null?void 0:n.toString().toLowerCase().trim());fj.autoRemove=e=>!e;const kLe=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim()!==n.toString().toLowerCase().trim();kLe.autoRemove=e=>!e;const hj=(e,t,n)=>!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:e.getValue(t).toString().toLowerCase().trim()>(n==null?void 0:n.toString().toLowerCase().trim());hj.autoRemove=e=>!e;const Wte=(e,t,n)=>fj(e,t,n)||hj(e,t,n);Wte.autoRemove=e=>!e;const pj=(e,t,n)=>!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:e.getValue(t).toString().toLowerCase().trim()<(n==null?void 0:n.toString().toLowerCase().trim());pj.autoRemove=e=>!e;const Gte=(e,t,n)=>fj(e,t,n)||pj(e,t,n);Gte.autoRemove=e=>!e;const PLe=(e,t,n)=>(["",void 0].includes(n[0])||hj(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||pj(e,t,n[1]));PLe.autoRemove=e=>!e;const NLe=(e,t,n)=>(["",void 0].includes(n[0])||Wte(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||Gte(e,t,n[1]));NLe.autoRemove=e=>!e;const OLe=(e,t,n)=>!e.getValue(t).toString().trim();OLe.autoRemove=e=>!e;const DLe=(e,t,n)=>!!e.getValue(t).toString().trim();DLe.autoRemove=e=>!e;const I7t=Object.assign(Object.assign({},dh),{between:PLe,betweenInclusive:NLe,contains:ALe,empty:OLe,endsWith:RLe,equals:fj,fuzzy:CLe,greaterThan:hj,greaterThanOrEqualTo:Wte,lessThan:pj,lessThanOrEqualTo:Gte,notEmpty:DLe,notEquals:kLe,startsWith:ILe});function Yte(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}function on(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var R7t={root:"MRT_EditActionButtons-module_root__BfxVZ"};const MLe=e=>{var{row:t,table:n,variant:r="icon"}=e,i=on(e,["row","table","variant"]);const{getState:s,options:{icons:{IconCircleX:o,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:p,setEditingRow:m}=n,{creatingRow:g,editingRow:y,isSaving:v}=s(),_=(g==null?void 0:g.id)===t.id,w=(y==null?void 0:y.id)===t.id,E=()=>{_?(u==null||u({row:t,table:n}),p(null)):w&&(d==null||d({row:t,table:n}),m(null)),t._valuesCache={}},S=()=>{var x;(x=Object.values(h==null?void 0:h.current).filter(T=>{var I,P;return t.id===((P=(I=T==null?void 0:T.name)===null||I===void 0?void 0:I.split("_"))===null||P===void 0?void 0:P[0])}))===null||x===void 0||x.forEach(T=>{T.value!==void 0&&Object.hasOwn(t==null?void 0:t._valuesCache,T.name)&&(t._valuesCache[T.name]=T.value)}),_?c==null||c({exitCreatingMode:()=>p(null),row:t,table:n,values:t._valuesCache}):w&&(f==null||f({exitEditingMode:()=>m(null),row:t,table:n,values:t==null?void 0:t._valuesCache}))};return b.jsx(be,Object.assign({className:yt("mrt-edit-action-buttons",R7t.root),onClick:x=>x.stopPropagation()},i,{children:r==="icon"?b.jsxs(b.Fragment,{children:[b.jsx(dn,{label:l.cancel,withinPortal:!0,children:b.jsx(Fn,{"aria-label":l.cancel,color:"red",onClick:E,variant:"subtle",children:b.jsx(o,{})})}),b.jsx(dn,{label:l.save,withinPortal:!0,children:b.jsx(Fn,{"aria-label":l.save,color:"blue",loading:v,onClick:S,variant:"subtle",children:b.jsx(a,{})})})]}):b.jsxs(b.Fragment,{children:[b.jsx(hn,{onClick:E,variant:"subtle",children:l.cancel}),b.jsx(hn,{loading:v,onClick:S,variant:"filled",children:l.save})]})}))},k7t=e=>{var{handleEdit:t,row:n,table:r}=e,i=on(e,["handleEdit","row","table"]);const{options:{editDisplayMode:s,enableEditing:o,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return b.jsxs(cn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[b.jsx(dn,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:b.jsx(cn.Target,{children:b.jsx(Fn,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:b.jsx(a,{})}))})}),b.jsxs(cn.Dropdown,{onClick:f=>f.stopPropagation(),children:[o&&s!=="table"&&b.jsx(cn.Item,{leftSection:b.jsx(l,{}),onClick:t,children:u.edit}),d==null?void 0:d({row:n,table:r})]})]})},P7t=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableEditing:o,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),p=(f==null?void 0:f.id)===t.id,m=(h==null?void 0:h.id)===t.id,g=v=>{v.stopPropagation(),d(Object.assign({},t))},y=p&&i==="row"||m&&s==="row";return b.jsx(b.Fragment,{children:c&&!y?c({cell:e,row:t,table:n}):y?b.jsx(MLe,{row:t,table:n}):!u&&_t(o,t)?b.jsx(dn,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:b.jsx(Fn,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:b.jsx(a,{})})}):u?b.jsx(k7t,{handleEdit:g,row:t,table:n}):null})},N7t=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>b.jsx(P7t,{cell:t,row:n,table:r})},u_({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e}));var O7t={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const Kte=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var s,o;return b.jsx(dn,{label:(s=e==null?void 0:e.title)!==null&&s!==void 0?s:i,openDelay:1e3,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":(o=e==null?void 0:e.title)!==null&&o!==void 0?o:i,draggable:!0},e,{className:yt("mrt-grab-handle-button",O7t["grab-icon"],e==null?void 0:e.className),color:"gray",size:"sm",onClick:a=>{var l;a.stopPropagation(),(l=e==null?void 0:e.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,title:void 0,variant:"transparent",children:b.jsx(r,{size:"100%"})}))})},D7t=e=>{var{row:t,rowRef:n,table:r}=e,i=on(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:s}}=r,o=Object.assign(Object.assign({},_t(s,{row:t,table:r})),i),a=u=>{var c;(c=o==null?void 0:o.onDragStart)===null||c===void 0||c.call(o,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=o==null?void 0:o.onDragEnd)===null||c===void 0||c.call(o,u),r.setDraggingRow(null),r.setHoveredRow(null)};return b.jsx(Kte,{actionIconProps:o,onDragEnd:l,onDragStart:a,table:r})},M7t=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>b.jsx(D7t,{row:t,rowRef:n,table:r}),grow:!1},u_({header:"move",id:"mrt-row-drag",size:60,tableOptions:e}));var aO={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const $7t=e=>{var t,n,{table:r}=e,i=on(e,["table"]);const{getCanSomeRowsExpand:s,getIsAllRowsExpanded:o,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:p,isLoading:m}=l(),g=Object.assign(Object.assign({},_t(d,{table:r})),i),y=o();return b.jsx(dn,{label:((t=g==null?void 0:g.title)!==null&&t!==void 0?t:y)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:yt("mrt-expand-all-button",aO.root,g==null?void 0:g.className,p),disabled:m||!f&&!s(),onClick:()=>h(!y),title:void 0,children:(n=g==null?void 0:g.children)!==null&&n!==void 0?n:b.jsx(u,{className:yt(aO.chevron,y?aO.up:a()?aO.right:void 0)})}))})};var iC={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const i0e=e=>{var t,n,{row:r,table:i}=e,s=on(e,["row","table"]);const o=El(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},_t(u,{row:r,table:i})),s),h=r.getCanExpand(),p=r.getIsExpanded(),m=!!(d!=null&&d({row:r,table:i})),g=v=>{var _;v.stopPropagation(),r.toggleExpanded(),(_=f==null?void 0:f.onClick)===null||_===void 0||_.call(f,v)},y=o.dir==="rtl"||c==="last";return b.jsx(dn,{disabled:!h&&!m,label:((t=f==null?void 0:f.title)!==null&&t!==void 0?t:p)?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":l.expand,color:"gray",disabled:!h&&!m,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:yt("mrt-expand-button",iC.root,iC[`root-${y?"rtl":"ltr"}`],f==null?void 0:f.className),onClick:g,title:void 0,children:(n=f==null?void 0:f.children)!==null&&n!==void 0?n:b.jsx(a,{className:yt("mrt-expand-button-chevron",iC.chevron,!h&&!d?iC.right:p?iC.up:void 0)})}))})},L7t=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:s,renderDetailPanel:o,state:{grouping:a}}=e,l=s==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,p,m;const g={row:d,table:f},y=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?b.jsxs(It,{align:"center",gap:"0.25rem",children:[b.jsx(i0e,Object.assign({},g)),b.jsx(dn,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:b.jsx("span",{children:d.groupingValue})}),!!y&&b.jsxs("span",{children:["(",y,")"]})]}):b.jsxs(b.Fragment,{children:[b.jsx(i0e,Object.assign({},g)),(m=(p=c.columnDef).GroupedCell)===null||m===void 0?void 0:m.call(p,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return b.jsxs(It,{align:"center",children:[b.jsx($7t,{table:u}),i==="remove"&&((c=a==null?void 0:a.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},u_({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n==null?void 0:n.size)!==null&&t!==void 0?t:180:o?r?60:70:100,tableOptions:e}))},F7t=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:s=0,row:o})=>{var a;return((a=n==="static"?s+i*r:o.index)!==null&&a!==void 0?a:0)+1},Header:()=>t.rowNumber,grow:!1},u_({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},uz=e=>{var{pinningPosition:t,row:n,table:r}=e,i=on(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:s,IconX:o},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=A.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return b.jsx(dn,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:b.jsx(Fn,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?b.jsx(o,{}):b.jsx(s,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},j7t=e=>{var{row:t,table:n}=e,r=on(e,["row","table"]);const{getState:i,options:{enableRowPinning:s,rowPinningDisplayMode:o}}=n,{density:a}=i();if(!_t(s,t))return null;const u=Object.assign({row:t,table:n},r);return o==="top-and-bottom"&&!t.getIsPinned()?b.jsxs(be,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[b.jsx(uz,Object.assign({pinningPosition:"top"},u)),b.jsx(uz,Object.assign({pinningPosition:"bottom"},u))]}):b.jsx(uz,Object.assign({pinningPosition:o==="bottom"?"bottom":"top"},u))},B7t=e=>Object.assign({Cell:({row:t,table:n})=>b.jsx(j7t,{row:t,table:n}),grow:!1},u_({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),Bq=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,s=on(e,["renderedRowIndex","row","table"]);const{getState:o,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:p}=o(),m=!r,g=m?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,y=m?g:X3({row:r,table:i}),v=Object.assign(Object.assign({},m?_t(u,{table:i}):_t(c,{row:r,table:i})),s),_=r?S7t({renderedRowIndex:n,row:r,table:i}):void 0,w=TLe({table:i}),E=Object.assign(Object.assign({"aria-label":m?l.toggleSelectAll:l.toggleSelectRow,checked:y,disabled:p||r&&!r.getCanSelect()||(r==null?void 0:r.id)==="mrt-row-create",onChange:S=>{S.stopPropagation(),m?w(S):_(S)},size:h==="xs"?"sm":"md"},v),{onClick:S=>{var x;S.stopPropagation(),(x=v==null?void 0:v.onClick)===null||x===void 0||x.call(v,S)},title:void 0});return b.jsx(dn,{label:(t=v==null?void 0:v.title)!==null&&t!==void 0?t:m?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:b.jsx("span",{children:f==="switch"?b.jsx(z0,Object.assign({},E)):f==="radio"||a===!1?b.jsx(ay,Object.assign({},E)):b.jsx(yf,Object.assign({indeterminate:!y&&m?i.getIsSomeRowsSelected():(r==null?void 0:r.getIsSomeSelected())&&r.getCanSelectSubRows()},E))})})},z7t=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:s})=>b.jsx(Bq,{renderedRowIndex:r,row:i,table:s}),Header:n&&t?({table:r})=>b.jsx(Bq,{table:r}):void 0,grow:!1},u_({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},U7t={IconArrowAutofitContent:Ntt,IconArrowsSort:Ott,IconBaselineDensityLarge:Mtt,IconBaselineDensityMedium:$tt,IconBaselineDensitySmall:Ltt,IconBoxMultiple:Ftt,IconChevronDown:Utt,IconChevronLeft:Htt,IconChevronLeftPipe:Vtt,IconChevronRight:Wtt,IconChevronRightPipe:qtt,IconChevronsDown:Gtt,IconCircleX:Ytt,IconClearAll:Ktt,IconColumns:Xtt,IconDeviceFloppy:Jtt,IconDots:Ztt,IconDotsVertical:ESe,IconEdit:xSe,IconEyeOff:ent,IconFilter:int,IconFilterCog:nnt,IconFilterOff:rnt,IconGripHorizontal:snt,IconMaximize:unt,IconMinimize:cnt,IconPinned:fnt,IconPinnedOff:dnt,IconSearch:CSe,IconSearchOff:mnt,IconSortAscending:gnt,IconSortDescending:ynt,IconX:i6},V7t={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},H7t={filterVariant:"text",maxSize:1e3,minSize:40,size:180},$Le={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},q7t=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:s,columnResizeMode:o="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:p=!0,enableColumnOrdering:m=!1,enableColumnPinning:g=!1,enableColumnResizing:y=!1,enableColumnVirtualization:v,enableDensityToggle:_=!0,enableExpandAll:w=!0,enableExpanding:E,enableFacetedValues:S=!1,enableFilterMatchHighlighting:x=!0,enableFilters:T=!0,enableFullScreenToggle:I=!0,enableGlobalFilter:P=!0,enableGlobalFilterRankedResults:k=!0,enableGrouping:D=!1,enableHeaderActionsHoverReveal:R=!1,enableHiding:M=!0,enableMultiRowSelection:$=!0,enableMultiSort:L=!0,enablePagination:B=!0,enableRowPinning:z=!1,enableRowSelection:U=!1,enableRowVirtualization:N,enableSelectAll:V=!0,enableSorting:W=!0,enableStickyHeader:F=!1,enableTableFooter:H=!0,enableTableHead:G=!0,enableToolbarInternalActions:X=!0,enableTopToolbar:ie=!0,filterFns:oe,icons:se,layoutMode:le,localization:Se,manualFiltering:de,manualGrouping:De,manualPagination:Fe,manualSorting:Be,paginationDisplayMode:je="default",positionActionsColumn:me="first",positionCreatingRow:ne="top",positionExpandColumn:Ee="first",positionGlobalFilter:Pe="right",positionPagination:Je="bottom",positionToolbarAlertBanner:qe="top",positionToolbarDropZone:_e="top",rowNumberDisplayMode:Qe="static",rowPinningDisplayMode:pt="sticky",selectAllMode:ye="page",sortingFns:ke}=e,Ge=on(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const Ke=El();return se=A.useMemo(()=>Object.assign(Object.assign({},U7t),se),[se]),Se=A.useMemo(()=>Object.assign(Object.assign({},V7t),Se),[Se]),n=A.useMemo(()=>Object.assign(Object.assign({},A7t),n),[]),oe=A.useMemo(()=>Object.assign(Object.assign({},I7t),oe),[]),ke=A.useMemo(()=>Object.assign(Object.assign({},w7t),ke),[]),l=A.useMemo(()=>Object.assign(Object.assign({},H7t),l),[l]),u=A.useMemo(()=>Object.assign(Object.assign({},$Le),u),[u]),[v,N]=A.useMemo(()=>[v,N],[]),s||(s=Ke.dir||"ltr"),le=le||(y?"grid-no-grow":"semantic"),le==="semantic"&&(N||v)&&(le="grid"),N&&(F=!0),B===!1&&Fe===void 0&&(Fe=!0),!((t=Ge.data)===null||t===void 0)&&t.length||(de=!0,De=!0,Fe=!0,Be=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:s,columnResizeMode:o,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:p,enableColumnOrdering:m,enableColumnPinning:g,enableColumnResizing:y,enableColumnVirtualization:v,enableDensityToggle:_,enableExpandAll:w,enableExpanding:E,enableFacetedValues:S,enableFilterMatchHighlighting:x,enableFilters:T,enableFullScreenToggle:I,enableGlobalFilter:P,enableGlobalFilterRankedResults:k,enableGrouping:D,enableHeaderActionsHoverReveal:R,enableHiding:M,enableMultiRowSelection:$,enableMultiSort:L,enablePagination:B,enableRowPinning:z,enableRowSelection:U,enableRowVirtualization:N,enableSelectAll:V,enableSorting:W,enableStickyHeader:F,enableTableFooter:H,enableTableHead:G,enableToolbarInternalActions:X,enableTopToolbar:ie,filterFns:oe,getCoreRowModel:$9t(),getExpandedRowModel:E||D?L9t():void 0,getFacetedMinMaxValues:S?F9t():void 0,getFacetedRowModel:S?z9t():void 0,getFacetedUniqueValues:S?U9t():void 0,getFilteredRowModel:p||P||T?V9t():void 0,getGroupedRowModel:D?H9t():void 0,getPaginationRowModel:B?W9t():void 0,getSortedRowModel:W?G9t():void 0,getSubRows:xt=>xt==null?void 0:xt.subRows,icons:se,layoutMode:le,localization:Se,manualFiltering:de,manualGrouping:De,manualPagination:Fe,manualSorting:Be,paginationDisplayMode:je,positionActionsColumn:me,positionCreatingRow:ne,positionExpandColumn:Ee,positionGlobalFilter:Pe,positionPagination:Je,positionToolbarAlertBanner:qe,positionToolbarDropZone:_e,rowNumberDisplayMode:Qe,rowPinningDisplayMode:pt,selectAllMode:ye,sortingFns:ke},Ge)},cz={children:null,style:{minWidth:0,padding:0,width:0}},W7t=e=>Object.assign(Object.assign(Object.assign(Object.assign({},u_({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),$Le),{mantineTableBodyCellProps:cz,mantineTableFooterCellProps:cz,mantineTableHeadCellProps:cz}),G7t=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:s,rowCount:o}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:p}=r(),m=e.options.columns.length,g=o??n().rows.length,y=A.useReducer(()=>({}),{})[1],v=A.useRef(),_=A.useRef();A.useEffect(()=>{typeof window<"u"&&(v.current=document.body.style.height)},[]),A.useEffect(()=>{if(typeof window<"u")if(c)_.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=v.current,!_.current)return;window.scrollTo({behavior:"instant",top:-1*_.current})}},[c]),A.useEffect(()=>{m!==a.length&&e.setColumnOrder(qte(e.options))},[m]),A.useEffect(()=>{if(!i||d||h)return;const{pageIndex:E,pageSize:S}=f;E*S>=g&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const w=A.useRef(p);A.useEffect(()=>{p.length&&(w.current=p)},[p]),A.useEffect(()=>{SLe(e)&&(u?e.setSorting([]):e.setSorting(()=>w.current||[]))},[u]),A.useEffect(()=>{s&&t()&&setTimeout(()=>{y()},150)},[l])},Y7t=e=>{var t,n,r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,_,w,E,S,x,T,I,P,k,D,R,M,$,L,B;const z=A.useRef(null),U=A.useRef(null),N=A.useRef({}),V=A.useRef({}),W=A.useRef(null),F=A.useRef(null),H=A.useRef({}),G=A.useRef(null),X=A.useRef(null),ie=A.useRef(null),oe=A.useRef(null),se=A.useMemo(()=>{var $r,ri,ii;const ce=($r=e.initialState)!==null&&$r!==void 0?$r:{};return ce.columnOrder=(ri=ce.columnOrder)!==null&&ri!==void 0?ri:qte(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),ce.globalFilterFn=(ii=e.globalFilterFn)!==null&&ii!==void 0?ii:"fuzzy",ce},[]);e.initialState=se;const[le,Se]=A.useState((t=se.creatingRow)!==null&&t!==void 0?t:null),[de,De]=A.useState(()=>Object.assign({},...K3(e.columns).map($r=>{var ri,ii,ce,te;return{[SE($r)]:$r.filterFn instanceof Function?(ri=$r.filterFn.name)!==null&&ri!==void 0?ri:"custom":(te=(ii=$r.filterFn)!==null&&ii!==void 0?ii:(ce=se==null?void 0:se.columnFilterFns)===null||ce===void 0?void 0:ce[SE($r)])!==null&&te!==void 0?te:g7t($r)}}))),[Fe,Be]=A.useState((n=se.columnOrder)!==null&&n!==void 0?n:[]),[je,me]=A.useState((r=se.columnSizingInfo)!==null&&r!==void 0?r:{}),[ne,Ee]=A.useState((i=se==null?void 0:se.density)!==null&&i!==void 0?i:"md"),[Pe,Je]=A.useState((s=se.draggingColumn)!==null&&s!==void 0?s:null),[qe,_e]=A.useState((o=se.draggingRow)!==null&&o!==void 0?o:null),[Qe,pt]=A.useState((a=se.editingCell)!==null&&a!==void 0?a:null),[ye,ke]=A.useState((l=se.editingRow)!==null&&l!==void 0?l:null),[Ge,Ke]=A.useState((u=se.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[xt,Cn]=A.useState((c=se.grouping)!==null&&c!==void 0?c:[]),[gr,yr]=A.useState((d=se.hoveredColumn)!==null&&d!==void 0?d:null),[kr,Xt]=A.useState((f=se.hoveredRow)!==null&&f!==void 0?f:null),[Dn,rr]=A.useState((h=se==null?void 0:se.isFullScreen)!==null&&h!==void 0?h:!1),[ir,ao]=A.useState((p=se==null?void 0:se.pagination)!==null&&p!==void 0?p:{pageIndex:0,pageSize:10}),[Oi,Ui]=A.useState((m=se==null?void 0:se.showAlertBanner)!==null&&m!==void 0?m:!1),[Un,Wn]=A.useState((g=se==null?void 0:se.showColumnFilters)!==null&&g!==void 0?g:!1),[Zi,wd]=A.useState((y=se==null?void 0:se.showGlobalFilter)!==null&&y!==void 0?y:!1),[Va,mc]=A.useState((v=se==null?void 0:se.showToolbarDropZone)!==null&&v!==void 0?v:!1);e.state=Object.assign({columnFilterFns:de,columnOrder:Fe,columnSizingInfo:je,creatingRow:le,density:ne,draggingColumn:Pe,draggingRow:qe,editingCell:Qe,editingRow:ye,globalFilterFn:Ge,grouping:xt,hoveredColumn:gr,hoveredRow:kr,isFullScreen:Dn,pagination:ir,showAlertBanner:Oi,showColumnFilters:Un,showGlobalFilter:Zi,showToolbarDropZone:Va},e.state);const mt=e,fi=A.useRef([]);mt.columns=mt.state.columnSizingInfo.isResizingColumn||mt.state.draggingColumn||mt.state.draggingRow?fi.current:gLe({columnDefs:[...[vLe(mt)&&B7t(mt),bLe(mt)&&M7t(mt),Hte(mt)&&N7t(mt),Vte(mt)&&L7t(mt),_Le(mt)&&z7t(mt),wLe(mt)&&F7t(mt)].filter(Boolean),...mt.columns,...[ELe(mt)&&W7t(mt)].filter(Boolean)],tableOptions:mt}),fi.current=mt.columns,mt.data=A.useMemo(()=>(mt.state.isLoading||mt.state.showSkeletons)&&!mt.data.length?[...Array(Math.min(mt.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...K3(mt.columns).map($r=>({[SE($r)]:null})))):mt.data,[mt.data,mt.state.isLoading,mt.state.showSkeletons]);const wn=Y9t(Object.assign(Object.assign({onColumnOrderChange:Be,onColumnSizingInfoChange:me,onGroupingChange:Cn,onPaginationChange:ao},mt),{globalFilterFn:(_=mt.filterFns)===null||_===void 0?void 0:_[Ge??"fuzzy"]}));return wn.refs={bottomToolbarRef:U,editInputRefs:N,filterInputRefs:V,lastSelectedRowId:z,searchInputRef:W,tableContainerRef:F,tableFooterRef:oe,tableHeadCellRefs:H,tableHeadRef:ie,tablePaperRef:G,topToolbarRef:X},wn.setCreatingRow=$r=>{var ri,ii;let ce=$r;$r===!0&&(ce=y7t(wn)),(ii=(ri=mt==null?void 0:mt.onCreatingRowChange)===null||ri===void 0?void 0:ri.call(mt,ce))!==null&&ii!==void 0||Se(ce)},wn.setColumnFilterFns=(w=mt.onColumnFilterFnsChange)!==null&&w!==void 0?w:De,wn.setDensity=(E=mt.onDensityChange)!==null&&E!==void 0?E:Ee,wn.setDraggingColumn=(S=mt.onDraggingColumnChange)!==null&&S!==void 0?S:Je,wn.setDraggingRow=(x=mt.onDraggingRowChange)!==null&&x!==void 0?x:_e,wn.setEditingCell=(T=mt.onEditingCellChange)!==null&&T!==void 0?T:pt,wn.setEditingRow=(I=mt.onEditingRowChange)!==null&&I!==void 0?I:ke,wn.setGlobalFilterFn=(P=mt.onGlobalFilterFnChange)!==null&&P!==void 0?P:Ke,wn.setHoveredColumn=(k=mt.onHoveredColumnChange)!==null&&k!==void 0?k:yr,wn.setHoveredRow=(D=mt.onHoveredRowChange)!==null&&D!==void 0?D:Xt,wn.setIsFullScreen=(R=mt.onIsFullScreenChange)!==null&&R!==void 0?R:rr,wn.setShowAlertBanner=(M=mt.onShowAlertBannerChange)!==null&&M!==void 0?M:Ui,wn.setShowColumnFilters=($=mt.onShowColumnFiltersChange)!==null&&$!==void 0?$:Wn,wn.setShowGlobalFilter=(L=mt.onShowGlobalFilterChange)!==null&&L!==void 0?L:wd,wn.setShowToolbarDropZone=(B=mt.onShowToolbarDropZoneChange)!==null&&B!==void 0?B:mc,G7t(wn),wn},LLe=e=>Y7t(q7t(e)),FLe=(e,t)=>{const n=G3e(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},K7t=e=>{var t,n,r,i;const{getLeftLeafColumns:s,getRightLeafColumns:o,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:p,draggingColumn:m}=a();if(!f)return;const g=_t(c,{table:e}),y=l(),[v,_]=A.useMemo(()=>d?[s().map(P=>P.getPinnedIndex()),o().map(P=>y.length-P.getPinnedIndex()-1).sort((P,k)=>P-k)]:[[],[]],[y.length,p,d]),w=v.length,E=_.length,S=A.useMemo(()=>m!=null&&m.id?y.findIndex(P=>P.id===(m==null?void 0:m.id)):void 0,[m==null?void 0:m.id]),x=K3e(Object.assign({count:y.length,estimateSize:P=>y[P].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:A.useCallback(P=>{const k=FLe(P,S);return!w&&!E?k:[...new Set([...v,...k,..._])]},[v,_,S])},g)),T=x.getVirtualItems();x.virtualColumns=T;const I=T.length;if(I){const P=x.getTotalSize(),k=((t=T[w])===null||t===void 0?void 0:t.start)||0,D=((n=T[v.length-1])===null||n===void 0?void 0:n.end)||0,R=((r=T[I-E])===null||r===void 0?void 0:r.start)||0,M=((i=T[I-E-1])===null||i===void 0?void 0:i.end)||0;x.virtualPaddingLeft=k-D,x.virtualPaddingRight=P-M-(E?P-R:0)}return u&&(u.current=x),x},X7t=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:s,renderDetailPanel:o,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!s)return;const h=_t(l,{table:e}),p=(n=t==null?void 0:t.length)!==null&&n!==void 0?n:r().rows.length,m=c==="xs"?42.7:c==="md"?54.7:70.7,g=K3e(Object.assign({count:o?p*2:p,estimateSize:y=>o&&y%2===1?f===!0?100:0:m,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?y=>y==null?void 0:y.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:A.useCallback(y=>{var v;return FLe(y,(v=d==null?void 0:d.index)!==null&&v!==void 0?v:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},Q7t=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:s}}=e,{creatingRow:o,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return A.useMemo(()=>xLe(e),[o,r,i,a,t().rows,l,u.pageIndex,u.pageSize,s,c,d])};var J7t={root:"MRT_TablePaper-module_root__q0v5L"},dz={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},s0e={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"},Cd={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},fz={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},Mv={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa"};const hz=["string","number"],Z7t=["text","autocomplete"],o0e=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,s;const{getState:o,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=o(),p=u.getFilterValue(),m=_t(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const y=g!==void 0;if(y||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&hz.includes(typeof g)&&(p&&hz.includes(typeof p)&&Z7t.includes(d.filterVariant)||f&&hz.includes(typeof f)&&u.getCanGlobalFilter())){let v=((s=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:"").toString();(p?d._filterFn:h)==="fuzzy"&&(v=v.split(" ")),g=b.jsx(jK,Object.assign({color:"yellow.3",highlight:v},m,{children:g==null?void 0:g.toString()}))}return d.Cell&&!y&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g};var eUt={root:"MRT_CopyButton-module_root__mkXy4"};const tUt=e=>{var{cell:t,children:n,table:r}=e,i=on(e,["cell","children","table"]);const{options:{localization:{clickToCopy:s,copiedToClipboard:o},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},_t(a,d)),_t(c.mantineCopyButtonProps,d)),i);return b.jsx(Sxe,{value:t.getValue(),children:({copied:h,copy:p})=>{var m;return b.jsx(dn,{color:h?"green":void 0,label:(m=f==null?void 0:f.title)!==null&&m!==void 0?m:h?o:s,openDelay:1e3,withinPortal:!0,children:b.jsx(xs,Object.assign({},f,{className:yt("mrt-copy-button",eUt.root,f==null?void 0:f.className),onClick:g=>{g.stopPropagation(),p()},role:"presentation",title:void 0,children:n}))})}})},jLe=e=>{var t,{cell:n,table:r}=e,i=on(e,["cell","table"]);const{getState:s,options:{createDisplayMode:o,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:p,row:m}=n,{columnDef:g}=p,{creatingRow:y,editingRow:v}=s(),_=(y==null?void 0:y.id)===m.id,w=(v==null?void 0:v.id)===m.id,E=g.editVariant==="select",[S,x]=A.useState(()=>n.getValue()),T={cell:n,column:p,row:m,table:r},I=Object.assign(Object.assign(Object.assign({},_t(u,T)),_t(g.mantineEditTextInputProps,T)),i),P=Object.assign(Object.assign(Object.assign({},_t(l,T)),_t(g.mantineEditSelectProps,T)),i),k=$=>{m._valuesCache[p.id]=$,_?d(m):w&&h(m)},D=$=>{var L;(L=I.onBlur)===null||L===void 0||L.call(I,$),k(S),f(null)},R=$=>{var L,B;(L=I.onKeyDown)===null||L===void 0||L.call(I,$),$.key==="Enter"&&((B=c.current[n.id])===null||B===void 0||B.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:p,row:m,table:r});const M={disabled:_t(g.enableEditing,m)===!1,label:["custom","modal"].includes(_?o:a)?p.columnDef.header:void 0,name:n.id,onClick:$=>{var L;$.stopPropagation(),(L=I==null?void 0:I.onClick)===null||L===void 0||L.call(I,$)},placeholder:["custom","modal"].includes(_?o:a)?void 0:g.header,value:S,variant:a==="table"?"unstyled":"default"};return E?b.jsx(nu,Object.assign({},M,{searchable:!0,value:S},P,{onBlur:D,onChange:$=>{var L;(L=P.onChange)===null||L===void 0||L.call(P,$),x($)},onClick:$=>{var L;$.stopPropagation(),(L=P==null?void 0:P.onClick)===null||L===void 0||L.call(P,$)},ref:$=>{$&&(c.current[n.id]=$,P.ref&&(P.ref.current=$))}})):b.jsx(sf,Object.assign({},M,{onKeyDown:R,value:S??""},I,{onBlur:D,onChange:$=>{var L;(L=I.onChange)===null||L===void 0||L.call(I,$),x($.target.value)},onClick:$=>{var L;$.stopPropagation(),(L=I==null?void 0:I.onClick)===null||L===void 0||L.call(I,$)},ref:$=>{$&&(c.current[n.id]=$,I.ref&&(I.ref.current=$))}}))},BLe=e=>{var t,n,r,i,s,o,a,{cell:l,numRows:u=1,renderedColumnIndex:c=0,renderedRowIndex:d=0,rowRef:f,table:h,virtualCell:p}=e,m=on(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const g=El(),{getState:y,options:{columnResizeDirection:v,columnResizeMode:_,createDisplayMode:w,editDisplayMode:E,enableClickToCopy:S,enableColumnOrdering:x,enableColumnPinning:T,enableEditing:I,enableGrouping:P,layoutMode:k,mantineSkeletonProps:D,mantineTableBodyCellProps:R},refs:{editInputRefs:M},setEditingCell:$,setHoveredColumn:L}=h,{columnSizingInfo:B,creatingRow:z,density:U,draggingColumn:N,editingCell:V,editingRow:W,hoveredColumn:F,isLoading:H,showSkeletons:G}=y(),{column:X,row:ie}=l,{columnDef:oe}=X,{columnDefType:se}=oe,le={cell:l,column:X,renderedColumnIndex:c,renderedRowIndex:d,row:ie,table:h},Se=Object.assign(Object.assign(Object.assign({},_t(R,le)),_t(oe.mantineTableBodyCellProps,le)),m),de=_t(D,le),[De,Fe]=A.useState(100);A.useEffect(()=>{if(!H&&!G||De!==100)return;const ye=X.getSize();Fe(se==="display"?ye/2:Math.round(Math.random()*(ye-ye/3)+ye/3))},[H,G]);const Be={minWidth:`max(calc(var(--col-${ff(X==null?void 0:X.id)}-size) * 1px), ${(t=oe.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${ff(X.id)}-size) * 1px)`};k==="grid"?Be.flex=`${[0,!1].includes(oe.grow)?0:`var(--col-${ff(X.id)}-size)`} 0 auto`:k==="grid-no-grow"&&(Be.flex=`${+(oe.grow||0)} 0 auto`);const je=(N==null?void 0:N.id)===X.id,me=(F==null?void 0:F.id)===X.id,ne=T&&oe.columnDefType!=="group"&&X.getIsPinned(),Ee=!l.getIsPlaceholder()&&_t(I,ie)&&_t(oe.enableEditing,ie)!==!1,Pe=Ee&&!["custom","modal"].includes(E)&&(E==="table"||(W==null?void 0:W.id)===ie.id||(V==null?void 0:V.id)===l.id)&&!ie.getIsGrouped(),Je=Ee&&w==="row"&&(z==null?void 0:z.id)===ie.id,qe=_t(S,l)||_t(oe.enableClickToCopy,l)&&_t(oe.enableClickToCopy,l)!==!1,_e=ye=>{var ke;(ke=Se==null?void 0:Se.onDoubleClick)===null||ke===void 0||ke.call(Se,ye),Ee&&E==="cell"&&($(l),setTimeout(()=>{var Ge;const Ke=M.current[l.id];Ke&&(Ke.focus(),(Ge=Ke.select)===null||Ge===void 0||Ge.call(Ke))},100))},Qe=ye=>{var ke;(ke=Se==null?void 0:Se.onDragEnter)===null||ke===void 0||ke.call(Se,ye),P&&(F==null?void 0:F.id)==="drop-zone"&&L(null),x&&N&&L(oe.enableColumnOrdering!==!1?X:null)},pt={cell:l,renderedColumnIndex:c,renderedRowIndex:d,table:h};return b.jsx(t6,Object.assign({"data-column-pinned":ne||void 0,"data-dragging-column":je||void 0,"data-first-right-pinned":ne==="right"&&X.getIsFirstColumn(ne)||void 0,"data-hovered-column-target":me||void 0,"data-index":c,"data-last-left-pinned":ne==="left"&&X.getIsLastColumn(ne)||void 0,"data-last-row":d===u-1||void 0,"data-resizing":_==="onChange"&&(B==null?void 0:B.isResizingColumn)===X.id&&v||void 0},Se,{__vars:Object.assign({"--mrt-cell-align":(n=Se.align)!==null&&n!==void 0?n:g.dir==="rtl"?"right":"left","--mrt-table-cell-left":ne==="left"?`${X.getStart(ne)}`:void 0,"--mrt-table-cell-right":ne==="right"?`${X.getAfter(ne)}`:void 0},Se.__vars),className:yt(Mv.root,(k==null?void 0:k.startsWith("grid"))&&Mv["root-grid"],p&&Mv["root-virtualized"],Ee&&E==="cell"&&Mv["root-cursor-pointer"],Ee&&["cell","table"].includes(E??"")&&se!=="display"&&Mv["root-editable-hover"],se==="data"&&Mv["root-data-col"],U==="xs"&&Mv["root-nowrap"],Se==null?void 0:Se.className),onDoubleClick:_e,onDragEnter:Qe,style:ye=>Object.assign(Object.assign({},Be),_t(Se.style,ye)),children:(r=Se.children)!==null&&r!==void 0?r:b.jsxs(b.Fragment,{children:[l.getIsPlaceholder()?(s=(i=oe.PlaceholderCell)===null||i===void 0?void 0:i.call(oe,{cell:l,column:X,row:ie,table:h}))!==null&&s!==void 0?s:null:G!==!1&&(H||G)?b.jsx(iX,Object.assign({height:20,width:De},de)):se==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(X.id)||!ie.getIsGrouped())?(o=oe.Cell)===null||o===void 0?void 0:o.call(oe,Object.assign({column:X,renderedCellValue:l.renderValue(),row:ie,rowRef:f},pt)):Je||Pe?b.jsx(jLe,{cell:l,table:h}):qe&&oe.enableClickToCopy!==!1?b.jsx(tUt,{cell:l,table:h,children:b.jsx(o0e,Object.assign({},pt))}):b.jsx(o0e,Object.assign({},pt)),l.getIsGrouped()&&!oe.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(a=ie.subRows)===null||a===void 0?void 0:a.length,")"]})]})}))},nUt=A.memo(BLe,(e,t)=>t.cell===e.cell);var $v={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const rUt=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:s,rowVirtualizer:o,striped:a,table:l,virtualRow:u}=e,c=on(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:p,mantineTableBodyRowProps:m,renderDetailPanel:g}}=l,{isLoading:y}=d(),v=_t(m,{isDetailPanel:!0,row:s,table:l}),_=Object.assign(Object.assign({},_t(p,{row:s,table:l})),c),w=!y&&s.getIsExpanded()&&(g==null?void 0:g({row:s,table:l}));return b.jsx(Sm,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:E=>{var S;E&&((S=o==null?void 0:o.measureElement)===null||S===void 0||S.call(o,E))}},v,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},v==null?void 0:v.__vars),className:yt("mantine-Table-tr-detail-panel",$v.root,(h==null?void 0:h.startsWith("grid"))&&$v["root-grid"],u&&$v["root-virtual-row"],v==null?void 0:v.className),children:b.jsx(t6,Object.assign({colSpan:f().length,component:"td"},_,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:yt("mantine-Table-td-detail-panel",$v.inner,(h==null?void 0:h.startsWith("grid"))&&$v["inner-grid"],s.getIsExpanded()&&$v["inner-expanded"],u&&$v["inner-virtual"]),p:s.getIsExpanded()&&w?"md":0,children:o?s.getIsExpanded()&&w:b.jsx(Gb,{in:s.getIsExpanded(),children:w})}))}))},BD=e=>{var t,n,r,{columnVirtualizer:i,numRows:s,pinnedRowIds:o,renderedRowIndex:a=0,row:l,rowVirtualizer:u,table:c,tableProps:d,virtualRow:f}=e,h=on(e,["columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:p,options:{enableRowOrdering:m,enableRowPinning:g,enableStickyFooter:y,enableStickyHeader:v,layoutMode:_,mantineTableBodyRowProps:w,memoMode:E,renderDetailPanel:S,rowPinningDisplayMode:x},refs:{tableFooterRef:T,tableHeadRef:I},setHoveredRow:P}=c,{density:k,draggingColumn:D,draggingRow:R,editingCell:M,editingRow:$,hoveredRow:L,isFullScreen:B,rowPinning:z}=p(),U=l.getVisibleCells(),{virtualColumns:N,virtualPaddingLeft:V,virtualPaddingRight:W}=i??{},F=X3({row:l,table:c}),H=g&&l.getIsPinned(),G=H&&(x==null?void 0:x.includes("sticky"))&&"sticky",X=(R==null?void 0:R.id)===l.id,ie=(L==null?void 0:L.id)===l.id,oe=Object.assign(Object.assign({},_t(w,{renderedRowIndex:a,row:l,table:c})),h),[se,le]=A.useMemo(()=>!g||!G||!o||!l.getIsPinned()?[]:[[...o].reverse().indexOf(l.id),o.indexOf(l.id)],[o,z]),Se=(v||B)&&((t=I.current)===null||t===void 0?void 0:t.clientHeight)||0,de=y&&((n=T.current)===null||n===void 0?void 0:n.clientHeight)||0,De=parseInt((r=oe==null?void 0:oe.style)===null||r===void 0?void 0:r.height,10)||(k==="xs"?37:k==="md"?53:69),Fe=me=>{m&&R&&P(l)},Be=A.useRef(null);let je=d.striped;return je&&(je===!0&&(je="odd"),je==="odd"&&a%2!==0&&(je=!1),je==="even"&&a%2===0&&(je=!1)),b.jsxs(b.Fragment,{children:[b.jsxs(Sm,Object.assign({"data-dragging-row":X||void 0,"data-hovered-row-target":ie||void 0,"data-index":S?a*2:a,"data-row-pinned":G||H||void 0,"data-selected":F||void 0,"data-striped":je,onDragEnter:Fe,ref:me=>{me&&(Be.current=me,u==null||u.measureElement(me))}},oe,{__vars:Object.assign(Object.assign({},oe==null?void 0:oe.__vars),{"--mrt-pinned-row-bottom":!f&&se!==void 0&&H?`${se*De+(y?de-1:0)}`:void 0,"--mrt-pinned-row-top":f?void 0:le!==void 0&&H?`${le*De+(v||B?Se-1:0)}`:void 0,"--mrt-virtual-row-start":f?`${f.start}`:void 0}),className:yt(fz.root,(_==null?void 0:_.startsWith("grid"))&&fz["root-grid"],f&&fz["root-virtualized"],oe==null?void 0:oe.className),children:[V?b.jsx(be,{component:"td",display:"flex",w:V}):null,(N??l.getVisibleCells()).map((me,ne)=>{let Ee=me;i&&(ne=me.index,Ee=U[ne]);const Pe={cell:Ee,numRows:s,renderedColumnIndex:ne,renderedRowIndex:a,rowRef:Be,table:c,virtualCell:i?me:void 0};return E==="cells"&&Ee.column.columnDef.columnDefType==="data"&&!D&&!R&&(M==null?void 0:M.id)!==Ee.id&&($==null?void 0:$.id)!==l.id?b.jsx(nUt,Object.assign({},Pe),Ee.id):b.jsx(BLe,Object.assign({},Pe),Ee.id)}),W?b.jsx(be,{component:"td",display:"flex",w:W}):null]})),S&&!l.getIsGrouped()&&b.jsx(rUt,{parentRowRef:Be,renderedRowIndex:a,row:l,rowVirtualizer:u,striped:je,table:c,virtualRow:f})]})},pz=A.memo(BD,(e,t)=>e.row===t.row),zLe=e=>{var t,n,r,i,s,{columnVirtualizer:o,table:a,tableProps:l}=e,u=on(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:c,getIsSomeRowsPinned:d,getRowModel:f,getState:h,getTopRows:p,options:{enableStickyFooter:m,enableStickyHeader:g,layoutMode:y,localization:v,mantineTableBodyProps:_,memoMode:w,renderDetailPanel:E,renderEmptyRowsFallback:S,rowPinningDisplayMode:x},refs:{tableFooterRef:T,tableHeadRef:I,tablePaperRef:P}}=a,{columnFilters:k,globalFilter:D,isFullScreen:R,rowPinning:M}=h(),$=Object.assign(Object.assign({},_t(_,{table:a})),u),L=(g||R)&&((t=I.current)===null||t===void 0?void 0:t.clientHeight)||0,B=m&&((n=T.current)===null||n===void 0?void 0:n.clientHeight)||0,z=A.useMemo(()=>{var F,H;return!(!((F=M.bottom)===null||F===void 0)&&F.length)&&!(!((H=M.top)===null||H===void 0)&&H.length)?[]:f().rows.filter(G=>G.getIsPinned()).map(G=>G.id)},[M,f().rows]),U=Q7t(a),N=X7t(a,U),{virtualRows:V}=N??{},W={columnVirtualizer:o,numRows:U.length,table:a,tableProps:l};return b.jsxs(b.Fragment,{children:[!(x!=null&&x.includes("sticky"))&&d("top")&&b.jsx($2,Object.assign({},$,{__vars:Object.assign({"--mrt-table-head-height":`${L}`},$==null?void 0:$.__vars),className:yt(Cd.pinned,(y==null?void 0:y.startsWith("grid"))&&Cd["root-grid"],$==null?void 0:$.className),children:p().map((F,H)=>{const G=Object.assign(Object.assign({},W),{renderedRowIndex:H,row:F});return w==="rows"?b.jsx(pz,Object.assign({},G),F.id):b.jsx(BD,Object.assign({},G),F.id)})})),b.jsx($2,Object.assign({},$,{__vars:Object.assign({"--mrt-table-body-height":N?`${N.getTotalSize()}px`:void 0},$==null?void 0:$.__vars),className:yt(Cd.root,(y==null?void 0:y.startsWith("grid"))&&Cd["root-grid"],!U.length&&Cd["root-no-rows"],N&&Cd["root-virtualized"],$==null?void 0:$.className),children:(r=$==null?void 0:$.children)!==null&&r!==void 0?r:U.length?b.jsx(b.Fragment,{children:(V??U).map((F,H)=>{if(N)if(E){if(F.index%2===1)return null;H=F.index/2}else H=F.index;const G=N?U[H]:F,X=Object.assign(Object.assign({},W),{pinnedRowIds:z,renderedRowIndex:H,row:G,rowVirtualizer:N,virtualRow:N?F:void 0}),ie=`${G.id}-${G.index}`;return w==="rows"?b.jsx(pz,Object.assign({},X),ie):b.jsx(BD,Object.assign({},X),ie)})}):b.jsx("tr",{className:yt("mrt-table-body-row",(y==null?void 0:y.startsWith("grid"))&&Cd["empty-row-tr-grid"]),children:b.jsx("td",{className:yt("mrt-table-body-cell",(y==null?void 0:y.startsWith("grid"))&&Cd["empty-row-td-grid"]),colSpan:a.getVisibleLeafColumns().length,children:(i=S==null?void 0:S({table:a}))!==null&&i!==void 0?i:b.jsx(nt,{__vars:{"--mrt-paper-width":`${(s=P.current)===null||s===void 0?void 0:s.clientWidth}`},className:yt(Cd["empty-row-td-content"]),children:D||k.length?v.noResultsFound:v.noRecordsToDisplay})})})})),!(x!=null&&x.includes("sticky"))&&d("bottom")&&b.jsx($2,Object.assign({},$,{__vars:Object.assign({"--mrt-table-footer-height":`${B}`},$==null?void 0:$.__vars),className:yt(Cd.pinned,(y==null?void 0:y.startsWith("grid"))&&Cd["root-grid"],$==null?void 0:$.className),children:c().map((F,H)=>{const G=Object.assign(Object.assign({},W),{renderedRowIndex:H,row:F});return w==="rows"?b.jsx(pz,Object.assign({},G),F.id):b.jsx(BD,Object.assign({},G),F.id)})}))]})},iUt=A.memo(zLe,(e,t)=>e.table.options.data===t.table.options.data);var mz={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},a0e={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},gz={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const sUt=e=>{var t,n,r,i,s,{footer:o,renderedColumnIndex:a,table:l}=e,u=on(e,["footer","renderedColumnIndex","table"]);const c=El(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:p}=o,{columnDef:m}=p,{columnDefType:g}=m,y=d&&m.columnDefType!=="group"&&p.getIsPinned(),v={column:p,table:l},_=Object.assign(Object.assign(Object.assign({},_t(h,v)),_t(m.mantineTableFooterCellProps,v)),u),w={minWidth:`max(calc(var(--header-${ff(o==null?void 0:o.id)}-size) * 1px), ${(t=m.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${ff(o.id)}-size) * 1px)`};return f==="grid"?w.flex=`${[0,!1].includes(m.grow)?0:`var(--header-${ff(o.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(w.flex=`${+(m.grow||0)} 0 auto`),b.jsx(HE,Object.assign({colSpan:o.colSpan,"data-column-pinned":y||void 0,"data-first-right-pinned":y==="right"&&p.getIsFirstColumn(y)||void 0,"data-index":a,"data-last-left-pinned":y==="left"&&p.getIsLastColumn(y)||void 0},_,{__vars:Object.assign({"--mrt-cell-align":(n=_.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":y==="left"?`${p.getStart(y)}`:void 0,"--mrt-table-cell-right":y==="right"?`${p.getAfter(y)}`:void 0},_==null?void 0:_.__vars),className:yt(gz.root,(f==null?void 0:f.startsWith("grid"))&&gz.grid,g==="group"&&gz.group,_==null?void 0:_.className),style:E=>Object.assign(Object.assign({},w),_t(_.style,E)),children:(r=_.children)!==null&&r!==void 0?r:o.isPlaceholder?null:(s=(i=_t(m.Footer,{column:p,footer:o,table:l}))!==null&&i!==void 0?i:m.footer)!==null&&s!==void 0?s:null}))},oUt=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,s=on(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:o,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},_t(a,{footerGroup:r,table:i})),s);return b.jsxs(Sm,Object.assign({className:yt(a0e.root,(o==null?void 0:o.startsWith("grid"))&&a0e["layout-mode-grid"])},d,{children:[u?b.jsx(be,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let p=f;return n&&(h=f.index,p=r.headers[h]),b.jsx(sUt,{footer:p,renderedColumnIndex:h,table:i},p.id)}),c?b.jsx(be,{component:"th",display:"flex",w:c}):null]}))},aUt=e=>{var{columnVirtualizer:t,table:n}=e,r=on(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:s,options:{enableStickyFooter:o,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=s(),d=Object.assign(Object.assign({},_t(l,{table:n})),r),f=(c||o)&&o!==!1;return b.jsx(cX,Object.assign({},d,{className:yt(mz.root,d==null?void 0:d.className,f&&mz.sticky,(a==null?void 0:a.startsWith("grid"))&&mz.grid),ref:h=>{u.current=h,d!=null&&d.ref&&(d.ref.current=h)},children:i().map(h=>b.jsx(oUt,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var zg={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},yz={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},ko={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},lUt={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"},uUt={root:"MRT_FilterCheckBox-module_root__59h9r"};const cUt=e=>{var t,n,r,{column:i,table:s}=e,o=on(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=s,{density:c}=a(),{columnDef:d}=i,f={column:i,table:s},h=Object.assign(Object.assign(Object.assign({},_t(u,f)),_t(d.mantineFilterCheckboxProps,f)),o),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),m=i.getFilterValue();return b.jsx(dn,{label:(n=h==null?void 0:h.title)!==null&&n!==void 0?n:p,openDelay:1e3,withinPortal:!0,children:b.jsx(yf,Object.assign({checked:m==="true",className:yt("mrt-filter-checkbox",uUt.root),indeterminate:m===void 0,label:(r=h.title)!==null&&r!==void 0?r:p,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var y;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(y=h==null?void 0:h.onChange)===null||y===void 0||y.call(h,g)},onClick:g=>{var y;g.stopPropagation(),(y=h==null?void 0:h.onClick)===null||y===void 0||y.call(h,g)},title:void 0}))})};var dUt={root:"MRT_FilterRangeFields-module_root__KfCcg"},sC={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const zq=e=>{var t,n,r,i,s,o,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=on(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:p,icons:{IconX:m},localization:g,mantineFilterAutocompleteProps:y,mantineFilterDateInputProps:v,mantineFilterMultiSelectProps:_={clearable:!0},mantineFilterSelectProps:w,mantineFilterTextInputProps:E,manualFiltering:S},refs:{filterInputRefs:x},setColumnFilterFns:T}=d,{column:I}=u,{columnDef:P}=I,k={column:I,rangeFilterIndex:c,table:d},D=Object.assign(Object.assign(Object.assign({},_t(E,k)),_t(P.mantineFilterTextInputProps,k)),f),R=Object.assign(Object.assign({},_t(w,k)),_t(P.mantineFilterSelectProps,k)),M=Object.assign(Object.assign({},_t(_,k)),_t(P.mantineFilterMultiSelectProps,k)),$=Object.assign(Object.assign({},_t(v,k)),_t(P.mantineFilterDateInputProps,k)),L=Object.assign(Object.assign({},_t(y,k)),_t(P.mantineFilterAutocompleteProps,k)),B=P.filterVariant==="range"||P.filterVariant==="date-range"||c!==void 0,z=P.filterVariant==="select",U=P.filterVariant==="multi-select",N=P.filterVariant==="date"||P.filterVariant==="date-range",V=P.filterVariant==="autocomplete",W=(t=P==null?void 0:P.columnFilterModeOptions)!==null&&t!==void 0?t:p,F=P._filterFn,H=["empty","notEmpty"].includes(F)?Yte(g,F):"",G=B?c===0?g.min:c===1?g.max:"":(n=D==null?void 0:D.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(P.header)),X=I.getFacetedUniqueValues(),ie=A.useMemo(()=>{var ne,Ee,Pe;return((Pe=(Ee=(ne=L==null?void 0:L.data)!==null&&ne!==void 0?ne:R==null?void 0:R.data)!==null&&Ee!==void 0?Ee:M==null?void 0:M.data)!==null&&Pe!==void 0?Pe:(V||z||U)&&X?Array.from(X.keys()).filter(Je=>Je!==null).sort((Je,qe)=>Je.localeCompare(qe)):[]).filter(Je=>Je!=null)},[L==null?void 0:L.data,X,V,U,z,M==null?void 0:M.data,R==null?void 0:R.data]),oe=A.useRef(!1),[se,le]=A.useState(()=>{var ne,Ee;return U?I.getFilterValue()||[]:B?((ne=I.getFilterValue())===null||ne===void 0?void 0:ne[c])||"":(Ee=I.getFilterValue())!==null&&Ee!==void 0?Ee:""}),[Se]=Owe(se,S?400:200);A.useEffect(()=>{oe.current&&(B?I.setFilterValue(ne=>{const Ee=Array.isArray(ne)?ne:["",""];return Ee[c]=Se,Ee}):I.setFilterValue(Se??void 0))},[Se]),A.useEffect(()=>{if(!oe.current){oe.current=!0;return}const ne=I.getFilterValue();ne===void 0?de():le(B&&c!==void 0?(ne??["",""])[c]:ne??"")},[I.getFilterValue()]);const de=()=>{U?(le([]),I.setFilterValue([])):B?(le(""),I.setFilterValue(ne=>{const Ee=Array.isArray(ne)?ne:["",""];return Ee[c]=void 0,Ee})):(le(""),I.setFilterValue(void 0))};if(P.Filter)return b.jsx(b.Fragment,{children:(i=P.Filter)===null||i===void 0?void 0:i.call(P,{column:I,header:u,rangeFilterIndex:c,table:d})});const De=()=>{le(""),I.setFilterValue(void 0),T(ne=>{var Ee;return Object.assign(Object.assign({},ne),{[u.id]:(Ee=W==null?void 0:W[0])!==null&&Ee!==void 0?Ee:"fuzzy"})})},Fe={"aria-label":G,className:yt("mrt-filter-text-input",sC.root,N?sC["date-filter"]:B?sC["range-filter"]:!H&&sC["not-filter-chip"]),disabled:!!H,onChange:le,onClick:ne=>ne.stopPropagation(),placeholder:G,style:Object.assign({},U?M==null?void 0:M.style:z?R==null?void 0:R.style:N?$==null?void 0:$.style:D==null?void 0:D.style),title:G,value:se,variant:"unstyled"},{className:Be}=Fe,je=on(Fe,["className"]),me=se?b.jsx(Fn,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:de,size:"sm",title:(s=g.clearFilter)!==null&&s!==void 0?s:"",variant:"transparent",children:b.jsx(m,{})}):null;return H?b.jsx(be,{style:je.style,children:b.jsx(xm,{className:sC["filter-chip-badge"],onClick:De,rightSection:me,size:"lg",children:H})}):U?b.jsx(VF,Object.assign({},je,{searchable:!0},M,{className:yt(Be,M.className),data:ie,onChange:ne=>le(ne),ref:ne=>{ne&&(x.current[`${I.id}-${c??0}`]=ne,M.ref&&(M.ref.current=ne))},rightSection:!((o=se==null?void 0:se.toString())===null||o===void 0)&&o.length&&(M!=null&&M.clearable)?me:void 0,style:je.style})):z?b.jsx(nu,Object.assign({},je,{clearable:!0,searchable:!0},R,{className:yt(Be,R.className),clearButtonProps:{size:"md"},data:ie,ref:ne=>{ne&&(x.current[`${I.id}-${c??0}`]=ne,R.ref&&(R.ref.current=ne))},style:je.style})):N?b.jsx(zte,Object.assign({},je,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},$,{className:yt(Be,$.className),onChange:ne=>je.onChange(ne===null?"":ne),ref:ne=>{ne&&(x.current[`${I.id}-${c??0}`]=ne,$.ref&&($.ref.current=ne))},style:je.style})):V?b.jsx(AK,Object.assign({},je,{onChange:ne=>le(ne),rightSection:!((a=se==null?void 0:se.toString())===null||a===void 0)&&a.length?me:void 0},L,{className:yt(Be,L.className),data:ie,ref:ne=>{ne&&(x.current[`${I.id}-${c??0}`]=ne,L.ref&&(L.ref.current=ne))},style:je.style})):b.jsx(sf,Object.assign({},je,{onChange:ne=>le(ne.target.value),rightSection:!((l=se==null?void 0:se.toString())===null||l===void 0)&&l.length?me:void 0},D,{className:yt(Be,D.className),mt:0,ref:ne=>{ne&&(x.current[`${I.id}-${c??0}`]=ne,D.ref&&(D.ref.current=ne))},style:je.style}))},fUt=e=>{var{header:t,table:n}=e,r=on(e,["header","table"]);return b.jsxs(be,Object.assign({},r,{className:yt("mrt-filter-range-fields",dUt.root,r.className),children:[b.jsx(zq,{header:t,rangeFilterIndex:0,table:n}),b.jsx(zq,{header:t,rangeFilterIndex:1,table:n})]}))};var hUt={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const pUt=e=>{var t,{header:n,table:r}=e,i=on(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:s},refs:{filterInputRefs:o}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},_t(s,u)),_t(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,p]=A.useState([d,f]),m=a.getFilterValue(),g=A.useRef(!1);return A.useEffect(()=>{g.current&&(m===void 0?p([d,f]):Array.isArray(m)&&p(m)),g.current=!0},[m,d,f]),b.jsx(JA,Object.assign({className:yt("mrt-filter-range-slider",hUt.root),max:f,min:d,onChange:y=>{p(y)},onChangeEnd:y=>{Array.isArray(y)&&(y[0]<=d&&y[1]>=f?a.setFilterValue(void 0):a.setFilterValue(y))},value:h},c,{ref:y=>{y&&(o.current[`${a.id}-0`]=y,c!=null&&c.ref&&(c.ref=y))}}))};var mUt={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const gUt=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:"≈"},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:"≠"},{divider:!1,label:e.filterBetween,option:"between",symbol:"⇿"},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:"⬌"},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:"≥"},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:"≤"},{divider:!1,label:e.filterEmpty,option:"empty",symbol:"∅"},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!∅"}],lO=["between","betweenInclusive","inNumberRange"],vz=["empty","notEmpty"],yUt=["arrIncludesSome","arrIncludesAll","arrIncludes"],l0e=["range-slider","date-range","range"],ULe=({header:e,onSelect:t,table:n})=>{var r,i,s,o;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:p}=n,{globalFilterFn:m}=a(),{column:g}=e??{},{columnDef:y}=g??{},v=g==null?void 0:g.getFilterValue();let _=(r=y==null?void 0:y.columnFilterModeOptions)!==null&&r!==void 0?r:l;l0e.includes(y==null?void 0:y.filterVariant)&&(_=[...lO,..._??[]].filter(x=>lO.includes(x)));const w=A.useMemo(()=>gUt(c).filter(x=>y?_===void 0||(_==null?void 0:_.includes(x.option)):(!u||u.includes(x.option))&&["contains","fuzzy","startsWith"].includes(x.option)),[]),E=x=>{var T;const I=(T=y==null?void 0:y._filterFn)!==null&&T!==void 0?T:"";!e||!g?p(x):x!==I&&(h(P=>Object.assign(Object.assign({},P),{[e.id]:x})),vz.includes(x)?v!==" "&&!vz.includes(I)?g.setFilterValue(" "):v&&g.setFilterValue(v):(y==null?void 0:y.filterVariant)==="multi-select"||yUt.includes(x)?v instanceof String||v!=null&&v.length?g.setFilterValue([]):v&&g.setFilterValue(v):l0e.includes(y==null?void 0:y.filterVariant)||lO.includes(x)?!Array.isArray(v)||!(v!=null&&v.every(P=>P===""))&&!lO.includes(I)?g.setFilterValue(["",""]):g.setFilterValue(v):Array.isArray(v)?g.setFilterValue(""):v===" "&&vz.includes(I)?g.setFilterValue(void 0):g.setFilterValue(v)),t==null||t()},S=e&&y?y._filterFn:m;return b.jsx(cn.Dropdown,{children:(o=e&&g&&y?(s=(i=y.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(y,{column:g,internalFilterOptions:w,onSelectFilterMode:E,table:n}))!==null&&s!==void 0?s:d==null?void 0:d({column:g,internalFilterOptions:w,onSelectFilterMode:E,table:n}):f==null?void 0:f({internalFilterOptions:w,onSelectFilterMode:E,table:n}))!==null&&o!==void 0?o:w.map(({divider:x,label:T,option:I,symbol:P},k)=>b.jsxs(A.Fragment,{children:[b.jsx(cn.Item,{color:I===S?"blue":void 0,leftSection:b.jsx("span",{className:mUt.symbol,children:P}),onClick:()=>E(I),value:I,children:T}),x&&b.jsx(cn.Divider,{})]},k))})},VLe=e=>{var t,n,{header:r,table:i}=e,s=on(e,["header","table"]);const{getState:o,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=o(),{column:p}=r,{columnDef:m}=p,g=m._filterFn,y=(t=m==null?void 0:m.columnFilterModeOptions)!==null&&t!==void 0?t:l,v=u&&m.enableColumnFilterModes!==!1&&(y===void 0||!!(y!=null&&y.length));return b.jsx(Gb,{in:h||a==="popover",children:b.jsxs(It,Object.assign({direction:"column"},s,{children:[b.jsxs(It,{align:"flex-end",children:[m.filterVariant==="checkbox"?b.jsx(cUt,{column:p,table:i}):m.filterVariant==="range-slider"?b.jsx(pUt,{header:r,table:i}):["date-range","range"].includes((n=m.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(m._filterFn)?b.jsx(fUt,{header:r,table:i}):b.jsx(zq,{header:r,table:i}),v&&b.jsxs(cn,{withinPortal:a!=="popover",children:[b.jsx(dn,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:b.jsx(cn.Target,{children:b.jsx(Fn,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:b.jsx(c,{})})})}),b.jsx(ULe,{header:r,onSelect:()=>setTimeout(()=>{var _;return(_=f.current[`${p.id}-0`])===null||_===void 0?void 0:_.focus()},100),table:i})]})]}),v?b.jsx(nt,{c:"dimmed",className:lUt["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",Yte(d,g))}):null]}))})};var vUt={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const bUt=e=>{var t,n,r,{header:i,table:s}=e,o=on(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=s,{column:f}=i,{columnDef:h}=f,p=f.getFilterValue(),[m,g]=A.useState(!1),y=Array.isArray(p)&&p.some(Boolean)||!!p&&!Array.isArray(p),v=h.filterVariant==="range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),_=h._filterFn,w=a==="popover"&&!y?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",Yte(u,_)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().join(`" ${v?u.and:u.or} "`):f.getFilterValue()}"`).replace('" "',"");return b.jsx(b.Fragment,{children:b.jsxs($n,{keepMounted:h.filterVariant==="range-slider",onClose:()=>g(!1),opened:m,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[b.jsx(Pf,{mounted:a==="popover"||!!f.getFilterValue()&&!v||v&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>b.jsx($n.Target,{children:b.jsx(dn,{disabled:m,label:w,multiline:!0,w:w.length>40?300:void 0,withinPortal:!0,children:b.jsx(Fn,Object.assign({className:yt("mrt-table-head-cell-filter-label-icon",vUt.root),size:18},Q3("active",y),{onClick:E=>{E.stopPropagation(),a==="popover"?g(S=>!S):d(!0),setTimeout(()=>{const S=c.current[`${f.id}-0`];S==null||S.focus(),S==null||S.select()},100)}},o,{children:b.jsx(l,{size:"100%"})}))})})}),a==="popover"&&b.jsx($n.Dropdown,{onClick:E=>E.stopPropagation(),onKeyDown:E=>E.key==="Enter"&&g(!1),onMouseDown:E=>E.stopPropagation(),children:b.jsx(VLe,{header:i,table:s})})]})})},_Ut=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=on(e,["column","table","tableHeadCellRef"]);const{getState:s,options:{enableColumnOrdering:o,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:p}=s(),m={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},_t(a,m)),_t(d.mantineColumnDragHandleProps,m)),i),y=_=>{var w;(w=g==null?void 0:g.onDragStart)===null||w===void 0||w.call(g,_),u(t),_.dataTransfer.setDragImage(r.current,0,0)},v=_=>{var w;(w=g==null?void 0:g.onDragEnd)===null||w===void 0||w.call(g,_),(p==null?void 0:p.id)==="drop-zone"?t.toggleGrouping():o&&p&&(p==null?void 0:p.id)!==(h==null?void 0:h.id)&&l(yLe(t,p,f)),u(null),c(null)};return b.jsx(Kte,{actionIconProps:g,onDragEnd:v,onDragStart:y,table:n})};var bz={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const wUt=e=>{var t,{header:n,table:r}=e,i=on(e,["header","table"]);const{getState:s,options:{columnResizeDirection:o,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=s(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(o==="rtl"?-1:1)*((t=s().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return b.jsx(be,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:yt("mrt-table-head-cell-resize-handle",bz.root,bz[`root-${o}`],!n.subHeaders.length&&a==="onChange"&&bz["root-hide"],u,i.className)}))};var u0e={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const EUt=e=>{var{header:t,table:n}=e,r=on(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:s,IconSortAscending:o,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),p=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),m=b.jsx(Fn,Object.assign({"aria-label":p},Q3("sorted",f),r,{className:yt("mrt-table-head-sort-button",u0e["sort-icon"],r.className),children:f==="desc"?b.jsx(a,{size:"100%"}):f==="asc"?b.jsx(o,{size:"100%"}):b.jsx(s,{size:"100%"})}));return b.jsx(dn,{label:p,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?m:b.jsx(BK,{className:yt("mrt-table-head-multi-sort-indicator",u0e["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:m})})};var c0e={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const xUt=e=>{var t,n,r,i,s,o,a,l,u,c,{header:d,table:f}=e,h=on(e,["header","table"]);const{getState:p,options:{columnFilterDisplayMode:m,enableColumnFilters:g,enableColumnPinning:y,enableColumnResizing:v,enableGrouping:_,enableHiding:w,enableSorting:E,enableSortingRemoval:S,icons:{IconArrowAutofitContent:x,IconBoxMultiple:T,IconClearAll:I,IconColumns:P,IconDotsVertical:k,IconEyeOff:D,IconFilter:R,IconFilterOff:M,IconPinned:$,IconPinnedOff:L,IconSortAscending:B,IconSortDescending:z},localization:U,mantineColumnActionsButtonProps:N,renderColumnActionsMenuItems:V},refs:{filterInputRefs:W},setColumnOrder:F,setColumnSizingInfo:H,setShowColumnFilters:G,toggleAllColumnsVisible:X}=f,{column:ie}=d,{columnDef:oe}=ie,{columnSizing:se,columnVisibility:le}=p(),Se={column:ie,table:f},de=Object.assign(Object.assign({},_t(N,Se)),_t(oe.mantineColumnActionsButtonProps,Se)),De=()=>{ie.clearSorting()},Fe=()=>{ie.toggleSorting(!1)},Be=()=>{ie.toggleSorting(!0)},je=()=>{H(Qe=>Object.assign(Object.assign({},Qe),{isResizingColumn:!1})),ie.resetSize()},me=()=>{ie.toggleVisibility(!1)},ne=Qe=>{ie.pin(Qe)},Ee=()=>{ie.toggleGrouping(),F(Qe=>["mrt-row-expand",...Qe])},Pe=()=>{ie.setFilterValue("")},Je=()=>{G(!0),setTimeout(()=>{var Qe;return(Qe=W.current[`${ie.id}-0`])===null||Qe===void 0?void 0:Qe.focus()},100)},qe=()=>{X(!0)},_e=b.jsxs(b.Fragment,{children:[E&&ie.getCanSort()&&b.jsxs(b.Fragment,{children:[S!==!1&&b.jsx(cn.Item,{disabled:!ie.getIsSorted(),leftSection:b.jsx(I,{}),onClick:De,children:U.clearSort}),b.jsx(cn.Item,{disabled:ie.getIsSorted()==="asc",leftSection:b.jsx(B,{}),onClick:Fe,children:(t=U.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(oe.header))}),b.jsx(cn.Item,{disabled:ie.getIsSorted()==="desc",leftSection:b.jsx(z,{}),onClick:Be,children:(n=U.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(oe.header))}),(g||_||w)&&b.jsx(cn.Divider,{},3)]}),g&&m!=="popover"&&ie.getCanFilter()&&b.jsxs(b.Fragment,{children:[b.jsx(cn.Item,{disabled:!ie.getFilterValue(),leftSection:b.jsx(M,{}),onClick:Pe,children:U.clearFilter}),b.jsx(cn.Item,{leftSection:b.jsx(R,{}),onClick:Je,children:(r=U.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(oe.header))}),(_||w)&&b.jsx(cn.Divider,{},2)]}),_&&ie.getCanGroup()&&b.jsxs(b.Fragment,{children:[b.jsx(cn.Item,{leftSection:b.jsx(T,{}),onClick:Ee,children:(i=U[ie.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(oe.header))}),y&&b.jsx(cn.Divider,{})]}),y&&ie.getCanPin()&&b.jsxs(b.Fragment,{children:[b.jsx(cn.Item,{disabled:ie.getIsPinned()==="left"||!ie.getCanPin(),leftSection:b.jsx($,{className:c0e.left}),onClick:()=>ne("left"),children:U.pinToLeft}),b.jsx(cn.Item,{disabled:ie.getIsPinned()==="right"||!ie.getCanPin(),leftSection:b.jsx($,{className:c0e.right}),onClick:()=>ne("right"),children:U.pinToRight}),b.jsx(cn.Item,{disabled:!ie.getIsPinned(),leftSection:b.jsx(L,{}),onClick:()=>ne(!1),children:U.unpin}),w&&b.jsx(cn.Divider,{})]}),v&&ie.getCanResize()&&b.jsx(cn.Item,{disabled:!se[ie.id],leftSection:b.jsx(x,{}),onClick:je,children:U.resetColumnSize},0),w&&b.jsxs(b.Fragment,{children:[b.jsx(cn.Item,{disabled:!ie.getCanHide(),leftSection:b.jsx(D,{}),onClick:me,children:(s=U.hideColumn)===null||s===void 0?void 0:s.replace("{column}",String(oe.header))},0),b.jsx(cn.Item,{disabled:!Object.values(le).filter(Qe=>!Qe).length,leftSection:b.jsx(P,{}),onClick:qe,children:(o=U.showAllColumns)===null||o===void 0?void 0:o.replace("{column}",String(oe.header))},1)]})]});return b.jsxs(cn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[b.jsx(dn,{label:(a=de==null?void 0:de.title)!==null&&a!==void 0?a:U.columnActions,openDelay:1e3,withinPortal:!0,children:b.jsx(cn.Target,{children:b.jsx(Fn,Object.assign({"aria-label":U.columnActions,color:"gray",size:"sm",variant:"subtle"},de,{children:b.jsx(k,{size:"100%"})}))})}),b.jsx(cn.Dropdown,{children:(c=(u=(l=oe.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(oe,{column:ie,internalColumnMenuItems:_e,table:f}))!==null&&u!==void 0?u:V==null?void 0:V({column:ie,internalColumnMenuItems:_e,table:f}))!==null&&c!==void 0?c:_e})]}))},SUt=e=>{var t,n,r,i,s,o,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=on(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=El(),{getState:h,options:{columnFilterDisplayMode:p,columnResizeDirection:m,columnResizeMode:g,enableColumnActions:y,enableColumnDragging:v,enableColumnOrdering:_,enableColumnPinning:w,enableGrouping:E,enableHeaderActionsHoverReveal:S,enableMultiSort:x,layoutMode:T,mantineTableHeadCellProps:I},refs:{tableHeadCellRefs:P},setHoveredColumn:k}=c,{columnSizingInfo:D,draggingColumn:R,grouping:M,hoveredColumn:$}=h(),{column:L}=l,{columnDef:B}=L,{columnDefType:z}=B,U={column:L,table:c},N=Object.assign(Object.assign(Object.assign({},_t(I,U)),_t(B.mantineTableHeadCellProps,U)),d),V={minWidth:`max(calc(var(--header-${ff(l==null?void 0:l.id)}-size) * 1px), ${(t=B.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${ff(l.id)}-size) * 1px)`};T==="grid"?V.flex=`${[0,!1].includes(B.grow)?0:`var(--header-${ff(l.id)}-size)`} 0 auto`:T==="grid-no-grow"&&(V.flex=`${+(B.grow||0)} 0 auto`);const W=w&&B.columnDefType!=="group"&&L.getIsPinned(),F=(R==null?void 0:R.id)===L.id,H=($==null?void 0:$.id)===L.id,{hovered:G,ref:X}=nqe(),[ie,oe]=A.useState(!1),se=(y||B.enableColumnActions)&&B.enableColumnActions!==!1,le=!S||ie||G&&!c.getVisibleFlatColumns().find(Be=>Be.getIsResizing()),Se=v!==!1&&B.enableColumnDragging!==!1&&(v||_&&B.enableColumnOrdering!==!1||E&&B.enableGrouping!==!1&&!M.includes(L.id))&&le,de=A.useMemo(()=>{let Be=0;return L.getCanSort()&&Be++,le&&(Be+=1.75),Se&&(Be+=1.25),Be},[le,Se]),De=Be=>{E&&($==null?void 0:$.id)==="drop-zone"&&k(null),_&&R&&z!=="group"&&k(B.enableColumnOrdering!==!1?L:null)},Fe=(B==null?void 0:B.Header)instanceof Function?(n=B==null?void 0:B.Header)===null||n===void 0?void 0:n.call(B,{column:L,header:l,table:c}):(r=B==null?void 0:B.Header)!==null&&r!==void 0?r:B.header;return b.jsxs(HE,Object.assign({colSpan:l.colSpan,"data-column-pinned":W||void 0,"data-dragging-column":F||void 0,"data-first-right-pinned":W==="right"&&L.getIsFirstColumn(W)||void 0,"data-hovered-column-target":H||void 0,"data-index":u,"data-last-left-pinned":W==="left"&&L.getIsLastColumn(W)||void 0,"data-resizing":g==="onChange"&&(D==null?void 0:D.isResizingColumn)===L.id&&m||void 0},N,{__vars:{"--mrt-table-cell-left":W==="left"?`${L.getStart(W)}`:void 0,"--mrt-table-cell-right":W==="right"?`${L.getAfter(W)}`:void 0},align:z==="group"?"center":f.dir==="rtl"?"right":"left",className:yt(ko.root,(T==null?void 0:T.startsWith("grid"))&&ko["root-grid"],x&&L.getCanSort()&&ko["root-no-select"],a&&ko["root-virtualized"],N==null?void 0:N.className),onDragEnter:De,ref:Be=>{var je;Be&&(P.current[L.id]=Be,X.current=Be,z!=="group"&&((je=a==null?void 0:a.measureElement)===null||je===void 0||je.call(a,Be)))},style:Be=>Object.assign(Object.assign({},V),_t(N==null?void 0:N.style,Be)),children:[l.isPlaceholder?null:(i=N.children)!==null&&i!==void 0?i:b.jsxs(It,{className:yt("mrt-table-head-cell-content",ko.content,(z==="group"||(N==null?void 0:N.align)==="center")&&ko["content-center"],(N==null?void 0:N.align)==="right"&&ko["content-right"],L.getCanResize()&&ko["content-spaced"]),children:[b.jsxs(It,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${de}`},className:yt("mrt-table-head-cell-labels",ko.labels,L.getCanSort()&&z!=="group"&&ko["labels-sortable"],(N==null?void 0:N.align)==="right"?ko["labels-right"]:(N==null?void 0:N.align)==="center"&&ko["labels-center"],z==="data"&&ko["labels-data"]),onClick:L.getToggleSortingHandler(),children:[b.jsx(It,{className:yt("mrt-table-head-cell-content-wrapper",ko["content-wrapper"],z==="data"&&ko["content-wrapper-hidden-overflow"],((o=(s=B.header)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0)<20&&ko["content-wrapper-nowrap"]),children:Fe}),L.getCanFilter()&&(L.getIsFiltered()||le)&&b.jsx(bUt,{header:l,table:c}),L.getCanSort()&&(L.getIsSorted()||le)&&b.jsx(EUt,{header:l,table:c})]}),z!=="group"&&b.jsxs(It,{className:yt("mrt-table-head-cell-content-actions",ko["content-actions"]),children:[Se&&b.jsx(_Ut,{column:L,table:c,tableHeadCellRef:{current:P.current[L.id]}}),se&&le&&b.jsx(xUt,{header:l,table:c,opened:ie,onChange:oe})]}),L.getCanResize()&&b.jsx(wUt,{header:l,table:c})]}),p==="subheader"&&L.getCanFilter()&&b.jsx(VLe,{header:l,table:c})]}))},TUt=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=on(e,["columnVirtualizer","headerGroup","table"]);const{getState:s,options:{enableStickyHeader:o,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=s(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},_t(l,{headerGroup:n,table:r})),i);return b.jsxs(Sm,Object.assign({},h,{className:yt(yz.root,(o||u)&&yz.sticky,(a==null?void 0:a.startsWith("grid"))&&yz["layout-mode-grid"],h==null?void 0:h.className),children:[d?b.jsx(be,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((p,m)=>{let g=p;return t&&(m=p.index,g=n.headers[m]),b.jsx(SUt,{columnVirtualizer:t,header:g,renderedHeaderIndex:m,table:r},g.id)}),f?b.jsx(be,{component:"th",display:"flex",w:f}):null]}))};var Y_={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const Xte=e=>{var t,n,r,{stackAlertBanner:i,table:s}=e,o=on(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:p,mantineToolbarAlertBannerProps:m,manualPagination:g,positionToolbarAlertBanner:y,renderToolbarAlertBannerContent:v,rowCount:_}}=s,{density:w,grouping:E,rowSelection:S,showAlertBanner:x}=u(),T=Object.assign(Object.assign({},_t(m,{table:s})),o),I=_t(p,{table:s}),P=_??l().flatRows.length,k=A.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,P,g]),D=k?b.jsxs(It,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",k.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",P.toString()),b.jsx(hn,{onClick:M=>TLe({table:s})(M,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,R=E.length>0?b.jsxs(It,{children:[h.groupedBy," ",E.map((M,$)=>b.jsxs(A.Fragment,{children:[$>0?h.thenBy:"",b.jsxs(xm,Object.assign({className:Y_["alert-badge"],rightSection:b.jsx(Fn,{color:"white",onClick:()=>s.getColumn(M).toggleGrouping(),size:"xs",variant:"subtle",children:b.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},I,{children:[s.getColumn(M).columnDef.header," "]}))]},`${$}-${M}`))]}):null;return b.jsx(Gb,{in:x||!!D||!!R,transitionDuration:i?200:0,children:b.jsx(aS,Object.assign({color:"blue",icon:!1},T,{className:yt(Y_.alert,i&&!y&&Y_["alert-stacked"],!i&&y==="bottom"&&Y_["alert-bottom"],T==null?void 0:T.className),children:(r=v==null?void 0:v({groupedAlert:R,selectedAlert:D,table:s}))!==null&&r!==void 0?r:b.jsxs(It,{className:yt(Y_["toolbar-alert"],y==="head-overlay"&&Y_["head-overlay"],w),children:[c&&d&&y==="head-overlay"&&b.jsx(Bq,{table:s}),b.jsxs(Jr,{children:[T==null?void 0:T.children,D,R]})]})}))})},CUt=e=>{var{columnVirtualizer:t,table:n}=e,r=on(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:s,getState:o,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=o(),p=Object.assign(Object.assign({},_t(u,{table:n})),r),m=a||f;return b.jsx(uX,Object.assign({},p,{className:yt(zg.root,l!=null&&l.startsWith("grid")?zg["root-grid"]:zg["root-table-row-group"],m&&zg["root-sticky"],p==null?void 0:p.className),pos:m&&(l!=null&&l.startsWith("grid"))?"sticky":"relative",ref:g=>{d.current=g,p!=null&&p.ref&&(p.ref.current=g)},children:c==="head-overlay"&&(h||s().rows.length>0)?b.jsx(Sm,{className:yt(zg["banner-tr"],(l==null?void 0:l.startsWith("grid"))&&zg.grid),children:b.jsx(HE,{className:yt(zg["banner-th"],(l==null?void 0:l.startsWith("grid"))&&zg.grid),colSpan:n.getVisibleLeafColumns().length,children:b.jsx(Xte,{table:n})})}):i().map(g=>b.jsx(TUt,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))},AUt=e=>{var{table:t}=e,n=on(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:s,enableTableFooter:o,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:p}=i(),m=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:p,verticalSpacing:p},_t(u,{table:t})),n),g=A.useMemo(()=>{const E=r(),S={};for(let x=0;x<E.length;x++){const T=E[x],I=T.getSize();S[`--header-${ff(T.id)}-size`]=I,S[`--col-${ff(T.column.id)}-size`]=I}return S},[s,d,f,h]),v={columnVirtualizer:K7t(t),table:t},{colorScheme:_}=nWe(),{stripedColor:w}=m;return b.jsxs(or,Object.assign({className:yt("mrt-table",s0e.root,(l==null?void 0:l.startsWith("grid"))&&s0e["root-grid"],m.className)},m,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":w,"--mrt-striped-row-hover-background-color":w?_==="dark"?tWe(w,.08):kC(w,.12):void 0}),m.__vars),children:[a&&b.jsx(CUt,Object.assign({},v)),c==="table-body"||f.isResizingColumn?b.jsx(iUt,Object.assign({},v,{tableProps:m})):b.jsx(zLe,Object.assign({},v,{tableProps:m})),o&&b.jsx(aUt,Object.assign({},v))]}))},IUt=e=>{var t,{open:n,table:r}=e,i=on(e,["open","table"]);const{getState:s,options:{mantineCreateRowModalProps:o,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:p,editingRow:m}=s(),g=p??m,y={row:g,table:r},v=Object.assign(Object.assign(Object.assign({},_t(a,y)),p&&_t(o,y)),i),_=g.getAllCells().filter(E=>E.column.columnDef.columnDefType==="data").map(E=>b.jsx(jLe,{cell:E,table:r},E.id)),w=()=>{var E;p?(l==null||l({row:g,table:r}),f(null)):(u==null||u({row:g,table:r}),h(null)),g._valuesCache={},(E=v.onClose)===null||E===void 0||E.call(v)};return A.createElement(Ss,Object.assign({opened:n,withCloseButton:!1},v,{key:g.id,onClose:w}),(t=p&&(c==null?void 0:c({internalEditComponents:_,row:g,table:r}))||(d==null?void 0:d({internalEditComponents:_,row:g,table:r})))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[b.jsx("form",{onSubmit:E=>E.preventDefault(),children:b.jsx(Jr,{gap:"lg",pb:24,pt:16,children:_})}),b.jsx(It,{justify:"flex-end",children:b.jsx(MLe,{row:g,table:r,variant:"text"})})]}))},RUt=typeof window<"u"?A.useLayoutEffect:A.useEffect,kUt=e=>{var{table:t}=e,n=on(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableStickyHeader:o,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:p,isLoading:m,showLoadingOverlay:g}=r(),[y,v]=A.useState(0),_=Object.assign(Object.assign({},_t(l,{table:t})),n),w=_t(a,{table:t});RUt(()=>{var x,T,I,P;const k=typeof document<"u"&&(T=(x=d.current)===null||x===void 0?void 0:x.offsetHeight)!==null&&T!==void 0?T:0,D=typeof document<"u"&&(P=(I=u==null?void 0:u.current)===null||I===void 0?void 0:I.offsetHeight)!==null&&P!==void 0?P:0;v(k+D)});const E=i==="modal"&&f,S=s==="modal"&&h;return b.jsxs(be,Object.assign({},_,{__vars:Object.assign({"--mrt-top-toolbar-height":`${y}`},_==null?void 0:_.__vars),className:yt("mrt-table-container",dz.root,o&&dz["root-sticky"],p&&dz["root-fullscreen"],_==null?void 0:_.className),ref:x=>{x&&(c.current=x,_!=null&&_.ref&&(_.ref.current=x))},children:[b.jsx(uu,Object.assign({visible:m||g,zIndex:2},w)),b.jsx(AUt,{table:t}),(E||S)&&b.jsx(IUt,{open:!0,table:t})]}))};var oC={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},HLe={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},d0e={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const qLe=e=>{var{isTopToolbar:t,table:n}=e,r=on(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:s}}=n,{isSaving:o,showProgressBars:a}=i(),l=Object.assign(Object.assign({},_t(s,{isTopToolbar:t,table:n})),r);return b.jsx(Gb,{className:yt(d0e.collapse,t&&d0e["collapse-top"]),in:o||a,children:b.jsx(Kb,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var _z={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const f0e=[5,10,15,20,25,30,50,100].map(e=>e.toString()),WLe=e=>{var t,{position:n="bottom",table:r}=e,i=on(e,["position","table"]);const{getPrePaginationRowModel:s,getState:o,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:p,rowCount:m},setPageIndex:g,setPageSize:y}=r,{pagination:{pageIndex:v=0,pageSize:_=10},showGlobalFilter:w}=o(),E=Object.assign(Object.assign({},_t(h,{table:r})),i),S=m??s().rows.length,x=Math.ceil(S/_),T=x>2,I=v*_,P=Math.min(v*_+_,S),k=E??{},{rowsPerPageOptions:D=f0e,showRowsPerPage:R=!0,withEdges:M=T}=k,$=on(k,["rowsPerPageOptions","showRowsPerPage","withEdges"]),L=n==="top"&&a&&!w;return b.jsxs(be,{className:yt("mrt-table-pagination",_z.root,L&&_z["with-top-margin"]),children:[(E==null?void 0:E.showRowsPerPage)!==!1&&b.jsxs(Rn,{gap:"xs",children:[b.jsx(nt,{id:"rpp-label",children:f.rowsPerPage}),b.jsx(nu,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:_z.pagesize,data:(t=E==null?void 0:E.rowsPerPageOptions)!==null&&t!==void 0?t:f0e,onChange:B=>y(+B),value:_.toString()})]}),p==="pages"?b.jsx(Of,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:B=>g(B-1),previousIcon:l,total:x,value:v+1,withEdges:M},$)):p==="default"?b.jsxs(b.Fragment,{children:[b.jsx(nt,{children:`${P===0?0:(I+1).toLocaleString()}-${P.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),b.jsxs(Rn,{gap:6,children:[M&&b.jsx(Fn,{"aria-label":f.goToFirstPage,color:"gray",disabled:v<=0,onClick:()=>g(0),variant:"subtle",children:b.jsx(u,{})}),b.jsx(Fn,{"aria-label":f.goToPreviousPage,color:"gray",disabled:v<=0,onClick:()=>g(v-1),variant:"subtle",children:b.jsx(l,{})}),b.jsx(Fn,{"aria-label":f.goToNextPage,color:"gray",disabled:P>=S,onClick:()=>g(v+1),variant:"subtle",children:b.jsx(c,{})}),M&&b.jsx(Fn,{"aria-label":f.goToLastPage,color:"gray",disabled:P>=S,onClick:()=>g(x-1),variant:"subtle",children:b.jsx(d,{})})]})]}):null]})};var h0e={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const GLe=e=>{var{table:t}=e,n=on(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:s},setHoveredColumn:o,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{o({id:"drop-zone"})};return A.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),b.jsx(Pf,{mounted:d,transition:"fade",children:()=>{var h,p;return b.jsx(It,Object.assign({className:yt("mrt-toolbar-dropzone",h0e.root,(c==null?void 0:c.id)==="drop-zone"&&h0e.hovered),onDragEnter:f},n,{children:b.jsx(nt,{children:s.dropToGroupBy.replace("{column}",(p=(h=l==null?void 0:l.columnDef)===null||h===void 0?void 0:h.header)!==null&&p!==void 0?p:"")})}))}})},PUt=e=>{var{table:t}=e,n=on(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:s,positionPagination:o,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=VA("(max-width: 720px)"),h=Object.assign(Object.assign({},_t(s,{table:t})),n),p=f||!!u;return b.jsxs(be,Object.assign({},h,{className:yt("mrt-bottom-toolbar",oC.root,HLe["common-toolbar-styles"],d&&oC["root-fullscreen"],h==null?void 0:h.className),ref:m=>{m&&(c.current=m,h!=null&&h.ref&&(h.ref.current=m))},children:[b.jsx(qLe,{isTopToolbar:!1,table:t}),a==="bottom"&&b.jsx(Xte,{stackAlertBanner:p,table:t}),["both","bottom"].includes(l??"")&&b.jsx(GLe,{table:t}),b.jsxs(be,{className:oC["custom-toolbar-container"],children:[u?u({table:t}):b.jsx("span",{}),b.jsx(be,{className:yt(oC["paginator-container"],p&&oC["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(o??"")&&b.jsx(WLe,{position:"bottom",table:t})})]})]}))};var uO={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},NUt={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"},p0e={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},K_={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"},wz={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const OUt=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return b.jsx(It,{className:yt("mrt-column-pinning-buttons",wz.root),children:e.getIsPinned()?b.jsx(dn,{label:i.unpin,withinPortal:!0,children:b.jsx(Fn,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:b.jsx(r,{})})}):b.jsxs(b.Fragment,{children:[b.jsx(dn,{label:i.pinToLeft,withinPortal:!0,children:b.jsx(Fn,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:b.jsx(n,{className:wz.left})})}),b.jsx(dn,{label:i.pinToRight,withinPortal:!0,children:b.jsx(Fn,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:b.jsx(n,{className:wz.right})})})]})})},YLe=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var s;const o=Is(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:p}=t,{columnDefType:m}=p,g=m!=="group"&&t.getIsVisible()||m==="group"&&t.getLeafColumns().some(T=>T.getIsVisible()),y=T=>{var I,P;m==="group"?(P=(I=T==null?void 0:T.columns)===null||I===void 0?void 0:I.forEach)===null||P===void 0||P.call(I,k=>{k.toggleVisibility(!g)}):T.toggleVisibility()},v=A.useRef(null),[_,w]=A.useState(!1),E=T=>{w(!0),T.dataTransfer.setDragImage(v.current,0,0)},S=T=>{w(!1),r(null),n&&f(yLe(t,n,h))},x=T=>{!_&&p.enableColumnOrdering!==!1&&r(t)};return!p.header||p.visibleInShowHideMenu===!1?null:b.jsxs(b.Fragment,{children:[b.jsx(cn.Item,Object.assign({className:K_.root,component:"span",onDragEnter:x,ref:v,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":C7t(o)}},Q3("dragging",_),Q3("order-hovered",(n==null?void 0:n.id)===t.id),{children:b.jsxs(be,{className:K_.menu,children:[m!=="group"&&l&&!e.some(T=>T.columnDef.columnDefType==="group")&&(p.enableColumnOrdering!==!1?b.jsx(Kte,{onDragEnd:S,onDragStart:E,table:i}):b.jsx(be,{className:K_.grab})),u&&(t.getCanPin()?b.jsx(OUt,{column:t,table:i}):b.jsx(be,{className:K_.pin})),c?b.jsx(dn,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:b.jsx(z0,{checked:g,className:K_.switch,disabled:!t.getCanHide(),label:p.header,onChange:()=>y(t)})}):b.jsx(nt,{className:K_.header,children:p.header})]})})),(s=t.columns)===null||s===void 0?void 0:s.map((T,I)=>b.jsx(YLe,{allColumns:e,column:T,hoveredColumn:n,setHoveredColumn:r,table:i},`${I}-${T.id}`))]})},DUt=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:s,getIsSomeColumnsVisible:o,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:p,columnPinning:m}=u(),g=w=>{n().filter(E=>E.columnDef.enableHiding!==!1).forEach(E=>E.toggleVisibility(w))},y=A.useMemo(()=>{const w=t();return p.length>0&&!w.some(E=>E.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(p)).map(E=>r().find(S=>(S==null?void 0:S.id)===E)),...l()].filter(Boolean):w},[p,m,t(),r(),a(),l()]),[v,_]=A.useState(null);return b.jsxs(cn.Dropdown,{className:yt("mrt-show-hide-columns-menu",p0e.root),children:[b.jsxs(It,{className:p0e.content,children:[f&&b.jsx(hn,{disabled:!o(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&b.jsx(hn,{onClick:()=>e.setColumnOrder(qte(e.options)),variant:"subtle",children:h.resetOrder}),d&&b.jsx(hn,{disabled:!s(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&b.jsx(hn,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),b.jsx(cn.Divider,{}),y.map((w,E)=>b.jsx(YLe,{allColumns:y,column:w,hoveredColumn:v,setHoveredColumn:_,table:e},`${E}-${w.id}`))]})},MUt=e=>{var{table:t,title:n}=e,r=on(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:s}}=t.options;return b.jsxs(cn,{closeOnItemClick:!1,withinPortal:!0,children:[b.jsx(dn,{label:n??s,withinPortal:!0,children:b.jsx(cn.Target,{children:b.jsx(Fn,Object.assign({"aria-label":n??s,color:"gray",size:"lg",variant:"subtle"},r,{children:b.jsx(i,{})}))})}),b.jsx(DUt,{table:t})]})},$Ut={md:"xs",xl:"md",xs:"xl"},LUt=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:s}},setDensity:o},title:a}=e,l=on(e,["table","title"]);const{density:u}=t();return b.jsx(dn,{label:a??s,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":a??s,color:"gray",onClick:()=>o(c=>$Ut[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?b.jsx(i,{}):u==="md"?b.jsx(r,{}):b.jsx(n,{})}))})},FUt=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:s},title:o}=e,a=on(e,["table","title"]);const{showColumnFilters:l}=t();return b.jsx(dn,{label:o??i,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":o??i,color:"gray",onClick:()=>s(u=>!u),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},jUt=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:s},title:o}=e,a=on(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=A.useState(!1),d=()=>{c(!1),s(f=>!f)};return b.jsx(dn,{label:o??i,opened:u,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":o??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},BUt=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:s},setShowGlobalFilter:o},title:a}=e,l=on(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{o(!c),setTimeout(()=>{var f;return(f=s.current)===null||f===void 0?void 0:f.focus()},100)};return b.jsx(dn,{label:a??i,withinPortal:!0,children:b.jsx(Fn,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?b.jsx(r,{}):b.jsx(n,{})}))})},zUt=e=>{var t,{table:n}=e,r=on(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:s,enableColumnOrdering:o,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:p}}=n;return b.jsx(It,Object.assign({},r,{className:yt("mrt-toolbar-internal-buttons",NUt.root,r==null?void 0:r.className),children:(t=p==null?void 0:p({table:n}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[u&&d&&!(h!=null&&h.showGlobalFilter)&&b.jsx(BUt,{table:n}),u&&s&&i!=="popover"&&b.jsx(FUt,{table:n}),(f||o||a)&&b.jsx(MUt,{table:n}),l&&b.jsx(LUt,{table:n}),c&&b.jsx(jUt,{table:n})]})}))};var m0e={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const Ez=e=>{var{table:t}=e,n=on(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:s,IconX:o},localization:a,mantineSearchTextInputProps:l,manualFiltering:u},refs:{searchInputRef:c},setGlobalFilter:d}=t,{globalFilter:f,showGlobalFilter:h}=r(),p=Object.assign(Object.assign({},_t(l,{table:t})),n),m=A.useRef(!1),[g,y]=A.useState(f??""),[v]=Owe(g,u?500:250);A.useEffect(()=>{d(v||void 0)},[v]);const _=()=>{y(""),d(void 0)};return A.useEffect(()=>{m.current&&(f===void 0?_():y(f)),m.current=!0},[f]),b.jsxs(Gb,{className:m0e.collapse,in:h,children:[i&&b.jsxs(cn,{withinPortal:!0,children:[b.jsx(cn.Target,{children:b.jsx(Fn,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:b.jsx(s,{})})}),b.jsx(ULe,{onSelect:_,table:t})]}),b.jsx(sf,Object.assign({leftSection:!i&&b.jsx(s,{}),mt:0,mx:"sm",onChange:w=>y(w.target.value),placeholder:a.search,rightSection:g?b.jsx(Fn,{"aria-label":a.clearSearch,color:"gray",disabled:!(g!=null&&g.length),onClick:_,size:"sm",variant:"transparent",children:b.jsx(dn,{label:a.clearSearch,withinPortal:!0,children:b.jsx(o,{})})}):null,value:g??"",variant:"filled"},p,{className:yt("mrt-global-filter-text-input",m0e.root,p==null?void 0:p.className),ref:w=>{w&&(c.current=w,p!=null&&p.ref&&(p.ref=w))}}))]})},UUt=e=>{var t,{table:n}=e,r=on(e,["table"]);const{getState:i,options:{enableGlobalFilter:s,enablePagination:o,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:p}}=n,{isFullScreen:m,showGlobalFilter:g}=i(),y=VA("(max-width:720px)"),v=VA("(max-width:1024px)"),_=Object.assign(Object.assign({},_t(l,{table:n})),r),w=y||!!h||g&&v,E={style:v?void 0:{zIndex:3},table:n};return b.jsxs(be,Object.assign({},_,{className:yt(HLe["common-toolbar-styles"],uO.root,m&&uO["root-fullscreen"],_==null?void 0:_.className),ref:S=>{S&&(p.current=S,_!=null&&_.ref&&(_.ref.current=S))},children:[d==="top"&&b.jsx(Xte,{stackAlertBanner:w,table:n}),["both","top"].includes(f??"")&&b.jsx(GLe,{table:n}),b.jsxs(It,{className:yt(uO["actions-container"],w&&uO["actions-container-stack-alert"]),children:[s&&u==="left"&&b.jsx(Ez,Object.assign({},E)),(t=h==null?void 0:h({table:n}))!==null&&t!==void 0?t:b.jsx("span",{}),a?b.jsxs(It,{justify:"end",wrap:"wrap-reverse",children:[s&&u==="right"&&b.jsx(Ez,Object.assign({},E)),b.jsx(zUt,{table:n})]}):s&&u==="right"&&b.jsx(Ez,Object.assign({},E))]}),o&&["both","top"].includes(c??"")&&b.jsx(It,{justify:"end",children:b.jsx(WLe,{position:"top",table:n})}),b.jsx(qLe,{isTopToolbar:!0,table:n})]}))},VUt=e=>{var t,n,{table:r}=e,i=on(e,["table"]);const{getState:s,options:{enableBottomToolbar:o,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=s(),h=Object.assign(Object.assign({},_t(l,{table:r})),i);return b.jsxs(RR,Object.assign({shadow:"xs",withBorder:!0},h,{className:yt("mrt-table-paper",J7t.root,f&&"mrt-table-paper-fullscreen",h==null?void 0:h.className),ref:p=>{d.current=p,h!=null&&h.ref&&(h.ref.current=p)},style:p=>Object.assign(Object.assign({zIndex:f?200:void 0},_t(h==null?void 0:h.style,p)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=_t(c,{table:r}))!==null&&t!==void 0?t:b.jsx(UUt,{table:r})),b.jsx(kUt,{table:r}),o&&((n=_t(u,{table:r}))!==null&&n!==void 0?n:b.jsx(PUt,{table:r}))]}))},HUt=e=>e.table!==void 0,qUt=e=>{let t;return HUt(e)?t=e.table:t=LLe(e),b.jsx(VUt,{table:t})};function g0e(e){const t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return n==="60"?`${t+1}:00`:`${t}:${+n<10?"0":""}${n}`}async function WUt(e,t,n,r){return e&&t&&n&&r?await e.getEditedTranscript(t,r,n):null}async function xz(e,t){return e?await e.getTags(t):[]}async function GUt(e){return e?await e.getAllParticipantAndTaskTags():{}}function YUt({completed:e,studyConfig:t}){const{storageEngine:n}=Pi(),[r,i]=A.useState(null),s=A.useMemo(()=>sQ(t.sequence).map(k=>k.componentName),[t.sequence]),o=Tp(),{value:a,execute:l}=dm(xz,[n,"text"]),{value:u,execute:c}=dm(xz,[n,"task"]),{value:d,execute:f}=dm(xz,[n,"participant"]),{value:h,execute:p}=dm(GUt,[n]),[m,g]=A.useState([]),[y,v]=A.useState([]),[_,w]=A.useState(150),E=A.useMemo(()=>{if(!r)return null;const k=ph(m.map(D=>D.tasks[r].wordCount||0));return il([0,_]).domain(k)},[r,m,_]),S=A.useMemo(()=>{if(!r){const D=ph(m.map(R=>R.interactionCount||0));return il([0,_]).domain(D)}const k=ph(m.map(D=>D.tasks[r].interactionCount||0));return il([0,_]).domain(k)},[r,m,_]),x=A.useMemo(()=>{if(!r){const D=ph(m.map(R=>R.timeSpent||0));return il([0,_]).domain(D)}const k=ph(m.map(D=>D.tasks[r].timeSpent||0));return il([0,_]).domain(k)},[r,m,_]),T=A.useCallback((k,D)=>{n&&n.saveTags(k,D).then(()=>{p(n),l(n,"text"),c(n,"task"),f(n,"participant")})},[f,p,c,l,n]);A.useEffect(()=>{if(!o||!n)return;const k=e.map(D=>{const R=Object.values(D.answers),M=ph(R.map(B=>[B.startTime,B.endTime]).flat()),$=aI(R.map(B=>B.provenanceGraph?Object.keys(B.provenanceGraph.nodes).length-1:0)),L={};return Object.entries(D.answers).forEach(B=>{const[z,U]=B,N=z.slice(0,z.lastIndexOf("_"));L[N]={interactionCount:U.provenanceGraph?Object.keys(U.provenanceGraph.nodes).length-1:0,wordCount:null,timeSpent:U.endTime-U.startTime,tags:[]}}),{timeSpent:M[1]-M[0],wordCount:null,interactionCount:$,id:D.participantId,tasks:L}});g(k)},[o,e,r,y,h,n]),A.useEffect(()=>{if(r&&o.user.user){const k=[...m];Promise.all(m.map((D,R)=>{var M;return WUt(n,D.id,r,(M=o.user.user)==null?void 0:M.email).then($=>{if($&&$.length>0){const L=aI($.map(z=>z.text.length)),B=$.map(z=>z.selectedTags.map(U=>({...U,startTime:z.transcriptMappingStart}))).flat();k[R].tasks[r].tags=B,k[R].tasks[r].wordCount=L}else k[R].tasks[r].wordCount=0})})).then(()=>g(k))}},[o.user.user,r,n]),A.useEffect(()=>{y.length!==0&&g(m.filter(k=>!!(h&&h[k.id]&&(h[k.id].partTags.find(R=>!!y.find(M=>M===R.name))||r&&h[k.id].taskTags[r].find(M=>!!y.find($=>$===M.name))))))},[r,y]);const I=A.useMemo(()=>r===null?[{accessorKey:"id",header:"Participant Id"},{accessorKey:"timeSpent",header:"Time Spent",id:"timeSpent",mantineTableBodyCellProps:{style:{padding:0}},Cell:({cell:k})=>k.getValue()===null||k.getValue()===void 0?b.jsx(ws,{}):b.jsxs("svg",{style:{width:k.column.getSize(),height:"60px"},children:[b.jsx("rect",{x:0,y:0,height:200,fill:"cornflowerblue",width:x(k.getValue())}),b.jsx("text",{x:5,y:30,style:{textAnchor:"start",dominantBaseline:"middle"},children:g0e(k.getValue())})]}),size:150},{accessorKey:"interactionCount",header:"Interaction Count",id:"interactionCount",mantineTableBodyCellProps:{style:{padding:0}},Cell:({cell:k})=>k.getValue()===null||k.getValue()===void 0?b.jsx(ws,{}):b.jsxs("svg",{style:{width:k.column.getSize(),height:"60px"},children:[b.jsx("rect",{x:0,y:0,height:200,fill:"cornflowerblue",width:S(k.getValue())}),b.jsx("text",{x:5,y:30,style:{textAnchor:"start",dominantBaseline:"middle"},children:k.getValue()})]}),size:150},{accessorKey:"id",id:"participantTags",header:"Participant Tags",renderColumnActionsMenuItems({internalColumnMenuItems:k}){return b.jsxs(b.Fragment,{children:[k,b.jsx(KA,{closeMenuOnClick:!1,children:b.jsx(oq,{tags:d||[],createTagCallback:D=>{T([...d||[],D],"participant")},editTagCallback:()=>null})})]})},Cell:({cell:k})=>b.jsx(RD,{tags:d||[],onSelectTags:D=>{if(n&&h){const R=Gm(h);R[k.getValue()]||(R[k.getValue()]={partTags:[],taskTags:{}}),R[k.getValue()].partTags=D,n.saveAllParticipantAndTaskTags(R).then(()=>{p(n)})}},selectedTags:h&&h[k.getValue()]?h[k.getValue()].partTags:[]}),size:150}]:[{accessorKey:"id",id:"id",header:"Participant Id",Cell:({cell:k})=>b.jsx(Qy,{size:"12px",component:xX,target:"_blank",to:`/ThinkAloud/analysis/${k.getValue()}/reviewer-${r}`,children:k.getValue()}),size:150},{accessorKey:`tasks.${r}.timeSpent`,header:"Time Spent",id:"timeSpent",mantineTableBodyCellProps:{style:{padding:0}},Cell:({cell:k})=>k.getValue()===null||k.getValue()===void 0?b.jsx(ws,{}):b.jsxs("svg",{style:{width:k.column.getSize(),height:"60px"},children:[b.jsx("rect",{x:0,y:0,height:200,fill:"cornflowerblue",width:x(k.getValue())}),b.jsx("text",{x:5,y:30,style:{textAnchor:"start",dominantBaseline:"middle"},children:g0e(k.getValue())})]}),size:150},{accessorKey:`tasks.${r}.wordCount`,header:"Word Count",id:"wordCount",mantineTableBodyCellProps:{style:{padding:0}},Cell:({cell:k})=>k.getValue()===null||k.getValue()===void 0?b.jsx(ws,{}):b.jsxs("svg",{style:{width:k.column.getSize(),height:"60px"},children:[b.jsx("rect",{x:0,y:0,height:200,fill:"cornflowerblue",width:E?E(k.getValue()):0}),b.jsx("text",{x:5,y:30,style:{textAnchor:"start",dominantBaseline:"middle"},children:k.getValue()})]}),size:150},{accessorKey:`tasks.${r}.interactionCount`,header:"Interaction Count",id:"interactionCount",mantineTableBodyCellProps:{style:{padding:0}},Cell:({cell:k})=>k.getValue()===null||k.getValue()===void 0?b.jsx(ws,{}):b.jsxs("svg",{style:{width:k.column.getSize(),height:"60px"},children:[b.jsx("rect",{x:0,y:0,height:200,fill:"cornflowerblue",width:S(k.getValue())}),b.jsx("text",{x:5,y:30,style:{textAnchor:"start",dominantBaseline:"middle"},children:k.getValue()})]}),size:150},{accessorKey:`tasks.${r}.tags`,header:"Tags",Cell:({cell:k,row:D})=>b.jsx(Jr,{gap:2,children:b.jsx(MDe,{selectedTags:k.getValue(),currentTask:r,isLink:!0,participantId:D.getValue("id")})}),size:150},{accessorKey:"id",id:"taskTags",header:"Task Tags",renderColumnActionsMenuItems({internalColumnMenuItems:k}){return b.jsxs(b.Fragment,{children:[k,b.jsx(KA,{closeMenuOnClick:!1,children:b.jsx(oq,{tags:u||[],createTagCallback:D=>{T([...u||[],D],"task")},editTagCallback:()=>null})})]})},Cell:({cell:k})=>b.jsx(RD,{tags:u||[],onSelectTags:D=>{if(n&&h){const R=Gm(h);R[k.getValue()]||(R[k.getValue()]={partTags:[],taskTags:{}}),R[k.getValue()].taskTags[r]=D,n.saveAllParticipantAndTaskTags(R).then(()=>{p(n)})}},selectedTags:h&&h[k.getValue()]?h[k.getValue()].taskTags[r]||[]:[]}),size:150}],[d,r,S,h,p,T,n,u,x,E]),P=LLe({columns:I,data:m,enableMultiSort:!0,enableDensityToggle:!1,enablePagination:!1,enableRowVirtualization:!0,initialState:{density:"xs"},mantineTableContainerProps:{style:{maxHeight:"77dvh"}},renderTopToolbarCustomActions:()=>b.jsxs(Rn,{gap:"xl",children:[b.jsxs(Rn,{children:[b.jsx(Ti,{order:5,children:"Select Task"}),b.jsx(nu,{clearable:!0,value:r,onChange:i,data:s})]}),b.jsxs(Rn,{children:[b.jsx(Ti,{order:5,children:"Filter by tags"}),a&&u&&d&&a.length>0?b.jsx(RD,{tags:a,onSelectTags:k=>v(k.map(D=>D.name)),selectedTags:[...a.filter(k=>y.includes(k.name)),...u.filter(k=>y.includes(k.name)),...d.filter(k=>y.includes(k.name))],partTags:d||[],taskTags:u||[]}):b.jsx(ws,{})]})]})});return b.jsx(be,{px:"sm",style:{height:"100%"},children:b.jsx(qUt,{table:P})})}function KUt(e){const{globalConfig:t}=e,{studyId:n}=vf(),[r,i]=A.useState([]),[s,o]=A.useState(void 0),[a,l]=A.useState(!1),{storageEngine:u}=Pi(),c=pd(),{tab:d}=vf(),{user:f}=Tp(),h=A.useCallback(async()=>{if(l(!0),n){const y=await J4(n,t);if(!y||!u)return;await u.initializeStudyDb(n,y);const v=await u.getAllParticipantsData();i(v),o(y),l(!1)}},[t,u,n]);A.useEffect(()=>{h()},[t,u,n,h]);const[p,m,g]=A.useMemo(()=>{const y=r.filter(w=>!w.rejected&&w.completed),v=r.filter(w=>!w.rejected&&!w.completed),_=r.filter(w=>w.rejected);return[y,v,_]},[r]);return b.jsxs(Hr,{style:{height:"100%"},children:[b.jsx(mA,{studyIds:e.globalConfig.configsList}),b.jsx(Hr.Main,{children:b.jsxs(be,{p:"sm",style:{height:"100%",minHeight:"100%",width:"100%"},children:[b.jsx(uu,{visible:a}),b.jsxs(It,{direction:"row",align:"center",children:[b.jsx(Ti,{order:5,children:n}),b.jsx(O3e,{completed:p.length,inProgress:m.length,rejected:g.length})]}),b.jsx(qc,{h:"xs"}),b.jsxs($o,{variant:"outline",value:d,onChange:y=>c(`./../${y}`),style:{height:"100%"},children:[b.jsxs($o.List,{children:[b.jsx($o.Tab,{value:"table",leftSection:b.jsx(bnt,{size:16}),children:"Table View"}),b.jsx(dn,{label:"Coming soon",position:"bottom",children:b.jsx($o.Tab,{value:"stats",leftSection:b.jsx(Btt,{size:16}),disabled:!0,children:"Trial Stats"})}),b.jsx(dn,{label:"Coming soon",position:"bottom",children:b.jsx($o.Tab,{value:"replay",leftSection:b.jsx(Aue,{size:16}),disabled:!0,children:"Participant Replay"})}),b.jsx($o.Tab,{value:"thinkAloud",leftSection:b.jsx(Aue,{size:16}),children:"Think Aloud"}),b.jsx($o.Tab,{value:"manage",leftSection:b.jsx(ASe,{size:16}),disabled:!f.isAdmin,children:"Manage"})]}),b.jsx($o.Panel,{value:"table",pt:"xs",children:s&&b.jsx(KBt,{completed:p,inProgress:m,studyConfig:s,refresh:h})}),b.jsx($o.Panel,{value:"stats",pt:"xs",children:"statsboard"}),b.jsx($o.Panel,{value:"replay",pt:"xs",children:"Replay Tab Content"}),b.jsx($o.Panel,{value:"thinkAloud",pt:"xs",children:s&&b.jsx(YUt,{completed:p,studyConfig:s})}),b.jsx($o.Panel,{value:"manage",pt:"xs",children:n&&f.isAdmin?b.jsx(JBt,{studyId:n,refresh:h}):b.jsx(Nf,{mt:20,children:b.jsx(aS,{title:"Unauthorized Access",variant:"light",color:"red",icon:b.jsx(ont,{}),children:"You are not authorized to manage the data for this study."})})})]})]})})]})}function y0e({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:s}=Tp(),{storageEngine:o}=Pi(),[a,l]=A.useState(!1),u=vf();return A.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||s()}catch(d){s(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!o?b.jsx(uu,{visible:r.determiningStatus||!(o!=null&&o.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?b.jsx(EX,{to:"/login"}):b.jsx(b.Fragment,{children:e})}async function KLe(e,t,n){if(e instanceof Pc){t(!0);const r=new lm,i=z3();try{await gFt(i,r,SMe)}catch(s){n&&n(s.message)}finally{t(!1)}return i.currentUser}return null}function XUt(){const{user:e}=Tp(),[t,n]=A.useState(null),[r,i]=A.useState(!1),{storageEngine:s}=Pi();return A.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&n("You are not authorized to use this application.")},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?b.jsx(EX,{to:"/"}):b.jsx(Nf,{children:b.jsx(Yb,{padding:"lg",children:b.jsxs(It,{align:"center",direction:"column",justify:"center",children:[b.jsx(Zy,{maw:200,mt:50,mb:100,src:`${gp}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsxs(b.Fragment,{children:[b.jsx(nt,{mb:20,children:"To access admin settings, please sign in using your Google account."}),b.jsx(hn,{onClick:()=>KLe(s,i,n),leftSection:b.jsx(_nt,{}),variant:"filled",children:"Sign In With Google"})]}),t?b.jsx(xm,{size:"lg",color:"red",mt:30,children:t}):null,b.jsx(uu,{visible:r})]})})})}var XLe={exports:{}},QUt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JUt=QUt,ZUt=JUt;function QLe(){}function JLe(){}JLe.resetWarningCache=QLe;var eVt=function(){function e(r,i,s,o,a,l){if(l!==ZUt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JLe,resetWarningCache:QLe};return n.PropTypes=n,n};XLe.exports=eVt();var tVt=XLe.exports;const v0e=bu(tVt),b0e={};function Uq(e,t){e===void 0&&(e=b0e),t===void 0&&(t=b0e);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var nVt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rVt=Object.prototype.hasOwnProperty;function Vq(e,t){return rVt.call(e,t)}function Hq(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Vq(e,i)&&r.push(i);return r}function Hu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function qq(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function o1(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ZLe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Wq(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Wq(e[t]))return!0}else if(typeof e=="object"){for(var r=Hq(e),i=r.length,s=0;s<i;s++)if(Wq(e[r[s]]))return!0}}return!1}function _0e(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var eFe=function(e){nVt(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,_0e(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=_0e(n,{name:r,index:i,operation:s,tree:o}),l}return t}(Error),is=eFe,iVt=Hu,Hw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=J3(n,this.path);r&&(r=Hu(r));var i=W1(n,{op:"remove",path:this.from}).removed;return W1(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=J3(n,this.from);return W1(n,{op:"add",path:this.path,value:Hu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:eR(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},sVt={add:function(e,t,n){return qq(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Hw.move,copy:Hw.copy,test:Hw.test,_get:Hw._get};function J3(e,t){if(t=="")return e;var n={op:"_get",path:t};return W1(e,n),n.value}function W1(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):Z3(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=J3(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=eR(e,t.value),o.test===!1)throw new is("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new is("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Hu(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=Z3;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=ZLe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!qq(h))throw new is("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);qq(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new is("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=sVt[t.op].call(t,u,h,e);if(o.test===!1)throw new is("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Hw[t.op].call(t,u,h,e);if(o.test===!1)throw new is("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new is("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function mj(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new is("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Hu(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=W1(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function oVt(e,t,n){var r=W1(e,t);if(r.test===!1)throw new is("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Z3(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new is("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Hw[e.op]){if(typeof e.path!="string")throw new is("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new is('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new is("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new is("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Wq(e.value))throw new is("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new is("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new is("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=tFe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new is("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new is("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function tFe(e,t,n){try{if(!Array.isArray(e))throw new is("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)mj(Hu(t),Hu(e),n||!0);else{n=n||Z3;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof is)return i;throw i}}function eR(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!eR(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!eR(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const aVt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:is,_areEquals:eR,applyOperation:W1,applyPatch:mj,applyReducer:oVt,deepClone:iVt,getValueByPointer:J3,validate:tFe,validator:Z3},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Qte=new WeakMap,lVt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),uVt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function cVt(e){return Qte.get(e)}function dVt(e,t){return e.observers.get(t)}function fVt(e,t){e.observers.delete(t.callback)}function hVt(e,t){t.unobserve()}function pVt(e,t){var n=[],r,i=cVt(e);if(!i)i=new lVt(e),Qte.set(e,i);else{var s=dVt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Hu(e),t){r.callback=t,r.next=null;var o=function(){Gq(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Gq(r),clearTimeout(r.next),fVt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new uVt(t,r)),r}function Gq(e,t){t===void 0&&(t=!1);var n=Qte.get(e.object);Jte(n.value,e.object,e.patches,"",t),e.patches.length&&mj(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Jte(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=Hq(t),o=Hq(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(Vq(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?Jte(c,d,n,r+"/"+o1(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+o1(u),value:Hu(c)}),n.push({op:"replace",path:r+"/"+o1(u),value:Hu(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+o1(u),value:Hu(c)}),n.push({op:"remove",path:r+"/"+o1(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!Vq(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+o1(u),value:Hu(t[u])})}}}function mVt(e,t,n){n===void 0&&(n=!1);var r=[];return Jte(e,t,r,"",n),r}const gVt=Object.freeze(Object.defineProperty({__proto__:null,compare:mVt,generate:Gq,observe:pVt,unobserve:hVt},Symbol.toStringTag,{value:"Module"}));Object.assign({},aVt,gVt,{JsonPatchError:eFe,deepClone:Hu,escapePathComponent:o1,unescapePathComponent:ZLe});var yVt=/("(?:[^\\"]|\\.)*")|[:,]/g,vVt=function(t,n){var r,i,s;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,s=n.replacer,function o(a,l,u){var c,d,f,h,p,m,g,y,v,_,w,E;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),w=JSON.stringify(a,s),w===void 0)return w;if(g=i-l.length-u,w.length<=g&&(v=w.replace(yVt,function(S,x){return x||S+" "}),v.length<=g))return v;if(s!=null&&(a=JSON.parse(w),s=void 0),typeof a=="object"&&a!==null){if(y=l+r,f=[],d=0,Array.isArray(a))for(_="[",c="]",g=a.length;d<g;d++)f.push(o(a[d],y,d===g-1?0:1)||"null");else for(_="{",c="}",m=Object.keys(a),g=m.length;d<g;d++)h=m[d],p=JSON.stringify(h)+": ",E=o(a[h],y,p.length+(d===g-1?0:1)),E!==void 0&&f.push(p+E);if(f.length>0)return[_,r+f.join(`,
`+y),c].join(`
`+l)}return w}(t,"",0)};const Sz=bu(vVt);function xu(e,t,n){return e.fields=t||[],e.fname=n,e}function fs(e){return e==null?null:e.fname}function Na(e){return e==null?null:e.fields}function nFe(e){return e.length===1?bVt(e[0]):_Vt(e)}const bVt=e=>function(t){return t[e]},_Vt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ve(e){throw Error(e)}function Cp(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,l;e=e+"";function u(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(l=e[a],l==="\\")s+=e.substring(o,a++),o=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=a+1,r=l):l==="."&&!i?a>o?u():o=a+1:l==="["?(a>o&&u(),i=o=a+1):l==="]"&&(i||Ve("Access path missing open bracket: "+e),i>0&&u(),i=0,o=a+1)}return i&&Ve("Access path missing closing bracket: "+e),r&&Ve("Access path missing closing quote: "+e),a>o&&(a++,u()),t}function id(e,t,n){const r=Cp(e);return e=r.length===1?r[0]:e,xu((n&&n.get||nFe)(r),[e],t||e)}const zk=id("id"),ja=xu(e=>e,[],"identity"),g0=xu(()=>0,[],"zero"),QS=xu(()=>1,[],"one"),sd=xu(()=>!0,[],"true"),Yg=xu(()=>!1,[],"false");function wVt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const rFe=0,Zte=1,ene=2,iFe=3,sFe=4;function tne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wVt,r=e||rFe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=Zte&&n(t||"error","ERROR",arguments),this},warn(){return r>=ene&&n(t||"warn","WARN",arguments),this},info(){return r>=iFe&&n(t||"log","INFO",arguments),this},debug(){return r>=sFe&&n(t||"log","DEBUG",arguments),this}}}var We=Array.isArray;function bt(e){return e===Object(e)}const w0e=e=>e!=="__proto__";function JS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=EVt(r.signals,i.signals);else{const o=s==="legend"?{layout:1}:s==="style"?!0:null;ZS(r,s,i[s],o)}return r},{})}function ZS(e,t,n,r){if(!w0e(t))return;let i,s;if(bt(n)&&!We(n)){s=bt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?ZS(s,i,n[i]):w0e(i)&&(s[i]=n[i])}else e[t]=n}function EVt(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function cr(e){return e[e.length-1]}function Ra(e){return e==null||e===""?null:+e}const oFe=e=>t=>e*Math.exp(t),aFe=e=>t=>Math.log(e*t),lFe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),uFe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,eL=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function gj(e,t,n,r){const i=n(e[0]),s=n(cr(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function cFe(e,t){return gj(e,t,Ra,ja)}function dFe(e,t){var n=Math.sign(e[0]);return gj(e,t,aFe(n),oFe(n))}function fFe(e,t,n){return gj(e,t,eL(n),eL(1/n))}function hFe(e,t,n){return gj(e,t,lFe(n),uFe(n))}function yj(e,t,n,r,i){const s=r(e[0]),o=r(cr(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function nne(e,t,n){return yj(e,t,n,Ra,ja)}function rne(e,t,n){const r=Math.sign(e[0]);return yj(e,t,n,aFe(r),oFe(r))}function tL(e,t,n,r){return yj(e,t,n,eL(r),eL(1/r))}function ine(e,t,n,r){return yj(e,t,n,lFe(r),uFe(r))}function pFe(e){return 1+~~(new Date(e).getMonth()/3)}function mFe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function wt(e){return e!=null?We(e)?e:[e]:[]}function gFe(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function On(e){return typeof e=="function"}const xVt="descending";function sne(e,t,n){n=n||{},t=wt(t)||[];const r=[],i=[],s={},o=n.comparator||SVt;return wt(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===xVt?-1:1),i.push(a=On(a)?a:id(a,null,n)),(Na(a)||[]).forEach(u=>s[u]=1))}),i.length===0?null:xu(o(i,r),Object.keys(s))}const vj=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),SVt=(e,t)=>e.length===1?TVt(e[0],t[0]):CVt(e,t,e.length),TVt=(e,t)=>function(n,r){return vj(e(n),e(r))*t},CVt=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=vj(s(r),s(i));return o*t[a]});function Ba(e){return On(e)?e:()=>e}function one(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Nn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function op(e,t){let n=0,r,i,s,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=o=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>o&&(o=i))}return[s,o]}function yFe(e,t){const n=e.length;let r=-1,i,s,o,a,l;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}return[a,l]}const AVt=Object.prototype.hasOwnProperty;function Vt(e,t){return AVt.call(e,t)}const cO={};function eT(e){let t={},n;function r(s){return Vt(t,s)&&t[s]!==cO}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,o){return r(s)||(++i.size,t[s]===cO&&--i.empty),t[s]=o,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=cO),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let o=0;for(const a in t){const l=t[a];l!==cO&&(!n||!n(l))&&(s[a]=l,++o)}i.size=o,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function vFe(e,t,n,r,i,s){if(!n&&n!==0)return s;const o=+n;let a=e[0],l=cr(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=o?r:c<=o?i:s}function ft(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Nn(r,n)}function qw(e,t,n,r){let i=t[0],s=t[t.length-1],o;return i>s&&(o=i,i=s,s=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function pv(e){return typeof e=="boolean"}function J0(e){return Object.prototype.toString.call(e)==="[object Date]"}function bFe(e){return e&&On(e[Symbol.iterator])}function xr(e){return typeof e=="number"}function _Fe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Et(e){return typeof e=="string"}function ane(e,t,n){e&&(e=t?wt(e).map(a=>a.replace(/\\(.)/g,"$1")):wt(e));const r=e&&e.length,i=n&&n.get||nFe,s=a=>i(t?[a]:Cp(a));let o;if(!r)o=function(){return""};else if(r===1){const a=s(e[0]);o=function(l){return""+a(l)}}else{const a=e.map(s);o=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return xu(o,e,"key")}function wFe(e,t){const n=e[0],r=cr(e),i=+t;return i?i===1?r:n+i*(r-n):n}const IVt=1e4;function EFe(e){e=+e||IVt;let t,n,r;const i=()=>{t={},n={},r=0},s=(o,a)=>(++r>e&&(n=t,t={},r=1),t[o]=a);return i(),{clear:i,has:o=>Vt(t,o)||Vt(n,o),get:o=>Vt(t,o)?t[o]:Vt(n,o)?s(o,n[o]):void 0,set:(o,a)=>Vt(t,o)?t[o]=a:s(o,a)}}function xFe(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const o=r||new t.constructor(i+s);let a=0,l=0,u=0;for(;a<i&&l<s;++u)o[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)o[u]=t[a];for(;l<s;++l,++u)o[u]=n[l];return o}function l2(e,t){let n="";for(;--t>=0;)n+=e;return n}function SFe(e,t,n,r){const i=n||" ",s=e+"",o=t-s.length;return o<=0?s:r==="left"?l2(i,o)+s:r==="center"?l2(i,~~(o/2))+s+l2(i,Math.ceil(o/2)):s+l2(i,o)}function Uk(e){return e&&cr(e)-e[0]||0}function ut(e){return We(e)?"["+e.map(ut)+"]":bt(e)||Et(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function lne(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const RVt=e=>xr(e)||J0(e)?e:Date.parse(e);function une(e,t){return t=t||RVt,e==null||e===""?null:t(e)}function cne(e){return e==null||e===""?null:e+""}function xf(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function TFe(e,t,n,r){const i=r??"…",s=e+"",o=s.length,a=Math.max(0,t-i.length);return o<=t?s:n==="left"?i+s.slice(o-a):n==="center"?s.slice(0,Math.ceil(a/2))+i+s.slice(o-~~(a/2)):s.slice(0,a)+i}function n0(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function kVt(e){return e}function PVt(e){if(e==null)return kVt;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+s,d[1]=(n+=a[1])*i+o;u<c;)d[u]=a[u],++u;return d}}function NVt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function OVt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return E0e(e,n)})}:E0e(e,t)}function E0e(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=CFe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function CFe(e,t){var n=PVt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,p=f.length;h<p;++h)d.push(n(f[h],h));c<0&&NVt(d,p)}function s(c){return n(c)}function o(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=o(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=s(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(s);break;case"LineString":f=o(c.arcs);break;case"MultiLineString":f=c.arcs.map(o);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function DVt(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++o],t[o]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,p;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,p=r[f]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,p=i[d]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),s.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function MVt(e){return CFe(e,$Vt.apply(this,arguments))}function $Vt(e,t,n){var r,i,s;if(arguments.length>1)r=LVt(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:DVt(e,r)}}function LVt(e,t,n){var r=[],i=[],s;function o(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:s})}function a(d){d.forEach(o)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}const Yo="year",pu="quarter",Oa="month",Xs="week",mu="date",Ia="day",ap="dayofyear",lc="hours",uc="minutes",od="seconds",Sf="milliseconds",dne=[Yo,pu,Oa,Xs,mu,Ia,ap,lc,uc,od,Sf],Tz=dne.reduce((e,t,n)=>(e[t]=1+n,e),{});function fne(e){const t=wt(e).slice(),n={};return t.length||Ve("Missing time unit."),t.forEach(i=>{Vt(Tz,i)?n[i]=1:Ve(`Invalid time unit: ${i}.`)}),(n[Xs]||n[Ia]?1:0)+(n[pu]||n[Oa]||n[mu]?1:0)+(n[ap]?1:0)>1&&Ve(`Incompatible time units: ${e}`),t.sort((i,s)=>Tz[i]-Tz[s]),t}const FVt={[Yo]:"%Y ",[pu]:"Q%q ",[Oa]:"%b ",[mu]:"%d ",[Xs]:"W%U ",[Ia]:"%a ",[ap]:"%j ",[lc]:"%H:00",[uc]:"00:%M",[od]:":%S",[Sf]:".%L",[`${Yo}-${Oa}`]:"%Y-%m ",[`${Yo}-${Oa}-${mu}`]:"%Y-%m-%d ",[`${lc}-${uc}`]:"%H:%M"};function AFe(e,t){const n=Nn({},FVt,t),r=fne(e),i=r.length;let s="",o=0,a,l;for(o=0;o<i;)for(a=r.length;a>o;--a)if(l=r.slice(o,a).join("-"),n[l]!=null){s+=n[l],o=a;break}return s.trim()}const v1=new Date;function hne(e){return v1.setFullYear(e),v1.setMonth(0),v1.setDate(1),v1.setHours(0,0,0,0),v1}function IFe(e){return kFe(new Date(e))}function RFe(e){return Yq(new Date(e))}function kFe(e){return Rm.count(hne(e.getFullYear())-1,e)}function Yq(e){return IS.count(hne(e.getFullYear())-1,e)}function Kq(e){return hne(e).getDay()}function jVt(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,s,o);return a.setFullYear(e),a}return new Date(e,t,n,r,i,s,o)}function PFe(e){return OFe(new Date(e))}function NFe(e){return Xq(new Date(e))}function OFe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return q0.count(t-1,e)}function Xq(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return RS.count(t-1,e)}function Qq(e){return v1.setTime(Date.UTC(e,0,1)),v1.getUTCDay()}function BVt(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,s,o));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,s,o))}function DFe(e,t,n,r,i){const s=t||1,o=cr(e),a=(y,v,_)=>(_=_||y,zVt(n[_],r[_],y===o&&s,v)),l=new Date,u=xf(e),c=u[Yo]?a(Yo):Ba(2012),d=u[Oa]?a(Oa):u[pu]?a(pu):g0,f=u[Xs]&&u[Ia]?a(Ia,1,Xs+Ia):u[Xs]?a(Xs,1):u[Ia]?a(Ia,1):u[mu]?a(mu,1):u[ap]?a(ap,1):QS,h=u[lc]?a(lc):g0,p=u[uc]?a(uc):g0,m=u[od]?a(od):g0,g=u[Sf]?a(Sf):g0;return function(y){l.setTime(+y);const v=c(l);return i(v,d(l),f(l,v),h(l),p(l),m(l),g(l))}}function zVt(e,t,n,r){const i=n<=1?e:r?(s,o)=>r+n*Math.floor((e(s,o)-r)/n):(s,o)=>n*Math.floor(e(s,o)/n);return t?(s,o)=>t(i(s,o),o):i}function Cx(e,t,n){return t+e*7-(n+6)%7}const UVt={[Yo]:e=>e.getFullYear(),[pu]:e=>Math.floor(e.getMonth()/3),[Oa]:e=>e.getMonth(),[mu]:e=>e.getDate(),[lc]:e=>e.getHours(),[uc]:e=>e.getMinutes(),[od]:e=>e.getSeconds(),[Sf]:e=>e.getMilliseconds(),[ap]:e=>kFe(e),[Xs]:e=>Yq(e),[Xs+Ia]:(e,t)=>Cx(Yq(e),e.getDay(),Kq(t)),[Ia]:(e,t)=>Cx(1,e.getDay(),Kq(t))},VVt={[pu]:e=>3*e,[Xs]:(e,t)=>Cx(e,0,Kq(t))};function MFe(e,t){return DFe(e,t||1,UVt,VVt,jVt)}const HVt={[Yo]:e=>e.getUTCFullYear(),[pu]:e=>Math.floor(e.getUTCMonth()/3),[Oa]:e=>e.getUTCMonth(),[mu]:e=>e.getUTCDate(),[lc]:e=>e.getUTCHours(),[uc]:e=>e.getUTCMinutes(),[od]:e=>e.getUTCSeconds(),[Sf]:e=>e.getUTCMilliseconds(),[ap]:e=>OFe(e),[Xs]:e=>Xq(e),[Ia]:(e,t)=>Cx(1,e.getUTCDay(),Qq(t)),[Xs+Ia]:(e,t)=>Cx(Xq(e),e.getUTCDay(),Qq(t))},qVt={[pu]:e=>3*e,[Xs]:(e,t)=>Cx(e,0,Qq(t))};function $Fe(e,t){return DFe(e,t||1,HVt,qVt,BVt)}const WVt={[Yo]:Jh,[pu]:vI.every(3),[Oa]:vI,[Xs]:IS,[mu]:Rm,[Ia]:Rm,[ap]:Rm,[lc]:G6,[uc]:q6,[od]:mm,[Sf]:ix},GVt={[Yo]:Zh,[pu]:bI.every(3),[Oa]:bI,[Xs]:RS,[mu]:q0,[Ia]:q0,[ap]:q0,[lc]:Y6,[uc]:W6,[od]:mm,[Sf]:ix};function tT(e){return WVt[e]}function nT(e){return GVt[e]}function LFe(e,t,n){return e?e.offset(t,n):void 0}function FFe(e,t,n){return LFe(tT(e),t,n)}function jFe(e,t,n){return LFe(nT(e),t,n)}function BFe(e,t,n,r){return e?e.range(t,n,r):void 0}function zFe(e,t,n,r){return BFe(tT(e),t,n,r)}function UFe(e,t,n,r){return BFe(nT(e),t,n,r)}const u2=1e3,c2=u2*60,d2=c2*60,bj=d2*24,YVt=bj*7,x0e=bj*30,Jq=bj*365,VFe=[Yo,Oa,mu,lc,uc,od,Sf],f2=VFe.slice(0,-1),h2=f2.slice(0,-1),p2=h2.slice(0,-1),KVt=p2.slice(0,-1),XVt=[Yo,Xs],S0e=[Yo,Oa],HFe=[Yo],aC=[[f2,1,u2],[f2,5,5*u2],[f2,15,15*u2],[f2,30,30*u2],[h2,1,c2],[h2,5,5*c2],[h2,15,15*c2],[h2,30,30*c2],[p2,1,d2],[p2,3,3*d2],[p2,6,6*d2],[p2,12,12*d2],[KVt,1,bj],[XVt,1,YVt],[S0e,1,x0e],[S0e,3,3*x0e],[HFe,1,Jq]];function qFe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Uk(t))/n;let i=xS(a=>a[2]).right(aC,r),s,o;return i===aC.length?(s=HFe,o=dy(t[0]/Jq,t[1]/Jq,n)):i?(i=aC[r/aC[i-1][2]<aC[i][2]/r?i-1:i],s=i[0],o=i[1]):(s=VFe,o=Math.max(dy(t[0],t[1],n),1)),{units:s,step:o}}function m2(e){const t={};return n=>t[n]||(t[n]=e(n))}function QVt(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=JVt(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function JVt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function WFe(e){const t=m2(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=fb(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return QVt(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,o){o=fb(o??",f");const a=dy(r,i,s),l=Math.max(Math.abs(r),Math.abs(i));let u;if(o.precision==null)switch(o.type){case"s":return isNaN(u=fIe(a,l))||(o.precision=u),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=hIe(a,l))||(o.precision=u-(o.type==="e"));break}case"f":case"%":{isNaN(u=dIe(a))||(o.precision=u-(o.type==="%")*2);break}}return t(o)}}}let Zq;GFe();function GFe(){return Zq=WFe({format:TS,formatPrefix:wJ})}function YFe(e){return WFe(cIe(e))}function nL(e){return arguments.length?Zq=YFe(e):Zq}function T0e(e,t,n){n=n||{},bt(n)||Ve(`Invalid time multi-format specifier: ${n}`);const r=t(od),i=t(uc),s=t(lc),o=t(mu),a=t(Xs),l=t(Oa),u=t(pu),c=t(Yo),d=e(n[Sf]||".%L"),f=e(n[od]||":%S"),h=e(n[uc]||"%I:%M"),p=e(n[lc]||"%I %p"),m=e(n[mu]||n[Ia]||"%a %d"),g=e(n[Xs]||"%b %d"),y=e(n[Oa]||"%B"),v=e(n[pu]||"%B"),_=e(n[Yo]||"%Y");return w=>(r(w)<w?d:i(w)<w?f:s(w)<w?h:o(w)<w?p:l(w)<w?a(w)<w?m:g:c(w)<w?u(w)<w?y:v:_)(w)}function KFe(e){const t=m2(e.format),n=m2(e.utcFormat);return{timeFormat:r=>Et(r)?t(r):T0e(t,tT,r),utcFormat:r=>Et(r)?n(r):T0e(n,nT,r),timeParse:m2(e.parse),utcParse:m2(e.utcParse)}}let eW;XFe();function XFe(){return eW=KFe({format:MJ,parse:TRe,utcFormat:K6,utcParse:CRe})}function QFe(e){return KFe(_Re(e))}function tR(e){return arguments.length?eW=QFe(e):eW}const tW=(e,t)=>Nn({},e,t);function JFe(e,t){const n=e?YFe(e):nL(),r=t?QFe(t):tR();return tW(n,r)}function pne(e,t){const n=arguments.length;return n&&n!==2&&Ve("defaultLocale expects either zero or two arguments."),n?tW(nL(e),tR(t)):tW(nL(),tR())}function ZVt(){return GFe(),XFe(),pne()}const eHt=/^(data:|([A-Za-z]+:)?\/\/)/,tHt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,nHt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,C0e="file://";function rHt(e,t){return n=>({options:n||{},sanitize:sHt,load:iHt,fileAccess:!!t,file:oHt(t),http:lHt(e)})}async function iHt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function sHt(e,t){t=Nn({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,o;const a=tHt.test(e.replace(nHt,""));(e==null||typeof e!="string"||!a)&&Ve("Sanitize failure, invalid URI: "+ut(e));const l=eHt.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),s=(i=e.startsWith(C0e))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(C0e.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function oHt(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):aHt}async function aHt(){Ve("No file system access.")}function lHt(e){return e?async function(t,n){const r=Nn({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?On(s[i])?s[i]():s.text():Ve(s.status+""+s.statusText)}:uHt}async function uHt(){Ve("No HTTP fetch method available.")}const cHt=e=>e!=null&&e===e,dHt=e=>e==="true"||e==="false"||e===!0||e===!1,fHt=e=>!Number.isNaN(Date.parse(e)),ZFe=e=>!Number.isNaN(+e)&&!(e instanceof Date),hHt=e=>ZFe(e)&&Number.isInteger(+e),nW={boolean:lne,integer:Ra,number:Ra,date:une,string:cne,unknown:ja},dO=[dHt,hHt,ZFe,fHt],pHt=["boolean","integer","number","date"];function e6e(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=dO.length,i=dO.map((s,o)=>o+1);for(let s=0,o=0,a,l;s<n;++s)for(l=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&cHt(l)&&!dO[a](l)&&(i[a]=0,++o,o===dO.length))return"string";return pHt[i.reduce((s,o)=>s===0?o:s,0)-1]}function t6e(e,t){return t.reduce((n,r)=>(n[r]=e6e(e,r),n),{})}function A0e(e){const t=function(n,r){const i={delimiter:e};return mne(n,r?Nn(r,i):i)};return t.responseType="text",t}function mne(e,t){return t.header&&(e=t.header.map(ut).join(t.delimiter)+`
`+e),aIe(t.delimiter).parse(e+"")}mne.responseType="text";function mHt(e){return typeof Buffer=="function"&&On(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function gne(e,t){const n=t&&t.property?id(t.property):ja;return bt(e)&&!mHt(e)?gHt(n(e),t):n(JSON.parse(e))}gne.responseType="json";function gHt(e,t){return!We(e)&&bFe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const yHt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function n6e(e,t){let n,r,i,s;return e=gne(e,t),t&&t.feature?(n=OVt,i=t.feature):t&&t.mesh?(n=MVt,i=t.mesh,s=yHt[t.filter]):Ve("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):Ve("Invalid TopoJSON object: "+i),r&&r.features||[r]}n6e.responseType="json";const zD={dsv:mne,csv:A0e(","),tsv:A0e("	"),json:gne,topojson:n6e};function yne(e,t){return arguments.length>1?(zD[e]=t,this):Vt(zD,e)?zD[e]:null}function r6e(e){const t=yne(e);return t&&t.responseType||"text"}function i6e(e,t,n,r){t=t||{};const i=yne(t.type||"json");return i||Ve("Unknown data format type: "+t.type),e=i(e,t),t.parse&&vHt(e,t.parse,n,r),Vt(e,"columns")&&delete e.columns,e}function vHt(e,t,n,r){if(!e.length)return;const i=tR();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,l,u,c,d;t==="auto"&&(t=t6e(e,s)),s=Object.keys(t);const f=s.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!nW[p])throw Error("Illegal format pattern: "+h+":"+p);return nW[p]});for(l=0,c=e.length,d=s.length;l<c;++l)for(o=e[l],u=0;u<d;++u)a=s[u],o[a]=f[u](o[a])}const _j=rHt(typeof fetch<"u"&&fetch,null);function wj(e){const t=e||ja,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function UD(e,t){try{await t(e)}catch(n){e.error(n)}}const s6e=Symbol("vega_id");let bHt=1;function Ej(e){return!!(e&&zt(e))}function zt(e){return e[s6e]}function o6e(e,t){return e[s6e]=t,e}function Dr(e){const t=e===Object(e)?e:{data:e};return zt(t)?t:o6e(t,bHt++)}function vne(e){return xj(e,Dr({}))}function xj(e,t){for(const n in e)t[n]=e[n];return t}function a6e(e,t){return o6e(t,zt(e))}function c_(e,t){return e?t?(n,r)=>e(n,r)||zt(t(n))-zt(t(r)):(n,r)=>e(n,r)||zt(n)-zt(r):null}function l6e(e){return e&&e.constructor===d_}function d_(){const e=[],t=[],n=[],r=[],i=[];let s=null,o=!1;return{constructor:d_,insert(a){const l=wt(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=On(a)?r:t,u=wt(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:Ba(u)};return On(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return On(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return s=a,this},reflow(){return o=!0,this},pulse(a,l){const u={},c={};let d,f,h,p,m,g;for(d=0,f=l.length;d<f;++d)u[zt(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],u[zt(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],l.forEach(v=>{p(v)&&(u[zt(v)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],g=zt(m),u[g]?u[g]=1:a.add.push(Dr(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],u[zt(m)]<0&&a.rem.push(m);function y(v,_,w){w?v[_]=w(v):a.encode=_,o||(c[zt(v)]=v)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=u[zt(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,l.forEach(v=>{p(v)&&u[zt(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(o)a.mod=t.length||r.length?l.filter(v=>u[zt(v)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(s||s==null&&(t.length||r.length))&&a.clean(!0),a}}}const VD="_:mod:_";function Sj(){Object.defineProperty(this,VD,{writable:!0,value:{}})}Sj.prototype={set(e,t,n,r){const i=this,s=i[e],o=i[VD];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,o[t+":"+e]=-1,o[e]=-1):(s!==n||r)&&(i[e]=n,o[e]=We(n)?1+n.length:-1),i},modified(e,t){const n=this[VD];if(arguments.length){if(We(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[VD]={},this}};let _Ht=0;const wHt="pulse",EHt=new Sj,xHt=1,SHt=2;function di(e,t,n,r){this.id=++_Ht,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function I0e(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}di.prototype={targets(){return this._targets||(this._targets=wj(zk))},set(e){return this.value!==e?(this.value=e,1):0},skip:I0e(xHt),modified:I0e(SHt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Sj,i=this._argops=this._argops||[],s=[];let o,a,l,u;const c=(d,f,h)=>{h instanceof di?(h!==this&&(t&&h.targets().add(this),s.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(o in e)if(a=e[o],o===wHt)wt(a).forEach(d=>{d instanceof di?d!==this&&(d.targets().add(this),s.push(d)):Ve("Pulse parameters must be operator instances.")}),this.source=a;else if(We(a))for(r.set(o,-1,Array(l=a.length)),u=0;u<l;++u)c(o,u,a[u]);else c(o,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||EHt,n=this._argops;let r,i,s,o;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],s=r.op,o=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,o);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function THt(e,t,n,r){let i=1,s;return e instanceof di?s=e:e&&e.prototype instanceof di?s=new e:On(e)?s=new di(null,e):(i=0,s=new di(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function CHt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let AHt=0;function Tj(e,t,n){this.id=++AHt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Kg(e,t,n){return new Tj(e,t,n)}Tj.prototype={_filter:sd,_apply:ja,targets(){return this._targets||(this._targets=wj(zk))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Kg(e);return this.targets().add(t),t},apply(e){const t=Kg(null,e);return this.targets().add(t),t},merge(){const e=Kg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Kg();return this.targets().add(Kg(null,null,one(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Kg(null,null,()=>n=!0)),t.targets().add(Kg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=sd,this._targets=null}};function IHt(e,t,n,r){const i=this,s=Kg(n,r),o=function(u){u.dataflow=i;try{s.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=wt(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,o);return s}function RHt(e,t){const n=this.locale();return i6e(e,t,n.timeParse,n.utcParse)}function kHt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function PHt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:r6e(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function NHt(e,t,n){const r=this,i=r._pending||OHt(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(sd).insert(s.data||[])),i.done(),s}function OHt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const DHt={skip:!0};function MHt(e,t,n,r,i){return(e instanceof di?LHt:$Ht)(this,e,t,n,r,i),this}function $Ht(e,t,n,r,i,s){const o=Nn({},s,DHt);let a,l;On(n)||(n=Ba(n)),r===void 0?a=u=>e.touch(n(u)):On(r)?(l=new di(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;l6e(d)?e.pulse(c,d,s):e.update(c,d,o)}):a=u=>e.update(n(u),r,o),t.apply(a)}function LHt(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const o=s||{},a=new di(null,FHt(n,r),i,!1);a.modified(o.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function FHt(e,t){return t=On(t)?t:Ba(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function jHt(e){e.rank=++this._rank}function BHt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Ve("Cycle detected in dataflow graph.")}const rL={},fh=1,r0=2,Jp=4,zHt=fh|r0,R0e=fh|Jp,X_=fh|r0|Jp,k0e=8,lC=16,P0e=32,N0e=64;function Z0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Cz(e,t){const n=[];return n0(e,t,r=>n.push(r)),n}function O0e(e,t){const n={};return e.visit(t,r=>{n[zt(r)]=1}),r=>n[zt(r)]?null:r}function fO(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Z0.prototype={StopPropagation:rL,ADD:fh,REM:r0,MOD:Jp,ADD_REM:zHt,ADD_MOD:R0e,ALL:X_,REFLOW:k0e,SOURCE:lC,NO_SOURCE:P0e,NO_FIELDS:N0e,fork(e){return new Z0(this.dataflow).init(this,e)},clone(){const e=this.fork(X_);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(X_|lC)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Z0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&N0e)&&(n.fields=e.fields),t&fh?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&r0?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Jp?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&P0e?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||X_;return t&fh&&this.add.length||t&r0&&this.rem.length||t&Jp&&this.mod.length},reflow(e){if(e)return this.fork(X_).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Jp,O0e(this,fh))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return We(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?We(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&fh&&(n.addF=fO(n.addF,t)),e&r0&&(n.remF=fO(n.remF,t)),e&Jp&&(n.modF=fO(n.modF,t)),e&lC&&(n.srcF=fO(n.srcF,t)),n},materialize(e){e=e||X_;const t=this;return e&fh&&t.addF&&(t.add=Cz(t.add,t.addF),t.addF=null),e&r0&&t.remF&&(t.rem=Cz(t.rem,t.remF),t.remF=null),e&Jp&&t.modF&&(t.mod=Cz(t.mod,t.modF),t.modF=null),e&lC&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&lC)return n0(n.source,n.srcF,r),n;e&fh&&n0(n.add,n.addF,r),e&r0&&n0(n.rem,n.remF,r),e&Jp&&n0(n.mod,n.modF,r);const i=n.source;if(e&k0e&&i){const s=n.add.length+n.mod.length;s===i.length||(s?n0(i,O0e(n,R0e),r):n0(i,n.srcF,r))}return n}};function bne(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const a=i.fields||(i.fields={});for(const l in o.fields)a[l]=1}o.changed(i.ADD)&&(s|=i.ADD),o.changed(i.REM)&&(s|=i.REM),o.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}ft(bne,Z0,{fork(e){const t=new Z0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?We(e)?e.some(r=>n[r]):n[e]:0},filter(){Ve("MultiPulse does not support filtering.")},materialize(){Ve("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function UHt(e,t,n){const r=this,i=[];if(r._pulse)return u6e(r);if(r._pending&&await r._pending,t&&await UD(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new Z0(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=wj(zk);let o=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=rL),l!==rL&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${o} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await UD(r,c[d].callback)}return n&&await UD(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function VHt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function HHt(e,t,n){return this._pulse?u6e(this):(this.evaluate(e,t,n),this)}function qHt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function u6e(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function WHt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function GHt(e,t){const n=e.source,r=this._clock;return n&&We(n)?new bne(this,r,n.map(i=>i.pulse),t):this._input[e.id]||YHt(this._pulse,n&&n.pulse)}function YHt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==rL&&(e.source=t.source),e)}const _ne={skip:!1,force:!1};function KHt(e,t){const n=t||_ne;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function XHt(e,t,n){const r=n||_ne;return(e.set(t)||r.force)&&this.touch(e,r),this}function QHt(e,t,n){this.touch(e,n||_ne);const r=new Z0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function JHt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),c6e(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,ZHt(t,0,e)):r=n,r}}}function c6e(e,t,n,r){let i,s;const o=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(o,i)<0){e[n]=i,n=s;continue}break}return e[n]=o}function ZHt(e,t,n){const r=t,i=e.length,s=e[t];let o=(t<<1)+1,a;for(;o<i;)a=o+1,a<i&&n(e[o],e[a])>=0&&(o=a),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=s,c6e(e,r,t,n)}function TE(){this.logger(tne()),this.logLevel(Zte),this._clock=0,this._rank=0,this._locale=pne();try{this._loader=_j()}catch{}this._touched=wj(zk),this._input={},this._pulse=null,this._heap=JHt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function uC(e){return function(){return this._log[e].apply(this,arguments)}}TE.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:uC("error"),warn:uC("warn"),info:uC("info"),debug:uC("debug"),logLevel:uC("level"),cleanThreshold:1e4,add:THt,connect:CHt,rank:jHt,rerank:BHt,pulse:QHt,touch:KHt,update:XHt,changeset:d_,ingest:kHt,parse:RHt,preload:NHt,request:PHt,events:IHt,on:MHt,evaluate:UHt,run:HHt,runAsync:VHt,runAfter:qHt,_enqueue:WHt,_getPulse:GHt};function Me(e,t){di.call(this,e,null,t)}ft(Me,di,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Ax={};function d6e(e){const t=f6e(e);return t&&t.Definition||null}function f6e(e){return e=e&&e.toLowerCase(),Vt(Ax,e)?Ax[e]:null}function*h6e(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function wne(e,t,n){const r=Float64Array.from(h6e(e,n));return r.sort(Am),t.map(i=>cAe(r,i))}function Ene(e,t){return wne(e,[.25,.5,.75],t)}function xne(e,t){const n=e.length,r=hvt(e,t),i=Ene(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function p6e(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],o=e.extent[1],a,l,u,c,d,f;const h=e.span||o-s||Math.abs(s)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/a+m)*a,s=s<c?c-a:c,o=Math.ceil(o/a)*a),{start:s,stop:o===s?s+a:o,step:a}}var ad=Math.random;function eqt(e){ad=e}function m6e(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(h6e(e,r)),s=i.length,o=t;let a,l,u,c;for(u=0,c=Array(o);u<o;++u){for(a=0,l=0;l<s;++l)a+=i[~~(ad()*s)];c[u]=a/s}return c.sort(Am),[RV(c,n/2),RV(c,1-n/2)]}function g6e(e,t,n,r){r=r||(f=>f);const i=e.length,s=new Float64Array(i);let o=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;o<a;++o)s[o]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;o<a;++o)s[o]=u;return n?tqt(s,t+t/4):s}function tqt(e,t){const n=e.length;let r=0,i=1,s,o;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(o=i+(r+s-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=s}return e}function nqt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function rqt(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(o){return arguments.length?(n=o||0,i=r-n,s):n},max(o){return arguments.length?(r=o||0,i=r-n,s):r},sample(){return n+Math.floor(i*ad())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const a=Math.floor(o);return a<n?0:a>=r?1:(a-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return s.min(e).max(t)}const y6e=Math.sqrt(2*Math.PI),iqt=Math.SQRT2;let cC=NaN;function Cj(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(cC===cC)n=cC,cC=NaN;else{do n=ad()*2-1,r=ad()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,cC=r*s}return e+n*t}function Sne(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*y6e)}function Aj(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const o=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,s=o*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,s=s/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,s=o/a/2.506628274631)}return r>0?1-s:s}function Ij(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*iqt*sqt(2*e-1)}function sqt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function Tne(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>Cj(n,r),pdf:s=>Sne(s,n,r),cdf:s=>Aj(s,n,r),icdf:s=>Ij(s,n,r)};return i.mean(e).stdev(t)}function Cne(e,t){const n=Tne();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=xne(e)),i):t},sample(){return e[~~(ad()*r)]+t*n.sample()},pdf(s){let o=0,a=0;for(;a<r;++a)o+=n.pdf((s-e[a])/t);return o/t/r},cdf(s){let o=0,a=0;for(;a<r;++a)o+=n.cdf((s-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function Ane(e,t){return e=e||0,t=t??1,Math.exp(e+Cj()*t)}function Ine(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*y6e*e)}function Rne(e,t,n){return Aj(Math.log(e),t,n)}function kne(e,t,n){return Math.exp(Ij(e,t,n))}function v6e(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>Ane(n,r),pdf:s=>Ine(s,n,r),cdf:s=>Rne(s,n,r),icdf:s=>kne(s,n,r)};return i.mean(e).stdev(t)}function b6e(e,t){let n=0,r;function i(o){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=o[u]==null?1:+o[u];for(u=0;u<n;++u)a[u]/=l;return a}const s={weights(o){return arguments.length?(r=i(t=o||[]),s):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),s.weights(t)):e},sample(){const o=ad();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(o<l){a=e[u];break}return a.sample()},pdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(o);return a},cdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(o);return a},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function Pne(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*ad()}function Nne(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function One(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Dne(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function _6e(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>Pne(n,r),pdf:s=>Nne(s,n,r),cdf:s=>One(s,n,r),icdf:s=>Dne(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function Mne(e,t,n){let r=0,i=0;for(const s of e){const o=n(s);t(s)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Vk(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function Rj(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,s=new Float64Array(i),o=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)s[a]=c=+t(f),o[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)s[a]-=l,o[a]-=u;return[s,o,l,u]}function Hk(e,t,n,r){let i=-1,s,o;for(const a of e)s=t(a),o=n(a),s!=null&&(s=+s)>=s&&o!=null&&(o=+o)>=o&&r(s,o,++i)}function rT(e,t,n,r,i){let s=0,o=0;return Hk(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;s+=u*u,o+=c*c}),1-s/o}function $ne(e,t,n){let r=0,i=0,s=0,o=0,a=0;Hk(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=Vk(r,i,s,o),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:rT(e,t,n,i,u)}}function w6e(e,t,n){let r=0,i=0,s=0,o=0,a=0;Hk(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=Vk(r,i,s,o),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:rT(e,t,n,i,u)}}function E6e(e,t,n){const[r,i,s,o]=Rj(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,p;Hk(e,t,n,(v,_)=>{f=r[d++],h=Math.log(_),p=f*_,a+=(_*h-a)/d,l+=(p-l)/d,u+=(p*h-u)/d,c+=(f*p-c)/d});const[m,g]=Vk(l/o,a/o,u/o,c/o),y=v=>Math.exp(m+g*(v-s));return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:rT(e,t,n,o,y)}}function x6e(e,t,n){let r=0,i=0,s=0,o=0,a=0,l=0;Hk(e,t,n,(d,f)=>{const h=Math.log(d),p=Math.log(f);++l,r+=(h-r)/l,i+=(p-i)/l,s+=(h*p-s)/l,o+=(h*h-o)/l,a+=(f-a)/l});const u=Vk(r,i,s,o),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:rT(e,t,n,a,c)}}function Lne(e,t,n){const[r,i,s,o]=Rj(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,l+=(g-l)/h,u+=(g*p-u)/h,c+=(g*g-c)/h,d+=(p*m-d)/h,f+=(g*m-f)/h;const y=c-l*l,v=l*y-u*u,_=(f*l-d*u)/v,w=(d*y-f*u)/v,E=-_*l,S=x=>(x=x-s,_*x*x+w*x+E+o);return{coef:[E-w*s+_*s*s+o,w-2*_*s,_],predict:S,rSquared:rT(e,t,n,o,S)}}function S6e(e,t,n,r){if(r===0)return Mne(e,t,n);if(r===1)return $ne(e,t,n);if(r===2)return Lne(e,t,n);const[i,s,o,a]=Rj(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f)*s[p];for(u.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f+h);g[h]=m}c.push(g)}c.push(u);const y=aqt(c),v=_=>{_-=o;let w=a+y[0]+y[1]*_+y[2]*_*_;for(f=3;f<d;++f)w+=y[f]*Math.pow(_,f);return w};return{coef:oqt(d,y,-o,a),predict:v,rSquared:rT(e,t,n,a,v)}}function oqt(e,t,n,r){const i=Array(e);let s,o,a,l;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(a=t[s],l=1,i[s]+=a,o=1;o<=s;++o)l*=(s+1-o)/o,i[s-o]+=a*Math.pow(n,o)*l;return i[0]+=r,i}function aqt(e){const t=e.length-1,n=[];let r,i,s,o,a;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(s=r;s<t+1;++s)a=e[s][r],e[s][r]=e[s][o],e[s][o]=a;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,s=i+1;s<t;++s)a+=e[s][i]*n[s];n[i]=(e[t][i]-a)/e[i][i]}return n}const D0e=2,M0e=1e-12;function T6e(e,t,n,r){const[i,s,o,a]=Rj(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=D0e;){const p=[0,u-1];for(let g=0;g<l;++g){const y=i[g],v=p[0],_=p[1],w=y-i[v]>i[_]-y?v:_;let E=0,S=0,x=0,T=0,I=0;const P=1/Math.abs(i[w]-y||1);for(let R=v;R<=_;++R){const M=i[R],$=s[R],L=lqt(Math.abs(y-M)*P)*f[R],B=M*L;E+=L,S+=B,x+=$*L,T+=$*B,I+=M*B}const[k,D]=Vk(S/E,x/E,T/E,I/E);c[g]=k+D*y,d[g]=Math.abs(s[g]-c[g]),uqt(i,g+1,p)}if(h===D0e)break;const m=fAe(d);if(Math.abs(m)<M0e)break;for(let g=0,y,v;g<l;++g)y=d[g]/(6*m),f[g]=y>=1?M0e:(v=1-y*y)*v}return cqt(i,c,o,a)}function lqt(e){return(e=1-e*e*e)*e*e}function uqt(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function cqt(e,t,n,r){const i=e.length,s=[];let o=0,a=0,l=[],u;for(;o<i;++o)u=e[o]+n,l[0]===u?l[1]+=(t[o]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[o]],s.push(l));return l[1]+=r,s}const dqt=.5*Math.PI/180;function kj(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],s=t[0],o=t[1],a=o-s,l=a/r,u=[i(s)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(s+m/n*a));return u.push(i(o)),u}else{c.push(i(o));for(let m=n;--m>0;)c.push(i(s+m/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,p=fqt(d[1],c);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&hqt(d,m,f,h,p)>dqt?c.push(m):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function fqt(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const o=t[s][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function hqt(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-o)}function pqt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function rW(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:pqt(e)}function C6e(e,t,n){return n||e+(t?"_"+t:"")}const Az=()=>{},mqt={init:Az,add:Az,rem:Az,idx:0},nR={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},qk=Object.keys(nR).filter(e=>e!=="__count__");function gqt(e,t){return(n,r)=>Nn({name:e,aggregate_param:r,out:n||e},mqt,t)}[...qk,"__count__"].forEach(e=>{nR[e]=gqt(e,nR[e])});function A6e(e,t,n){return nR[e](n,t)}function I6e(e,t){return e.idx-t.idx}function yqt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=nR[i]())})};return e.forEach(n),Object.values(t).sort(I6e)}function vqt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function bqt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function _qt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function wqt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function R6e(e,t){const n=t||ja,r=yqt(e),i=e.slice().sort(I6e);function s(o){this._ops=r,this._out=i,this.cell=o,this.init()}return s.prototype.init=vqt,s.prototype.add=bqt,s.prototype.rem=_qt,s.prototype.set=wqt,s.prototype.get=n,s.fields=e.map(o=>o.out),s}function Fne(e){this._key=e?id(e):zt,this.reset()}const ra=Fne.prototype;ra.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};ra.add=function(e){this._add.push(e)};ra.rem=function(e){this._rem.push(e)};ra.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),o={};let a,l,u;for(a=0;a<i;++a)o[n(t[a])]=1;for(a=0,l=0;a<r;++a)o[n(u=e[a])]?o[n(u)]=0:s[l++]=u;return this._rem=[],this._add=s};ra.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",Vt(n,s)||(n[s]=1,++i);return i};ra.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=yFe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};ra.argmin=function(e){return this.extent(e)[0]||{}};ra.argmax=function(e){return this.extent(e)[1]||{}};ra.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};ra.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};ra.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=Ene(this.values(),e),this._get=e),this._q};ra.q1=function(e){return this.quartile(e)[0]};ra.q2=function(e){return this.quartile(e)[1]};ra.q3=function(e){return this.quartile(e)[2]};ra.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=m6e(this.values(),1e3,.05,e),this._get=e),this._ci};ra.ci0=function(e){return this.ci(e)[0]};ra.ci1=function(e){return this.ci(e)[1]};function Py(e){Me.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Py.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:qk},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};ft(Py,Me,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}s(e._prev),s(t);function o(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?o(h,l,u):t[h]||e.cell(h,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const _=wt(Na(v)),w=_.length;let E=0,S;for(;E<w;++E)r[S=_[E]]||(r[S]=1,t.push(S))}this._dims=wt(e.groupby),this._dnames=this._dims.map(v=>{const _=fs(v);return i(v),n.push(_),_}),this.cellkey=e.key?e.key:rW(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],o=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=s.length,c={};let d,f,h,p,m,g,y;for(u!==o.length&&Ve("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(d=s[y],f=o[y],h=a[y]||null,d==null&&f!=="count"&&Ve("Null aggregate field specified."),m=fs(d),g=C6e(f,m,l[y]),n.push(g),f==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),f!=="count"&&(this._countOnly=!1),p.push(A6e(f,h,g))}return this._measures=this._measures.map(v=>R6e(v,v.field)),Object.create(null)},cellkey:rW(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new Fne),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let o=0;o<i;++o)s[n[o]]=r[o](e);return t?a6e(t.tuple,s):Dr(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,o=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&o.push(l.tuple);for(c=0,d=this._alen;c<d;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?o:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const Eqt=1e-14;function jne(e){Me.call(this,null,e)}jne.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};ft(jne,Me,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,o=e.as||["bin0","bin1"],a=o[0],l=o[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Na(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+s*(1+(d-i)/s)}:c=>c[a]=r(c)),t.modifies(n?o:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=p6e(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,o,a;(o=e.anchor)!=null&&(a=o-(i+r*Math.floor((o-i)/r)),i+=a,s+=a);const l=function(u){let c=Ra(t(u));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(Eqt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=xu(l,Na(t),e.name||"bin_"+fs(t))}});function k6e(e,t,n){const r=e;let i=t||[],s=n||[],o={},a=0;return{add:l=>s.push(l),remove:l=>o[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!o[r(c)]),o={},a=0),u&&l&&i.sort(l),s.length&&(i=l?xFe(l,i,s.sort(l)):i.concat(s),s=[]),i)}}function Bne(e){Me.call(this,[],e)}Bne.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};ft(Bne,Me,{transform(e,t){const n=t.fork(t.ALL),r=k6e(zt,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(c_(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function P6e(e){di.call(this,null,xqt,e)}ft(P6e,di);function xqt(e){return this.value&&!e.modified()?this.value:sne(e.fields,e.orders)}function zne(e){Me.call(this,null,e)}zne.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Sqt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}ft(zne,Me,{transform(e,t){const n=d=>f=>{for(var h=Sqt(a(f),e.case,s)||[],p,m=0,g=h.length;m<g;++m)o.test(p=h[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,o=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Dr({}),l[i]=a,l[s]=u,o.add.push(l)):u===0?(l&&o.rem.push(l),n[a]=null,r[a]=null):l[s]!==u&&(l[s]=u,o.mod.push(l));return o.modifies(t)}});function Une(e){Me.call(this,null,e)}Une.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};ft(Une,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return o?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=Tqt(a,i,s,e.filter||sd)):n.mod=a,n.source=this.value,n.modifies(r)}});function Tqt(e,t,n,r){for(var i=[],s={},o=e.length,a=0,l,u;a<o;++a)for(s[t]=u=e[a],l=0;l<o;++l)s[n]=e[l],r(s)&&(i.push(Dr(s)),s={},s[t]=u);return i}const $0e={kde:Cne,mixture:b6e,normal:Tne,lognormal:v6e,uniform:_6e},Cqt="distributions",L0e="function",Aqt="field";function N6e(e,t){const n=e[L0e];Vt($0e,n)||Ve("Unknown distribution function: "+n);const r=$0e[n]();for(const i in e)i===Aqt?r.data((e.from||t()).map(e[i])):i===Cqt?r[i](e[i].map(s=>N6e(s,t))):typeof r[i]===L0e&&r[i](e[i]);return r}function Vne(e){Me.call(this,null,e)}const O6e=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Iqt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:O6e},{name:"weights",type:"number",array:!0}]};Vne.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:O6e.concat(Iqt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};ft(Vne,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=N6e(e.distribution,Rqt(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&Ve("Invalid density method: "+o),!e.extent&&!r.data&&Ve("Missing density extent parameter."),o=r[o];const a=e.as||["value","density"],l=e.extent||op(r.data()),u=kj(o,l,i,s).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],Dr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function Rqt(e){return()=>e.materialize(e.SOURCE).source}function D6e(e,t){return e?e.map((n,r)=>t[r]||fs(n)):null}function Hne(e,t,n){const r=[],i=d=>d(l);let s,o,a,l,u,c;if(t==null)r.push(e.map(n));else for(s={},o=0,a=e.length;o<a;++o)l=e[o],u=t.map(i),c=s[u],c||(s[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const M6e="bin";function qne(e){Me.call(this,null,e)}qne.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:M6e}]};const kqt=(e,t)=>Uk(op(e,t))/30;ft(qne,Me,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=Hne(t.source,e.groupby,ja),i=e.smooth||!1,s=e.field,o=e.step||kqt(n,s),a=c_((p,m)=>s(p)-s(m)),l=e.as||M6e,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const p=r[f].sort(a);h=-1;for(const m of g6e(p,o,i,s))m<c&&(c=m),m>d&&(d=m),p[++h][l]=m}return this.value={start:c,stop:d,step:o},t.reflow(!0).modifies(l)}});function $6e(e){di.call(this,null,Pqt,e),this.modified(!0)}ft($6e,di);function Pqt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:xu(n=>t(n,e),Na(t),fs(t))}function Wne(e){Me.call(this,[void 0,void 0],e)}Wne.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};ft(Wne,Me,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],o=n[1];if((i||s==null)&&(s=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Ra(r(a));l!=null&&(l<s&&(s=l),l>o&&(o=l))}),!Number.isFinite(s)||!Number.isFinite(o)){let a=fs(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${s}, ${o}]`),s=o=void 0}this.value=[s,o]}});function Gne(e,t){di.call(this,e),this.parent=t,this.count=0}ft(Gne,di,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Pj(e){Me.call(this,{},e),this._keys=eT();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}ft(Pj,Me,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=Vt(i,e)&&i[e],o,a;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new Gne(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,o=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=zt(l),c=s.get(u);c!==void 0&&(s.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);s.set(zt(l),u),a(u).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=zt(l),c=s.get(u),d=r(l);c===d?a(d).mod(l):(s.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(s.get(zt(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const u=zt(l),c=s.get(u),d=r(l);c!==d&&(s.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function L6e(e){di.call(this,null,Nqt,e)}ft(L6e,di);function Nqt(e){return this.value&&!e.modified()?this.value:We(e.name)?wt(e.name).map(t=>id(t)):id(e.name,e.as)}function Yne(e){Me.call(this,eT(),e)}Yne.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};ft(Yne,Me,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,o=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=zt(d);r.has(f)?r.delete(f):o.push(d)}),t.visit(t.ADD,d=>{l(d,e)?s.push(d):r.set(zt(d),1)});function c(d){const f=zt(d),h=l(d,e),p=r.get(f);h&&p?(r.delete(f),s.push(d)):!h&&!p?(r.set(f,1),o.push(d)):u&&h&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function Kne(e){Me.call(this,[],e)}Kne.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};ft(Kne,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=D6e(r,e.as||[]),s=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=vne(a),d=0;d<o;++d)f[i[d]]=(h=l[d][c])==null?null:h;s&&(f[s]=c),n.add.push(f)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function Xne(e){Me.call(this,[],e)}Xne.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};ft(Xne,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(fs),s=e.as||["key","value"],o=s[0],a=s[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=vne(u),d[o]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(s)}});function Qne(e){Me.call(this,null,e)}Qne.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};ft(Qne,Me,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,o=>o[r]=n(o,e))}});function F6e(e){Me.call(this,[],e)}ft(F6e,Me,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,o,a,l;if(s>0){for(o=[];--s>=0;)o.push(l=Dr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else a=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-s);return n.source=this.value=i,n}});const hO={value:"value",median:fAe,mean:dAe,min:IV,max:Gc},Oqt=[];function Jne(e){Me.call(this,[],e)}Jne.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Dqt(e){var t=e.method||hO.value,n;if(hO[t]==null)Ve("Unrecognized imputation method: "+t);else return t===hO.value?(n=e.value!==void 0?e.value:0,()=>n):hO[t]}function Mqt(e){const t=e.field;return n=>n?t(n):NaN}ft(Jne,Me,{transform(e,t){var n=t.fork(t.ALL),r=Dqt(e),i=Mqt(e),s=fs(e.field),o=fs(e.key),a=(e.groupby||[]).map(fs),l=$qt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,p,m,g,y,v,_,w,E;for(g=0,_=l.length;g<_;++g)for(f=l[g],p=f.values,h=NaN,v=0;v<d;++v)if(f[v]==null){for(m=l.domain[v],E={_impute:!0},y=0,w=p.length;y<w;++y)E[a[y]]=p[y];E[o]=m,E[s]=Number.isNaN(h)?h=r(f,i):h,u.push(Dr(E))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function $qt(e,t,n,r){var i=y=>y(g),s=[],o=r?r.slice():[],a={},l={},u,c,d,f,h,p,m,g;for(o.forEach((y,v)=>a[y]=v+1),f=0,m=e.length;f<m;++f)g=e[f],p=n(g),h=a[p]||(a[p]=o.push(p)),c=(u=t?t.map(i):Oqt)+"",(d=l[c])||(d=l[c]=[],s.push(d),d.values=u),d[h-1]=g;return s.domain=o,s}function Zne(e){Py.call(this,e)}Zne.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:qk},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};ft(Zne,Py,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{Nn(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function ere(e){Me.call(this,null,e)}ere.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};ft(ere,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Hne(r,e.groupby,e.field),s=(e.groupby||[]).map(fs),o=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Ve("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=op(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const p=Cne(h,o)[a],m=e.counts?h.length:1,g=c||op(h);kj(p,g,d,f).forEach(y=>{const v={};for(let _=0;_<s.length;++_)v[s[_]]=h.dims[_];v[l[0]]=y[0],v[l[1]]=y[1]*m,u.push(Dr(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function j6e(e){di.call(this,null,Lqt,e)}ft(j6e,di);function Lqt(e){return this.value&&!e.modified()?this.value:ane(e.fields,e.flat)}function B6e(e){Me.call(this,[],e),this._pending=null}ft(B6e,Me,{transform(e,t){const n=t.dataflow;return this._pending?Iz(this,t,this._pending):Fqt(e)?t.StopPropagation:e.values?Iz(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=wt(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>Iz(this,t,wt(r.data)))}});function Fqt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Iz(e,t,n){n.forEach(Dr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function tre(e){Me.call(this,{},e)}tre.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};ft(tre,Me,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,o=e.modified(),a=n.length;let l=o?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&Ve('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&Ve('The "as" parameter has too few output field names.'),c=c||i.map(fs),d=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<f;++y,++g)p[c[g]]=s;else for(y=0;y<f;++y,++g)p[c[g]]=i[y](v)}):(c||Ve("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??s}),o?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function z6e(e){di.call(this,null,jqt,e)}ft(z6e,di);function jqt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,o;for(s=0;s<n;++s)o=t[s],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function U6e(e){di.call(this,null,Bqt,e)}ft(U6e,di);function Bqt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function V6e(e){Me.call(this,null,e)}ft(V6e,Me,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function nre(e){Py.call(this,e)}nre.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:qk,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};ft(nre,Py,{_transform:Py.prototype.transform,transform(e,t){return this._transform(zqt(e,t),t)}});function zqt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=Na(n).concat(Na(r)),o=Vqt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(a=>Uqt(a,n,r,s)),as:o.map(a=>a+""),modified:e.modified.bind(e)}}function Uqt(e,t,n,r){return xu(i=>t(i)===e?n(i):NaN,r,e+"")}function Vqt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const o=e(s);r[o]||(r[o]=1,i.push(o))}),i.sort(vj),t?i.slice(0,t):i}function H6e(e){Pj.call(this,e)}ft(H6e,Pj,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(zt(s),n,t,s);return(e.modified("field")||r&&t.modified(Na(r)))&&Ve("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const o=i(s);r(s).forEach(a=>o.mod(a))}),t.visit(t.ADD,s=>{const o=i(s);r(s).forEach(a=>o.add(Dr(a)))}),t.visit(t.REM,s=>{const o=i(s);r(s).forEach(a=>o.rem(a))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function rre(e){Me.call(this,null,e)}rre.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};ft(rre,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=D6e(e.fields,e.as||[]),s=r?(a,l)=>Hqt(a,l,r,i):xj;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,a=>{const l=zt(a);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,a=>{const l=s(a,Dr({}));o[zt(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(s(a,o[zt(a)]))}),n}});function Hqt(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function q6e(e){Me.call(this,null,e)}ft(q6e,Me,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function ire(e){Me.call(this,null,e)}ire.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const qqt=1e-14;ft(ire,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=Hne(i,e.groupby,e.field),o=(e.groupby||[]).map(fs),a=[],l=e.step||.01,u=e.probs||Yl(l/2,1-qqt,l),c=u.length;return s.forEach(d=>{const f=wne(d,u);for(let h=0;h<c;++h){const p={};for(let m=0;m<o.length;++m)p[o[m]]=d.dims[m];p[r[0]]=u[h],p[r[1]]=f[h],a.push(Dr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function W6e(e){Me.call(this,null,e)}ft(W6e,Me,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=zt(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=vne(i);r[zt(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[zt(i)];for(const o in i)s[o]=i[o],n.modifies(o);n.mod.push(s)})),n}});function sre(e){Me.call(this,[],e),this.count=0}sre.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};ft(sre,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,d)=>(c[zt(d)]=1,c),{});let o=this.value,a=this.count,l=0;function u(c){let d,f;o.length<i?o.push(c):(f=~~((a+1)*ad()),f<o.length&&f>=l&&(d=o[f],s[zt(d)]&&n.rem.push(d),o[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=zt(c);s[d]&&(s[d]=-1,n.rem.push(c)),--a}),o=o.filter(c=>s[zt(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=a=o.length,t.visit(t.SOURCE,c=>{s[zt(c)]||u(c)}),l=-1),r&&o.length>i){const c=o.length-i;for(let d=0;d<c;++d)s[zt(o[d])]=-1,n.rem.push(o[d]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[zt(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=o.filter(c=>!s[zt(c)])),this.count=a,this.value=n.source=o,n}});function ore(e){Me.call(this,null,e)}ore.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};ft(ore,Me,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Yl(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,Dr(s)}),n.add=t.add.concat(this.value),n}});function G6e(e){Me.call(this,null,e),this.modified(!0)}ft(G6e,Me,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function are(e){Me.call(this,null,e)}const Y6e=["unit0","unit1"];are.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:dne,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Y6e}]};ft(are,Me,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),o=(i?nT:tT)(s.unit).offset,a=e.as||Y6e,l=a[0],u=a[1],c=s.step;let d=s.start||1/0,f=s.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Na(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=y=s(m),r&&(p[u]=y=o(g,c)),g<d&&(d=g),y>f&&(f=y))}),s.start=d,s.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:qFe({extent:e.extent||op(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=fne(r),o=this.value||{},a=(n?$Fe:MFe)(s,i);return a.unit=cr(s),a.units=s,a.step=i,a.start=o.start,a.stop=o.stop,this.value=a}});function K6e(e){Me.call(this,eT(),e)}ft(K6e,Me,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=a=>i.set(r(a),a);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,s)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function X6e(e){Me.call(this,null,e)}ft(X6e,Me,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(c_(e.sort)):t.source).map(e.field))}});function Wqt(e,t,n,r){const i=rR[e](t,n);return{init:i.init||g0,update:function(s,o){o[r]=i.next(s)}}}const rR={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=rR.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Ve("ntile num must be greater than zero.");const n=rR.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Ve("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Gqt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Gqt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Yqt=Object.keys(rR);function Q6e(e){const t=wt(e.ops),n=wt(e.fields),r=wt(e.params),i=wt(e.aggregate_params),s=wt(e.as),o=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(p){wt(Na(p)).forEach(m=>l[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,_=fs(g),w=C6e(p,_,s[m]);if(h(g),o.push(w),Vt(rR,p))a.push(Wqt(p,g,y,w));else{if(g==null&&p!=="count"&&Ve("Null aggregate field specified."),p==="count"){c.push(w);return}f=!1;let E=u[_];E||(E=u[_]=[],E.field=g,d.push(E)),E.push(A6e(p,v,w))}}),(c.length||d.length)&&(this.cell=Kqt(d,c,f)),this.inputs=Object.keys(l)}const J6e=Q6e.prototype;J6e.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};J6e.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<s;++o)r[o].update(e,t)};function Kqt(e,t,n){e=e.map(l=>R6e(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),o=0;o<i;++o)s[o]=new e[o](r);if(r.store)var a=r.data=new Fne;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)s[u].add(s[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)s[u].rem(s[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=s.length;u<c;++u)s[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)s[l].init()},r}function lre(e){Me.call(this,{},e),this._mlen=0,this._mods=[]}lre.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Yqt.concat(qk)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};ft(lre,Me,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=c_(e.sort),i=rW(e.groupby),s=a=>this.group(i(a));let o=this.state;(!o||n)&&(o=this.state=new Q6e(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,a=>s(a).add(a))):(t.visit(t.REM,a=>s(a).remove(a)),t.visit(t.ADD,a=>s(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Xqt(this._mods[a],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=k6e(zt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Xqt(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,o=r.frame||[null,0],a=e.data(n),l=a.length,u=s?xS(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Ba(-1)};t.init();for(let d=0;d<l;++d)Qqt(c,o,d,l),s&&Jqt(c,u),t.update(c,a[d])}function Qqt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Jqt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,o=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<o&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const Zqt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Py,bin:jne,collect:Bne,compare:P6e,countpattern:zne,cross:Une,density:Vne,dotbin:qne,expression:$6e,extent:Wne,facet:Pj,field:L6e,filter:Yne,flatten:Kne,fold:Xne,formula:Qne,generate:F6e,impute:Jne,joinaggregate:Zne,kde:ere,key:j6e,load:B6e,lookup:tre,multiextent:z6e,multivalues:U6e,params:V6e,pivot:nre,prefacet:H6e,project:rre,proxy:q6e,quantile:ire,relay:W6e,sample:sre,sequence:ore,sieve:G6e,subflow:Gne,timeunit:are,tupleindex:K6e,values:X6e,window:lre},Symbol.toStringTag,{value:"Module"}));function ey(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const eWt=()=>typeof Image<"u"?Image:null;function ure(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const tWt="identity",Ix="linear",lg="log",Wk="pow",Gk="sqrt",Nj="symlog",Cb="time",Ab="utc",Gh="sequential",iT="diverging",Rx="quantile",Oj="quantize",Dj="threshold",cre="ordinal",iW="point",Z6e="band",dre="bin-ordinal",oo="continuous",Yk="discrete",Kk="discretizing",vd="interpolating",fre="temporal";function nWt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function rWt(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(s<0&&(s=l),o=l);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function hre(){const e=AS().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],p=ure(d,a,l);let m=r[f-0];i=(h-m)/(p||1),o&&(i=Math.floor(i)),m+=(h-m-i*(d-a))*u,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const g=Yl(d).map(y=>m+i*y);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),p=h.length-1;let m=+d[0],g=+d[1],y,v,_;if(!(m!==m||g!==g)&&(g<m&&(_=m,m=g,g=_),!(g<h[0]||m>r[1-f])))return y=Math.max(0,cy(h,m)-1),v=m===g?y:cy(h,g)-1,m-h[y]>s+1e-10&&++y,f&&(_=y,y=p-v,v=p-_),y>v?void 0:t().slice(y,v+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return hre().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(l).align(u)},c()}function e4e(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return e4e(t())},e}function iWt(){return e4e(hre().paddingInner(1))}var sWt=Array.prototype.map;function oWt(e){return sWt.call(e,Ra)}const aWt=Array.prototype.slice;function t4e(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(cy(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=oWt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=aWt.call(r),n):t.slice()},n.tickFormat=function(r,i){return cRe(e[0],cr(e),r??10,i)},n.copy=function(){return t4e().domain(n.domain()).range(n.range())},n}const iL=new Map,n4e=Symbol("vega_scale");function r4e(e){return e[n4e]=!0,e}function lWt(e){return e&&e[n4e]===!0}function uWt(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?nWt(s):s.invertExtent?rWt(s):void 0),s.type=e,r4e(s)};return r.metadata=xf(wt(n)),r}function Rr(e,t,n){return arguments.length>1?(iL.set(e,uWt(e,t,n)),this):i4e(e)?iL.get(e):void 0}Rr(tWt,dRe);Rr(Ix,il,oo);Rr(lg,hRe,[oo,lg]);Rr(Wk,OJ,oo);Rr(Gk,XSt,oo);Rr(Nj,pRe,oo);Rr(Cb,ARe,[oo,fre]);Rr(Ab,dCt,[oo,fre]);Rr(Gh,LJ,[oo,vd]);Rr(`${Gh}-${Ix}`,LJ,[oo,vd]);Rr(`${Gh}-${lg}`,IRe,[oo,vd,lg]);Rr(`${Gh}-${Wk}`,FJ,[oo,vd]);Rr(`${Gh}-${Gk}`,fCt,[oo,vd]);Rr(`${Gh}-${Nj}`,RRe,[oo,vd]);Rr(`${iT}-${Ix}`,kRe,[oo,vd]);Rr(`${iT}-${lg}`,PRe,[oo,vd,lg]);Rr(`${iT}-${Wk}`,jJ,[oo,vd]);Rr(`${iT}-${Gk}`,hCt,[oo,vd]);Rr(`${iT}-${Nj}`,NRe,[oo,vd]);Rr(Rx,mRe,[Kk,Rx]);Rr(Oj,gRe,Kk);Rr(Dj,yRe,Kk);Rr(dre,t4e,[Yk,Kk]);Rr(cre,AS,Yk);Rr(Z6e,hre,Yk);Rr(iW,iWt,Yk);function i4e(e){return iL.has(e)}function f_(e,t){const n=iL.get(e);return n&&n.metadata[t]}function pre(e){return f_(e,oo)}function kx(e){return f_(e,Yk)}function sW(e){return f_(e,Kk)}function s4e(e){return f_(e,lg)}function cWt(e){return f_(e,fre)}function o4e(e){return f_(e,vd)}function a4e(e){return f_(e,Rx)}const dWt=["clamp","base","constant","exponent"];function l4e(e,t){const n=t[0],r=cr(t)-n;return function(i){return e(n+i*r)}}function Mj(e,t,n){return dJ(mre(t||"rgb",n),e)}function u4e(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function c4e(e,t,n){const r=n-t;let i,s,o;return!r||!Number.isFinite(r)?Ba(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),o=Rr(s)().domain([t,n]).range([0,1]),dWt.forEach(a=>e[a]?o[a](e[a]()):0),o)}function mre(e,t){const n=Vbt[fWt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function fWt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const hWt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},pWt={accent:mCt,category10:pCt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:gCt,observable10:yCt,paired:vCt,pastel1:bCt,pastel2:_Ct,set1:wCt,set2:ECt,set3:xCt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function d4e(e){if(We(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function f4e(e,t){for(const n in e)gre(n,t(e[n]))}const F0e={};f4e(pWt,d4e);f4e(hWt,e=>Mj(d4e(e)));function gre(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(F0e[e]=t,this):F0e[e]}const HD="symbol",mWt="discrete",gWt="gradient",yWt=e=>We(e)?e.map(t=>String(t)):String(e),vWt=(e,t)=>e[1]-t[1],bWt=(e,t)=>t[1]-e[1];function yre(e,t,n){let r;return xr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Uk(e.domain())/n||1)+1))),bt(t)&&(r=t.step,t=t.interval),Et(t)&&(t=e.type===Cb?tT(t):e.type==Ab?nT(t):Ve("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function h4e(e,t,n){let r=e.range(),i=r[0],s=cr(r),o=vWt;if(i>s&&(r=s,s=i,i=r,o=bWt),i=Math.floor(i),s=Math.ceil(s),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=s).sort(o).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],cr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function vre(e,t){return e.bins?h4e(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function p4e(e,t,n,r,i,s){const o=t.type;let a=yWt;if(o===Cb||i===Cb)a=e.timeFormat(r);else if(o===Ab||i===Ab)a=e.utcFormat(r);else if(s4e(o)){const l=e.formatFloat(r);if(s||t.bins)a=l;else{const u=m4e(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function m4e(e,t,n){const r=vre(e,t),i=e.base(),s=Math.log(i),o=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/s));return u*i<i-.5&&(u*=i),u<=o};return n?r.filter(a):a}const oW={[Rx]:"quantiles",[Oj]:"thresholds",[Dj]:"domain"},g4e={[Rx]:"quantiles",[Oj]:"domain"};function y4e(e,t){return e.bins?EWt(e.bins):e.type===lg?m4e(e,t,!0):oW[e.type]?wWt(e[oW[e.type]]()):vre(e,t)}function _Wt(e,t,n){const r=t[g4e[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)s=Math.min(s,r[o]-r[o-1]);return e.formatSpan(0,s,3*10,n)}function wWt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function EWt(e){const t=e.slice(0,-1);return t.max=cr(e),t}const xWt=e=>oW[e.type]||e.bins;function v4e(e,t,n,r,i,s,o){const a=g4e[t.type]&&s!==Cb&&s!==Ab?_Wt(e,t,i):p4e(e,t,n,i,s,o);return r===HD&&xWt(t)?SWt(a):r===mWt?TWt(a):CWt(a)}const SWt=e=>(t,n,r)=>{const i=j0e(r[n+1],j0e(r.max,1/0)),s=B0e(t,e),o=B0e(i,e);return s&&o?s+" – "+o:o?"< "+o:"≥ "+s},j0e=(e,t)=>e??t,TWt=e=>(t,n)=>n?e(t):null,CWt=e=>t=>e(t),B0e=(e,t)=>Number.isFinite(e)?t(e):null;function AWt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+cr(t),s=i-r;if(e.type===Dj){const o=n?s/n:.1;r-=o,i+=o,s=i-r}return o=>(o-r)/s}function IWt(e,t,n,r){const i=r||t.type;return Et(n)&&cWt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Cb?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Ab?e.utcFormat("%A, %d %B %Y, %X UTC"):v4e(e,t,5,null,n,r,!0)}function b4e(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=IWt(e,t,n.format,n.formatType);if(sW(t.type)){const s=y4e(t).slice(1).map(i),o=s.length;return`${o} boundar${o===1?"y":"ies"}: ${s.join(", ")}`}else if(kx(t.type)){const s=t.domain(),o=s.length,a=o>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${a}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(cr(s))}`}}let _4e=0;function RWt(){_4e=0}const sL="p_";function bre(e){return e&&e.gradient}function w4e(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?sL:"";return i||(i=e.id="gradient_"+_4e++,r==="radial"?(e.x1=Zf(e.x1,.5),e.y1=Zf(e.y1,.5),e.r1=Zf(e.r1,0),e.x2=Zf(e.x2,.5),e.y2=Zf(e.y2,.5),e.r2=Zf(e.r2,.5),s=sL):(e.x1=Zf(e.x1,0),e.y1=Zf(e.y1,0),e.x2=Zf(e.x2,1),e.y2=Zf(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function Zf(e,t){return e??t}function E4e(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const z0e={basis:{curve:pH},"basis-closed":{curve:MCt},"basis-open":{curve:$Ct},bundle:{curve:LCt,tension:"beta",value:.85},cardinal:{curve:FCt,tension:"tension",value:0},"cardinal-open":{curve:BCt,tension:"tension",value:0},"cardinal-closed":{curve:jCt,tension:"tension",value:0},"catmull-rom":{curve:zCt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:UCt,tension:"alpha",value:.5},"catmull-rom-open":{curve:VCt,tension:"alpha",value:.5},linear:{curve:BJ},"linear-closed":{curve:HCt},monotone:{horizontal:WCt,vertical:qCt},natural:{curve:GCt},step:{curve:YCt},"step-after":{curve:XCt},"step-before":{curve:KCt}};function _re(e,t,n){var r=Vt(z0e,e)&&z0e[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const kWt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},PWt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,NWt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,OWt=/^((\s+,?\s*)|(,\s*))/,DWt=/^[01]/;function Px(e){const t=[];return(e.match(PWt)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),o=kWt[s],a=MWt(s,o,r.slice(1).trim()),l=a.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,o)]),l!==o){s==="m"&&(i=i==="M"?"L":"l");for(let u=o;u<l;u+=o)t.push([i,...a.slice(u,u+o)])}}),t}function MWt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const o=e==="a"&&(s===3||s===4)?DWt:NWt,a=n.slice(i).match(o);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(OWt);l!==null&&(i+=l[0].length)}return r}const Ny=Math.PI/180,$Wt=1e-14,b1=Math.PI/2,Ah=Math.PI*2,Q_=Math.sqrt(3)/2;var Rz={},kz={},x4e=[].join;function LWt(e,t,n,r,i,s,o,a,l){const u=x4e.call(arguments);if(Rz[u])return Rz[u];const c=o*Ny,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,p=f*(l-t)*.5-d*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,y=d/n,v=-d/r,_=f/r,w=g*a+y*l,E=v*a+_*l,S=g*e+y*t,x=v*e+_*t;let I=1/((S-w)*(S-w)+(x-E)*(x-E))-.25;I<0&&(I=0);let P=Math.sqrt(I);s==i&&(P=-P);const k=.5*(w+S)-P*(x-E),D=.5*(E+x)+P*(S-w),R=Math.atan2(E-D,w-k);let $=Math.atan2(x-D,S-k)-R;$<0&&s===1?$+=Ah:$>0&&s===0&&($-=Ah);const L=Math.ceil(Math.abs($/(b1+.001))),B=[];for(let z=0;z<L;++z){const U=R+z*$/L,N=R+(z+1)*$/L;B[z]=[k,D,U,N,n,r,d,f]}return Rz[u]=B}function FWt(e){const t=x4e.call(e);if(kz[t])return kz[t];var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7];const c=u*o,d=-l*a,f=l*o,h=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(s),y=Math.sin(s),v=.5*(s-i),_=Math.sin(v*.5),w=8/3*_*_/Math.sin(v),E=n+p-w*m,S=r+m+w*p,x=n+g,T=r+y,I=x+w*y,P=T-w*g;return kz[t]=[c*E+d*S,f*E+h*S,c*I+d*P,f*I+h*P,c*x+d*T,f*x+h*T]}const _c=["l",0,0,0,0,0,0,0];function jWt(e,t,n){const r=_c[0]=e[0];if(r==="a"||r==="A")_c[1]=t*e[1],_c[2]=n*e[2],_c[3]=e[3],_c[4]=e[4],_c[5]=e[5],_c[6]=t*e[6],_c[7]=n*e[7];else if(r==="h"||r==="H")_c[1]=t*e[1];else if(r==="v"||r==="V")_c[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)_c[i]=(i%2==1?t:n)*e[i];return _c}function iR(e,t,n,r,i,s){var o,a=null,l=0,u=0,c=0,d=0,f,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var v=0,_=t.length;v<_;++v){switch(o=t[v],(i!==1||s!==1)&&(o=jWt(o,i,s)),o[0]){case"l":l+=o[1],u+=o[2],e.lineTo(l+n,u+r);break;case"L":l=o[1],u=o[2],e.lineTo(l+n,u+r);break;case"h":l+=o[1],e.lineTo(l+n,u+r);break;case"H":l=o[1],e.lineTo(l+n,u+r);break;case"v":u+=o[1],e.lineTo(l+n,u+r);break;case"V":u=o[1],e.lineTo(l+n,u+r);break;case"m":l+=o[1],u+=o[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=o[1],u=o[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"c":f=l+o[5],h=u+o[6],c=l+o[3],d=u+o[4],e.bezierCurveTo(l+o[1]+n,u+o[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=o[5],u=o[6],c=o[3],d=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+o[3],h=u+o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+o[1]+n,u+o[2]+r,f+n,h+r),c=l+o[1],d=u+o[2],l=f,u=h;break;case"S":f=o[3],h=o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"q":f=l+o[3],h=u+o[4],c=l+o[1],d=u+o[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"t":f=l+o[1],h=u+o[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+o[1],d=u+o[2];break;case"T":f=o[1],h=o[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":U0e(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+u+r]),l+=o[6],u+=o[7];break;case"A":U0e(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],u=o[7];break;case"z":case"Z":l=g,u=y,e.closePath();break}a=o}}function U0e(e,t,n,r){const i=LWt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const o=FWt(i[s]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const V0e=.5773502691896257,H0e={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ah)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Q_*n,i=r-n*V0e,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Q_*n,i=r-n*V0e;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Q_*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Q_*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Q_*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Q_*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function S4e(e){return Vt(H0e,e)?H0e[e]:BWt(e)}var Pz={};function BWt(e){if(!Vt(Pz,e)){const t=Px(e);Pz[e]={draw:function(n,r){iR(n,t,0,0,Math.sqrt(r)/2)}}}return Pz[e]}const Ug=.448084975506;function zWt(e){return e.x}function UWt(e){return e.y}function VWt(e){return e.width}function HWt(e){return e.height}function Vp(e){return typeof e=="function"?e:()=>+e}function pO(e,t,n){return Math.max(t,Math.min(e,n))}function T4e(){var e=zWt,t=UWt,n=VWt,r=HWt,i=Vp(0),s=i,o=i,a=i,l=null;function u(c,d,f){var h,p=d??+e.call(this,c),m=f??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,_=pO(+i.call(this,c),0,v),w=pO(+s.call(this,c),0,v),E=pO(+o.call(this,c),0,v),S=pO(+a.call(this,c),0,v);if(l||(l=h=F6()),_<=0&&w<=0&&E<=0&&S<=0)l.rect(p,m,g,y);else{var x=p+g,T=m+y;l.moveTo(p+_,m),l.lineTo(x-w,m),l.bezierCurveTo(x-Ug*w,m,x,m+Ug*w,x,m+w),l.lineTo(x,T-S),l.bezierCurveTo(x,T-Ug*S,x-Ug*S,T,x-S,T),l.lineTo(p+E,T),l.bezierCurveTo(p+Ug*E,T,p,T-Ug*E,p,T-E),l.lineTo(p,m+_),l.bezierCurveTo(p,m+Ug*_,p+Ug*_,m,p+_,m),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Vp(c),u):e},u.y=function(c){return arguments.length?(t=Vp(c),u):t},u.width=function(c){return arguments.length?(n=Vp(c),u):n},u.height=function(c){return arguments.length?(r=Vp(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=Vp(c),s=d!=null?Vp(d):i,a=f!=null?Vp(f):i,o=h!=null?Vp(h):s,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function C4e(){var e,t,n,r,i=null,s,o,a,l;function u(d,f,h){const p=h/2;if(s){var m=a-f,g=d-o;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*l,_=(g/=y)*l,w=Math.atan2(g,m);i.moveTo(o-v,a-_),i.lineTo(d-m*p,f-g*p),i.arc(d,f,p,w-Math.PI,w),i.lineTo(o+v,a+_),i.arc(o,a,l,w,w+Math.PI)}else i.arc(d,f,p,0,Ah);i.closePath()}else s=1;o=d,a=f,l=p}function c(d){var f,h=d.length,p,m=!1,g;for(i==null&&(i=g=F6()),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===m&&(m=!m)&&(s=0),m&&u(+e(p,f,d),+t(p,f,d),+n(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function Xk(e,t){return e??t}const Qk=e=>e.x||0,Jk=e=>e.y||0,qWt=e=>e.width||0,WWt=e=>e.height||0,GWt=e=>(e.x||0)+(e.width||0),YWt=e=>(e.y||0)+(e.height||0),KWt=e=>e.startAngle||0,XWt=e=>e.endAngle||0,QWt=e=>e.padAngle||0,JWt=e=>e.innerRadius||0,ZWt=e=>e.outerRadius||0,eGt=e=>e.cornerRadius||0,tGt=e=>Xk(e.cornerRadiusTopLeft,e.cornerRadius)||0,nGt=e=>Xk(e.cornerRadiusTopRight,e.cornerRadius)||0,rGt=e=>Xk(e.cornerRadiusBottomRight,e.cornerRadius)||0,iGt=e=>Xk(e.cornerRadiusBottomLeft,e.cornerRadius)||0,sGt=e=>Xk(e.size,64),oGt=e=>e.size||1,$j=e=>e.defined!==!1,aGt=e=>S4e(e.shape||"circle"),lGt=NCt().startAngle(KWt).endAngle(XWt).padAngle(QWt).innerRadius(JWt).outerRadius(ZWt).cornerRadius(eGt),uGt=jRe().x(Qk).y1(Jk).y0(YWt).defined($j),cGt=jRe().y(Jk).x1(Qk).x0(GWt).defined($j),dGt=Y$().x(Qk).y(Jk).defined($j),fGt=T4e().x(Qk).y(Jk).width(qWt).height(WWt).cornerRadius(tGt,nGt,rGt,iGt),hGt=DCt().type(aGt).size(sGt),pGt=C4e().x(Qk).y(Jk).defined($j).size(oGt);function wre(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function mGt(e,t){return lGt.context(e)(t)}function gGt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?cGt:uGt).curve(_re(r,n.orient,n.tension)).context(e)(t)}function yGt(e,t){const n=t[0],r=n.interpolate||"linear";return dGt.curve(_re(r,n.orient,n.tension)).context(e)(t)}function sT(e,t,n,r){return fGt.context(e)(t,n,r)}function vGt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function bGt(e,t){return hGt.context(e)(t)}function _Gt(e,t){return pGt.context(e)(t)}var A4e=1;function I4e(){A4e=1}function Ere(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+A4e++),o=i.clipping[s]||(i.clipping[s]={id:s});return On(r)?o.path=r(null):wre(n)?o.path=sT(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+s+")"}function $s(e){this.clear(),e&&this.union(e)}$s.prototype={clone(){return new $s(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:o}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*o+u,l*r+a*o+c,a*s-l*i+u,l*s+a*i+c,a*s-l*o+u,l*s+a*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Lj(e){this.mark=e,this.bounds=this.bounds||new $s}function Fj(e){Lj.call(this,e),this.items=this.items||[]}ft(Fj,Lj);class R4e{constructor(t){this._pending=0,this._loader=t||_j()}pending(){return this._pending}sanitizeURL(t){const n=this;return q0e(n),n._loader.sanitize(t,{context:"href"}).then(r=>(dC(n),r)).catch(()=>(dC(n),null))}loadImage(t){const n=this,r=eWt();return q0e(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const o=new r,a=Vt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>dC(n),o.onerror=()=>dC(n),o.src=s,o}).catch(i=>(dC(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function q0e(e){e._pending+=1}function dC(e){e._pending-=1}function xg(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?wGt(t,r):0))}return e}function wGt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const EGt=Ah-1e-8;let jj,qD,WD,$1,aW,GD,lW,uW;const T0=(e,t)=>jj.add(e,t),YD=(e,t)=>T0(qD=e,WD=t),W0e=e=>T0(e,jj.y1),G0e=e=>T0(jj.x1,e),_1=(e,t)=>aW*e+lW*t,w1=(e,t)=>GD*e+uW*t,Nz=(e,t)=>T0(_1(e,t),w1(e,t)),Oz=(e,t)=>YD(_1(e,t),w1(e,t));function Zk(e,t){return jj=e,t?($1=t*Ny,aW=uW=Math.cos($1),GD=Math.sin($1),lW=-GD):(aW=uW=1,$1=GD=lW=0),xGt}const xGt={beginPath(){},closePath(){},moveTo:Oz,lineTo:Oz,rect(e,t,n,r){$1?(Nz(e+n,t),Nz(e+n,t+r),Nz(e,t+r),Oz(e,t)):(T0(e+n,t+r),YD(e,t))},quadraticCurveTo(e,t,n,r){const i=_1(e,t),s=w1(e,t),o=_1(n,r),a=w1(n,r);Y0e(qD,i,o,W0e),Y0e(WD,s,a,G0e),YD(o,a)},bezierCurveTo(e,t,n,r,i,s){const o=_1(e,t),a=w1(e,t),l=_1(n,r),u=w1(n,r),c=_1(i,s),d=w1(i,s);K0e(qD,o,l,c,W0e),K0e(WD,a,u,d,G0e),YD(c,d)},arc(e,t,n,r,i,s){if(r+=$1,i+=$1,qD=n*Math.cos(i)+e,WD=n*Math.sin(i)+t,Math.abs(i-r)>EGt)T0(e-n,t-n),T0(e+n,t+n);else{const o=u=>T0(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(o(r),o(i),i!==r)if(r=r%Ah,r<0&&(r+=Ah),i=i%Ah,i<0&&(i+=Ah),i<r&&(s=!s,a=r,r=i,i=a),s)for(i-=Ah,a=r-r%b1,l=0;l<4&&a>i;++l,a-=b1)o(a);else for(a=r-r%b1+b1,l=0;l<4&&a<i;++l,a=a+b1)o(a)}}};function Y0e(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function K0e(e,t,n,r,i){const s=r-e+3*t-3*n,o=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(s)>$Wt?(c=o*o+a*s,c>=0&&(c=Math.sqrt(c),l=(-o+c)/s,u=(-o-c)/s)):l=.5*a/o,0<l&&l<1&&i(X0e(l,e,t,n,r)),0<u&&u<1&&i(X0e(u,e,t,n,r))}function X0e(e,t,n,r,i){const s=1-e,o=s*s,a=e*e;return o*s*t+3*o*e*n+3*s*a*r+a*e*i}var ty=(ty=ey(1,1))?ty.getContext("2d"):null;const cW=new $s;function xre(e){return function(t,n){if(!ty)return!0;e(ty,t),cW.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:o}=cW;for(let a=i;a<=o;++a)for(let l=r;l<=s;++l)if(ty.isPointInPath(l,a))return!0;return!1}}function Sre(e,t){return t.contains(e.x||0,e.y||0)}function k4e(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(cW.set(n,r,n+i,r+s))}function P4e(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return Ww(t,n,r,i,s)}function Ww(e,t,n,r,i){const{x1:s,y1:o,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-u,p=-(s-t)),g===1&&(h=u,p=a-t),g===2&&(h=-c,p=-(o-n)),g===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>f)return!1;m>d&&(d=m)}else if(h>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function Nx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Pd(e,t){return e??t}function Q0e(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function SGt(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+Pd(t.x1,.5)*r,n.y1+Pd(t.y1,.5)*i,Math.max(r,i)*Pd(t.r1,0),n.x1+Pd(t.x2,.5)*r,n.y1+Pd(t.y2,.5)*i,Math.max(r,i)*Pd(t.r2,.5));else{const o=Pd(t.x1,0),a=Pd(t.y1,0),l=Pd(t.x2,1),u=Pd(t.y2,0);if(o===l||a===u||r===i)s=e.createLinearGradient(n.x1+o*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=ey(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=Q0e(d.createLinearGradient(o,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return Q0e(s,t.stops)}function N4e(e,t,n){return bre(n)?SGt(e,n,t.bounds):n}function oL(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=N4e(e,t,t.fill),!0):!1}var TGt=[];function Ox(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=N4e(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||TGt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function CGt(e,t){return e.zindex-t.zindex||e.index-t.index}function Tre(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(CGt)}function Tf(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=Tre(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function aL(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=Tre(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Cre(e){return function(t,n,r){Tf(n,i=>{(!r||r.intersects(i.bounds))&&O4e(e,t,i,i)})}}function AGt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&O4e(e,t,n.items[0],n.items)}}function O4e(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Nx(t,n),n.fill&&oL(t,n,i)&&t.fill(),n.stroke&&Ox(t,n,i)&&t.stroke()))}function Bj(e){return e=e||sd,function(t,n,r,i,s,o){return r*=t.pixelRatio,i*=t.pixelRatio,aL(n,a=>{const l=a.bounds;if(!(l&&!l.contains(s,o)||!l)&&e(t,a,r,i,s,o))return a})}}function eP(e,t){return function(n,r,i,s){var o=Array.isArray(r)?r[0]:r,a=t??o.fill,l=o.stroke&&n.isPointInStroke,u,c;return l&&(u=o.strokeWidth,c=o.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,s)||l&&n.isPointInStroke(i,s)}}function Are(e){return Bj(eP(e))}function G1(e,t){return"translate("+e+","+t+")"}function Ire(e){return"rotate("+e+")"}function IGt(e,t){return"scale("+e+","+t+")"}function D4e(e){return G1(e.x||0,e.y||0)}function RGt(e){return G1(e.x||0,e.y||0)+(e.angle?" "+Ire(e.angle):"")}function kGt(e){return G1(e.x||0,e.y||0)+(e.angle?" "+Ire(e.angle):"")+(e.scaleX||e.scaleY?" "+IGt(e.scaleX||1,e.scaleY||1):"")}function Rre(e,t,n){function r(o,a){o("transform",RGt(a)),o("d",t(null,a))}function i(o,a){return t(Zk(o,a.angle),a),xg(o,a).translate(a.x||0,a.y||0)}function s(o,a){var l=a.x||0,u=a.y||0,c=a.angle||0;o.translate(l,u),c&&o.rotate(c*=Ny),o.beginPath(),t(o,a),c&&o.rotate(-c),o.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Cre(s),pick:Are(s),isect:n||xre(s)}}var PGt=Rre("arc",mGt);function NGt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,o,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<s&&(s=a,o=e[i]));return o}function OGt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],o=i*i+s*s,o<n))return e[r];return null}function DGt(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function kre(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(Zk(l),c),xg(l,c[0]))}function s(l,u){l.beginPath(),t(l,u)}const o=eP(s);function a(l,u,c,d,f,h){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,o(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:AGt(s),pick:a,isect:Sre,tip:n}}var MGt=kre("area",gGt,NGt);function $Gt(e,t){var n=t.clip;e.save(),On(n)?(e.beginPath(),n(e),e.clip()):M4e(e,t.group)}function M4e(e,t){e.beginPath(),wre(t)?sT(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function $4e(e){const t=Pd(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function LGt(e,t){e("transform",D4e(t))}function L4e(e,t){const n=$4e(t);e("d",sT(null,t,n,n))}function FGt(e,t){e("class","background"),e("aria-hidden",!0),L4e(e,t)}function jGt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?L4e(e,t):e("d","")}function BGt(e,t,n){const r=t.clip?Ere(n,t,t):null;e("clip-path",r)}function zGt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),xg(e,t),e.translate(t.x||0,t.y||0)}function sR(e,t,n,r){const i=$4e(t);e.beginPath(),sT(e,t,(n||0)+i,(r||0)+i)}const UGt=eP(sR),VGt=eP(sR,!1),HGt=eP(sR,!0);function qGt(e,t,n,r){Tf(t,i=>{const s=i.x||0,o=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(sR(e,i,s,o),Nx(e,i),i.fill&&oL(e,i,l)&&e.fill(),i.stroke&&!a&&Ox(e,i,l)&&e.stroke()),e.save(),e.translate(s,o),i.clip&&M4e(e,i),n&&n.translate(-s,-o),Tf(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(s,o),e.restore(),a&&i.stroke&&l&&(sR(e,i,s,o),Nx(e,i),Ox(e,i,l)&&e.stroke())})}function WGt(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const o=n*e.pixelRatio,a=r*e.pixelRatio;return aL(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,s))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>h||s<d||s>p))return;if(e.save(),e.translate(c,d),c=i-c,d=s-d,m&&wre(l)&&!HGt(e,l,o,a))return e.restore(),null;const g=l.strokeForeground,y=t.interactive!==!1;return y&&g&&l.stroke&&VGt(e,l,o,a)?(e.restore(),l):(u=aL(l,v=>GGt(v,c,d)?this.pick(v,n,r,c,d):null),!u&&y&&(l.fill||!g&&l.stroke)&&UGt(e,l,o,a)&&(u=l),e.restore(),u||null)})}function GGt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var YGt={type:"group",tag:"g",nested:!1,attr:LGt,bound:zGt,draw:qGt,pick:WGt,isect:k4e,content:BGt,background:FGt,foreground:jGt},oR={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Pre(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Nre(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Ore(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function zj(e,t){return e==="center"?t/2:e==="right"?t:0}function Uj(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function KGt(e,t,n){const r=Pre(t,n),i=Nre(t,r),s=Ore(t,r),o=(t.x||0)-zj(t.align,i),a=(t.y||0)-Uj(t.baseline,s),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,oR["xmlns:xlink"],"xlink:href"),e("transform",G1(o,a)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function XGt(e,t){const n=t.image,r=Nre(t,n),i=Ore(t,n),s=(t.x||0)-zj(t.align,r),o=(t.y||0)-Uj(t.baseline,i);return e.set(s,o,s+r,o+i)}function QGt(e,t,n){Tf(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Pre(r,this);let s=Nre(r,i),o=Ore(r,i);if(s===0||o===0)return;let a=(r.x||0)-zj(r.align,s),l=(r.y||0)-Uj(r.baseline,o),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=s/c,l+=(o-f)/2,o=f):(f=o*c,a+=(s-f)/2,s=f))),(i.complete||i.toDataURL)&&(Nx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,s,o))})}var JGt={type:"image",tag:"image",nested:!1,attr:KGt,bound:XGt,draw:QGt,pick:Bj(),isect:sd,get:Pre,xOffset:zj,yOffset:Uj},ZGt=kre("line",yGt,OGt);function eYt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",kGt(t)),e("d",t.path)}function KD(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,o=t.scaleY||1,a=(t.angle||0)*Ny,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Px(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),iR(e,l,0,0,s,o),e.rotate(-a),e.translate(-r,-i)):iR(e,l,r,i,s,o)}function tYt(e,t){return KD(Zk(e,t.angle),t)?e.set(0,0,0,0):xg(e,t,!0)}var nYt={type:"path",tag:"path",nested:!1,attr:eYt,bound:tYt,draw:Cre(KD),pick:Are(KD),isect:xre(KD)};function rYt(e,t){e("d",sT(null,t))}function iYt(e,t){var n,r;return xg(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function J0e(e,t){e.beginPath(),sT(e,t)}var sYt={type:"rect",tag:"path",nested:!1,attr:rYt,bound:iYt,draw:Cre(J0e),pick:Are(J0e),isect:k4e};function oYt(e,t){e("transform",D4e(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function aYt(e,t){var n,r;return xg(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function F4e(e,t,n){var r,i,s,o;return t.stroke&&Ox(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,o),!0):!1}function lYt(e,t,n){Tf(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&F4e(e,r,i)&&(Nx(e,r),e.stroke())}})}function uYt(e,t,n,r){return e.isPointInStroke?F4e(e,t,1)&&e.isPointInStroke(n,r):!1}var cYt={type:"rule",tag:"line",nested:!1,attr:oYt,bound:aYt,draw:lYt,pick:Bj(uYt),isect:P4e},dYt=Rre("shape",vGt),fYt=Rre("symbol",bGt,Sre);const Z0e=EFe();var Gu={height:Ap,measureWidth:Dre,estimateWidth:lL,width:lL,canvas:j4e};j4e(!0);function j4e(e){Gu.width=e&&ty?Dre:lL}function lL(e,t){return B4e(Dy(e,t),Ap(e))}function B4e(e,t){return~~(.8*e.length*t)}function Dre(e,t){return Ap(e)<=0||!(t=Dy(e,t))?0:z4e(t,Vj(e))}function z4e(e,t){const n=`(${t}) ${e}`;let r=Z0e.get(n);return r===void 0&&(ty.font=t,r=ty.measureText(e).width,Z0e.set(n,r)),r}function Ap(e){return e.fontSize!=null?+e.fontSize||0:11}function Oy(e){return e.lineHeight!=null?e.lineHeight:Ap(e)+2}function hYt(e){return We(e)?e.length>1?e:e[0]:e}function tP(e){return hYt(e.lineBreak&&e.text&&!We(e.text)?e.text.split(e.lineBreak):e.text)}function Mre(e){const t=tP(e);return(We(t)?t.length-1:0)*Oy(e)}function Dy(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?mYt(e,n):n}function pYt(e){if(Gu.width===Dre){const t=Vj(e);return n=>z4e(n,t)}else if(Gu.width===lL){const t=Ap(e);return n=>B4e(n,t)}else return t=>Gu.width(e,t)}function mYt(e,t){var n=+e.limit,r=pYt(e);if(r(t)<n)return t;var i=e.ellipsis||"…",s=e.dir==="rtl",o=0,a=t.length,l;if(n-=r(i),s){for(;o<a;)l=o+a>>>1,r(t.slice(l))>n?o=l+1:a=l;return i+t.slice(o)}else{for(;o<a;)l=1+(o+a>>>1),r(t.slice(0,l))<n?o=l:a=l-1;return t.slice(0,o)+i}}function nP(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Vj(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ap(e)+"px "+nP(e,t)}function $re(e){var t=e.baseline,n=Ap(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Oy(e):t==="line-bottom"?.29*n-.5*Oy(e):0)}const gYt={left:"start",center:"middle",right:"end"},yA=new $s;function Hj(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-b1,t+=r*Math.cos(i),n+=r*Math.sin(i)),yA.x1=t,yA.y1=n,yA}function yYt(e,t){var n=t.dx||0,r=(t.dy||0)+$re(t),i=Hj(t),s=i.x1,o=i.y1,a=t.angle||0,l;e("text-anchor",gYt[t.align]||"start"),a?(l=G1(s,o)+" "+Ire(a),(n||r)&&(l+=" "+G1(n,r))):l=G1(s+n,o+r),e("transform",l)}function Lre(e,t,n){var r=Gu.height(t),i=t.align,s=Hj(t),o=s.x1,a=s.y1,l=t.dx||0,u=(t.dy||0)+$re(t)-Math.round(.8*r),c=tP(t),d;if(We(c)?(r+=Oy(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,Gu.width(t,h)),0)):d=Gu.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=o,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*Ny,o,a);else if(n===2)return e.rotatedPoints(t.angle*Ny,o,a);return e}function vYt(e,t,n){Tf(t,r=>{var i=r.opacity==null?1:r.opacity,s,o,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=Vj(r),e.textAlign=r.align||"left",s=Hj(r),o=s.x1,a=s.y1,r.angle&&(e.save(),e.translate(o,a),e.rotate(r.angle*Ny),o=a=0),o+=r.dx||0,a+=(r.dy||0)+$re(r),c=tP(r),Nx(e,r),We(c))for(u=Oy(r),l=0;l<c.length;++l)d=Dy(r,c[l]),r.fill&&oL(e,r,i)&&e.fillText(d,o,a),r.stroke&&Ox(e,r,i)&&e.strokeText(d,o,a),a+=u;else d=Dy(r,c),r.fill&&oL(e,r,i)&&e.fillText(d,o,a),r.stroke&&Ox(e,r,i)&&e.strokeText(d,o,a);r.angle&&e.restore()}})}function bYt(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=Hj(t),a=o.x1,l=o.y1,u=Lre(yA,t,1),c=-t.angle*Ny,d=Math.cos(c),f=Math.sin(c),h=d*i-f*s+(a-d*a+f*l),p=f*i+d*s+(l-f*a-d*l);return u.contains(h,p)}function _Yt(e,t){const n=Lre(yA,e,2);return Ww(t,n[0],n[1],n[2],n[3])||Ww(t,n[0],n[1],n[4],n[5])||Ww(t,n[4],n[5],n[6],n[7])||Ww(t,n[2],n[3],n[6],n[7])}var wYt={type:"text",tag:"text",nested:!1,attr:yYt,bound:Lre,draw:vYt,pick:Bj(bYt),isect:_Yt},EYt=kre("trail",_Gt,DGt),cc={arc:PGt,area:MGt,group:YGt,image:JGt,line:ZGt,path:nYt,rect:sYt,rule:cYt,shape:dYt,symbol:fYt,text:wYt,trail:EYt};function dW(e,t,n){var r=cc[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new $s),e,n)}var eye={mark:null};function U4e(e,t,n){var r=cc[e.marktype],i=r.bound,s=e.items,o=s&&s.length,a,l,u,c;if(r.nested)return o?u=s[0]:(eye.mark=e,u=eye),c=dW(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new $s,o)for(a=0,l=s.length;a<l;++a)t.union(dW(s[a],i,n));return e.bounds=t}const xYt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function V4e(e,t){return JSON.stringify(e,xYt,t)}function H4e(e){const t=typeof e=="string"?JSON.parse(e):e;return q4e(t)}function q4e(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&q4e(n[i]);return t&&U4e(e),e}class W4e{constructor(t){arguments.length?this.root=H4e(t):(this.root=tye({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Fj(this.root)])}toJSON(t){return V4e(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=tye(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function tye(e,t){const n={bounds:new $s,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function C0(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Fre(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Gs(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=C0(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function Nc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function G4e(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function qj(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function SYt(e,t,n,r){var i=e&&e.mark,s,o;if(i&&(s=cc[i.marktype]).tip){for(o=qj(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=s.tip(i.items,o)}return e}let jre=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||_j(),this._tooltip=n||TYt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),o=C0(null,"a");for(const a in i)o.setAttribute(a,i[a]);o.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=SYt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,o=s.width(),a=s.height();let l=s.x1+i[0]+r.left,u=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:o,height:a,left:l,top:u,right:l+o,bottom:u+a}}};function TYt(e,t,n,r){e.element().setAttribute("title",r||"")}class rP{constructor(t){this._el=null,this._bgcolor=null,this._loader=new R4e(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(o=>{o&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const CYt="keydown",AYt="keypress",IYt="keyup",Y4e="dragenter",XD="dragleave",K4e="dragover",fW="pointerdown",RYt="pointerup",uL="pointermove",QD="pointerout",X4e="pointerover",hW="mousedown",kYt="mouseup",Q4e="mousemove",cL="mouseout",J4e="mouseover",dL="click",PYt="dblclick",NYt="wheel",Z4e="mousewheel",fL="touchstart",hL="touchmove",pL="touchend",OYt=[CYt,AYt,IYt,Y4e,XD,K4e,fW,RYt,uL,QD,X4e,hW,kYt,Q4e,cL,J4e,dL,PYt,NYt,Z4e,fL,hL,pL],pW=uL,vA=cL,mW=dL;class iP extends jre{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=OYt,this.pointermove=rye([uL,Q4e],[X4e,J4e],[QD,cL]),this.dragover=rye([K4e],[Y4e],[XD]),this.pointerout=iye([QD,cL]),this.dragleave=iye([XD])}initialize(t,n,r){return this._canvas=t&&Fre(t,"canvas"),[dL,hW,fW,uL,QD,XD].forEach(i=>nye(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Z4e,t)}pointerdown(t){this._down=this._active,this.fire(fW,t)}mousedown(t){this._down=this._active,this.fire(hW,t)}click(t){this._down===this._active&&(this.fire(dL,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(fL,t,!0)}touchmove(t){this.fire(hL,t,!0)}touchend(t){this.fire(pL,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===mW&&i&&i.href?this.handleHref(n,i,i.href):(t===pW||t===vA)&&this.handleTooltip(n,i,t!==vA),s)for(let o=0,a=s.length;o<a;++o)s[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(nye(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=qj(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const o=this.context();return cc[t.marktype].pick.call(this,o,t,n,r,i,s)}}const DYt=e=>e===fL||e===hL||e===pL?[fL,hL,pL]:[e];function nye(e,t){DYt(t).forEach(n=>MYt(e,n))}function MYt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function g2(e,t,n){t.forEach(r=>e.fire(r,n))}function rye(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?g2(this,e,r):((!i||!i.exit)&&g2(this,n,r),this._active=s,g2(this,t,r),g2(this,e,r))}}function iye(e){return function(t){g2(this,e,t),this._active=null}}function $Yt(){return typeof window<"u"&&window.devicePixelRatio||1}function LYt(e,t,n,r,i,s){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=o?$Yt():i;e.width=t*l,e.height=n*l;for(const u in s)a[u]=s[u];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class mL extends rP{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new $s,this._tempb=new $s}initialize(t,n,r,i,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:ey(1,1,this._options.type),t&&this._canvas&&(Nc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)LYt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||Ve("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,o=this._height,a=this._dirty,l=FYt(i,s,o);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):jYt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],s,o),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=cc[n.marktype];n.clip&&$Gt(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const FYt=(e,t,n)=>new $s().set(0,0,t,n).translate(-e[0],-e[1]);function jYt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class eje extends jre{constructor(t,n){super(t,n);const r=this;r._hrefHandler=Dz(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=Dz(r,(i,s)=>{r.handleTooltip(i,s,i.type!==vA)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(mW,this._hrefHandler),i.removeEventListener(pW,this._tooltipHandler),i.removeEventListener(vA,this._tooltipHandler)),this._svg=i=t&&Fre(t,"svg"),i&&(i.addEventListener(mW,this._hrefHandler),i.addEventListener(pW,this._tooltipHandler),i.addEventListener(vA,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:Dz(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const Dz=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},tje="aria-hidden",Bre="aria-label",zre="role",Ure="aria-roledescription",nje="graphics-object",Vre="graphics-symbol",rje=(e,t,n)=>({[zre]:e,[Ure]:t,[Bre]:n||void 0}),BYt=xf(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),sye={axis:{desc:"axis",caption:VYt},legend:{desc:"legend",caption:HYt},"title-text":{desc:"title",caption:e=>`Title text '${aye(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${aye(e)}'`}},oye={ariaRole:zre,ariaRoleDescription:Ure,description:Bre};function ije(e,t){const n=t.aria===!1;if(e(tje,n||void 0),n||t.description==null)for(const r in oye)e(oye[r],void 0);else{const r=t.mark.marktype;e(Bre,t.description),e(zre,t.ariaRole||(r==="group"?nje:Vre)),e(Ure,t.ariaRoleDescription||`${r} mark`)}}function sje(e){return e.aria===!1?{[tje]:!0}:BYt[e.role]?null:sye[e.role]?UYt(e,sye[e.role]):zYt(e)}function zYt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return rje(n?nje:Vre,`${t} mark container`,e.description)}function UYt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return rje(t.role||Vre,t.desc,n.description||r(n))}catch{return null}}function aye(e){return wt(e.text).join(" ")}function VYt(e){const t=e.datum,n=e.orient,r=t.title?oje(e):null,i=e.context,s=i.scales[t.scale].value,o=i.dataflow.locale(),a=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${kx(a)?"discrete":a} scale with ${b4e(o,s,e)}`}function HYt(e){const t=e.datum,n=t.title?oje(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),o=e.context,a=o.scales[i[s[0]]].value,l=o.dataflow.locale();return WYt(r)+(n?` titled '${n}'`:"")+` for ${qYt(s)} with ${b4e(l,a,e)}`}function oje(e){try{return wt(cr(e.items).items[0].text).join(" ")}catch{return null}}function qYt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+cr(e)}function WYt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const aje=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),GYt=e=>aje(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function Hre(){let e="",t="",n="";const r=[],i=()=>t=n="",s=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},o=(l,u)=>(u!=null&&(t+=` ${l}="${GYt(u)}"`),a),a={open(l){s(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];for(const f of c)for(const h in f)o(h,f[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:o,text:l=>(n+=aje(l),a),toString:()=>e};return a}const lje=e=>uje(Hre(),e)+"";function uje(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):uje(e,r)}return e.close()}const gL={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},yL={blend:"mix-blend-mode"},cje={fill:"none","stroke-miterlimit":10},fC=0,lye="http://www.w3.org/2000/xmlns/",Hs=oR.xmlns;class qre extends rP{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=Gs(t,0,"svg",Hs),this._svg.setAttributeNS(lye,"xmlns",Hs),this._svg.setAttributeNS(lye,"xmlns:xlink",oR["xmlns:xlink"]),this._svg.setAttribute("version",oR.version),this._svg.setAttribute("class","marks"),Nc(t,1),this._root=Gs(this._svg,fC,"g",Hs),A0(this._root,cje),Nc(this._svg,fC+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(A0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Gs(t,fC,"rect",Hs),A0(r,{width:this._width,height:this._height,fill:n}));const i=lje(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Nc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,o,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==s&&(s=i.marktype,o=cc[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,uye(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(o,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,uye(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,o=n.marktype,a=cc[o],l=n.interactive===!1?"none":null,u=a.tag==="g",c=cye(n,t,r,"g",s);if(o!=="group"&&i!=null&&!i.includes(o))return Nc(c,0),n._svg;c.setAttribute("class",G4e(n));const d=sje(n);for(const m in d)Ka(c,m,d[m]);u||Ka(c,"pointer-events",l),Ka(c,"clip-path",n.clip?Ere(this,n,n.group):null);let f=null,h=0;const p=m=>{const g=this.isDirty(m),y=cye(m,c,f,a.tag,s);g&&(this._update(a,y,m),u&&XYt(this,y,m,i)),f=y,++h};return a.nested?n.items.length&&p(n.items[0]):Tf(n,p),Nc(c,h),c}_update(t,n,r){bm=n,wa=n.__values__,ije(bA,r),t.attr(bA,r,this);const i=JYt[t.type];i&&i.call(this,t,n,r),bm&&this.style(bm,r)}style(t,n){if(n!=null){for(const r in gL){let i=r==="font"?nP(n):n[r];if(i===wa[r])continue;const s=gL[r];i==null?t.removeAttribute(s):(bre(i)&&(i=w4e(i,this._defs.gradient,dje())),t.setAttribute(s,i+"")),wa[r]=i}for(const r in yL)JD(t,yL[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=Gs(t,fC+1,"defs",Hs)),i=YYt(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=Gs(t,fC+1,"defs",Hs)),i=KYt(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):Nc(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function uye(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function YYt(e,t,n){let r,i,s;if(t.gradient==="radial"){let o=Gs(e,n++,"pattern",Hs);A0(o,{id:sL+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Gs(o,0,"rect",Hs),A0(o,{width:1,height:1,fill:`url(${dje()}#${t.id})`}),e=Gs(e,n++,"radialGradient",Hs),A0(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Gs(e,n++,"linearGradient",Hs),A0(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=Gs(e,r,"stop",Hs),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return Nc(e,r),n}function KYt(e,t,n){let r;return e=Gs(e,n,"clipPath",Hs),e.setAttribute("id",t.id),t.path?(r=Gs(e,0,"path",Hs),r.setAttribute("d",t.path)):(r=Gs(e,0,"rect",Hs),A0(r,{x:0,y:0,width:t.width,height:t.height})),Nc(e,1),n+1}function XYt(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Tf(n,o=>{i=e.mark(t,o,i,r),++s}),Nc(t,1+s)}function cye(e,t,n,r,i){let s=e._svg,o;if(!s&&(o=t.ownerDocument,s=C0(o,r,Hs),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const a=C0(o,"path",Hs);s.appendChild(a),a.__data__=e;const l=C0(o,"g",Hs);s.appendChild(l),l.__data__=e;const u=C0(o,"path",Hs);s.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(s.ownerSVGElement!==i||QYt(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function QYt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let bm=null,wa=null;const JYt={group(e,t,n){const r=bm=t.childNodes[2];wa=r.__values__,e.foreground(bA,n,this),wa=t.__values__,bm=t.childNodes[1],e.content(bA,n,this);const i=bm=t.childNodes[0];e.background(bA,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==wa.events&&(Ka(r,"pointer-events",s),Ka(i,"pointer-events",s),wa.events=s),n.strokeForeground&&n.stroke){const o=n.fill;Ka(r,"display",null),this.style(i,n),Ka(i,"stroke",null),o&&(n.fill=null),wa=r.__values__,this.style(r,n),o&&(n.fill=o),bm=null}else Ka(r,"display","none")},image(e,t,n){n.smooth===!1?(JD(t,"image-rendering","optimizeSpeed"),JD(t,"image-rendering","pixelated")):JD(t,"image-rendering",null)},text(e,t,n){const r=tP(n);let i,s,o,a;We(r)?(s=r.map(l=>Dy(n,l)),i=s.join(`
`),i!==wa.text&&(Nc(t,0),o=t.ownerDocument,a=Oy(n),s.forEach((l,u)=>{const c=C0(o,"tspan",Hs);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),wa.text=i)):(s=Dy(n,r),s!==wa.text&&(t.textContent=s,wa.text=s)),Ka(t,"font-family",nP(n)),Ka(t,"font-size",Ap(n)+"px"),Ka(t,"font-style",n.fontStyle),Ka(t,"font-variant",n.fontVariant),Ka(t,"font-weight",n.fontWeight)}};function bA(e,t,n){t!==wa[e]&&(n?ZYt(bm,e,t,n):Ka(bm,e,t),wa[e]=t)}function JD(e,t,n){n!==wa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),wa[t]=n)}function A0(e,t){for(const n in t)Ka(e,n,t[n])}function Ka(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function ZYt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function dje(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class fje extends rP{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=Hre();n.open("svg",Nn({},oR,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",cje,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=cc[n.marktype],i=r.tag,s=[ije,r.attr];t.open("g",{class:G4e(n),"clip-path":n.clip?Ere(this,n,n.group):null},sje(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,s,i!=="g"?i:null)),i==="text"){const u=tP(a);if(We(u)){const c={x:0,dy:Oy(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(Dy(a,u[d])).close()}else t.text(Dy(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Tf(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Tf(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},o=(a,l,u,c)=>{s[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(o,n,this)):r(o,n,this),i&&eKt(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const o=n[s],a=o.stops;o.gradient==="radial"?(t.open("pattern",{id:sL+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const s in r){const o=r[s];t.open("clipPath",{id:s}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function eKt(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=nP(t),e["font-size"]=Ap(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in gL){let a=t[o];const l=gL[o];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(bre(a)&&(a=w4e(a,i.gradient,"")),e[l]=a)}for(const o in yL){const a=t[o];a!=null&&(s=s||[],s.push(`${yL[o]}: ${a};`))}return s&&(e.style=s.join(" ")),e}const Ld={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function tKt(e){Ld.svgMarkTypes=e.svgMarkTypes??["text"],Ld.svgOnTop=e.svgOnTop??!0,Ld.debug=e.debug??!1}class gW extends rP{constructor(t){super(t),this._svgRenderer=new qre(t),this._canvasRenderer=new mL(t)}initialize(t,n,r,i,s){this._root_el=Gs(t,0,"div");const o=Gs(this._root_el,0,"div"),a=Gs(this._root_el,1,"div");return this._root_el.style.position="relative",Ld.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Ld.svgOnTop?a:o,this._canvasEl=Ld.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return Ld.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!Ld.svgMarkTypes.includes(s));this._svgRenderer.render(t,Ld.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Ld.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class hje extends iP{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Gs(Gs(t,0,"div"),Ld.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const pje="canvas",mje="hybrid",gje="png",yje="svg",vje="none",I0={Canvas:pje,PNG:gje,SVG:yje,Hybrid:mje,None:vje},Ib={};Ib[pje]=Ib[gje]={renderer:mL,headless:mL,handler:iP};Ib[yje]={renderer:qre,headless:fje,handler:eje};Ib[mje]={renderer:gW,headless:gW,handler:hje};Ib[vje]={};function Wj(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Ib[e]=t,this):Ib[e]}function bje(e,t,n){const r=[],i=new $s().union(t),s=e.marktype;return s?_je(e,i,n,r):s==="group"?wje(e,i,n,r):Ve("Intersect scene must be mark node or group item.")}function _je(e,t,n,r){if(nKt(e,t,n)){const i=e.items,s=e.marktype,o=i.length;let a=0;if(s==="group")for(;a<o;++a)wje(i[a],t,n,r);else for(const l=cc[s].isect;a<o;++a){const u=i[a];Eje(u,t,l)&&r.push(u)}}return r}function nKt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function wje(e,t,n,r){n&&n(e.mark)&&Eje(e,t,cc.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const o=e.x||0,a=e.y||0;t.translate(-o,-a);for(let l=0;l<s;++l)_je(i[l],t,n,r);t.translate(o,a)}return r}function Eje(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const Mz=new $s;function xje(e){const t=e.clip;if(On(t))t(Zk(Mz.clear()));else if(t)Mz.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Mz)}const rKt=1e-9;function Wre(e,t,n){return e===t?!0:n==="path"?Sje(e,t):e instanceof Date&&t instanceof Date?+e==+t:xr(e)&&xr(t)?Math.abs(e-t)<=rKt:!e||!t||!bt(e)&&!bt(t)?e==t:iKt(e,t)}function Sje(e,t){return Wre(Px(e),Px(t))}function iKt(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!Wre(e[i],t[i],i))return!1;return typeof e==typeof t}function sKt(){I4e(),RWt()}const Dx="top",Gd="left",Qd="right",My="bottom",oKt="top-left",aKt="top-right",lKt="bottom-left",uKt="bottom-right",Gre="start",yW="middle",Za="end",cKt="x",dKt="y",Gj="group",Yre="axis",Kre="title",fKt="frame",hKt="scope",Xre="legend",Tje="row-header",Cje="row-footer",Aje="row-title",Ije="column-header",Rje="column-footer",kje="column-title",pKt="padding",mKt="symbol",Pje="fit",Nje="fit-x",Oje="fit-y",gKt="pad",Qre="none",mO="all",vW="each",Jre="flush",R0="column",k0="row";function Dje(e){Me.call(this,null,e)}ft(Dje,Me,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=cc[i],o=s.bound;let a=r.bounds,l;if(s.nested)r.items.length&&n.dirty(r.items[0]),a=gO(r,o),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===Gj||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(gO(u,o))),r.role){case Yre:case Xre:case Kre:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(gO(u,o))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(gO(u,o))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return xje(r),t.modifies("bounds")}});function gO(e,t,n){return t(e.bounds.clear(),e,n)}const dye=":vega_identifier:";function Zre(e){Me.call(this,0,e)}Zre.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ft(Zre,Me,{transform(e,t){const n=yKt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function yKt(e){return e._signals[dye]||(e._signals[dye]=e.add(0))}function Mje(e){Me.call(this,null,e)}ft(Mje,Me,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,vKt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===Gj?Fj:Lj;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function vKt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function $je(e){Me.call(this,null,e)}const fye={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!Lje(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},Lje=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),hye=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(Lje(i,s=e[n].bounds,t))return!0},bKt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},_Kt=(e,t,n)=>{var r=e.range(),i=new $s;return t===Dx||t===My?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},pye=e=>(e.forEach(t=>t.opacity=1),e),mye=(e,t)=>e.reflow(t.modified()).modifies("opacity");ft($je,Me,{transform(e,t){const n=fye[e.method]||fye.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(pye(i),t=mye(t,e)),t;if(i=i.filter(bKt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=pye(i),t=mye(t,e),s.length>=3&&hye(s,r)){do s=n(s,r);while(s.length>=3&&hye(s,r));s.length<3&&!cr(i).opacity&&(s.length>1&&(cr(s).opacity=0),cr(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=_Kt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const a=s[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function Fje(e){Me.call(this,null,e)}ft(Fje,Me,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ba=new $s;function Gw(e,t,n){return e[t]===n?0:(e[t]=n,1)}function wKt(e){var t=e.items[0].orient;return t===Gd||t===Qd}function EKt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function xKt(e,t,n,r){var i=t.items[0],s=i.datum,o=i.translate!=null?i.translate:.5,a=i.orient,l=EKt(s),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,p=s.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&Mre(p),v=0,_=0,w,E;switch(ba.clear().union(g),g.clear(),(w=l[0])>-1&&g.union(i.items[w].bounds),(w=l[1])>-1&&g.union(i.items[w].bounds),a){case Dx:v=d||0,_=-c,E=Math.max(f,Math.min(h,-g.y1)),g.add(0,-E).add(u,0),p&&yO(e,p,E,m,y,0,-1,g);break;case Gd:v=-c,_=d||0,E=Math.max(f,Math.min(h,-g.x1)),g.add(-E,0).add(0,u),p&&yO(e,p,E,m,y,1,-1,g);break;case Qd:v=n+c,_=d||0,E=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(E,u),p&&yO(e,p,E,m,y,1,1,g);break;case My:v=d||0,_=r+c,E=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,E),p&&yO(e,p,E,m,0,0,1,g);break;default:v=i.x,_=i.y}return xg(g.translate(v,_),i),Gw(i,"x",v+o)|Gw(i,"y",_+o)&&(i.bounds=ba,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function yO(e,t,n,r,i,s,o,a){const l=t.bounds;if(t.auto){const u=o*(n+i+r);let c=0,d=0;e.dirty(t),s?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const gye=(e,t)=>Math.floor(Math.min(e,t)),yye=(e,t)=>Math.ceil(Math.max(e,t));function SKt(e){var t=e.items,n=t.length,r=0,i,s;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===Gj)switch(i.role){case Yre:case Xre:case Kre:break;case Tje:o.rowheaders.push(...s);break;case Cje:o.rowfooters.push(...s);break;case Ije:o.colheaders.push(...s);break;case Rje:o.colfooters.push(...s);break;case Aje:o.rowtitle=s[0];break;case kje:o.coltitle=s[0];break;default:o.marks.push(...s)}return o}function TKt(e){return new $s().set(0,0,e.width||0,e.height||0)}function CKt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Mi(e,t,n){const r=bt(e)?e[t]:e;return r??(n!==void 0?n:0)}function vye(e){return e<0?Math.ceil(-e):0}function jje(e,t,n){var r=!n.nodirty,i=n.bounds===Jre?TKt:CKt,s=ba.set(0,0,0,0),o=Mi(n.align,R0),a=Mi(n.align,k0),l=Mi(n.padding,R0),u=Mi(n.padding,k0),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),p=Array(c),m=0,g=Array(f),y=Array(d),v=0,_=Array(f),w=Array(f),E=Array(f),S,x,T,I,P,k,D,R,M,$,L;for(x=0;x<c;++x)p[x]=0;for(x=0;x<d;++x)y[x]=0;for(x=0;x<f;++x)k=t[x],P=E[x]=i(k),k.x=k.x||0,_[x]=0,k.y=k.y||0,w[x]=0,T=x%c,I=~~(x/c),m=Math.max(m,D=Math.ceil(P.x2)),v=Math.max(v,R=Math.ceil(P.y2)),p[T]=Math.max(p[T],D),y[I]=Math.max(y[I],R),h[x]=l+vye(P.x1),g[x]=u+vye(P.y1),r&&e.dirty(t[x]);for(x=0;x<f;++x)x%c===0&&(h[x]=0),x<c&&(g[x]=0);if(o===vW)for(T=1;T<c;++T){for(L=0,x=T;x<f;x+=c)L<h[x]&&(L=h[x]);for(x=T;x<f;x+=c)h[x]=L+p[T-1]}else if(o===mO){for(L=0,x=0;x<f;++x)x%c&&L<h[x]&&(L=h[x]);for(x=0;x<f;++x)x%c&&(h[x]=L+m)}else for(o=!1,T=1;T<c;++T)for(x=T;x<f;x+=c)h[x]+=p[T-1];if(a===vW)for(I=1;I<d;++I){for(L=0,x=I*c,S=x+c;x<S;++x)L<g[x]&&(L=g[x]);for(x=I*c;x<S;++x)g[x]=L+y[I-1]}else if(a===mO){for(L=0,x=c;x<f;++x)L<g[x]&&(L=g[x]);for(x=c;x<f;++x)g[x]=L+v}else for(a=!1,I=1;I<d;++I)for(x=I*c,S=x+c;x<S;++x)g[x]+=y[I-1];for(M=0,x=0;x<f;++x)M=h[x]+(x%c?M:0),_[x]+=M-t[x].x;for(T=0;T<c;++T)for($=0,x=T;x<f;x+=c)$+=g[x],w[x]+=$-t[x].y;if(o&&Mi(n.center,R0)&&d>1)for(x=0;x<f;++x)P=o===mO?m:p[x%c],M=P-E[x].x2-t[x].x-_[x],M>0&&(_[x]+=M/2);if(a&&Mi(n.center,k0)&&c!==1)for(x=0;x<f;++x)P=a===mO?v:y[~~(x/c)],$=P-E[x].y2-t[x].y-w[x],$>0&&(w[x]+=$/2);for(x=0;x<f;++x)s.union(E[x].translate(_[x],w[x]));switch(M=Mi(n.anchor,cKt),$=Mi(n.anchor,dKt),Mi(n.anchor,R0)){case Za:M-=s.width();break;case yW:M-=s.width()/2}switch(Mi(n.anchor,k0)){case Za:$-=s.height();break;case yW:$-=s.height()/2}for(M=Math.round(M),$=Math.round($),s.clear(),x=0;x<f;++x)t[x].mark.bounds.clear();for(x=0;x<f;++x)k=t[x],k.x+=_[x]+=M,k.y+=w[x]+=$,s.union(k.mark.bounds.union(k.bounds.translate(_[x],w[x]))),r&&e.dirty(k);return s}function AKt(e,t,n){var r=SKt(t),i=r.marks,s=n.bounds===Jre?IKt:RKt,o=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,p,m,g;const y=jje(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=Mi(n.headerBand,k0,null),c=vO(e,r.rowheaders,i,a,l,-Mi(o,"rowHeader"),gye,0,s,"x1",0,a,1,m)),r.colheaders&&(m=Mi(n.headerBand,R0,null),d=vO(e,r.colheaders,i,a,a,-Mi(o,"columnHeader"),gye,1,s,"y1",0,1,a,m)),r.rowfooters&&(m=Mi(n.footerBand,k0,null),f=vO(e,r.rowfooters,i,a,l,Mi(o,"rowFooter"),yye,0,s,"x2",a-1,a,1,m)),r.colfooters&&(m=Mi(n.footerBand,R0,null),h=vO(e,r.colfooters,i,a,a,Mi(o,"columnFooter"),yye,1,s,"y2",u-a,1,a,m)),r.rowtitle&&(p=Mi(n.titleAnchor,k0),g=Mi(o,"rowTitle"),g=p===Za?f+g:c-g,m=Mi(n.titleBand,k0,.5),bye(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=Mi(n.titleAnchor,R0),g=Mi(o,"columnTitle"),g=p===Za?h+g:d-g,m=Mi(n.titleBand,R0,.5),bye(e,r.coltitle,g,1,y,m))}function IKt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function RKt(e,t){return e.bounds[t]}function vO(e,t,n,r,i,s,o,a,l,u,c,d,f,h){var p=n.length,m=0,g=0,y,v,_,w,E,S,x,T,I;if(!p)return m;for(y=c;y<p;y+=d)n[y]&&(m=o(m,l(n[y],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=s,v=0,w=t.length;v<w;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,w=t.length;v<w;++v,y+=d){for(S=t[v],E=S.mark.bounds,_=y;_>=0&&(x=n[_])==null;_-=f);a?(T=h==null?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),I=m):(T=m,I=h==null?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),E.union(S.bounds.translate(T-(S.x||0),I-(S.y||0))),S.x=T,S.y=I,e.dirty(S),g=o(g,E[u])}return g}function bye(e,t,n,r,i,s){if(t){e.dirty(t);var o=n,a=n;r?o=Math.round(i.x1+s*i.width()):a=Math.round(i.y1+s*i.height()),t.bounds.translate(o-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=a,e.dirty(t)}}function kKt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function PKt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function NKt(e,t,n,r,i,s,o){const a=kKt(n,t),l=PKt(e,a("offset",0)),u=a("anchor",Gre),c=u===Za?1:u===yW?.5:0,d={align:vW,bounds:a("bounds",Jre),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Gd:d.anchor={x:Math.floor(r.x1)-l,column:Za,y:c*(o||r.height()+2*r.y1),row:u};break;case Qd:d.anchor={x:Math.ceil(r.x2)+l,y:c*(o||r.height()+2*r.y1),row:u};break;case Dx:d.anchor={y:Math.floor(i.y1)-l,row:Za,x:c*(s||i.width()+2*i.x1),column:u};break;case My:d.anchor={y:Math.ceil(i.y2)+l,x:c*(s||i.width()+2*i.x1),column:u};break;case oKt:d.anchor={x:l,y:l};break;case aKt:d.anchor={x:s-l,y:l,column:Za};break;case lKt:d.anchor={x:l,y:o-l,row:Za};break;case uKt:d.anchor={x:s-l,y:o-l,column:Za,row:Za};break}return d}function OKt(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,o=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),MKt(e,n,n.items[0].items[0]),s=DKt(n,s),l=2*n.padding,u=2*n.padding,s.empty()||(l=Math.ceil(s.width()+l),u=Math.ceil(s.height()+u)),r.type===mKt&&$Kt(n.items[0].items[0].items[0].items),i!==Qre&&(n.x=o=0,n.y=a=0),n.width=l,n.height=u,xg(s.set(o,a,o+l,a+u),n),n.mark.bounds.clear().union(s),n}function DKt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function MKt(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&hC(e,n,i,s);else{var o=t.items[1].items[0],a=o.anchor,l=t.titlePadding||0,u=r-o.x,c=r-o.y;switch(o.orient){case Gd:i+=Math.ceil(o.bounds.width())+l;break;case Qd:case My:break;default:s+=o.bounds.height()+l}switch((i||s)&&hC(e,n,i,s),o.orient){case Gd:c+=J_(t,n,o,a,1,1);break;case Qd:u+=J_(t,n,o,Za,0,0)+l,c+=J_(t,n,o,a,1,1);break;case My:u+=J_(t,n,o,a,0,0),c+=J_(t,n,o,Za,-1,0,1)+l;break;default:u+=J_(t,n,o,a,0,0)}(u||c)&&hC(e,o,u,c),(u=Math.round(o.bounds.x1-r))<0&&(hC(e,n,-u,0),hC(e,o,-u,0))}}function J_(e,t,n,r,i,s,o){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(s||!l)&&!o?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&s?c:0,f=l&&s?0:c,h=i<=0?0:Mre(n);return Math.round(r===Gre?d:r===Za?f-h:.5*(c-h))}function hC(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function $Kt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function LKt(e,t,n,r,i){var s=t.items[0],o=s.frame,a=s.orient,l=s.anchor,u=s.offset,c=s.padding,d=s.items[0].items[0],f=s.items[1]&&s.items[1].items[0],h=a===Gd||a===Qd?r:n,p=0,m=0,g=0,y=0,v=0,_;if(o!==Gj?a===Gd?(p=i.y2,h=i.y1):a===Qd?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===Gd&&(p=r,h=0),_=l===Gre?p:l===Za?h:(p+h)/2,f&&f.text){switch(a){case Dx:case My:v=d.bounds.height()+c;break;case Gd:y=d.bounds.width()+c;break;case Qd:y=-d.bounds.width()-c;break}ba.clear().union(f.bounds),ba.translate(y-(f.x||0),v-(f.y||0)),Gw(f,"x",y)|Gw(f,"y",v)&&(e.dirty(f),f.bounds.clear().union(ba),f.mark.bounds.clear().union(ba),e.dirty(f)),ba.clear().union(f.bounds)}else ba.clear();switch(ba.union(d.bounds),a){case Dx:m=_,g=i.y1-ba.height()-u;break;case Gd:m=i.x1-ba.width()-u,g=_;break;case Qd:m=i.x2+ba.width()+u,g=_;break;case My:m=_,g=i.y2+u;break;default:m=s.x,g=s.y}return Gw(s,"x",m)|Gw(s,"y",g)&&(ba.translate(m,g),e.dirty(s),s.bounds.clear().union(ba),t.bounds.clear().union(ba),e.dirty(s)),s.bounds}function Bje(e){Me.call(this,null,e)}ft(Bje,Me,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&AKt(n,r,e.layout),jKt(n,r,e)}),FKt(e.mark.group)?t.reflow():t}});function FKt(e){return e&&e.mark.role!=="legend-entry"}function jKt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),o=new $s().set(0,0,i,s),a=o.clone(),l=o.clone(),u=[],c,d,f,h,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case Yre:h=wKt(d)?a:l,h.union(xKt(e,d,i,s));break;case Kre:c=d;break;case Xre:u.push(OKt(e,d));break;case fKt:case hKt:case Tje:case Cje:case Aje:case Ije:case Rje:case kje:a.union(d.bounds),l.union(d.bounds);break;default:o.union(d.bounds)}if(u.length){const g={};u.forEach(y=>{f=y.orient||Qd,f!==Qre&&(g[f]||(g[f]=[])).push(y)});for(const y in g){const v=g[y];jje(e,v,NKt(v,y,n.legends,a,l,i,s))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===Pje||n.autosize.type===Nje||n.autosize.type===Oje))switch(y.orient){case Gd:case Qd:o.add(v.x1,0).add(v.x2,0);break;case Dx:case My:o.add(0,v.y1).add(0,v.y2)}else o.union(v)})}o.union(a).union(l),c&&o.union(LKt(e,c,i,s,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),BKt(e,t,o,n)}function BKt(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let o=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===pKt){const p=e.padding();o-=p.left+p.right,a-=p.top+p.bottom}s===Qre?(u=0,d=0,l=o,c=a):s===Pje?(l=Math.max(0,o-u-f),c=Math.max(0,a-d-h)):s===Nje?(l=Math.max(0,o-u-f),a=c+d+h):s===Oje?(o=l+u+f,c=Math.max(0,a-d-h)):s===gKt&&(o=l+u+f,a=c+d+h),e._resizeView(o,a,l,c,[u,d],i.resize)}const zKt=Object.freeze(Object.defineProperty({__proto__:null,bound:Dje,identifier:Zre,mark:Mje,overlap:$je,render:Fje,viewlayout:Bje},Symbol.toStringTag,{value:"Module"}));function zje(e){Me.call(this,null,e)}ft(zje,Me,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,a=yre(s,o,e.minstep),l=e.format||p4e(n,s,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?h4e(s,e.values,a):vre(s,a);return i&&(r.rem=i),i=u.map((c,d)=>Dr({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Dr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Uje(e){Me.call(this,null,e)}function UKt(){return Dr({})}function VKt(e){const t=eT().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}ft(Uje,Me,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||UKt,s=e.key||zt,o=this.value;return We(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(s))&&Ve("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=VKt(s)),t.visit(t.ADD,a=>{const l=s(a);let u=o.get(l);u?u.exit?(o.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),o.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=s(a),u=o.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=s(a),u=o.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function Vje(e){Me.call(this,null,e)}ft(Vje,Me,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(We(s))if(n.changed()||s.every(d=>i[d]))s=s[0],n.encode=null;else return t.StopPropagation;var o=s==="enter",a=i.update||Yg,l=i.enter||Yg,u=i.exit||Yg,c=(s&&!o?i[s]:a)||Yg;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==Yg&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Yg&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),o||c!==Yg){const d=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function Hje(e){Me.call(this,[],e)}ft(Hje,Me,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||HD,o=e.scale,a=+e.limit,l=yre(o,e.count==null?5:e.count,e.minstep),u=!!e.values||s===HD,c=e.format||v4e(n,o,l,s,e.formatSpecifier,e.formatType,u),d=e.values||y4e(o,l),f,h,p,m,g;return i&&(r.rem=i),s===HD?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,On(p=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Ba(m=p||8),i=i.map((y,v)=>Dr({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=d[i.length],i.push(Dr({index:i.length,label:`…${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):s===gWt?(f=o.domain(),h=c4e(o,f[0],cr(f)),d.length<3&&!e.values&&f[0]!==cr(f)&&(d=[f[0],cr(f)]),i=d.map((y,v)=>Dr({index:v,label:c(y,v,d),value:y,perc:h(y)}))):(p=d.length-1,h=AWt(o),i=d.map((y,v)=>Dr({index:v,label:c(y,v,d),value:y,perc:v?h(y):0,perc2:v===p?1:h(d[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const HKt=e=>e.source.x,qKt=e=>e.source.y,WKt=e=>e.target.x,GKt=e=>e.target.y;function eie(e){Me.call(this,{},e)}eie.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};ft(eie,Me,{transform(e,t){var n=e.sourceX||HKt,r=e.sourceY||qKt,i=e.targetX||WKt,s=e.targetY||GKt,o=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=_ye.get(l+"-"+a)||_ye.get(l);return u||Ve("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=u(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(o)}});const qje=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,YKt=(e,t,n,r)=>qje(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Wje=(e,t,n,r)=>{var i=n-e,s=r-t,o=Math.hypot(i,s)/2,a=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+a+" 0 1 "+n+","+r},KKt=(e,t,n,r)=>Wje(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Gje=(e,t,n,r)=>{const i=n-e,s=r-t,o=.2*(i+s),a=.2*(s-i);return"M"+e+","+t+"C"+(e+o)+","+(t+a)+" "+(n+a)+","+(r-o)+" "+n+","+r},XKt=(e,t,n,r)=>Gje(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),QKt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,JKt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,ZKt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*a+"L"+r*o+","+r*a},eXt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},tXt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},nXt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*s+"C"+l*i+","+l*s+" "+l*o+","+l*a+" "+r*o+","+r*a},_ye=eT({line:qje,"line-radial":YKt,arc:Wje,"arc-radial":KKt,curve:Gje,"curve-radial":XKt,"orthogonal-horizontal":QKt,"orthogonal-vertical":JKt,"orthogonal-radial":ZKt,"diagonal-horizontal":eXt,"diagonal-vertical":tXt,"diagonal-radial":nXt});function tie(e){Me.call(this,null,e)}tie.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};ft(tie,Me,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||QS,o=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(s),c=u.length,d=o,f=(a-o)/aI(u),h=Yl(c),p,m,g;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)g=u[h[p]],m=l[h[p]],m[r]=d,m[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const rXt=5;function iXt(e){const t=e.type;return!e.bins&&(t===Ix||t===Wk||t===Gk)}function Yje(e){return pre(e)&&e!==Gh}const sXt=xf(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Kje(e){Me.call(this,null,e),this.modified(!0)}ft(Kje,Me,{transform(e,t){var n=t.dataflow,r=this.value,i=oXt(e);(!r||i!==r.type)&&(this.value=r=Rr(i)());for(i in e)if(!sXt[i]){if(i==="padding"&&Yje(r.type))continue;On(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return fXt(r,e,dXt(r,e,lXt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function oXt(e){var t=e.type,n="",r;return t===Gh?Gh+"-"+Ix:(aXt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Gh+"-":r===3?iT+"-":""),(n+t||Ix).toLowerCase())}function aXt(e){const t=e.type;return pre(t)&&t!==Cb&&t!==Ab&&(e.scheme||e.range&&e.range.length&&e.range.every(Et))}function lXt(e,t,n){const r=uXt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&iXt(e),a,l;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return Yje(s)&&t.padding&&i[0]!==cr(i)&&(i=cXt(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Xje(s,i,n)),s===cre&&e.unknown(t.domainImplicit?dH:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&yre(e,t.nice)||null),i.length}function uXt(e,t,n){return t?(e.domain(Xje(e.type,t,n)),t.length):-1}function cXt(e,t,n,r,i,s){var o=Math.abs(cr(n)-n[0]),a=o/(o-2*r),l=e===lg?rne(t,null,a):e===Gk?tL(t,null,a,.5):e===Wk?tL(t,null,a,i||1):e===Nj?ine(t,null,a,s||1):nne(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Xje(e,t,n){if(s4e(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ut(t))}return t}function dXt(e,t,n){let r=t.bins;if(r&&!We(r)){const i=e.domain(),s=i[0],o=cr(i),a=r.step;let l=r.start==null?s:r.start,u=r.stop==null?o:r.stop;a||Ve("Scale bins parameter missing step property."),l<s&&(l=a*Math.ceil(s/a)),u>o&&(u=a*Math.floor(o/a)),r=Yl(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===dre&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function fXt(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=hXt(r,t,n);else if(t.scheme&&(s=pXt(r,t,n),On(s))){if(e.interpolator)return e.interpolator(s);Ve(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&o4e(r))return e.interpolator(Mj(bW(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(mre(t.interpolate,t.interpolateGamma)):On(e.round)?e.round(i):On(e.rangeRound)&&e.interpolate(i?rk:gg),s&&e.range(bW(s,t.reverse))}function hXt(e,t,n){e!==Z6e&&e!==iW&&Ve("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===iW?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*ure(n,i,r)]}function pXt(e,t,n){var r=t.schemeExtent,i,s;return We(t.scheme)?s=Mj(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=gre(i),s||Ve(`Unrecognized scheme name: ${t.scheme}`)),n=e===Dj?n+1:e===dre?n-1:e===Rx||e===Oj?+t.schemeCount||rXt:n,o4e(e)?wye(s,r,t.reverse):On(s)?u4e(wye(s,r),n):e===cre?s:s.slice(0,n)}function wye(e,t,n){return On(e)&&(t||n)?l4e(e,bW(t||[0,1],n)):e}function bW(e,t){return t?e.slice().reverse():e}function Qje(e){Me.call(this,null,e)}ft(Qje,Me,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(c_(e.sort)),this.modified(n),t}});const Eye="zero",Jje="center",Zje="normalize",e5e=["y0","y1"];function nie(e){Me.call(this,null,e)}nie.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Eye,values:[Eye,Jje,Zje]},{name:"as",type:"string",array:!0,length:2,default:e5e}]};ft(nie,Me,{transform(e,t){var n=e.as||e5e,r=n[0],i=n[1],s=c_(e.sort),o=e.field||QS,a=e.offset===Jje?mXt:e.offset===Zje?gXt:yXt,l,u,c,d;for(l=vXt(t.source,e.groupby,s,o),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,o,r,i);return t.reflow(e.modified()).modifies(n)}});function mXt(e,t,n,r,i){for(var s=(t-e.sum)/2,o=e.length,a=0,l;a<o;++a)l=e[a],l[r]=s,l[i]=s+=Math.abs(n(l))}function gXt(e,t,n,r,i){for(var s=1/e.sum,o=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=o,c[i]=o=s*(u+=Math.abs(n(c)))}function yXt(e,t,n,r,i){for(var s=0,o=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=o,c[i]=o+=u):(c[r]=s,c[i]=s+=u)}function vXt(e,t,n,r){var i=[],s=m=>m(c),o,a,l,u,c,d,f,h,p;if(t==null)i.push(e.slice());else for(o={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(s),f=o[d],f||(o[d]=f=[],i.push(f)),f.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>p&&(p=h),n&&f.sort(n)}return i.max=p,i}const bXt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:zje,datajoin:Uje,encode:Vje,legendentries:Hje,linkpath:eie,pie:tie,scale:Kje,sortitems:Qje,stack:nie},Symbol.toStringTag,{value:"Module"}));var _Xt=Math.abs,_W=Math.cos,vL=Math.sin,wXt=1e-6,t5e=Math.PI,wW=t5e/2,xye=EXt(2);function Sye(e){return e>1?wW:e<-1?-wW:Math.asin(e)}function EXt(e){return e>0?Math.sqrt(e):0}function xXt(e,t){var n=e*vL(t),r=30,i;do t-=i=(t+vL(t)-n)/(1+_W(t));while(_Xt(i)>wXt&&--r>0);return t/2}function SXt(e,t,n){function r(i,s){return[e*i*_W(s=xXt(n,s)),t*vL(s)]}return r.invert=function(i,s){return s=Sye(s/t),[i/(e*_W(s)),Sye((2*s+vL(2*s))/n)]},r}var TXt=SXt(xye/wW,xye,t5e);function CXt(){return wp(TXt).scale(169.529)}const AXt=UIe(),EW=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function IXt(e,t){return function n(){const r=t();return r.type=e,r.path=UIe().projection(r),r.copy=r.copy||function(){const i=n();return EW.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},r4e(r)}}function rie(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(bL[e]=IXt(e,t),this):bL[e]||null}function n5e(e){return e&&e.path||AXt}const bL={albers:HIe,albersusa:Ext,azimuthalequalarea:xxt,azimuthalequidistant:Sxt,conicconformal:Axt,conicequalarea:U$,conicequidistant:kxt,equalEarth:Nxt,equirectangular:Ixt,gnomonic:Oxt,identity:Dxt,mercator:Txt,mollweide:CXt,naturalEarth1:Mxt,orthographic:$xt,stereographic:Lxt,transversemercator:Fxt};for(const e in bL)rie(e,bL[e]);function RXt(){}const Hp=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function r5e(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return s(l,u,f=>{n(f,l,u),kXt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=c.length,m;h<p;++h)if(PXt((m=c[h])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function s(l,u,c){var d=[],f=[],h,p,m,g,y,v;for(h=p=-1,g=l[0]>=u,Hp[g<<1].forEach(_);++h<e-1;)m=g,g=l[h+1]>=u,Hp[m|g<<1].forEach(_);for(Hp[g<<0].forEach(_);++p<t-1;){for(h=-1,g=l[p*e+e]>=u,y=l[p*e]>=u,Hp[g<<1|y<<2].forEach(_);++h<e-1;)m=g,g=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,Hp[m|g<<1|y<<2|v<<3].forEach(_);Hp[g|y<<3].forEach(_)}for(h=-1,y=l[p*e]>=u,Hp[y<<2].forEach(_);++h<e-1;)v=y,y=l[p*e+h+1]>=u,Hp[y<<2|v<<3].forEach(_);Hp[y<<3].forEach(_);function _(w){var E=[w[0][0]+h,w[0][1]+p],S=[w[1][0]+h,w[1][1]+p],x=o(E),T=o(S),I,P;(I=f[x])?(P=d[T])?(delete f[I.end],delete d[P.start],I===P?(I.ring.push(S),c(I.ring)):d[I.start]=f[P.end]={start:I.start,end:P.end,ring:I.ring.concat(P.ring)}):(delete f[I.end],I.ring.push(S),f[I.end=T]=I):(I=d[T])?(P=f[x])?(delete d[I.start],delete f[P.end],I===P?(I.ring.push(S),c(I.ring)):d[P.start]=f[I.end]={start:P.start,end:I.end,ring:P.ring.concat(I.ring)}):(delete d[I.start],I.ring.unshift(E),d[I.start=x]=I):d[x]=f[T]={start:x,end:T,ring:[E,S]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],p=f|0,m=h|0,g,y=u[m*e+p];f>0&&f<e&&p===f&&(g=u[m*e+p-1],d[0]=f+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=u[(m-1)*e+p],d[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||Ve("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:RXt,r):n===a},r}function kXt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function PXt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=NXt(e,t[n]))return i;return 0}function NXt(e,t){for(var n=t[0],r=t[1],i=-1,s=0,o=e.length,a=o-1;s<o;a=s++){var l=e[s],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(OXt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function OXt(e,t,n){var r;return DXt(e,t,n)&&MXt(e[r=+(e[0]===t[0])],n[r],t[r])}function DXt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function MXt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function i5e(e,t,n){return function(r){var i=op(r),s=n?Math.min(i[0],0):i[0],o=i[1],a=o-s,l=t?dy(s,o,e):a/(e+1);return Yl(s+l,o,l)}}function iie(e){Me.call(this,null,e)}iie.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};ft(iie,Me,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ja,s=r5e().smooth(e.smooth!==!1),o=e.thresholds||$Xt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=s.size([c.width,c.height])(c.values,We(o)?o:o(c.values));LXt(d,c,u,e),d.forEach(f=>{l.push(xj(u,Dr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function $Xt(e,t,n){const r=i5e(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Gc(t(i).values)))}function LXt(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(On(i)&&(i=i(n,r)),On(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const o=(xr(i)?i:i[0])||1,a=(xr(i)?i:i[1])||1,l=s&&s[0]||0,u=s&&s[1]||0;e.forEach(s5e(t,o,a,l,u))}function s5e(e,t,n,r,i){const s=e.x1||0,o=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-s)*t+r,d[1]=(d[1]-o)*n+i}return function(d){return d.coordinates.forEach(l),d}}function Tye(e,t,n){const r=e>=0?e:xne(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function $z(e){return On(e)?e:Ba(+e)}function o5e(){var e=l=>l[0],t=l=>l[1],n=QS,r=[-1,-1],i=960,s=500,o=2;function a(l,u){const c=Tye(r[0],l,e)>>o,d=Tye(r[1],l,t)>>o,f=c?c+2:0,h=d?d+2:0,p=2*f+(i>>o),m=2*h+(s>>o),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;l.forEach(w=>{const E=f+(+e(w)>>o),S=h+(+t(w)>>o);E>=0&&E<p&&S>=0&&S<m&&(g[E+S*p]+=+n(w))}),c>0&&d>0?(Z_(p,m,g,y,c),ew(p,m,y,g,d),Z_(p,m,g,y,c),ew(p,m,y,g,d),Z_(p,m,g,y,c),ew(p,m,y,g,d)):c>0?(Z_(p,m,g,y,c),Z_(p,m,y,g,c),Z_(p,m,g,y,c),v=y):d>0&&(ew(p,m,g,y,d),ew(p,m,y,g,d),ew(p,m,g,y,d),v=y);const _=u?Math.pow(2,-2*o):1/aI(v);for(let w=0,E=p*m;w<E;++w)v[w]*=_;return{values:v,scale:1<<o,width:p,height:m,x1:f,y1:h,x2:f+(i>>o),y2:h+(s>>o)}}return a.x=function(l){return arguments.length?(e=$z(l),a):e},a.y=function(l){return arguments.length?(t=$z(l),a):t},a.weight=function(l){return arguments.length?(n=$z(l),a):n},a.size=function(l){if(!arguments.length)return[i,s];var u=+l[0],c=+l[1];return u>=0&&c>=0||Ve("invalid size"),i=u,s=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Ve("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),a):1<<o},a.bandwidth=function(l){return arguments.length?(l=wt(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&Ve("invalid bandwidth"),r=l,a):r},a}function Z_(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<t;++o)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+o*e]),a>=i&&(a>=s&&(l-=n[a-s+o*e]),r[a-i+o*e]=l/Math.min(a+1,e-1+s-a,s))}function ew(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<e;++o)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[o+a*e]),a>=i&&(a>=s&&(l-=n[o+(a-s)*e]),r[o+(a-i)*e]=l/Math.min(a+1,t-1+s-a,s))}function sie(e){Me.call(this,null,e)}sie.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const FXt=["x","y","weight","size","cellSize","bandwidth"];function a5e(e,t){return FXt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}ft(sie,Me,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=jXt(r,e.groupby),s=(e.groupby||[]).map(fs),o=a5e(o5e(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<s.length;++f)c[s[f]]=d[f];return c}return l=i.map(c=>Dr(u({[a]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function jXt(e,t){var n=[],r=c=>c(a),i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function oie(e){Me.call(this,null,e)}oie.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};ft(oie,Me,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=r5e().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||i5e(e.count||10,e.nice,!!i),o=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=a5e(o5e(),e)(i,!0),l=s5e(a,a.scale||1,a.scale||1,0,0),o=[a.width,a.height],i=a.values),s=We(s)?s:s(i),i=r.size(o)(i,s),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Dr),n}});const xW="Feature",aie="FeatureCollection",BXt="MultiPoint";function lie(e){Me.call(this,null,e)}lie.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ft(lie,Me,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],o=i&&i[1],a=e.geojson||!i&&ja,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Na(a))||s&&t.modified(Na(s))||o&&t.modified(Na(o)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),s&&o&&(t.visit(l,c=>{var d=s(c),f=o(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:xW,geometry:{type:BXt,coordinates:r}})),this.value={type:aie,features:n}}});function uie(e){Me.call(this,null,e)}uie.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};ft(uie,Me,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ja,s=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=n5e(e.projection),n.materialize().reflow()):o=i===ja||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=zXt(r,e.pointRadius);return n.visit(o,l=>l[s]=r(i(l))),r.pointRadius(a),n.modifies(s)}});function zXt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function cie(e){Me.call(this,null,e)}cie.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};ft(cie,Me,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],o=s[0],a=s[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[o]=d[0],c[a]=d[1]):(c[o]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(s)}});function die(e){Me.call(this,null,e)}die.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};ft(die,Me,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=UXt(n5e(e.projection),e.field||id("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,o=>o[i]=r),n.modifies(i)}});function UXt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(s),o};return r.context=i=>(e.context(i),r),r}function fie(e){Me.call(this,[],e),this.generator=txt()}fie.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};ft(fie,Me,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)On(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(a6e(n[0],i)):t.add.push(Dr(i)),n[0]=i,t}});function hie(e){Me.call(this,null,e)}hie.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};ft(hie,Me,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ja,s=HXt(e.opacity,e),o=VXt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Gc(n.map(u=>Gc(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=Nn({},u,l);r||(d.$max=Gc(c.values||[])),u[a]=qXt(c,d,o.dep?o:Ba(o(d)),s.dep?s:Ba(s(d)))}),t.reflow(!0).modifies(a)}});function VXt(e,t){let n;return On(e)?(n=r=>fy(e(r,t)),n.dep=l5e(e)):n=Ba(fy(e||"#888")),n}function HXt(e,t){let n;return On(e)?(n=r=>e(r,t),n.dep=l5e(e)):e?n=Ba(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function l5e(e){if(!On(e))return!1;const t=xf(Na(e));return t.$x||t.$y||t.$value||t.$max}function qXt(e,t,n,r){const i=e.width,s=e.height,o=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||s,c=e.values,d=c?g=>c[g]:g0,f=ey(l-o,u-a),h=f.getContext("2d"),p=h.getImageData(0,0,l-o,u-a),m=p.data;for(let g=a,y=0;g<u;++g){t.$y=g-a;for(let v=o,_=g*i;v<l;++v,y+=4){t.$x=v-o,t.$value=d(v+_);const w=n(t);m[y+0]=w.r,m[y+1]=w.g,m[y+2]=w.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}function u5e(e){Me.call(this,null,e),this.modified(!0)}ft(u5e,Me,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=GXt(e.type),EW.forEach(r=>{e[r]!=null&&Cye(n,r,e[r])})):EW.forEach(r=>{e.modified(r)&&Cye(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&WXt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function WXt(e,t){const n=YXt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function GXt(e){const t=rie((e||"mercator").toLowerCase());return t||Ve("Unrecognized projection type: "+e),t()}function Cye(e,t,n){On(e[t])&&e[t](n)}function YXt(e){return e=wt(e),e.length===1?e[0]:{type:aie,features:e.reduce((t,n)=>t.concat(KXt(n)),[])}}function KXt(e){return e.type===aie?e.features:wt(e).filter(t=>t!=null).map(t=>t.type===xW?t:{type:xW,geometry:t})}const XXt=Object.freeze(Object.defineProperty({__proto__:null,contour:oie,geojson:lie,geopath:uie,geopoint:cie,geoshape:die,graticule:fie,heatmap:hie,isocontour:iie,kde2d:sie,projection:u5e},Symbol.toStringTag,{value:"Module"})),Aye={center:qwt,collide:cEt,nbody:wEt,link:fEt,x:EEt,y:xEt},y2="forces",SW=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],QXt=["static","iterations"],c5e=["x","y","vx","vy"];function pie(e){Me.call(this,null,e)}pie.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:c5e}]};ft(pie,Me,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(SW),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&d5e(n,e,0,t)):(this.value=n=ZXt(t.source,e),n.on("tick",JXt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(QXt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==y2||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,o;i<s;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(c5e)}});function JXt(e,t){return()=>e.touch(t).run()}function ZXt(e,t){const n=_Et(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),d5e(n,t,!0).on("end",()=>s=!0)}function d5e(e,t,n,r){var i=wt(t.forces),s,o,a,l;for(s=0,o=SW.length;s<o;++s)a=SW[s],a!==y2&&t.modified(a)&&e[a](t[a]);for(s=0,o=i.length;s<o;++s)l=y2+s,a=n||t.modified(y2,s)?tQt(i[s]):r&&eQt(i[s],r)?e.force(l):null,a&&e.force(l,a);for(o=e.numForces||0;s<o;++s)e.force(y2+s,null);return e.numForces=i.length,e}function eQt(e,t){var n,r;for(n in e)if(On(r=e[n])&&t.modified(Na(r)))return 1;return 0}function tQt(e){var t,n;Vt(Aye,e.force)||Ve("Unrecognized force: "+e.force),t=Aye[e.force]();for(n in e)On(t[n])&&nQt(t[n],e[n],e);return t}function nQt(e,t,n){e(On(t)?r=>t(r,n):t)}const rQt=Object.freeze(Object.defineProperty({__proto__:null,force:pie},Symbol.toStringTag,{value:"Module"}));function TW(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function mie(e){Me.call(this,null,e)}mie.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const iQt=e=>e.values;ft(mie,Me,{transform(e,t){t.source||Ve("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(o=>{o.children&&Ej(o.data)&&i.rem.push(o.data)}),this.value=s=RJ({values:wt(e.keys).reduce((o,a)=>(o.key(a),o),sQt()).entries(i.source)},iQt),n&&s.each(o=>{o.children&&(o=Dr(o.data),i.add.push(o),i.source.push(o))}),TW(s,zt,zt)),i.source.root=s,i}});function sQt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const o=i.length,a=e[s++],l={},u={};let c=-1,d,f,h;for(;++c<o;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],s);return u}function r(i,s){if(++s>e.length)return i;const o=[];for(const a in i)o.push({key:a,values:r(i[a],s)});return o}return t}function Sg(e){Me.call(this,null,e)}const oQt=(e,t)=>e.parent===t.parent?1:2;ft(Sg,Me,{transform(e,t){(!t.source||!t.source.root)&&Ve(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(c_(e.sort,o=>o.data)),aQt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?oQt:QS);try{this.value=n(i)}catch(o){Ve(o)}return i.each(o=>lQt(o,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function aQt(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function lQt(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const CW=["x","y","r","depth","children"];function gie(e){Sg.call(this,e)}gie.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:CW.length,default:CW}]};ft(gie,Sg,{layout:xSt,params:["radius","size","padding"],fields:CW});const AW=["x0","y0","x1","y1","depth","children"];function yie(e){Sg.call(this,e)}yie.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:AW.length,default:AW}]};ft(yie,Sg,{layout:SSt,params:["size","round","padding"],fields:AW});function vie(e){Me.call(this,null,e)}vie.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ft(vie,Me,{transform(e,t){t.source||Ve("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?TW(ohe().id(e.key).parentId(e.parentKey)(i.source),e.key,sd):TW(ohe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Iye={tidy:DSt,cluster:Wxt},IW=["x","y","depth","children"];function bie(e){Sg.call(this,e)}bie.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:IW.length,default:IW}]};ft(bie,Sg,{layout(e){const t=e||"tidy";if(Vt(Iye,t))return Iye[t]();Ve("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:IW});function _ie(e){Me.call(this,[],e)}_ie.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ft(_ie,Me,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||Ve("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>s[zt(o)]=1),r.each(o=>{const a=o.data,l=o.parent&&o.parent.data;l&&s[zt(a)]&&s[zt(l)]&&i.add.push(Dr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>s[zt(o)]=1),n.forEach(o=>{(s[zt(o.source)]||s[zt(o.target)])&&i.mod.push(o)})),i}});const Rye={binary:$St,dice:ak,slice:U6,slicedice:LSt,squarify:lRe,resquarify:FSt},RW=["x0","y0","x1","y1","depth","children"];function wie(e){Sg.call(this,e)}wie.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:RW.length,default:RW}]};ft(wie,Sg,{layout(){const e=MSt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Vt(Rye,t)?e.tile(Rye[t]):Ve("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:RW});const uQt=Object.freeze(Object.defineProperty({__proto__:null,nest:mie,pack:gie,partition:yie,stratify:vie,tree:bie,treelinks:_ie,treemap:wie},Symbol.toStringTag,{value:"Module"})),Lz=4278190080;function cQt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function dQt(e,t,n,r,i){const s=e.width,o=e.height,a=r||i,l=ey(s,o).getContext("2d"),u=ey(s,o).getContext("2d"),c=a&&ey(s,o).getContext("2d");n.forEach(T=>ZD(l,T,!1)),ZD(u,t,!1),a&&ZD(c,t,!0);const d=Fz(l,s,o),f=Fz(u,s,o),h=a&&Fz(c,s,o),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,_,w,E,S,x;for(y=0;y<o;++y)for(g=0;g<s;++g)w=y*s+g,E=d[w]&Lz,x=f[w]&Lz,S=a&&h[w]&Lz,(E||S||x)&&(v=e(g),_=e(y),!i&&(E||x)&&p.set(v,_),a&&(E||S)&&m.set(v,_));return[p,m]}function Fz(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function ZD(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>ZD(e,s.items,n))}):cc[r].draw(e,{items:n?t.map(fQt):t})}function fQt(e){const t=xj(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const qp=5,Ya=31,aR=32,i0=new Uint32Array(aR+1),zd=new Uint32Array(aR+1);zd[0]=0;i0[0]=~zd[0];for(let e=1;e<=aR;++e)zd[e]=zd[e-1]<<1|1,i0[e]=~zd[e];function hQt(e,t){const n=new Uint32Array(~~((e*t+aR)/aR));function r(s,o){n[s]|=o}function i(s,o){n[s]&=o}return{array:n,get:(s,o)=>{const a=o*e+s;return n[a>>>qp]&1<<(a&Ya)},set:(s,o)=>{const a=o*e+s;r(a>>>qp,1<<(a&Ya))},clear:(s,o)=>{const a=o*e+s;i(a>>>qp,~(1<<(a&Ya)))},getRange:(s,o,a,l)=>{let u=l,c,d,f,h;for(;u>=o;--u)if(c=u*e+s,d=u*e+a,f=c>>>qp,h=d>>>qp,f===h){if(n[f]&i0[c&Ya]&zd[(d&Ya)+1])return!0}else{if(n[f]&i0[c&Ya]||n[h]&zd[(d&Ya)+1])return!0;for(let p=f+1;p<h;++p)if(n[p])return!0}return!1},setRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>qp,f=c>>>qp,d===f)r(d,i0[u&Ya]&zd[(c&Ya)+1]);else for(r(d,i0[u&Ya]),r(f,zd[(c&Ya)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>qp,f=c>>>qp,d===f)i(d,zd[u&Ya]|i0[(c&Ya)+1]);else for(i(d,zd[u&Ya]),i(f,i0[(c&Ya)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(s,o,a,l)=>s<0||o<0||l>=t||a>=e}}function pQt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),o=a=>~~((a+n)/r);return o.invert=a=>a*r-n,o.bitmap=()=>hQt(i,s),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function mQt(e,t,n,r){const i=e.width,s=e.height;return function(o){const a=o.datum.datum.items[r].items,l=a.length,u=o.datum.fontSize,c=Gu.width(o.datum,o.datum.text);let d=0,f,h,p,m,g,y,v;for(let _=0;_<l;++_)f=a[_].x,p=a[_].y,h=a[_].x2===void 0?f:a[_].x2,m=a[_].y2===void 0?p:a[_].y2,g=(f+h)/2,y=(p+m)/2,v=Math.abs(h-f+m-p),v>=d&&(d=v,o.x=g,o.y=y);return g=c/2,y=u/2,f=o.x-g,h=o.x+g,p=o.y-y,m=o.y+y,o.align="center",f<0&&h<=i?o.align="left":0<=f&&i<h&&(o.align="right"),o.baseline="middle",p<0&&m<=s?o.baseline="top":0<=p&&s<m&&(o.baseline="bottom"),!0}}function _L(e,t,n,r,i,s){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>s}function P0(e,t,n,r,i,s,o,a){const l=i*s/(r*2),u=e(t-l),c=e(t+l),d=e(n-(s=s/2)),f=e(n+s);return o.outOfBounds(u,d,c,f)||o.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function gQt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1];function l(u,c,d,f,h){const p=e.invert(u),m=e.invert(c);let g=d,y=s,v;if(!_L(p,m,f,h,i,s)&&!P0(e,p,m,h,f,g,o,a)&&!P0(e,p,m,h,f,h,o,null)){for(;y-g>=1;)v=(g+y)/2,P0(e,p,m,h,f,v,o,a)?y=v:g=v;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Gu.width(u.datum,u.datum.text);let p=n?f:0,m=!1,g=!1,y=0,v,_,w,E,S,x,T,I,P,k,D,R,M,$,L,B,z;for(let U=0;U<d;++U){for(v=c[U].x,w=c[U].y,_=c[U].x2===void 0?v:c[U].x2,E=c[U].y2===void 0?w:c[U].y2,v>_&&(z=v,v=_,_=z),w>E&&(z=w,w=E,E=z),P=e(v),D=e(_),k=~~((P+D)/2),R=e(w),$=e(E),M=~~((R+$)/2),T=k;T>=P;--T)for(I=M;I>=R;--I)B=l(T,I,p,h,f),B&&([u.x,u.y,p,m]=B);for(T=k;T<=D;++T)for(I=M;I<=$;++I)B=l(T,I,p,h,f),B&&([u.x,u.y,p,m]=B);!m&&!n&&(L=Math.abs(_-v+E-w),S=(v+_)/2,x=(w+E)/2,L>=y&&!_L(S,x,h,f,i,s)&&!P0(e,S,x,f,h,f,o,null)&&(y=L,u.x=S,u.y=x,g=!0))}return m||g?(S=h/2,x=f/2,o.setRange(e(u.x-S),e(u.y-x),e(u.x+S),e(u.y+x)),u.align="center",u.baseline="middle",!0):!1}}const yQt=[-1,-1,1,1],vQt=[-1,1,-1,1];function bQt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Gu.width(u.datum,u.datum.text),p=[];let m=n?f:0,g=!1,y=!1,v=0,_,w,E,S,x,T,I,P,k,D,R,M;for(let $=0;$<d;++$){for(_=c[$].x,E=c[$].y,w=c[$].x2===void 0?_:c[$].x2,S=c[$].y2===void 0?E:c[$].y2,p.push([e((_+w)/2),e((E+S)/2)]);p.length;)if([I,P]=p.pop(),!(o.get(I,P)||a.get(I,P)||l.get(I,P))){l.set(I,P);for(let L=0;L<4;++L)x=I+yQt[L],T=P+vQt[L],l.outOfBounds(x,T,x,T)||p.push([x,T]);if(x=e.invert(I),T=e.invert(P),k=m,D=s,!_L(x,T,h,f,i,s)&&!P0(e,x,T,f,h,k,o,a)&&!P0(e,x,T,f,h,f,o,null)){for(;D-k>=1;)R=(k+D)/2,P0(e,x,T,f,h,R,o,a)?D=R:k=R;k>m&&(u.x=x,u.y=T,m=k,g=!0)}}!g&&!n&&(M=Math.abs(w-_+S-E),x=(_+w)/2,T=(E+S)/2,M>=v&&!_L(x,T,h,f,i,s)&&!P0(e,x,T,f,h,f,o,null)&&(v=M,u.x=x,u.y=T,y=!0))}return g||y?(x=h/2,T=f/2,o.setRange(e(u.x-x),e(u.y-T),e(u.x+x),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const _Qt=["right","center","left"],wQt=["bottom","middle","top"];function EQt(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let f=u.textWidth??0,h,p,m,g,y,v,_,w,E,S,x,T,I,P,k;for(let D=0;D<l;++D){if(h=(n[D]&3)-1,p=(n[D]>>>2&3)-1,m=h===0&&p===0||r[D]<0,g=h&&p?Math.SQRT1_2:1,y=r[D]<0?-1:1,v=c[1+h]+r[D]*h*g,x=c[4+p]+y*d*p/2+r[D]*p*g,w=x-d/2,E=x+d/2,T=e(v),P=e(w),k=e(E),!f)if(kye(T,T,P,k,o,a,v,v,w,E,c,m))f=Gu.width(u.datum,u.datum.text);else continue;if(S=v+y*f*h/2,v=S-f/2,_=S+f/2,T=e(v),I=e(_),kye(T,I,P,k,o,a,v,_,w,E,c,m))return u.x=h?h*y<0?_:v:S,u.y=p?p*y<0?E:w:x,u.align=_Qt[h*y+1],u.baseline=wQt[p*y+1],o.setRange(T,P,I,k),!0}return!1}}function kye(e,t,n,r,i,s,o,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&s||i).getRange(e,n,t,r))}const jz=0,Bz=4,zz=8,Uz=0,Vz=1,Hz=2,xQt={"top-left":jz+Uz,top:jz+Vz,"top-right":jz+Hz,left:Bz+Uz,middle:Bz+Vz,right:Bz+Hz,"bottom-left":zz+Uz,bottom:zz+Vz,"bottom-right":zz+Hz},SQt={naive:mQt,"reduced-search":gQt,floodfill:bQt};function TQt(e,t,n,r,i,s,o,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=CQt(r,d),h=AQt(i,d),p=IQt(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",y=RQt(p,m,a,l),v=u===null||u===1/0,_=g&&c==="naive";let w=-1,E=-1;const S=e.map(P=>{const k=v?Gu.width(P,P.text):void 0;return w=Math.max(w,k),E=Math.max(E,P.fontSize),{datum:P,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(P),textWidth:k}});u=u===null||u===1/0?Math.max(w,E)+Math.max(...r):u;const x=pQt(t[0],t[1],u);let T;if(!_){n&&S.sort((D,R)=>n(D.datum,R.datum));let P=!1;for(let D=0;D<h.length&&!P;++D)P=h[D]===5||f[D]<0;const k=(p&&o||g)&&e.map(D=>D.datum);T=s.length||k?dQt(x,k||[],s,P,g):cQt(x,o&&S)}const I=g?SQt[c](x,T,o,l):EQt(x,T,h,f);return S.forEach(P=>P.opacity=+I(P)),S}function CQt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function AQt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=xQt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function IQt(e){return e&&e.mark&&e.mark.marktype}function RQt(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const o=s.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:s=>{const o=s.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const kW=["x","y","opacity","align","baseline"],f5e=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Eie(e){Me.call(this,null,e)}Eie.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:f5e},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:kW.length,default:kW}]};ft(Eie,Me,{transform(e,t){function n(s){const o=e[s];return On(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Ve("Size parameter should be specified as a [width, height] array.");const i=e.as||kW;return TQt(t.materialize(t.SOURCE).source||[],e.size,e.sort,wt(e.offset==null?1:e.offset),wt(e.anchor||f5e),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const o=s.datum;o[i[0]]=s.x,o[i[1]]=s.y,o[i[2]]=s.opacity,o[i[3]]=s.align,o[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const kQt=Object.freeze(Object.defineProperty({__proto__:null,label:Eie},Symbol.toStringTag,{value:"Module"}));function h5e(e,t){var n=[],r=function(c){return c(a)},i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function xie(e){Me.call(this,null,e)}xie.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};ft(xie,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=h5e(r,e.groupby),s=(e.groupby||[]).map(fs),o=s.length,a=e.as||[fs(e.x),fs(e.y)],l=[];i.forEach(u=>{T6e(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<o;++f)d[s[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(Dr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const PW={constant:Mne,linear:$ne,log:w6e,exp:E6e,pow:x6e,quad:Lne,poly:S6e},PQt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function Sie(e){Me.call(this,null,e)}Sie.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(PW)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};ft(Sie,Me,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=h5e(r,e.groupby),s=(e.groupby||[]).map(fs),o=e.method||"linear",a=e.order==null?3:e.order,l=PQt(o,a),u=e.as||[fs(e.x),fs(e.y)],c=PW[o],d=[];let f=e.extent;Vt(PW,o)||Ve("Invalid regression method: "+o),f!=null&&o==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){d.push(Dr({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=f||op(h,e.x),y=v=>{const _={};for(let w=0;w<s.length;++w)_[s[w]]=h.dims[w];_[u[0]]=v[0],_[u[1]]=v[1],d.push(Dr(_))};o==="linear"||o==="constant"?g.forEach(v=>y([v,m.predict(v)])):kj(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const NQt=Object.freeze(Object.defineProperty({__proto__:null,loess:xie,regression:Sie},Symbol.toStringTag,{value:"Module"}));function Tie(e){Me.call(this,null,e)}Tie.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const OQt=[-1e5,-1e5,1e5,1e5];ft(Tie,Me,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:OQt;const s=this.value=yJ.from(r,e.x,e.y).voronoi(i);for(let o=0,a=r.length;o<a;++o){const l=s.cellPolygon(o);r[o][n]=l&&!MQt(l)?DQt(l):null}return t.reflow(e.modified()).modifies(n)}});function DQt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function MQt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const $Qt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:Tie},Symbol.toStringTag,{value:"Module"}));var qz=Math.PI/180,v2=64,eM=2048;function LQt(){var e=[256,256],t,n,r,i,s,o,a,l=p5e,u=[],c=Math.random,d={};d.layout=function(){for(var p=f(ey()),m=VQt((e[0]>>5)*e[1]),g=null,y=u.length,v=-1,_=[],w=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:s(S),rotate:o(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,x)=>x.size-S.size);++v<y;){var E=w[v];E.x=e[0]*(c()+.5)>>1,E.y=e[1]*(c()+.5)>>1,FQt(p,E,w,v),E.hasText&&h(m,E,g)&&(_.push(E),g?BQt(g,E):g=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}return _};function f(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(v2<<5)/m,p.height=eM/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,_=Math.hypot(e[0],e[1]),w=l(e),E=c()<.5?1:-1,S=-E,x,T,I;(x=w(S+=E))&&(T=~~x[0],I=~~x[1],!(Math.min(Math.abs(T),Math.abs(I))>=_));)if(m.x=y+T,m.y=v+I,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!jQt(m,p,e[0]))&&(!g||zQt(m,g))){for(var P=m.sprite,k=m.width>>5,D=e[0]>>5,R=m.x-(k<<4),M=R&127,$=32-M,L=m.y1-m.y0,B=(m.y+m.y0)*D+(R>>5),z,U=0;U<L;U++){z=0;for(var N=0;N<=k;N++)p[B+N]|=z<<$|(N<k?(z=P[U*k+N])>>>M:0);B+=D}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=Lv(p),d):n},d.fontStyle=function(p){return arguments.length?(i=Lv(p),d):i},d.fontWeight=function(p){return arguments.length?(s=Lv(p),d):s},d.rotate=function(p){return arguments.length?(o=Lv(p),d):o},d.text=function(p){return arguments.length?(t=Lv(p),d):t},d.spiral=function(p){return arguments.length?(l=HQt[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=Lv(p),d):r},d.padding=function(p){return arguments.length?(a=Lv(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function FQt(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(v2<<5)/s,eM/s);var o=0,a=0,l=0,u=n.length,c,d,f,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*qz),g=Math.cos(t.rotate*qz),y=c*g,v=c*m,_=f*g,w=f*m;c=Math.max(Math.abs(y+w),Math.abs(y-w))+31>>5<<5,f=~~Math.max(Math.abs(v+_),Math.abs(v-_))}else c=c+31>>5<<5;if(f>l&&(l=f),o+c>=v2<<5&&(o=0,a+=l,l=0),a+f>=eM)break;i.translate((o+(c>>1))/s,(a+(f>>1))/s),t.rotate&&i.rotate(t.rotate*qz),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=o,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var E=i.getImageData(0,0,(v2<<5)/s,eM/s).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(o=t.xoff,o==null)return;a=t.yoff;var x=0,T=-1;for(p=0;p<f;p++){for(h=0;h<c;h++){var I=d*p+(h>>5),P=E[(a+p)*(v2<<5)+(o+h)<<2]?1<<31-h%32:0;S[I]|=P,x|=P}x?T=p:(t.y0++,f--,p--,a++)}t.y1=t.y0+T,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function jQt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),o=s&127,a=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*n+(s>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>o:0))&t[u+f])return!0;u+=n}return!1}function BQt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function zQt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function p5e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function UQt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var o=s<0?-1:1;switch(Math.sqrt(1+4*o*s)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function VQt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Lv(e){return typeof e=="function"?e:function(){return e}}var HQt={archimedean:p5e,rectangular:UQt};const m5e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],qQt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Cie(e){Me.call(this,LQt(),e)}Cie.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:m5e}]};ft(Cie,Me,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Ve("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return On(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||qQt.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,o=e.as||m5e;let a=e.fontSize||14,l;if(On(a)?l=e.fontSizeRange:a=Ba(a),l){const p=a,m=Rr("sqrt")().domain(op(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[o[0]]=NaN,p[o[1]]=NaN,p[o[3]]=0});const u=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(ad).layout(),c=s.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let p=0,m,g;p<h;++p)m=u[p],g=m.datum,g[o[0]]=m.x+d,g[o[1]]=m.y+f,g[o[2]]=m.font,g[o[3]]=m.size,g[o[4]]=m.style,g[o[5]]=m.weight,g[o[6]]=m.rotate;return t.reflow(r).modifies(o)}});const WQt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:Cie},Symbol.toStringTag,{value:"Module"})),GQt=e=>new Uint8Array(e),YQt=e=>new Uint16Array(e),_A=e=>new Uint32Array(e);function KQt(){let e=8,t=[],n=_A(0),r=bO(0,e),i=bO(0,e);return{data:()=>t,seen:()=>n=XQt(n,t.length),add(s){for(let o=0,a=t.length,l=s.length,u;o<l;++o)u=s[o],u._index=a++,t.push(u)},remove(s,o){const a=t.length,l=Array(a-s),u=t;let c,d,f;for(d=0;!o[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],o[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,o){r[s]|=o},clear(s,o){r[s]&=~o},resize(s,o){const a=r.length;(s>a||o>e)&&(e=Math.max(o,e),r=bO(s,e,r),i=bO(s,e))}}}function XQt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function bO(e,t,n){const r=(t<257?GQt:t<65537?YQt:_A)(e);return n&&r.set(n),r}function Pye(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const o=this,a=o.bisect(o.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)s[l[f]]|=r;for(f=c;f<d;++f)s[l[f]]|=r;return o}}}function Nye(){let e=_A(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=_A(d);let h=Array(d),p,m,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=QQt(h,f),c)p=t,m=e,t=Array(c+d),e=_A(c+d),JQt(u,p,m,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function s(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function o(a,l){let u;return l?u=l.length:(l=t,u=n),[dvt(l,a[0],0,u),cy(l,a[1],0,u)]}return{insert:r,remove:i,bisect:o,reindex:s,index:()=>e,size:()=>n}}function QQt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),pvt(e,t)}function JQt(e,t,n,r,i,s,o,a,l){let u=0,c=0,d;for(d=0;u<r&&c<o;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=s[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<o;++c,++d)a[d]=i[c],l[d]=s[c]+e}function Aie(e){Me.call(this,KQt(),e),this._indices=null,this._dims=null}Aie.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ft(Aie,Me,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],o=r.length;let a=0,l,u;for(;a<o;++a)l=n[a].fname,u=i[l]||(i[l]=Nye()),s.push(Pye(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,o=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,y,v,_,w,E,S,x;if(u.set(l),t.rem.length&&(_=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},v=t.mod,E=0,S=v.length;E<S;++E)w[v[E]._index]=1;for(E=0;E<h;++E)x=r[E],(!o[E]||e.modified("fields",E)||t.modified(x.fields))&&(y=x.fname,(m=p[y])||(s[y]=g=Nye(),p[y]=m=g.insert(x,t.source,0)),o[E]=Pye(g,E,i[E]).onAdd(m,l));for(E=0,S=a.data().length;E<S;++E)_[E]||(u[E]!==l[E]?d.push(E):w[E]&&l[E]!==c&&f.push(E));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,o=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=s.length;let f=i.size(),h,p,m;i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<d;++h)p=a[h].fname,m=l[p]||(l[p]=o[p].insert(a[h],r,f)),s[h].onAdd(m,g);for(;f<c;++f)y[f]=v,g[f]!==v&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),o=e.mod;let a,l,u;for(a=0,l=o.length;a<l;++a)u=o[a]._index,i[u]!==s&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),o=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,p;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,o[h]=p=s[h],s[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const o in r)r[o].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,o=r.length;let a=0,l,u;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<o;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],s,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),o=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],p=u[1],m=e.one;let g,y,v;if(d<h)for(g=d,y=Math.min(h,f);g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(d>h)for(g=h,y=Math.min(d,p);g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;if(f>p)for(g=Math.max(d,p),y=f;g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(f<p)for(g=Math.max(h,f),y=p;g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),o=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(u>d)for(p=d,m=Math.min(u,f);p<m;++p)g=o[p],s[g]^=h,r.push(g);if(c>f)for(p=Math.max(u,f),m=c;p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(c<f)for(p=Math.max(d,c),m=f;p<m;++p)g=o[p],s[g]^=h,r.push(g);e.range=t.slice()}});function Iie(e){Me.call(this,null,e)}Iie.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ft(Iie,Me,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const s=t.fork(t.ALL),o=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:o[c];return s.filter(s.MOD,u),i&i-1?(s.filter(s.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?o[c]:null}),s.filter(s.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?o[c]:null})):(s.filter(s.ADD,u),s.filter(s.REM,c=>(a[c]&n)===i?o[c]:null)),s.filter(s.SOURCE,c=>u(c._index))}});const ZQt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:Aie,resolvefilter:Iie},Symbol.toStringTag,{value:"Module"})),eJt="RawCode",Rb="Literal",tJt="Property",nJt="Identifier",rJt="ArrayExpression",iJt="BinaryExpression",g5e="CallExpression",sJt="ConditionalExpression",oJt="LogicalExpression",aJt="MemberExpression",lJt="ObjectExpression",uJt="UnaryExpression";function jf(e){this.type=e}jf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=cJt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function cJt(e){switch(e.type){case rJt:return e.elements;case iJt:case oJt:return[e.left,e.right];case g5e:return[e.callee].concat(e.arguments);case sJt:return[e.test,e.consequent,e.alternate];case aJt:return[e.object,e.property];case lJt:return e.properties;case tJt:return[e.key,e.value];case uJt:return[e.argument];case nJt:case Rb:case eJt:default:return[]}}var Ip,Dt,Ue,Da,qr,Yj=1,sP=2,kb=3,mv=4,Kj=5,h_=6,jl=7,oP=8,dJt=9;Ip={};Ip[Yj]="Boolean";Ip[sP]="<end>";Ip[kb]="Identifier";Ip[mv]="Keyword";Ip[Kj]="Null";Ip[h_]="Numeric";Ip[jl]="Punctuator";Ip[oP]="String";Ip[dJt]="RegularExpression";var fJt="ArrayExpression",hJt="BinaryExpression",pJt="CallExpression",mJt="ConditionalExpression",y5e="Identifier",gJt="Literal",yJt="LogicalExpression",vJt="MemberExpression",bJt="ObjectExpression",_Jt="Property",wJt="UnaryExpression",bo="Unexpected token %0",EJt="Unexpected number",xJt="Unexpected string",SJt="Unexpected identifier",TJt="Unexpected reserved word",CJt="Unexpected end of input",NW="Invalid regular expression",Wz="Invalid regular expression: missing /",v5e="Octal literals are not allowed in strict mode.",AJt="Duplicate data property in object literal not allowed in strict mode",qo="ILLEGAL",lR="Disabled.",IJt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),RJt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Xj(e,t){if(!e)throw new Error("ASSERT: "+t)}function nm(e){return e>=48&&e<=57}function Rie(e){return"0123456789abcdefABCDEF".includes(e)}function wA(e){return"01234567".includes(e)}function kJt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function uR(e){return e===10||e===13||e===8232||e===8233}function aP(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&IJt.test(String.fromCharCode(e))}function wL(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&RJt.test(String.fromCharCode(e))}const PJt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function b5e(){for(;Ue<Da;){const e=Dt.charCodeAt(Ue);if(kJt(e)||uR(e))++Ue;else break}}function OW(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ue<Da&&Rie(Dt[Ue])?(r=Dt[Ue++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ar({},bo,qo);return String.fromCharCode(i)}function NJt(){var e,t,n,r;for(e=Dt[Ue],t=0,e==="}"&&Ar({},bo,qo);Ue<Da&&(e=Dt[Ue++],!!Rie(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ar({},bo,qo),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function _5e(){var e,t;for(e=Dt.charCodeAt(Ue++),t=String.fromCharCode(e),e===92&&(Dt.charCodeAt(Ue)!==117&&Ar({},bo,qo),++Ue,e=OW("u"),(!e||e==="\\"||!aP(e.charCodeAt(0)))&&Ar({},bo,qo),t=e);Ue<Da&&(e=Dt.charCodeAt(Ue),!!wL(e));)++Ue,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Dt.charCodeAt(Ue)!==117&&Ar({},bo,qo),++Ue,e=OW("u"),(!e||e==="\\"||!wL(e.charCodeAt(0)))&&Ar({},bo,qo),t+=e);return t}function OJt(){var e,t;for(e=Ue++;Ue<Da;){if(t=Dt.charCodeAt(Ue),t===92)return Ue=e,_5e();if(wL(t))++Ue;else break}return Dt.slice(e,Ue)}function DJt(){var e,t,n;return e=Ue,t=Dt.charCodeAt(Ue)===92?_5e():OJt(),t.length===1?n=kb:PJt.hasOwnProperty(t)?n=mv:t==="null"?n=Kj:t==="true"||t==="false"?n=Yj:n=kb,{type:n,value:t,start:e,end:Ue}}function Gz(){var e=Ue,t=Dt.charCodeAt(Ue),n,r=Dt[Ue],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ue,{type:jl,value:String.fromCharCode(t),start:e,end:Ue};default:if(n=Dt.charCodeAt(Ue+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ue+=2,{type:jl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ue};case 33:case 61:return Ue+=2,Dt.charCodeAt(Ue)===61&&++Ue,{type:jl,value:Dt.slice(e,Ue),start:e,end:Ue}}}if(o=Dt.substr(Ue,4),o===">>>=")return Ue+=4,{type:jl,value:o,start:e,end:Ue};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return Ue+=3,{type:jl,value:s,start:e,end:Ue};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Ue+=2,{type:jl,value:i,start:e,end:Ue};if(i==="//"&&Ar({},bo,qo),"<>=!+-*%&|^/".includes(r))return++Ue,{type:jl,value:r,start:e,end:Ue};Ar({},bo,qo)}function MJt(e){let t="";for(;Ue<Da&&Rie(Dt[Ue]);)t+=Dt[Ue++];return t.length===0&&Ar({},bo,qo),aP(Dt.charCodeAt(Ue))&&Ar({},bo,qo),{type:h_,value:parseInt("0x"+t,16),start:e,end:Ue}}function $Jt(e){let t="0"+Dt[Ue++];for(;Ue<Da&&wA(Dt[Ue]);)t+=Dt[Ue++];return(aP(Dt.charCodeAt(Ue))||nm(Dt.charCodeAt(Ue)))&&Ar({},bo,qo),{type:h_,value:parseInt(t,8),octal:!0,start:e,end:Ue}}function Oye(){var e,t,n;if(n=Dt[Ue],Xj(nm(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ue,e="",n!=="."){if(e=Dt[Ue++],n=Dt[Ue],e==="0"){if(n==="x"||n==="X")return++Ue,MJt(t);if(wA(n))return $Jt(t);n&&nm(n.charCodeAt(0))&&Ar({},bo,qo)}for(;nm(Dt.charCodeAt(Ue));)e+=Dt[Ue++];n=Dt[Ue]}if(n==="."){for(e+=Dt[Ue++];nm(Dt.charCodeAt(Ue));)e+=Dt[Ue++];n=Dt[Ue]}if(n==="e"||n==="E")if(e+=Dt[Ue++],n=Dt[Ue],(n==="+"||n==="-")&&(e+=Dt[Ue++]),nm(Dt.charCodeAt(Ue)))for(;nm(Dt.charCodeAt(Ue));)e+=Dt[Ue++];else Ar({},bo,qo);return aP(Dt.charCodeAt(Ue))&&Ar({},bo,qo),{type:h_,value:parseFloat(e),start:t,end:Ue}}function LJt(){var e="",t,n,r,i,s=!1;for(t=Dt[Ue],Xj(t==="'"||t==='"',"String literal must starts with a quote"),n=Ue,++Ue;Ue<Da;)if(r=Dt[Ue++],r===t){t="";break}else if(r==="\\")if(r=Dt[Ue++],!r||!uR(r.charCodeAt(0)))switch(r){case"u":case"x":Dt[Ue]==="{"?(++Ue,e+=NJt()):e+=OW(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:wA(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),Ue<Da&&wA(Dt[Ue])&&(s=!0,i=i*8+"01234567".indexOf(Dt[Ue++]),"0123".includes(r)&&Ue<Da&&wA(Dt[Ue])&&(i=i*8+"01234567".indexOf(Dt[Ue++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Dt[Ue]===`
`&&++Ue;else{if(uR(r.charCodeAt(0)))break;e+=r}return t!==""&&Ar({},bo,qo),{type:oP,value:e,octal:s,start:n,end:Ue}}function FJt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ar({},NW)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ar({},NW)}try{return new RegExp(e,t)}catch{return null}}function jJt(){var e,t,n,r,i;for(e=Dt[Ue],Xj(e==="/","Regular expression literal must start with a slash"),t=Dt[Ue++],n=!1,r=!1;Ue<Da;)if(e=Dt[Ue++],t+=e,e==="\\")e=Dt[Ue++],uR(e.charCodeAt(0))&&Ar({},Wz),t+=e;else if(uR(e.charCodeAt(0)))Ar({},Wz);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ar({},Wz),i=t.substr(1,t.length-2),{value:i,literal:t}}function BJt(){var e,t,n;for(t="",n="";Ue<Da&&(e=Dt[Ue],!!wL(e.charCodeAt(0)));)++Ue,e==="\\"&&Ue<Da?Ar({},bo,qo):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ar({},NW,n),{value:n,literal:t}}function zJt(){var e,t,n,r;return qr=null,b5e(),e=Ue,t=jJt(),n=BJt(),r=FJt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ue}}function UJt(e){return e.type===kb||e.type===mv||e.type===Yj||e.type===Kj}function w5e(){if(b5e(),Ue>=Da)return{type:sP,start:Ue,end:Ue};const e=Dt.charCodeAt(Ue);return aP(e)?DJt():e===40||e===41||e===59?Gz():e===39||e===34?LJt():e===46?nm(Dt.charCodeAt(Ue+1))?Oye():Gz():nm(e)?Oye():Gz()}function ql(){const e=qr;return Ue=e.end,qr=w5e(),Ue=e.end,e}function E5e(){const e=Ue;qr=w5e(),Ue=e}function VJt(e){const t=new jf(fJt);return t.elements=e,t}function Dye(e,t,n){const r=new jf(e==="||"||e==="&&"?yJt:hJt);return r.operator=e,r.left=t,r.right=n,r}function HJt(e,t){const n=new jf(pJt);return n.callee=e,n.arguments=t,n}function qJt(e,t,n){const r=new jf(mJt);return r.test=e,r.consequent=t,r.alternate=n,r}function kie(e){const t=new jf(y5e);return t.name=e,t}function b2(e){const t=new jf(gJt);return t.value=e.value,t.raw=Dt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Mye(e,t,n){const r=new jf(vJt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function WJt(e){const t=new jf(bJt);return t.properties=e,t}function $ye(e,t,n){const r=new jf(_Jt);return r.key=t,r.value=n,r.kind=e,r}function GJt(e,t){const n=new jf(wJt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ar(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(Xj(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=Ue,n.description=i,n}function Qj(e){e.type===sP&&Ar(e,CJt),e.type===h_&&Ar(e,EJt),e.type===oP&&Ar(e,xJt),e.type===kb&&Ar(e,SJt),e.type===mv&&Ar(e,TJt),Ar(e,bo,e.value)}function Ma(e){const t=ql();(t.type!==jl||t.value!==e)&&Qj(t)}function Ii(e){return qr.type===jl&&qr.value===e}function Yz(e){return qr.type===mv&&qr.value===e}function YJt(){const e=[];for(Ue=qr.start,Ma("[");!Ii("]");)Ii(",")?(ql(),e.push(null)):(e.push(Pb()),Ii("]")||Ma(","));return ql(),VJt(e)}function Lye(){Ue=qr.start;const e=ql();return e.type===oP||e.type===h_?(e.octal&&Ar(e,v5e),b2(e)):kie(e.value)}function KJt(){var e,t,n,r;if(Ue=qr.start,e=qr,e.type===kb)return n=Lye(),Ma(":"),r=Pb(),$ye("init",n,r);if(e.type===sP||e.type===jl)Qj(e);else return t=Lye(),Ma(":"),r=Pb(),$ye("init",t,r)}function XJt(){var e=[],t,n,r,i={},s=String;for(Ue=qr.start,Ma("{");!Ii("}");)t=KJt(),t.key.type===y5e?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ar({},AJt):i[r]=!0,e.push(t),Ii("}")||Ma(",");return Ma("}"),WJt(e)}function QJt(){Ma("(");const e=Pie();return Ma(")"),e}const JJt={if:1};function ZJt(){var e,t,n;if(Ii("("))return QJt();if(Ii("["))return YJt();if(Ii("{"))return XJt();if(e=qr.type,Ue=qr.start,e===kb||JJt[qr.value])n=kie(ql().value);else if(e===oP||e===h_)qr.octal&&Ar(qr,v5e),n=b2(ql());else{if(e===mv)throw new Error(lR);e===Yj?(t=ql(),t.value=t.value==="true",n=b2(t)):e===Kj?(t=ql(),t.value=null,n=b2(t)):Ii("/")||Ii("/=")?(n=b2(zJt()),E5e()):Qj(ql())}return n}function eZt(){const e=[];if(Ma("("),!Ii(")"))for(;Ue<Da&&(e.push(Pb()),!Ii(")"));)Ma(",");return Ma(")"),e}function tZt(){Ue=qr.start;const e=ql();return UJt(e)||Qj(e),kie(e.value)}function nZt(){return Ma("."),tZt()}function rZt(){Ma("[");const e=Pie();return Ma("]"),e}function iZt(){var e,t,n;for(e=ZJt();;)if(Ii("."))n=nZt(),e=Mye(".",e,n);else if(Ii("("))t=eZt(),e=HJt(e,t);else if(Ii("["))n=rZt(),e=Mye("[",e,n);else break;return e}function Fye(){const e=iZt();if(qr.type===jl&&(Ii("++")||Ii("--")))throw new Error(lR);return e}function tM(){var e,t;if(qr.type!==jl&&qr.type!==mv)t=Fye();else{if(Ii("++")||Ii("--"))throw new Error(lR);if(Ii("+")||Ii("-")||Ii("~")||Ii("!"))e=ql(),t=tM(),t=GJt(e.value,t);else{if(Yz("delete")||Yz("void")||Yz("typeof"))throw new Error(lR);t=Fye()}}return t}function jye(e){let t=0;if(e.type!==jl&&e.type!==mv)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function sZt(){var e,t,n,r,i,s,o,a,l,u;if(e=qr,l=tM(),r=qr,i=jye(r),i===0)return l;for(r.prec=i,ql(),t=[e,qr],o=tM(),s=[l,r,o];(i=jye(qr))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=Dye(a,l,o),s.push(n);r=ql(),r.prec=i,s.push(r),t.push(qr),n=tM(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=Dye(s[u-1].value,s[u-2],n),u-=2;return n}function Pb(){var e,t,n;return e=sZt(),Ii("?")&&(ql(),t=Pb(),Ma(":"),n=Pb(),e=qJt(e,t,n)),e}function Pie(){const e=Pb();if(Ii(","))throw new Error(lR);return e}function Nie(e){Dt=e,Ue=0,Da=Dt.length,qr=null,E5e();const t=Pie();if(qr.type!==sP)throw new Error("Unexpect token after expression.");return t}var x5e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function S5e(e){function t(o,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,l){return u=>t(o,u,a,l)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&Ve("Missing arguments to clamp function."),o.length>3&&Ve("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:s,test:n("test",s),if:function(o){o.length<3&&Ve("Missing arguments to if function."),o.length>3&&Ve("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function oZt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function T5e(e){e=e||{};const t=e.allowed?xf(e.allowed):{},n=e.forbidden?xf(e.forbidden):{},r=e.constants||x5e,i=(e.functions||S5e)(d),s=e.globalvar,o=e.fieldvar,a=On(s)?s:p=>`${s}["${p}"]`;let l={},u={},c=0;function d(p){if(Et(p))return p;const m=f[p.type];return m==null&&Ve("Unsupported type: "+p.type),m(p)}const f={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Vt(n,m)?Ve("Illegal identifier: "+m):Vt(r,m)?r[m]:Vt(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const y=d(p.property);return g===o&&(u[oZt(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Ve("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=Vt(i,m)&&i[m];return y||Ve("Unrecognized function: "+m),On(y)?y(g):y+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function h(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return h.functions=i,h.constants=r,h}const Bye=Symbol("vega_selection_getter");function C5e(e){return(!e.getter||!e.getter[Bye])&&(e.getter=id(e.field),e.getter[Bye]=!0),e.getter}const Oie="intersect",zye="union",aZt="vlMulti",lZt="vlPoint",Uye="or",uZt="and",mh="_vgsid_",cR=id(mh),cZt="E",dZt="R",fZt="R-E",hZt="R-LE",pZt="R-RE",EL="index:unit";function Vye(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,o,a;s<i;++s)if(a=n[s],o=C5e(a)(e),J0(o)&&(o=Ra(o)),J0(r[s])&&(r[s]=Ra(r[s])),We(r[s])&&J0(r[s][0])&&(r[s]=r[s].map(Ra)),a.type===cZt){if(We(r[s])?r[s].indexOf(o)<0:o!==r[s])return!1}else if(a.type===dZt){if(!qw(o,r[s]))return!1}else if(a.type===pZt){if(!qw(o,r[s],!0,!1))return!1}else if(a.type===fZt){if(!qw(o,r[s],!1,!1))return!1}else if(a.type===hZt&&!qw(o,r[s],!1,!0))return!1;return!0}function mZt(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[EL]&&r[EL].value:void 0,o=n===Oie,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],s&&o){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=Vye(t,u),c[f]=h?-1:++d,h&&s.size===1)return!0;if(!h&&d===s.get(f).count)return!1}else if(h=Vye(t,u),o^h)return h;return a&&o}const A5e=xS(cR),gZt=A5e.left,yZt=A5e.right;function vZt(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[EL]&&r[EL].value:void 0,o=n===Oie,a=cR(t),l=gZt(i,a);if(l===i.length||cR(i[l])!==a)return!1;if(s&&o){if(s.size===1)return!0;if(yZt(i,a)-l<s.size)return!1}return!0}function bZt(e,t){return e.map(n=>Nn(t.fields?{values:t.fields.map(r=>C5e(r)(n.datum))}:{[mh]:cR(n.datum)},t))}function _Zt(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],o={},a={},l={},u,c,d,f,h,p,m,g,y,v,_=s.length,w=0,E,S;w<_;++w)if(u=s[w],f=u.unit,c=u.fields,d=u.values,c&&d){for(E=0,S=c.length;E<S;++E)h=c[E],m=o[h.field]||(o[h.field]={}),g=m[f]||(m[f]=[]),l[h.field]=y=h.type.charAt(0),v=Kz[`${y}_union`],m[f]=v(g,wt(d[E]));n&&(g=a[f]||(a[f]=[]),g.push(wt(d).reduce((x,T,I)=>(x[c[I].field]=T,x),{})))}else h=mh,p=cR(u),m=o[h]||(o[h]={}),g=m[f]||(m[f]=[]),g.push(p),n&&(g=a[f]||(a[f]=[]),g.push({[mh]:p}));if(t=t||zye,o[mh]?o[mh]=Kz[`${mh}_${t}`](...Object.values(o[mh])):Object.keys(o).forEach(x=>{o[x]=Object.keys(o[x]).map(T=>o[x][T]).reduce((T,I)=>T===void 0?I:Kz[`${l[x]}_${t}`](T,I))}),s=Object.keys(a),n&&s.length){const x=r?lZt:aZt;o[x]=t===zye?{[Uye]:s.reduce((T,I)=>(T.push(...a[I]),T),[])}:{[uZt]:s.map(T=>({[Uye]:a[T]}))}}return o}var Kz={[`${mh}_union`]:Evt,[`${mh}_intersect`]:_vt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Ra(t[0]),r=Ra(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Ra(t[0]),r=Ra(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const wZt=":",EZt="@";function Die(e,t,n,r){t[0].type!==Rb&&Ve("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&cr(t).value,o="unit",a=EZt+o,l=wZt+i;s===Oie&&!Vt(r,a)&&(r[a]=n.getData(i).indataRef(n,o)),Vt(r,l)||(r[l]=n.getData(i).tuplesRef())}function I5e(e){const t=this.context.data[e];return t?t.values.value:[]}function xZt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function SZt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(sd).insert(t)),1}function TZt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const lP=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},CZt=lP("format"),R5e=lP("timeFormat"),AZt=lP("utcFormat"),IZt=lP("timeParse"),RZt=lP("utcParse"),_O=new Date(2e3,0,1);function Jj(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(_O.setYear(2e3),_O.setMonth(e),_O.setDate(t),R5e.call(this,_O,n))}function kZt(e){return Jj.call(this,e,1,"%B")}function PZt(e){return Jj.call(this,e,1,"%b")}function NZt(e){return Jj.call(this,0,2+e,"%A")}function OZt(e){return Jj.call(this,0,2+e,"%a")}const DZt=":",MZt="@",DW="%",k5e="$";function Mie(e,t,n,r){t[0].type!==Rb&&Ve("First argument to data functions must be a string literal.");const i=t[0].value,s=DZt+i;if(!Vt(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function $Zt(e,t,n,r){t[0].type!==Rb&&Ve("First argument to indata must be a string literal."),t[1].type!==Rb&&Ve("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=MZt+s;Vt(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function cl(e,t,n,r){if(t[0].type===Rb)Hye(n,r,t[0].value);else for(e in n.scales)Hye(n,r,e)}function Hye(e,t,n){const r=DW+n;if(!Vt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Rp(e,t){if(On(e))return e;if(Et(e)){const n=t.scales[e];return n&&lWt(n.value)?n.value:void 0}}function LZt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=cl,n._range=cl,n._scale=cl;const r=i=>"_["+(i.type===Rb?ut(DW+i.value):ut(DW)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function $ie(e,t){return function(n,r,i){if(n){const s=Rp(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const FZt=$ie("area",DEt),jZt=$ie("bounds",FEt),BZt=$ie("centroid",HEt);function zZt(e,t){const n=Rp(e,(t||this).context);return n&&n.scale()}function UZt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function Lie(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function VZt(){return Lie(this.context.dataflow,"warn",arguments)}function HZt(){return Lie(this.context.dataflow,"info",arguments)}function qZt(){return Lie(this.context.dataflow,"debug",arguments)}function Xz(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function MW(e){const t=fy(e),n=Xz(t.r),r=Xz(t.g),i=Xz(t.b);return .2126*n+.7152*r+.0722*i}function WZt(e,t){const n=MW(e),r=MW(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function GZt(){const e=[].slice.call(arguments);return e.unshift({}),Nn(...e)}function P5e(e,t){return e===t||e!==e&&t!==t?!0:We(e)?We(t)&&e.length===t.length?YZt(e,t):!1:bt(e)&&bt(t)?N5e(e,t):!1}function YZt(e,t){for(let n=0,r=e.length;n<r;++n)if(!P5e(e[n],t[n]))return!1;return!0}function N5e(e,t){for(const n in e)if(!P5e(e[n],t[n]))return!1;return!0}function qye(e){return t=>N5e(e,t)}function KZt(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],l=a.input,u=o.stamp();let c=a.changes,d,f;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{a.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(d=n===!0?sd:We(n)||Ej(n)?n:qye(n),c.remove(d)),t&&c.insert(t),r&&(d=qye(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(f in s)c.modify(i,f,s[f]);return 1}function XZt(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function QZt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Wye={};function JZt(e,t){const n=Wye[t]||(Wye[t]=id(t));return We(e)?e.map(n):n(e)}function Fie(e){return We(e)||ArrayBuffer.isView(e)?e:null}function jie(e){return Fie(e)||(Et(e)?e:null)}function ZZt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fie(e).join(...n)}function een(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jie(e).indexOf(...n)}function ten(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jie(e).lastIndexOf(...n)}function nen(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jie(e).slice(...n)}function ren(e,t,n){return On(n)&&Ve("Function argument passed to replace."),String(e).replace(t,n)}function ien(e){return Fie(e).slice().reverse()}function sen(e,t,n){return ure(e||0,t||0,n||0)}function oen(e,t){const n=Rp(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function aen(e,t){const n=Rp(e,(t||this).context);return n?n.copy():void 0}function len(e,t){const n=Rp(e,(t||this).context);return n?n.domain():[]}function uen(e,t,n){const r=Rp(e,(n||this).context);return r?We(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function cen(e,t){const n=Rp(e,(t||this).context);return n&&n.range?n.range():[]}function den(e,t,n){const r=Rp(e,(n||this).context);return r?r(t):void 0}function fen(e,t,n,r,i){e=Rp(e,(i||this).context);const s=E4e(t,n);let o=e.domain(),a=o[0],l=cr(o),u=ja;return l-a?u=c4e(e,a,l):e=(e.interpolator?Rr("sequential")().interpolator(e.interpolator()):Rr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(o=e.ticks(+r||15),a!==o[0]&&o.unshift(a),l!==cr(o)&&o.push(l)),o.forEach(c=>s.stop(u(c),e(c))),s}function hen(e,t,n){const r=Rp(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function pen(e){let t=null;return function(n){return n?iR(n,t=t||Px(e)):e}}const O5e=e=>e.data;function D5e(e,t){const n=I5e.call(t,e);return n.root&&n.root.lookup||{}}function men(e,t,n){const r=D5e(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(O5e):void 0}function gen(e,t){const n=D5e(e,this)[t];return n?n.ancestors().map(O5e):void 0}const M5e=()=>typeof window<"u"&&window||null;function yen(){const e=M5e();return e?e.screen:{}}function ven(){const e=M5e();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function ben(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function $5e(e,t,n){if(!e)return[];const[r,i]=e,s=new $s().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return bje(o,s,_en(t))}function _en(e){let t=null;if(e){const n=wt(e.marktype),r=wt(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function wen(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=wt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function Een(e){return wt(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function xen(e,t,n){const{x:r,y:i,mark:s}=n,o=new $s().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),$5e([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(l=>Sen(l.x,l.y,t))}function Sen(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[l,u]=n[i];u>t!=a>t&&e<(o-l)*(t-u)/(a-u)+l&&r++}return r&1}const dR={random(){return ad()},cumulativeNormal:Aj,cumulativeLogNormal:Rne,cumulativeUniform:One,densityNormal:Sne,densityLogNormal:Ine,densityUniform:Nne,quantileNormal:Ij,quantileLogNormal:kne,quantileUniform:Dne,sampleNormal:Cj,sampleLogNormal:Ane,sampleUniform:Pne,isArray:We,isBoolean:pv,isDate:J0,isDefined(e){return e!==void 0},isNumber:xr,isObject:bt,isRegExp:_Fe,isString:Et,isTuple:Ej,isValid(e){return e!=null&&e===e},toBoolean:lne,toDate(e){return une(e)},toNumber:Ra,toString:cne,indexof:een,join:ZZt,lastindexof:ten,replace:ren,reverse:ien,slice:nen,flush:vFe,lerp:wFe,merge:GZt,pad:SFe,peek:cr,pluck:JZt,span:Uk,inrange:qw,truncate:TFe,rgb:fy,lab:m$,hcl:g$,hsl:uI,luminance:MW,contrast:WZt,sequence:Yl,format:CZt,utcFormat:AZt,utcParse:RZt,utcOffset:jFe,utcSequence:UFe,timeFormat:R5e,timeParse:IZt,timeOffset:FFe,timeSequence:zFe,timeUnitSpecifier:AFe,monthFormat:kZt,monthAbbrevFormat:PZt,dayFormat:NZt,dayAbbrevFormat:OZt,quarter:pFe,utcquarter:mFe,week:RFe,utcweek:NFe,dayofyear:IFe,utcdayofyear:PFe,warn:VZt,info:HZt,debug:qZt,extent(e){return op(e)},inScope:UZt,intersect:$5e,clampRange:gFe,pinchDistance:XZt,pinchAngle:QZt,screen:yen,containerSize:ben,windowSize:ven,bandspace:sen,setdata:SZt,pathShape:pen,panLinear:cFe,panLog:dFe,panPow:fFe,panSymlog:hFe,zoomLinear:nne,zoomLog:rne,zoomPow:tL,zoomSymlog:ine,encode:TZt,modify:KZt,lassoAppend:wen,lassoPath:Een,intersectLasso:xen},Ten=["view","item","group","xy","x","y"],Cen="event.vega.",L5e="this.",Bie={},F5e={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ut(k5e+e)}]`,functions:Aen,constants:x5e,visitors:Bie},$W=T5e(F5e);function Aen(e){const t=S5e(e);Ten.forEach(n=>t[n]=Cen+n);for(const n in dR)t[n]=L5e+n;return Nn(t,LZt(e,dR,Bie)),t}function Rs(e,t,n){return arguments.length===1?dR[e]:(dR[e]=t,n&&(Bie[e]=n),$W&&($W.functions[e]=L5e+e),this)}Rs("bandwidth",oen,cl);Rs("copy",aen,cl);Rs("domain",len,cl);Rs("range",cen,cl);Rs("invert",uen,cl);Rs("scale",den,cl);Rs("gradient",fen,cl);Rs("geoArea",FZt,cl);Rs("geoBounds",jZt,cl);Rs("geoCentroid",BZt,cl);Rs("geoShape",hen,cl);Rs("geoScale",zZt,cl);Rs("indata",xZt,$Zt);Rs("data",I5e,Mie);Rs("treePath",men,Mie);Rs("treeAncestors",gen,Mie);Rs("vlSelectionTest",mZt,Die);Rs("vlSelectionIdTest",vZt,Die);Rs("vlSelectionResolve",_Zt,Die);Rs("vlSelectionTuples",bZt);function lp(e,t){const n={};let r;try{e=Et(e)?e:ut(e)+"",r=Nie(e)}catch{Ve("Expression parse error: "+e)}r.visit(s=>{if(s.type!==g5e)return;const o=s.callee.name,a=F5e.visitors[o];a&&a(o,s.arguments,t,n)});const i=$W(r);return i.globals.forEach(s=>{const o=k5e+s;!Vt(n,o)&&t.getSignal(s)&&(n[o]=t.signalRef(s))}),{$expr:Nn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function Ien(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const Ren=xf(["rule"]),Gye=xf(["group","image","rect"]);function ken(e,t){let n="";return Ren[t]||(e.x2&&(e.x?(Gye[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Gye[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function zie(e){return(e+"").toLowerCase()}function Pen(e){return zie(e)==="operator"}function Nen(e){return zie(e)==="collect"}function pC(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function Oen(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var Den={operator:(e,t)=>pC(e,["_"],t.code),parameter:(e,t)=>pC(e,["datum","_"],t.code),event:(e,t)=>pC(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return pC(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const o="o["+ut(s)+"]";i+=`$=${r[s].code};if(${o}!==$)${o}=$,m=1;`}return i+=ken(r,n),i+="return m;",pC(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ut).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,o)=>{const a=t[o];let l,u;return s.path?(l=`a${s.path}`,u=`b${s.path}`):((n=n||{})["f"+o]=s,l=`this.f${o}(a)`,u=`this.f${o}(b)`),Oen(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function Men(e){const t=this;Pen(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function $en(e){const t=this;if(e.params){const n=t.get(e.id);n||Ve("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function Len(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=We(i)?i.map(s=>Yye(s,n,t)):Yye(i,n,t)}return t}function Yye(e,t,n){if(!e||!bt(e))return e;for(let r=0,i=Kye.length,s;r<i;++r)if(s=Kye[r],Vt(e,s.key))return s.parse(e,t,n);return e}var Kye=[{key:"$ref",parse:Fen},{key:"$key",parse:Ben},{key:"$expr",parse:jen},{key:"$field",parse:zen},{key:"$encode",parse:Ven},{key:"$compare",parse:Uen},{key:"$context",parse:Hen},{key:"$subflow",parse:qen},{key:"$tupleid",parse:Wen}];function Fen(e,t){return t.get(e.$ref)||Ve("Operator not defined: "+e.$ref)}function jen(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=xu(t.parameterExpression(e.$expr),e.$fields))}function Ben(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=ane(e.$key,e.$flat,t.expr.codegen))}function zen(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=id(e.$field,e.$name,t.expr.codegen))}function Uen(e,t){const n="c:"+e.$compare+"_"+e.$order,r=wt(e.$compare).map(i=>i&&i.$tupleid?zt:i);return t.fn[n]||(t.fn[n]=sne(r,e.$order,t.expr.codegen))}function Ven(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=xu(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function Hen(e,t){return t}function qen(e,t){const n=e.$subflow;return function(r,i,s){const o=t.fork().parse(n),a=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(s),a.detachSubflow=()=>t.detach(o),a}}function Wen(){return zt}function Gen(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Ve("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function Yen(e){var t=this,n=bt(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,o=void 0;r||Ve("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(o=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,o)}const Ken={skip:!0};function Xen(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const o=t.signals[s];e.signals(s,o)&&(r[s]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const o=t.data[s];e.data(s,o)&&(i[s]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function Qen(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],Ken)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(sd).insert(r[s]))}),(e.subcontext||[]).forEach((s,o)=>{const a=t.subcontext[o];a&&a.setState(s)})}function j5e(e,t,n,r){return new B5e(e,t,n,r)}function B5e(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Den,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Xye(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}B5e.prototype=Xye.prototype={fork(){const e=new Xye(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Nen(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const o=n.data[s]||(n.data[s]={});e.data[s].forEach(a=>o[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[zie(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:Ien,parseOperator:Men,parseOperatorParameters:$en,parseParameters:Len,parseStream:Gen,parseUpdate:Yen,getState:Xen,setState:Qen};function Jen(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),z5e(t,e.description()))}function z5e(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function Zen(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const Qz="default";function etn(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:Qz,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?Et(i)?i:i.user:Qz,o=r.item&&r.item.cursor||null;return i&&s===i.user&&o==i.item?i:{user:s,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Et(r)||(i=r.item,r=r.user),LW(e,r&&r!==Qz?r:i||r),i},{cursor:t})}function LW(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function xL(e,t){var n=e._runtime.data;return Vt(n,t)||Ve("Unrecognized data set: "+t),n[t]}function ttn(e,t){return arguments.length<2?xL(this,e).values.value:Zj.call(this,e,d_().remove(sd).insert(t))}function Zj(e,t){l6e(t)||Ve("Second argument to changes must be a changeset.");const n=xL(this,e);return n.modified=!0,this.pulse(n.input,t)}function ntn(e,t){return Zj.call(this,e,d_().insert(t))}function rtn(e,t){return Zj.call(this,e,d_().remove(t))}function U5e(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function V5e(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function e5(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function itn(e){var t=e5(e),n=U5e(e),r=V5e(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function stn(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,o,a;return i&&(a=e5(e),o=t.changedTouches?t.changedTouches[0]:t,s=qj(o,i),s[0]-=a[0],s[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=otn(e,n,s),t}function otn(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var a=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function s(o){if(!o)return n;Et(o)&&(o=i(o));const a=n.slice();for(;o;)a[0]-=o.x||0,a[1]-=o.y||0,o=o.mark&&o.mark.group;return a}return{view:Ba(e),item:Ba(t||{}),group:i,xy:s,x:o=>s(o)[0],y:o=>s(o)[1]}}const Qye="view",atn="timer",ltn="window",utn={trap:!1};function ctn(e){const t=Nn({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{We(r[s])&&(r[s]=xf(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function H5e(e,t,n,r){e._eventListeners.push({type:n,sources:wt(t),handler:r})}function dtn(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function wO(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||bt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function ftn(e,t,n){var r=this,i=new Tj(n),s=function(u,c){r.runAsync(null,()=>{e===Qye&&dtn(r,t)&&u.preventDefault(),i.receive(stn(r,u,c))})},o;if(e===atn)wO(r,"timer",t)&&r.timer(s,t);else if(e===Qye)wO(r,"view",t)&&r.addEventListener(t,s,utn);else if(e===ltn?wO(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&wO(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=o.length;a<l;++a)o[a].addEventListener(t,s);H5e(r,o,t,s)}return i}function Jye(e){return e.item}function Zye(e){return e.item.mark.source}function eve(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function htn(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Jye),Zye,eve(e)),this.on(this.events("view","pointerout",Jye),Zye,eve(t)),this}function ptn(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,o,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Yu(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const mtn="vega-bind",gtn="vega-bind-name",ytn="vega-bind-radio";function vtn(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=one(r.debounce,i.update))),(r.input==null&&r.element?btn:wtn)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function btn(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),H5e(r,t,i,s),e.set=o=>{t.value=o,t.dispatchEvent(_tn(i))}}function _tn(e){return typeof Event<"u"?new Event(e):{type:e}}function wtn(e,t,n,r){const i=r.signal(n.signal),s=Yu("div",{class:mtn}),o=n.input==="radio"?s:s.appendChild(Yu("label"));o.appendChild(Yu("span",{class:gtn},n.name||n.signal)),t.appendChild(s);let a=Etn;switch(n.input){case"checkbox":a=xtn;break;case"select":a=Stn;break;case"radio":a=Ttn;break;case"range":a=Ctn;break}a(e,o,n,i)}function Etn(e,t,n,r){const i=Yu("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function xtn(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=Yu("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=o=>s.checked=!!o||null}function Stn(e,t,n,r){const i=Yu("select",{name:n.signal}),s=n.labels||[];n.options.forEach((o,a)=>{const l={value:o};SL(o,r)&&(l.selected=!0),i.appendChild(Yu("option",l,(s[a]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let a=0,l=n.options.length;a<l;++a)if(SL(n.options[a],o)){i.selectedIndex=a;return}}}function Ttn(e,t,n,r){const i=Yu("span",{class:ytn}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,a)=>{const l={type:"radio",name:n.signal,value:o};SL(o,r)&&(l.checked=!0);const u=Yu("input",l);u.addEventListener("change",()=>e.update(o));const c=Yu("label",{},(s[a]||o)+"");return c.prepend(u),i.appendChild(c),u}),e.set=o=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)SL(a[u].value,o)&&(a[u].checked=!0)}}function Ctn(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,o=n.step||dy(s,i,100),a=Yu("input",{type:"range",name:n.signal,min:s,max:i,step:o});a.value=r;const l=Yu("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function SL(e,t){return e===t||e+""==t+""}function q5e(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,U5e(e),V5e(e),e5(e),i,s).background(e.background())}function Uie(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function Atn(e,t,n,r){const i=new r(e.loader(),Uie(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,e5(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function Itn(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=Wj(r);e=n._el=e?Jz(n,e,!0):null,Jen(n),s||n.error("Unrecognized renderer type: "+r);const o=s.handler||iP,a=e?s.renderer:s.headless;return n._renderer=a?q5e(n,n._renderer,e,a):null,n._handler=Atn(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=Jz(n,t,!0):e.appendChild(Yu("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=Jz(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{vtn(n,l.element||t,l)})),n}function Jz(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const mC=e=>+e||0,Rtn=e=>({top:e,bottom:e,left:e,right:e});function tve(e){return bt(e)?{top:mC(e.top),bottom:mC(e.bottom),left:mC(e.left),right:mC(e.right)}:Rtn(mC(e))}async function Vie(e,t,n,r){const i=Wj(t),s=i&&i.headless;return s||Ve("Unrecognized renderer type: "+t),await e.runAsync(),q5e(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function ktn(e,t){e!==I0.Canvas&&e!==I0.SVG&&e!==I0.PNG&&Ve("Unrecognized image type: "+e);const n=await Vie(this,e,t);return e===I0.SVG?Ptn(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function Ptn(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function Ntn(e,t){return(await Vie(this,I0.Canvas,e,t)).canvas()}async function Otn(e){return(await Vie(this,I0.SVG,e)).svg()}function Dtn(e,t,n){return j5e(e,Ax,dR,n).parse(t)}function Mtn(e){var t=this._runtime.scales;return Vt(t,e)||Ve("Unrecognized scale or projection: "+e),t[e].value}var W5e="width",G5e="height",Hie="padding",nve={skip:!0};function Y5e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Hie?r.left+r.right:0)}function K5e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Hie?r.top+r.bottom:0)}function $tn(e){var t=e._signals,n=t[W5e],r=t[G5e],i=t[Hie];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=Y5e(e,a.size),s()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=K5e(e,a.size),s()},{size:r});const o=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function Ltn(e,t,n,r,i,s){this.runAfter(o=>{let a=0;o._autosize=0,o.width()!==n&&(a=1,o.signal(W5e,n,nve),o._resizeWidth.skip(!0)),o.height()!==r&&(a=1,o.signal(G5e,r,nve),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),a&&o.run("enter"),s&&o.runAfter(l=>l.resize())},!1,1)}function Ftn(e){return this._runtime.getState(e||{data:jtn,signals:Btn,recurse:!0})}function jtn(e,t){return t.modified&&We(t.input.value)&&!e.startsWith("_:vega:_")}function Btn(e,t){return!(e==="parent"||t instanceof Ax.proxy)}function ztn(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function Utn(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(Ybt(n,t))}function Vtn(e,t,n,r){const i=e.element();i&&i.setAttribute("title",Htn(r))}function Htn(e){return e==null?"":We(e)?X5e(e):bt(e)&&!J0(e)?qtn(e):e+""}function qtn(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(We(n)?X5e(n):Q5e(n))}).join(`
`)}function X5e(e){return"["+e.map(Q5e).join(", ")+"]"}function Q5e(e){return We(e)?"[…]":bt(e)&&!J0(e)?"{…}":e}function Wtn(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function J5e(e,t){const n=this;if(t=t||{},TE.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=Nn({},e.locale,t.locale);n.locale(JFe(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||I0.Canvas,n._scenegraph=new W4e;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Vtn,n._redraw=!0,n._handler=new iP().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=ctn(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=Dtn(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:Nn({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Y5e(n,n._width),n._viewHeight=K5e(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,$tn(n),Zen(n),etn(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function EO(e,t){return Vt(e._signals,t)?e._signals[t]:Ve("Unrecognized signal name: "+ut(t))}function Z5e(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function rve(e,t,n,r){let i=Z5e(n,r);return i||(i=Uie(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function ive(e,t,n){const r=Z5e(t,n);return r&&t._targets.remove(r),e}ft(J5e,TE,{async evaluate(e,t,n){if(await TE.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,itn(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&UD(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&z5e(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=EO(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",tve(e)):tve(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(Wj(e)||Ve("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(TE.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(EO(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Ltn,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=Uie(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return rve(this,e,EO(this,e),t)},removeSignalListener(e,t){return ive(this,EO(this,e),t)},addDataListener(e,t){return rve(this,e,xL(this,e).values,t)},removeDataListener(e,t){return ive(this,xL(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=LW(this,null);this._globalCursor=!!e,t&&LW(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:Utn,events:ftn,finalize:ptn,hover:htn,data:ttn,change:Zj,insert:ntn,remove:rtn,scale:Mtn,initialize:Itn,toImageURL:ktn,toCanvas:Ntn,toSVG:Otn,getState:Ftn,setState:ztn,_watchPixelRatio:Wtn});const Gtn="view",TL="[",CL="]",e8e="{",t8e="}",Ytn=":",n8e=",",Ktn="@",Xtn=">",Qtn=/[[\]{}]/,Jtn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let r8e,i8e;function gv(e,t,n){return r8e=t||Gtn,i8e=n||Jtn,s8e(e.trim()).map(FW)}function Ztn(e){return i8e[e]}function EA(e,t,n,r,i){const s=e.length;let o=0,a;for(;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function s8e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=EA(e,i,n8e,TL+e8e,CL+t8e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function FW(e){return e[0]==="["?enn(e):tnn(e)}function enn(e){const t=e.length;let n=1,r;if(n=EA(e,n,CL,TL,CL),n===t)throw"Empty between selector: "+e;if(r=s8e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==Xtn)throw"Expected '>' after between selector: "+e;r=r.map(FW);const i=FW(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function tnn(e){const t={source:r8e},n=[];let r=[0,0],i=0,s=0,o=e.length,a=0,l,u;if(e[o-1]===t8e){if(a=e.lastIndexOf(e8e),a>=0){try{r=nnn(e.substring(a+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),o=e.length}else throw"Unmatched right brace: "+e;a=0}if(!o)throw e;if(e[0]===Ktn&&(i=++a),l=EA(e,a,Ytn),l<o&&(n.push(e.substring(s,l).trim()),s=a=++l),a=EA(e,a,TL),a===o)n.push(e.substring(s,o).trim());else if(n.push(e.substring(s,a).trim()),u=[],s=++a,s===o)throw"Unmatched left bracket: "+e;for(;a<o;){if(a=EA(e,a,CL),a===o)throw"Unmatched left bracket: "+e;if(u.push(e.substring(s,a).trim()),a<o-1&&e[++a]!==TL)throw"Expected left bracket: "+e;s=++a}if(!(o=n.length)||Qtn.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):Ztn(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function nnn(e){const t=e.split(n8e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function rnn(e){return bt(e)?e:{type:e||"pad"}}const gC=e=>+e||0,inn=e=>({top:e,bottom:e,left:e,right:e});function snn(e){return bt(e)?e.signal?e:{top:gC(e.top),bottom:gC(e.bottom),left:gC(e.left),right:gC(e.right)}:inn(gC(e))}const _o=e=>bt(e)&&!We(e)?Nn({},e):{value:e};function sve(e,t,n,r){return n!=null?(bt(n)&&!We(n)||We(n)&&n.length&&bt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function ea(e,t,n){for(const r in t)sve(e,r,t[r]);for(const r in n)sve(e,r,n[r],"update")}function oT(e,t,n){for(const r in t)n&&Vt(n,r)||(e[r]=Nn(e[r]||{},t[r]));return e}function Ew(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const qie="mark",Wie="frame",Gie="scope",onn="axis",ann="axis-domain",lnn="axis-grid",unn="axis-label",cnn="axis-tick",dnn="axis-title",fnn="legend",hnn="legend-band",pnn="legend-entry",mnn="legend-gradient",o8e="legend-label",gnn="legend-symbol",ynn="legend-title",vnn="title",bnn="title-text",_nn="title-subtitle";function wnn(e,t,n,r,i){const s={},o={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!Ew(l,e)&&Zz(s,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===Wie?i.group:n===qie?Nn({},i.mark,i[t]):null;for(l in c)u=Ew(l,e)||(l==="fill"||l==="stroke")&&(Ew("fill",e)||Ew("stroke",e)),u||Zz(s,l,c[l]);wt(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)Ew(h,e)||Zz(s,h,f[h])}),e=Nn({},e);for(l in s)c=s[l],c.signal?(a=a||{})[l]=c:o[l]=c;return e.enter=Nn(o,e.enter),a&&(e.update=Nn(a,e.update)),e}function Zz(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const a8e=e=>Et(e)?ut(e):e.signal?`(${e.signal})`:l8e(e);function t5(e){if(e.gradient!=null)return xnn(e);let t=e.signal?`(${e.signal})`:e.color?Enn(e.color):e.field!=null?l8e(e.field):e.value!==void 0?ut(e.value):void 0;return e.scale!=null&&(t=Snn(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${nM(e.exponent)})`),e.mult!=null&&(t+=`*${nM(e.mult)}`),e.offset!=null&&(t+=`+${nM(e.offset)}`),e.round&&(t=`round(${t})`),t}const xO=(e,t,n,r)=>`(${e}(${[t,n,r].map(t5).join(",")})+'')`;function Enn(e){return e.c?xO("hcl",e.h,e.c,e.l):e.h||e.s?xO("hsl",e.h,e.s,e.l):e.l||e.a?xO("lab",e.l,e.a,e.b):e.r||e.g||e.b?xO("rgb",e.r,e.g,e.b):null}function xnn(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ut(n));for(;t.length&&cr(t)==null;)t.pop();return t.unshift(a8e(e.gradient)),`gradient(${t.join(",")})`}function nM(e){return bt(e)?"("+t5(e)+")":e}function l8e(e){return u8e(bt(e)?e:{datum:e})}function u8e(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Ve("Invalid field reference: "+ut(e));return e.signal||(r=Et(r)?Cp(r).map(ut).join("]["):u8e(r)),t+"["+r+"]"}function Snn(e,t){const n=a8e(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+nM(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function Tnn(e){let t="";return e.forEach(n=>{const r=t5(n);t+=n.test?`(${n.test})?${r}:`:r}),cr(t)===":"&&(t+="null"),t}function c8e(e,t,n,r,i,s){const o={};s=s||{},s.encoders={$encode:o},e=wnn(e,t,n,r,i.config);for(const a in e)o[a]=Cnn(e[a],t,s,i);return s}function Cnn(e,t,n,r){const i={},s={};for(const o in e)e[o]!=null&&(i[o]=Inn(Ann(e[o]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function Ann(e){return We(e)?Tnn(e):t5(e)}function Inn(e,t,n,r){const i=lp(e,t);return i.$fields.forEach(s=>r[s]=1),Nn(n,i.$params),i.$expr}const Rnn="outer",knn=["value","update","init","react","bind"];function ove(e,t){Ve(e+' for "outer" push: '+ut(t))}function d8e(e,t){const n=e.name;if(e.push===Rnn)t.signals[n]||ove("No prior signal definition",n),knn.forEach(r=>{e[r]!==void 0&&ove("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function jW(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function n5(e,t,n,r){return new jW(e,t,n,r)}function AL(e,t){return n5("operator",e,t)}function Bt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function fR(e,t){return t?{$field:e,$name:t}:{$field:e}}const BW=fR("key");function ave(e,t){return{$compare:e,$order:t}}function Pnn(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const Nnn="ascending",Onn="descending";function Dnn(e){return bt(e)?(e.order===Onn?"-":"+")+r5(e.op,e.field):""}function r5(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const Yie="scope",zW="view";function no(e){return e&&e.signal}function Mnn(e){return e&&e.expr}function rM(e){if(no(e))return!0;if(bt(e)){for(const t in e)if(rM(e[t]))return!0}return!1}function Fd(e,t){return e??t}function Y1(e){return e&&e.signal||e}const lve="timer";function hR(e,t){return(e.merge?Lnn:e.stream?Fnn:e.type?jnn:Ve("Invalid stream specification: "+ut(e)))(e,t)}function $nn(e){return e===Yie?zW:e||zW}function Lnn(e,t){const n=e.merge.map(i=>hR(i,t)),r=Kie({merge:n},e,t);return t.addStream(r).id}function Fnn(e,t){const n=hR(e.stream,t),r=Kie({stream:n},e,t);return t.addStream(r).id}function jnn(e,t){let n;e.type===lve?(n=t.event(lve,e.throttle),e={between:e.between,filter:e.filter}):n=t.event($nn(e.source),e.type);const r=Kie({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function Kie(e,t,n){let r=t.between;return r&&(r.length!==2&&Ve('Stream "between" parameter must have 2 entries: '+ut(t)),e.between=[hR(r[0],n),hR(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(Bnn(t.marktype,t.markname,t.markrole)),t.source===Yie&&r.push("inScope(event.item)"),r.length&&(e.filter=lp("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function Bnn(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const znn={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Unn(e,t,n){const r=e.encode,i={target:n};let s=e.events,o=e.update,a=[];s||Ve("Signal update missing events specification."),Et(s)&&(s=gv(s,t.isSubscope()?Yie:zW)),s=wt(s).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[Hnn(a)]),s.length&&a.push(s.length>1?{merge:s}:s[0]),r!=null&&(o&&Ve("Signal encode and update are mutually exclusive."),o="encode(item(),"+ut(r)+")"),i.update=Et(o)?lp(o,t):o.expr!=null?lp(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:znn,$params:{$value:t.signalRef(o.signal)}}:Ve("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Nn(Vnn(l,t),i)))}function Vnn(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):hR(e,t)}}function Hnn(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function qnn(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Ve("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=lp(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>Unn(i,t,n.id))}const ni=e=>(t,n,r)=>n5(e,n,t||void 0,r),f8e=ni("aggregate"),Wnn=ni("axisticks"),h8e=ni("bound"),Bf=ni("collect"),uve=ni("compare"),Gnn=ni("datajoin"),p8e=ni("encode"),Ynn=ni("expression"),Knn=ni("facet"),Xnn=ni("field"),Qnn=ni("key"),Jnn=ni("legendentries"),Znn=ni("load"),ern=ni("mark"),trn=ni("multiextent"),nrn=ni("multivalues"),rrn=ni("overlap"),irn=ni("params"),m8e=ni("prefacet"),srn=ni("projection"),orn=ni("proxy"),arn=ni("relay"),g8e=ni("render"),lrn=ni("scale"),p_=ni("sieve"),urn=ni("sortitems"),y8e=ni("viewlayout"),crn=ni("values");let drn=0;const v8e={min:"min",max:"max",count:"sum"};function frn(e,t){const n=e.type||"linear";i4e(n)||Ve("Unrecognized scale type: "+ut(n)),t.addScale(e.name,{type:n,domain:void 0})}function hrn(e,t){const n=t.getScale(e.name).params;let r;n.domain=b8e(e.domain,e,t),e.range!=null&&(n.range=w8e(e,t,n)),e.interpolate!=null&&xrn(e.interpolate,n),e.nice!=null&&(n.nice=Ern(e.nice,t)),e.bins!=null&&(n.bins=wrn(e.bins,t));for(r in e)Vt(n,r)||r==="name"||(n[r]=zc(e[r],t))}function zc(e,t){return bt(e)?e.signal?t.signalRef(e.signal):Ve("Unsupported object: "+ut(e)):e}function iM(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>zc(n,t))}function i5(e){Ve("Can not find data set: "+ut(e))}function b8e(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Ve("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(We(e)?prn:e.fields?grn:mrn)(e,t,n)}function prn(e,t,n){return e.map(r=>zc(r,n))}function mrn(e,t,n){const r=n.getData(e.data);return r||i5(e.data),kx(t.type)?r.valuesRef(n,e.field,_8e(e.sort,!1)):a4e(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function grn(e,t,n){const r=e.data,i=e.fields.reduce((s,o)=>(o=Et(o)?{data:r,field:o}:We(o)||o.signal?yrn(o,n):o,s.push(o),s),[]);return(kx(t.type)?vrn:a4e(t.type)?brn:_rn)(e,n,i)}function yrn(e,t){const n="_:vega:_"+drn++,r=Bf({});if(We(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ut(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,p_({})]),{data:n,field:"data"}}function vrn(e,t,n){const r=_8e(e.sort,!0);let i,s;const o=n.map(u=>{const c=t.getData(u.data);return c||i5(u.data),c.countsRef(t,u.field,r)}),a={groupby:BW,pulse:o};r&&(i=r.op||"count",s=r.field?r5(i,r.field):"count",a.ops=[v8e[i]],a.fields=[t.fieldRef(s)],a.as=[s]),i=t.add(f8e(a));const l=t.add(Bf({pulse:Bt(i)}));return s=t.add(crn({field:BW,sort:t.sortRef(r),pulse:Bt(l)})),Bt(s)}function _8e(e,t){return e&&(!e.field&&!e.op?bt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Ve("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!v8e[e.op]&&Ve("Multiple domain scales can not be sorted using "+e.op)),e}function brn(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||i5(i.data),s.domainRef(t,i.field)});return Bt(t.add(nrn({values:r})))}function _rn(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||i5(i.data),s.extentRef(t,i.field)});return Bt(t.add(trn({extents:r})))}function wrn(e,t){return e.signal||We(e)?iM(e,t):t.objectProperty(e)}function Ern(e,t){return e.signal?t.signalRef(e.signal):bt(e)?{interval:zc(e.interval),step:zc(e.step)}:zc(e)}function xrn(e,t){t.interpolate=zc(e.type||e),e.gamma!=null&&(t.interpolateGamma=zc(e.gamma))}function w8e(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Et(i)){if(r&&Vt(r,i))return e=Nn({},e,{range:r[i]}),w8e(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=kx(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ve("Unrecognized scale range value: "+ut(i))}else if(i.scheme){n.scheme=We(i.scheme)?iM(i.scheme,t):zc(i.scheme,t),i.extent&&(n.schemeExtent=iM(i.extent,t)),i.count&&(n.schemeCount=zc(i.count,t));return}else if(i.step){n.rangeStep=zc(i.step,t);return}else{if(kx(e.type)&&!We(i))return b8e(i,e,t);We(i)||Ve("Unsupported range type: "+ut(i))}return i.map(s=>(We(s)?iM:zc)(s,t))}function Srn(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=UW(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=UW(n[i],i,t));t.addProjection(e.name,r)}function UW(e,t,n){return We(e)?e.map(r=>UW(r,t,n)):bt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Ve("Unsupported parameter object: "+ut(e)):e}const zf="top",aT="left",lT="right",$y="bottom",E8e="center",Trn="vertical",Crn="start",Arn="middle",Irn="end",VW="index",Xie="label",Rrn="offset",Mx="perc",krn="perc2",Yc="value",uP="guide-label",Qie="guide-title",Prn="group-title",Nrn="group-subtitle",cve="symbol",sM="gradient",HW="discrete",qW="size",Orn="shape",Drn="fill",Mrn="stroke",$rn="strokeWidth",Lrn="strokeDash",Frn="opacity",Jie=[qW,Orn,Drn,Mrn,$rn,Lrn,Frn],cP={name:1,style:1,interactive:1},mr={value:0},Kc={value:1},s5="group",x8e="rect",Zie="rule",jrn="symbol",m_="text";function pR(e){return e.type=s5,e.interactive=e.interactive||!1,e}function Su(e,t){const n=(r,i)=>Fd(e[r],Fd(t[r],i));return n.isVertical=r=>Trn===Fd(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Fd(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Fd(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Fd(e.columns,Fd(t.columns,+n.isVertical(!0))),n}function S8e(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Brn(e,t,n){const r=t.config.style[n];return r&&r[e]}function o5(e,t,n){return`item.anchor === '${Crn}' ? ${e} : item.anchor === '${Irn}' ? ${t} : ${n}`}const ese=o5(ut(aT),ut(lT),ut(E8e));function zrn(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},bt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function T8e(e,t){return t?e?bt(e)?Object.assign({},e,{offset:T8e(e.offset,t)}):{value:e,offset:t}:t:e}function dc(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=oT(e.encode,t,cP)):e.interactive=!1,e}function Urn(e,t,n,r){const i=Su(e,n),s=i.isVertical(),o=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;s?(u=[0,1],c=[0,0],d=o,f=a):(u=[0,0],c=[1,0],d=a,f=o);const h={enter:l={opacity:mr,x:mr,y:mr,width:_o(d),height:_o(f)},update:Nn({},l,{opacity:Kc,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:mr}};return ea(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),dc({type:x8e,role:mnn,encode:h},r)}function Vrn(e,t,n,r,i){const s=Su(e,n),o=s.isVertical(),a=s.gradientThickness(),l=s.gradientLength();let u,c,d,f,h="";o?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const p={opacity:mr,fill:{scale:t,field:Yc}};p[u]={signal:h+"datum."+Mx,mult:l},p[c]=mr,p[d]={signal:h+"datum."+krn,mult:l},p[f]=_o(a);const m={enter:p,update:Nn({},p,{opacity:Kc}),exit:{opacity:mr}};return ea(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),dc({type:x8e,role:hnn,key:Yc,from:i,encode:m},r)}const Hrn=`datum.${Mx}<=0?"${aT}":datum.${Mx}>=1?"${lT}":"${E8e}"`,qrn=`datum.${Mx}<=0?"${$y}":datum.${Mx}>=1?"${zf}":"${Arn}"`;function dve(e,t,n,r){const i=Su(e,t),s=i.isVertical(),o=_o(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const p={enter:u={opacity:mr},update:c={opacity:Kc,text:{field:Xie}},exit:{opacity:mr}};return ea(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Fd(e.labelLimit,t.gradientLabelLimit)}),s?(u.align={value:"left"},u.baseline=c.baseline={signal:qrn},d="y",f="x",h="1-"):(u.align=c.align={signal:Hrn},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+Mx,mult:a},u[f]=c[f]=o,o.offset=Fd(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+VW}:void 0,dc({type:m_,role:o8e,style:uP,key:Yc,from:r,encode:p,overlap:l},n)}function Wrn(e,t,n,r,i){const s=Su(e,t),o=n.entries,a=!!(o&&o.interactive),l=o?o.name:void 0,u=s("clipHeight"),c=s("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${Rrn} : datum.${qW}`,h=u?_o(u):{field:qW},p=`datum.${VW}`,m=`max(1, ${i})`;let g,y,v,_,w;h.mult=.5,g={enter:y={opacity:mr,x:{signal:f,mult:.5,offset:c},y:h},update:v={opacity:Kc,x:y.x,y:y.y},exit:{opacity:mr}};let E=null,S=null;e.fill||(E=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),ea(g,{fill:s("symbolFillColor",E),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",S),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),Jie.forEach(P=>{e[P]&&(v[P]=y[P]={scale:e[P],field:Yc})});const x=dc({type:jrn,role:gnn,key:Yc,from:d,clip:u?!0:void 0,encode:g},n.symbols),T=_o(c);T.offset=s("labelOffset"),g={enter:y={opacity:mr,x:{signal:f,offset:T},y:h},update:v={opacity:Kc,text:{field:Xie},x:y.x,y:y.y},exit:{opacity:mr}},ea(g,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const I=dc({type:m_,role:o8e,style:uP,key:Yc,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:mr,height:u?_o(u):mr,opacity:mr},exit:{opacity:mr},update:v={opacity:Kc,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(_=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${_}`,v.column.signal=`floor(${p} / ${_})`,w={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,w={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:VW}},pR({role:Gie,from:r,encode:oT(g,o,cP),marks:[x,I],name:l,interactive:a,sort:w})}function Grn(e,t){const n=Su(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const tse='item.orient === "left"',nse='item.orient === "right"',a5=`(${tse} || ${nse})`,Yrn=`datum.vgrad && ${a5}`,Krn=o5('"top"','"bottom"','"middle"'),Xrn=o5('"right"','"left"','"center"'),Qrn=`datum.vgrad && ${nse} ? (${Xrn}) : (${a5} && !(datum.vgrad && ${tse})) ? "left" : ${ese}`,Jrn=`item._anchor || (${a5} ? "middle" : "start")`,Zrn=`${Yrn} ? (${tse} ? -90 : 90) : 0`,ein=`${a5} ? (datum.vgrad ? (${nse} ? "bottom" : "top") : ${Krn}) : "top"`;function tin(e,t,n,r){const i=Su(e,t),s={enter:{opacity:mr},update:{opacity:Kc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:mr}};return ea(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:Jrn},angle:{signal:Zrn},align:{signal:Qrn},baseline:{signal:ein},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),dc({type:m_,role:ynn,style:Qie,from:r,encode:s},n)}function nin(e,t){let n;return bt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+fve(e.path)+")":e.sphere&&(n="geoShape("+fve(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function fve(e){return bt(e)&&e.signal?e.signal:ut(e)}function C8e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===s5?Gie:t||qie}function rin(e){return{marktype:e.type,name:e.name||void 0,role:e.role||C8e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function iin(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function rse(e,t){const n=d6e(e.type);n||Ve("Unrecognized transform type: "+ut(e.type));const r=n5(n.type.toLowerCase(),null,A8e(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function A8e(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const o=e.params[s];r[o.name]=sin(o,t,n)}return r}function sin(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return oin(e,t,n);if(i===void 0){e.required&&Ve("Missing required "+ut(t.type)+" parameter: "+ut(e.name));return}else{if(r==="param")return ain(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!no(i)?i.map(s=>hve(e,s,n)):hve(e,i,n)}function hve(e,t,n){const r=e.type;if(no(t))return mve(r)?Ve("Expression references can not be signals."):e7(r)?n.fieldRef(t):gve(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||e7(r);return i&&lin(t)?n.exprRef(t.expr,t.as):i&&uin(t)?fR(t.field,t.as):mve(r)?lp(t,n):cin(r)?Bt(n.getData(t).values):e7(r)?fR(t):gve(r)?n.compareRef(t):t}}function oin(e,t,n){return Et(t.from)||Ve('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function ain(e,t,n){const r=t[e.name];return e.array?(We(r)||Ve("Expected an array of sub-parameters. Instead: "+ut(r)),r.map(i=>pve(e,i,n))):pve(e,r,n)}function pve(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Ve("Unsupported parameter: "+ut(t));const s=Nn(A8e(i,t,n),i.key);return Bt(n.add(irn(s)))}const lin=e=>e&&e.expr,uin=e=>e&&e.field,cin=e=>e==="data",mve=e=>e==="expr",e7=e=>e==="field",gve=e=>e==="compare";function din(e,t,n){let r,i,s,o,a;return e?(r=e.facet)&&(t||Ve("Only group marks can be faceted."),r.field!=null?o=a=oM(r,n):(e.data?a=Bt(n.getData(e.data).aggregate):(s=rse(Nn({type:"aggregate",groupby:wt(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=oM(r,n),o=a=Bt(n.add(s))),i=n.keyRef(r.groupby,!0))):o=Bt(n.add(Bf(null,[{}]))),o||(o=oM(e,n)),{key:i,pulse:o,parent:a}}function oM(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Bt(t.getData(e.data).output)}function Nb(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Nb.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],o=null,a=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Bt(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(o=t[a]);return new Nb(e,s,i,r,o)};function I8e(e){return Et(e)?e:null}function yve(e,t,n){const r=r5(n.op,n.field);let i;if(t.ops){for(let s=0,o=t.as.length;s<o;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function yC(e,t,n,r,i,s,o){const a=t[n]||(t[n]={}),l=Dnn(s);let u=I8e(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=s?{field:BW,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:Bt(t.output)};l&&(f.sort=e.sortRef(s)),d=e.add(n5(r,void 0,f)),o&&(t.index[i]=d),c=Bt(d),u!=null&&(a[u]=c)}return c}Nb.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=I8e(t);let o,a,l;return s!=null&&(e=r.scope,o=i[s]),o?n&&n.field&&yve(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Bt(r.output)},n&&n.field&&yve(e,l,n),a=e.add(f8e(l)),o=e.add(Bf({pulse:Bt(a)})),o={agg:a,ref:Bt(o)},s!=null&&(i[s]=o)),o.ref},tuplesRef(){return Bt(this.values)},extentRef(e,t){return yC(e,this,"extent","extent",t,!1)},domainRef(e,t){return yC(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return yC(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return yC(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return yC(e,this,"indata","tupleindex",t,!0,!0)}};function fin(e,t,n){const r=e.from.facet,i=r.name,s=oM(r,t);let o;r.name||Ve("Facet must have a name: "+ut(r)),r.data||Ve("Facet must reference a data set: "+ut(r)),r.field?o=t.add(m8e({field:t.fieldRef(r.field),pulse:s})):r.groupby?o=t.add(Knn({key:t.keyRef(r.groupby),group:Bt(t.proxy(n.parent)),pulse:s})):Ve("Facet must specify groupby or field: "+ut(r));const a=t.fork(),l=a.add(Bf()),u=a.add(p_({pulse:Bt(l)}));a.addData(i,new Nb(a,l,l,u)),a.addSignal("parent",null),o.params.subflow={$subflow:a.parse(e).toRuntime()}}function hin(e,t,n){const r=t.add(m8e({pulse:n.pulse})),i=t.fork();i.add(p_()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function R8e(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,o=e.modify,a=e.values,l=t.add(AL()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,s,o,a].map(d=>d??"null").join(",")+"),0)",c=lp(u,t);l.update=c.$expr,l.params=c.$params}function l5(e,t){const n=C8e(e),r=e.type===s5,i=e.from&&e.from.facet,s=e.overlap;let o=e.layout||n===Gie||n===Wie,a,l,u,c,d,f,h;const p=n===qie||o||i,m=din(e.from,r,t);l=t.add(Gnn({key:m.key||(e.key?fR(e.key):void 0),pulse:m.pulse,clean:!r}));const g=Bt(l);l=u=t.add(Bf({pulse:g})),l=t.add(ern({markdef:rin(e),interactive:iin(e.interactive,t),clip:nin(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Bt(l)}));const y=Bt(l);l=c=t.add(p8e(c8e(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const x=rse(S,t),T=x.metadata;(T.generates||T.changes)&&Ve("Mark transforms should not generate new data."),T.nomod||(c.params.mod=!0),x.params.pulse=Bt(l),t.add(l=x)}),e.sort&&(l=t.add(urn({sort:t.compareRef(e.sort),pulse:Bt(l)})));const v=Bt(l);(i||o)&&(o=t.add(y8e({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),f=Bt(o));const _=t.add(h8e({mark:y,pulse:f||v}));h=Bt(_),r&&(p&&(a=t.operators,a.pop(),o&&a.pop()),t.pushState(v,f||h,g),i?fin(e,t,m):p?hin(e,t,m):t.parse(e),t.popState(),p&&(o&&a.push(o),a.push(_))),s&&(h=pin(s,h,t));const w=t.add(g8e({pulse:h})),E=t.add(p_({pulse:Bt(w)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new Nb(t,u,w,E)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&Ve("Marks only support modify triggers."),R8e(S,t,d)}))}function pin(e,t,n){const r=e.method,i=e.bound,s=e.separation,o={separation:no(s)?n.signalRef(s.signal):s,method:no(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;o.boundTolerance=no(a)?n.signalRef(a.signal):+a,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return Bt(n.add(rrn(o)))}function min(e,t){const n=t.config.legend,r=e.encode||{},i=Su(e,n),s=r.legend||{},o=s.name||void 0,a=s.interactive,l=s.style,u={};let c=0,d,f,h;Jie.forEach(_=>e[_]?(u[_]=e[_],c=c||e[_]):0),c||Ve("Missing valid scale for legend.");const p=gin(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=Bt(t.add(Bf(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=Bt(t.add(Jnn(f={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===sM?(h=[Urn(e,c,n,r.gradient),dve(e,n,r.labels,v)],f.count=f.count||t.signalRef(`max(2,2*floor((${Y1(i.gradientLength())})/100))`)):p===HW?h=[Vrn(e,c,n,r.gradient,v),dve(e,n,r.labels,v)]:(d=Grn(e,n),h=[Wrn(e,n,r,v,Y1(d.columns))],f.size=bin(e,t,h[0].marks)),h=[pR({role:pnn,from:g,encode:y,marks:h,layout:d,interactive:a})],m.title&&h.push(tin(e,n,r.title,g)),l5(pR({role:fnn,from:g,encode:oT(vin(i,e,n),s,cP),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:a,style:l}),t)}function gin(e,t){let n=e.type||cve;return!e.type&&yin(e)===1&&(e.fill||e.stroke)&&(n=pre(t)?sM:sW(t)?HW:cve),n!==sM?n:sW(t)?HW:sM}function yin(e){return Jie.reduce((t,n)=>t+(e[n]?1:0),0)}function vin(e,t,n){const r={enter:{},update:{}};return ea(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function bin(e,t,n){const r=Y1(vve("size",e,n)),i=Y1(vve("strokeWidth",e,n)),s=Y1(_in(n[1].encode,t,uP));return lp(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function vve(e,t,n){return t[e]?`scale("${t[e]}",datum)`:S8e(e,n[0].encode)}function _in(e,t,n){return S8e("fontSize",e)||Brn("fontSize",t,n)}const win=`item.orient==="${aT}"?-90:item.orient==="${lT}"?90:0`;function Ein(e,t){e=Et(e)?{text:e}:e;const n=Su(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,o=i.interactive,a=i.style,l=[],u={},c=Bt(t.add(Bf(null,[u])));return l.push(Tin(e,n,xin(e),c)),e.subtitle&&l.push(Cin(e,n,r.subtitle,c)),l5(pR({role:vnn,from:c,encode:Sin(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:o,style:a}),t)}function xin(e){const t=e.encode;return t&&t.title||Nn({name:e.name,interactive:e.interactive,style:e.style},t)}function Sin(e,t){const n={enter:{},update:{}};return ea(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:ese},angle:{signal:win},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),oT(n,t,cP)}function Tin(e,t,n,r){const i={value:0},s=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ea(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),dc({type:m_,role:bnn,style:Prn,from:r,encode:o},n)}function Cin(e,t,n,r){const i={value:0},s=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ea(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),dc({type:m_,role:_nn,style:Nrn,from:r,encode:o},n)}function Ain(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(rse(r,t))}),e.on&&e.on.forEach(r=>{R8e(r,t,e.name)}),t.addDataPipeline(e.name,Iin(e,t,n))}function Iin(e,t,n){const r=[];let i=null,s=!1,o=!1,a,l,u,c,d;for(e.values?no(e.values)||rM(e.format)?(r.push(bve(t,e)),r.push(i=Fv())):r.push(i=Fv({$ingest:e.values,$format:e.format})):e.url?rM(e.url)||rM(e.format)?(r.push(bve(t,e)),r.push(i=Fv())):r.push(i=Fv({$request:e.url,$format:e.format})):e.source&&(i=a=wt(e.source).map(f=>Bt(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=Fv()),r.push(c),d.generates&&(o=!0),d.modifies&&!o&&(s=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=arn({derive:s,pulse:u?a:a[0]}),(s||u)&&r.splice(1,0,Fv())),i||r.push(Fv()),r.push(p_({})),r}function Fv(e){const t=Bf({},e);return t.metadata={source:!0},t}function bve(e,t){return Znn({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const k8e=e=>e===$y||e===zf,u5=(e,t,n)=>no(e)?Nin(e.signal,t,n):e===aT||e===zf?t:n,wo=(e,t,n)=>no(e)?kin(e.signal,t,n):k8e(e)?t:n,hf=(e,t,n)=>no(e)?Pin(e.signal,t,n):k8e(e)?n:t,P8e=(e,t,n)=>no(e)?Oin(e.signal,t,n):e===zf?{value:t}:{value:n},Rin=(e,t,n)=>no(e)?Din(e.signal,t,n):e===lT?{value:t}:{value:n},kin=(e,t,n)=>N8e(`${e} === '${zf}' || ${e} === '${$y}'`,t,n),Pin=(e,t,n)=>N8e(`${e} !== '${zf}' && ${e} !== '${$y}'`,t,n),Nin=(e,t,n)=>ise(`${e} === '${aT}' || ${e} === '${zf}'`,t,n),Oin=(e,t,n)=>ise(`${e} === '${zf}'`,t,n),Din=(e,t,n)=>ise(`${e} === '${lT}'`,t,n),N8e=(e,t,n)=>(t=t!=null?_o(t):t,n=n!=null?_o(n):n,_ve(t)&&_ve(n)?(t=t?t.signal||ut(t.value):null,n=n?n.signal||ut(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Nn({test:e},t)].concat(n||[])),_ve=e=>e==null||Object.keys(e).length===1,ise=(e,t,n)=>({signal:`${e} ? (${Yw(t)}) : (${Yw(n)})`}),Min=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${aT}' ? (${Yw(r)}) : `:"")+(n!=null?`${e} === '${$y}' ? (${Yw(n)}) : `:"")+(i!=null?`${e} === '${lT}' ? (${Yw(i)}) : `:"")+(t!=null?`${e} === '${zf}' ? (${Yw(t)}) : `:"")+"(null)"}),Yw=e=>no(e)?e.signal:e==null?null:ut(e),$in=(e,t)=>t===0?0:no(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},CE=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function tw(e,t,n,r){let i;if(t&&Vt(t,e))return t[e];if(Vt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[Qie][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[uP][i]}return null}function wve(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function Lin(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,a,l,u;if(no(o)){const d=wve([n.axisX,n.axisY]),f=wve([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=wo(o,tw(u,n.axisX,i,r),tw(u,n.axisY,i,r));l={};for(u of f)l[u]=Min(o.signal,tw(u,n.axisTop,i,r),tw(u,n.axisBottom,i,r),tw(u,n.axisLeft,i,r),tw(u,n.axisRight,i,r))}else a=o===zf||o===$y?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return a||l||s?Nn({},i,a,l,s):i}function Fin(e,t,n,r){const i=Su(e,t),s=e.orient;let o,a;const l={enter:o={opacity:mr},update:a={opacity:Kc},exit:{opacity:mr}};ea(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=Eve(e,0),c=Eve(e,1);return o.x=a.x=wo(s,u,mr),o.x2=a.x2=wo(s,c),o.y=a.y=hf(s,u,mr),o.y2=a.y2=hf(s,c),dc({type:Zie,role:ann,from:r,encode:l},n)}function Eve(e,t){return{scale:e.scale,range:t}}function jin(e,t,n,r,i){const s=Su(e,t),o=e.orient,a=e.gridScale,l=u5(o,1,-1),u=Bin(e.offset,l);let c,d,f;const h={enter:c={opacity:mr},update:f={opacity:Kc},exit:d={opacity:mr}};ea(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:Yc,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},m=wo(o,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:Nn(m,{mult:l,offset:u});return c.x=f.x=wo(o,p,g),c.y=f.y=hf(o,p,g),c.x2=f.x2=hf(o,y),c.y2=f.y2=wo(o,y),d.x=wo(o,p),d.y=hf(o,p),dc({type:Zie,role:lnn,key:Yc,from:r,encode:h},n)}function Bin(e,t){if(t!==1)if(!bt(e))e=no(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Nn({},e);for(;n.mult!=null;)if(bt(n.mult))n=n.mult=Nn({},n.mult);else return n.mult=no(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function zin(e,t,n,r,i,s){const o=Su(e,t),a=e.orient,l=u5(a,-1,1);let u,c,d;const f={enter:u={opacity:mr},update:d={opacity:Kc},exit:c={opacity:mr}};ea(f,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=_o(i);h.mult=l;const p={scale:e.scale,field:Yc,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")};return d.y=u.y=wo(a,mr,p),d.y2=u.y2=wo(a,h),c.x=wo(a,p),d.x=u.x=hf(a,mr,p),d.x2=u.x2=hf(a,h),c.y=hf(a,p),dc({type:Zie,role:cnn,key:Yc,from:r,encode:f},n)}function t7(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Uin(e,t,n,r,i,s){const o=Su(e,t),a=e.orient,l=e.scale,u=u5(a,-1,1),c=Y1(o("labelFlush")),d=Y1(o("labelFlushOffset")),f=o("labelAlign"),h=o("labelBaseline");let p=c===0||!!c,m;const g=_o(i);g.mult=u,g.offset=_o(o("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:Yc,band:.5,offset:T8e(s.offset,o("labelOffset"))},v=wo(a,p?t7(l,c,'"left"','"right"','"center"'):{value:"center"},Rin(a,"left","right")),_=wo(a,P8e(a,"bottom","top"),p?t7(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),w=t7(l,c,`-(${d})`,d,0);p=p&&d;const E={opacity:mr,x:wo(a,y,g),y:hf(a,y,g)},S={enter:E,update:m={opacity:Kc,text:{field:Xie},x:E.x,y:E.y,align:v,baseline:_},exit:{opacity:mr,x:E.x,y:E.y}};ea(S,{dx:!f&&p?wo(a,w):null,dy:!h&&p?hf(a,w):null}),ea(S,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:f,baseline:h});const x=o("labelBound");let T=o("labelOverlap");return T=T||x?{separation:o("labelSeparation"),method:T,order:"datum.index",bound:x?{scale:l,orient:a,tolerance:x}:null}:void 0,m.align!==v&&(m.align=CE(m.align,v)),m.baseline!==_&&(m.baseline=CE(m.baseline,_)),dc({type:m_,role:unn,style:uP,key:Yc,from:r,encode:S,overlap:T},n)}function Vin(e,t,n,r){const i=Su(e,t),s=e.orient,o=u5(s,-1,1);let a,l;const u={enter:a={opacity:mr,anchor:_o(i("titleAnchor",null)),align:{signal:ese}},update:l=Nn({},a,{opacity:Kc,text:_o(e.title)}),exit:{opacity:mr}},c={signal:`lerp(range("${e.scale}"), ${o5(0,1,.5)})`};return l.x=wo(s,c),l.y=hf(s,c),a.angle=wo(s,mr,$in(o,90)),a.baseline=wo(s,P8e(s,$y,zf),{value:$y}),l.angle=a.angle,l.baseline=a.baseline,ea(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Hin(i,s,u,n),u.update.align=CE(u.update.align,a.align),u.update.angle=CE(u.update.angle,a.angle),u.update.baseline=CE(u.update.baseline,a.baseline),dc({type:m_,role:dnn,style:Qie,from:r,encode:u},n)}function Hin(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=CE(_o(a),n.update[l]),!1):!Ew(l,r),s=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===s?_o(o):wo(t,_o(o),_o(s))}function qin(e,t){const n=Lin(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,o=i.interactive,a=i.style,l=Su(e,n),u=zrn(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=Bt(t.add(Bf({},[c]))),f=Bt(t.add(Wnn({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(jin(e,n,r.grid,f,u)),c.ticks&&(p=l("tickSize"),h.push(zin(e,n,r.ticks,f,p,u))),c.labels&&(p=c.ticks?p:0,h.push(Uin(e,n,r.labels,f,p,u))),c.domain&&h.push(Fin(e,n,r.domain,d)),c.title&&h.push(Vin(e,n,r.title,d)),l5(pR({role:onn,from:d,encode:oT(Win(l,e),i,cP),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:s,interactive:o,style:a}),t)}function Win(e,t){const n={enter:{},update:{}};return ea(n,{orient:e("orient"),offset:e("offset")||0,position:Fd(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function O8e(e,t,n){const r=wt(e.signals),i=wt(e.scales);return n||r.forEach(s=>d8e(s,t)),wt(e.projections).forEach(s=>Srn(s,t)),i.forEach(s=>frn(s,t)),wt(e.data).forEach(s=>Ain(s,t)),i.forEach(s=>hrn(s,t)),(n||r).forEach(s=>qnn(s,t)),wt(e.axes).forEach(s=>qin(s,t)),wt(e.marks).forEach(s=>l5(s,t)),wt(e.legends).forEach(s=>min(s,t)),e.title&&Ein(e.title,t),t.parseLambdas(),t}const Gin=e=>oT({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Yin(e,t){const n=t.config,r=Bt(t.root=t.add(AL())),i=Kin(e,n);i.forEach(u=>d8e(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(Bf()),o=t.add(p8e(c8e(Gin(e.encode),s5,Wie,e.style,t,{pulse:Bt(s)}))),a=t.add(y8e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Bt(o)}));t.operators.pop(),t.pushState(Bt(o),Bt(a),null),O8e(e,t,i),t.operators.push(a);let l=t.add(h8e({mark:r,pulse:Bt(a)}));return l=t.add(g8e({pulse:Bt(l)})),l=t.add(p_({pulse:Bt(l)})),t.addData("root",new Nb(t,s,s,l)),t}function vC(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Kin(e,t){const n=o=>Fd(e[o],t[o]),r=[vC("background",n("background")),vC("autosize",rnn(n("autosize"))),vC("padding",snn(n("padding"))),vC("width",n("width")||0),vC("height",n("height")||0)],i=r.reduce((o,a)=>(o[a.name]=a,o),{}),s={};return wt(e.signals).forEach(o=>{Vt(i,o.name)?o=Nn(i[o.name],o):r.push(o),s[o.name]=o}),wt(t.signals).forEach(o=>{!Vt(s,o.name)&&!Vt(i,o.name)&&r.push(o)}),r}function D8e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function xve(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}D8e.prototype=xve.prototype={parse(e){return O8e(e,this)},fork(){return new xve(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof jW?Bt(e):e;return this.add(orn({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let o,a;r&&(o=r.data||(r.data={}),a=o[i]||(o[i]=[]),a.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Bt(this.add(p_({pulse:e})))),this._parent.push(t),this._lookup.push(n?Bt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return cr(this._parent)},encode(){return cr(this._encode)},lookup(){return cr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Et(e))return fR(e,t);e.signal||Ve("Unsupported field reference: "+ut(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Bt(this.add(Xnn(i)))}return r},compareRef(e){let t=!1;const n=s=>no(s)?(t=!0,this.signalRef(s.signal)):Mnn(s)?(t=!0,this.exprRef(s.expr)):s,r=wt(e.field).map(n),i=wt(e.order).map(n);return t?Bt(this.add(uve({fields:r,orders:i}))):ave(r,i)},keyRef(e,t){let n=!1;const r=s=>no(s)?(n=!0,Bt(i[s.signal])):s,i=this.signals;return e=wt(e).map(r),n?Bt(this.add(Qnn({fields:e,flat:t}))):Pnn(e,t)},sortRef(e){if(!e)return e;const t=r5(e.op,e.field),n=e.order||Nnn;return n.signal?Bt(this.add(uve({fields:t,orders:this.signalRef(n.signal)}))):ave(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Vt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Ve("Duplicate signal name: "+ut(e));const n=t instanceof jW?t:this.add(AL(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Ve("Unrecognized signal name: "+ut(e)),this.signals[e]},signalRef(e){return this.signals[e]?Bt(this.signals[e]):(Vt(this.lambdas,e)||(this.lambdas[e]=this.add(AL(null))),Bt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=lp(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!bt(e)?e:this.signalRef(e.signal||sse(e))},exprRef(e,t){const n={expr:lp(e,this)};return t&&(n.expr.$name=t),Bt(this.add(Ynn(n)))},addBinding(e,t){this.bindings||Ve("Nested signals do not support binding: "+ut(e)),this.bindings.push(Nn({signal:e},t))},addScaleProj(e,t){Vt(this.scales,e)&&Ve("Duplicate scale or projection name: "+ut(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,lrn(t))},addProjection(e,t){this.addScaleProj(e,srn(t))},getScale(e){return this.scales[e]||Ve("Unrecognized scale name: "+ut(e)),this.scales[e]},scaleRef(e){return Bt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Vt(this.data,e)&&Ve("Duplicate data set name: "+ut(e)),this.data[e]=t},getData(e){return this.data[e]||Ve("Undefined data set name: "+ut(e)),this.data[e]},addDataPipeline(e,t){return Vt(this.data,e)&&Ve("Duplicate data set name: "+ut(e)),this.addData(e,Nb.fromEntries(this,t))}};function sse(e){return(We(e)?Xin:Qin)(e)}function Xin(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(bt(i)?i.signal||sse(i):ut(i))}return n+"]"}function Qin(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ut(r)+":"+(bt(i)?i.signal||sse(i):ut(i));return t+"}"}function Jin(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Zin(e,t,n){return bt(e)||Ve("Input Vega specification must be an object."),t=JS(Jin(),t,e.config),Yin(e,new D8e(t,n)).toRuntime()}var esn="5.30.0";Nn(Ax,Zqt,zKt,bXt,XXt,rQt,kQt,uQt,NQt,$Qt,WQt,ZQt);const tsn=Object.freeze(Object.defineProperty({__proto__:null,Bounds:$s,CanvasHandler:iP,CanvasRenderer:mL,DATE:mu,DAY:Ia,DAYOFYEAR:ap,Dataflow:TE,Debug:sFe,Error:Zte,EventStream:Tj,Gradient:E4e,GroupItem:Fj,HOURS:lc,Handler:jre,HybridHandler:hje,HybridRenderer:gW,Info:iFe,Item:Lj,MILLISECONDS:Sf,MINUTES:uc,MONTH:Oa,Marks:cc,MultiPulse:bne,None:rFe,Operator:di,Parameters:Sj,Pulse:Z0,QUARTER:pu,RenderType:I0,Renderer:rP,ResourceLoader:R4e,SECONDS:od,SVGHandler:eje,SVGRenderer:qre,SVGStringRenderer:fje,Scenegraph:W4e,TIME_UNITS:dne,Transform:Me,View:J5e,WEEK:Xs,Warn:ene,YEAR:Yo,accessor:xu,accessorFields:Na,accessorName:fs,array:wt,ascending:vj,bandwidthNRD:xne,bin:p6e,bootstrapCI:m6e,boundClip:xje,boundContext:Zk,boundItem:dW,boundMark:U4e,boundStroke:xg,changeset:d_,clampRange:gFe,codegenExpression:T5e,compare:sne,constant:Ba,cumulativeLogNormal:Rne,cumulativeNormal:Aj,cumulativeUniform:One,dayofyear:IFe,debounce:one,defaultLocale:pne,definition:d6e,densityLogNormal:Ine,densityNormal:Sne,densityUniform:Nne,domChild:Gs,domClear:Nc,domCreate:C0,domFind:Fre,dotbin:g6e,error:Ve,expressionFunction:Rs,extend:Nn,extent:op,extentIndex:yFe,falsy:Yg,fastmap:eT,field:id,flush:vFe,font:Vj,fontFamily:nP,fontSize:Ap,format:zD,formatLocale:nL,formats:yne,hasOwnProperty:Vt,id:zk,identity:ja,inferType:e6e,inferTypes:t6e,ingest:Dr,inherits:ft,inrange:qw,interpolate:mre,interpolateColors:Mj,interpolateRange:l4e,intersect:bje,intersectBoxLine:Ww,intersectPath:xre,intersectPoint:Sre,intersectRule:P4e,isArray:We,isBoolean:pv,isDate:J0,isFunction:On,isIterable:bFe,isNumber:xr,isObject:bt,isRegExp:_Fe,isString:Et,isTuple:Ej,key:ane,lerp:wFe,lineHeight:Oy,loader:_j,locale:JFe,logger:tne,lruCache:EFe,markup:Hre,merge:xFe,mergeConfig:JS,multiLineOffset:Mre,one:QS,pad:SFe,panLinear:cFe,panLog:dFe,panPow:fFe,panSymlog:hFe,parse:Zin,parseExpression:Nie,parseSelector:gv,path:F6,pathCurves:_re,pathEqual:Sje,pathParse:Px,pathRectangle:T4e,pathRender:iR,pathSymbols:S4e,pathTrail:C4e,peek:cr,point:qj,projection:rie,quantileLogNormal:kne,quantileNormal:Ij,quantileUniform:Dne,quantiles:wne,quantizeInterpolator:u4e,quarter:pFe,quartiles:Ene,get random(){return ad},randomInteger:rqt,randomKDE:Cne,randomLCG:nqt,randomLogNormal:v6e,randomMixture:b6e,randomNormal:Tne,randomUniform:_6e,read:i6e,regressionConstant:Mne,regressionExp:E6e,regressionLinear:$ne,regressionLoess:T6e,regressionLog:w6e,regressionPoly:S6e,regressionPow:x6e,regressionQuad:Lne,renderModule:Wj,repeat:l2,resetDefaultLocale:ZVt,resetSVGClipId:I4e,resetSVGDefIds:sKt,responseType:r6e,runtimeContext:j5e,sampleCurve:kj,sampleLogNormal:Ane,sampleNormal:Cj,sampleUniform:Pne,scale:Rr,sceneEqual:Wre,sceneFromJSON:H4e,scenePickVisit:aL,sceneToJSON:V4e,sceneVisit:Tf,sceneZOrder:Tre,scheme:gre,serializeXML:lje,setHybridRendererOptions:tKt,setRandom:eqt,span:Uk,splitAccessPath:Cp,stringValue:ut,textMetrics:Gu,timeBin:qFe,timeFloor:MFe,timeFormatLocale:tR,timeInterval:tT,timeOffset:FFe,timeSequence:zFe,timeUnitSpecifier:AFe,timeUnits:fne,toBoolean:lne,toDate:une,toNumber:Ra,toSet:xf,toString:cne,transform:f6e,transforms:Ax,truncate:TFe,truthy:sd,tupleid:zt,typeParsers:nW,utcFloor:$Fe,utcInterval:nT,utcOffset:jFe,utcSequence:UFe,utcdayofyear:PFe,utcquarter:mFe,utcweek:NFe,version:esn,visitArray:n0,week:RFe,writeConfig:ZS,zero:g0,zoomLinear:nne,zoomLog:rne,zoomPow:tL,zoomSymlog:ine},Symbol.toStringTag,{value:"Module"}));function nsn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var rsn={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},isn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},ssn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const osn=Array.prototype.slice,jv=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,osn.call(t,1))},asn=(e,t,n,r,i,s,o)=>new Date(e,t||0,n??1,r||0,i||0,s||0,o||0);var lsn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:asn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return jv("join",arguments)},indexof:function(){return jv("indexOf",arguments)},lastindexof:function(){return jv("lastIndexOf",arguments)},slice:function(){return jv("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return jv("substring",arguments,String)},split:function(){return jv("split",arguments,String)},replace:function(){return jv("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const usn=["view","item","group","xy","x","y"],WW=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&WW.add(setImmediate);const csn={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:rsn[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),WW.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||lsn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>isn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>ssn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,WW.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function bC(e,t,n,r,i,s){const o=a=>csn[a.type](o,a);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=s,usn.forEach(a=>o.fn[a]=function(){return i.vega[a](...arguments)}),o(e)}var dsn={operator(e,t){const n=t.ast,r=e.functions;return i=>bC(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,s)=>bC(n,r,s,i)},event(e,t){const n=t.ast,r=e.functions;return i=>bC(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,s)=>{const o=s.item&&s.item.datum;return bC(n,r,i,o,s)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,s=n==="group"||n==="image"||n==="rect";return(o,a)=>{const l=o.datum;let u=0,c;for(const d in r)c=bC(r[d].ast,i,a,l,void 0,o),o[d]!==c&&(o[d]=c,u=1);return n!=="rule"&&nsn(o,r,s),u}}};const fsn="vega-lite",hsn='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',psn="5.19.0",msn=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],gsn="https://vega.github.io/vega-lite/",ysn="Vega-Lite is a concise high-level language for interactive visualization.",vsn=["vega","chart","visualization"],bsn="build/vega-lite.js",_sn="build/vega-lite.min.js",wsn="build/vega-lite.min.js",Esn="build/src/index",xsn="build/src/index.d.ts",Ssn={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},Tsn=["bin","build","src","vega-lite*","tsconfig.json"],Csn={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},Asn={type:"git",url:"https://github.com/vega/vega-lite.git"},Isn="BSD-3-Clause",Rsn={url:"https://github.com/vega/vega-lite/issues"},ksn={"@babel/core":"^7.24.7","@babel/preset-env":"^7.24.7","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.13.0","@typescript-eslint/parser":"^7.13.0",ajv:"^8.16.0","ajv-formats":"^2.1.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.1.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.1.3","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.9.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.2",puppeteer:"^15.0.0","release-it":"17.2.1",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.1","ts-jest":"^29.1.4","ts-json-schema-generator":"^1.5.0",typescript:"~5.4.5","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.25.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},Psn={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.3","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},Nsn={vega:"^5.24.0"},Osn={node:">=18"},Dsn="yarn@1.22.19",Msn={name:fsn,author:hsn,version:psn,collaborators:msn,homepage:gsn,description:ysn,keywords:vsn,main:bsn,unpkg:_sn,jsdelivr:wsn,module:Esn,types:xsn,bin:Ssn,files:Tsn,scripts:Csn,repository:Asn,license:Isn,bugs:Rsn,devDependencies:ksn,dependencies:Psn,peerDependencies:Nsn,engines:Osn,packageManager:Dsn};function ose(e){return!!e.or}function ase(e){return!!e.and}function lse(e){return!!e.not}function aM(e,t){if(lse(e))aM(e.not,t);else if(ase(e))for(const n of e.and)aM(n,t);else if(ose(e))for(const n of e.or)aM(n,t);else t(e)}function AE(e,t){return lse(e)?{not:AE(e.not,t)}:ase(e)?{and:e.and.map(n=>AE(n,t))}:ose(e)?{or:e.or.map(n=>AE(n,t))}:t(e)}const mn=structuredClone;function M8e(e){throw new Error(e)}function $x(e,t){const n={};for(const r of t)Vt(e,r)&&(n[r]=e[r]);return n}function ou(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>ti(e)).join(",")})`};function tr(e){if(xr(e))return e;const t=Et(e)?e:ti(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function GW(e){return e===!1||e===null}function Kn(e,t){return e.includes(t)}function Lx(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function use(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function $8e(e,...t){for(const n of t)$sn(e,n??{});return e}function $sn(e,t){for(const n of tt(t))ZS(e,n,t[n],!0)}function Oh(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function Lsn(e,t){const n=tt(e),r=tt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function L8e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function cse(e,t){for(const n of e)if(t.has(n))return!0;return!1}function YW(e){const t=new Set;for(const n of e){const i=Cp(n).map((o,a)=>a===0?o:`[${o}]`),s=i.map((o,a)=>i.slice(0,a+1).join(""));for(const o of s)t.add(o)}return t}function dse(e,t){return e===void 0||t===void 0?!0:cse(YW(e),YW(t))}function ei(e){return tt(e).length===0}const tt=Object.keys,Ko=Object.values,Ly=Object.entries;function mR(e){return e===!0||e===!1}function Bi(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function xA(e,t){return lse(e)?`!(${xA(e.not,t)})`:ase(e)?`(${e.and.map(n=>xA(n,t)).join(") && (")})`:ose(e)?`(${e.or.map(n=>xA(n,t)).join(") || (")})`:t(e)}function IL(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&IL(e[n],t)&&delete e[n],ei(e)}function dP(e){return e.charAt(0).toUpperCase()+e.substr(1)}function fse(e,t="datum"){const n=Cp(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(ut).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function F8e(e,t="datum"){return`${t}[${ut(Cp(e).join("."))}]`}function Fsn(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ld(e){return`${Cp(e).map(Fsn).join("\\.")}`}function Ob(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function uT(e){return`${Cp(e).join(".")}`}function Fx(e){return e?Cp(e).length:0}function Cs(...e){for(const t of e)if(t!==void 0)return t}let j8e=42;function B8e(e){const t=++j8e;return e?String(e)+t:t}function jsn(){j8e=42}function z8e(e){return U8e(e)?e:`__${e}`}function U8e(e){return e.startsWith("__")}function gR(e){if(e!==void 0)return(e%360+360)%360}function c5(e){return xr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const Sve=Object.getPrototypeOf(structuredClone({}));function qu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!qu(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!qu(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==Sve.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==Sve.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!qu(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ti(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,a=Object.keys(r).sort();for(s="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u)}return t.splice(o,1),`{${s}}`}(e)}const Nm="row",Om="column",d5="facet",zi="x",Co="y",Uf="x2",kp="y2",yv="xOffset",cT="yOffset",Vf="radius",Tg="radius2",bd="theta",Cg="theta2",Hf="latitude",qf="longitude",Wf="latitude2",ud="longitude2",gu="color",Pp="fill",Np="stroke",yu="shape",Ag="size",g_="angle",Ig="opacity",vv="fillOpacity",bv="strokeOpacity",_v="strokeWidth",wv="strokeDash",fP="text",jx="order",hP="detail",f5="key",Db="tooltip",h5="href",p5="url",m5="description",Bsn={x:1,y:1,x2:1,y2:1},V8e={theta:1,theta2:1,radius:1,radius2:1};function H8e(e){return e in V8e}const hse={longitude:1,longitude2:1,latitude:1,latitude2:1};function q8e(e){switch(e){case Hf:return"y";case Wf:return"y2";case qf:return"x";case ud:return"x2"}}function W8e(e){return e in hse}const zsn=tt(hse),pse={...Bsn,...V8e,...hse,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function IE(e){return e===gu||e===Pp||e===Np}const G8e={row:1,column:1,facet:1},Uc=tt(G8e),mse={...pse,...G8e},Usn=tt(mse),{order:u0n,detail:c0n,tooltip:d0n,...Vsn}=mse,{row:f0n,column:h0n,facet:p0n,...Hsn}=Vsn;function qsn(e){return!!Hsn[e]}function Y8e(e){return!!mse[e]}const Wsn=[Uf,kp,Wf,ud,Cg,Tg];function K8e(e){return y_(e)!==e}function y_(e){switch(e){case Uf:return zi;case kp:return Co;case Wf:return Hf;case ud:return qf;case Cg:return bd;case Tg:return Vf}return e}function Fy(e){if(H8e(e))switch(e){case bd:return"startAngle";case Cg:return"endAngle";case Vf:return"outerRadius";case Tg:return"innerRadius"}return e}function Op(e){switch(e){case zi:return Uf;case Co:return kp;case Hf:return Wf;case qf:return ud;case bd:return Cg;case Vf:return Tg}}function vu(e){switch(e){case zi:case Uf:return"width";case Co:case kp:return"height"}}function X8e(e){switch(e){case zi:return"xOffset";case Co:return"yOffset";case Uf:return"x2Offset";case kp:return"y2Offset";case bd:return"thetaOffset";case Vf:return"radiusOffset";case Cg:return"theta2Offset";case Tg:return"radius2Offset"}}function gse(e){switch(e){case zi:return"xOffset";case Co:return"yOffset"}}function Gsn(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Ysn=tt(pse),{x:m0n,y:g0n,x2:y0n,y2:v0n,xOffset:b0n,yOffset:_0n,latitude:w0n,longitude:E0n,latitude2:x0n,longitude2:S0n,theta:T0n,theta2:C0n,radius:A0n,radius2:I0n,...yse}=pse,Ksn=tt(yse),vse={x:1,y:1},Rg=tt(vse);function As(e){return e in vse}const bse={theta:1,radius:1},Xsn=tt(bse);function g5(e){return e==="width"?zi:Co}const Q8e={xOffset:1,yOffset:1};function pP(e){return e in Q8e}const{text:R0n,tooltip:k0n,href:P0n,url:N0n,description:O0n,detail:D0n,key:M0n,order:$0n,...J8e}=yse,Qsn=tt(J8e);function Jsn(e){return!!yse[e]}function Zsn(e){switch(e){case gu:case Pp:case Np:case Ag:case yu:case Ig:case _v:case wv:return!0;case vv:case bv:case g_:return!1}}const Z8e={...vse,...bse,...Q8e,...J8e},_se=tt(Z8e);function Dp(e){return!!Z8e[e]}function eon(e,t){return non(e)[t]}const eBe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:L0n,...ton}=eBe;function non(e){switch(e){case gu:case Pp:case Np:case m5:case hP:case f5:case Db:case h5:case jx:case Ig:case vv:case bv:case _v:case d5:case Nm:case Om:return eBe;case zi:case Co:case yv:case cT:case Hf:case qf:return ton;case Uf:case kp:case Wf:case ud:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Ag:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case wv:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case yu:return{point:"always",geoshape:"always"};case fP:return{text:"always"};case g_:return{point:"always",square:"always",text:"always"};case p5:return{image:"always"};case bd:return{text:"always",arc:"always"};case Vf:return{text:"always",arc:"always"};case Cg:case Tg:return{arc:"always"}}}function n7(e){switch(e){case zi:case Co:case bd:case Vf:case yv:case cT:case Ag:case g_:case _v:case Ig:case vv:case bv:case Uf:case kp:case Cg:case Tg:return;case d5:case Nm:case Om:case yu:case wv:case fP:case Db:case h5:case p5:case m5:return"discrete";case gu:case Pp:case Np:return"flexible";case Hf:case qf:case Wf:case ud:case hP:case f5:case jx:return}}const ron={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ion={count:1,min:1,max:1};function ug(e){return!!e&&!!e.argmin}function Ev(e){return!!e&&!!e.argmax}function wse(e){return Et(e)&&!!ron[e]}const son=new Set(["count","valid","missing","distinct"]);function y5(e){return Et(e)&&son.has(e)}function oon(e){return Et(e)&&Kn(["min","max"],e)}const aon=new Set(["count","sum","distinct","valid","missing"]),lon=new Set(["mean","average","median","q1","q3","min","max"]);function tBe(e){return pv(e)&&(e=k5(e,void 0)),"bin"+tt(e).map(t=>v5(e[t])?Bi(`_${t}_${Ly(e[t])}`):Bi(`_${t}_${e[t]}`)).join("")}function Ei(e){return e===!0||v_(e)&&!e.binned}function Bo(e){return e==="binned"||v_(e)&&e.binned===!0}function v_(e){return bt(e)}function v5(e){return e==null?void 0:e.param}function Tve(e){switch(e){case Nm:case Om:case Ag:case gu:case Pp:case Np:case _v:case Ig:case vv:case bv:case yu:return 6;case wv:return 4;default:return 10}}function mP(e){return!!(e!=null&&e.expr)}function xa(e,{level:t}={level:0}){const n=tt(e||{}),r={};for(const i of n)r[i]=t===0?Lu(e[i]):xa(e[i],{level:t-1});return r}function nBe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:o,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...o!==void 0?{limit:o}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},_=$x(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:_,nonMarkTitleProperties:y,subtitle:v}}function s0(e){return Et(e)||We(e)&&Et(e[0])}function Mt(e){return!!(e!=null&&e.signal)}function xv(e){return!!e.step}function uon(e){return We(e)?!1:"fields"in e&&!("data"in e)}function con(e){return We(e)?!1:"fields"in e&&"data"in e}function _m(e){return We(e)?!1:"field"in e&&"data"in e}const don={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},fon=tt(don),hon={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},KW=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function rBe(e){const t=We(e.condition)?e.condition.map(Cve):Cve(e.condition);return{...Lu(e),condition:t}}function Lu(e){if(mP(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Cve(e){if(mP(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Ri(e){if(mP(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Mt(e)?e:e!==void 0?{value:e}:void 0}function pon(e){return Mt(e)?e.signal:ut(e)}function Ave(e){return Mt(e)?e.signal:ut(e.value)}function Jd(e){return Mt(e)?e.signal:e==null?null:ut(e)}function mon(e,t,n){for(const r of n){const i=up(r,t.markDef,t.config);i!==void 0&&(e[r]=Ri(i))}return e}function iBe(e){return[].concat(e.type,e.style??[])}function Wr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:up(e,t,n,r)}function up(e,t,n,{vgChannel:r}={}){return Cs(r?RL(e,t,n.style):void 0,RL(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function RL(e,t,n){return sBe(e,iBe(t),n)}function sBe(e,t,n){t=wt(t);let r;for(const i of t){const s=n[i];s&&s[e]!==void 0&&(r=s[e])}return r}function oBe(e,t){return wt(e).reduce((n,r)=>(n.field.push(ht(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function aBe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(qu(i,r))return;n.push(r)}),n}function lBe(e,t){return qu(e,t)||!t?e:e?[...wt(e),...wt(t)].join(", "):t}function uBe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((s0(n)||Mt(n))&&(s0(r)||Mt(r)))return{explicit:e.explicit,value:lBe(n,r)};if(s0(n)||Mt(n))return{explicit:e.explicit,value:n};if(s0(r)||Mt(r))return{explicit:e.explicit,value:r};if(!s0(n)&&!Mt(n)&&!s0(r)&&!Mt(r))return{explicit:e.explicit,value:aBe(n,r)};throw new Error("It should never reach here")}function Ese(e){return`Invalid specification ${ti(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const gon='Autosize "fit" only works for single views and layered views.';function Ive(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Rve(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function kve(e){return e?`Dropping "fit-${e}" because spec has discrete ${vu(e)}.`:'Dropping "fit" because spec has discrete size.'}function xse(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Pve(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function yon(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function von(e){return`The "nearest" transform is not supported for ${e} marks.`}function cBe(e){return`Selection not supported for ${e} yet.`}function bon(e){return`Cannot find a selection named "${e}".`}const _on="Scale bindings are currently only supported for scales with unbinned, continuous domains.",won="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",Eon="Legend bindings are only supported for selections over an individual field or encoding channel.";function xon(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function Son(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const Ton="The same selection must be used to override scale domains in a layered view.",Con='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function Aon(e){return`Unknown repeated value "${e}".`}function Nve(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const Ion="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function Ron(e){return`Unrecognized parse "${e}".`}function Ove(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const kon="Attempt to add the same child twice.";function Pon(e){return`Ignoring an invalid transform: ${ti(e)}.`}const Non='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Dve(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function Oon(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${ti(t)} is overridden by a child projection ${ti(n)}.`}const Don="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Mon(e){return`${e}Offset dropped because ${e} is continuous`}function $on(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${ti(n)}}.`}function dBe(e){return`Invalid field type "${e}".`}function Lon(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Fon(e){return`Invalid aggregation operator "${e}".`}function fBe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function jon(e){return`Position range does not support relative band size for ${e}.`}function XW(e,t){return`Dropping ${ti(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Bon="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function b5(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function zon(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Uon(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Von(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Hon(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function r7(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function qon(e){return`The ${e} for range marks cannot be an expression`}function Won(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Gon(e,t){return`Specified orient "${e}" overridden with "${t}".`}function Yon(e){return`Cannot use the scale property "${e}" with non-color channel.`}function Kon(e){return`Cannot use the relative band size with ${e} scale.`}function Xon(e){return`Using unaggregated domain with raw field has no effect (${ti(e)}).`}function Qon(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function Jon(e){return`Unaggregated domain is currently unsupported for log scale (${ti(e)}).`}function Zon(e){return`Cannot apply size to non-oriented mark "${e}".`}function ean(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function tan(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function hBe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function pBe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function nan(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${ti(n)} and ${ti(r)}). Using ${ti(n)}.`}function ran(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${ti(n)} and ${ti(r)}). Using the union of the two domains.`}function ian(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function san(e){return`Dropping sort property ${ti(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Mve="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",oan="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",aan="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",lan="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function uan(e){return`Cannot stack "${e}" if there is already "${e}2".`}function can(e){return`Stack is applied to a non-linear scale (${e}).`}function dan(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function kL(e,t){return`Invalid ${e}: ${ti(t)}.`}function fan(e){return`Dropping day from datetime ${ti(e)} as day cannot be combined with other units.`}function han(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function pan(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function man(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function $ve(e){return`1D error band does not support ${e}.`}function mBe(e){return`Channel ${e} is required for "binned" bin.`}function gan(e){return`Channel ${e} should not be used with "binned" bin.`}function yan(e){return`Domain for ${e} is required for threshold scale.`}const gBe=tne(ene);let Bx=gBe;function van(e){return Bx=e,Bx}function ban(){return Bx=gBe,Bx}function st(...e){Bx.warn(...e)}function _an(...e){Bx.debug(...e)}function b_(e){if(e&&bt(e)){for(const t of Tse)if(t in e)return!0}return!1}const yBe=["january","february","march","april","may","june","july","august","september","october","november","december"],wan=yBe.map(e=>e.substr(0,3)),vBe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ean=vBe.map(e=>e.substr(0,3));function xan(e){if(c5(e)&&(e=+e),xr(e))return e>4&&st(kL("quarter",e)),e-1;throw new Error(kL("quarter",e))}function San(e){if(c5(e)&&(e=+e),xr(e))return e-1;{const t=e.toLowerCase(),n=yBe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=wan.indexOf(r);if(i!==-1)return i;throw new Error(kL("month",e))}}function Tan(e){if(c5(e)&&(e=+e),xr(e))return e%7;{const t=e.toLowerCase(),n=vBe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Ean.indexOf(r);if(i!==-1)return i;throw new Error(kL("day",e))}}function Sse(e,t){const n=[];if(t&&e.day!==void 0&&tt(e).length>1&&(st(fan(e)),e=mn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?San(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?xan(e.quarter):e.quarter;n.push(xr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?Tan(e.day):e.day;n.push(xr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Mb(e){const n=Sse(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Can(e){const n=Sse(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Aan(e){const t=Sse(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const bBe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Tse=tt(bBe);function Ian(e){return!!bBe[e]}function __(e){return bt(e)?e.binned:_Be(e)}function _Be(e){return e&&e.startsWith("binned")}function Cse(e){return e.startsWith("utc")}function Ran(e){return e.substring(3)}const kan={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function _5(e){return Tse.filter(t=>EBe(e,t))}function wBe(e){const t=_5(e);return t[t.length-1]}function EBe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Pan(e,t,{end:n}={end:!1}){const r=fse(t),i=Cse(e)?"utc":"";function s(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const a={};for(const l of Tse)EBe(e,l)&&(a[l]=s(l),o=l);return n&&(a[o]+="+1"),Can(a)}function xBe(e){if(!e)return;const t=_5(e);return`timeUnitSpecifier(${ti(t)}, ${ti(kan)})`}function Nan(e,t,n){if(!e)return;const r=xBe(e);return`${n||Cse(e)?"utc":"time"}Format(${t}, ${r})`}function xo(e){if(!e)return;let t;return Et(e)?_Be(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:bt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Cse(t.unit)&&(t.utc=!0,t.unit=Ran(t.unit)),t}function Oan(e){const{utc:t,...n}=xo(e);return n.unit?(t?"utc":"")+tt(n).map(r=>Bi(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+tt(n).map(r=>Bi(`_${r}_${n[r]}`)).join("")}function SBe(e,t=n=>n){const n=xo(e),r=wBe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:o}=TBe(r,n.step),a={...i,[o]:+i[o]+s};return`${t(Mb(a))} - ${t(Mb(i))}`}}const Dan={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function Man(e){return!!Dan[e]}function TBe(e,t=1){if(Man(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function $an(e){return e==null?void 0:e.param}function Ase(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function Ise(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function Rse(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function kse(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function Pse(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function Nse(e){if(e!=null&&e.field){if(We(e.range)&&e.range.length===2)return!0;if(Mt(e.range))return!0}return!1}function Ose(e){return!!(e!=null&&e.field)&&(We(e.oneOf)||We(e.in))}function Lan(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function CBe(e){return Ose(e)||Ase(e)||Nse(e)||Ise(e)||kse(e)||Rse(e)||Pse(e)}function nh(e,t){return P5(e,{timeUnit:t,wrapTime:!0})}function Fan(e,t){return e.map(n=>nh(n,t))}function ABe(e,t=!0){const{field:n}=e,r=xo(e.timeUnit),{unit:i,binned:s}=r||{},o=ht(e,{expr:"datum"}),a=i?`time(${s?o:Pan(i,n)})`:o;if(Ase(e))return`${a}===${nh(e.equal,i)}`;if(Ise(e)){const l=e.lt;return`${a}<${nh(l,i)}`}else if(kse(e)){const l=e.gt;return`${a}>${nh(l,i)}`}else if(Rse(e)){const l=e.lte;return`${a}<=${nh(l,i)}`}else if(Pse(e)){const l=e.gte;return`${a}>=${nh(l,i)}`}else{if(Ose(e))return`indexof([${Fan(e.oneOf,i).join(",")}], ${a}) !== -1`;if(Lan(e))return w5(a,e.valid);if(Nse(e)){const{range:l}=e,u=Mt(l)?{signal:`${l.signal}[0]`}:l[0],c=Mt(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+nh(u,i)+", "+nh(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${nh(u,i)}`),c!==null&&d.push(`${a} <= ${nh(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${ti(e)}`)}function w5(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function jan(e){return CBe(e)&&e.timeUnit?{...e,timeUnit:xo(e.timeUnit)}:e}const gP={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Ban(e){return e==="quantitative"||e==="temporal"}function IBe(e){return e==="ordinal"||e==="nominal"}const $b=gP.quantitative,Dse=gP.ordinal,zx=gP.temporal,Mse=gP.nominal,dT=gP.geojson;function zan(e){if(e)switch(e=e.toLowerCase(),e){case"q":case $b:return"quantitative";case"t":case zx:return"temporal";case"o":case Dse:return"ordinal";case"n":case Mse:return"nominal";case dT:return"geojson"}}const Uo={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},QW={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Uan(e,t){const n=QW[e],r=QW[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const Van={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Lve(e){return Van[e]}const RBe=new Set(["linear","log","pow","sqrt","symlog"]),kBe=new Set([...RBe,"time","utc"]);function PBe(e){return RBe.has(e)}const NBe=new Set(["quantile","quantize","threshold"]),Han=new Set([...kBe,...NBe,"sequential","identity"]),qan=new Set(["ordinal","bin-ordinal","point","band"]);function So(e){return qan.has(e)}function Cf(e){return Han.has(e)}function Dh(e){return kBe.has(e)}function Ux(e){return NBe.has(e)}const Wan={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function Gan(e){return!Et(e)&&!!e.name}function OBe(e){return e==null?void 0:e.param}function Yan(e){return e==null?void 0:e.unionWith}function Kan(e){return bt(e)&&"field"in e}const Xan={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:F0n,domain:j0n,range:B0n,rangeMax:z0n,rangeMin:U0n,scheme:V0n,...Qan}=Xan,Jan=tt(Qan);function JW(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Dh(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Dh(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Dh(e);case"nice":return Dh(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Cf(e)&&!Kn(["log","time","utc","threshold","quantile"],e)}}function DBe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return IE(e)?void 0:Yon(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Zan(e,t){return Kn([Dse,Mse],t)?e===void 0||So(e):t===zx?Kn([Uo.TIME,Uo.UTC,void 0],e):t===$b?PBe(e)||Ux(e)||e===void 0:!0}function eln(e,t,n=!1){if(!Dp(e))return!1;switch(e){case zi:case Co:case yv:case cT:case bd:case Vf:return Dh(t)||t==="band"?!0:t==="point"?!n:!1;case Ag:case _v:case Ig:case vv:case bv:case g_:return Dh(t)||Ux(t)||Kn(["band","point","ordinal"],t);case gu:case Pp:case Np:return t!=="band";case wv:case yu:return t==="ordinal"||Ux(t)}}function tln(e){return bt(e)&&"value"in e}const Cl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},MBe=Cl.arc,E5=Cl.area,x5=Cl.bar,nln=Cl.image,S5=Cl.line,T5=Cl.point,rln=Cl.rect,PL=Cl.rule,$Be=Cl.text,$se=Cl.tick,iln=Cl.trail,Lse=Cl.circle,Fse=Cl.square,LBe=Cl.geoshape;function Sv(e){return["line","area","trail"].includes(e)}function yR(e){return["rect","bar","image","arc"].includes(e)}const sln=new Set(tt(Cl));function cp(e){return e.type}const oln=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],aln=["fill","fillOpacity"],lln=[...oln,...aln],uln={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Fve=tt(uln),cln={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},dln={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},fln={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},FBe=tt(fln);function Lb(e){return e&&e.band!=null}const hln={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},jBe=5,pln={binSpacing:1,continuousBandSize:jBe,minBandSize:.25,timeUnitBandPosition:.5},mln={binSpacing:0,continuousBandSize:jBe,minBandSize:.25,timeUnitBandPosition:.5},gln={thickness:1};function yln(e){return cp(e)?e.type:e}function BBe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function jse({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!Cf(r)||i)return"always-valid";const s=BBe(Wr("invalid",e,t),{isPath:Sv(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":s}function vln(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function zBe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,s=`peek(${r})`,o=t.domainHasZero();return o==="definitely"?{scale:e,value:0}:o==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:s})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:s})`}}function UBe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:s}){var c;const o=n==null?void 0:n.get("type"),a=If(t),l=y5(a==null?void 0:a.aggregate),u=jse({scaleChannel:e,markDef:i,config:s,scaleType:o,isCountAggregate:l});if(a&&u==="show"){const d=((c=s.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:w5(ht(a,{expr:"datum"}),!1),...bln(d,n,r)}}}function bln(e,t,n){if(tln(e)){const{value:r}=e;return Mt(r)?{signal:r.signal}:{value:r}}return zBe({scale:t,scaleName:n,mode:"zeroOrMin"})}function Bse(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:s,config:o}=e,a=y_(t),l=zse(e),u=UBe({scaleChannel:a,channelDef:n,scale:i,scaleName:s,markDef:r,config:o});return u!==void 0?[u,l]:l}function _ln(e){const{datum:t}=e;return b_(t)?Mb(t):`${ti(t)}`}function K1(e,t,n,r){const i={};if(t&&(i.scale=t),Mp(e)){const{datum:s}=e;b_(s)?i.signal=Mb(s):Mt(s)?i.signal=s.signal:mP(s)?i.signal=s.expr:i.value=s}else i.field=ht(e,n);if(r){const{offset:s,band:o}=r;s&&(i.offset=s),o&&(i.band=o)}return i}function NL({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:o=.5}){const a=!Mt(o)&&0<o&&o<1?"datum":void 0,l=ht(t,{expr:a,suffix:i}),u=n!==void 0?ht(n,{expr:a}):ht(t,{suffix:s,expr:a}),c={};if(o===0||o===1){c.scale=e;const d=o===0?l:u;c.field=d}else{const d=Mt(o)?`(1-${o.signal}) * ${l} + ${o.signal} * ${u}`:`${1-o} * ${l} + ${o} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function wln({scaleName:e,fieldDef:t}){const n=ht(t,{expr:"datum"}),r=ht(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function zse({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(En(t)){const d=o==null?void 0:o.get("type");if(bl(t)){c??(c=jy({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:p}=t;if(Ei(f)||c&&h&&p===zx)return a!=null&&a.impute?K1(t,s,{binSuffix:"mid"},{offset:l}):c&&!So(d)?NL({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:l}):K1(t,s,_P(t,e)?{binSuffix:"range"}:{},{offset:l});if(Bo(f)){if(ot(n))return NL({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});st(mBe(e===zi?Uf:kp))}}return K1(t,s,So(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(Af(t)){const d=t.value,f=l?{offset:l}:{};return{...SA(e,d),...f}}}return On(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function SA(e,t){return Kn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Kn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Ri(t)}function Fb(e){return e&&e!=="number"&&e!=="time"}function VBe(e,t,n){return`${e}(${t}${n?`, ${ti(n)}`:""})`}const Eln=" – ";function Use({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){var l,u;if(Fb(n))return Zd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const o=HBe(e,r,i),a=Vx(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(a==="quantitative"){if(i&&s.normalizedNumberFormatType)return Zd({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return Zd({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(a==="temporal"&&s.timeFormatType&&ot(e)&&e.timeUnit===void 0)return Zd({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(qx(e)){const c=Sln({field:o,timeUnit:ot(e)?(l=xo(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:w_(e)&&((u=e.scale)==null?void 0:u.type)===Uo.UTC});return c?{signal:c}:void 0}if(t=ZW({type:a,specifiedFormat:t,config:s,normalizeStack:i}),ot(e)&&Ei(e.bin)){const c=ht(e,{expr:r,binSuffix:"end"});return{signal:yP(o,c,t,n,s)}}else return t||Vx(e)==="quantitative"?{signal:`${GBe(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function HBe(e,t,n){return ot(e)?n?`${ht(e,{expr:t,suffix:"end"})}-${ht(e,{expr:t,suffix:"start"})}`:ht(e,{expr:t}):_ln(e)}function Zd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:o}){if(o??(o=HBe(e,r,i)),o!=="datum.value"&&ot(e)&&Ei(e.bin)){const a=ht(e,{expr:r,binSuffix:"end"});return{signal:yP(o,a,t,n,s)}}return{signal:VBe(n,o,t)}}function qBe(e,t,n,r,i,s){var o;if(!(Et(r)&&Fb(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Vx(e)==="quantitative"&&(i.normalizedNumberFormatType&&Hx(e)&&e.stack==="normalize"||i.numberFormatType))){if(Hx(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return ZW({type:"quantitative",config:i,normalizeStack:!0});if(qx(e)){const a=ot(e)?(o=xo(e.timeUnit))==null?void 0:o.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:xln({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:s})}return ZW({type:t,specifiedFormat:n,config:i})}}function WBe(e,t,n){var r;if(e&&(Mt(e)||e==="number"||e==="time"))return e;if(qx(t)&&n!=="time"&&n!=="utc")return ot(t)&&((r=xo(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function ZW({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Et(t))return t;if(e===$b)return r?n.normalizedNumberFormat:n.numberFormat}function xln({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:xBe(t)}:r?void 0:n.timeFormat)}function GBe(e,t){return`format(${e}, "${t||""}")`}function jve(e,t,n,r){return Fb(n)?VBe(n,e,t):GBe(e,(Et(t)?t:void 0)??r.numberFormat)}function yP(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return yP(e,t,i.numberFormat,i.numberFormatType,i);const s=jve(e,n,r,i),o=jve(t,n,r,i);return`${w5(e,!1)} ? "null" : ${s} + "${Eln}" + ${o}`}function Sln({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Et(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):Nan(t,e,s)}const C5="min",Tln={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Bve(e){return e in Tln}function Cln(e){return!!(e!=null&&e.encoding)}function Dm(e){return e&&(e.op==="count"||!!e.field)}function YBe(e){return e&&We(e)}function vP(e){return"row"in e||"column"in e}function Vse(e){return!!e&&"header"in e}function A5(e){return"facet"in e}function Aln(e){return e.param}function Iln(e){return e&&!Et(e)&&"repeat"in e}function zve(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Hse(e){return"sort"in e}function jy({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(En(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ot(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return up("timeUnitBandPosition",n,r);if(Ei(s))return .5}}function KBe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:o}){var u,c,d;const a=vu(e),l=Wr(o?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(ot(t)){const{timeUnit:f,bin:h}=t;if(f&&!n)return{band:up("timeUnitBandSize",r,i)};if(Ei(h)&&!So(s))return{band:1}}if(yR(r.type))return s?So(s)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function XBe(e,t,n,r){return Ei(e.bin)||e.timeUnit&&bl(e)&&e.type==="temporal"?jy({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function QBe(e){return e&&!!e.sort&&!e.field}function I5(e){return e&&"condition"in e}function R5(e){const t=e==null?void 0:e.condition;return!!t&&!We(t)&&ot(t)}function bP(e){const t=e==null?void 0:e.condition;return!!t&&!We(t)&&En(t)}function Rln(e){const t=e==null?void 0:e.condition;return!!t&&(We(t)||Af(t))}function ot(e){return e&&(!!e.field||e.aggregate==="count")}function Vx(e){return e==null?void 0:e.type}function Mp(e){return e&&"datum"in e}function N0(e){return bl(e)&&!DL(e)||OL(e)}function Uve(e){return bl(e)&&e.type==="quantitative"&&!e.bin||OL(e)}function OL(e){return Mp(e)&&xr(e.datum)}function En(e){return ot(e)||Mp(e)}function bl(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function Af(e){return e&&"value"in e&&"value"in e}function w_(e){return e&&("scale"in e||"sort"in e)}function Hx(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function JBe(e){return e&&"legend"in e}function ZBe(e){return e&&("format"in e||"formatType"in e)}function kln(e){return ou(e,["legend","axis","header","scale"])}function Pln(e){return"op"in e}function ht(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(Oln(e))n=z8e("count");else{let o;if(!t.nofn)if(Pln(e))o=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Ei(a)?(o=tBe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Ev(l)?(s=`["${n}"]`,n=`argmax_${l.argmax}`):ug(l)?(s=`["${n}"]`,n=`argmin_${l.argmin}`):o=String(l):u&&!__(u)&&(o=Oan(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?uT(n):t.expr?F8e(n,t.expr)+s:ld(n)+s}function DL(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ot(e)&&!!e.bin;case"temporal":return!1}throw new Error(dBe(e.type))}function Nln(e){var t;return w_(e)&&Ux((t=e.scale)==null?void 0:t.type)}function Oln(e){return e.aggregate==="count"}function Dln(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(Ei(r))return`${n} (binned)`;if(i&&!__(i)){const a=(o=xo(i))==null?void 0:o.unit;if(a)return`${n} (${_5(a).join("-")})`}else if(s)return Ev(s)?`${n} for max ${s.argmax}`:ug(s)?`${n} for min ${s.argmin}`:`${dP(s)} of ${n}`;return n}function Mln(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Ev(t))return`${i} for argmax(${t.argmax})`;if(ug(t))return`${i} for argmin(${t.argmin})`;const s=r&&!__(r)?xo(r):void 0,o=t||(s==null?void 0:s.unit)||(s==null?void 0:s.maxbins)&&"timeunit"||Ei(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const e9e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return Mln(e);default:return Dln(e,t)}};let t9e=e9e;function n9e(e){t9e=e}function $ln(){n9e(e9e)}function RE(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=qse(e))==null?void 0:a.title;if(!ot(e))return i??e.title;const s=e,o=r?Wse(s,t):void 0;return n?Cs(i,s.title,o):i??s.title??o}function qse(e){if(Hx(e)&&e.axis)return e.axis;if(JBe(e)&&e.legend)return e.legend;if(Vse(e)&&e.header)return e.header}function Wse(e,t){return t9e(e,t)}function ML(e){if(ZBe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=qse(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function Lln(e,t){var s;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Hse(e)&&We(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Ev(n)&&!ug(n))return"quantitative";if(w_(e)&&((s=e.scale)!=null&&s.type))switch(QW[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function If(e){if(ot(e))return e;if(R5(e))return e.condition}function Qs(e){if(En(e))return e;if(bP(e))return e.condition}function r9e(e,t,n,r={}){if(Et(e)||xr(e)||pv(e)){const i=Et(e)?"string":xr(e)?"number":"boolean";return st($on(t,i,e)),{value:e}}return En(e)?$L(e,t,n,r):bP(e)?{...e,condition:$L(e.condition,t,n,r)}:e}function $L(e,t,n,r){if(ZBe(e)){const{format:i,formatType:s,...o}=e;if(Fb(s)&&!n.customFormatTypes)return st(Dve(t)),$L(o,t,n,r)}else{const i=Hx(e)?"axis":JBe(e)?"legend":Vse(e)?"header":null;if(i&&e[i]){const{format:s,formatType:o,...a}=e[i];if(Fb(o)&&!n.customFormatTypes)return st(Dve(t)),$L({...e,[i]:a},t,n,r)}}return ot(e)?Gse(e,t,r):Fln(e)}function Fln(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=xr(n)?"quantitative":Et(n)?"nominal":b_(n)?"temporal":void 0,{...e,type:t}}function Gse(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:o}=e,a={...e};if(!n&&r&&!wse(r)&&!Ev(r)&&!ug(r)&&(st(Fon(r)),delete a.aggregate),i&&(a.timeUnit=xo(i)),o&&(a.field=`${o}`),Ei(s)&&(a.bin=k5(s,t)),Bo(s)&&!As(t)&&st(gan(t)),bl(a)){const{type:l}=a,u=zan(l);l!==u&&(a.type=u),l!=="quantitative"&&y5(r)&&(st(Lon(l,r)),a.type="quantitative")}else if(!K8e(t)){const l=Lln(a,t);a.type=l}if(bl(a)){const{compatible:l,warning:u}=jln(a,t)||{};l===!1&&st(u)}if(Hse(a)&&Et(a.sort)){const{sort:l}=a;if(Bve(l))return{...a,sort:{encoding:l}};const u=l.substr(1);if(l.charAt(0)==="-"&&Bve(u))return{...a,sort:{encoding:u,order:"descending"}}}if(Vse(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function k5(e,t){return pv(e)?{maxbins:Tve(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:Tve(t)}:e}const nw={compatible:!0};function jln(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Nm:case Om:case d5:return DL(e)?nw:{compatible:!1,warning:Uon(t)};case zi:case Co:case yv:case cT:case gu:case Pp:case Np:case fP:case hP:case f5:case Db:case h5:case p5:case g_:case bd:case Vf:case m5:return nw;case qf:case ud:case Hf:case Wf:return n!==$b?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:nw;case Ig:case vv:case bv:case _v:case Ag:case Cg:case Tg:case Uf:case kp:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:nw;case yu:case wv:return!DL(e)&&!Nln(e)?{compatible:!1,warning:Von(t)}:nw;case jx:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:nw}}function qx(e){const{formatType:t}=ML(e);return t==="time"||!t&&Bln(e)}function Bln(e){return e&&(e.type==="temporal"||ot(e)&&!!e.timeUnit)}function P5(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const s=t&&((l=xo(t))==null?void 0:l.unit);let o=s||n==="temporal",a;return mP(e)?a=e.expr:Mt(e)?a=e.signal:b_(e)?(o=!0,a=Mb(e)):(Et(e)||xr(e))&&o&&(a=`datetime(${ti(e)})`,Ian(s)&&(xr(e)&&e<1e4||Et(e)&&isNaN(Date.parse(e)))&&(a=Mb({[s]:e}))),a?r&&o?`time(${a})`:a:i?void 0:ti(e)}function i9e(e,t){const{type:n}=e;return t.map(r=>{const i=ot(e)&&!__(e.timeUnit)?e.timeUnit:void 0,s=P5(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function _P(e,t){return Ei(e.bin)?Dp(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Vve={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function wP(e){return e==null?void 0:e.condition}const s9e=["domain","grid","labels","ticks","title"],zln={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},o9e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Uln={...o9e,style:1,labelExpr:1,encoding:1};function Hve(e){return!!Uln[e]}const Vln={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},a9e=tt(Vln);function kg(e){return"mark"in e}class N5{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return kg(t)?yln(t.mark)===this.name:!1}}function X1(e,t){const n=e&&e[t];return n?We(n)?Lx(n,r=>!!r.field):ot(n)||R5(n):!1}function l9e(e,t){const n=e&&e[t];return n?We(n)?Lx(n,r=>!!r.field):ot(n)||Mp(n)||bP(n):!1}function u9e(e,t){if(As(t)){const n=e[t];if((ot(n)||Mp(n))&&(IBe(n.type)||ot(n)&&n.timeUnit)){const r=gse(t);return l9e(e,r)}}return!1}function c9e(e){return Lx(Usn,t=>{if(X1(e,t)){const n=e[t];if(We(n))return Lx(n,r=>!!r.aggregate);{const r=If(n);return r&&!!r.aggregate}}return!1})}function d9e(e,t){const n=[],r=[],i=[],s=[],o={};return Yse(e,(a,l)=>{if(ot(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const p=qse(a),m=p==null?void 0:p.title;let g=ht(a,{forAs:!0});const y={...m?[]:{title:RE(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(Ev(c)?(v="argmax",g=ht({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${u}`):ug(c)?(v="argmin",g=ht({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const _={op:v,as:g};u&&(_.field=u),s.push(_)}}else if(n.push(g),bl(a)&&Ei(d)){if(r.push({bin:d,field:u,as:g}),n.push(ht(a,{binSuffix:"end"})),_P(a,l)&&n.push(ht(a,{binSuffix:"range"})),As(l)){const v={field:`${g}_end`};o[`${l}2`]=v}y.bin="binned",K8e(l)||(y.type=$b)}else if(f&&!__(f)){i.push({timeUnit:f,field:u,as:g});const v=bl(a)&&a.type!==zx&&"time";v&&(l===fP||l===Db?y.formatType=v:Jsn(l)?y.legend={formatType:v,...y.legend}:As(l)&&(y.axis={formatType:v,...y.axis}))}o[l]=y}else n.push(u),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:o}}function Hln(e,t,n){const r=eon(t,n);if(r){if(r==="binned"){const i=e[t===Uf?zi:Co];return!!(ot(i)&&ot(e[t])&&Bo(i.bin))}}else return!1;return!0}function qln(e,t,n,r){const i={};for(const s of tt(e))Y8e(s)||st(zon(s));for(let s of Ysn){if(!e[s])continue;const o=e[s];if(pP(s)){const a=Gsn(s),l=i[a];if(ot(l)&&Ban(l.type)&&ot(o)&&!l.timeUnit){st(Mon(a));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(st(Don),s=bd),!Hln(e,s,t)){st(b5(s,t));continue}if(s===Ag&&t==="line"){const a=If(e[s]);if(a!=null&&a.aggregate){st(Bon);continue}}if(s===gu&&(n?"fill"in e:"stroke"in e)){st(fBe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===hP||s===jx&&!We(o)&&!Af(o)||s===Db&&We(o)){if(o){if(s===jx){const a=e[s];if(QBe(a)){i[s]=a;continue}}i[s]=wt(o).reduce((a,l)=>(ot(l)?a.push(Gse(l,s)):st(XW(l,s)),a),[])}}else{if(s===Db&&o===null)i[s]=null;else if(!ot(o)&&!Mp(o)&&!Af(o)&&!I5(o)&&!Mt(o)){st(XW(o,s));continue}i[s]=r9e(o,s,r)}}return i}function O5(e,t){const n={};for(const r of tt(e)){const i=r9e(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function Wln(e){const t=[];for(const n of tt(e))if(X1(e,n)){const r=e[n],i=wt(r);for(const s of i)ot(s)?t.push(s):R5(s)&&t.push(s.condition)}return t}function Yse(e,t,n){if(e)for(const r of tt(e)){const i=e[r];if(We(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function Gln(e,t,n,r){return e?tt(e).reduce((i,s)=>{const o=e[s];return We(o)?o.reduce((a,l)=>t.call(r,a,l,s),i):t.call(r,i,o,s)},n):n}function f9e(e,t){return tt(t).reduce((n,r)=>{switch(r){case zi:case Co:case h5:case m5:case p5:case Uf:case kp:case yv:case cT:case bd:case Cg:case Vf:case Tg:case Hf:case qf:case Wf:case ud:case fP:case yu:case g_:case Db:return n;case jx:if(e==="line"||e==="trail")return n;case hP:case f5:{const i=t[r];if(We(i)||ot(i))for(const s of wt(i))s.aggregate||n.push(ht(s,{}));return n}case Ag:if(e==="trail")return n;case gu:case Pp:case Np:case Ig:case vv:case bv:case wv:case _v:{const i=If(t[r]);return i&&!i.aggregate&&n.push(ht(i,{})),n}}},[])}function Yln(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(We(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return We(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function eG(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:a})=>{const l=r?` of ${Kse(t)}`:"";return{field:o+t.field,type:t.type,title:Mt(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),s=Wln(n).map(kln);return{tooltip:[...i,...Oh(s,tr)]}}function Kse(e){const{title:t,field:n}=e;return Cs(t,n)}function Xse(e,t,n,r,i){const{scale:s,axis:o}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=Kse(n);return h9e(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...s!==void 0?{scale:s}:{},...o!==void 0?{axis:o}:{}},...Et(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function h9e(e,t,n,r){const{clip:i,color:s,opacity:o}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...o?{opacity:o}:{},...cp(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...pv(e[t])?{}:e[t]}}]:[]}function p9e(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],o=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:SO(s,n),continuousAxisChannelDef2:SO(o,n),continuousAxisChannelDefError:SO(a,n),continuousAxisChannelDefError2:SO(l,n),continuousAxis:i}}function SO(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&st(man(n,t)),r}else return e}function m9e(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(cp(n)&&n.orient)return n.orient;if(N0(i)){if(N0(s)){const o=ot(i)&&i.aggregate,a=ot(s)&&s.aggregate;if(!o&&a===t)return"vertical";if(!a&&o===t)return"horizontal";if(o===t&&a===t)throw new Error("Both x and y cannot have aggregate");return qx(s)&&!qx(i)?"horizontal":"vertical"}return"horizontal"}else{if(N0(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const LL="boxplot",Kln=["box","median","outliers","rule","ticks"],Xln=new N5(LL,y9e);function g9e(e){return xr(e)?"tukey":e}function y9e(e,{config:t}){e={...e,encoding:O5(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...o}=e,a=cp(n)?n:{type:n};i&&st(cBe("boxplot"));const l=a.extent??t.boxplot.extent,u=Wr("size",a,t),c=a.invalid,d=g9e(l),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:_,ticksOrient:w,boxOrient:E,customTooltipWithoutAggregatedField:S}=Qln(e,l,t),x=uT(m.field),{color:T,size:I,...P}=_,k=ne=>Xse(a,g,m,ne,t.boxplot),D=k(P),R=k(_),M=(bt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",$=k({...P,...I?{size:I}:{},color:{condition:{test:`datum['lower_box_${m.field}'] >= datum['upper_box_${m.field}']`,...T||{value:M}}}}),L=eG([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,_),B={type:"tick",color:"black",opacity:1,orient:w,invalid:c,aria:!1},z=d==="min-max"?L:eG([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,_),U=[...D({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...D({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...D({partName:"ticks",mark:B,positionPrefix:"lower_whisker",extraEncoding:z}),...D({partName:"ticks",mark:B,positionPrefix:"upper_whisker",extraEncoding:z})],N=[...d!=="tukey"?U:[],...R({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:E,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:L}),...$({partName:"median",mark:{type:"tick",invalid:c,...bt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:w,aria:!1},positionPrefix:"mid_box",extraEncoding:L})];if(d==="min-max")return{...o,transform:(o.transform??[]).concat(p),layer:N};const V=`datum["lower_box_${m.field}"]`,W=`datum["upper_box_${m.field}"]`,F=`(${W} - ${V})`,H=`${V} - ${l} * ${F}`,G=`${W} + ${l} * ${F}`,X=`datum["${m.field}"]`,ie={joinaggregate:v9e(m.field),groupby:y},oe={transform:[{filter:`(${H} <= ${X}) && (${X} <= ${G})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${x}`},{op:"max",field:m.field,as:`upper_whisker_${x}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${x}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${x}`},...v],groupby:y}],layer:U},{tooltip:se,...le}=P,{scale:Se,axis:de}=m,De=Kse(m),Fe=ou(de,["title"]),Be=h9e(a,"outliers",t.boxplot,{transform:[{filter:`(${X} < ${H}) || (${X} > ${G})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...De!==void 0?{title:De}:{},...Se!==void 0?{scale:Se}:{},...ei(Fe)?{}:{axis:Fe}},...le,...T?{color:T}:{},...S?{tooltip:S}:{}}})[0];let je;const me=[...f,...h,ie];return Be?je={transform:me,layer:[Be,oe]}:(je=oe,je.transform.unshift(...me)),{...o,layer:[je,{transform:p,layer:N}]}}function v9e(e){const t=uT(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function Qln(e,t,n){const r=m9e(e,LL),{continuousAxisChannelDef:i,continuousAxis:s}=p9e(e,r,LL),o=i.field,a=uT(o),l=g9e(t),u=[...v9e(o),{op:"median",field:o,as:`mid_box_${a}`},{op:"min",field:o,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:o,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[s]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=Yln(f),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:_}=d9e(p,n),w=r==="vertical"?"horizontal":"vertical",E=r,S=[...m,...g,{aggregate:[...y,...u],groupby:v},...c];return{bins:m,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:_,ticksOrient:w,boxOrient:E,customTooltipWithoutAggregatedField:h}}const Qse="errorbar",Jln=["ticks","rule"],Zln=new N5(Qse,b9e);function b9e(e,{config:t}){e={...e,encoding:O5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:o,markDef:a,outerSpec:l,tooltipEncoding:u}=_9e(e,Qse,t);delete s.size;const c=Xse(a,i,r,s,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:o,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function eun(e,t){const{encoding:n}=e;if(tun(n))return{orient:m9e(e,t),inputType:"raw"};const r=nun(n),i=run(n),s=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(En(a)&&En(l))throw new Error(`${t} cannot have both x2 and y2`);if(En(a)){if(N0(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(En(l)){if(N0(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(En(l)&&!En(a))throw new Error(`${t} cannot have xError2 without xError`);if(En(c)&&!En(u))throw new Error(`${t} cannot have yError2 without yError`);if(En(a)&&En(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(En(a)){if(N0(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(En(u)){if(N0(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function tun(e){return(En(e.x)||En(e.y))&&!En(e.x2)&&!En(e.y2)&&!En(e.xError)&&!En(e.xError2)&&!En(e.yError)&&!En(e.yError2)}function nun(e){return En(e.x2)||En(e.y2)}function run(e){return En(e.xError)||En(e.xError2)||En(e.yError)||En(e.yError2)}function _9e(e,t,n){const{mark:r,encoding:i,params:s,projection:o,...a}=e,l=cp(r)?r:{type:r};s&&st(cBe(t));const{orient:u,inputType:c}=eun(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=p9e(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:_}=iun(l,d,f,h,p,c,t,n),{[m]:w,[m==="x"?"x2":"y2"]:E,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:x,...T}=i,{bins:I,timeUnits:P,aggregate:k,groupby:D,encoding:R}=d9e(T,n),M=[...k,...g],$=c!=="raw"?[]:D,L=eG(v,d,R,_);return{transform:[...a.transform??[],...I,...P,...M.length===0?[]:[{aggregate:M,groupby:$}],...y],groupby:$,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:R,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:L}}function iun(e,t,n,r,i,s,o,a){let l=[],u=[];const c=t.field;let d,f=!1;if(s==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&st(pan(h,p,o)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:dP(h)},{fieldPrefix:"upper_",titlePrefix:qve(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:qve(h,p,"-")}],f=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:RE({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:RE({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:RE({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&st(han(e.center,e.extent)),s==="aggregated-upper-lower"?(d=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):s==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Ob(Ob(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function qve(e,t,n){return`${dP(e)} ${n} ${t}`}const Jse="errorband",sun=["band","borders"],oun=new N5(Jse,w9e);function w9e(e,{config:t}){e={...e,encoding:O5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:o,outerSpec:a,tooltipEncoding:l}=_9e(e,Jse,t),u=o,c=Xse(u,i,r,s,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?st($ve("interpolate")):u.tension&&st($ve("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const E9e={};function Zse(e,t,n){const r=new N5(e,t);E9e[e]={normalizer:r,parts:n}}function aun(){return tt(E9e)}Zse(LL,y9e,Kln);Zse(Qse,b9e,Jln);Zse(Jse,w9e,sun);const lun=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],x9e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},S9e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},uun=tt(x9e),cun=tt(S9e),dun={header:1,headerRow:1,headerColumn:1,headerFacet:1},T9e=tt(dun),C9e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],fun={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},hun={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Rf="_vgsid_",pun={point:{on:"click",fields:[Rf],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function eoe(e){return e==="legend"||!!(e!=null&&e.legend)}function i7(e){return eoe(e)&&bt(e)}function toe(e){return!!(e!=null&&e.select)}function A9e(e){const t=[];for(const n of e||[]){if(toe(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const o={...s,bind:i,init:r};t.push(o)}else{const o={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function mun(e){return D5(e)||roe(e)||noe(e)}function noe(e){return"concat"in e}function D5(e){return"vconcat"in e}function roe(e){return"hconcat"in e}function I9e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function dp(e){return bt(e)&&e.step!==void 0}function Wve(e){return e.view||e.width||e.height}const Gve=20,gun={align:1,bounds:1,center:1,columns:1,spacing:1},yun=tt(gun);function vun(e,t,n){const r=n[t],i={},{spacing:s,columns:o}=r;s!==void 0&&(i.spacing=s),o!==void 0&&(A5(e)&&!vP(e.facet)||noe(e))&&(i.columns=o),D5(e)&&(i.columns=1);for(const a of yun)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=xr(l)?l:{row:l.row??s,column:l.column??s}}else i[a]=e[a];return i}function tG(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function FL(e,t){const n=jL(e,t);return dp(n)?n.step:R9e}function jL(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Cs(n,{step:e.step})}const R9e=20,bun={continuousWidth:200,continuousHeight:200,step:R9e},_un={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:bun,mark:dln,arc:{},area:{},bar:pln,circle:{},geoshape:{},image:{},line:{},point:{},rect:mln,rule:{color:"black"},square:{},text:{color:"black"},tick:gln,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Wan,projection:{},legend:fun,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:pun,style:{},title:{},facet:{spacing:Gve},concat:{spacing:Gve},normalizedNumberFormat:".0%"},Wp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Yve={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Kve={blue:Wp[0],orange:Wp[1],red:Wp[2],teal:Wp[3],green:Wp[4],yellow:Wp[5],purple:Wp[6],pink:Wp[7],brown:Wp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function wun(e={}){return{signals:[{name:"color",value:bt(e)?{...Kve,...e}:Kve}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Eun(e){return{signals:[{name:"fontSize",value:bt(e)?{...Yve,...e}:Yve}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function xun(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function k9e(e){const t=tt(e||{}),n={};for(const r of t){const i=e[r];n[r]=wP(i)?rBe(i):Lu(i)}return n}function Sun(e){const t=tt(e),n={};for(const r of t)n[r]=k9e(e[r]);return n}const Tun=[...FBe,...a9e,...T9e,"background","padding","legend","lineBreak","scale","style","title","view"];function P9e(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,o=JS({},mn(_un),n?xun(n):{},t?wun(t):{},r?Eun(r):{},s||{});i&&ZS(o,"selection",i,!0);const a=ou(o,Tun);for(const l of["background","lineBreak","padding"])o[l]&&(a[l]=Lu(o[l]));for(const l of FBe)o[l]&&(a[l]=xa(o[l]));for(const l of a9e)o[l]&&(a[l]=k9e(o[l]));for(const l of T9e)o[l]&&(a[l]=xa(o[l]));if(o.legend&&(a.legend=xa(o.legend)),o.scale){const{invalid:l,...u}=o.scale,c=xa(l,{level:1});a.scale={...xa(u),...tt(c).length>0?{invalid:c}:{}}}return o.style&&(a.style=Sun(o.style)),o.title&&(a.title=xa(o.title)),o.view&&(a.view=xa(o.view)),a}const Cun=new Set(["view",...sln]),Aun=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Iun={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...cln};function Run(e){e=mn(e);for(const t of Aun)delete e[t];if(e.axis)for(const t in e.axis)wP(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of lun)delete e.legend[t];if(e.mark){for(const t of Fve)delete e.mark[t];e.mark.tooltip&&bt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(A9e(e.params)),delete e.params);for(const t of Cun){for(const r of Fve)delete e[t][r];const n=Iun[t];if(n)for(const r of n)delete e[t][r];Pun(e,t)}for(const t of aun())delete e[t];kun(e);for(const t in e)bt(e[t])&&ei(e[t])&&delete e[t];return ei(e)?void 0:e}function kun(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=nBe(e.title);ei(t)||(e.style["group-title"]={...e.style["group-title"],...t}),ei(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),ei(r)?delete e.title:e.title=r}function Pun(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};ei(s)||(e.style[n??t]=s),delete e[t]}function M5(e){return"layer"in e}function Nun(e){return"repeat"in e}function Oun(e){return!We(e.repeat)&&e.repeat.layer}class ioe{map(t,n){return A5(t)?this.mapFacet(t,n):Nun(t)?this.mapRepeat(t,n):roe(t)?this.mapHConcat(t,n):D5(t)?this.mapVConcat(t,n):noe(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(M5(t))return this.mapLayer(t,n);if(kg(t))return this.mapUnit(t,n);throw new Error(Ese(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const Dun={zero:1,center:1,normalize:1};function Mun(e){return e in Dun}const $un=new Set([MBe,x5,E5,PL,T5,Lse,Fse,S5,$Be,$se]),Lun=new Set([x5,E5,MBe]);function rw(e){return ot(e)&&Vx(e)==="quantitative"&&!e.bin}function Xve(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),o=e[t],a=e[i];if(ot(o)&&ot(a))if(rw(o)&&rw(a)){if(o.stack)return t;if(a.stack)return i;const l=ot(o)&&!!o.aggregate,u=ot(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(rw(o))return t;if(rw(a))return i}else{if(rw(o))return s&&n==="vertical"?void 0:t;if(rw(a))return s&&n==="horizontal"?void 0:i}}function Fun(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function N9e(e,t){var m,g;const n=cp(e)?e:{type:e},r=n.type;if(!$un.has(r))return null;const i=Xve(t,"x",n)||Xve(t,"theta",n);if(!i)return null;const s=t[i],o=ot(s)?ht(s,{}):void 0,a=Fun(i),l=[],u=new Set;if(t[a]){const y=t[a],v=ot(y)?ht(y,{}):void 0;v&&v!==o&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=ot(d)?ht(d,{}):void 0;f&&f!==o&&(l.push(c),u.add(f));const h=Ksn.reduce((y,v)=>{if(v!=="tooltip"&&X1(t,v)){const _=t[v];for(const w of wt(_)){const E=If(w);if(E.aggregate)continue;const S=ht(E,{});(!S||!u.has(S))&&y.push({channel:v,fieldDef:E})}}return y},[]);let p;return s.stack!==void 0?pv(s.stack)?p=s.stack?"zero":null:p=s.stack:Lun.has(r)&&(p="zero"),!p||!Mun(p)||c9e(t)&&h.length===0?null:((m=s==null?void 0:s.scale)!=null&&m.type&&((g=s==null?void 0:s.scale)==null?void 0:g.type)!==Uo.LINEAR&&s!=null&&s.stack&&st(can(s.scale.type)),En(t[Op(i)])?(s.stack!==void 0&&st(uan(i)),null):(ot(s)&&s.aggregate&&!aon.has(s.aggregate)&&st(dan(s.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:s.impute===null?!1:Sv(r),stackBy:h,offset:p}))}function O9e(e,t,n){const r=xa(e),i=Wr("orient",r,n);if(r.orient=Uun(r.type,t,i),i!==void 0&&i!==r.orient&&st(Gon(r.orient,i)),r.type==="bar"&&r.orient){const l=Wr("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:hln[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=Wr("opacity",r,n),o=Wr("fillOpacity",r,n);return s===void 0&&o===void 0&&(r.opacity=Bun(r.type,t)),Wr("cursor",r,n)===void 0&&(r.cursor=jun(r,t,n)),r}function jun(e,t,n){return t.href||e.href||Wr("href",e,n)?"pointer":e.cursor}function Bun(e,t){if(Kn([T5,$se,Lse,Fse],e)&&!c9e(t))return .7}function zun(e,t,{graticule:n}){if(n)return!1;const r=up("filled",e,t),i=e.type;return Cs(r,i!==T5&&i!==S5&&i!==PL)}function Uun(e,t,n){switch(e){case T5:case Lse:case Fse:case $Be:case rln:case nln:return}const{x:r,y:i,x2:s,y2:o}=t;switch(e){case x5:if(ot(r)&&(Bo(r.bin)||ot(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ot(i)&&(Bo(i.bin)||ot(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||s){if(n)return n;if(!s)return(ot(r)&&r.type===$b&&!Ei(r.bin)||OL(r))&&ot(i)&&Bo(i.bin)?"horizontal":"vertical";if(!o)return(ot(i)&&i.type===$b&&!Ei(i.bin)||OL(i))&&ot(r)&&Bo(r.bin)?"vertical":"horizontal"}case PL:if(s&&!(ot(r)&&Bo(r.bin))&&o&&!(ot(i)&&Bo(i.bin)))return;case E5:if(o)return ot(i)&&Bo(i.bin)?"horizontal":"vertical";if(s)return ot(r)&&Bo(r.bin)?"vertical":"horizontal";if(e===PL){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case S5:case $se:{const a=Uve(r),l=Uve(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=bl(r)&&r.type===zx,c=bl(i)&&i.type===zx;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function Vun(e){const{point:t,line:n,...r}=e;return tt(r).length>1?r:r.type}function Hun(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:ou(e[t],["point","line"])});return e}function s7(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?bt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?bt(t.point)?t.point:{}:void 0}function Qve(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class qun{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(kg(t)){const{mark:r,encoding:i}=t,s=cp(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!s7(s,n[s.type],i);case"area":return!!s7(s,n[s.type],i)||!!Qve(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:o,mark:a,name:l,encoding:u,...c}=t,d=O5(u,i),f=cp(a)?a:{type:a},h=s7(f,i[f.type],d),p=f.type==="area"&&Qve(f,i[f.type]),m=[{name:l,...s?{params:s}:{},mark:Vun({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:ou(d,["shape"])}],g=N9e(O9e(f,d,i),d);let y=d;if(g){const{fieldChannel:v,offset:_}=g;y={...d,[v]:{...d[v],..._?{stack:_}:{}}}}return y=ou(y,["y2","x2"]),p&&m.push({...o?{projection:o}:{},mark:{type:"line",...$x(f,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...$x(f,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:Hun(i)})}}function Wun(e,t){return t?vP(e)?M9e(e,t):D9e(e,t):e}function o7(e,t){return t?M9e(e,t):e}function nG(e,t,n){const r=t[e];if(Iln(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};st(Aon(r.repeat));return}return t}function D9e(e,t){if(e=nG("field",e,t),e!==void 0){if(e===null)return null;if(Hse(e)&&Dm(e.sort)){const n=nG("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Jve(e,t){if(ot(e))return D9e(e,t);{const n=nG("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Zve(e,t){if(En(e)){const n=Jve(e,t);if(n)return n;if(I5(e))return{condition:e.condition}}else{if(bP(e)){const n=Jve(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function M9e(e,t){const n={};for(const r in e)if(Vt(e,r)){const i=e[r];if(We(i))n[r]=i.map(s=>Zve(s,t)).filter(s=>s);else{const s=Zve(i,t);s!==void 0&&(n[r]=s)}}return n}class Gun{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(kg(t)){const{encoding:n,mark:r}=t;if(r==="line"||cp(r)&&r.type==="line")for(const i of Wsn){const s=y_(i),o=n[s];if(n[i]&&(ot(o)&&!Bo(o.bin)||Mp(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return st(Won(!!i.x2,!!i.y2)),r({...t,mark:bt(s)?{...s,type:"rule"}:"rule"},n)}}class Yun extends ioe{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[Xln,Zln,oun,new qun,new Gun]}map(t,n){if(kg(t)){const r=X1(t.encoding,Nm),i=X1(t.encoding,Om),s=X1(t.encoding,d5);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=o7(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,a);return o}mapRepeat(t,n){return Oun(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:o,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return o||a?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...s,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Bi(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...o}=t;!We(r)&&t.columns&&(t=ou(t,["columns"]),st(Nve("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!We(r)&&r.row||[l?l.row:null],d=!We(r)&&r.column||[l?l.column:null],f=We(r)&&r||[l?l.repeat:null];for(const p of f)for(const m of c)for(const g of d){const y={repeat:p,row:m,column:g,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(We(r)?`${Bi(p)}`:(r.row?`row_${Bi(m)}`:"")+(r.column?`column_${Bi(g)}`:"")),_=this.map(i,{...n,repeater:y,repeaterPrefix:v});_.name=v,a.push(ou(_,["data"]))}const h=We(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...o,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return vP(r)&&t.columns&&(t=ou(t,["columns"]),st(Nve("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:o,config:a}=n,l=t1e({parentProjection:o,projection:i}),u=e1e({parentEncoding:s,encoding:o7(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...o}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),y=o7(o,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:y,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&st(Hon([...r?[Nm]:[],...i?[Om]:[]]));const o={},a={};for(const l of[Nm,Om]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...p}=u;o[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:o,layout:a}}else{const{align:o,center:a,spacing:l,columns:u,...c}=s;return{facetMapping:Wun(c,n.repeater),layout:{...o?{align:o}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:o,...a}=t,l={...i,parentEncoding:e1e({parentEncoding:n,encoding:s,layer:!0}),parentProjection:t1e({parentProjection:r,projection:o})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function e1e({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...tt(e),...tt(t)]);for(const s of i){const o=t[s],a=e[s];if(En(o)){const l={...a,...o};r[s]=l}else bP(o)?r[s]={...o,condition:{...a,...o.condition}}:o||o===null?r[s]=o:(n||Af(a)||Mt(a)||En(a)||We(a))&&(r[s]=a)}}else r=t;return!r||ei(r)?void 0:r}function t1e(e){const{parentProjection:t,projection:n}=e;return t&&n&&st(Oon({parentProjection:t,projection:n})),n??t}function soe(e){return"filter"in e}function Kun(e){return(e==null?void 0:e.stop)!==void 0}function $9e(e){return"lookup"in e}function Xun(e){return"data"in e}function Qun(e){return"param"in e}function Jun(e){return"pivot"in e}function Zun(e){return"density"in e}function ecn(e){return"quantile"in e}function tcn(e){return"regression"in e}function ncn(e){return"loess"in e}function rcn(e){return"sample"in e}function icn(e){return"window"in e}function scn(e){return"joinaggregate"in e}function ocn(e){return"flatten"in e}function acn(e){return"calculate"in e}function L9e(e){return"bin"in e}function lcn(e){return"impute"in e}function ucn(e){return"timeUnit"in e}function ccn(e){return"aggregate"in e}function dcn(e){return"stack"in e}function fcn(e){return"fold"in e}function hcn(e){return"extent"in e&&!("density"in e)&&!("regression"in e)}function pcn(e){return e.map(t=>soe(t)?{filter:AE(t.filter,jan)}:t)}class mcn extends ioe{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=n1e(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=n1e(t,n),t.encoding){const r={};for(const[i,s]of Ly(t.encoding))r[i]=F9e(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Ly(r).map(([s,o])=>{const{init:a,bind:l,empty:u,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=u!=="none";for(const d of Ko(n.selectionPredicates[s]??{}))d.empty=u!=="none";return{name:s,value:a,select:c,bind:l}})}:t}}function n1e(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(soe(s))return{filter:rG(s,t)};if(L9e(s)&&v_(s.bin))return{...s,bin:j9e(s.bin)};if($9e(s)){const{selection:o,...a}=s.from;return o?{...s,from:{param:o,...a}}:s}return s});return{...r,transform:i}}return e}function F9e(e,t){var r,i;const n=mn(e);if(ot(n)&&v_(n.bin)&&(n.bin=j9e(n.bin)),w_(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:s,...o}=n.scale.domain;n.scale.domain={...o,...s?{param:s}:{}}}if(I5(n))if(We(n.condition))n.condition=n.condition.map(s=>{const{selection:o,param:a,test:l,...u}=s;return a?s:{...u,test:rG(s,t)}});else{const{selection:s,param:o,test:a,...l}=F9e(n.condition,t);n.condition=o?n.condition:{...l,test:rG(n.condition,t)}}return n}function j9e(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function rG(e,t){const n=r=>AE(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):AE(e.test||e.filter,r=>r.selection?n(r.selection):r)}class iG extends ioe{map(t,n){const r=n.selections??[];if(t.params&&!kg(t)){const i=[];for(const s of t.params)toe(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const o of r)if(!o.views||!o.views.length)s.push(o);else for(const a of o.views)(Et(a)&&(a===t.name||i.includes(a))||We(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&s.push(o);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=iG.prototype[e];iG.prototype[e]=function(n,r){return t.call(this,n,gcn(n,r))}}function gcn(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function B9e(e,t){t===void 0&&(t=P9e(e.config));const n=_cn(e,t),{width:r,height:i}=e,s=wcn(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const ycn=new Yun,vcn=new mcn,bcn=new iG;function _cn(e,t={}){const n={config:t};return bcn.map(ycn.map(vcn.map(e,n),n),n)}function r1e(e){return Et(e)?{type:e}:e??{}}function wcn(e,t,n){let{width:r,height:i}=t;const s=kg(e)||M5(e),o={};s?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(st(Ive("width")),r=void 0),i=="container"&&(st(Ive("height")),i=void 0));const a={type:"pad",...o,...n?r1e(n.autosize):{},...r1e(e.autosize)};if(a.type==="fit"&&!s&&(st(gon),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&st(Rve("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&st(Rve("height")),!qu(a,{type:"pad"}))return a}function Ecn(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function xcn(e){return e?`fit-${g5(e)}`:"fit"}const Scn=["background","padding"];function i1e(e,t){const n={};for(const r of Scn)e&&e[r]!==void 0&&(n[r]=Lu(e[r]));return t&&(n.params=e.params),n}class Pg{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Pg(mn(this.explicit),mn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Cs(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of tt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function hh(e){return{explicit:!0,value:e}}function Ru(e){return{explicit:!1,value:e}}function z9e(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:$5(t,n,r,i)}}function $5(e,t,n,r){return e.explicit&&t.explicit&&st(nan(n,r,e.value,t.value)),e}function By(e,t,n,r,i=$5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:qu(e.value,t.value)?e:i(e,t,n,r)}class Tcn extends Pg{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Wx(e){return"url"in e}function vR(e){return"values"in e}function U9e(e){return"name"in e&&!Wx(e)&&!vR(e)&&!ny(e)}function ny(e){return e&&(V9e(e)||H9e(e)||ooe(e))}function V9e(e){return"sequence"in e}function H9e(e){return"sphere"in e}function ooe(e){return"graticule"in e}var ds;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(ds||(ds={}));function q9e({invalid:e,isPath:t}){switch(BBe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function Ccn(e){const{marks:t,scales:n}=q9e(e);return t===n?ds.Main:n==="include-invalid-values"?ds.PreFilterInvalid:ds.PostFilterInvalid}function W9e(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=ld(i.field),i}function jb(e,t=!0,n=ja){if(We(e)){const r=e.map(i=>jb(i,t,n));return t?`[${r.join(", ")}]`:r}else if(b_(e))return n(t?Mb(e):Aan(e));return t?n(ti(e)):e}function Acn(e,t){for(const n of Ko(e.component.selection??{})){const r=n.name;let i=`${r}${Uy}, ${n.resolve==="global"?"true":`{unit: ${Q1(e)}}`}`;for(const s of B5)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+rdn,on:[{events:{signal:n.name+Uy},update:`modify(${ut(n.name+Bb)}, ${i})`}]})}return aoe(t)}function Icn(e,t){if(e.component.selection&&tt(e.component.selection).length){const n=ut(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:gv("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return aoe(t)}function Rcn(e,t){let n=!1;for(const r of Ko(e.component.selection??{})){const i=r.name,s=ut(i+Bb);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${cze}(${s}, ${ut(a)}${l}`})}n=!0;for(const a of B5)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),aoe(t)}function kcn(e,t){const n=[...t],r=Q1(e,{escape:!1});for(const i of Ko(e.component.selection??{})){const s={name:i.name+Bb};if(i.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Rf}}]),i.init){const a=i.project.items.map(W9e);s.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[Rf]:jb(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:jb(l,!1)}))}n.filter(a=>a.name===i.name+Bb).length||n.push(s)}return n}function G9e(e,t){for(const n of Ko(e.component.selection??{}))for(const r of B5)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function Pcn(e,t){for(const n of e.children)Wi(n)&&(t=G9e(n,t));return t}function Ncn(e,t,n,r){const i=mze(e,t.param,t);return{signal:Cf(n.get("type"))&&We(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function aoe(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Xr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){st(kon);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class au extends Xr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${B8e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function a7(e){return e.as!==void 0}function s1e(e){return`${e}_end`}class Yh extends Xr{clone(){return new Yh(null,mn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{const{field:a,timeUnit:l}=s;if(l){let u;if(__(l)){if(Wi(n)){const{mark:c,markDef:d,config:f}=n,h=jy({fieldDef:s,markDef:d,config:f});(yR(c)||h)&&(u={timeUnit:xo(l),field:a})}}else u={as:ht(s,{forAs:!0}),field:a,timeUnit:l};if(Wi(n)){const{mark:c,markDef:d,config:f}=n,h=jy({fieldDef:s,markDef:d,config:f});yR(c)&&As(o)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[tr(u)]=u)}return i},{});return ei(r)?null:new Yh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=xo(r),o={...i,timeUnit:s};return new Yh(t,{[tr(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Ly(this.timeUnits)){const s=a7(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Ko(this.timeUnits).map(t=>a7(t)?t.as:s1e(t.field)))}dependentFields(){return new Set(Ko(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${tr(this.timeUnits)}`}assemble(){const t=[];for(const n of Ko(this.timeUnits)){const{rectBandPosition:r}=n,i=xo(n.timeUnit);if(a7(n)){const{field:s,as:o}=n,{unit:a,utc:l,...u}=i,c=[o,`${o}_end`];t.push({field:ld(s),type:"timeunit",...a?{units:_5(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...o1e(c,r,i))}else if(n){const{field:s}=n,o=s.replaceAll("\\.","."),a=Y9e({timeUnit:i,field:o}),l=s1e(o);t.push({type:"formula",expr:a,as:l}),t.push(...o1e([o,l],r,i))}}return t}}const L5="offsetted_rect_start",F5="offsetted_rect_end";function Y9e({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=wBe(r),{part:o,step:a}=TBe(s,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', datum['${t}'], ${n?-a:a})`}function o1e([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,s=`datum['${t}']`;return[{type:"formula",expr:a1e([Y9e({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${L5}`},{type:"formula",expr:a1e([i,s],n+.5),as:`${e}_${F5}`}]}return[]}function a1e([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const EP="_tuple_fields";class Ocn{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Dcn={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new Ocn),s={},o={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=Bi(`${r}_${g}`);for(let v=1;a.has(y);v++)y=Bi(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?wt(n.value):null;let{fields:f,encodings:h}=bt(n.select)?n.select:{};if(!f&&!h&&d){for(const p of d)if(bt(p))for(const m of tt(p))qsn(m)?(h||(h=[])).push(m):u==="interval"?(st(Con),h=c.encodings):(f??(f=[])).push(m)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){st(yon(p,m.aggregate));continue}else if(!g){st(Pve(p));continue}if(m.timeUnit&&!__(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};o[tr(y)]=y}if(!s[g]){const y=u==="interval"&&Dp(p)&&Cf(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(s[g]=v),i.hasField[g]=s[g],i.hasSelectionId=i.hasSelectionId||g===Rf,W8e(p)?(v.geoChannel=p,v.channel=q8e(p),i.hasChannel[v.channel]=s[g]):i.hasChannel[p]=s[g]}}else st(Pve(p))}for(const p of f??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Rf}d&&(t.init=d.map(p=>i.items.map(m=>bt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),ei(o)||(i.timeUnit=new Yh(null,o))},signals:(e,t,n)=>{const r=t.name+EP;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(W9e)})}},Mm={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Dp(i))continue;const s=e.getScaleComponent(i),o=s?s.get("type"):void 0;if(o=="sequential"&&st(won),!s||!Cf(o)){st(_on);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(a=>a.name===o.signals.data).length===0);if(!e.parent||l1e(e)||r.length===0)return n;const i=n.filter(o=>o.name===t.name)[0];let s=i.update;if(s.indexOf(cze)>=0)i.update=`{${r.map(o=>`${ut(ld(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const a=`${ut(ld(o.field))}: ${o.signals.data}`;s.includes(a)||(s=`${s.substring(0,s.length-1)}, ${a}}`)}i.update=s}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!l1e(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function sG(e,t){return`domain(${ut(e.scaleName(t))})`}function l1e(e){return e.parent&&gT(e.parent)&&!e.parent.parent}const kE="_brush",K9e="_scale_trigger",_C="geo_interval_init_tick",X9e="_init",Mcn="_center",$cn={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...bt(n.select)?n.select:{}};i.fields=[Rf],i.encodings||(i.encodings=n.value?tt(n.value):[qf,Hf]),n.select={type:"interval",...i}}if(t.translate&&!Mm.defined(t)){const i=`!event.item || event.item.mark.name !== ${ut(t.name+kE)}`;for(const s of t.events){if(!s.between){st(`${s} is not an ordered event stream for interval selections.`);continue}const o=wt((r=s.between[0]).filter??(r.filter=[]));o.indexOf(i)<0&&o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Uy,s=Ko(t.project.hasChannel).filter(a=>a.channel===zi||a.channel===Co),o=t.init?t.init[0]:null;if(n.push(...s.reduce((a,l)=>a.concat(Lcn(e,t,l,o&&o[l.index])),[])),e.hasProjection){const a=ut(e.projectionName()),l=e.projectionName()+Mcn,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?o&&o[u.index]:`${l}[0]`,p=c?o&&o[c.index]:`${l}[1]`,m=E=>e.getSizeSignalRef(E).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${f?f+"[1]":m("height")}]]`;o&&(n.unshift({name:r+X9e,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${ut(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${Q1(e)}}`,_=`vlSelectionTuples(${y}, ${v})`,w=s.map(E=>E.signals.visual);return n.concat({name:i,on:[{events:[...w.length?[{signal:w.join(" || ")}]:[],...o?[{signal:_C}]:[]],update:_}]})}else{if(!Mm.defined(t)){const u=r+K9e,c=s.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,m=ut(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),y=Cf(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:s.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=s.map(u=>u.signals.data),l=`unit: ${Q1(e)}, fields: ${r+EP}, values`;return n.concat({name:i,...o?{init:`{${l}: ${jb(o)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Wi(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===_C).length||n.unshift({name:_C,value:null,on:[{events:"timer{1}",update:`${_C} === null ? {} : ${_C}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,a=s==null?void 0:s.signals.visual,l=`data(${ut(t.name+Bb)})`;if(Mm.defined(t)||!i&&!s)return n;const u={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:s!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of tt(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Q1(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,p=tt(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,s!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=f??(t.translate?"move":null);return[{name:`${r+kE}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+kE,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function Lcn(e,t,n,r){const i=!e.hasProjection,s=n.channel,o=n.signals.visual,a=ut(i?e.scaleName(s):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(s===zi?"width":"height").signal,c=`${s}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${o}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=Mm.defined(t),p=e.getScaleComponent(s),m=p?p.get("type"):void 0,g=r?{init:jb(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+K9e},update:Cf(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:o,...g,on:d},{name:f,...r?{init:jb(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${a}, ${o})`}]}]}else{const f=s===zi?0:1,h=t.name+X9e,p=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:o,...p,on:d}]}}const Fcn={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+EP,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=Ko(e.component.selection??{}).reduce((d,f)=>f.type==="interval"?d.concat(f.name+kE):d,[]).map(d=>`indexof(item().mark.name, '${d}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Q1(e)}, `;if(t.project.hasSelectionId)u+=`${Rf}: ${o}[${ut(Rf)}]`;else{const d=s.items.map(f=>{const h=e.fieldDef(f.channel);return h!=null&&h.bin?`[${o}[${ut(e.vgField(f.channel,{}))}], ${o}[${ut(e.vgField(f.channel,{binSuffix:"end"}))}]]`:`${o}[${ut(f.field)}]`}).join(", ");u+=`fields: ${i}, values: [${d}]`}const c=t.events;return n.concat([{name:r+Uy,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}};function fT({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const s=I5(t)&&t.condition;let o=[];s&&(o=wt(s).map(u=>{const c=i(u);if(Aln(u)){const{param:d,empty:f}=u;return{test:pze(e,{param:d,empty:f}),...c}}else return{test:UL(e,u.test),...c}})),r!==void 0&&o.push(r);const a=i(t);return a!==void 0&&o.push(a),o.length>1||o.length===1&&o[0].test?{[n]:o}:o.length===1?{[n]:o[0]}:{}}function loe(e,t="text"){const n=e.encoding[t];return fT({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>j5(r,e.config),invalidValueRef:void 0})}function j5(e,t,n="datum"){if(e){if(Af(e))return Ri(e.value);if(En(e)){const{format:r,formatType:i}=ML(e);return Use({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Q9e(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,o=n.tooltip;if(We(o))return{tooltip:u1e({tooltip:o},s,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return fT({model:e,channelDef:o,vgChannel:"tooltip",mainRefFn:u=>{const c=j5(u,i,a);if(c)return c;if(u===null)return;let d=Wr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Et(d))return{value:d};if(bt(d))return Mt(d)?d:d.content==="encoding"?u1e(n,s,i,t):{signal:a}},invalidValueRef:void 0})}}function J9e(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s={},o=r?"datum.datum":"datum",a=[];function l(c,d){const f=y_(d),h=bl(c)?c:{...c,type:e[f].type},p=h.title||Wse(h,i),m=wt(p).join(", ").replaceAll(/"/g,'\\"');let g;if(As(d)){const y=d==="x"?"x2":"y2",v=If(e[y]);if(Bo(h.bin)&&v){const _=ht(h,{expr:o}),w=ht(v,{expr:o}),{format:E,formatType:S}=ML(h);g=yP(_,w,E,S,i),s[y]=!0}}if((As(d)||d===bd||d===Vf)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:y,formatType:v}=ML(h);g=Use({fieldOrDatumDef:h,format:y,formatType:v,expr:o,config:i,normalizeStack:!0}).signal}g??(g=j5(h,i,o).signal),a.push({channel:d,key:m,value:g})}Yse(e,(c,d)=>{ot(c)?l(c,d):R5(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!s[c]&&!u[d]&&(u[d]=f);return u}function u1e(e,t,n,{reactiveGeom:r}={}){const i=J9e(e,t,n,{reactiveGeom:r}),s=Ly(i).map(([o,a])=>`"${o}": ${a}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function jcn(e){const{markDef:t,config:n}=e,r=Wr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...Bcn(e),...zcn(e)}}function Bcn(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Wr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in hon?{}:{ariaRoleDescription:{value:t}}}function zcn(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return fT({model:e,channelDef:s,vgChannel:"description",mainRefFn:l=>j5(l,e.config),invalidValueRef:void 0});const o=Wr("description",n,r);if(o!=null)return{description:Ri(o)};if(r.aria===!1)return{};const a=J9e(t,i,r);if(!ei(a))return{description:{signal:Ly(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function go(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:o}=n;let{defaultRef:a,defaultValue:l}=n;a===void 0&&(l??(l=Wr(e,r,s,{vgChannel:o,ignoreVgConfig:!0})),l!==void 0&&(a=Ri(l)));const u=i[e],c={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=UBe({...c,scaleChannel:e,channelDef:u});return fT({model:t,channelDef:u,vgChannel:o??e,invalidValueRef:d,mainRefFn:h=>zse({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function Z9e(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,o=t.filled??Wr("filled",n,i),a=Kn(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,l=Wr(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??a,u=Wr(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",d={...l?{fill:Ri(l)}:{},...u?{stroke:Ri(u)}:{}};return n.color&&(o?n.fill:n.stroke)&&st(fBe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...go("color",e,{vgChannel:c,defaultValue:o?l:u}),...go("fill",e,{defaultValue:r.fill?l:void 0}),...go("stroke",e,{defaultValue:r.stroke?u:void 0})}}function Ucn(e){const{encoding:t,mark:n}=e,r=t.order;return!Sv(n)&&Af(r)?fT({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Ri(i.value),invalidValueRef:void 0}):{}}function Gx({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,o=t[s],a=n[s];if((s==="xOffset"||s==="yOffset")&&a)return{offsetType:"encoding",offset:zse({channel:s,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:Ri(o),bandPosition:i})};const l=t[s];return l?{offsetType:"visual",offset:l}:{}}function ka(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:o,stack:a}=t,l=i[e],u=i[Op(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=Gx({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=uoe({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&As(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:Vcn({channel:e,channelDef:l,channel2Def:u,markDef:s,config:o,scaleName:c,scale:d,stack:a,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function Vcn(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:o}=e;if(En(n)&&i&&t===i.fieldChannel){if(ot(n)){let a=n.bandPosition;if(a===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return NL({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:s})}return K1(n,r,{suffix:"end"},{offset:s})}return Bse(e)}function uoe({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:o}=e;return()=>{const a=y_(n),l=Fy(n),u=Wr(n,s,o,{vgChannel:l});if(u!==void 0)return SA(n,u);switch(t){case"zeroOrMin":return c1e({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:o});case"zeroOrMax":return c1e({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:o});case"mid":return{...e[vu(n)],mult:.5}}}}function c1e({mainChannel:e,config:t,...n}){const r=zBe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:s,heightSignal:o}=i.zeroOrMax;return{signal:`min(${s},${o})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const Hcn={left:"x",center:"xc",right:"x2"},qcn={top:"y",middle:"yc",bottom:"y2"};function eze(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Fy(e);const i=e==="x"?"align":"baseline",s=Wr(i,t,n);let o;return Mt(s)?(st(qon(i)),o=void 0):o=s,e==="x"?Hcn[o||(r==="top"?"left":"center")]:qcn[o||r]}function BL(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?tze(e,t,{defaultPos:n,defaultPos2:r}):ka(e,t,{defaultPos:n})}function tze(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,o=Op(e),a=vu(e),l=Wcn(t,r,o),u=l[a]?eze(e,i,s):Fy(e);return{...ka(e,t,{defaultPos:n,vgChannel:u}),...l}}function Wcn(e,t,n){const{encoding:r,mark:i,markDef:s,stack:o,config:a}=e,l=y_(n),u=vu(n),c=Fy(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in s?Gx({channel:n,markDef:s,encoding:r,model:e}):Gx({channel:l,markDef:s,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=vu(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=Gcn({channel:n,channelDef:d,channel2Def:r[n],markDef:s,config:a,scaleName:f,scale:h,stack:o,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:TO(n,s)||TO(n,{[n]:RL(n,s,a.style),[u]:RL(u,s,a.style)})||TO(n,a[i])||TO(n,a.mark)||{[c]:uoe({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function Gcn({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u}){return En(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?K1(t,s,{suffix:"start"},{offset:l}):Bse({channel:e,channelDef:n,scaleName:s,scale:o,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function TO(e,t){const n=vu(e),r=Fy(e);if(t[r]!==void 0)return{[r]:SA(e,t[r])};if(t[e]!==void 0)return{[r]:SA(e,t[e])};if(t[n]){const i=t[n];if(Lb(i))st(jon(n));else return{[n]:SA(e,i)}}}function zy(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,o=Op(t),a=vu(t),l=r[t],u=r[o],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??Wr("size",i,n,{vgChannel:a}),p=X8e(t),m=s==="bar"&&(t==="x"?f==="vertical":f==="horizontal");return ot(l)&&(Ei(l.bin)||Bo(l.bin)||l.timeUnit&&!u)&&!(h&&!Lb(h))&&!r[p]&&!So(d)?Xcn({fieldDef:l,fieldDef2:u,channel:t,model:e}):(En(l)&&So(d)||m)&&!u?Kcn(l,t,e):tze(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Ycn(e,t,n,r,i,s,o){if(Lb(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=up("minBandSize",{type:o},r);return{signal:c?`max(${Jd(c)}, ${u})`:u}}else i.band!==1&&(st(Kon(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Mt(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(xv(l)&&xr(l.step))return{value:l.step-2}}if(!s){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c}=r.scale,d=Cs(l,o==="bar"?u:c);if(Mt(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(xr(d))return{signal:`${1-d} * ${e}`}}return{value:FL(r.view,e)-2}}function Kcn(e,t,n){var I,P;const{markDef:r,encoding:i,config:s,stack:o}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=vu(t),d=Op(t),f=X8e(t),h=n.scaleName(f),p=n.getScaleComponent(gse(t)),m=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=go("size",n,{vgChannel:c,defaultRef:Ri(r.size)}):st(Zon(r.type)));const y=!!g,v=KBe({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(I=u||p)==null?void 0:I.get("type"),useVlSizeChannel:m});g=g||{[c]:Ycn(c,h||l,p||u,s,v,!!e,r.type)};const _=((P=u||p)==null?void 0:P.get("type"))==="band"&&Lb(v)&&!y?"top":"middle",w=eze(t,r,s,_),E=w==="xc"||w==="yc",{offset:S,offsetType:x}=Gx({channel:t,markDef:r,encoding:i,model:n,bandPosition:E?.5:0}),T=Bse({channel:t,channelDef:e,markDef:r,config:s,scaleName:l,scale:u,stack:o,offset:S,defaultRef:uoe({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:E?x==="encoding"?0:.5:Mt(v)?{signal:`(1-${v})/2`}:Lb(v)?(1-v.band)/2:0});if(c)return{[w]:T,...g};{const k=Fy(d),D=g[c],R=S?{...D,offset:S}:D;return{[w]:T,[k]:We(T)?[T[0],{...T[1],offset:R}]:{...T,offset:R}}}}function d1e(e,t,n,r,i,s,o){if(H8e(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Mt(n)||Mt(i)||Mt(r)||s){const u=Jd(n),c=Jd(i),d=Jd(r),f=Jd(s),p=s?`(${o} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${o})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-l:+i+l)}function Xcn({fieldDef:e,fieldDef2:t,channel:n,model:r}){var P;const{config:i,markDef:s,encoding:o}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=KBe({channel:n,fieldDef:e,markDef:s,config:i,scaleType:u}),f=(P=r.component.axes[n])==null?void 0:P[0],h=(f==null?void 0:f.get("translate"))??.5,p=As(n)?Wr("binSpacing",s,i)??0:0,m=Op(n),g=Fy(n),y=Fy(m),v=up("minBandSize",s,i),{offset:_}=Gx({channel:n,markDef:s,encoding:o,model:r,bandPosition:0}),{offset:w}=Gx({channel:m,markDef:s,encoding:o,model:r,bandPosition:0}),E=wln({fieldDef:e,scaleName:l}),S=d1e(n,p,c,h,_,v,E),x=d1e(m,p,c,h,w??_,v,E),T=Mt(d)?{signal:`(1-${d.signal})/2`}:Lb(d)?(1-d.band)/2:.5,I=jy({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(Ei(e.bin)||e.timeUnit){const k=e.timeUnit&&I!==.5;return{[y]:f1e({fieldDef:e,scaleName:l,bandPosition:T,offset:x,useRectOffsetField:k}),[g]:f1e({fieldDef:e,scaleName:l,bandPosition:Mt(T)?{signal:`1-${T.signal}`}:1-T,offset:S,useRectOffsetField:k})}}else if(Bo(e.bin)){const k=K1(e,l,{},{offset:x});if(ot(t))return{[y]:k,[g]:K1(t,l,{},{offset:S})};if(v_(e.bin)&&e.bin.step)return{[y]:k,[g]:{signal:`scale("${l}", ${ht(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}st(mBe(m))}function f1e({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return NL({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:L5,endSuffix:F5}:{}})}const Qcn=new Set(["aria","width","height"]);function _d(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Z9e(e):{};return{...Jcn(e.markDef,t),...h1e("fill",n),...h1e("stroke",r),...go("opacity",e),...go("fillOpacity",e),...go("strokeOpacity",e),...go("strokeWidth",e),...go("strokeDash",e),...Ucn(e),...Q9e(e),...loe(e,"href"),...jcn(e)}}function h1e(e,t){return t?{[e]:t}:{}}function Jcn(e,t){return fon.reduce((n,r)=>(!Qcn.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Ri(e[r])),n),{})}function coe(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,s)=>{var u;let o;if(!Dp(s)||!(o=e.getScaleType(s)))return;const a=y5(i.aggregate),l=jse({scaleChannel:s,markDef:n,config:t,scaleType:o,isCountAggregate:a});if(vln(l)){const c=e.vgField(s,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(s=>w5(s,!0)).join(" && ")}}}function p1e(e,t){if(t!==void 0)return{[e]:Ri(t)}}const l7="voronoi",nze={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(l7)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(Sv(s))return st(von(s)),n;const o={name:e.getName(l7),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Q9e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.indexOf(l7)>=0&&(l=!0)}),l||n.splice(a+1,0,o),n}},rze={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!eoe(e.bind),parse:(e,t,n)=>dze(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,o=t.init&&t.init[0],a=nze.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Bi(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...o?{init:jb(o[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${ut(l.field)}] : null`}]:[],bind:s[l.field]??s[l.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.filter(u=>u.name===r+Uy)[0],o=r+EP,a=i.items.map(u=>Bi(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(s.update=`${l} ? {fields: ${o}, values: [${a.join(", ")}]} : null`),delete s.value,delete s.on,n}},zL="_toggle",ize={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+zL,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Uy,r=t.name+zL;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Q1(e)}}, `)+`${r} ? ${n} : null`}},Zcn={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=Et(t.clear)?gv(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(rze.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===Bi(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(o=>o.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const o=n.findIndex(a=>a.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(s=>s.name===t.name+Uy);r(i,"null"),ize.defined(t)&&(i=n.findIndex(s=>s.name===t.name+zL),r(i,"false"))}return n}},sze={defined:e=>{const t=e.resolve==="global"&&e.bind&&eoe(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Rf;return t&&!n&&st(Eon),t&&n},parse:(e,t,n)=>{const r=mn(n);if(r.select=Et(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},dze(t,r),bt(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=wt(a.filter??[]),a.filter.includes(o)||a.filter.push(o)}const i=i7(t.bind)?t.bind.legend:"click",s=Et(i)?gv(i,"view"):wt(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=i7(t.bind)&&t.bind.legend,s=o=>a=>{const l=mn(a);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const a=`${Bi(o.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(s(`${a}_symbols`)).concat(i.merge.map(s(`${a}_labels`))).concat(i.merge.map(s(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(f=>f.name===r+Uy),o=r+EP,a=i.items.filter(f=>f.hasLegend).map(f=>Bi(`${r}_${Bi(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${o}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?s.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(s.update=u,delete s.value,delete s.on);const c=n.find(f=>f.name===r+zL),d=i7(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function edn(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const s of Ko(e.component.selection??{})){const o=s.project.hasField[r]??s.project.hasChannel[t];if(o&&sze.defined(s)){const a=n.get("selections")??[];a.push(s.name),n.set("selections",a,!1),o.hasLegend=!0}}}const oze="_translate_anchor",aze="_translate_delta",tdn={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Mm.defined(t),s=r+oze,{x:o,y:a}=t.project.hasChannel;let l=gv(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+kE,u))),n.push({name:s,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?sG(e,zi):`slice(${o.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?sG(e,Co):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+aze,value:{},on:[{events:l,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),o!==void 0&&m1e(e,t,o,"width",n),a!==void 0&&m1e(e,t,a,"height",n),n}};function m1e(e,t,n,r,i){const s=t.name,o=s+oze,a=s+aze,l=n.channel,u=Mm.defined(t),c=i.filter(E=>E.name===n.signals[u?"data":"visual"])[0],d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),p=f&&f.get("reverse"),m=u?l===zi?p?"":"-":p?"-":"":"",g=`${o}.extent_${l}`,y=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,v=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",_=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",w=`${v}(${g}, ${y}${_})`;c.on.push({events:{signal:a},update:u?w:`clampRange(${w}, 0, ${d})`})}const lze="_zoom_anchor",uze="_zoom_delta",ndn={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Mm.defined(t),s=r+uze,{x:o,y:a}=t.project.hasChannel,l=ut(e.scaleName(zi)),u=ut(e.scaleName(Co));let c=gv(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+kE,d))),n.push({name:r+lze,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&g1e(e,t,o,"width",n),a!==void 0&&g1e(e,t,a,"height",n),n}};function g1e(e,t,n,r,i){const s=t.name,o=n.channel,a=Mm.defined(t),l=i.filter(v=>v.name===n.signals[a?"data":"visual"])[0],u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),d=c&&c.get("type"),f=a?sG(e,o):l.name,h=s+uze,p=`${s}${lze}.${o}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${f}, ${p}, ${h}${g})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const Bb="_store",Uy="_tuple",rdn="_modify",cze="vlSelectionResolve",B5=[Fcn,$cn,Dcn,ize,rze,Mm,sze,Zcn,tdn,ndn,nze];function idn(e){let t=e.parent;for(;t&&!Ku(t);)t=t.parent;return t}function Q1(e,{escape:t}={escape:!0}){let n=t?ut(e.name):e.name;const r=idn(e);if(r){const{facet:i}=r;for(const s of Uc)i[s]&&(n+=` + '__facet_${s}_' + (facet[${ut(r.vgField(s))}])`)}return n}function doe(e){return Ko(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function dze(e,t){(Et(t.select)||!t.select.on)&&delete e.events,(Et(t.select)||!t.select.clear)&&delete e.clear,(Et(t.select)||!t.select.toggle)&&delete e.toggle}function oG(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...oG(e.object)),t.push(...oG(e.property))),t)}function fze(e){return e.object.type==="MemberExpression"?fze(e.object):e.object.name==="datum"}function hze(e){const t=Nie(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&fze(r)&&n.add(oG(r).slice(1).join("."))}),n}class hT extends Xr{clone(){return new hT(null,this.model,mn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=UL(this.model,this.filter,this),this._dependentFields=hze(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function sdn(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const s=Bi(i.name),o=i.select,a=Et(o)?o:o.type,l=bt(o)?mn(o):{type:a},u=r[a];for(const f in u)f==="fields"||f==="encodings"||(f==="mark"&&(l[f]={...u[f],...l[f]}),(l[f]===void 0||l[f]===!0)&&(l[f]=mn(u[f]??l[f])));const c=n[s]={...l,name:s,type:a,init:i.value,bind:i.bind,events:Et(l.on)?gv(l.on,"scope"):wt(mn(l.on))},d=mn(i);for(const f of B5)f.defined(c)&&f.parse&&f.parse(e,c,d)}return n}function pze(e,t,n,r="datum"){const i=Et(t)?t:t.param,s=Bi(i),o=ut(s+Bb);let a;try{a=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${ut(a.resolve)})`,c=`${l}${o}, ${r}${u}`,d=`length(data(${o}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function mze(e,t,n){const r=Bi(t),i=n.encoding;let s=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=o.project.items[0].field,o.project.items.length>1&&st(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ut(s)}.`);else if(i&&!s){const a=o.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(s=o.project.items[0].field,st((a.length?"Multiple ":"No ")+`matching ${ut(i)} encoding found for selection ${ut(n.param)}. Using "field": ${ut(s)}.`)):s=a[0].field}return`${o.name}[${ut(ld(s))}]`}function odn(e,t){for(const[n,r]of Ly(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new au(new hT(t,e,{param:n}),i,ds.Lookup,e.component.data.outputNodeRefCounts)}}function UL(e,t,n){return xA(t,r=>Et(r)?r:$an(r)?pze(e,r,n):ABe(r))}function adn(e,t){if(e)return We(e)&&!s0(e)?e.map(n=>Wse(n,t)).join(", "):e}function u7(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function _2(e,t,n,r={header:!1}){var d,f;const{disable:i,orient:s,scale:o,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=zln[h],m=c[h];if(p&&p!==t&&p!=="both")delete c[h];else if(wP(m)){const{condition:g,...y}=m,v=wt(g),_=Vve[h];if(_){const{vgProp:w,part:E}=_,S=[...v.map(x=>{const{test:T,...I}=x;return{test:UL(null,T),...I}}),y];u7(c,E,w,S),delete c[h]}else if(_===null){const w={signal:v.map(E=>{const{test:S,...x}=E;return`${UL(null,S)} ? ${Ave(x)} : `}).join("")+Ave(y)};c[h]=w}}else if(Mt(m)){const g=Vve[h];if(g){const{vgProp:y,part:v}=g;u7(c,v,y,m),delete c[h]}}Kn(["labelAlign","labelBaseline"],h)&&c[h]===null&&delete c[h]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},ei(c.encode)&&delete c.encode}return{scale:o,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Cs(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(f=(d=c.encode)==null?void 0:d.labels)!=null&&f.update&&Mt(c.encode.labels.update.text)&&(p=Ob(a,"datum.label",c.encode.labels.update.text.signal)),u7(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of s9e)e.hasAxisPart(p)||delete c.encode[p];ei(c.encode)&&delete c.encode}const h=adn(l,n);return{scale:o,orient:s,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Cs(u,0)}}}}function gze(e){const{axes:t}=e.component,n=[];for(const r of Rg)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",o=e.getSizeSignalRef(s).signal;s!==o&&n.push({name:s,update:o})}}return n}function ldn(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>_2(i,"grid",t)),...r.map(i=>_2(i,"grid",t)),...n.map(i=>_2(i,"main",t)),...r.map(i=>_2(i,"main",t))].filter(i=>i)}function y1e(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...tt(o),...tt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${s}" ? ${Jd(o[c])} : ${Jd(a[c])}`};return u}return t[i]})])}function udn(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:PBe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",o=Mt(n)?"axisOrient":`axis${dP(n)}`,a=[...i,...i.map(u=>s+u.substr(4))],l=["axis",o,s];return{vlOnlyAxisConfig:y1e(a,r,e,n),vgAxisConfig:y1e(l,r,e,n),axisConfigStyle:cdn([...l,...a],r)}}function cdn(e,t){var r;const n=[{}];for(const i of e){let s=(r=t[i])==null?void 0:r.style;if(s){s=wt(s);for(const o of s)n.push(t.style[o])}}return Object.assign.apply(null,n)}function aG(e,t,n,r={}){var s;const i=sBe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[o])==null?void 0:s[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const v1e={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??ddn(n,e),gridScale:({model:e,channel:t})=>fdn(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||vze(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||yze(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??pdn(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??mdn(t.type,n,ot(t)&&!!t.timeUnit,ot(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,o=s?t.getSizeSignalRef(s):void 0;return n.tickCount??ydn({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:vdn,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=bze(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",o=t.fieldDef(s);return aBe(i?[zve(i)]:[],ot(o)?[zve(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>bdn(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??_dn(n,t)};function ddn(e,t){return!So(e)&&ot(t)&&!Ei(t==null?void 0:t.bin)&&!Bo(t==null?void 0:t.bin)}function fdn(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function hdn(e,t,n,r,i){const s=t==null?void 0:t.labelAngle;if(s!==void 0)return Mt(s)?s:gR(s);{const{configValue:o}=aG("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?gR(o):n===zi&&Kn([Mse,Dse],e.type)&&!(ot(e)&&e.timeUnit)?270:void 0}}function lG(e){return`(((${e.signal} % 360) + 360) % 360)`}function yze(e,t,n,r){if(e!==void 0)if(n==="x"){if(Mt(e)){const i=lG(e),s=Mt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Mt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Mt(e)){const i=lG(e),s=Mt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Mt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function vze(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(Mt(e)){const o=lG(e),a=Mt(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Mt(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function pdn(e,t){if(t==="x"&&Kn(["quantitative","temporal"],e))return!0}function mdn(e,t,n,r){if(n&&!bt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function gdn(e){return e==="x"?"bottom":"left"}function ydn({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!So(t)&&t!=="log"){if(ot(e)){if(Ei(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Kn(["month","hours","day","quarter"],(i=xo(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function vdn({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ot(t)){const{timeUnit:n}=t;if(n){const r=SBe(n);if(r)return{signal:r}}}}function bze(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,o=i?i.title:void 0;if(s&&o)return lBe(s,o);if(s)return s;if(o)return o;if(s!==void 0)return s;if(o!==void 0)return o}function bdn(e,t){const n=e.values;if(We(n))return i9e(t,n);if(Mt(n))return n}function _dn(e,t){return e==="rect"&&DL(t)?1:0}class Yx extends Xr{clone(){return new Yx(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=hze(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(w_(r)&&YBe(r.sort)){const{field:s,timeUnit:o}=r,a=r.sort,l=a.map((u,c)=>`${ABe({field:s,timeUnit:o,equal:u})} ? ${c} : `).join("")+a.length;t=new Yx(t,{calculate:l,as:Kx(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${tr(this.transform)}`}}function Kx(e,t,n){return ht(e,{prefix:t,suffix:"sort_index",...n})}function z5(e,t){return Kn(["top","bottom"],t)?"column":Kn(["left","right"],t)||e==="row"?"row":"column"}function Xx(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Cs((t||{})[e],i[e],n.header[e])}function U5(e,t,n,r){const i={};for(const s of e){const o=Xx(s,t||{},n,r);o!==void 0&&(i[s]=o)}return i}const foe=["row","column"],hoe=["header","footer"];function wdn(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:o,titleOrient:a}=U5(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=z5(t,a),u=gR(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...wze(u,l),..._ze(l,u,s),...Eze(r,i,t,uun,x9e)}}}function _ze(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=vze(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function wze(e,t){const n=yze(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function Edn(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of hoe)if(n[i])for(const s of n[i]){const o=Sdn(e,t,i,n,s);o!=null&&r.push(o)}return r}function xdn(e,t){const{sort:n}=e;return Dm(n)?{field:ht(n,{expr:"datum"}),order:n.order??"ascending"}:We(n)?{field:Kx(e,t,{expr:"datum"}),order:"ascending"}:{field:ht(e,{expr:"datum"}),order:n??"ascending"}}function uG(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:o,labelOrient:a,labelExpr:l}=U5(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=Use({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=z5(t,a);return{text:{signal:l?Ob(Ob(l,"datum.label",u),"datum.value",ht(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...wze(s,c),..._ze(c,s,o),...Eze(n,e,t,cun,S9e)}}function Sdn(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:o}=r,a=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:d}=U5(["labelOrient"],o.header,a,t);(t==="row"&&!Kn(["top","bottom"],d)||t==="column"&&!Kn(["left","right"],d))&&(s=uG(o,t,a))}const l=Ku(e)&&!vP(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(s||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:xdn(o,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const Tdn={column:{start:0,end:1},row:{start:1,end:0}};function Cdn(e,t){return Tdn[t][e]}function Adn(e,t){const n={};for(const r of Uc){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:s,titleOrient:o}=U5(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=z5(r,o),l=Cdn(s,a);l!==void 0&&(n[a]=l)}}return ei(n)?void 0:n}function Eze(e,t,n,r,i){const s={};for(const o of r){if(!i[o])continue;const a=Xx(o,t==null?void 0:t.header,e,n);a!==void 0&&(s[i[o]]=a)}return s}function poe(e){return[...CO(e,"width"),...CO(e,"height"),...CO(e,"childWidth"),...CO(e,"childHeight")]}function CO(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const o=s.get("type"),a=s.get("range");if(So(o)&&xv(a)){const l=e.scaleName(n);return Ku(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[b1e(l,a)]:[b1e(l,a),{name:i,update:xze(l,s,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),o=s?"containerSize()[0]":"containerSize()[1]",a=tG(e.config.view,s?"width":"height"),l=`isFinite(${o}) ? ${o} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function b1e(e,t){const n=`${e}_step`;return Mt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function xze(e,t,n){const r=t.get("type"),i=t.get("padding"),s=Cs(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${Jd(o)}, ${Jd(s)}) * ${e}_step`}function Sze(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function Tze(e,t){return tt(e).reduce((n,r)=>({...n,...fT({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Ri(i.value),invalidValueRef:void 0})}),{})}function Cze(e,t){if(Ku(t))return e==="theta"?"independent":"shared";if(gT(t))return"shared";if(woe(t))return As(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function moe(e,t){const n=e.scale[t],r=As(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&st(ian(t)),"independent"):e[r][t]||"shared"}const Idn={...hun,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Aze=tt(Idn);class Rdn extends Pg{}const _1e={symbols:kdn,gradient:Pdn,labels:Ndn,entries:Odn};function kdn(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:o,encoding:a,config:l,mark:u}=n,c=o.filled&&u!=="trail";let d={...mon({},n,lln),...Z9e(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?Ize(a.opacity)??o.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===gu)delete d.fill;else if(d.fill.field)h?delete d.fill:(d.fill=Ri(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=Ri(m??1));else if(We(d.fill)){const g=cG(a.fill??a.color)??o.fill??(c&&o.color);g&&(d.fill=Ri(g))}}if(d.stroke){if(r==="stroke"||!c&&r===gu)delete d.stroke;else if(d.stroke.field||p)delete d.stroke;else if(We(d.stroke)){const g=Cs(cG(a.stroke||a.color),o.stroke,c?o.color:void 0);g&&(d.stroke={value:g})}}if(r!==Ig){const g=ot(t)&&kze(n,i,t);g?d.opacity=[{test:g,...Ri(m??1)},Ri(l.legend.unselectedOpacity)]:m&&(d.opacity=Ri(m))}return d={...d,...e},ei(d)?void 0:d}function Pdn(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:o}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?Ize(o.opacity)||s.opacity:void 0;return u&&(a.opacity=Ri(u)),a={...a,...e},ei(a)?void 0:a}function Ndn(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},o=n.config,a=ot(t)?kze(n,i,t):void 0,l=a?[{test:a,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=s;let d;Fb(c)?d=Zd({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:o}):u===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?d=Zd({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&ot(t)&&t.timeUnit===void 0&&(d=Zd({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return ei(f)?void 0:f}function Odn(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function Ize(e){return Rze(e,(t,n)=>Math.max(t,n.value))}function cG(e){return Rze(e,(t,n)=>Cs(t,n.value))}function Rze(e,t){if(Rln(e))return wt(e.condition).reduce(t,e.value);if(Af(e))return e.value}function kze(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ut(n.field);return r.map(s=>`(!length(data(${ut(Bi(s)+Bb)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const w1e={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return qBe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return WBe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??Bdn(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??zdn(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??Mdn(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>RE(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(IE(n)&&Dh(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>Ddn(t,e)};function Ddn(e,t){const n=e.values;if(We(n))return i9e(t,n);if(Mt(n))return n}function Mdn(e,t,n,r){if(t!=="shape"){const i=cG(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function $dn(e){const{legend:t}=e;return Cs(t.type,Ldn(e))}function Ldn({channel:e,timeUnit:t,scaleType:n}){if(IE(e)){if(Kn(["quarter","month","day"],t))return"symbol";if(Dh(n))return"gradient"}return"symbol"}function Fdn({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??jdn(n,t)}function jdn(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function Bdn({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:o,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Dh(i))return n==="horizontal"?r==="top"||r==="bottom"?E1e(t,"width",o,s):o:E1e(t,"height",l,a)}function E1e(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function zdn(e){if(Kn(["quantile","threshold","log","symlog"],e))return"greedy"}function Pze(e){const t=Wi(e)?Udn(e):Wdn(e);return e.component.legends=t,t}function Udn(e){const{encoding:t}=e,n={};for(const r of[gu,...C9e]){const i=Qs(t[r]);!i||!e.getScaleComponent(r)||r===yu&&ot(i)&&i.type===dT||(n[r]=qdn(e,r))}return n}function Vdn(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function Hdn(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function qdn(e,t){var w;let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,o=s.legend,a=new Rdn({},Vdn(e,t));edn(e,t,a);const l=n!==void 0?!n:o.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Qs(i[t]),d=ot(c)?(w=xo(c.timeUnit))==null?void 0:w.unit:void 0,f=n.orient||s.legend.orient||"right",h=$dn({legend:n,channel:t,timeUnit:d,scaleType:u}),p=Fdn({legend:n,legendType:h,orient:f,legendConfig:o}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:s,scaleType:u,orient:f,legendType:h,direction:p};for(const E of Aze){if(h==="gradient"&&E.startsWith("symbol")||h==="symbol"&&E.startsWith("gradient"))continue;const S=E in w1e?w1e[E](m):n[E];if(S!==void 0){const x=Hdn(S,E,n,e.fieldDef(t));(x||s.legend[E]===void 0)&&a.set(E,S,x)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},_={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const E of["labels","legend","title","symbols","gradient","entries"]){const S=Tze(g[E]??{},e),x=E in _1e?_1e[E](S,_):S;x!==void 0&&!ei(x)&&(v[E]={...y!=null&&y.length&&ot(c)?{name:`${Bi(c.field)}_legend_${E}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:x})}return ei(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function Wdn(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Pze(r);for(const i of tt(r.component.legends))n.legend[i]=moe(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=Nze(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of tt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function Nze(e,t){var s,o,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of Aze){const c=By(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(d,f)=>{switch(u){case"symbolType":return Gdn(d,f);case"title":return uBe(d,f);case"type":return i=!0,Ru("symbol")}return $5(d,f,u,"legend")});e.setWithExplicit(u,c)}return i&&((o=(s=e.implicit)==null?void 0:s.encode)!=null&&o.gradient&&IL(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&IL(e.explicit,["encode","gradient"])),e}function Gdn(e,t){return t.value==="circle"?t:e}function Ydn(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function Oze(e){const t=e.component.legends,n={};for(const i of tt(t)){const s=e.getScaleComponent(i),o=ti(s.get("domains"));if(n[o])for(const a of n[o])Nze(a,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return Ko(n).flat().map(i=>Kdn(i,e.config)).filter(i=>i!==void 0)}function Kdn(e,t){var o,a,l;const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),(o=s.encode)!=null&&o.symbols){const u=s.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!s.stroke&&(u.stroke={value:"transparent"});for(const c of C9e)s[c]&&delete u[c]}if(s.title||delete s.title,r!==void 0){let u=r;(l=(a=s.encode)==null?void 0:a.labels)!=null&&l.update&&Mt(s.encode.labels.update.text)&&(u=Ob(r,"datum.label",s.encode.labels.update.text.signal)),Ydn(s,"labels","text",{signal:u})}return s}}function Xdn(e){return gT(e)||woe(e)?Qdn(e):Dze(e)}function Qdn(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Dze(e))}function Dze(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},s=t.data.reduce((o,a)=>{const l=Mt(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Kn(o,l)||o.push(l),o},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const Jdn=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Mze extends Pg{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function $ze(e){e.component.projection=Wi(e)?Zdn(e):nfn(e)}function Zdn(e){if(e.hasProjection){const t=xa(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?efn(e):void 0,s=new Mze(e.projectionName(!0),{...xa(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function efn(e){const t=[],{encoding:n}=e;for(const r of[[qf,Hf],[ud,Wf]])(Qs(n[r[0]])||Qs(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(yu)&&e.typedFieldDef(yu).type===dT&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(ds.Main)),t}function tfn(e,t){const n=use(Jdn,i=>!!(!Vt(e.explicit,i)&&!Vt(t.explicit,i)||Vt(e.explicit,i)&&Vt(t.explicit,i)&&qu(e.get(i),t.get(i))));if(qu(e.size,t.size)){if(n)return e;if(qu(e.explicit,{}))return t;if(qu(t.explicit,{}))return e}return null}function nfn(e){if(e.children.length===0)return;let t;for(const r of e.children)$ze(r);const n=use(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=tfn(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Mze(r,t.specifiedProjection,t.size,mn(t.data));for(const s of e.children){const o=s.component.projection;o&&(o.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function rfn(e,t,n,r){if(_P(t,n)){const i=Wi(e)?e.axis(n)??e.legend(n)??{}:{},s=ht(t,{expr:"datum"}),o=ht(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ht(t,{binSuffix:"range",forAs:!0}),formula:yP(s,o,i.format,i.formatType,r)}}return{}}function Lze(e,t){return`${tBe(e)}_${t}`}function ifn(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function goe(e,t,n){const r=k5(n,void 0)??{},i=Lze(r,t);return e.getName(`${i}_bins`)}function sfn(e){return"as"in e}function x1e(e,t,n){let r,i;sfn(e)?r=Et(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[ht(e,{forAs:!0}),ht(e,{binSuffix:"end",forAs:!0})];const s={...k5(t,void 0)},o=Lze(s,e.field),{signal:a,extentSignal:l}=ifn(n,o);if(v5(s.extent)){const c=s.extent;i=mze(n,c.param,c),delete s.extent}const u={bin:s,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:o,binComponent:u}}class Kh extends Xr{clone(){return new Kh(null,mn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{if(bl(s)&&Ei(s.bin)){const{key:a,binComponent:l}=x1e(s,s.bin,n);i[a]={...l,...i[a],...rfn(n,s,o,n.config)}}return i},{});return ei(r)?null:new Kh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=x1e(n,n.bin,r);return new Kh(t,{[i]:s})}merge(t,n){for(const r of tt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Oh([...this.bins[r].as,...t.bins[r].as],tr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Ko(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Ko(this.bins).map(t=>t.field))}hash(){return`Bin ${tr(this.bins)}`}assemble(){return Ko(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...o}=t.bin,a={type:"bin",field:ld(t.field),as:r,signal:t.signal,...v5(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!s&&t.extentSignal&&(n.push({type:"extent",field:ld(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:ht({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function ofn(e,t,n,r){var s;const i=Wi(r)?r.encoding[Op(t)]:void 0;if(bl(n)&&Wi(r)&&XBe(n,i,r.markDef,r.config)){e.add(ht(n,{})),e.add(ht(n,{suffix:"end"}));const{mark:o,markDef:a,config:l}=r,u=jy({fieldDef:n,markDef:a,config:l});yR(o)&&u!==.5&&As(t)&&(e.add(ht(n,{suffix:L5})),e.add(ht(n,{suffix:F5}))),n.bin&&_P(n,t)&&e.add(ht(n,{binSuffix:"range"}))}else if(W8e(t)){const o=q8e(t);e.add(r.getName(o))}else e.add(ht(n));return w_(n)&&Kan((s=n.scale)==null?void 0:s.range)&&e.add(n.scale.range.field),e}function afn(e,t){for(const n of tt(t)){const r=t[n];for(const i of tt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class pf extends Xr{clone(){return new pf(null,new Set(this.dimensions),mn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((o,a)=>{const{aggregate:l,field:u}=o;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([ht(o,{forAs:!0})]);else{if(ug(l)||Ev(l)){const c=ug(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([ht({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([ht(o,{forAs:!0})]);Dp(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([ht({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([ht({field:u,aggregate:"max"},{forAs:!0})]))}else ofn(s,a,o,n)}),s.size+tt(i).length===0)?null:new pf(t,s,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const s of n.aggregate){const{op:o,field:a,as:l}=s;o&&(o==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([l||ht(s,{forAs:!0})])):(i[a]??(i[a]={}),i[a][o]=new Set([l||ht(s,{forAs:!0})])))}for(const s of n.groupby??[])r.add(s);return r.size+tt(i).length===0?null:new pf(t,r,i)}merge(t){return L8e(this.dimensions,t.dimensions)?(afn(this.measures,t.measures),!0):(_an("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...tt(this.measures)])}producedFields(){const t=new Set;for(const n of tt(this.measures))for(const r of tt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${tr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of tt(this.measures))for(const o of tt(this.measures[s]))for(const a of this.measures[s][o])r.push(a),t.push(o),n.push(s==="*"?null:ld(s));return{type:"aggregate",groupby:[...this.dimensions].map(ld),ops:t,fields:n,as:r}}}class pT extends Xr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of Uc){const o=n.facet[s];if(o){const{bin:a,sort:l}=o;this[s]={name:n.getName(`${s}_domain`),fields:[ht(o),...Ei(a)?[ht(o,{binSuffix:"end"})]:[]],...Dm(l)?{sortField:l}:We(l)?{sortIndexField:Kx(o,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Uc)this[n]&&(t+=` ${n.charAt(0)}:${tr(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Uc)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Uc)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Rg){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(So(i)&&xv(s)){const o=V5(this.childModel,n),a=_oe(o);a?t[n]=a:st(xse(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],o=[],a=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),o.push("max")):(s.push(r[i]),o.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=C5,field:d}=l;s.push(d),o.push(c),a.push(ht(l,{forAs:!0}))}else u&&(s.push(u),o.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:o,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const u of foe){for(const c of hoe){const d=(r[u]&&r[u][c])??[];for(const f of d)if(((l=f.axes)==null?void 0:l.length)>0){s[u]=!0;break}}if(s[u]){const c=`length(data("${this.facet.name}"))`,d=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:o,column:a}=s;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:o}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Om,Nm])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(o){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function S1e(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function lfn(e,t){const n=fse(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=S1e(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=S1e(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return st(Ron(t)),null}function ufn(e){const t={};return aM(e.filter,n=>{if(CBe(n)){let r=null;Ase(n)?r=Lu(n.equal):Rse(n)?r=Lu(n.lte):Ise(n)?r=Lu(n.lt):kse(n)?r=Lu(n.gt):Pse(n)?r=Lu(n.gte):Nse(n)?r=n.range[0]:Ose(n)&&(r=(n.oneOf??n.in)[0]),r&&(b_(r)?t[n.field]="date":xr(r)?t[n.field]="number":Et(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function cfn(e){const t={};function n(r){qx(r)?t[r.field]="date":r.type==="quantitative"&&oon(r.aggregate)?t[r.field]="number":Fx(r.field)>1?r.field in t||(t[r.field]="flatten"):w_(r)&&Dm(r.sort)&&Fx(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Wi(e)||Ku(e))&&e.forEachFieldDef((r,i)=>{if(bl(r))n(r);else{const s=y_(i),o=e.fieldDef(s);n({...r,type:o.type})}}),Wi(e)){const{mark:r,markDef:i,encoding:s}=e;if(Sv(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",a=s[o];ot(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function dfn(e){const t={};if(Wi(e)&&e.component.selection)for(const n of tt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Fx(i.field)>1&&(t[i.field]="flatten")}return t}class Pa extends Xr{clone(){return new Pa(null,mn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${tr(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const s=n.data;return!ny(s)&&((o=s==null?void 0:s.format)!=null&&o.parse)&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of tt(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:st(Ove(a,r[a],l.value)))}for(const a of tt(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:st(Ove(a,n[a],l)))}const s=new Pg(n,r);i.copyAll(s);const o={};for(const a of tt(s.combine())){const l=s.get(a);l!==null&&(o[a]=l)}return tt(o).length===0||i.parseNothing?null:new Pa(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of tt(this._parse)){const r=this._parse[n];Fx(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(tt(this._parse))}dependentFields(){return new Set(tt(this._parse))}assembleTransforms(t=!1){return tt(this._parse).filter(n=>t?Fx(n)>1:!0).map(n=>{const r=lfn(n,this._parse[n]);return r?{type:"formula",expr:r,as:uT(n)}:null}).filter(n=>n!==null)}}class Vy extends Xr{clone(){return new Vy(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Rf])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Rf}}}class xP extends Xr{clone(){return new xP(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${tr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class SP extends Xr{clone(){return new SP(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${tr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class zb extends Xr{constructor(t){super(null),t??(t={name:"source"});let n;if(ny(t)||(n=t.format?{...ou(t.format,["parse"])}:{}),vR(t))this._data={values:t.values};else if(Wx(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Kn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else H9e(t)?this._data={values:[{type:"Sphere"}]}:(U9e(t)||ny(t))&&(this._data={});this._generator=ny(t),t.name&&(this._name=t.name),n&&!ei(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var T1e=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ffn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},w2;function yoe(e){return e instanceof zb||e instanceof xP||e instanceof SP}class voe{constructor(){w2.set(this,void 0),T1e(this,w2,!1,"f")}setModified(){T1e(this,w2,!0,"f")}get modifiedFlag(){return ffn(this,w2,"f")}}w2=new WeakMap;class E_ extends voe{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class boe extends voe{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class hfn extends boe{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of tt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class pfn extends boe{constructor(t){super(),this.requiresSelectionId=t&&doe(t)}run(t){t instanceof Vy&&(this.requiresSelectionId&&(yoe(t.parent)||t.parent instanceof pf||t.parent instanceof Pa)||(this.setModified(),t.remove()))}}class mfn extends voe{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Yh&&(r=t.producedFields(),cse(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class gfn extends boe{constructor(){super()}run(t){t instanceof au&&!t.isRequired()&&(this.setModified(),t.remove())}}class yfn extends E_{run(t){if(!yoe(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Pa)if(t instanceof Pa)this.setModified(),t.merge(n);else{if(dse(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class vfn extends E_{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Pa);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const o of r){const a=o.parse;for(const l of tt(a))l in i?i[l]!==a[l]&&s.add(l):i[l]=a[l]}for(const o of s)delete i[o];if(!ei(i)){this.setModified();const o=new Pa(t,i);for(const a of n){if(a instanceof Pa)for(const l of tt(i))delete a.parse[l];t.removeChild(a),a.parent=o,a instanceof Pa&&tt(a.parse).length===0&&a.remove()}}}}}class bfn extends E_{run(t){t instanceof au||t.numChildren()>0||t instanceof pT||t instanceof zb||(this.setModified(),t.remove())}}class _fn extends E_{run(t){const n=t.children.filter(i=>i instanceof Yh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class wfn extends E_{run(t){const n=t.children.filter(i=>i instanceof pf),r={};for(const i of n){const s=tr(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of tt(r)){const s=r[i];if(s.length>1){const o=s.pop();for(const a of s)o.merge(a)&&(t.removeChild(a),a.parent=o,a.remove(),this.setModified())}}}}class Efn extends E_{constructor(t){super(),this.model=t}run(t){const n=!(yoe(t)||t instanceof hT||t instanceof Pa||t instanceof Vy),r=[],i=[];for(const s of t.children)s instanceof Kh&&(n&&!dse(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const o of r)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Kh?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class xfn extends E_{run(t){const n=[...t.children];if(!Lx(n,o=>o instanceof au)||t.numChildren()<=1)return;const i=[];let s;for(const o of n)if(o instanceof au){let a=o;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof au)a=l;else break}i.push(...a.children),s?(t.removeChild(o),o.parent=s.parent,s.parent.removeChild(s),s.parent=a,this.setModified()):s=a}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=s}}}class x_ extends Xr{clone(){return new x_(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Oh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ht(t)}hash(){return`JoinAggregateTransform ${tr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Qx extends Xr{clone(){return new Qx(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:s}=n,{marks:o,scales:a}=r;if(o==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=Dp(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:p}=c,m=jse({scaleChannel:d,markDef:s,config:i,scaleType:h,isCountAggregate:y5(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return tt(l).length?new Qx(t,l):null}dependentFields(){return new Set(tt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${tr(this.filter)}`}assemble(){const t=tt(this.filter).reduce((n,r)=>{const i=this.filter[r],s=ht(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (${dG(s)}))`):i.type==="quantitative"&&n.push(dG(s))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function dG(e){return`isValid(${e}) && isFinite(+${e})`}function Sfn(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=ht(r);return i&&t.push(i),t},[])}function Tfn(e){return We(e)&&e.every(t=>Et(t))&&e.length>1}class $m extends Xr{clone(){return new $m(null,mn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:o="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Cs(d.order,"ascending"));const u={field:a,order:l};let c;return Tfn(s)?c=s:Et(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new $m(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:o,offset:a,impute:l}=r,u=s.map(h=>{const p=i[h];return If(p)}).filter(h=>!!h),c=Sfn(n),d=n.encoding.order;let f;if(We(d)||ot(d))f=oBe(d);else{const h=QBe(d)?d.sort:o==="y"?"descending":"ascending";f=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new $m(t,{dimensionFieldDefs:u,stackField:n.vgField(o),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${tr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[ht(i,{binSuffix:"mid"})]:[ht(i,{}),ht(i,{binSuffix:"end"})]:[ht(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:o,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=ht(c,{expr:"datum"}),p=ht(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${dG(h)} ? ${d}*${h}+${1-d}*${p} : ${h}`,as:ht(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:ht(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:u,offset:a}),t}}class mT extends Xr{clone(){return new mT(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Oh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ht(t)}hash(){return`WindowTransform ${tr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(d=>wse(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function Cfn(e){function t(n){if(!(n instanceof pT)){const r=n.clone();if(r instanceof au){const i=hG+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof pf||r instanceof $m||r instanceof mT||r instanceof x_)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function fG(e){if(e instanceof pT)if(e.numChildren()===1&&!(e.children[0]instanceof au)){const t=e.children[0];(t instanceof pf||t instanceof $m||t instanceof mT||t instanceof x_)&&t.addDimensions(e.fields),t.swapWithParent(),fG(e)}else{const t=e.model.component.data.main;Fze(t);const n=Cfn(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(fG)}function Fze(e){if(e instanceof au&&e.type===ds.Main&&e.numChildren()===1){const t=e.children[0];t instanceof pT||(t.swapWithParent(),Fze(e))}}const hG="scale_",AO=5;function pG(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!pG(t.children))return!1}return!0}function Ad(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function C1e(e,t,n){let r=e.sources,i=!1;return i=Ad(new gfn,r)||i,i=Ad(new pfn(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=Ad(new bfn,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=Ad(new yfn,r)||i,i=Ad(new Efn(t),r)||i,i=Ad(new mfn,r)||i,i=Ad(new vfn,r)||i,i=Ad(new wfn,r)||i,i=Ad(new _fn,r)||i,i=Ad(new hfn,r)||i,i=Ad(new xfn,r)||i),e.sources=r,i}function Afn(e,t){pG(e.sources);let n=0,r=0;for(let i=0;i<AO&&C1e(e,t,!0);i++)n++;e.sources.map(fG);for(let i=0;i<AO&&C1e(e,t,!1);i++)r++;pG(e.sources),Math.max(n,r)===AO&&st(`Maximum optimization runs(${AO}) reached.`)}class po{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new po(()=>t(n))}}function jze(e){Wi(e)?Ifn(e):Rfn(e)}function Ifn(e){const t=e.component.scales;for(const n of tt(t)){const r=Pfn(e,n);if(t[n].setWithExplicit("domains",r),Ofn(e,n),e.component.data.isFaceted){let s=e;for(;!Ku(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const a of r.value)_m(a)&&(a.data=hG+a.data.replace(hG,""))}}}function Rfn(e){for(const n of e.children)jze(n);const t=e.component.scales;for(const n of tt(t)){let r,i=null;for(const s of e.children){const o=s.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=By(r,o.getWithExplicit("domains"),"domains","scale",mG);const a=o.get("selectionExtent");i&&a&&i.param!==a.param&&st(Ton),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function kfn(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=A1e(t,n);if(!i){st(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=A1e(t,n);if(i)return"unaggregated"}return e}function Pfn(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=kfn(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Qs(r.x2)?Qs(r.x)?By(Xg(n,i,e,"x"),Xg(n,i,e,"x2"),"domain","scale",mG):Xg(n,i,e,"x2"):t==="y"&&Qs(r.y2)?Qs(r.y)?By(Xg(n,i,e,"y"),Xg(n,i,e,"y2"),"domain","scale",mG):Xg(n,i,e,"y2"):Xg(n,i,e,t)}function Nfn(e,t,n){return e.map(r=>({signal:`{data: ${P5(r,{timeUnit:n,type:t})}}`}))}function c7(e,t,n){var i;const r=(i=xo(n))==null?void 0:i.unit;return t==="temporal"||r?Nfn(e,t,r):[e]}function Xg(e,t,n,r){const{encoding:i,markDef:s,mark:o,config:a,stack:l}=n,u=Qs(i[r]),{type:c}=u,d=u.timeUnit,f=Ccn({invalid:up("invalid",s,a),isPath:Sv(o)});if(Yan(t)){const m=Xg(e,void 0,n,r),g=c7(t.unionWith,c,d);return hh([...g,...m.value])}else{if(Mt(t))return hh([t]);if(t&&t!=="unaggregated"&&!OBe(t))return hh(c7(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Ru([[0,1]]);const m=n.requestDataName(f);return Ru([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const h=Dp(r)&&ot(u)?Dfn(n,r,e):void 0;if(Mp(u)){const m=c7([u.datum],c,d);return Ru(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return Ru([{data:n.requestDataName(f),field:ht({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:ht({field:m,aggregate:"max"})}])}else if(Ei(p.bin)){if(So(e))return Ru(e==="bin-ordinal"?[]:[{data:mR(h)?n.requestDataName(f):n.requestDataName(ds.Raw),field:n.vgField(r,_P(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!bt(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:m}=p;if(Ei(m)){const g=goe(n,p.field,m);return Ru([new po(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return Ru([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(p.timeUnit&&Kn(["time","utc"],e)){const m=i[Op(r)];if(XBe(p,m,s,a)){const g=n.requestDataName(f),y=jy({fieldDef:p,fieldDef2:m,markDef:s,config:a}),v=yR(o)&&y!==.5&&As(r);return Ru([{data:g,field:n.vgField(r,v?{suffix:L5}:{})},{data:g,field:n.vgField(r,{suffix:v?F5:"end"})}])}}return Ru(h?[{data:mR(h)?n.requestDataName(f):n.requestDataName(ds.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function d7(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":C5),...r?{field:ld(r)}:{},...i?{order:i}:{}}}function Ofn(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,s=OBe(r)&&r,o=v_(i)&&v5(i.extent)&&i.extent;(s||o)&&n.set("selectionExtent",s??o,!0)}function Dfn(e,t,n){if(!So(n))return;const r=e.fieldDef(t),i=r.sort;if(YBe(i))return{op:"min",field:Kx(r,t),order:"ascending"};const{stack:s}=e,o=s?new Set([...s.groupbyFields,...s.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Dm(i)){const a=s&&!o.has(i.field);return d7(i,a)}else if(Cln(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=s&&!o.has(d);if(ug(c)||Ev(c))return d7({field:ht(u),order:l},f);if(wse(c)||!c)return d7({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Kn(["ascending",void 0],i))return!0}}function A1e(e,t){const{aggregate:n,type:r}=e;return n?Et(n)&&!lon.has(n)?{valid:!1,reason:Qon(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:Jon(e)}:{valid:!0}:{valid:!1,reason:Xon(e)}}function mG(e,t,n,r){return e.explicit&&t.explicit&&st(ran(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Mfn(e){const t=Oh(e.map(o=>{if(_m(o)){const{sort:a,...l}=o;return l}return o}),tr),n=Oh(e.map(o=>{if(_m(o)){const a=o.sort;return a!==void 0&&!mR(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(o=>o!==void 0),tr);if(t.length===0)return;if(t.length===1){const o=e[0];if(_m(o)&&n.length>0){let a=n[0];if(n.length>1){st(Mve);const l=n.filter(u=>bt(u)&&"op"in u&&u.op!=="min");n.every(u=>bt(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(bt(a)&&"field"in a){const l=a.field;o.field===l&&(a=a.order?{order:a.order}:!0)}return{...o,sort:a}}return o}const r=Oh(n.map(o=>mR(o)||!("op"in o)||Et(o.op)&&o.op in ion?o:(st(san(o)),!0)),tr);let i;r.length===1?i=r[0]:r.length>1&&(st(Mve),i=!0);const s=Oh(e.map(o=>_m(o)?o.data:null),o=>o);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function _oe(e){if(_m(e)&&Et(e.field))return e.field;if(uon(e)){let t;for(const n of e.fields)if(_m(n)&&Et(n.field)){if(!t)t=n.field;else if(t!==n.field)return st(oan),t}return st(aan),t}else if(con(e)){st(lan);const t=e.fields[0];return Et(t)?t:void 0}}function V5(e,t){const r=e.component.scales[t].get("domains").map(i=>(_m(i)&&(i.data=e.lookupDataSource(i.data)),i));return Mfn(r)}function Bze(e){return gT(e)||woe(e)?e.children.reduce((t,n)=>t.concat(Bze(n)),I1e(e)):I1e(e)}function I1e(e){return tt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:o,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=$fn(i.range,s,n,e),h=V5(e,n),p=a?Ncn(e,a,r,h):null;return t.push({name:s,type:o,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function $fn(e,t,n,r){if(As(n)){if(xv(e))return{step:{signal:`${t}_step`}}}else if(bt(e)&&_m(e))return{...e,data:r.lookupDataSource(e.data)};return e}class zze extends Pg{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(Kn([Uo.LOG,Uo.TIME,Uo.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&Kn([Uo.LINEAR,Uo.SQRT,Uo.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,s=!1,o=!1;for(const a of r){if(We(a)){const l=a[0],u=a[a.length-1];if(xr(l)&&xr(u))if(l<=0&&u>=0){i=!0;continue}else{s=!0;continue}}o=!0}if(i)return"definitely";if(s&&!o)return"definitely-not"}return"maybe"}}const Lfn=["range","scheme"];function Ffn(e){const t=e.component.scales;for(const n of _se){const r=t[n];if(!r)continue;const i=jfn(n,e);r.setWithExplicit("range",i)}}function R1e(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,s=vu(t),o=e.getName(s);if(bt(r)&&r.binned&&r.step!==void 0)return new po(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(Ei(r)){const a=goe(e,i,r);return new po(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${u})`})}}}function jfn(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const d of Lfn)if(n[d]!==void 0){const f=JW(s,d),h=DBe(e,d);if(!f)st(hBe(s,d,e));else if(h)st(h);else switch(d){case"range":{const p=n.range;if(We(p)){if(As(e))return hh(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return po.fromName(y,g)}return m}))}else if(bt(p))return hh({data:t.requestDataName(ds.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return hh(p)}case"scheme":return hh(Bfn(n[d]))}}const o=e===zi||e==="xOffset"?"width":"height",a=r[o];if(dp(a)){if(As(e))if(So(s)){const d=Vze(a,t,e);if(d)return hh({step:d})}else st(pBe(o));else if(pP(e)){const d=e===yv?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=Hze(a,s);if(p)return hh(p)}}}const{rangeMin:l,rangeMax:u}=n,c=zfn(e,t);return(l!==void 0||u!==void 0)&&JW(s,"rangeMin")&&We(c)&&c.length===2?hh([l??c[0],u??c[1]]):Ru(c)}function Bfn(e){return Gan(e)?{scheme:e.name,...ou(e,["name"])}:{scheme:e}}function Uze(e,t,n,{center:r}={}){const i=vu(e),s=t.getName(i),o=t.getSignalName.bind(t);return e===Co&&Cf(n)?r?[po.fromName(a=>`${o(a)}/2`,s),po.fromName(a=>`-${o(a)}/2`,s)]:[po.fromName(o,s),0]:r?[po.fromName(a=>`-${o(a)}/2`,s),po.fromName(a=>`${o(a)}/2`,s)]:[0,po.fromName(o,s)]}function zfn(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:o}=Qs(s[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case zi:case Co:{if(Kn(["point","band"],l)){const d=qze(e,n,r.view);if(dp(d))return{step:Vze(d,t,e)}}return Uze(e,t,l)}case yv:case cT:return Ufn(e,t,l);case Ag:{const d=qfn(i,r),f=Wfn(i,n,t,r);return Ux(l)?Hfn(d,f,Vfn(l,r,u,e)):[d,f]}case bd:return[0,Math.PI*2];case g_:return[0,360];case Vf:return[0,new po(()=>{const d=t.getSignalName(Ku(t.parent)?"child_width":"width"),f=t.getSignalName(Ku(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case _v:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case wv:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case yu:return"symbol";case gu:case Pp:case Np:return l==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Ig:case vv:case bv:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Vze(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=gse(n),o=r[s];if(I9e({step:e,offsetIsDiscrete:En(o)&&IBe(o.type)})==="offset"&&l9e(r,s)){const l=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${pon(d)})`}}else return e.step}function Hze(e,t){if(I9e({step:e,offsetIsDiscrete:So(t)})==="offset")return{step:e.step}}function Ufn(e,t,n){const r=e===yv?"x":"y",i=t.getScaleComponent(r);if(!i)return Uze(r,t,n,{center:!0});const s=i.get("type"),o=t.scaleName(r),{markDef:a,config:l}=t;if(s==="band"){const u=qze(r,t.size,t.config.view);if(dp(u)){const c=Hze(u,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const u=t.encoding[r];if(ot(u)&&u.timeUnit){const c=SBe(u.timeUnit,p=>`scale('${o}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=jy({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const p=Mt(d)?`${d.signal}/2`+h:`${d/2+f}`,m=Mt(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return M8e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function qze(e,t,n){const r=e===zi?"width":"height",i=t[r];return i||jL(n,r)}function Vfn(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&We(n)?n.length+1:(st(yan(r)),3)}}function Hfn(e,t,n){const r=()=>{const i=Jd(t),s=Jd(e),o=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${o}, ${o})`};return Mt(t)?new po(r):{signal:r()}}function qfn(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(b5("size",e))}const k1e=.95;function Wfn(e,t,n,r){const i={x:R1e(n,"x"),y:R1e(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=P1e(t,i,r.view);return xr(s)?s-1:new po(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=P1e(t,i,r.view);return xr(s)?Math.pow(k1e*s,2):new po(()=>`pow(${k1e} * ${s.signal}, 2)`)}}throw new Error(b5("size",e))}function P1e(e,t,n){const r=dp(e.width)?e.width.step:FL(n,"width"),i=dp(e.height)?e.height.step:FL(n,"height");return t.x||t.y?new po(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function Wze(e,t){Wi(e)?Gfn(e,t):Yze(e,t)}function Gfn(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:o}=e;for(const a of tt(n)){const l=o[a],u=n[a],c=e.getScaleComponent(a),d=Qs(i[a]),f=l[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=JW(h,t),y=DBe(a,t);if(f!==void 0&&(g?y&&st(y):st(hBe(h,t,a))),g&&y===void 0)if(f!==void 0){const v=d.timeUnit,_=d.type;switch(t){case"domainMax":case"domainMin":b_(l[t])||_==="temporal"||v?u.set(t,{signal:P5(l[t],{type:_,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=t in N1e?N1e[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:s,config:r,hasNestedOffsetScale:u9e(i,a),hasSecondaryRangeChannel:!!i[Op(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const N1e={bins:({model:e,fieldOrDatumDef:t})=>ot(t)?Yfn(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Kfn(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>Xfn(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Qfn(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>Jfn(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>Zfn(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ot(e)?e.sort:void 0;return ehn(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:o})=>thn(e,t,n,r,i,s.scale,o)};function Gze(e){Wi(e)?Ffn(e):Yze(e,"range")}function Yze(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Gze(r):Wze(r,t);for(const r of tt(n)){let i;for(const s of e.children){const o=s.component.scales[r];if(o){const a=o.getWithExplicit(t);i=By(i,a,t,"scale",z9e((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function Yfn(e,t){const n=t.bin;if(Ei(n)){const r=goe(e,t.field,n);return new po(()=>e.getSignalName(r))}else if(Bo(n)&&v_(n)&&n.step!==void 0)return{step:n.step}}function Kfn(e,t){if(Kn([gu,Pp,Np],e)&&t!=="nominal")return"hcl"}function Xfn(e,t,n,r,i,s){var o;if(!((o=If(s))!=null&&o.bin||We(n)||i!=null||r!=null||Kn([Uo.TIME,Uo.UTC],e)))return As(t)?!0:void 0}function Qfn(e,t,n,r,i,s){if(As(e)){if(Dh(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:a}=i;if(o==="bar"&&!(ot(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===Uo.POINT)return n.pointPadding}}function Jfn(e,t,n,r,i,s=!1){if(e===void 0){if(As(t)){const{bandPaddingInner:o,barBandPaddingInner:a,rectBandPaddingInner:l,bandWithNestedOffsetPaddingInner:u}=i;return s?u:Cs(o,n==="bar"?a:l)}else if(pP(t)&&r===Uo.BAND)return i.offsetBandPaddingInner}}function Zfn(e,t,n,r,i,s=!1){if(e===void 0){if(As(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:a}=i;if(s)return a;if(n===Uo.BAND)return Cs(o,Mt(r)?{signal:`${r.signal}/2`}:r/2)}else if(pP(t)){if(n===Uo.POINT)return .5;if(n===Uo.BAND)return i.offsetBandPaddingOuter}}}function ehn(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Cf(e)&&t==="descending"?Mt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Cf(e)&&t==="descending")return!0}function thn(e,t,n,r,i,s,o){if(!!n&&n!=="unaggregated"&&Cf(i)){if(We(n)){const l=n[0],u=n[n.length-1];if(xr(l)&&l<=0&&xr(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Ux(i))return!0;if(!(ot(t)&&t.bin)&&Kn([...Rg,...Xsn],e)){const{orient:l,type:u}=r;return Kn(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Kn(["bar","area"],u)&&!o?!0:s==null?void 0:s.zero}return!1}function nhn(e,t,n,r,i=!1){const s=rhn(t,n,r,i),{type:o}=e;return Dp(t)?o!==void 0?eln(t,o)?ot(n)&&!Zan(o,n.type)?(st(tan(o,s)),s):o:(st(ean(t,o,s)),s):s:null}function rhn(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(IE(e)||n7(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&st(r7(e,"ordinal")),"ordinal";if(As(e)||pP(e)){if(Kn(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in bse)return"band";const s=n[vu(e)];return Lb(s)||Hx(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return IE(e)?"time":n7(e)==="discrete"?(st(r7(e,"temporal")),"ordinal"):ot(t)&&t.timeUnit&&xo(t.timeUnit).utc?"utc":"time";case"quantitative":return IE(e)?ot(t)&&Ei(t.bin)?"bin-ordinal":"linear":n7(e)==="discrete"?(st(r7(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(dBe(t.type))}function ihn(e,{ignoreRange:t}={}){Kze(e),jze(e);for(const n of Jan)Wze(e,n);t||Gze(e)}function Kze(e){Wi(e)?e.component.scales=shn(e):e.component.scales=ahn(e)}function shn(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of _se){const o=Qs(t[s]);if(o&&n===LBe&&s===yu&&o.type===dT)continue;let a=o&&o.scale;if(o&&a!==null&&a!==!1){a??(a={});const l=u9e(t,s),u=nhn(a,s,o,r,l);i[s]=new zze(e.scaleName(`${s}`,!0),{value:u,explicit:a.type===u})}}return i}const ohn=z9e((e,t)=>Lve(e)-Lve(t));function ahn(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){Kze(s);for(const o of tt(s.component.scales))if((t=i.scale)[o]??(t[o]=Cze(o,e)),i.scale[o]==="shared"){const a=r[o],l=s.component.scales[o].getWithExplicit("type");a?Uan(a.value,l.value)?r[o]=By(a,l,"type","scale",ohn):(i.scale[o]="independent",delete r[o]):r[o]=l}}for(const s of tt(r)){const o=e.scaleName(s,!0),a=r[s];n[s]=new zze(o,a);for(const l of e.children){const u=l.component.scales[s];u&&(l.renameScale(u.get("name"),o),u.merged=!0)}}return n}class f7{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Wi(e){return(e==null?void 0:e.type)==="unit"}function Ku(e){return(e==null?void 0:e.type)==="facet"}function woe(e){return(e==null?void 0:e.type)==="concat"}function gT(e){return(e==null?void 0:e.type)==="layer"}class Eoe{constructor(t,n,r,i,s,o,a){this.type=n,this.parent=r,this.config=s,this.correctDataNames=l=>{var u,c,d;return(u=l.from)!=null&&u.data&&(l.from.data=this.lookupDataSource(l.from.data)),(d=(c=l.from)==null?void 0:c.facet)!=null&&d.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=s,this.view=xa(a),this.name=t.name??i,this.title=s0(t.title)?{text:t.title}:t.title?xa(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new f7,this.projectionNameMap=r?r.projectionNameMap:new f7,this.signalNameMap=r?r.signalNameMap:new f7,this.data=t.data,this.description=t.description,this.transforms=pcn(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:vun(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:A5(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Pg,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?mn(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){ihn(this)}parseProjection(){$ze(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Pze(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of tt(r)){const o=r[s];o!==void 0&&(i[s]=Ri(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Ri(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:ei(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=Adn(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Uc)t[r].title&&n.push(wdn(this,r));for(const r of foe)n=n.concat(Edn(this,r));return n}assembleAxes(){return ldn(this.component.axes,this.config)}assembleLegends(){return Oze(this)}assembleProjections(){return Xdn(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...nBe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Kn(["unit","layer"],this.type)?Kn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),ei(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Ku(this.parent)?Bze(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return Bi((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(ds[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Ku(this.parent)){const n=Sze(t),r=g5(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(So(s)&&xv(o)){const a=i.get("name"),l=V5(this,r),u=_oe(l);if(u){const c=ht({aggregate:"distinct",field:u},{expr:"datum"});return{signal:xze(a,i,c)}}else return st(xse(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(Y8e(t)&&Dp(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(bon(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Xze extends Eoe{vgField(t,n={}){const r=this.fieldDef(t);if(r)return ht(r,n)}reduceFieldDef(t,n){return Gln(this.getMapping(),(r,i,s)=>{const o=If(i);return o?t(r,o,s):r},n)}forEachFieldDef(t,n){Yse(this.getMapping(),(r,i)=>{const s=If(r);s&&t(s,i)},n)}}class H5 extends Xr{clone(){return new H5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${tr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class q5 extends Xr{clone(){return new q5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${tr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class W5 extends Xr{clone(){return new W5(this.parent,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,o)=>i[o]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${tr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class G5 extends Xr{clone(){return new G5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${tr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class PE extends Xr{clone(){return new PE(null,mn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[qf,Hf],[ud,Wf]]){const s=i.map(o=>{const a=Qs(n.encoding[o]);return ot(a)?a.field:Mp(a)?{expr:`${a.datum}`}:Af(a)?{expr:`${a.value}`}:void 0});(s[0]||s[1])&&(t=new PE(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(yu)){const i=n.typedFieldDef(yu);i.type===dT&&(t=new PE(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Et);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${tr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class bR extends Xr{clone(){return new bR(null,this.projection,mn(this.fields),mn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[qf,Hf],[ud,Wf]]){const i=r.map(o=>{const a=Qs(n.encoding[o]);return ot(a)?a.field:Mp(a)?{expr:`${a.datum}`}:Af(a)?{expr:`${a.value}`}:void 0}),s=r[0]===ud?"2":"";(i[0]||i[1])&&(t=new bR(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Et))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${tr(this.fields)} ${tr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class J1 extends Xr{clone(){return new J1(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new J1(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(ot(i)&&ot(s)){const o=i.impute?i:s.impute?s:void 0;if(o===void 0)return;const a=i.impute?s:s.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=o.impute,f=f9e(n.mark,r);return new J1(t,{impute:o.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${tr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:o,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:Kun(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class Y5 extends Xr{clone(){return new Y5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${tr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class _R extends Xr{clone(){return new _R(null,mn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:o}=r;let a=null;if(Xun(o)){let l=Zze(o.data,s);l||(l=new zb(o.data),s.push(l));const u=n.getName(`lookup_${i}`);a=new au(l,u,ds.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(Qun(o)){const l=o.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Bi(l),l)}catch{throw new Error(xon(l))}if(a=u.materialized,!a)throw new Error(Son(l))}return new _R(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?wt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${tr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:wt(this.transform.as)}:{}};else{let n=this.transform.as;Et(n)||(st(Non),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class K5 extends Xr{clone(){return new K5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${tr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class X5 extends Xr{clone(){return new X5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=mn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${tr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class Q5 extends Xr{clone(){return new Q5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Oh((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${tr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class J5 extends Xr{clone(){return new J5(null,mn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${tr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Qze(e){let t=0;function n(r,i){if(r instanceof zb&&!r.isGenerator&&!Wx(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Pa&&(r.parent instanceof zb&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof pT){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof xP||r instanceof SP||r instanceof Qx||r instanceof hT||r instanceof Yx||r instanceof bR||r instanceof pf||r instanceof _R||r instanceof mT||r instanceof x_||r instanceof G5||r instanceof W5||r instanceof H5||r instanceof Y5||r instanceof K5||r instanceof X5||r instanceof Vy||r instanceof J5||r instanceof Q5||r instanceof q5)&&i.transform.push(r.assemble()),(r instanceof Kh||r instanceof Yh||r instanceof J1||r instanceof $m||r instanceof PE)&&i.transform.push(...r.assemble()),r instanceof au&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof au?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof au&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const o of r.children)n(o,{name:null,source:s,transform:[]});break}}}return n}function lhn(e){const t=[],n=Qze(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function uhn(e,t){const n=[],r=Qze(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const a=o.assemble();r(o,a)}for(const o of n)o.transform.length===0&&delete o.transform;let s=0;for(const[o,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(s++,0,n.splice(o,1)[0]);for(const o of n)for(const a of o.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function chn(e){return e==="top"||e==="left"||Mt(e)?"header":"footer"}function dhn(e){for(const t of Uc)fhn(e,t);O1e(e,"x"),O1e(e,"y")}function fhn(e,t){var o;const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const a=n[t],l=Xx("title",null,r,t);let u=RE(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=We(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Xx("labelOrient",a.header,r,t),d=a.header!==null?Cs((o=a.header)==null?void 0:o.labels,r.header.labels,!0):!1,f=Kn(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[f]:t==="facet"?[]:[Jze(e,t,d)]}}}function Jze(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function O1e(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=moe(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",o=r[s];for(const a of n.component.axes[t]){const l=chn(a.get("orient"));o[l]??(o[l]=[Jze(e,s,!1)]);const u=_2(a,"main",e.config,{header:!0});u&&o[l][0].axes.push(u),a.mainExtracted=!0}}}}function hhn(e){xoe(e),VL(e,"width"),VL(e,"height")}function phn(e){xoe(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";VL(e,t),VL(e,n)}function xoe(e){for(const t of e.children)t.parseLayoutSize()}function VL(e,t){const n=Sze(t),r=g5(n),i=e.component.resolve,s=e.component.layoutSize;let o;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??Cze(r,e);if(u==="independent"&&l.value==="step"){o=void 0;break}if(o){if(u==="independent"&&o.value!==l.value){o=void 0;break}o=By(o,l,n,"")}else o=l}if(o){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,o)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function mhn(e){const{size:t,component:n}=e;for(const r of Rg){const i=vu(r);if(t[i]){const s=t[i];n.layoutSize.set(i,dp(s)?"step":s,!0)}else{const s=ghn(e,i);n.layoutSize.set(i,s,!1)}}}function ghn(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),o=i.get("range");if(So(s)){const a=jL(r.view,t);return xv(o)||dp(a)?"step":a}else return tG(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return tG(r.view,t);{const s=jL(r.view,t);return dp(s)?s.step:s}}}function gG(e,t,n){return ht(t,{suffix:`by_${ht(e)}`,...n})}class TA extends Xze{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Ioe(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!vP(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=tt(t),r={};for(const i of n){if(![Nm,Om].includes(i)){st(b5(i,"facet"));break}const s=t[i];if(s.field===void 0){st(XW(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=Gse(t,n);return r.header?r.header=xa(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Z5(this),this.child.parseData()}parseLayoutSize(){xoe(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),dhn(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Uc)for(const r of hoe){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:o}=i;if(o){const a=Xx("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(a)){const l=z5(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(s!=null&&s[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof TA))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof TA?{...this.channelHasField("column")?{encode:{update:{columns:{field:ht(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof TA){if(this.child.channelHasField("column")){const i=ht(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Rg){const s=this.child.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(So(o)&&xv(a)){const l=V5(this.child,i),u=_oe(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):st(xse(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:o,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Uc){const d=this.facet[c];if(d){l.push(ht(d));const{bin:f,sort:h}=d;if(Ei(f)&&l.push(ht(d,{binSuffix:"end"})),Dm(h)){const{field:p,op:m=C5}=h,g=gG(d,h);r&&i?(s.push(g),o.push("max"),a.push(g)):(s.push(p),o.push(m),a.push(g))}else if(We(h)){const p=Kx(d,c);s.push(p),o.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||s.length>0?{aggregate:{...u?{cross:u}:{},...s.length?{fields:s,ops:o,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Dm(r.sort)?[gG(r,r.sort,{expr:"datum"})]:We(r.sort)?[Kx(r,t,{expr:"datum"})]:[ht(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Dm(i)?i.order:!We(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return uG(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of foe)if(t[s]){const o=Xx("labelOrient",(i=t[s])==null?void 0:i.header,n,s);if(r[s].includes(o))return uG(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=lhn(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Uc.map(l=>this.facetSortFields(l)).flat(),order:Uc.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(Icn(this,[]))}]}getMapping(){return this.facet}}function yhn(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(Dm(s.sort)){const{field:o,op:a=C5}=s.sort;e=i=new x_(e,{joinaggregate:[{op:a,field:o,as:gG(s,s.sort,{forAs:!0})}],groupby:[ht(s)]})}return i}return null}function Zze(e,t){var n,r,i,s;for(const o of t){const a=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const d=(s=a.format)==null?void 0:s.mesh;if(!((l||d)&&l!==d)){if(vR(e)&&vR(a)){if(qu(e.values,a.values))return o}else if(Wx(e)&&Wx(a)){if(e.url===a.url)return o}else if(U9e(e)&&e.name===o.dataName)return o}}return null}function vhn(e,t){if(e.data||!e.parent){if(e.data===null){const r=new zb({values:[]});return t.push(r),r}const n=Zze(e.data,t);if(n)return ny(e.data)||(n.data.format=$8e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new zb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function bhn(e,t,n){let r=0;for(const i of t.transforms){let s,o;if(acn(i))o=e=new Yx(e,i),s="derived";else if(soe(i)){const a=ufn(i);o=e=Pa.makeWithAncestors(e,{},a,n)??e,e=new hT(e,t,i.filter)}else if(L9e(i))o=e=Kh.makeFromTransform(e,i,t),s="number";else if(ucn(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new Pa(e,{[i.field]:s}),n.set(i.field,s,!1)),o=e=Yh.makeFromTransform(e,i);else if(ccn(i))o=e=pf.makeFromTransform(e,i),s="number",doe(t)&&(e=new Vy(e));else if($9e(i))o=e=_R.make(e,t,i,r++),s="derived";else if(icn(i))o=e=new mT(e,i),s="number";else if(scn(i))o=e=new x_(e,i),s="number";else if(dcn(i))o=e=$m.makeFromTransform(e,i),s="derived";else if(fcn(i))o=e=new G5(e,i),s="derived";else if(hcn(i))o=e=new q5(e,i),s="derived";else if(ocn(i))o=e=new W5(e,i),s="derived";else if(Jun(i))o=e=new Q5(e,i),s="derived";else if(rcn(i))e=new J5(e,i);else if(lcn(i))o=e=J1.makeFromTransform(e,i),s="derived";else if(Zun(i))o=e=new H5(e,i),s="derived";else if(ecn(i))o=e=new K5(e,i),s="derived";else if(tcn(i))o=e=new X5(e,i),s="derived";else if(ncn(i))o=e=new Y5(e,i),s="derived";else{st(Pon(i));continue}if(o&&s!==void 0)for(const a of o.producedFields()??[])n.set(a,s,!1)}return e}function Z5(e){var g;let t=vhn(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&(ny(i)||Wx(i)||vR(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new Tcn;ny(i)?(V9e(i)?t=new SP(t,i.sequence):ooe(i)&&(t=new xP(t,i.graticule)),o.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(o.parseNothing=!0),t=Pa.makeExplicit(t,e,o)??t,t=new Vy(t);const a=e.parent&&gT(e.parent);(Wi(e)||Ku(e))&&a&&(t=Kh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=bhn(t,e,o));const l=dfn(e),u=cfn(e);t=Pa.makeWithAncestors(t,{},{...l,...u},o)??t,Wi(e)&&(t=PE.parseAll(t,e),t=bR.parseAll(t,e)),(Wi(e)||Ku(e))&&(a||(t=Kh.makeFromEncoding(t,e)??t),t=Yh.makeFromEncoding(t,e)??t,t=Yx.parseAllForSortIndex(t,e));const c=t=IO(ds.Raw,e,t);if(Wi(e)){const y=pf.makeFromEncoding(t,e);y&&(t=y,doe(e)&&(t=new Vy(t))),t=J1.makeFromEncoding(t,e)??t,t=$m.makeFromEncoding(t,e)??t}let d,f;if(Wi(e)){const{markDef:y,mark:v,config:_}=e,w=Wr("invalid",y,_),{marks:E,scales:S}=f=q9e({invalid:w,isPath:Sv(v)});E!==S&&S==="include-invalid-values"&&(d=t=IO(ds.PreFilterInvalid,e,t)),E==="exclude-invalid-values"&&(t=Qx.make(t,e,f)??t)}const h=t=IO(ds.Main,e,t);let p;if(Wi(e)&&f){const{marks:y,scales:v}=f;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Qx.make(t,e,f)??t,p=t=IO(ds.PostFilterInvalid,e,t))}Wi(e)&&odn(e,h);let m=null;if(Ku(e)){const y=e.getName("facet");t=yhn(t,e.facet)??t,m=new pT(t,e,y,h.getSource()),n[y]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:m,ancestorParse:o,preFilterInvalid:d,postFilterInvalid:p}}function IO(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),o=new au(n,s,e,i);return r[s]=o,o}class _hn extends Eoe{constructor(t,n,r,i){var s,o,a,l;super(t,"concat",n,r,i,t.resolve),(((o=(s=t.resolve)==null?void 0:s.axis)==null?void 0:o.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&st(Ion),this.children=this.getChildren(t).map((u,c)=>Ioe(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=Z5(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of tt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return D5(t)?t.vconcat:roe(t)?t.hconcat:t.concat}parseLayoutSize(){phn(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=poe(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function whn(e){return e===!1||e===null}const Ehn={disable:1,gridScale:1,scale:1,...o9e,labelExpr:1,encode:1},e7e=tt(Ehn);class Soe extends Pg{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new Soe(mn(this.explicit),mn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!whn(this.get(t))}hasOrientSignalRef(){return Mt(this.explicit.orient)}}function xhn(e,t,n){const{encoding:r,config:i}=e,s=Qs(r[t])??Qs(r[Op(t)]),o=e.axis(t)||{},{format:a,formatType:l}=o;if(Fb(l))return{text:Zd({fieldOrDatumDef:s,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Vx(s)==="quantitative"){if(Hx(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Zd({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Zd({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Vx(s)==="temporal"&&i.timeFormatType&&ot(s)&&!s.timeUnit)return{text:Zd({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function Shn(e){return Rg.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Phn(n,e)]),t),{})}const Thn={bottom:"top",top:"bottom",left:"right",right:"left"};function Chn(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of tt(i.component.axes))n.axis[s]=moe(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=Ahn(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of Rg){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const o of s.component.axes[i]){const{value:a,explicit:l}=o.getWithExplicit("orient");if(!Mt(a)){if(r[a]>0&&!l){const u=Thn[a];r[a]>r[u]&&o.set("orient",u,!1)}r[a]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,o]of(t[i]||[]).entries())s>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function Ahn(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const o=i.getWithExplicit("orient"),a=s.getWithExplicit("orient");if(o.explicit&&a.explicit&&o.value!==a.value)return;e[r]=Ihn(i,s)}}}else return t.map(n=>n.clone());return e}function Ihn(e,t){for(const n of e7e){const r=By(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return uBe(i,s);case"gridScale":return{explicit:i.explicit,value:Cs(i.value,s.value)}}return $5(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function Rhn(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Mt(n.labelAngle)?n.labelAngle:gR(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===bze(r,i))return!0}return e===n[t]}const khn=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Phn(e,t){var y,v;let n=t.axis(e);const r=new Soe,i=Qs(t.encoding[e]),{mark:s,config:o}=t,a=(n==null?void 0:n.orient)||((y=o[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=o.axis)==null?void 0:v.orient)||gdn(e),l=t.getScaleComponent(e).get("type"),u=udn(e,l,a,t.config),c=n!==void 0?!n:aG("disable",o.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=hdn(i,n,e,o.style,u),f=WBe(n.formatType,i,l),h=qBe(i,i.type,n.format,n.formatType,o,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:s,config:o};for(const _ of e7e){const w=_ in v1e?v1e[_](p):Hve(_)?n[_]:void 0,E=w!==void 0,S=Rhn(w,_,n,t,e);if(E&&S)r.set(_,w,S);else{const{configValue:x=void 0,configFrom:T=void 0}=Hve(_)&&_!=="values"?aG(_,o.style,n.style,u):{},I=x!==void 0;E&&!I?r.set(_,w,S):(T!=="vgAxisConfig"||khn.has(_)&&I||wP(x)||Mt(x))&&r.set(_,x,!1)}}const m=n.encoding??{},g=s9e.reduce((_,w)=>{if(!r.hasAxisPart(w))return _;const E=Tze(m[w]??{},t),S=w==="labels"?xhn(t,e,E):E;return S!==void 0&&!ei(S)&&(_[w]={update:S}),_},{});return ei(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function Nhn({encoding:e,size:t}){for(const n of Rg){const r=vu(n);dp(t[r])&&N0(e[n])&&(delete t[r],st(pBe(r)))}return t}const Ohn={vgMark:"arc",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...zy(e,"radius"),...zy(e,"theta")})},Dhn={vgMark:"area",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...BL("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...BL("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...coe(e)})},Mhn={vgMark:"rect",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zy(e,"x"),...zy(e,"y")})},$hn={vgMark:"shape",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ot(n)&&n.type===dT?{field:ht(n,{expr:"datum"})}:{}}]}},Lhn={vgMark:"image",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...zy(e,"x"),...zy(e,"y"),...loe(e,"url")})},Fhn={vgMark:"line",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...go("size",e,{vgChannel:"strokeWidth"}),...coe(e)})},jhn={vgMark:"trail",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...go("size",e),...coe(e)})};function Toe(e,t){const{config:n}=e;return{..._d(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...go("size",e),...go("angle",e),...Bhn(e,n,t)}}function Bhn(e,t,n){return n?{shape:{value:n}}:go("shape",e)}const zhn={vgMark:"symbol",encodeEntry:e=>Toe(e)},Uhn={vgMark:"symbol",encodeEntry:e=>Toe(e,"circle")},Vhn={vgMark:"symbol",encodeEntry:e=>Toe(e,"square")},Hhn={vgMark:"rect",encodeEntry:e=>({..._d(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zy(e,"x"),...zy(e,"y")})},qhn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{..._d(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...BL("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...BL("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...go("size",e,{vgChannel:"strokeWidth"})}}},Whn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{..._d(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...loe(e),...go("size",e,{vgChannel:"fontSize"}),...go("angle",e),...p1e("align",Ghn(e.markDef,n,t)),...p1e("baseline",Yhn(e.markDef,n,t)),...ka("radius",e,{defaultPos:null}),...ka("theta",e,{defaultPos:null})}}};function Ghn(e,t,n){if(Wr("align",e,n)===void 0)return"center"}function Yhn(e,t,n){if(Wr("baseline",e,n)===void 0)return"middle"}const Khn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",s=r==="horizontal"?"height":"width";return{..._d(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid",vgChannel:"xc"}),...ka("y",e,{defaultPos:"mid",vgChannel:"yc"}),...go("size",e,{defaultValue:Xhn(e),vgChannel:i}),[s]:Ri(Wr("thickness",n,t))}}};function Xhn(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",s=e.getScaleComponent(r==="horizontal"?"x":"y"),o=Wr("size",n,t,{vgChannel:i})??t.tick.bandSize;if(o!==void 0)return o;{const a=s?s.get("range"):void 0;return a&&xv(a)&&xr(a.step)?a.step*3/4:FL(t.view,i)*3/4}}const RO={arc:Ohn,area:Dhn,bar:Mhn,circle:Uhn,geoshape:$hn,image:Lhn,line:Fhn,point:zhn,rect:Hhn,rule:qhn,square:Vhn,text:Whn,tick:Khn,trail:jhn};function Qhn(e){if(Kn([S5,E5,iln],e.mark)){const t=f9e(e.mark,e.encoding);if(t.length>0)return Jhn(e,t)}else if(e.mark===x5){const t=KW.some(n=>Wr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return Zhn(e)}return Coe(e)}const D1e="faceted_path_";function Jhn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:D1e+e.requestDataName(ds.Main),data:e.requestDataName(ds.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Coe(e,{fromPrefix:D1e})}]}const M1e="stack_group_";function Zhn(e){var u;const[t]=Coe(e,{fromPrefix:M1e}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,d)=>{const f=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${c}(${f.map(h=>`scale('${n}',${h})`).join(",")})`};let s,o;e.stack.fieldChannel==="x"?(s={...$x(t.encode.update,["y","yc","y2","height",...KW]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...ou(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...$x(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...ou(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of KW){const d=up(c,e.markDef,e.config);t.encode.update[c]?(s[c]=t.encode.update[c],delete t.encode.update[c]):d&&(s[c]=Ri(d)),d&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const d=e.fieldDef(c),f=ht(d);f&&a.push(f),(d!=null&&d.bin||d!=null&&d.timeUnit)&&a.push(ht(d,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,d)=>{if(t.encode.update[d])return{...c,[d]:t.encode.update[d]};{const f=up(d,e.markDef,e.config);return f!==void 0?{...c,[d]:Ri(f)}:c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ds.Main),name:M1e+e.requestDataName(ds.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function epn(e){const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,o=t.order;if(!(!We(o)&&Af(o)&&GW(o.value)||!o&&GW(Wr("order",i,s)))){if((We(o)||ot(o))&&!n)return oBe(o,{expr:"datum"});if(Sv(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(ot(l))return{field:a}}}}function Coe(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,o=Cs(r.clip,tpn(e),npn(e)),a=iBe(r),l=i.key,u=epn(e),c=rpn(e),d=Wr("aria",r,s),f=RO[n].postEncodingTransform?RO[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:RO[n].vgMark,...o?{clip:o}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(ds.Main)},encode:{update:RO[n].encodeEntry(e)},...f?{transform:f}:{}}]}function tpn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function npn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function rpn(e){if(!e.component.selection)return null;const t=tt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=tt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class t7e extends Xze{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,Wve(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const o=cp(t.mark)?{...t.mark}:{type:t.mark},a=o.type;o.filled===void 0&&(o.filled=zun(o,s,{graticule:t.data&&ooe(t.data)}));const l=this.encoding=qln(t.encoding||{},a,o.filled,s);this.markDef=O9e(o,l,s),this.size=Nhn({encoding:l,size:Wve(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=N9e(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>toe(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===LBe,r=t&&zsn.some(i=>En(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return _se.reduce((r,i)=>{const s=Qs(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=xa(t);return We(n)&&(i.domain=n.map(Lu)),We(r)&&(i.range=r.map(Lu)),i}initAxes(t){return Rg.reduce((n,r)=>{const i=t[r];if(En(i)||r===zi&&En(t.x2)||r===Co&&En(t.y2)){const s=En(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=tt(t),r={};for(const i of n){const s=t[i];r[i]=wP(s)?rBe(s):Lu(s)}return r}initLegends(t){return Qsn.reduce((n,r)=>{const i=Qs(t[r]);if(i&&Zsn(r)){const s=i.legend;n[r]=s&&xa(s)}return n},{})}parseData(){this.component.data=Z5(this)}parseLayoutSize(){mhn(this)}parseSelections(){this.component.selection=sdn(this,this.selection)}parseMarkGroup(){this.component.mark=Qhn(this)}parseAxesAndHeaders(){this.component.axes=Shn(this)}assembleSelectionTopLevelSignals(t){return Rcn(this,t)}assembleSignals(){return[...gze(this),...Acn(this,[])]}assembleSelectionData(t){return kcn(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return poe(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!gT(this.parent))&&(t=G9e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return X1(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return If(n)}typedFieldDef(t){const n=this.fieldDef(t);return bl(n)?n:null}}class Aoe extends Eoe{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(M5(a))return new Aoe(a,this,this.getName(`layer_${l}`),o,s);if(kg(a))return new t7e(a,this,this.getName(`layer_${l}`),o,s);throw new Error(Ese(a))})}parseData(){this.component.data=Z5(this);for(const t of this.children)t.parseData()}parseLayoutSize(){hhn(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of tt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Chn(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),gze(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),poe(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of wt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return Pcn(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),Oze(this))}}function Ioe(e,t,n,r,i){if(A5(e))return new TA(e,t,n,i);if(M5(e))return new Aoe(e,t,n,r,i);if(kg(e))return new t7e(e,t,n,r,i);if(mun(e))return new _hn(e,t,n,i);throw new Error(Ese(e))}function ipn(e,t={}){t.logger&&van(t.logger),t.fieldTitle&&n9e(t.fieldTitle);try{const n=P9e(JS(t.config,e.config)),r=B9e(e,n),i=Ioe(r,null,"",void 0,n);return i.parse(),Afn(i.component.data,i),{spec:opn(i,spn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&ban(),t.fieldTitle&&$ln()}}function spn(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Et(t)&&(t={type:t}),i&&s&&Ecn(t.type)){if(i==="step"&&s==="step")st(kve()),t.type="pad";else if(i==="step"||s==="step"){const o=i==="step"?"width":"height";st(kve(g5(o)));const a=o==="width"?"height":"width";t.type=xcn(a)}}return{...tt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...i1e(n,!1),...i1e(e,!0)}}function opn(e,t,n={},r){const i=e.config?Run(e.config):void 0,s=[].concat(e.assembleSelectionData([]),uhn(e.component.data,n)),o=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:d,...f}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...f,...a?{title:a}:{},...l?{style:l}:{},...u?{encode:{update:u}}:{},data:s,...o.length>0?{projections:o}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...A9e(d)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const apn=Msn.version,lpn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Fx,accessPathWithDatum:fse,compile:ipn,contains:Kn,deepEqual:qu,deleteNestedProperty:IL,duplicate:mn,entries:Ly,every:use,fieldIntersection:dse,flatAccessWithDatum:F8e,getFirstDefined:Cs,hasIntersection:cse,hash:tr,internalField:z8e,isBoolean:mR,isEmpty:ei,isEqual:Lsn,isInternalField:U8e,isNullOrFalse:GW,isNumeric:c5,keys:tt,logicalExpr:xA,mergeDeep:$8e,never:M8e,normalize:B9e,normalizeAngle:gR,omit:ou,pick:$x,prefixGenerator:YW,removePathFromField:uT,replaceAll:Ob,replacePathInField:ld,resetIdCounter:jsn,setEqual:L8e,some:Lx,stringify:ti,titleCase:dP,unique:Oh,uniqueId:B8e,vals:Ko,varName:Bi,version:apn},Symbol.toStringTag,{value:"Module"}));function n7e(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var upn="vega-themes",cpn="2.15.0",dpn="Themes for stylized Vega and Vega-Lite visualizations.",fpn=["vega","vega-lite","themes","style"],hpn="BSD-3-Clause",ppn={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},mpn=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],gpn="build/vega-themes.js",Roe="build/vega-themes.module.js",ypn="build/vega-themes.min.js",vpn="build/vega-themes.min.js",bpn="build/vega-themes.module.d.ts",_pn={type:"git",url:"https://github.com/vega/vega-themes.git"},wpn=["src","build"],Epn={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},xpn={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},Spn={vega:"*","vega-lite":"*"},Tpn={},Cpn={name:upn,version:cpn,description:dpn,keywords:fpn,license:hpn,author:ppn,contributors:mpn,main:gpn,module:Roe,unpkg:ypn,jsdelivr:vpn,types:bpn,repository:_pn,files:wpn,scripts:Epn,devDependencies:xpn,peerDependencies:Spn,dependencies:Tpn};const iw="#fff",$1e="#888",Apn={background:"#333",view:{stroke:$1e},title:{color:iw,subtitleColor:iw},style:{"guide-label":{fill:iw},"guide-title":{fill:iw}},axis:{domainColor:iw,gridColor:$1e,tickColor:iw}},Bv="#4572a7",Ipn={background:"#fff",arc:{fill:Bv},area:{fill:Bv},line:{stroke:Bv,strokeWidth:2},path:{stroke:Bv},rect:{fill:Bv},shape:{stroke:Bv},symbol:{fill:Bv,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},zv="#30a2da",h7="#cbcbcb",Rpn="#999",kpn="#333",L1e="#f0f0f0",F1e="#333",Ppn={arc:{fill:zv},area:{fill:zv},axis:{domainColor:h7,grid:!0,gridColor:h7,gridWidth:1,labelColor:Rpn,labelFontSize:10,titleColor:kpn,tickColor:h7,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:L1e,group:{fill:L1e},legend:{labelColor:F1e,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:F1e,titleFontSize:14,titlePadding:10},line:{stroke:zv,strokeWidth:2},path:{stroke:zv,strokeWidth:.5},rect:{fill:zv},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:zv},bar:{binSpacing:2,fill:zv,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Uv="#000",Npn={group:{fill:"#e5e5e5"},arc:{fill:Uv},area:{fill:Uv},line:{stroke:Uv},path:{stroke:Uv},rect:{fill:Uv},shape:{stroke:Uv},symbol:{fill:Uv,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Opn=22,Dpn="normal",j1e="Benton Gothic, sans-serif",B1e=11.5,Mpn="normal",Vv="#82c6df",p7="Benton Gothic Bold, sans-serif",z1e="normal",U1e=13,wC={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},$pn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:p7,fontSize:Opn,fontWeight:Dpn},arc:{fill:Vv},area:{fill:Vv},line:{stroke:Vv,strokeWidth:2},path:{stroke:Vv},rect:{fill:Vv},shape:{stroke:Vv},symbol:{fill:Vv,size:30},axis:{labelFont:j1e,labelFontSize:B1e,labelFontWeight:Mpn,titleFont:p7,titleFontSize:U1e,titleFontWeight:z1e},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:j1e,labelFontSize:B1e,symbolType:"square",titleFont:p7,titleFontSize:U1e,titleFontWeight:z1e},range:{category:wC["category-6"],diverging:wC["fireandice-6"],heatmap:wC["fire-7"],ordinal:wC["fire-7"],ramp:wC["fire-7"]}},Hv="#ab5787",kO="#979797",Lpn={background:"#f9f9f9",arc:{fill:Hv},area:{fill:Hv},line:{stroke:Hv},path:{stroke:Hv},rect:{fill:Hv},shape:{stroke:Hv},symbol:{fill:Hv,size:30},axis:{domainColor:kO,domainWidth:.5,gridWidth:.2,labelColor:kO,tickColor:kO,tickWidth:.2,titleColor:kO},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},qv="#3e5c69",Fpn={background:"#fff",arc:{fill:qv},area:{fill:qv},line:{stroke:qv},path:{stroke:qv},rect:{fill:qv},shape:{stroke:qv},symbol:{fill:qv},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},wc="#1696d2",V1e="#000000",jpn="#FFFFFF",PO="Lato",m7="Lato",Bpn="Lato",zpn="#DEDDDD",Upn=18,EC={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Vpn={background:jpn,title:{anchor:"start",fontSize:Upn,font:PO},axisX:{domain:!0,domainColor:V1e,domainWidth:1,grid:!1,labelFontSize:12,labelFont:m7,labelAngle:0,tickColor:V1e,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:PO},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:zpn,gridWidth:1,labelFontSize:12,labelFont:m7,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:PO,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:m7,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:PO,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:EC["six-groups-cat-1"],diverging:EC["diverging-colors"],heatmap:EC["diverging-colors"],ordinal:EC["six-groups-seq"],ramp:EC["shades-blue"]},area:{fill:wc},rect:{fill:wc},line:{color:wc,stroke:wc,strokeWidth:5},trail:{color:wc,stroke:wc,strokeWidth:0,size:1},path:{stroke:wc,strokeWidth:.5},point:{filled:!0},text:{font:Bpn,color:wc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:wc,stroke:null}},arc:{fill:wc},shape:{stroke:wc},symbol:{fill:wc,size:30}},Wv="#3366CC",H1e="#ccc",NO="Arial, sans-serif",Hpn={arc:{fill:Wv},area:{fill:Wv},path:{stroke:Wv},rect:{fill:Wv},shape:{stroke:Wv},symbol:{stroke:Wv},circle:{fill:Wv},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:NO,fontSize:12},"guide-title":{font:NO,fontSize:12},"group-title":{font:NO,fontSize:12}},title:{font:NO,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:H1e,tickColor:H1e,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},koe=e=>e*(1/3+1),q1e=koe(9),W1e=koe(10),G1e=koe(12),xC="Segoe UI",Y1e="wf_standard-font, helvetica, arial, sans-serif",K1e="#252423",SC="#605E5C",X1e="transparent",qpn="#C8C6C4",Nd="#118DFF",Wpn="#12239E",Gpn="#E66C37",Ypn="#6B007B",Kpn="#E044A7",Xpn="#744EC2",Qpn="#D9B300",Jpn="#D64550",r7e=Nd,i7e="#DEEFFF",Q1e=[i7e,r7e],Zpn=[i7e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",r7e],emn={view:{stroke:X1e},background:X1e,font:xC,header:{titleFont:Y1e,titleFontSize:G1e,titleColor:K1e,labelFont:xC,labelFontSize:W1e,labelColor:SC},axis:{ticks:!1,grid:!1,domain:!1,labelColor:SC,labelFontSize:q1e,titleFont:Y1e,titleColor:K1e,titleFontSize:G1e,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:qpn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Nd},line:{stroke:Nd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:xC,fontSize:q1e,fill:SC},arc:{fill:Nd},area:{fill:Nd,line:!0,opacity:.6},path:{stroke:Nd},rect:{fill:Nd},point:{fill:Nd,filled:!0,size:75},shape:{stroke:Nd},symbol:{fill:Nd,strokeWidth:1.5,size:50},legend:{titleFont:xC,titleFontWeight:"bold",titleColor:SC,labelFont:xC,labelFontSize:W1e,labelColor:SC,symbolType:"circle",symbolSize:75},range:{category:[Nd,Wpn,Gpn,Ypn,Kpn,Xpn,Qpn,Jpn],diverging:Q1e,heatmap:Q1e,ordinal:Zpn}},g7='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',tmn='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',y7=400,OO={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},nmn=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],rmn=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function e8({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=OO.gridBg[e],i=OO.textPrimary[e],s=OO.textSecondary[e],o=n==="dark"?nmn:rmn,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:g7,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:tmn,labelFontWeight:y7,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:OO.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:g7,fill:s,fontWeight:y7},"guide-title":{font:g7,fill:s,fontWeight:y7}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const imn=e8({theme:"white",background:"#ffffff"}),smn=e8({theme:"g10",background:"#f4f4f4"}),omn=e8({theme:"g90",background:"#262626"}),amn=e8({theme:"g100",background:"#161616"}),lmn=Cpn.version,umn=Object.freeze(Object.defineProperty({__proto__:null,carbong10:smn,carbong100:amn,carbong90:omn,carbonwhite:imn,dark:Apn,excel:Ipn,fivethirtyeight:Ppn,ggplot2:Npn,googlecharts:Hpn,latimes:$pn,powerbi:emn,quartz:Lpn,urbaninstitute:Vpn,version:lmn,vox:Fpn},Symbol.toStringTag,{value:"Module"}));function cmn(e,t,n,r){if(We(e))return`[${e.map(i=>t(Et(i)?i:J1e(i,n))).join(", ")}]`;if(bt(e)){let i="";const{title:s,image:o,...a}=e;s&&(i+=`<h2>${t(s)}</h2>`),o&&(i+=`<img src="${new URL(t(o),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(bt(c)&&(c=J1e(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function dmn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function J1e(e,t){return JSON.stringify(e,dmn(t))}var fmn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const s7e="vg-tooltip-element",hmn={offsetX:10,offsetY:10,id:s7e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:pmn,maxDepth:2,formatTooltip:cmn,baseURL:""};function pmn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function mmn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return fmn.toString().replace(s7e,e)}function gmn(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class ymn{constructor(t){this.options={...hmn,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=mmn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:o}=gmn(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${o}px`,this.el.style.left=`${s}px`}}var v7={};function vmn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class bmn{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var _mn=bmn;const wmn=Object.freeze({loose:!0}),Emn=Object.freeze({}),xmn=e=>e?typeof e!="object"?wmn:e:Emn;var Poe=xmn,yG={exports:{}};const Smn="2.0.0",o7e=256,Tmn=Number.MAX_SAFE_INTEGER||9007199254740991,Cmn=16,Amn=o7e-6,Imn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Noe={MAX_LENGTH:o7e,MAX_SAFE_COMPONENT_LENGTH:Cmn,MAX_SAFE_BUILD_LENGTH:Amn,MAX_SAFE_INTEGER:Tmn,RELEASE_TYPES:Imn,SEMVER_SPEC_VERSION:Smn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Rmn=typeof process=="object"&&v7&&v7.NODE_DEBUG&&/\bsemver\b/i.test(v7.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var t8=Rmn;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Noe,s=t8;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],h=m=>{for(const[g,y]of f)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=h(g),_=c++;s(m,_,g),u[m]=_,l[_]=g,o[_]=new RegExp(g,y?"g":void 0),a[_]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(yG,yG.exports);var Ooe=yG.exports;const Z1e=/^[0-9]+$/,a7e=(e,t)=>{const n=Z1e.test(e),r=Z1e.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},kmn=(e,t)=>a7e(t,e);var Pmn={compareIdentifiers:a7e,rcompareIdentifiers:kmn};const DO=t8,{MAX_LENGTH:ebe,MAX_SAFE_INTEGER:MO}=Noe,{safeRe:tbe,t:nbe}=Ooe,Nmn=Poe,{compareIdentifiers:sw}=Pmn;let Omn=class rh{constructor(t,n){if(n=Nmn(n),t instanceof rh){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ebe)throw new TypeError(`version is longer than ${ebe} characters`);DO("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?tbe[nbe.LOOSE]:tbe[nbe.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>MO||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MO||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MO||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<MO)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(DO("SemVer.compare",this.version,this.options,t),!(t instanceof rh)){if(typeof t=="string"&&t===this.version)return 0;t=new rh(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof rh||(t=new rh(t,this.options)),sw(this.major,t.major)||sw(this.minor,t.minor)||sw(this.patch,t.patch)}comparePre(t){if(t instanceof rh||(t=new rh(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(DO("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return sw(r,i)}while(++n)}compareBuild(t){t instanceof rh||(t=new rh(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(DO("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return sw(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),sw(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Doe=Omn;const rbe=Doe,Dmn=(e,t,n)=>new rbe(e,n).compare(new rbe(t,n));var yT=Dmn;const Mmn=yT,$mn=(e,t,n)=>Mmn(e,t,n)===0;var Lmn=$mn;const Fmn=yT,jmn=(e,t,n)=>Fmn(e,t,n)!==0;var Bmn=jmn;const zmn=yT,Umn=(e,t,n)=>zmn(e,t,n)>0;var Vmn=Umn;const Hmn=yT,qmn=(e,t,n)=>Hmn(e,t,n)>=0;var Wmn=qmn;const Gmn=yT,Ymn=(e,t,n)=>Gmn(e,t,n)<0;var Kmn=Ymn;const Xmn=yT,Qmn=(e,t,n)=>Xmn(e,t,n)<=0;var Jmn=Qmn;const Zmn=Lmn,egn=Bmn,tgn=Vmn,ngn=Wmn,rgn=Kmn,ign=Jmn,sgn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return Zmn(e,n,r);case"!=":return egn(e,n,r);case">":return tgn(e,n,r);case">=":return ngn(e,n,r);case"<":return rgn(e,n,r);case"<=":return ign(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var ogn=sgn,b7,ibe;function agn(){if(ibe)return b7;ibe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}b7=t;const n=Poe,{safeRe:r,t:i}=Ooe,s=ogn,o=t8,a=Doe,l=l7e();return b7}var _7,sbe;function l7e(){if(sbe)return _7;sbe=1;class e{constructor(M,$){if($=r($),M instanceof e)return M.loose===!!$.loose&&M.includePrerelease===!!$.includePrerelease?M:new e(M.raw,$);if(M instanceof i)return this.raw=M.value,this.set=[[M]],this.format(),this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=M.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(L=>this.parseRange(L.trim())).filter(L=>L.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const L=this.set[0];if(this.set=this.set.filter(B=>!p(B[0])),this.set.length===0)this.set=[L];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&m(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(M=>M.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(M){const L=((this.options.includePrerelease&&f)|(this.options.loose&&h))+":"+M,B=n.get(L);if(B)return B;const z=this.options.loose,U=z?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];M=M.replace(U,k(this.options.includePrerelease)),s("hyphen replace",M),M=M.replace(a[l.COMPARATORTRIM],u),s("comparator trim",M),M=M.replace(a[l.TILDETRIM],c),s("tilde trim",M),M=M.replace(a[l.CARETTRIM],d),s("caret trim",M);let N=M.split(" ").map(H=>y(H,this.options)).join(" ").split(/\s+/).map(H=>P(H,this.options));z&&(N=N.filter(H=>(s("loose invalid filter",H,this.options),!!H.match(a[l.COMPARATORLOOSE])))),s("range list",N);const V=new Map,W=N.map(H=>new i(H,this.options));for(const H of W){if(p(H))return[H];V.set(H.value,H)}V.size>1&&V.has("")&&V.delete("");const F=[...V.values()];return n.set(L,F),F}intersects(M,$){if(!(M instanceof e))throw new TypeError("a Range is required");return this.set.some(L=>g(L,$)&&M.set.some(B=>g(B,$)&&L.every(z=>B.every(U=>z.intersects(U,$)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new o(M,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(D(this.set[$],M,this.options))return!0;return!1}}_7=e;const t=_mn,n=new t,r=Poe,i=agn(),s=t8,o=Doe,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:d}=Ooe,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:h}=Noe,p=R=>R.value==="<0.0.0-0",m=R=>R.value==="",g=(R,M)=>{let $=!0;const L=R.slice();let B=L.pop();for(;$&&L.length;)$=L.every(z=>B.intersects(z,M)),B=L.pop();return $},y=(R,M)=>(s("comp",R,M),R=E(R,M),s("caret",R),R=_(R,M),s("tildes",R),R=x(R,M),s("xrange",R),R=I(R,M),s("stars",R),R),v=R=>!R||R.toLowerCase()==="x"||R==="*",_=(R,M)=>R.trim().split(/\s+/).map($=>w($,M)).join(" "),w=(R,M)=>{const $=M.loose?a[l.TILDELOOSE]:a[l.TILDE];return R.replace($,(L,B,z,U,N)=>{s("tilde",R,L,B,z,U,N);let V;return v(B)?V="":v(z)?V=`>=${B}.0.0 <${+B+1}.0.0-0`:v(U)?V=`>=${B}.${z}.0 <${B}.${+z+1}.0-0`:N?(s("replaceTilde pr",N),V=`>=${B}.${z}.${U}-${N} <${B}.${+z+1}.0-0`):V=`>=${B}.${z}.${U} <${B}.${+z+1}.0-0`,s("tilde return",V),V})},E=(R,M)=>R.trim().split(/\s+/).map($=>S($,M)).join(" "),S=(R,M)=>{s("caret",R,M);const $=M.loose?a[l.CARETLOOSE]:a[l.CARET],L=M.includePrerelease?"-0":"";return R.replace($,(B,z,U,N,V)=>{s("caret",R,B,z,U,N,V);let W;return v(z)?W="":v(U)?W=`>=${z}.0.0${L} <${+z+1}.0.0-0`:v(N)?z==="0"?W=`>=${z}.${U}.0${L} <${z}.${+U+1}.0-0`:W=`>=${z}.${U}.0${L} <${+z+1}.0.0-0`:V?(s("replaceCaret pr",V),z==="0"?U==="0"?W=`>=${z}.${U}.${N}-${V} <${z}.${U}.${+N+1}-0`:W=`>=${z}.${U}.${N}-${V} <${z}.${+U+1}.0-0`:W=`>=${z}.${U}.${N}-${V} <${+z+1}.0.0-0`):(s("no pr"),z==="0"?U==="0"?W=`>=${z}.${U}.${N}${L} <${z}.${U}.${+N+1}-0`:W=`>=${z}.${U}.${N}${L} <${z}.${+U+1}.0-0`:W=`>=${z}.${U}.${N} <${+z+1}.0.0-0`),s("caret return",W),W})},x=(R,M)=>(s("replaceXRanges",R,M),R.split(/\s+/).map($=>T($,M)).join(" ")),T=(R,M)=>{R=R.trim();const $=M.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return R.replace($,(L,B,z,U,N,V)=>{s("xRange",R,L,B,z,U,N,V);const W=v(z),F=W||v(U),H=F||v(N),G=H;return B==="="&&G&&(B=""),V=M.includePrerelease?"-0":"",W?B===">"||B==="<"?L="<0.0.0-0":L="*":B&&G?(F&&(U=0),N=0,B===">"?(B=">=",F?(z=+z+1,U=0,N=0):(U=+U+1,N=0)):B==="<="&&(B="<",F?z=+z+1:U=+U+1),B==="<"&&(V="-0"),L=`${B+z}.${U}.${N}${V}`):F?L=`>=${z}.0.0${V} <${+z+1}.0.0-0`:H&&(L=`>=${z}.${U}.0${V} <${z}.${+U+1}.0-0`),s("xRange return",L),L})},I=(R,M)=>(s("replaceStars",R,M),R.trim().replace(a[l.STAR],"")),P=(R,M)=>(s("replaceGTE0",R,M),R.trim().replace(a[M.includePrerelease?l.GTE0PRE:l.GTE0],"")),k=R=>(M,$,L,B,z,U,N,V,W,F,H,G)=>(v(L)?$="":v(B)?$=`>=${L}.0.0${R?"-0":""}`:v(z)?$=`>=${L}.${B}.0${R?"-0":""}`:U?$=`>=${$}`:$=`>=${$}${R?"-0":""}`,v(W)?V="":v(F)?V=`<${+W+1}.0.0-0`:v(H)?V=`<${W}.${+F+1}.0-0`:G?V=`<=${W}.${F}.${H}-${G}`:R?V=`<${W}.${F}.${+H+1}-0`:V=`<=${V}`,`${$} ${V}`.trim()),D=(R,M,$)=>{for(let L=0;L<R.length;L++)if(!R[L].test(M))return!1;if(M.prerelease.length&&!$.includePrerelease){for(let L=0;L<R.length;L++)if(s(R[L].semver),R[L].semver!==i.ANY&&R[L].semver.prerelease.length>0){const B=R[L].semver;if(B.major===M.major&&B.minor===M.minor&&B.patch===M.patch)return!0}return!1}return!0};return _7}const lgn=l7e(),ugn=(e,t,n)=>{try{t=new lgn(t,n)}catch{return!1}return t.test(e)};var cgn=ugn,u7e=vmn(cgn);function dgn(e,t,n){const r=e.open(t),i=1e4,s=250,{origin:o}=new URL(t);let a=~~(i/s);function l(c){c.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(r.postMessage(n,o),setTimeout(u,s),a-=1)}setTimeout(u,s)}var fgn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function c7e(e,...t){for(const n of t)hgn(e,n);return e}function hgn(e,t){for(const n of Object.keys(t))ZS(e,n,t[n],!0)}const Dd=tsn;let wR=lpn;const $O=typeof window<"u"?window:void 0;var cbe;wR===void 0&&((cbe=$O==null?void 0:$O.vl)!=null&&cbe.compile)&&(wR=$O.vl);const pgn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},mgn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},E2={vega:"Vega","vega-lite":"Vega-Lite"},HL={vega:Dd.version,"vega-lite":wR?wR.version:"not available"},ggn={vega:e=>e,"vega-lite":(e,t)=>wR.compile(e,{config:t}).spec},ygn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,vgn="chart-wrapper";function bgn(e){return typeof e=="function"}function obe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${E2[r]} JSON Source`}function _gn(e,t){if(e.$schema){const n=n7e(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${E2[n.library]}, but mode argument sets ${E2[t]??t}.`);const r=n.library;return u7e(HL[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${E2[r]} ${n.version}, but the current version of ${E2[r]} is v${HL[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function d7e(e){return!!(e&&"load"in e)}function abe(e){return d7e(e)?e:Dd.loader(e)}function wgn(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Et(t.defaultStyle)&&(t.defaultStyle=!1),t}async function Egn(e,t,n={}){let r,i;Et(t)?(i=abe(n.loader),r=JSON.parse(await i.load(t))):r=t;const s=wgn(r),o=s.loader;(!i||o)&&(i=abe(n.loader??o));const a=await lbe(s,i),l=await lbe(n,i),u={...c7e(l,a),config:JS(l.config??{},a.config??{})};return await Sgn(e,r,u,i)}async function lbe(e,t){const n=Et(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Et(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function xgn(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function Sgn(e,t,n={},r){const i=n.theme?JS(umn[n.theme],n.config??{}):n.config,s=pv(n.actions)?n.actions:c7e({},pgn,n.actions??{}),o={...mgn,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Dd.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:S,rootContainer:x}=xgn(c);if(!S.getElementById(E)){const T=document.createElement("style");T.id=E,T.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?fgn.toString():n.defaultStyle,x.appendChild(T)}}const d=_gn(t,n.mode);let f=ggn[d](t,i);if(d==="vega-lite"&&f.$schema){const E=n7e(f.$schema);u7e(HL.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${HL.vega}.`)}c.classList.add("vega-embed"),s&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(s){const E=document.createElement("div");E.classList.add(vgn),c.appendChild(E),h=E}const p=n.patch;if(p&&(f=p instanceof Function?p(f):mj(f,p,!0,!1).newDocument),n.formatLocale&&Dd.formatLocale(n.formatLocale),n.timeFormatLocale&&Dd.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const E in n.expressionFunctions){const S=n.expressionFunctions[E];"fn"in S?Dd.expressionFunction(E,S.fn,S.visitor):S instanceof Function&&Dd.expressionFunction(E,S)}const{ast:m}=n,g=Dd.parse(f,d==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||Dd.View)(g,{loader:r,logLevel:l,renderer:a,...m?{expr:Dd.expressionInterpreter??n.expr??dsn}:{}});if(y.addSignalListener("autosize",(E,S)=>{const{type:x}=S;x=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):x=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):x=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:E,tooltip:S}=n,x=E&&!d7e(E)?E==null?void 0:E.baseURL:void 0,T=bgn(S)?S:new ymn({baseURL:x,...S===!0?{}:S}).call;y.tooltip(T)}let{hover:v}=n;if(v===void 0&&(v=d==="vega"),v){const{hoverSet:E,updateSet:S}=typeof v=="boolean"?{}:v;y.hover(E,S)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let _;if(s!==!1){let E=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const x=document.createElement("details");x.title=o.CLICK_TO_VIEW_ACTIONS,c.append(x),E=x;const T=document.createElement("summary");T.innerHTML=ygn,x.append(T),_=I=>{x.contains(I.target)||x.removeAttribute("open")},document.addEventListener("click",_)}const S=document.createElement("div");if(E.append(S),S.classList.add("vega-actions"),s===!0||s.export!==!1){for(const x of["svg","png"])if(s===!0||s.export===!0||s.export[x]){const T=o[`${x.toUpperCase()}_ACTION`],I=document.createElement("a"),P=bt(n.scaleFactor)?n.scaleFactor[x]:n.scaleFactor;I.text=T,I.href="#",I.target="_blank",I.download=`${u}.${x}`,I.addEventListener("mousedown",async function(k){k.preventDefault();const D=await y.toImageURL(x,P);this.href=D}),S.append(I)}}if(s===!0||s.source!==!1){const x=document.createElement("a");x.text=o.SOURCE_ACTION,x.href="#",x.addEventListener("click",function(T){obe(Sz(t),n.sourceHeader??"",n.sourceFooter??"",d),T.preventDefault()}),S.append(x)}if(d==="vega-lite"&&(s===!0||s.compiled!==!1)){const x=document.createElement("a");x.text=o.COMPILED_ACTION,x.href="#",x.addEventListener("click",function(T){obe(Sz(f),n.sourceHeader??"",n.sourceFooter??"","vega"),T.preventDefault()}),S.append(x)}if(s===!0||s.editor!==!1){const x=n.editorUrl??"https://vega.github.io/editor/",T=document.createElement("a");T.text=o.EDITOR_ACTION,T.href="#",T.addEventListener("click",function(I){dgn(window,x,{config:i,mode:p?"vega":d,renderer:a,spec:Sz(p?f:t)}),I.preventDefault()}),S.append(T)}}function w(){_&&document.removeEventListener("click",_),y.finalize()}return{view:y,spec:t,vgSpec:f,finalize:w,embedOptions:n}}function Tgn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function Cgn(e,t,n){n&&(Tgn(n)?n(e.data(t)):e.change(t,Dd.changeset().remove(()=>!0).insert(n)))}function Agn(e,t){Object.keys(t).forEach(n=>{Cgn(e,n,t[n])})}function f7e(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const h7e=()=>{};function w7(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function Ign(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=f7e([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!iD(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function ube(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function E7(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function x2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p7e extends us.PureComponent{constructor(){super(...arguments),x2(this,"containerRef",us.createRef()),x2(this,"resultPromise",void 0),x2(this,"handleError",t=>{const{onError:n=h7e}=this.props;n(t,this.containerRef.current),console.warn(t)}),x2(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=f7e([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=Ign(E7(this.props),E7(t)),{signalListeners:i}=this.props,{signalListeners:s}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const o=!Uq(i,s);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),o&&(s&&ube(a,s),i&&w7(a,i)),a.run()})}else Uq(i,s)||this.modifyView(o=>{s&&ube(o,s),i&&w7(o,i),o.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:s,...o}=this.props;if(this.containerRef.current){const a=E7(this.props);this.resultPromise=Egn(this.containerRef.current,a,o).then(l=>{if(l){const{view:u}=l;w7(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return us.createElement("div",{ref:this.containerRef,className:t,style:n})}}x2(p7e,"propTypes",{className:v0e.string,onError:v0e.func});function vG(){return vG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vG.apply(this,arguments)}function bG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rgn={};class m7e extends us.PureComponent{constructor(){super(...arguments),bG(this,"vegaEmbed",us.createRef()),bG(this,"handleNewView",t=>{this.update();const{onNewView:n=h7e}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){Uq(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{Agn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return us.createElement(p7e,vG({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}bG(m7e,"defaultProps",{data:Rgn});function _G(){return _G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_G.apply(this,arguments)}function kgn(e){return us.createElement(m7e,_G({},e,{mode:"vega-lite"}))}function Pgn(e,t){const n=Object.values(e).map(r=>[r.startTime,r.endTime]).flat();return t[0]===null||t[1]===null?!1:Math.min(...n)>=t[0].getTime()&&Math.max(...n)<=t[1].getTime()}function Ngn(e){const{studyId:t,allParticipants:n,config:r}=e,i=pd(),[s,o]=nf(),a=n.filter(_=>_.completed).map(_=>Math.max(...Object.values(_.answers).map(w=>w.endTime).filter(w=>w!==void 0))).filter(_=>Number.isFinite(_)),[l,u]=A.useState([new Date(new Date(Math.min(...a.length>0?a:[new Date().getTime()])).setHours(0,0,0,0)),new Date(new Date(Math.max(...a.length>0?a:[new Date().getTime()])).setHours(24,0,0,0))]),[c,d,f,h]=A.useMemo(()=>{const _=n.filter(S=>!S.rejected&&S.completed),w=n.filter(S=>!S.rejected&&!S.completed),E=n.filter(S=>S.rejected);return[_,w,E,_.filter(S=>Pgn(S.answers,l))]},[n,l]),p=A.useMemo(()=>{var _,w;return h.length>0?[{Date:(_=l[0])==null?void 0:_.getTime(),Participants:0},...h.map(E=>Math.max(...Object.values(E.answers).map(S=>S.endTime).flat())).sort((E,S)=>E-S).map((E,S)=>({Date:E,Participants:S})),{Date:(w=l[1])==null?void 0:w.getTime(),Participants:h.length}]:[]},[h,l]),m=A.useMemo(()=>{var _,w;return{width:o.width-40-8,height:200,mark:{type:"line",interpolate:"step-before"},encoding:{x:{field:"Date",type:"temporal",scale:{domain:[(_=l[0])==null?void 0:_.getTime(),(w=l[1])==null?void 0:w.getTime()]}},y:{field:"Participants",type:"quantitative"}},data:{values:p}}},[o.width,l,p]),[g,{close:y,open:v}]=M2(!1);return b.jsx(Nf,{children:b.jsxs(Yb,{ref:s,padding:"lg",shadow:"md",withBorder:!0,children:[b.jsxs(It,{align:"center",mb:"xs",justify:"space-between",children:[b.jsxs(It,{direction:"row",align:"center",children:[b.jsx(Ti,{order:5,children:t}),b.jsx(O3e,{completed:c.length,inProgress:d.length,rejected:f.length,filteredCompleted:h.length})]}),b.jsxs(Rn,{children:[b.jsx(N3e,{allParticipants:n,studyId:t}),b.jsxs($n,{opened:g,children:[b.jsx($n.Target,{children:b.jsx(hn,{onClick:()=>i(`/analysis/stats/${t}`),onMouseEnter:v,onMouseLeave:y,px:4,children:b.jsx(ztt,{})})}),b.jsx($n.Dropdown,{children:b.jsx(nt,{children:"Analyze and manage study data"})})]})]})]}),b.jsx(Ute,{type:"range",label:"Time Filter",placeholder:"Select a date range",value:l,onChange:u}),p.length>0?b.jsxs(b.Fragment,{children:[b.jsx(nt,{mt:16,children:"Finished Participants"}),b.jsx(kgn,{spec:m,actions:!1})]}):b.jsx(be,{h:293.4,children:b.jsx(dl,{style:{height:"100%"},children:b.jsx(nt,{children:"Not enough participants for chart"})})})]})})}function Ogn(e){const{globalConfig:t}=e,[n,r]=A.useState(!1),[i,s]=A.useState({}),[o,a]=A.useState({}),[l,u]=A.useState({}),{storageEngine:c}=Pi(),{user:d}=Tp();A.useEffect(()=>{(async()=>{r(!0);const p={},m={},g={},y=async _=>{const w=await J4(_,t);if(c){if(p[_]=await c.getAllParticipantsDataByStudy(_),w===null)return;if(m[_]=w,c instanceof Pc){const E=await c.getModes(_);g[_]=E.analyticsInterfacePubliclyAccessible}}};await(async()=>{const _=t.configsList.map(w=>y(w));try{await Promise.all(_),s(p),a(m),u(g)}catch(w){console.error("Error fetching data:",w)}finally{r(!1)}})()})()},[t,c]);const f=t.configsList.map(h=>i[h]&&(l[h]||d.isAdmin?b.jsx(Fc.Col,{span:{md:12,xl:6},children:b.jsx(Ngn,{studyId:h,allParticipants:i[h],config:o[h]})},`${h}-panel`):null));return b.jsxs(be,{children:[b.jsx(Ti,{mb:20,order:4,children:"Your Studies:"}),b.jsxs(Fc,{children:[f.length>0?f:b.jsx(Nf,{mt:100,children:b.jsx(nt,{children:"No studies to show. If you believe that this is in error, make sure that you are logged in."})}),b.jsx(uu,{visible:n})]})]})}function Dgn({globalConfig:e}){return b.jsxs(Hr,{children:[b.jsx(mA,{studyIds:e.configsList}),b.jsx(Hr.Main,{children:b.jsx(Nf,{fluid:!0,children:b.jsx(Ogn,{globalConfig:e})})})]})}function Mgn(){const{user:e,triggerAuth:t}=Tp(),{storageEngine:n}=Pi(),[r,i]=A.useState(!1),[s,o]=A.useState([]),[a,l]=A.useState(!1),[u,c]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(!1),[m,g]=A.useState(""),[y,v]=A.useState(null),_=G2e({initialValues:{email:""},validate:{email:Eyt("Invalid email")}});A.useEffect(()=>{(async()=>{if(l(!0),n instanceof Pc){const k=await(n==null?void 0:n.getUserManagementData("authentication"));i(k==null?void 0:k.isEnabled);const D=await(n==null?void 0:n.getUserManagementData("adminUsers"));D&&D.adminUsersList&&o(D==null?void 0:D.adminUsersList.map(R=>R.email))}else i(!1);l(!1)})()},[n]);const w=async()=>{if(l(!0),n instanceof Pc){const P=await KLe(n,l);P&&P.email&&v({email:P.email,uid:P.uid}),p(!0)}l(!1)},E=async P=>{l(!0),n instanceof Pc&&P&&(await n.changeAuth(!0),await n.addAdminUser(P),o([P.email]),i(!0),t()),p(!1),l(!1)},S=async()=>{if(l(!0),n instanceof Pc){await n.addAdminUser({email:_.values.email,uid:null});const P=await n.getUserManagementData("adminUsers");o(P==null?void 0:P.adminUsersList.map(k=>k.email))}l(!1),c(!1),_.setValues({email:""})},x=P=>{f(!0),g(P)},T=async()=>{if(l(!0),n instanceof Pc){await n.removeAdminUser(m);const P=await n.getUserManagementData("adminUsers");o(P==null?void 0:P.adminUsersList.map(k=>k.email))}f(!1),l(!1)},I=A.useMemo(()=>n instanceof Pc,[n]);return b.jsxs(b.Fragment,{children:[b.jsx(Nf,{children:b.jsxs(Yb,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[b.jsx(Ti,{mb:20,order:3,children:"Authentication"}),r?b.jsx(It,{children:b.jsx(nt,{children:"Authentication is enabled."})}):b.jsxs(It,{justify:"space-between",children:[b.jsx(be,{children:b.jsx(nt,{children:"Authentication is currently disabled."})}),b.jsx(dn,{label:"You can only enable auth when using Firebase",disabled:I,children:b.jsx(hn,{onClick:P=>I?w():P.preventDefault(),color:"green","data-disabled":I?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),r?b.jsxs(It,{mt:40,direction:"column",children:[b.jsxs(It,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[b.jsx(Ti,{order:6,children:"Enabled Users"}),b.jsx(kSe,{style:{cursor:"pointer"},onClick:()=>c(!0)})]}),s.length>0?s.map(P=>{var k;return b.jsxs(It,{justify:"space-between",mb:10,children:[b.jsx(nt,{children:P}),P===((k=e.user)==null?void 0:k.email)?b.jsx(nt,{color:"blue",size:"xs",children:"You"}):b.jsx(Fn,{variant:"subtle",onClick:()=>x(P),children:b.jsx(RSe,{color:"red"})})]},P)}):null]}):null]})}),b.jsx(Ss,{opened:u,onClose:()=>c(!1),title:"Add Admin User",children:b.jsxs(be,{component:"form",onSubmit:_.onSubmit(()=>S()),children:[b.jsx(sf,{leftSection:b.jsx(Dtt,{}),placeholder:"User Gmail Account",..._.getInputProps("email")}),b.jsxs(It,{mt:30,justify:"right",children:[b.jsx(hn,{mr:5,variant:"subtle",color:"red",onClick:()=>c(!1),children:"Cancel"}),b.jsx(hn,{type:"submit",children:"Save"})]})]})}),b.jsxs(Ss,{opened:d,size:"large",onClose:()=>f(!1),title:b.jsxs(nt,{fw:700,children:["Remove",m,"?"]}),children:[b.jsxs(nt,{mt:40,children:["Are you sure you want to remove",b.jsx("b",{children:m})," ","as an administrator?"]}),b.jsxs(It,{mt:40,justify:"right",children:[b.jsx(hn,{mr:5,variant:"subtle",color:"red",onClick:()=>f(!1),children:"Cancel"}),b.jsx(hn,{onClick:()=>T(),children:"Yes, I'm sure."})]})]}),b.jsxs(Ss,{opened:h,size:"md",onClose:()=>f(!1),title:b.jsx(nt,{fw:700,children:"Enable Authentication?"}),children:[b.jsxs(nt,{mt:40,children:["User"," ",b.jsx("b",{children:y==null?void 0:y.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),b.jsxs(It,{mt:40,justify:"right",children:[b.jsx(hn,{mr:5,variant:"subtle",color:"red",onClick:()=>p(!1),children:"Cancel"}),b.jsx(hn,{onClick:()=>E(y),children:"Yes, I'm sure."})]})]}),b.jsx(uu,{visible:a})]})}class $gn extends C3e{constructor(){super("localStorage");Rl(this,"studyDatabase");Rl(this,"studyId")}saveAllParticipantAndTaskTags(n){throw new Error("Method not implemented.")}getAllParticipantAndTaskTags(){throw new Error("Method not implemented.")}saveTags(n){throw new Error("Method not implemented.")}getTags(){throw new Error("Method not implemented.")}getEditedTranscript(n){throw new Error("Method not implemented.")}saveEditedTranscript(n,r,i,s){throw new Error("Method not implemented.")}getAudio(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}getTranscription(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyId=n,this.studyDatabase=await ww.createInstance({name:n});const i=await this.getCurrentConfigHash(),s=await Y3(JSON.stringify(r));i&&i!==s&&(await this.studyDatabase.removeItem("sequenceArray"),await this.clearCurrentParticipantId()),this.studyDatabase.setItem("currentConfigHash",s);const o=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...o,[s]:r})}async initializeParticipantSession(n,r,i,s,o){var d;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(o),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this.studyDatabase.getItem(this.currentParticipantId);if(a)return a;const l=await this.getModes(n),u=await Y3(JSON.stringify(i)),c={participantId:this.currentParticipantId,participantConfigHash:u,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:s,completed:!1,rejected:!1};return l.dataCollectionEnabled&&await((d=this.studyDatabase)==null?void 0:d.setItem(this.currentParticipantId,c)),c}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){return await ww.createInstance({name:r}).getItem("configs")||{}}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=LI();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.studyDatabase.getItem(this.currentParticipantId);if(!r)throw new Error("Participant not initialized");r.answers=n,await this.studyDatabase.setItem(this.currentParticipantId,r)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");if(!this.studyId)throw new Error("Study ID not initialized");const r=await this.getModes(this.studyId),i=r.dataCollectionEnabled?n.pop():n[Math.floor(Math.random()*n.length-1)];if(!i)throw new Error("Latin square is empty");return r.dataCollectionEnabled&&await this.studyDatabase.setItem("sequenceArray",n),i}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&i!=="configs"&&i!=="currentConfigHash"&&i!=="modes"&&n.push(r)}),n}async getAllParticipantsDataByStudy(n){const r=ww.createInstance({name:n}),i=[];return await r.iterate((s,o)=>{o!=="config"&&o!=="currentParticipant"&&o!=="sequenceArray"&&o!=="configs"&&o!=="currentConfigHash"&&o!=="modes"&&i.push(s)}),i}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=LI();this.studyDatabase.setItem("currentParticipant",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.completed=!0,await this.studyDatabase.setItem(this.currentParticipantId,n),!0}async validateUser(n){return!0}async rejectParticipant(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const i=await this.studyDatabase.getItem(r);if(!i)throw new Error("Participant not found");if(i.rejected)return;i.rejected=!0;const s=await this.studyDatabase.getItem("sequenceArray");s&&(s.unshift(i.sequence),this.setSequenceArray(s)),await this.studyDatabase.setItem(r,i)}async setMode(n,r,i){this.studyDatabase=await ww.createInstance({name:n});const s=await this.studyDatabase.getItem("modes");if(!s)throw new Error("Modes not initialized");s[r]=i,this.studyDatabase.setItem("modes",s)}async getModes(n){this.studyDatabase=await ww.createInstance({name:n});const r=await this.studyDatabase.getItem("modes");if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem("modes",i),i}_verifyStudyDatabase(n){return n!==void 0}}async function Lgn(){let e,t=!1;{const n=new Pc;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new $gn;await n.connect(),e=n}return e}async function Fgn(){const t=await(await fetch(`${gp}global.json`)).text();return X0t(t)}function jgn(){const[e,t]=A.useState(null),[n,r]=A.useState({});A.useEffect(()=>{async function a(){e&&r(await HBt(e))}a()},[e]),A.useEffect(()=>{e||Fgn().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:s}=Pi();A.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await Lgn();s(l)}a()},[s,i]);const o=async a=>i instanceof Pc?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?b.jsx(_tt,{basename:gp,children:b.jsx(vBt,{children:b.jsx(Rtt,{children:b.jsx(Hr,{padding:"md",header:{height:70},children:b.jsxs(ftt,{children:[b.jsx(Gp,{path:"/",element:b.jsxs(b.Fragment,{children:[b.jsx(mA,{studyIds:e.configsList}),b.jsx(ict,{globalConfig:e,studyConfigs:n})]})}),b.jsx(Gp,{path:"/:studyId/*",element:b.jsx(WBt,{globalConfig:e})}),b.jsx(Gp,{path:"/analysis/dashboard",element:b.jsx(Dgn,{globalConfig:e})}),b.jsx(Gp,{path:"/analysis",element:b.jsx(Dq,{to:"/analysis/dashboard"})}),b.jsx(Gp,{path:"/analysis/stats/:studyId/:tab",element:b.jsx(y0e,{paramToCheck:"studyId",paramCallback:o,children:b.jsx(KUt,{globalConfig:e})})}),b.jsx(Gp,{path:"/analysis/stats/:studyId",element:b.jsx(Dq,{to:"./table",replace:!0})}),b.jsx(Gp,{path:"/settings",element:b.jsx(Hr,{children:b.jsxs(y0e,{children:[b.jsx(mA,{studyIds:e.configsList}),b.jsx(Hr.Main,{children:b.jsx(Mgn,{})})]})})}),b.jsx(Gp,{path:"/login",element:b.jsxs(Hr,{children:[b.jsx(mA,{studyIds:e.configsList}),b.jsx(Hr.Main,{children:b.jsx(XUt,{})})]})})]})})})})}):null}x7.createRoot(document.getElementById("root")).render(b.jsx(us.StrictMode,{children:b.jsx(Eet,{children:b.jsx(Wwe,{children:b.jsx(jgn,{})})})}))});export default Bgn();
