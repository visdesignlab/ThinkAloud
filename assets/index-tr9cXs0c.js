var wme=Object.defineProperty;var Eme=(e,t,n)=>t in e?wme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var go=(e,t,n)=>(Eme(e,typeof t!="symbol"?t+"":t,n),n);function Sme(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zG(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var HG={exports:{}},uI={},WG={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=Symbol.for("react.element"),Tme=Symbol.for("react.portal"),xme=Symbol.for("react.fragment"),Ime=Symbol.for("react.strict_mode"),Cme=Symbol.for("react.profiler"),Ame=Symbol.for("react.provider"),Pme=Symbol.for("react.context"),Ome=Symbol.for("react.forward_ref"),Rme=Symbol.for("react.suspense"),Nme=Symbol.for("react.memo"),kme=Symbol.for("react.lazy"),k5=Symbol.iterator;function Dme(e){return e===null||typeof e!="object"?null:(e=k5&&e[k5]||e["@@iterator"],typeof e=="function"?e:null)}var qG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GG=Object.assign,YG={};function bg(e,t,n){this.props=e,this.context=t,this.refs=YG,this.updater=n||qG}bg.prototype.isReactComponent={};bg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KG(){}KG.prototype=bg.prototype;function MD(e,t,n){this.props=e,this.context=t,this.refs=YG,this.updater=n||qG}var FD=MD.prototype=new KG;FD.constructor=MD;GG(FD,bg.prototype);FD.isPureReactComponent=!0;var D5=Array.isArray,QG=Object.prototype.hasOwnProperty,jD={current:null},XG={key:!0,ref:!0,__self:!0,__source:!0};function JG(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)QG.call(t,r)&&!XG.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:__,type:e,key:s,ref:o,props:i,_owner:jD.current}}function $me(e,t){return{$$typeof:__,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function BD(e){return typeof e=="object"&&e!==null&&e.$$typeof===__}function Lme(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $5=/\/+/g;function lP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lme(""+e.key):t.toString(36)}function lw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case __:case Tme:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+lP(o,0):r,D5(i)?(n="",e!=null&&(n=e.replace($5,"$&/")+"/"),lw(i,t,n,"",function(l){return l})):i!=null&&(BD(i)&&(i=$me(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($5,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",D5(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+lP(s,a);o+=lw(s,t,n,u,i)}else if(u=Dme(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+lP(s,a++),o+=lw(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function D1(e,t,n){if(e==null)return e;var r=[],i=0;return lw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Mme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Is={current:null},cw={transition:null},Fme={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:cw,ReactCurrentOwner:jD};nn.Children={map:D1,forEach:function(e,t,n){D1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D1(e,function(){t++}),t},toArray:function(e){return D1(e,function(t){return t})||[]},only:function(e){if(!BD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nn.Component=bg;nn.Fragment=xme;nn.Profiler=Cme;nn.PureComponent=MD;nn.StrictMode=Ime;nn.Suspense=Rme;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fme;nn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=GG({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=jD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)QG.call(t,u)&&!XG.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:__,type:e.type,key:i,ref:s,props:r,_owner:o}};nn.createContext=function(e){return e={$$typeof:Pme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ame,_context:e},e.Consumer=e};nn.createElement=JG;nn.createFactory=function(e){var t=JG.bind(null,e);return t.type=e,t};nn.createRef=function(){return{current:null}};nn.forwardRef=function(e){return{$$typeof:Ome,render:e}};nn.isValidElement=BD;nn.lazy=function(e){return{$$typeof:kme,_payload:{_status:-1,_result:e},_init:Mme}};nn.memo=function(e,t){return{$$typeof:Nme,type:e,compare:t===void 0?null:t}};nn.startTransition=function(e){var t=cw.transition;cw.transition={};try{e()}finally{cw.transition=t}};nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nn.useCallback=function(e,t){return Is.current.useCallback(e,t)};nn.useContext=function(e){return Is.current.useContext(e)};nn.useDebugValue=function(){};nn.useDeferredValue=function(e){return Is.current.useDeferredValue(e)};nn.useEffect=function(e,t){return Is.current.useEffect(e,t)};nn.useId=function(){return Is.current.useId()};nn.useImperativeHandle=function(e,t,n){return Is.current.useImperativeHandle(e,t,n)};nn.useInsertionEffect=function(e,t){return Is.current.useInsertionEffect(e,t)};nn.useLayoutEffect=function(e,t){return Is.current.useLayoutEffect(e,t)};nn.useMemo=function(e,t){return Is.current.useMemo(e,t)};nn.useReducer=function(e,t,n){return Is.current.useReducer(e,t,n)};nn.useRef=function(e){return Is.current.useRef(e)};nn.useState=function(e){return Is.current.useState(e)};nn.useSyncExternalStore=function(e,t,n){return Is.current.useSyncExternalStore(e,t,n)};nn.useTransition=function(){return Is.current.useTransition()};nn.version="18.2.0";WG.exports=nn;var w=WG.exports;const N=ma(w),ev=Sme({__proto__:null,default:N},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jme=w,Bme=Symbol.for("react.element"),Ume=Symbol.for("react.fragment"),Vme=Object.prototype.hasOwnProperty,zme=jme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hme={key:!0,ref:!0,__self:!0,__source:!0};function ZG(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Vme.call(t,r)&&!Hme.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Bme,type:e,key:s,ref:o,props:i,_owner:zme.current}}uI.Fragment=Ume;uI.jsx=ZG;uI.jsxs=ZG;HG.exports=uI;var C=HG.exports,nR={},eY={exports:{}},Bo={},tY={exports:{}},nY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ie){var P=K.length;K.push(ie);e:for(;0<P;){var V=P-1>>>1,Y=K[V];if(0<i(Y,ie))K[V]=ie,K[P]=Y,P=V;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],P=K.pop();if(P!==ie){K[0]=P;e:for(var V=0,Y=K.length,A=Y>>>1;V<A;){var R=2*(V+1)-1,L=K[R],G=R+1,le=K[G];if(0>i(L,P))G<Y&&0>i(le,L)?(K[V]=le,K[G]=P,V=G):(K[V]=L,K[R]=P,V=R);else if(G<Y&&0>i(le,P))K[V]=le,K[G]=P,V=G;else break e}}return ie}function i(K,ie){var P=K.sortIndex-ie.sortIndex;return P!==0?P:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=K)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function S(K){if(m=!1,_(K),!p)if(n(u)!==null)p=!0,te(x);else{var ie=n(l);ie!==null&&re(S,ie.startTime-K)}}function x(K,ie){p=!1,m&&(m=!1,g(I),I=-1),h=!0;var P=d;try{for(_(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||K&&!B());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var Y=V(f.expirationTime<=ie);ie=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),_(ie)}else r(u);f=n(u)}if(f!==null)var A=!0;else{var R=n(l);R!==null&&re(S,R.startTime-ie),A=!1}return A}finally{f=null,d=P,h=!1}}var b=!1,T=null,I=-1,D=5,$=-1;function B(){return!(e.unstable_now()-$<D)}function O(){if(T!==null){var K=e.unstable_now();$=K;var ie=!0;try{ie=T(!0,K)}finally{ie?M():(b=!1,T=null)}}else b=!1}var M;if(typeof v=="function")M=function(){v(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ee=k.port2;k.port1.onmessage=O,M=function(){ee.postMessage(null)}}else M=function(){y(O,0)};function te(K){T=K,b||(b=!0,M())}function re(K,ie){I=y(function(){K(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,te(x))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(K){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var P=d;d=ie;try{return K()}finally{d=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var P=d;d=K;try{return ie()}finally{d=P}},e.unstable_scheduleCallback=function(K,ie,P){var V=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?V+P:V):P=V,K){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=P+Y,K={id:c++,callback:ie,priorityLevel:K,startTime:P,expirationTime:Y,sortIndex:-1},P>V?(K.sortIndex=P,t(l,K),n(u)===null&&K===n(l)&&(m?(g(I),I=-1):m=!0,re(S,P-V))):(K.sortIndex=Y,t(u,K),p||h||(p=!0,te(x))),K},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(K){var ie=d;return function(){var P=d;d=ie;try{return K.apply(this,arguments)}finally{d=P}}}})(nY);tY.exports=nY;var Wme=tY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rY=w,Ro=Wme;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iY=new Set,tv={};function Mh(e,t){Rm(e,t),Rm(e+"Capture",t)}function Rm(e,t){for(tv[e]=t,e=0;e<t.length;e++)iY.add(t[e])}var Xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rR=Object.prototype.hasOwnProperty,qme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L5={},M5={};function Gme(e){return rR.call(M5,e)?!0:rR.call(L5,e)?!1:qme.test(e)?M5[e]=!0:(L5[e]=!0,!1)}function Yme(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kme(e,t,n,r){if(t===null||typeof t>"u"||Yme(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ui[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ui[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ui[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ui[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ui[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ui[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ui[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ui[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ui[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var UD=/[\-:]([a-z])/g;function VD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(UD,VD);Ui[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(UD,VD);Ui[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(UD,VD);Ui[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ui[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Ui.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ui[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function zD(e,t,n,r){var i=Ui.hasOwnProperty(t)?Ui[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kme(t,n,i,r)&&(n=null),r||i===null?Gme(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bc=rY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$1=Symbol.for("react.element"),Op=Symbol.for("react.portal"),Rp=Symbol.for("react.fragment"),HD=Symbol.for("react.strict_mode"),iR=Symbol.for("react.profiler"),sY=Symbol.for("react.provider"),oY=Symbol.for("react.context"),WD=Symbol.for("react.forward_ref"),sR=Symbol.for("react.suspense"),oR=Symbol.for("react.suspense_list"),qD=Symbol.for("react.memo"),Hc=Symbol.for("react.lazy"),aY=Symbol.for("react.offscreen"),F5=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=F5&&e[F5]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,cP;function q0(e){if(cP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cP=t&&t[1]||""}return`
`+cP+e}var fP=!1;function dP(e,t){if(!e||fP)return"";fP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{fP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q0(e):""}function Qme(e){switch(e.tag){case 5:return q0(e.type);case 16:return q0("Lazy");case 13:return q0("Suspense");case 19:return q0("SuspenseList");case 0:case 2:case 15:return e=dP(e.type,!1),e;case 11:return e=dP(e.type.render,!1),e;case 1:return e=dP(e.type,!0),e;default:return""}}function aR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rp:return"Fragment";case Op:return"Portal";case iR:return"Profiler";case HD:return"StrictMode";case sR:return"Suspense";case oR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oY:return(e.displayName||"Context")+".Consumer";case sY:return(e._context.displayName||"Context")+".Provider";case WD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qD:return t=e.displayName||null,t!==null?t:aR(e.type)||"Memo";case Hc:t=e._payload,e=e._init;try{return aR(e(t))}catch{}}return null}function Xme(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aR(t);case 8:return t===HD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Af(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uY(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jme(e){var t=uY(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function L1(e){e._valueTracker||(e._valueTracker=Jme(e))}function lY(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uY(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uR(e,t){var n=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function j5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Af(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cY(e,t){t=t.checked,t!=null&&zD(e,"checked",t,!1)}function lR(e,t){cY(e,t);var n=Af(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cR(e,t.type,n):t.hasOwnProperty("defaultValue")&&cR(e,t.type,Af(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function B5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cR(e,t,n){(t!=="number"||uE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var G0=Array.isArray;function tm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Af(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(G0(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Af(n)}}function fY(e,t){var n=Af(t.value),r=Af(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function V5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dY(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dY(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var M1,hY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(M1=M1||document.createElement("div"),M1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=M1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var py={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zme=["Webkit","ms","Moz","O"];Object.keys(py).forEach(function(e){Zme.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),py[t]=py[e]})});function pY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||py.hasOwnProperty(e)&&py[e]?(""+t).trim():t+"px"}function mY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ege=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hR(e,t){if(t){if(ege[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function pR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mR=null;function GD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gR=null,nm=null,rm=null;function z5(e){if(e=E_(e)){if(typeof gR!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=hI(t),gR(e.stateNode,e.type,t))}}function gY(e){nm?rm?rm.push(e):rm=[e]:nm=e}function yY(){if(nm){var e=nm,t=rm;if(rm=nm=null,z5(e),t)for(e=0;e<t.length;e++)z5(t[e])}}function vY(e,t){return e(t)}function _Y(){}var hP=!1;function bY(e,t,n){if(hP)return e(t,n);hP=!0;try{return vY(e,t,n)}finally{hP=!1,(nm!==null||rm!==null)&&(_Y(),yY())}}function rv(e,t){var n=e.stateNode;if(n===null)return null;var r=hI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var yR=!1;if(Xl)try{var c0={};Object.defineProperty(c0,"passive",{get:function(){yR=!0}}),window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{yR=!1}function tge(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var my=!1,lE=null,cE=!1,vR=null,nge={onError:function(e){my=!0,lE=e}};function rge(e,t,n,r,i,s,o,a,u){my=!1,lE=null,tge.apply(nge,arguments)}function ige(e,t,n,r,i,s,o,a,u){if(rge.apply(this,arguments),my){if(my){var l=lE;my=!1,lE=null}else throw Error(Ne(198));cE||(cE=!0,vR=l)}}function Fh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function H5(e){if(Fh(e)!==e)throw Error(Ne(188))}function sge(e){var t=e.alternate;if(!t){if(t=Fh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return H5(i),e;if(s===r)return H5(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function EY(e){return e=sge(e),e!==null?SY(e):null}function SY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SY(e);if(t!==null)return t;e=e.sibling}return null}var TY=Ro.unstable_scheduleCallback,W5=Ro.unstable_cancelCallback,oge=Ro.unstable_shouldYield,age=Ro.unstable_requestPaint,Fr=Ro.unstable_now,uge=Ro.unstable_getCurrentPriorityLevel,YD=Ro.unstable_ImmediatePriority,xY=Ro.unstable_UserBlockingPriority,fE=Ro.unstable_NormalPriority,lge=Ro.unstable_LowPriority,IY=Ro.unstable_IdlePriority,lI=null,Hu=null;function cge(e){if(Hu&&typeof Hu.onCommitFiberRoot=="function")try{Hu.onCommitFiberRoot(lI,e,void 0,(e.current.flags&128)===128)}catch{}}var za=Math.clz32?Math.clz32:hge,fge=Math.log,dge=Math.LN2;function hge(e){return e>>>=0,e===0?32:31-(fge(e)/dge|0)|0}var F1=64,j1=4194304;function Y0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Y0(a):(s&=o,s!==0&&(r=Y0(s)))}else o=n&~i,o!==0?r=Y0(o):s!==0&&(r=Y0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-za(t),i=1<<n,r|=e[n],t&=~i;return r}function pge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-za(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=pge(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function _R(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CY(){var e=F1;return F1<<=1,!(F1&4194240)&&(F1=64),e}function pP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function b_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-za(t),e[t]=n}function gge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-za(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function KD(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-za(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $n=0;function AY(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PY,QD,OY,RY,NY,bR=!1,B1=[],ff=null,df=null,hf=null,iv=new Map,sv=new Map,Kc=[],yge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q5(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":df=null;break;case"mouseover":case"mouseout":hf=null;break;case"pointerover":case"pointerout":iv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sv.delete(t.pointerId)}}function f0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=E_(t),t!==null&&QD(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vge(e,t,n,r,i){switch(t){case"focusin":return ff=f0(ff,e,t,n,r,i),!0;case"dragenter":return df=f0(df,e,t,n,r,i),!0;case"mouseover":return hf=f0(hf,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return iv.set(s,f0(iv.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sv.set(s,f0(sv.get(s)||null,e,t,n,r,i)),!0}return!1}function kY(e){var t=Md(e.target);if(t!==null){var n=Fh(t);if(n!==null){if(t=n.tag,t===13){if(t=wY(n),t!==null){e.blockedOn=t,NY(e.priority,function(){OY(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mR=r,n.target.dispatchEvent(r),mR=null}else return t=E_(n),t!==null&&QD(t),e.blockedOn=n,!1;t.shift()}return!0}function G5(e,t,n){fw(e)&&n.delete(t)}function _ge(){bR=!1,ff!==null&&fw(ff)&&(ff=null),df!==null&&fw(df)&&(df=null),hf!==null&&fw(hf)&&(hf=null),iv.forEach(G5),sv.forEach(G5)}function d0(e,t){e.blockedOn===t&&(e.blockedOn=null,bR||(bR=!0,Ro.unstable_scheduleCallback(Ro.unstable_NormalPriority,_ge)))}function ov(e){function t(i){return d0(i,e)}if(0<B1.length){d0(B1[0],e);for(var n=1;n<B1.length;n++){var r=B1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ff!==null&&d0(ff,e),df!==null&&d0(df,e),hf!==null&&d0(hf,e),iv.forEach(t),sv.forEach(t),n=0;n<Kc.length;n++)r=Kc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kc.length&&(n=Kc[0],n.blockedOn===null);)kY(n),n.blockedOn===null&&Kc.shift()}var im=bc.ReactCurrentBatchConfig,hE=!0;function bge(e,t,n,r){var i=$n,s=im.transition;im.transition=null;try{$n=1,XD(e,t,n,r)}finally{$n=i,im.transition=s}}function wge(e,t,n,r){var i=$n,s=im.transition;im.transition=null;try{$n=4,XD(e,t,n,r)}finally{$n=i,im.transition=s}}function XD(e,t,n,r){if(hE){var i=wR(e,t,n,r);if(i===null)TP(e,t,r,pE,n),q5(e,r);else if(vge(i,e,t,n,r))r.stopPropagation();else if(q5(e,r),t&4&&-1<yge.indexOf(e)){for(;i!==null;){var s=E_(i);if(s!==null&&PY(s),s=wR(e,t,n,r),s===null&&TP(e,t,r,pE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else TP(e,t,r,null,n)}}var pE=null;function wR(e,t,n,r){if(pE=null,e=GD(r),e=Md(e),e!==null)if(t=Fh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pE=e,null}function DY(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uge()){case YD:return 1;case xY:return 4;case fE:case lge:return 16;case IY:return 536870912;default:return 16}default:return 16}}var rf=null,JD=null,dw=null;function $Y(){if(dw)return dw;var e,t=JD,n=t.length,r,i="value"in rf?rf.value:rf.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return dw=i.slice(e,1<r?1-r:void 0)}function hw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function U1(){return!0}function Y5(){return!1}function Uo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?U1:Y5,this.isPropagationStopped=Y5,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=U1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=U1)},persist:function(){},isPersistent:U1}),t}var wg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZD=Uo(wg),w_=vr({},wg,{view:0,detail:0}),Ege=Uo(w_),mP,gP,h0,cI=vr({},w_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e$,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==h0&&(h0&&e.type==="mousemove"?(mP=e.screenX-h0.screenX,gP=e.screenY-h0.screenY):gP=mP=0,h0=e),mP)},movementY:function(e){return"movementY"in e?e.movementY:gP}}),K5=Uo(cI),Sge=vr({},cI,{dataTransfer:0}),Tge=Uo(Sge),xge=vr({},w_,{relatedTarget:0}),yP=Uo(xge),Ige=vr({},wg,{animationName:0,elapsedTime:0,pseudoElement:0}),Cge=Uo(Ige),Age=vr({},wg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pge=Uo(Age),Oge=vr({},wg,{data:0}),Q5=Uo(Oge),Rge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kge[e])?!!t[e]:!1}function e$(){return Dge}var $ge=vr({},w_,{key:function(e){if(e.key){var t=Rge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e$,charCode:function(e){return e.type==="keypress"?hw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lge=Uo($ge),Mge=vr({},cI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X5=Uo(Mge),Fge=vr({},w_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e$}),jge=Uo(Fge),Bge=vr({},wg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uge=Uo(Bge),Vge=vr({},cI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zge=Uo(Vge),Hge=[9,13,27,32],t$=Xl&&"CompositionEvent"in window,gy=null;Xl&&"documentMode"in document&&(gy=document.documentMode);var Wge=Xl&&"TextEvent"in window&&!gy,LY=Xl&&(!t$||gy&&8<gy&&11>=gy),J5=" ",Z5=!1;function MY(e,t){switch(e){case"keyup":return Hge.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FY(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Np=!1;function qge(e,t){switch(e){case"compositionend":return FY(t);case"keypress":return t.which!==32?null:(Z5=!0,J5);case"textInput":return e=t.data,e===J5&&Z5?null:e;default:return null}}function Gge(e,t){if(Np)return e==="compositionend"||!t$&&MY(e,t)?(e=$Y(),dw=JD=rf=null,Np=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LY&&t.locale!=="ko"?null:t.data;default:return null}}var Yge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yge[e.type]:t==="textarea"}function jY(e,t,n,r){gY(r),t=mE(t,"onChange"),0<t.length&&(n=new ZD("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yy=null,av=null;function Kge(e){QY(e,0)}function fI(e){var t=$p(e);if(lY(t))return e}function Qge(e,t){if(e==="change")return t}var BY=!1;if(Xl){var vP;if(Xl){var _P="oninput"in document;if(!_P){var tF=document.createElement("div");tF.setAttribute("oninput","return;"),_P=typeof tF.oninput=="function"}vP=_P}else vP=!1;BY=vP&&(!document.documentMode||9<document.documentMode)}function nF(){yy&&(yy.detachEvent("onpropertychange",UY),av=yy=null)}function UY(e){if(e.propertyName==="value"&&fI(av)){var t=[];jY(t,av,e,GD(e)),bY(Kge,t)}}function Xge(e,t,n){e==="focusin"?(nF(),yy=t,av=n,yy.attachEvent("onpropertychange",UY)):e==="focusout"&&nF()}function Jge(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fI(av)}function Zge(e,t){if(e==="click")return fI(t)}function e0e(e,t){if(e==="input"||e==="change")return fI(t)}function t0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ka=typeof Object.is=="function"?Object.is:t0e;function uv(e,t){if(Ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rR.call(t,i)||!Ka(e[i],t[i]))return!1}return!0}function rF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iF(e,t){var n=rF(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rF(n)}}function VY(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VY(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zY(){for(var e=window,t=uE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uE(e.document)}return t}function n$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n0e(e){var t=zY(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&VY(n.ownerDocument.documentElement,n)){if(r!==null&&n$(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=iF(n,s);var o=iF(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r0e=Xl&&"documentMode"in document&&11>=document.documentMode,kp=null,ER=null,vy=null,SR=!1;function sF(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;SR||kp==null||kp!==uE(r)||(r=kp,"selectionStart"in r&&n$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vy&&uv(vy,r)||(vy=r,r=mE(ER,"onSelect"),0<r.length&&(t=new ZD("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kp)))}function V1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dp={animationend:V1("Animation","AnimationEnd"),animationiteration:V1("Animation","AnimationIteration"),animationstart:V1("Animation","AnimationStart"),transitionend:V1("Transition","TransitionEnd")},bP={},HY={};Xl&&(HY=document.createElement("div").style,"AnimationEvent"in window||(delete Dp.animationend.animation,delete Dp.animationiteration.animation,delete Dp.animationstart.animation),"TransitionEvent"in window||delete Dp.transitionend.transition);function dI(e){if(bP[e])return bP[e];if(!Dp[e])return e;var t=Dp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in HY)return bP[e]=t[n];return e}var WY=dI("animationend"),qY=dI("animationiteration"),GY=dI("animationstart"),YY=dI("transitionend"),KY=new Map,oF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xf(e,t){KY.set(e,t),Mh(t,[e])}for(var wP=0;wP<oF.length;wP++){var EP=oF[wP],i0e=EP.toLowerCase(),s0e=EP[0].toUpperCase()+EP.slice(1);Xf(i0e,"on"+s0e)}Xf(WY,"onAnimationEnd");Xf(qY,"onAnimationIteration");Xf(GY,"onAnimationStart");Xf("dblclick","onDoubleClick");Xf("focusin","onFocus");Xf("focusout","onBlur");Xf(YY,"onTransitionEnd");Rm("onMouseEnter",["mouseout","mouseover"]);Rm("onMouseLeave",["mouseout","mouseover"]);Rm("onPointerEnter",["pointerout","pointerover"]);Rm("onPointerLeave",["pointerout","pointerover"]);Mh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var K0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(K0));function aF(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ige(r,t,void 0,e),e.currentTarget=null}function QY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;aF(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;aF(i,a,l),s=u}}}if(cE)throw e=vR,cE=!1,vR=null,e}function Zn(e,t){var n=t[AR];n===void 0&&(n=t[AR]=new Set);var r=e+"__bubble";n.has(r)||(XY(t,e,2,!1),n.add(r))}function SP(e,t,n){var r=0;t&&(r|=4),XY(n,e,r,t)}var z1="_reactListening"+Math.random().toString(36).slice(2);function lv(e){if(!e[z1]){e[z1]=!0,iY.forEach(function(n){n!=="selectionchange"&&(o0e.has(n)||SP(n,!1,e),SP(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[z1]||(t[z1]=!0,SP("selectionchange",!1,t))}}function XY(e,t,n,r){switch(DY(t)){case 1:var i=bge;break;case 4:i=wge;break;default:i=XD}n=i.bind(null,t,n,e),i=void 0,!yR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function TP(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Md(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bY(function(){var l=s,c=GD(n),f=[];e:{var d=KY.get(e);if(d!==void 0){var h=ZD,p=e;switch(e){case"keypress":if(hw(n)===0)break e;case"keydown":case"keyup":h=Lge;break;case"focusin":p="focus",h=yP;break;case"focusout":p="blur",h=yP;break;case"beforeblur":case"afterblur":h=yP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=K5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Tge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jge;break;case WY:case qY:case GY:h=Cge;break;case YY:h=Uge;break;case"scroll":h=Ege;break;case"wheel":h=zge;break;case"copy":case"cut":case"paste":h=Pge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=X5}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,_;v!==null;){_=v;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,g!==null&&(S=rv(v,g),S!=null&&m.push(cv(v,S,_)))),y)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==mR&&(p=n.relatedTarget||n.fromElement)&&(Md(p)||p[Jl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Md(p):null,p!==null&&(y=Fh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=K5,S="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=X5,S="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:$p(h),_=p==null?d:$p(p),d=new m(S,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,S=null,Md(c)===l&&(m=new m(g,v+"enter",p,n,c),m.target=_,m.relatedTarget=y,S=m),y=S,h&&p)t:{for(m=h,g=p,v=0,_=m;_;_=sp(_))v++;for(_=0,S=g;S;S=sp(S))_++;for(;0<v-_;)m=sp(m),v--;for(;0<_-v;)g=sp(g),_--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=sp(m),g=sp(g)}m=null}else m=null;h!==null&&uF(f,d,h,m,!1),p!==null&&y!==null&&uF(f,y,p,m,!0)}}e:{if(d=l?$p(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=Qge;else if(eF(d))if(BY)x=e0e;else{x=Jge;var b=Xge}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Zge);if(x&&(x=x(e,l))){jY(f,x,n,c);break e}b&&b(e,d,l),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&cR(d,"number",d.value)}switch(b=l?$p(l):window,e){case"focusin":(eF(b)||b.contentEditable==="true")&&(kp=b,ER=l,vy=null);break;case"focusout":vy=ER=kp=null;break;case"mousedown":SR=!0;break;case"contextmenu":case"mouseup":case"dragend":SR=!1,sF(f,n,c);break;case"selectionchange":if(r0e)break;case"keydown":case"keyup":sF(f,n,c)}var T;if(t$)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Np?MY(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(LY&&n.locale!=="ko"&&(Np||I!=="onCompositionStart"?I==="onCompositionEnd"&&Np&&(T=$Y()):(rf=c,JD="value"in rf?rf.value:rf.textContent,Np=!0)),b=mE(l,I),0<b.length&&(I=new Q5(I,e,null,n,c),f.push({event:I,listeners:b}),T?I.data=T:(T=FY(n),T!==null&&(I.data=T)))),(T=Wge?qge(e,n):Gge(e,n))&&(l=mE(l,"onBeforeInput"),0<l.length&&(c=new Q5("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=T))}QY(f,t)})}function cv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rv(e,n),s!=null&&r.unshift(cv(e,s,i)),s=rv(e,t),s!=null&&r.push(cv(e,s,i))),e=e.return}return r}function sp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uF(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=rv(n,s),u!=null&&o.unshift(cv(n,u,a))):i||(u=rv(n,s),u!=null&&o.push(cv(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var a0e=/\r\n?/g,u0e=/\u0000|\uFFFD/g;function lF(e){return(typeof e=="string"?e:""+e).replace(a0e,`
`).replace(u0e,"")}function H1(e,t,n){if(t=lF(t),lF(e)!==t&&n)throw Error(Ne(425))}function gE(){}var TR=null,xR=null;function IR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var CR=typeof setTimeout=="function"?setTimeout:void 0,l0e=typeof clearTimeout=="function"?clearTimeout:void 0,cF=typeof Promise=="function"?Promise:void 0,c0e=typeof queueMicrotask=="function"?queueMicrotask:typeof cF<"u"?function(e){return cF.resolve(null).then(e).catch(f0e)}:CR;function f0e(e){setTimeout(function(){throw e})}function xP(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ov(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ov(t)}function pf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Eg=Math.random().toString(36).slice(2),Tu="__reactFiber$"+Eg,fv="__reactProps$"+Eg,Jl="__reactContainer$"+Eg,AR="__reactEvents$"+Eg,d0e="__reactListeners$"+Eg,h0e="__reactHandles$"+Eg;function Md(e){var t=e[Tu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jl]||n[Tu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fF(e);e!==null;){if(n=e[Tu])return n;e=fF(e)}return t}e=n,n=e.parentNode}return null}function E_(e){return e=e[Tu]||e[Jl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $p(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function hI(e){return e[fv]||null}var PR=[],Lp=-1;function Jf(e){return{current:e}}function sr(e){0>Lp||(e.current=PR[Lp],PR[Lp]=null,Lp--)}function Qn(e,t){Lp++,PR[Lp]=e.current,e.current=t}var Pf={},ls=Jf(Pf),eo=Jf(!1),fh=Pf;function Nm(e,t){var n=e.type.contextTypes;if(!n)return Pf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function to(e){return e=e.childContextTypes,e!=null}function yE(){sr(eo),sr(ls)}function dF(e,t,n){if(ls.current!==Pf)throw Error(Ne(168));Qn(ls,t),Qn(eo,n)}function JY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,Xme(e)||"Unknown",i));return vr({},n,r)}function vE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pf,fh=ls.current,Qn(ls,e),Qn(eo,eo.current),!0}function hF(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=JY(e,t,fh),r.__reactInternalMemoizedMergedChildContext=e,sr(eo),sr(ls),Qn(ls,e)):sr(eo),Qn(eo,n)}var Rl=null,pI=!1,IP=!1;function ZY(e){Rl===null?Rl=[e]:Rl.push(e)}function p0e(e){pI=!0,ZY(e)}function Zf(){if(!IP&&Rl!==null){IP=!0;var e=0,t=$n;try{var n=Rl;for($n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rl=null,pI=!1}catch(i){throw Rl!==null&&(Rl=Rl.slice(e+1)),TY(YD,Zf),i}finally{$n=t,IP=!1}}return null}var Mp=[],Fp=0,_E=null,bE=0,Xo=[],Jo=0,dh=null,Ml=1,Fl="";function _d(e,t){Mp[Fp++]=bE,Mp[Fp++]=_E,_E=e,bE=t}function eK(e,t,n){Xo[Jo++]=Ml,Xo[Jo++]=Fl,Xo[Jo++]=dh,dh=e;var r=Ml;e=Fl;var i=32-za(r)-1;r&=~(1<<i),n+=1;var s=32-za(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ml=1<<32-za(t)+i|n<<i|r,Fl=s+e}else Ml=1<<s|n<<i|r,Fl=e}function r$(e){e.return!==null&&(_d(e,1),eK(e,1,0))}function i$(e){for(;e===_E;)_E=Mp[--Fp],Mp[Fp]=null,bE=Mp[--Fp],Mp[Fp]=null;for(;e===dh;)dh=Xo[--Jo],Xo[Jo]=null,Fl=Xo[--Jo],Xo[Jo]=null,Ml=Xo[--Jo],Xo[Jo]=null}var Ao=null,xo=null,pr=!1,ka=null;function tK(e,t){var n=oa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pF(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ao=e,xo=pf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ao=e,xo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dh!==null?{id:Ml,overflow:Fl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=oa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ao=e,xo=null,!0):!1;default:return!1}}function OR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function RR(e){if(pr){var t=xo;if(t){var n=t;if(!pF(e,t)){if(OR(e))throw Error(Ne(418));t=pf(n.nextSibling);var r=Ao;t&&pF(e,t)?tK(r,n):(e.flags=e.flags&-4097|2,pr=!1,Ao=e)}}else{if(OR(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,pr=!1,Ao=e}}}function mF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ao=e}function W1(e){if(e!==Ao)return!1;if(!pr)return mF(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!IR(e.type,e.memoizedProps)),t&&(t=xo)){if(OR(e))throw nK(),Error(Ne(418));for(;t;)tK(e,t),t=pf(t.nextSibling)}if(mF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xo=pf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xo=null}}else xo=Ao?pf(e.stateNode.nextSibling):null;return!0}function nK(){for(var e=xo;e;)e=pf(e.nextSibling)}function km(){xo=Ao=null,pr=!1}function s$(e){ka===null?ka=[e]:ka.push(e)}var m0e=bc.ReactCurrentBatchConfig;function Oa(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wE=Jf(null),EE=null,jp=null,o$=null;function a$(){o$=jp=EE=null}function u$(e){var t=wE.current;sr(wE),e._currentValue=t}function NR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sm(e,t){EE=e,o$=jp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qs=!0),e.firstContext=null)}function la(e){var t=e._currentValue;if(o$!==e)if(e={context:e,memoizedValue:t,next:null},jp===null){if(EE===null)throw Error(Ne(308));jp=e,EE.dependencies={lanes:0,firstContext:e}}else jp=jp.next=e;return t}var Fd=null;function l$(e){Fd===null?Fd=[e]:Fd.push(e)}function rK(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,l$(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zl(e,r)}function Zl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wc=!1;function c$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ql(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,gn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zl(e,n)}return i=r.interleaved,i===null?(t.next=t,l$(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zl(e,n)}function pw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,KD(e,n)}}function gF(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function SE(e,t,n,r){var i=e.updateQueue;Wc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=vr({},f,d);break e;case 2:Wc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ph|=o,e.lanes=o,e.memoizedState=f}}function yF(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var sK=new rY.Component().refs;function kR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mI={isMounted:function(e){return(e=e._reactInternals)?Fh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ws(),i=yf(e),s=ql(r,i);s.payload=t,n!=null&&(s.callback=n),t=mf(e,s,i),t!==null&&(Ha(t,e,i,r),pw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ws(),i=yf(e),s=ql(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=mf(e,s,i),t!==null&&(Ha(t,e,i,r),pw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ws(),r=yf(e),i=ql(n,r);i.tag=2,t!=null&&(i.callback=t),t=mf(e,i,r),t!==null&&(Ha(t,e,r,n),pw(t,e,r))}};function vF(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!uv(n,r)||!uv(i,s):!0}function oK(e,t,n){var r=!1,i=Pf,s=t.contextType;return typeof s=="object"&&s!==null?s=la(s):(i=to(t)?fh:ls.current,r=t.contextTypes,s=(r=r!=null)?Nm(e,i):Pf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mI,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function _F(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mI.enqueueReplaceState(t,t.state,null)}function DR(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=sK,c$(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=la(s):(s=to(t)?fh:ls.current,i.context=Nm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(kR(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&mI.enqueueReplaceState(i,i.state,null),SE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function p0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===sK&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function q1(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bF(e){var t=e._init;return t(e._payload)}function aK(e){function t(g,v){if(e){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=vf(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,S){return v===null||v.tag!==6?(v=kP(_,g.mode,S),v.return=g,v):(v=i(v,_),v.return=g,v)}function u(g,v,_,S){var x=_.type;return x===Rp?c(g,v,_.props.children,S,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Hc&&bF(x)===v.type)?(S=i(v,_.props),S.ref=p0(g,v,_),S.return=g,S):(S=bw(_.type,_.key,_.props,null,g.mode,S),S.ref=p0(g,v,_),S.return=g,S)}function l(g,v,_,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=DP(_,g.mode,S),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,S,x){return v===null||v.tag!==7?(v=nh(_,g.mode,S,x),v.return=g,v):(v=i(v,_),v.return=g,v)}function f(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=kP(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $1:return _=bw(v.type,v.key,v.props,null,g.mode,_),_.ref=p0(g,null,v),_.return=g,_;case Op:return v=DP(v,g.mode,_),v.return=g,v;case Hc:var S=v._init;return f(g,S(v._payload),_)}if(G0(v)||l0(v))return v=nh(v,g.mode,_,null),v.return=g,v;q1(g,v)}return null}function d(g,v,_,S){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(g,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $1:return _.key===x?u(g,v,_,S):null;case Op:return _.key===x?l(g,v,_,S):null;case Hc:return x=_._init,d(g,v,x(_._payload),S)}if(G0(_)||l0(_))return x!==null?null:c(g,v,_,S,null);q1(g,_)}return null}function h(g,v,_,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(_)||null,a(v,g,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $1:return g=g.get(S.key===null?_:S.key)||null,u(v,g,S,x);case Op:return g=g.get(S.key===null?_:S.key)||null,l(v,g,S,x);case Hc:var b=S._init;return h(g,v,_,b(S._payload),x)}if(G0(S)||l0(S))return g=g.get(_)||null,c(v,g,S,x,null);q1(v,S)}return null}function p(g,v,_,S){for(var x=null,b=null,T=v,I=v=0,D=null;T!==null&&I<_.length;I++){T.index>I?(D=T,T=null):D=T.sibling;var $=d(g,T,_[I],S);if($===null){T===null&&(T=D);break}e&&T&&$.alternate===null&&t(g,T),v=s($,v,I),b===null?x=$:b.sibling=$,b=$,T=D}if(I===_.length)return n(g,T),pr&&_d(g,I),x;if(T===null){for(;I<_.length;I++)T=f(g,_[I],S),T!==null&&(v=s(T,v,I),b===null?x=T:b.sibling=T,b=T);return pr&&_d(g,I),x}for(T=r(g,T);I<_.length;I++)D=h(T,g,I,_[I],S),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?I:D.key),v=s(D,v,I),b===null?x=D:b.sibling=D,b=D);return e&&T.forEach(function(B){return t(g,B)}),pr&&_d(g,I),x}function m(g,v,_,S){var x=l0(_);if(typeof x!="function")throw Error(Ne(150));if(_=x.call(_),_==null)throw Error(Ne(151));for(var b=x=null,T=v,I=v=0,D=null,$=_.next();T!==null&&!$.done;I++,$=_.next()){T.index>I?(D=T,T=null):D=T.sibling;var B=d(g,T,$.value,S);if(B===null){T===null&&(T=D);break}e&&T&&B.alternate===null&&t(g,T),v=s(B,v,I),b===null?x=B:b.sibling=B,b=B,T=D}if($.done)return n(g,T),pr&&_d(g,I),x;if(T===null){for(;!$.done;I++,$=_.next())$=f(g,$.value,S),$!==null&&(v=s($,v,I),b===null?x=$:b.sibling=$,b=$);return pr&&_d(g,I),x}for(T=r(g,T);!$.done;I++,$=_.next())$=h(T,g,I,$.value,S),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?I:$.key),v=s($,v,I),b===null?x=$:b.sibling=$,b=$);return e&&T.forEach(function(O){return t(g,O)}),pr&&_d(g,I),x}function y(g,v,_,S){if(typeof _=="object"&&_!==null&&_.type===Rp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case $1:e:{for(var x=_.key,b=v;b!==null;){if(b.key===x){if(x=_.type,x===Rp){if(b.tag===7){n(g,b.sibling),v=i(b,_.props.children),v.return=g,g=v;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Hc&&bF(x)===b.type){n(g,b.sibling),v=i(b,_.props),v.ref=p0(g,b,_),v.return=g,g=v;break e}n(g,b);break}else t(g,b);b=b.sibling}_.type===Rp?(v=nh(_.props.children,g.mode,S,_.key),v.return=g,g=v):(S=bw(_.type,_.key,_.props,null,g.mode,S),S.ref=p0(g,v,_),S.return=g,g=S)}return o(g);case Op:e:{for(b=_.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=DP(_,g.mode,S),v.return=g,g=v}return o(g);case Hc:return b=_._init,y(g,v,b(_._payload),S)}if(G0(_))return p(g,v,_,S);if(l0(_))return m(g,v,_,S);q1(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=kP(_,g.mode,S),v.return=g,g=v),o(g)):n(g,v)}return y}var Dm=aK(!0),uK=aK(!1),S_={},Wu=Jf(S_),dv=Jf(S_),hv=Jf(S_);function jd(e){if(e===S_)throw Error(Ne(174));return e}function f$(e,t){switch(Qn(hv,t),Qn(dv,e),Qn(Wu,S_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dR(t,e)}sr(Wu),Qn(Wu,t)}function $m(){sr(Wu),sr(dv),sr(hv)}function lK(e){jd(hv.current);var t=jd(Wu.current),n=dR(t,e.type);t!==n&&(Qn(dv,e),Qn(Wu,n))}function d$(e){dv.current===e&&(sr(Wu),sr(dv))}var gr=Jf(0);function TE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var CP=[];function h$(){for(var e=0;e<CP.length;e++)CP[e]._workInProgressVersionPrimary=null;CP.length=0}var mw=bc.ReactCurrentDispatcher,AP=bc.ReactCurrentBatchConfig,hh=0,yr=null,ni=null,mi=null,xE=!1,_y=!1,pv=0,g0e=0;function Gi(){throw Error(Ne(321))}function p$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ka(e[n],t[n]))return!1;return!0}function m$(e,t,n,r,i,s){if(hh=s,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mw.current=e===null||e.memoizedState===null?b0e:w0e,e=n(r,i),_y){s=0;do{if(_y=!1,pv=0,25<=s)throw Error(Ne(301));s+=1,mi=ni=null,t.updateQueue=null,mw.current=E0e,e=n(r,i)}while(_y)}if(mw.current=IE,t=ni!==null&&ni.next!==null,hh=0,mi=ni=yr=null,xE=!1,t)throw Error(Ne(300));return e}function g$(){var e=pv!==0;return pv=0,e}function mu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?yr.memoizedState=mi=e:mi=mi.next=e,mi}function ca(){if(ni===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=ni.next;var t=mi===null?yr.memoizedState:mi.next;if(t!==null)mi=t,ni=e;else{if(e===null)throw Error(Ne(310));ni=e,e={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},mi===null?yr.memoizedState=mi=e:mi=mi.next=e}return mi}function mv(e,t){return typeof t=="function"?t(e):t}function PP(e){var t=ca(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=ni,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((hh&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,yr.lanes|=c,ph|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Ka(r,t.memoizedState)||(Qs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,yr.lanes|=s,ph|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function OP(e){var t=ca(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ka(s,t.memoizedState)||(Qs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function cK(){}function fK(e,t){var n=yr,r=ca(),i=t(),s=!Ka(r.memoizedState,i);if(s&&(r.memoizedState=i,Qs=!0),r=r.queue,y$(pK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,gv(9,hK.bind(null,n,r,i,t),void 0,null),vi===null)throw Error(Ne(349));hh&30||dK(n,t,i)}return i}function dK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hK(e,t,n,r){t.value=n,t.getSnapshot=r,mK(t)&&gK(e)}function pK(e,t,n){return n(function(){mK(t)&&gK(e)})}function mK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ka(e,n)}catch{return!0}}function gK(e){var t=Zl(e,1);t!==null&&Ha(t,e,1,-1)}function wF(e){var t=mu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:e},t.queue=e,e=e.dispatch=_0e.bind(null,yr,e),[t.memoizedState,e]}function gv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yK(){return ca().memoizedState}function gw(e,t,n,r){var i=mu();yr.flags|=e,i.memoizedState=gv(1|t,n,void 0,r===void 0?null:r)}function gI(e,t,n,r){var i=ca();r=r===void 0?null:r;var s=void 0;if(ni!==null){var o=ni.memoizedState;if(s=o.destroy,r!==null&&p$(r,o.deps)){i.memoizedState=gv(t,n,s,r);return}}yr.flags|=e,i.memoizedState=gv(1|t,n,s,r)}function EF(e,t){return gw(8390656,8,e,t)}function y$(e,t){return gI(2048,8,e,t)}function vK(e,t){return gI(4,2,e,t)}function _K(e,t){return gI(4,4,e,t)}function bK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wK(e,t,n){return n=n!=null?n.concat([e]):null,gI(4,4,bK.bind(null,t,e),n)}function v$(){}function EK(e,t){var n=ca();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&p$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SK(e,t){var n=ca();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&p$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function TK(e,t,n){return hh&21?(Ka(n,t)||(n=CY(),yr.lanes|=n,ph|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qs=!0),e.memoizedState=n)}function y0e(e,t){var n=$n;$n=n!==0&&4>n?n:4,e(!0);var r=AP.transition;AP.transition={};try{e(!1),t()}finally{$n=n,AP.transition=r}}function xK(){return ca().memoizedState}function v0e(e,t,n){var r=yf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IK(e))CK(t,n);else if(n=rK(e,t,n,r),n!==null){var i=ws();Ha(n,e,r,i),AK(n,t,r)}}function _0e(e,t,n){var r=yf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IK(e))CK(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ka(a,o)){var u=t.interleaved;u===null?(i.next=i,l$(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=rK(e,t,i,r),n!==null&&(i=ws(),Ha(n,e,r,i),AK(n,t,r))}}function IK(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function CK(e,t){_y=xE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AK(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,KD(e,n)}}var IE={readContext:la,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},b0e={readContext:la,useCallback:function(e,t){return mu().memoizedState=[e,t===void 0?null:t],e},useContext:la,useEffect:EF,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gw(4194308,4,bK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gw(4194308,4,e,t)},useInsertionEffect:function(e,t){return gw(4,2,e,t)},useMemo:function(e,t){var n=mu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=v0e.bind(null,yr,e),[r.memoizedState,e]},useRef:function(e){var t=mu();return e={current:e},t.memoizedState=e},useState:wF,useDebugValue:v$,useDeferredValue:function(e){return mu().memoizedState=e},useTransition:function(){var e=wF(!1),t=e[0];return e=y0e.bind(null,e[1]),mu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yr,i=mu();if(pr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),vi===null)throw Error(Ne(349));hh&30||dK(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,EF(pK.bind(null,r,s,e),[e]),r.flags|=2048,gv(9,hK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mu(),t=vi.identifierPrefix;if(pr){var n=Fl,r=Ml;n=(r&~(1<<32-za(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=g0e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w0e={readContext:la,useCallback:EK,useContext:la,useEffect:y$,useImperativeHandle:wK,useInsertionEffect:vK,useLayoutEffect:_K,useMemo:SK,useReducer:PP,useRef:yK,useState:function(){return PP(mv)},useDebugValue:v$,useDeferredValue:function(e){var t=ca();return TK(t,ni.memoizedState,e)},useTransition:function(){var e=PP(mv)[0],t=ca().memoizedState;return[e,t]},useMutableSource:cK,useSyncExternalStore:fK,useId:xK,unstable_isNewReconciler:!1},E0e={readContext:la,useCallback:EK,useContext:la,useEffect:y$,useImperativeHandle:wK,useInsertionEffect:vK,useLayoutEffect:_K,useMemo:SK,useReducer:OP,useRef:yK,useState:function(){return OP(mv)},useDebugValue:v$,useDeferredValue:function(e){var t=ca();return ni===null?t.memoizedState=e:TK(t,ni.memoizedState,e)},useTransition:function(){var e=OP(mv)[0],t=ca().memoizedState;return[e,t]},useMutableSource:cK,useSyncExternalStore:fK,useId:xK,unstable_isNewReconciler:!1};function Lm(e,t){try{var n="",r=t;do n+=Qme(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function RP(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $R(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var S0e=typeof WeakMap=="function"?WeakMap:Map;function PK(e,t,n){n=ql(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){AE||(AE=!0,WR=r),$R(e,t)},n}function OK(e,t,n){n=ql(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$R(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$R(e,t),typeof r!="function"&&(gf===null?gf=new Set([this]):gf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function SF(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new S0e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=M0e.bind(null,e,t,n),t.then(e,e))}function TF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xF(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ql(-1,1),t.tag=2,mf(n,t,1))),n.lanes|=1),e)}var T0e=bc.ReactCurrentOwner,Qs=!1;function ys(e,t,n,r){t.child=e===null?uK(t,null,n,r):Dm(t,e.child,n,r)}function IF(e,t,n,r,i){n=n.render;var s=t.ref;return sm(t,i),r=m$(e,t,n,r,s,i),n=g$(),e!==null&&!Qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ec(e,t,i)):(pr&&n&&r$(t),t.flags|=1,ys(e,t,r,i),t.child)}function CF(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!I$(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,RK(e,t,s,r,i)):(e=bw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uv,n(o,r)&&e.ref===t.ref)return ec(e,t,i)}return t.flags|=1,e=vf(s,r),e.ref=t.ref,e.return=t,t.child=e}function RK(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(uv(s,r)&&e.ref===t.ref)if(Qs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Qs=!0);else return t.lanes=e.lanes,ec(e,t,i)}return LR(e,t,n,r,i)}function NK(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(Up,wo),wo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qn(Up,wo),wo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qn(Up,wo),wo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qn(Up,wo),wo|=r;return ys(e,t,i,n),t.child}function kK(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function LR(e,t,n,r,i){var s=to(n)?fh:ls.current;return s=Nm(t,s),sm(t,i),n=m$(e,t,n,r,s,i),r=g$(),e!==null&&!Qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ec(e,t,i)):(pr&&r&&r$(t),t.flags|=1,ys(e,t,n,i),t.child)}function AF(e,t,n,r,i){if(to(n)){var s=!0;vE(t)}else s=!1;if(sm(t,i),t.stateNode===null)yw(e,t),oK(t,n,r),DR(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=la(l):(l=to(n)?fh:ls.current,l=Nm(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&_F(t,o,r,l),Wc=!1;var d=t.memoizedState;o.state=d,SE(t,r,o,i),u=t.memoizedState,a!==r||d!==u||eo.current||Wc?(typeof c=="function"&&(kR(t,n,c,r),u=t.memoizedState),(a=Wc||vF(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,iK(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Oa(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=la(u):(u=to(n)?fh:ls.current,u=Nm(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&_F(t,o,r,u),Wc=!1,d=t.memoizedState,o.state=d,SE(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||eo.current||Wc?(typeof h=="function"&&(kR(t,n,h,r),p=t.memoizedState),(l=Wc||vF(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return MR(e,t,n,r,s,i)}function MR(e,t,n,r,i,s){kK(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&hF(t,n,!1),ec(e,t,s);r=t.stateNode,T0e.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dm(t,e.child,null,s),t.child=Dm(t,null,a,s)):ys(e,t,a,s),t.memoizedState=r.state,i&&hF(t,n,!0),t.child}function DK(e){var t=e.stateNode;t.pendingContext?dF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dF(e,t.context,!1),f$(e,t.containerInfo)}function PF(e,t,n,r,i){return km(),s$(i),t.flags|=256,ys(e,t,n,r),t.child}var FR={dehydrated:null,treeContext:null,retryLane:0};function jR(e){return{baseLanes:e,cachePool:null,transitions:null}}function $K(e,t,n){var r=t.pendingProps,i=gr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qn(gr,i&1),e===null)return RR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_I(o,r,0,null),e=nh(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jR(n),t.memoizedState=FR,e):_$(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return x0e(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=vf(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=vf(a,s):(s=nh(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?jR(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=FR,r}return s=e.child,e=s.sibling,r=vf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _$(e,t){return t=_I({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function G1(e,t,n,r){return r!==null&&s$(r),Dm(t,e.child,null,n),e=_$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0e(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=RP(Error(Ne(422))),G1(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=_I({mode:"visible",children:r.children},i,0,null),s=nh(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Dm(t,e.child,null,o),t.child.memoizedState=jR(o),t.memoizedState=FR,s);if(!(t.mode&1))return G1(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=RP(s,r,void 0),G1(e,t,o,r)}if(a=(o&e.childLanes)!==0,Qs||a){if(r=vi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zl(e,i),Ha(r,e,i,-1))}return x$(),r=RP(Error(Ne(421))),G1(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=F0e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,xo=pf(i.nextSibling),Ao=t,pr=!0,ka=null,e!==null&&(Xo[Jo++]=Ml,Xo[Jo++]=Fl,Xo[Jo++]=dh,Ml=e.id,Fl=e.overflow,dh=t),t=_$(t,r.children),t.flags|=4096,t)}function OF(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),NR(e.return,t,n)}function NP(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LK(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ys(e,t,r.children,n),r=gr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OF(e,n,t);else if(e.tag===19)OF(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qn(gr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&TE(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),NP(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&TE(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}NP(t,!0,n,null,s);break;case"together":NP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ec(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ph|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=vf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I0e(e,t,n){switch(t.tag){case 3:DK(t),km();break;case 5:lK(t);break;case 1:to(t.type)&&vE(t);break;case 4:f$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Qn(wE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qn(gr,gr.current&1),t.flags|=128,null):n&t.child.childLanes?$K(e,t,n):(Qn(gr,gr.current&1),e=ec(e,t,n),e!==null?e.sibling:null);Qn(gr,gr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return LK(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qn(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,NK(e,t,n)}return ec(e,t,n)}var MK,BR,FK,jK;MK=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BR=function(){};FK=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,jd(Wu.current);var s=null;switch(n){case"input":i=uR(e,i),r=uR(e,r),s=[];break;case"select":i=vr({},i,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":i=fR(e,i),r=fR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gE)}hR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(tv.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(tv.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Zn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};jK=function(e,t,n,r){n!==r&&(t.flags|=4)};function m0(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function C0e(e,t,n){var r=t.pendingProps;switch(i$(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:return to(t.type)&&yE(),Yi(t),null;case 3:return r=t.stateNode,$m(),sr(eo),sr(ls),h$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(W1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ka!==null&&(YR(ka),ka=null))),BR(e,t),Yi(t),null;case 5:d$(t);var i=jd(hv.current);if(n=t.type,e!==null&&t.stateNode!=null)FK(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Yi(t),null}if(e=jd(Wu.current),W1(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Tu]=t,r[fv]=s,e=(t.mode&1)!==0,n){case"dialog":Zn("cancel",r),Zn("close",r);break;case"iframe":case"object":case"embed":Zn("load",r);break;case"video":case"audio":for(i=0;i<K0.length;i++)Zn(K0[i],r);break;case"source":Zn("error",r);break;case"img":case"image":case"link":Zn("error",r),Zn("load",r);break;case"details":Zn("toggle",r);break;case"input":j5(r,s),Zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zn("invalid",r);break;case"textarea":U5(r,s),Zn("invalid",r)}hR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&H1(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&H1(r.textContent,a,e),i=["children",""+a]):tv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zn("scroll",r)}switch(n){case"input":L1(r),B5(r,s,!0);break;case"textarea":L1(r),V5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dY(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Tu]=t,e[fv]=r,MK(e,t,!1,!1),t.stateNode=e;e:{switch(o=pR(n,r),n){case"dialog":Zn("cancel",e),Zn("close",e),i=r;break;case"iframe":case"object":case"embed":Zn("load",e),i=r;break;case"video":case"audio":for(i=0;i<K0.length;i++)Zn(K0[i],e);i=r;break;case"source":Zn("error",e),i=r;break;case"img":case"image":case"link":Zn("error",e),Zn("load",e),i=r;break;case"details":Zn("toggle",e),i=r;break;case"input":j5(e,r),i=uR(e,r),Zn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vr({},r,{value:void 0}),Zn("invalid",e);break;case"textarea":U5(e,r),i=fR(e,r),Zn("invalid",e);break;default:i=r}hR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?mY(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hY(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&nv(e,u):typeof u=="number"&&nv(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tv.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Zn("scroll",e):u!=null&&zD(e,s,u,o))}switch(n){case"input":L1(e),B5(e,r,!1);break;case"textarea":L1(e),V5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Af(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?tm(e,!!r.multiple,s,!1):r.defaultValue!=null&&tm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&t.stateNode!=null)jK(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=jd(hv.current),jd(Wu.current),W1(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tu]=t,(s=r.nodeValue!==n)&&(e=Ao,e!==null))switch(e.tag){case 3:H1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H1(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tu]=t,t.stateNode=r}return Yi(t),null;case 13:if(sr(gr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&xo!==null&&t.mode&1&&!(t.flags&128))nK(),km(),t.flags|=98560,s=!1;else if(s=W1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Tu]=t}else km(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else ka!==null&&(YR(ka),ka=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gr.current&1?oi===0&&(oi=3):x$())),t.updateQueue!==null&&(t.flags|=4),Yi(t),null);case 4:return $m(),BR(e,t),e===null&&lv(t.stateNode.containerInfo),Yi(t),null;case 10:return u$(t.type._context),Yi(t),null;case 17:return to(t.type)&&yE(),Yi(t),null;case 19:if(sr(gr),s=t.memoizedState,s===null)return Yi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)m0(s,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=TE(e),o!==null){for(t.flags|=128,m0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qn(gr,gr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fr()>Mm&&(t.flags|=128,r=!0,m0(s,!1),t.lanes=4194304)}else{if(!r)if(e=TE(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),m0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pr)return Yi(t),null}else 2*Fr()-s.renderingStartTime>Mm&&n!==1073741824&&(t.flags|=128,r=!0,m0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fr(),t.sibling=null,n=gr.current,Qn(gr,r?n&1|2:n&1),t):(Yi(t),null);case 22:case 23:return T$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wo&1073741824&&(Yi(t),t.subtreeFlags&6&&(t.flags|=8192)):Yi(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function A0e(e,t){switch(i$(t),t.tag){case 1:return to(t.type)&&yE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $m(),sr(eo),sr(ls),h$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return d$(t),null;case 13:if(sr(gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));km()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(gr),null;case 4:return $m(),null;case 10:return u$(t.type._context),null;case 22:case 23:return T$(),null;case 24:return null;default:return null}}var Y1=!1,rs=!1,P0e=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Bp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(e,t,r)}else n.current=null}function UR(e,t,n){try{n()}catch(r){Ir(e,t,r)}}var RF=!1;function O0e(e,t){if(TR=hE,e=zY(),n$(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xR={focusedElem:e,selectionRange:n},hE=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Oa(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(S){Ir(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return p=RF,RF=!1,p}function by(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&UR(t,n,s)}i=i.next}while(i!==r)}}function yI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function VR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BK(e){var t=e.alternate;t!==null&&(e.alternate=null,BK(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tu],delete t[fv],delete t[AR],delete t[d0e],delete t[h0e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UK(e){return e.tag===5||e.tag===3||e.tag===4}function NF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UK(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gE));else if(r!==4&&(e=e.child,e!==null))for(zR(e,t,n),e=e.sibling;e!==null;)zR(e,t,n),e=e.sibling}function HR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(HR(e,t,n),e=e.sibling;e!==null;)HR(e,t,n),e=e.sibling}var Pi=null,Ra=!1;function Oc(e,t,n){for(n=n.child;n!==null;)VK(e,t,n),n=n.sibling}function VK(e,t,n){if(Hu&&typeof Hu.onCommitFiberUnmount=="function")try{Hu.onCommitFiberUnmount(lI,n)}catch{}switch(n.tag){case 5:rs||Bp(n,t);case 6:var r=Pi,i=Ra;Pi=null,Oc(e,t,n),Pi=r,Ra=i,Pi!==null&&(Ra?(e=Pi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pi.removeChild(n.stateNode));break;case 18:Pi!==null&&(Ra?(e=Pi,n=n.stateNode,e.nodeType===8?xP(e.parentNode,n):e.nodeType===1&&xP(e,n),ov(e)):xP(Pi,n.stateNode));break;case 4:r=Pi,i=Ra,Pi=n.stateNode.containerInfo,Ra=!0,Oc(e,t,n),Pi=r,Ra=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&UR(n,t,o),i=i.next}while(i!==r)}Oc(e,t,n);break;case 1:if(!rs&&(Bp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ir(n,t,a)}Oc(e,t,n);break;case 21:Oc(e,t,n);break;case 22:n.mode&1?(rs=(r=rs)||n.memoizedState!==null,Oc(e,t,n),rs=r):Oc(e,t,n);break;default:Oc(e,t,n)}}function kF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P0e),t.forEach(function(r){var i=j0e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pi=a.stateNode,Ra=!1;break e;case 3:Pi=a.stateNode.containerInfo,Ra=!0;break e;case 4:Pi=a.stateNode.containerInfo,Ra=!0;break e}a=a.return}if(Pi===null)throw Error(Ne(160));VK(s,o,i),Pi=null,Ra=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ir(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zK(t,e),t=t.sibling}function zK(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xa(t,e),lu(e),r&4){try{by(3,e,e.return),yI(3,e)}catch(m){Ir(e,e.return,m)}try{by(5,e,e.return)}catch(m){Ir(e,e.return,m)}}break;case 1:xa(t,e),lu(e),r&512&&n!==null&&Bp(n,n.return);break;case 5:if(xa(t,e),lu(e),r&512&&n!==null&&Bp(n,n.return),e.flags&32){var i=e.stateNode;try{nv(i,"")}catch(m){Ir(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cY(i,s),pR(a,o);var l=pR(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?mY(i,f):c==="dangerouslySetInnerHTML"?hY(i,f):c==="children"?nv(i,f):zD(i,c,f,l)}switch(a){case"input":lR(i,s);break;case"textarea":fY(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?tm(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?tm(i,!!s.multiple,s.defaultValue,!0):tm(i,!!s.multiple,s.multiple?[]:"",!1))}i[fv]=s}catch(m){Ir(e,e.return,m)}}break;case 6:if(xa(t,e),lu(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Ir(e,e.return,m)}}break;case 3:if(xa(t,e),lu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ov(t.containerInfo)}catch(m){Ir(e,e.return,m)}break;case 4:xa(t,e),lu(e);break;case 13:xa(t,e),lu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E$=Fr())),r&4&&kF(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rs=(l=rs)||c,xa(t,e),rs=l):xa(t,e),lu(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ye=e,c=e.child;c!==null;){for(f=Ye=c;Ye!==null;){switch(d=Ye,h=d.child,d.tag){case 0:case 11:case 14:case 15:by(4,d,d.return);break;case 1:Bp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Ir(r,n,m)}}break;case 5:Bp(d,d.return);break;case 22:if(d.memoizedState!==null){$F(f);continue}}h!==null?(h.return=d,Ye=h):$F(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=pY("display",o))}catch(m){Ir(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ir(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xa(t,e),lu(e),r&4&&kF(e);break;case 21:break;default:xa(t,e),lu(e)}}function lu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(UK(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nv(i,""),r.flags&=-33);var s=NF(e);HR(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NF(e);zR(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Ir(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R0e(e,t,n){Ye=e,HK(e)}function HK(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Y1;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||rs;a=Y1;var l=rs;if(Y1=o,(rs=u)&&!l)for(Ye=i;Ye!==null;)o=Ye,u=o.child,o.tag===22&&o.memoizedState!==null?LF(i):u!==null?(u.return=o,Ye=u):LF(i);for(;s!==null;)Ye=s,HK(s),s=s.sibling;Ye=i,Y1=a,rs=l}DF(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):DF(e)}}function DF(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rs||yI(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Oa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&yF(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yF(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ov(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}rs||t.flags&512&&VR(t)}catch(d){Ir(t,t.return,d)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function $F(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function LF(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yI(4,t)}catch(u){Ir(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ir(t,i,u)}}var s=t.return;try{VR(t)}catch(u){Ir(t,s,u)}break;case 5:var o=t.return;try{VR(t)}catch(u){Ir(t,o,u)}}}catch(u){Ir(t,t.return,u)}if(t===e){Ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ye=a;break}Ye=t.return}}var N0e=Math.ceil,CE=bc.ReactCurrentDispatcher,b$=bc.ReactCurrentOwner,ua=bc.ReactCurrentBatchConfig,gn=0,vi=null,Qr=null,Li=0,wo=0,Up=Jf(0),oi=0,yv=null,ph=0,vI=0,w$=0,wy=null,Hs=null,E$=0,Mm=1/0,Al=null,AE=!1,WR=null,gf=null,K1=!1,sf=null,PE=0,Ey=0,qR=null,vw=-1,_w=0;function ws(){return gn&6?Fr():vw!==-1?vw:vw=Fr()}function yf(e){return e.mode&1?gn&2&&Li!==0?Li&-Li:m0e.transition!==null?(_w===0&&(_w=CY()),_w):(e=$n,e!==0||(e=window.event,e=e===void 0?16:DY(e.type)),e):1}function Ha(e,t,n,r){if(50<Ey)throw Ey=0,qR=null,Error(Ne(185));b_(e,n,r),(!(gn&2)||e!==vi)&&(e===vi&&(!(gn&2)&&(vI|=n),oi===4&&Qc(e,Li)),no(e,r),n===1&&gn===0&&!(t.mode&1)&&(Mm=Fr()+500,pI&&Zf()))}function no(e,t){var n=e.callbackNode;mge(e,t);var r=dE(e,e===vi?Li:0);if(r===0)n!==null&&W5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&W5(n),t===1)e.tag===0?p0e(MF.bind(null,e)):ZY(MF.bind(null,e)),c0e(function(){!(gn&6)&&Zf()}),n=null;else{switch(AY(r)){case 1:n=YD;break;case 4:n=xY;break;case 16:n=fE;break;case 536870912:n=IY;break;default:n=fE}n=JK(n,WK.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function WK(e,t){if(vw=-1,_w=0,gn&6)throw Error(Ne(327));var n=e.callbackNode;if(om()&&e.callbackNode!==n)return null;var r=dE(e,e===vi?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=OE(e,r);else{t=r;var i=gn;gn|=2;var s=GK();(vi!==e||Li!==t)&&(Al=null,Mm=Fr()+500,th(e,t));do try{$0e();break}catch(a){qK(e,a)}while(!0);a$(),CE.current=s,gn=i,Qr!==null?t=0:(vi=null,Li=0,t=oi)}if(t!==0){if(t===2&&(i=_R(e),i!==0&&(r=i,t=GR(e,i))),t===1)throw n=yv,th(e,0),Qc(e,r),no(e,Fr()),n;if(t===6)Qc(e,r);else{if(i=e.current.alternate,!(r&30)&&!k0e(i)&&(t=OE(e,r),t===2&&(s=_R(e),s!==0&&(r=s,t=GR(e,s))),t===1))throw n=yv,th(e,0),Qc(e,r),no(e,Fr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:bd(e,Hs,Al);break;case 3:if(Qc(e,r),(r&130023424)===r&&(t=E$+500-Fr(),10<t)){if(dE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ws(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=CR(bd.bind(null,e,Hs,Al),t);break}bd(e,Hs,Al);break;case 4:if(Qc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-za(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N0e(r/1960))-r,10<r){e.timeoutHandle=CR(bd.bind(null,e,Hs,Al),r);break}bd(e,Hs,Al);break;case 5:bd(e,Hs,Al);break;default:throw Error(Ne(329))}}}return no(e,Fr()),e.callbackNode===n?WK.bind(null,e):null}function GR(e,t){var n=wy;return e.current.memoizedState.isDehydrated&&(th(e,t).flags|=256),e=OE(e,t),e!==2&&(t=Hs,Hs=n,t!==null&&YR(t)),e}function YR(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function k0e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ka(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qc(e,t){for(t&=~w$,t&=~vI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-za(t),r=1<<n;e[n]=-1,t&=~r}}function MF(e){if(gn&6)throw Error(Ne(327));om();var t=dE(e,0);if(!(t&1))return no(e,Fr()),null;var n=OE(e,t);if(e.tag!==0&&n===2){var r=_R(e);r!==0&&(t=r,n=GR(e,r))}if(n===1)throw n=yv,th(e,0),Qc(e,t),no(e,Fr()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bd(e,Hs,Al),no(e,Fr()),null}function S$(e,t){var n=gn;gn|=1;try{return e(t)}finally{gn=n,gn===0&&(Mm=Fr()+500,pI&&Zf())}}function mh(e){sf!==null&&sf.tag===0&&!(gn&6)&&om();var t=gn;gn|=1;var n=ua.transition,r=$n;try{if(ua.transition=null,$n=1,e)return e()}finally{$n=r,ua.transition=n,gn=t,!(gn&6)&&Zf()}}function T$(){wo=Up.current,sr(Up)}function th(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,l0e(n)),Qr!==null)for(n=Qr.return;n!==null;){var r=n;switch(i$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yE();break;case 3:$m(),sr(eo),sr(ls),h$();break;case 5:d$(r);break;case 4:$m();break;case 13:sr(gr);break;case 19:sr(gr);break;case 10:u$(r.type._context);break;case 22:case 23:T$()}n=n.return}if(vi=e,Qr=e=vf(e.current,null),Li=wo=t,oi=0,yv=null,w$=vI=ph=0,Hs=wy=null,Fd!==null){for(t=0;t<Fd.length;t++)if(n=Fd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fd=null}return e}function qK(e,t){do{var n=Qr;try{if(a$(),mw.current=IE,xE){for(var r=yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xE=!1}if(hh=0,mi=ni=yr=null,_y=!1,pv=0,b$.current=null,n===null||n.return===null){oi=1,yv=t,Qr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Li,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=TF(o);if(h!==null){h.flags&=-257,xF(h,o,a,s,t),h.mode&1&&SF(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){SF(s,l,t),x$();break e}u=Error(Ne(426))}}else if(pr&&a.mode&1){var y=TF(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),xF(y,o,a,s,t),s$(Lm(u,a));break e}}s=u=Lm(u,a),oi!==4&&(oi=2),wy===null?wy=[s]:wy.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=PK(s,u,t);gF(s,g);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gf===null||!gf.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=OK(s,a,t);gF(s,S);break e}}s=s.return}while(s!==null)}KK(n)}catch(x){t=x,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(!0)}function GK(){var e=CE.current;return CE.current=IE,e===null?IE:e}function x$(){(oi===0||oi===3||oi===2)&&(oi=4),vi===null||!(ph&268435455)&&!(vI&268435455)||Qc(vi,Li)}function OE(e,t){var n=gn;gn|=2;var r=GK();(vi!==e||Li!==t)&&(Al=null,th(e,t));do try{D0e();break}catch(i){qK(e,i)}while(!0);if(a$(),gn=n,CE.current=r,Qr!==null)throw Error(Ne(261));return vi=null,Li=0,oi}function D0e(){for(;Qr!==null;)YK(Qr)}function $0e(){for(;Qr!==null&&!oge();)YK(Qr)}function YK(e){var t=XK(e.alternate,e,wo);e.memoizedProps=e.pendingProps,t===null?KK(e):Qr=t,b$.current=null}function KK(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=A0e(n,t),n!==null){n.flags&=32767,Qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Qr=null;return}}else if(n=C0e(n,t,wo),n!==null){Qr=n;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);oi===0&&(oi=5)}function bd(e,t,n){var r=$n,i=ua.transition;try{ua.transition=null,$n=1,L0e(e,t,n,r)}finally{ua.transition=i,$n=r}return null}function L0e(e,t,n,r){do om();while(sf!==null);if(gn&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(gge(e,s),e===vi&&(Qr=vi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||K1||(K1=!0,JK(fE,function(){return om(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ua.transition,ua.transition=null;var o=$n;$n=1;var a=gn;gn|=4,b$.current=null,O0e(e,n),zK(n,e),n0e(xR),hE=!!TR,xR=TR=null,e.current=n,R0e(n),age(),gn=a,$n=o,ua.transition=s}else e.current=n;if(K1&&(K1=!1,sf=e,PE=i),s=e.pendingLanes,s===0&&(gf=null),cge(n.stateNode),no(e,Fr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(AE)throw AE=!1,e=WR,WR=null,e;return PE&1&&e.tag!==0&&om(),s=e.pendingLanes,s&1?e===qR?Ey++:(Ey=0,qR=e):Ey=0,Zf(),null}function om(){if(sf!==null){var e=AY(PE),t=ua.transition,n=$n;try{if(ua.transition=null,$n=16>e?16:e,sf===null)var r=!1;else{if(e=sf,sf=null,PE=0,gn&6)throw Error(Ne(331));var i=gn;for(gn|=4,Ye=e.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ye=l;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:by(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ye=f;else for(;Ye!==null;){c=Ye;var d=c.sibling,h=c.return;if(BK(c),c===l){Ye=null;break}if(d!==null){d.return=h,Ye=d;break}Ye=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:by(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ye=g;break e}Ye=s.return}}var v=e.current;for(Ye=v;Ye!==null;){o=Ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ye=_;else e:for(o=v;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yI(9,a)}}catch(x){Ir(a,a.return,x)}if(a===o){Ye=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ye=S;break e}Ye=a.return}}if(gn=i,Zf(),Hu&&typeof Hu.onPostCommitFiberRoot=="function")try{Hu.onPostCommitFiberRoot(lI,e)}catch{}r=!0}return r}finally{$n=n,ua.transition=t}}return!1}function FF(e,t,n){t=Lm(n,t),t=PK(e,t,1),e=mf(e,t,1),t=ws(),e!==null&&(b_(e,1,t),no(e,t))}function Ir(e,t,n){if(e.tag===3)FF(e,e,n);else for(;t!==null;){if(t.tag===3){FF(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gf===null||!gf.has(r))){e=Lm(n,e),e=OK(t,e,1),t=mf(t,e,1),e=ws(),t!==null&&(b_(t,1,e),no(t,e));break}}t=t.return}}function M0e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ws(),e.pingedLanes|=e.suspendedLanes&n,vi===e&&(Li&n)===n&&(oi===4||oi===3&&(Li&130023424)===Li&&500>Fr()-E$?th(e,0):w$|=n),no(e,t)}function QK(e,t){t===0&&(e.mode&1?(t=j1,j1<<=1,!(j1&130023424)&&(j1=4194304)):t=1);var n=ws();e=Zl(e,t),e!==null&&(b_(e,t,n),no(e,n))}function F0e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QK(e,n)}function j0e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),QK(e,n)}var XK;XK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||eo.current)Qs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qs=!1,I0e(e,t,n);Qs=!!(e.flags&131072)}else Qs=!1,pr&&t.flags&1048576&&eK(t,bE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yw(e,t),e=t.pendingProps;var i=Nm(t,ls.current);sm(t,n),i=m$(null,t,r,e,i,n);var s=g$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,to(r)?(s=!0,vE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c$(t),i.updater=mI,t.stateNode=i,i._reactInternals=t,DR(t,r,e,n),t=MR(null,t,r,!0,s,n)):(t.tag=0,pr&&s&&r$(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=U0e(r),e=Oa(r,e),i){case 0:t=LR(null,t,r,e,n);break e;case 1:t=AF(null,t,r,e,n);break e;case 11:t=IF(null,t,r,e,n);break e;case 14:t=CF(null,t,r,Oa(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),LR(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),AF(e,t,r,i,n);case 3:e:{if(DK(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,iK(e,t),SE(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Lm(Error(Ne(423)),t),t=PF(e,t,r,n,i);break e}else if(r!==i){i=Lm(Error(Ne(424)),t),t=PF(e,t,r,n,i);break e}else for(xo=pf(t.stateNode.containerInfo.firstChild),Ao=t,pr=!0,ka=null,n=uK(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(km(),r===i){t=ec(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return lK(t),e===null&&RR(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,IR(r,i)?o=null:s!==null&&IR(r,s)&&(t.flags|=32),kK(e,t),ys(e,t,o,n),t.child;case 6:return e===null&&RR(t),null;case 13:return $K(e,t,n);case 4:return f$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dm(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),IF(e,t,r,i,n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:return ys(e,t,t.pendingProps.children,n),t.child;case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Qn(wE,r._currentValue),r._currentValue=o,s!==null)if(Ka(s.value,o)){if(s.children===i.children&&!eo.current){t=ec(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ql(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),NR(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),NR(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sm(t,n),i=la(i),r=r(i),t.flags|=1,ys(e,t,r,n),t.child;case 14:return r=t.type,i=Oa(r,t.pendingProps),i=Oa(r.type,i),CF(e,t,r,i,n);case 15:return RK(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),yw(e,t),t.tag=1,to(r)?(e=!0,vE(t)):e=!1,sm(t,n),oK(t,r,i),DR(t,r,i,n),MR(null,t,r,!0,e,n);case 19:return LK(e,t,n);case 22:return NK(e,t,n)}throw Error(Ne(156,t.tag))};function JK(e,t){return TY(e,t)}function B0e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oa(e,t,n,r){return new B0e(e,t,n,r)}function I$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U0e(e){if(typeof e=="function")return I$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===WD)return 11;if(e===qD)return 14}return 2}function vf(e,t){var n=e.alternate;return n===null?(n=oa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bw(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")I$(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rp:return nh(n.children,i,s,t);case HD:o=8,i|=8;break;case iR:return e=oa(12,n,t,i|2),e.elementType=iR,e.lanes=s,e;case sR:return e=oa(13,n,t,i),e.elementType=sR,e.lanes=s,e;case oR:return e=oa(19,n,t,i),e.elementType=oR,e.lanes=s,e;case aY:return _I(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sY:o=10;break e;case oY:o=9;break e;case WD:o=11;break e;case qD:o=14;break e;case Hc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=oa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function nh(e,t,n,r){return e=oa(7,e,r,t),e.lanes=n,e}function _I(e,t,n,r){return e=oa(22,e,r,t),e.elementType=aY,e.lanes=n,e.stateNode={isHidden:!1},e}function kP(e,t,n){return e=oa(6,e,null,t),e.lanes=n,e}function DP(e,t,n){return t=oa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V0e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pP(0),this.expirationTimes=pP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C$(e,t,n,r,i,s,o,a,u){return e=new V0e(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=oa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c$(s),e}function z0e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Op,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ZK(e){if(!e)return Pf;e=e._reactInternals;e:{if(Fh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(to(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(to(n))return JY(e,n,t)}return t}function eQ(e,t,n,r,i,s,o,a,u){return e=C$(n,r,!0,e,i,s,o,a,u),e.context=ZK(null),n=e.current,r=ws(),i=yf(n),s=ql(r,i),s.callback=t??null,mf(n,s,i),e.current.lanes=i,b_(e,i,r),no(e,r),e}function bI(e,t,n,r){var i=t.current,s=ws(),o=yf(i);return n=ZK(n),t.context===null?t.context=n:t.pendingContext=n,t=ql(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mf(i,t,o),e!==null&&(Ha(e,i,o,s),pw(e,i,o)),o}function RE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function A$(e,t){jF(e,t),(e=e.alternate)&&jF(e,t)}function H0e(){return null}var tQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function P$(e){this._internalRoot=e}wI.prototype.render=P$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));bI(e,t,null,null)};wI.prototype.unmount=P$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mh(function(){bI(null,e,null,null)}),t[Jl]=null}};function wI(e){this._internalRoot=e}wI.prototype.unstable_scheduleHydration=function(e){if(e){var t=RY();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kc.length&&t!==0&&t<Kc[n].priority;n++);Kc.splice(n,0,e),n===0&&kY(e)}};function O$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function EI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BF(){}function W0e(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=RE(o);s.call(l)}}var o=eQ(t,r,e,0,null,!1,!1,"",BF);return e._reactRootContainer=o,e[Jl]=o.current,lv(e.nodeType===8?e.parentNode:e),mh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=RE(u);a.call(l)}}var u=C$(e,0,!1,null,null,!1,!1,"",BF);return e._reactRootContainer=u,e[Jl]=u.current,lv(e.nodeType===8?e.parentNode:e),mh(function(){bI(t,u,n,r)}),u}function SI(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=RE(o);a.call(u)}}bI(t,o,e,i)}else o=W0e(n,t,e,i,r);return RE(o)}PY=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Y0(t.pendingLanes);n!==0&&(KD(t,n|1),no(t,Fr()),!(gn&6)&&(Mm=Fr()+500,Zf()))}break;case 13:mh(function(){var r=Zl(e,1);if(r!==null){var i=ws();Ha(r,e,1,i)}}),A$(e,1)}};QD=function(e){if(e.tag===13){var t=Zl(e,134217728);if(t!==null){var n=ws();Ha(t,e,134217728,n)}A$(e,134217728)}};OY=function(e){if(e.tag===13){var t=yf(e),n=Zl(e,t);if(n!==null){var r=ws();Ha(n,e,t,r)}A$(e,t)}};RY=function(){return $n};NY=function(e,t){var n=$n;try{return $n=e,t()}finally{$n=n}};gR=function(e,t,n){switch(t){case"input":if(lR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hI(r);if(!i)throw Error(Ne(90));lY(r),lR(r,i)}}}break;case"textarea":fY(e,n);break;case"select":t=n.value,t!=null&&tm(e,!!n.multiple,t,!1)}};vY=S$;_Y=mh;var q0e={usingClientEntryPoint:!1,Events:[E_,$p,hI,gY,yY,S$]},g0={findFiberByHostInstance:Md,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},G0e={bundleType:g0.bundleType,version:g0.version,rendererPackageName:g0.rendererPackageName,rendererConfig:g0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=EY(e),e===null?null:e.stateNode},findFiberByHostInstance:g0.findFiberByHostInstance||H0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q1.isDisabled&&Q1.supportsFiber)try{lI=Q1.inject(G0e),Hu=Q1}catch{}}Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q0e;Bo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O$(t))throw Error(Ne(200));return z0e(e,t,null,n)};Bo.createRoot=function(e,t){if(!O$(e))throw Error(Ne(299));var n=!1,r="",i=tQ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=C$(e,1,!1,null,null,n,!1,r,i),e[Jl]=t.current,lv(e.nodeType===8?e.parentNode:e),new P$(t)};Bo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=EY(t),e=e===null?null:e.stateNode,e};Bo.flushSync=function(e){return mh(e)};Bo.hydrate=function(e,t,n){if(!EI(t))throw Error(Ne(200));return SI(null,e,t,!0,n)};Bo.hydrateRoot=function(e,t,n){if(!O$(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tQ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=eQ(t,null,e,1,n??null,i,!1,s,o),e[Jl]=t.current,lv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wI(t)};Bo.render=function(e,t,n){if(!EI(t))throw Error(Ne(200));return SI(null,e,t,!1,n)};Bo.unmountComponentAtNode=function(e){if(!EI(e))throw Error(Ne(40));return e._reactRootContainer?(mh(function(){SI(null,null,e,!1,function(){e._reactRootContainer=null,e[Jl]=null})}),!0):!1};Bo.unstable_batchedUpdates=S$;Bo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!EI(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return SI(e,t,n,!1,r)};Bo.version="18.2.0-next-9e3b772b8-20220608";function nQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nQ)}catch(e){console.error(e)}}nQ(),eY.exports=Bo;var jh=eY.exports,UF=jh;nR.createRoot=UF.createRoot,nR.hydrateRoot=UF.hydrateRoot;function NE(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Y0e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function K0e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Q0e(e,t,n){return NE(e,n)===NE(t,n)}function X0e({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=NE(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>Q0e(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=K0e(c,l,r),d=Y0e(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function J0e(e,t,n){var r;return n?Array.from(((r=NE(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function TI(e){const t=w.createContext(null);return[({children:i,value:s})=>N.createElement(t.Provider,{value:s},i),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function gh(e){return Array.isArray(e)?e:[e]}const Z0e=()=>{};function eye(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Z0e:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function jl(e,t){return n=>{e==null||e(n),t==null||t(n)}}function tye(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function rQ({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function T_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==N.Fragment:!1}function iQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=iQ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function sQ(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=iQ(t))&&(r&&(r+=" "),r+=n);return r}const nye={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function rye(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var iye=Object.defineProperty,VF=Object.getOwnPropertySymbols,sye=Object.prototype.hasOwnProperty,oye=Object.prototype.propertyIsEnumerable,zF=(e,t,n)=>t in e?iye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HF=(e,t)=>{for(var n in t||(t={}))sye.call(t,n)&&zF(e,n,t[n]);if(VF)for(var n of VF(t))oye.call(t,n)&&zF(e,n,t[n]);return e};function aye(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:HF({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:HF({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function x_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function R$(e){const t=x_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function oQ(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function uye(e,...t){return`linear-gradient(${e}deg, ${oQ(t)})`}function lye(...e){return`radial-gradient(circle, ${oQ(e)})`}function aQ(e){const t=R$(e),n=x_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function N$(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function cye(e){return t=>`@media (min-width: ${N$({size:t,sizes:e.breakpoints})}px)`}function fye(e){return t=>`@media (max-width: ${N$({size:t,sizes:e.breakpoints})-1}px)`}function dye(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function hye(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function pye(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function k$(e){return dye(e)?hye(e):e.startsWith("rgb")?pye(e):{r:0,g:0,b:0,a:1}}function bp(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=k$(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function mye(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function gye(e,t){const{r:n,g:r,b:i,a:s}=k$(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function yye(e,t){const{r:n,g:r,b:i,a:s}=k$(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function vye(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function _ye(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function bye(e){const t=R$(e),n=x_(e),r=aQ(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=_ye(s,e);switch(i){case"light":return{border:"transparent",background:bp(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:bp(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:bp(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?bp(t(s,5,a,!1),.05):bp(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function wye(e){return t=>{const n=x_(e)(t);return e.colors[e.primaryColor][n]}}function Eye(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function Sye(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const ei={fontStyles:rye,themeColor:R$,focusStyles:aye,linearGradient:uye,radialGradient:lye,smallerThan:fye,largerThan:cye,rgba:bp,size:N$,cover:mye,darken:gye,lighten:yye,radius:vye,variant:bye,primaryShade:x_,hover:Eye,gradient:aQ,primaryColor:wye,placeholderStyles:Sye};var Tye=Object.defineProperty,xye=Object.defineProperties,Iye=Object.getOwnPropertyDescriptors,WF=Object.getOwnPropertySymbols,Cye=Object.prototype.hasOwnProperty,Aye=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?Tye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pye=(e,t)=>{for(var n in t||(t={}))Cye.call(t,n)&&qF(e,n,t[n]);if(WF)for(var n of WF(t))Aye.call(t,n)&&qF(e,n,t[n]);return e},Oye=(e,t)=>xye(e,Iye(t));function uQ(e){return Oye(Pye({},e),{fn:{fontStyles:ei.fontStyles(e),themeColor:ei.themeColor(e),focusStyles:ei.focusStyles(e),largerThan:ei.largerThan(e),smallerThan:ei.smallerThan(e),radialGradient:ei.radialGradient,linearGradient:ei.linearGradient,gradient:ei.gradient(e),rgba:ei.rgba,size:ei.size,cover:ei.cover,lighten:ei.lighten,darken:ei.darken,primaryShade:ei.primaryShade(e),radius:ei.radius(e),variant:ei.variant(e),hover:ei.hover,primaryColor:ei.primaryColor(e),placeholderStyles:ei.placeholderStyles(e)}})}const lQ=["xs","sm","md","lg","xl"],Rye={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:nye,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},D$=uQ(Rye);function Nye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kye(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Dye=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kye(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Nye(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),es="-ms-",kE="-moz-",Tn="-webkit-",cQ="comm",$$="rule",L$="decl",$ye="@import",fQ="@keyframes",Lye="@layer",Mye=Math.abs,xI=String.fromCharCode,Fye=Object.assign;function jye(e,t){return Ni(e,0)^45?(((t<<2^Ni(e,0))<<2^Ni(e,1))<<2^Ni(e,2))<<2^Ni(e,3):0}function dQ(e){return e.trim()}function Bye(e,t){return(e=t.exec(e))?e[0]:e}function xn(e,t,n){return e.replace(t,n)}function KR(e,t){return e.indexOf(t)}function Ni(e,t){return e.charCodeAt(t)|0}function vv(e,t,n){return e.slice(t,n)}function Eu(e){return e.length}function M$(e){return e.length}function X1(e,t){return t.push(e),e}function Uye(e,t){return e.map(t).join("")}var II=1,Fm=1,hQ=0,oo=0,Kr=0,Sg="";function CI(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:II,column:Fm,length:o,return:""}}function y0(e,t){return Fye(CI("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vye(){return Kr}function zye(){return Kr=oo>0?Ni(Sg,--oo):0,Fm--,Kr===10&&(Fm=1,II--),Kr}function Po(){return Kr=oo<hQ?Ni(Sg,oo++):0,Fm++,Kr===10&&(Fm=1,II++),Kr}function qu(){return Ni(Sg,oo)}function ww(){return oo}function I_(e,t){return vv(Sg,e,t)}function _v(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pQ(e){return II=Fm=1,hQ=Eu(Sg=e),oo=0,[]}function mQ(e){return Sg="",e}function Ew(e){return dQ(I_(oo-1,QR(e===91?e+2:e===40?e+1:e)))}function Hye(e){for(;(Kr=qu())&&Kr<33;)Po();return _v(e)>2||_v(Kr)>3?"":" "}function Wye(e,t){for(;--t&&Po()&&!(Kr<48||Kr>102||Kr>57&&Kr<65||Kr>70&&Kr<97););return I_(e,ww()+(t<6&&qu()==32&&Po()==32))}function QR(e){for(;Po();)switch(Kr){case e:return oo;case 34:case 39:e!==34&&e!==39&&QR(Kr);break;case 40:e===41&&QR(e);break;case 92:Po();break}return oo}function qye(e,t){for(;Po()&&e+Kr!==57;)if(e+Kr===84&&qu()===47)break;return"/*"+I_(t,oo-1)+"*"+xI(e===47?e:Po())}function Gye(e){for(;!_v(qu());)Po();return I_(e,oo)}function Yye(e){return mQ(Sw("",null,null,null,[""],e=pQ(e),0,[0],e))}function Sw(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,v=0,_="",S=i,x=s,b=r,T=_;y;)switch(p=v,v=Po()){case 40:if(p!=108&&Ni(T,f-1)==58){KR(T+=xn(Ew(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:T+=Ew(v);break;case 9:case 10:case 13:case 32:T+=Hye(p);break;case 92:T+=Wye(ww()-1,7);continue;case 47:switch(qu()){case 42:case 47:X1(Kye(qye(Po(),ww()),t,n),u);break;default:T+="/"}break;case 123*m:a[l++]=Eu(T)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:g==-1&&(T=xn(T,/\f/g,"")),h>0&&Eu(T)-f&&X1(h>32?YF(T+";",r,n,f-1):YF(xn(T," ","")+";",r,n,f-2),u);break;case 59:T+=";";default:if(X1(b=GF(T,t,n,l,c,i,a,_,S=[],x=[],f),s),v===123)if(c===0)Sw(T,t,b,b,S,s,f,a,x);else switch(d===99&&Ni(T,3)===110?100:d){case 100:case 108:case 109:case 115:Sw(e,b,b,r&&X1(GF(e,b,b,0,0,i,a,_,i,S=[],f),x),i,x,f,a,r?S:x);break;default:Sw(T,b,b,b,[""],x,0,a,x)}}l=c=h=0,m=g=1,_=T="",f=o;break;case 58:f=1+Eu(T),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&zye()==125)continue}switch(T+=xI(v),v*m){case 38:g=c>0?1:(T+="\f",-1);break;case 44:a[l++]=(Eu(T)-1)*g,g=1;break;case 64:qu()===45&&(T+=Ew(Po())),d=qu(),c=f=Eu(_=T+=Gye(ww())),v++;break;case 45:p===45&&Eu(T)==2&&(m=0)}}return s}function GF(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=M$(d),p=0,m=0,y=0;p<r;++p)for(var g=0,v=vv(e,f+1,f=Mye(m=o[p])),_=e;g<h;++g)(_=dQ(m>0?d[g]+" "+v:xn(v,/&\f/g,d[g])))&&(u[y++]=_);return CI(e,t,n,i===0?$$:a,u,l,c)}function Kye(e,t,n){return CI(e,t,n,cQ,xI(Vye()),vv(e,2,-2),0)}function YF(e,t,n,r){return CI(e,t,n,L$,vv(e,0,r),vv(e,r+1,-1),r)}function am(e,t){for(var n="",r=M$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Qye(e,t,n,r){switch(e.type){case Lye:if(e.children.length)break;case $ye:case L$:return e.return=e.return||e.value;case cQ:return"";case fQ:return e.return=e.value+"{"+am(e.children,r)+"}";case $$:e.value=e.props.join(",")}return Eu(n=am(e.children,r))?e.return=e.value+"{"+n+"}":""}function Xye(e){var t=M$(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function Jye(e){return function(t){t.root||(t=t.return)&&e(t)}}var KF=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}};function Zye(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var eve=function(t,n,r){for(var i=0,s=0;i=s,s=qu(),i===38&&s===12&&(n[r]=1),!_v(s);)Po();return I_(t,oo)},tve=function(t,n){var r=-1,i=44;do switch(_v(i)){case 0:i===38&&qu()===12&&(n[r]=1),t[r]+=eve(oo-1,n,r);break;case 2:t[r]+=Ew(i);break;case 4:if(i===44){t[++r]=qu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=xI(i)}while(i=Po());return t},nve=function(t,n){return mQ(tve(pQ(t),n))},QF=new WeakMap,rve=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!QF.get(r))&&!i){QF.set(t,!0);for(var s=[],o=nve(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},ive=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function gQ(e,t){switch(jye(e,t)){case 5103:return Tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Tn+e+kE+e+es+e+e;case 6828:case 4268:return Tn+e+es+e+e;case 6165:return Tn+e+es+"flex-"+e+e;case 5187:return Tn+e+xn(e,/(\w+).+(:[^]+)/,Tn+"box-$1$2"+es+"flex-$1$2")+e;case 5443:return Tn+e+es+"flex-item-"+xn(e,/flex-|-self/,"")+e;case 4675:return Tn+e+es+"flex-line-pack"+xn(e,/align-content|flex-|-self/,"")+e;case 5548:return Tn+e+es+xn(e,"shrink","negative")+e;case 5292:return Tn+e+es+xn(e,"basis","preferred-size")+e;case 6060:return Tn+"box-"+xn(e,"-grow","")+Tn+e+es+xn(e,"grow","positive")+e;case 4554:return Tn+xn(e,/([^-])(transform)/g,"$1"+Tn+"$2")+e;case 6187:return xn(xn(xn(e,/(zoom-|grab)/,Tn+"$1"),/(image-set)/,Tn+"$1"),e,"")+e;case 5495:case 3959:return xn(e,/(image-set\([^]*)/,Tn+"$1$`$1");case 4968:return xn(xn(e,/(.+:)(flex-)?(.*)/,Tn+"box-pack:$3"+es+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tn+e+e;case 4095:case 3583:case 4068:case 2532:return xn(e,/(.+)-inline(.+)/,Tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Eu(e)-1-t>6)switch(Ni(e,t+1)){case 109:if(Ni(e,t+4)!==45)break;case 102:return xn(e,/(.+:)(.+)-([^]+)/,"$1"+Tn+"$2-$3$1"+kE+(Ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~KR(e,"stretch")?gQ(xn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ni(e,t+1)!==115)break;case 6444:switch(Ni(e,Eu(e)-3-(~KR(e,"!important")&&10))){case 107:return xn(e,":",":"+Tn)+e;case 101:return xn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Tn+(Ni(e,14)===45?"inline-":"")+"box$3$1"+Tn+"$2$3$1"+es+"$2box$3")+e}break;case 5936:switch(Ni(e,t+11)){case 114:return Tn+e+es+xn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Tn+e+es+xn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Tn+e+es+xn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Tn+e+es+e+e}return e}var sve=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case L$:t.return=gQ(t.value,t.length);break;case fQ:return am([y0(t,{value:xn(t.value,"@","@"+Tn)})],i);case $$:if(t.length)return Uye(t.props,function(s){switch(Bye(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return am([y0(t,{props:[xn(s,/:(read-\w+)/,":"+kE+"$1")]})],i);case"::placeholder":return am([y0(t,{props:[xn(s,/:(plac\w+)/,":"+Tn+"input-$1")]}),y0(t,{props:[xn(s,/:(plac\w+)/,":"+kE+"$1")]}),y0(t,{props:[xn(s,/:(plac\w+)/,es+"input-$1")]})],i)}return""})}},ove=[sve],yQ=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||ove,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[rve,ive];{var c,f=[Qye,Jye(function(m){c.insert(m)})],d=Xye(l.concat(i,f)),h=function(y){return am(Yye(y),d)};u=function(y,g,v,_){c=v,h(y?y+"{"+g.styles+"}":g.styles),_&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new Dye({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}var vQ={exports:{}},Mn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=typeof Symbol=="function"&&Symbol.for,F$=wi?Symbol.for("react.element"):60103,j$=wi?Symbol.for("react.portal"):60106,AI=wi?Symbol.for("react.fragment"):60107,PI=wi?Symbol.for("react.strict_mode"):60108,OI=wi?Symbol.for("react.profiler"):60114,RI=wi?Symbol.for("react.provider"):60109,NI=wi?Symbol.for("react.context"):60110,B$=wi?Symbol.for("react.async_mode"):60111,kI=wi?Symbol.for("react.concurrent_mode"):60111,DI=wi?Symbol.for("react.forward_ref"):60112,$I=wi?Symbol.for("react.suspense"):60113,ave=wi?Symbol.for("react.suspense_list"):60120,LI=wi?Symbol.for("react.memo"):60115,MI=wi?Symbol.for("react.lazy"):60116,uve=wi?Symbol.for("react.block"):60121,lve=wi?Symbol.for("react.fundamental"):60117,cve=wi?Symbol.for("react.responder"):60118,fve=wi?Symbol.for("react.scope"):60119;function Vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case F$:switch(e=e.type,e){case B$:case kI:case AI:case OI:case PI:case $I:return e;default:switch(e=e&&e.$$typeof,e){case NI:case DI:case MI:case LI:case RI:return e;default:return t}}case j$:return t}}}function _Q(e){return Vo(e)===kI}Mn.AsyncMode=B$;Mn.ConcurrentMode=kI;Mn.ContextConsumer=NI;Mn.ContextProvider=RI;Mn.Element=F$;Mn.ForwardRef=DI;Mn.Fragment=AI;Mn.Lazy=MI;Mn.Memo=LI;Mn.Portal=j$;Mn.Profiler=OI;Mn.StrictMode=PI;Mn.Suspense=$I;Mn.isAsyncMode=function(e){return _Q(e)||Vo(e)===B$};Mn.isConcurrentMode=_Q;Mn.isContextConsumer=function(e){return Vo(e)===NI};Mn.isContextProvider=function(e){return Vo(e)===RI};Mn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===F$};Mn.isForwardRef=function(e){return Vo(e)===DI};Mn.isFragment=function(e){return Vo(e)===AI};Mn.isLazy=function(e){return Vo(e)===MI};Mn.isMemo=function(e){return Vo(e)===LI};Mn.isPortal=function(e){return Vo(e)===j$};Mn.isProfiler=function(e){return Vo(e)===OI};Mn.isStrictMode=function(e){return Vo(e)===PI};Mn.isSuspense=function(e){return Vo(e)===$I};Mn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===AI||e===kI||e===OI||e===PI||e===$I||e===ave||typeof e=="object"&&e!==null&&(e.$$typeof===MI||e.$$typeof===LI||e.$$typeof===RI||e.$$typeof===NI||e.$$typeof===DI||e.$$typeof===lve||e.$$typeof===cve||e.$$typeof===fve||e.$$typeof===uve)};Mn.typeOf=Vo;vQ.exports=Mn;var dve=vQ.exports,bQ=dve,hve={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wQ={};wQ[bQ.ForwardRef]=hve;wQ[bQ.Memo]=pve;var mve=!0;function gve(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var yve=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||mve===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},EQ=function(t,n,r){yve(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function vve(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var _ve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bve=/[A-Z]|^ms/g,wve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,SQ=function(t){return t.charCodeAt(1)===45},XF=function(t){return t!=null&&typeof t!="boolean"},$P=Zye(function(e){return SQ(e)?e:e.replace(bve,"-$&").toLowerCase()}),JF=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(wve,function(r,i,s){return Su={name:i,styles:s,next:Su},i})}return _ve[t]!==1&&!SQ(t)&&typeof n=="number"&&n!==0?n+"px":n};function bv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Su={name:n.name,styles:n.styles,next:Su},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Su={name:r.name,styles:r.styles,next:Su},r=r.next;var i=n.styles+";";return i}return Eve(e,t,n)}case"function":{if(e!==void 0){var s=Su,o=n(e);return Su=s,bv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Eve(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":XF(o)&&(r+=$P(s)+":"+JF(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)XF(o[a])&&(r+=$P(s)+":"+JF(s,o[a])+";");else{var u=bv(e,t,o);switch(s){case"animation":case"animationName":{r+=$P(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var ZF=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Su,U$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Su=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=bv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=bv(r,n,t[a]),i&&(s+=o[a]);ZF.lastIndex=0;for(var u="",l;(l=ZF.exec(s))!==null;)u+="-"+l[1];var c=vve(s)+u;return{name:c,styles:s,next:Su}},Sve=ev.useInsertionEffect?ev.useInsertionEffect:!1,e8=Sve||w.useLayoutEffect,TQ=w.createContext(typeof HTMLElement<"u"?yQ({key:"css"}):null);TQ.Provider;var Tve=function(t){return w.forwardRef(function(n,r){var i=w.useContext(TQ);return t(n,i,r)})},XR=w.createContext({}),xve=function(t,n){if(typeof n=="function"){var r=n(t);return r}return or({},t,n)},Ive=KF(function(e){return KF(function(t){return xve(e,t)})}),Cve=function(t){var n=w.useContext(XR);return t.theme!==n&&(n=Ive(n)(t.theme)),w.createElement(XR.Provider,{value:n},t.children)},C_=Tve(function(e,t){var n=e.styles,r=U$([n],void 0,w.useContext(XR)),i=w.useRef();return e8(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),e8(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&EQ(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function xQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U$(t)}var Ave=function(){var t=xQ.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Pve=Object.defineProperty,Ove=Object.defineProperties,Rve=Object.getOwnPropertyDescriptors,t8=Object.getOwnPropertySymbols,Nve=Object.prototype.hasOwnProperty,kve=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?Pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dve=(e,t)=>{for(var n in t||(t={}))Nve.call(t,n)&&n8(e,n,t[n]);if(t8)for(var n of t8(t))kve.call(t,n)&&n8(e,n,t[n]);return e},$ve=(e,t)=>Ove(e,Rve(t));function Lve({theme:e}){return N.createElement(C_,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:e.colorScheme==="dark"?"dark":"light"},body:$ve(Dve({},e.fn.fontStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,fontSize:e.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function J1(e,t,n){Object.keys(t).forEach(r=>{e[`--mantine-${n}-${r}`]=typeof t[r]=="number"?`${t[r]}px`:t[r]})}function Mve({theme:e}){const t={"--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-transition-timing-function":e.transitionTimingFunction,"--mantine-line-height":`${e.lineHeight}`,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":`${e.headings.fontWeight}`};J1(t,e.shadows,"shadow"),J1(t,e.fontSizes,"font-size"),J1(t,e.radius,"radius"),J1(t,e.spacing,"spacing"),Object.keys(e.colors).forEach(r=>{e.colors[r].forEach((i,s)=>{t[`--mantine-color-${r}-${s}`]=i})});const n=e.headings.sizes;return Object.keys(n).forEach(r=>{t[`--mantine-${r}-font-size`]=`${n[r].fontSize}px`,t[`--mantine-${r}-line-height`]=`${n[r].lineHeight}`}),N.createElement(C_,{styles:{":root":t}})}var Fve=Object.defineProperty,jve=Object.defineProperties,Bve=Object.getOwnPropertyDescriptors,r8=Object.getOwnPropertySymbols,Uve=Object.prototype.hasOwnProperty,Vve=Object.prototype.propertyIsEnumerable,i8=(e,t,n)=>t in e?Fve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dd=(e,t)=>{for(var n in t||(t={}))Uve.call(t,n)&&i8(e,n,t[n]);if(r8)for(var n of r8(t))Vve.call(t,n)&&i8(e,n,t[n]);return e},s8=(e,t)=>jve(e,Bve(t));function zve(e,t){if(!t)return e;const n=Object.keys(e).reduce((r,i)=>{if(i==="headings"&&t.headings){const s=t.headings.sizes?Object.keys(e.headings.sizes).reduce((o,a)=>(o[a]=dd(dd({},e.headings.sizes[a]),t.headings.sizes[a]),o),{}):e.headings.sizes;return s8(dd({},r),{headings:s8(dd(dd({},e.headings),t.headings),{sizes:s})})}return r[i]=typeof t[i]=="object"?dd(dd({},e[i]),t[i]):typeof t[i]=="number"||typeof t[i]=="boolean"||typeof t[i]=="function"?t[i]:t[i]||e[i],r},{});if(!(n.primaryColor in n.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color");return n}function Hve(e,t){return uQ(zve(e,t))}function IQ(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}const Wve={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}};function qve(){return N.createElement(C_,{styles:Wve})}var Gve=Object.defineProperty,o8=Object.getOwnPropertySymbols,Yve=Object.prototype.hasOwnProperty,Kve=Object.prototype.propertyIsEnumerable,a8=(e,t,n)=>t in e?Gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sy=(e,t)=>{for(var n in t||(t={}))Yve.call(t,n)&&a8(e,n,t[n]);if(o8)for(var n of o8(t))Kve.call(t,n)&&a8(e,n,t[n]);return e};const DE=w.createContext({theme:D$});function Ei(){var e;return((e=w.useContext(DE))==null?void 0:e.theme)||D$}function Qve(e){const t=Ei(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function CQ(){var e;return(e=w.useContext(DE))==null?void 0:e.emotionCache}function Ge(e,t,n){var r;const i=Ei(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return Sy(Sy(Sy({},t),o),IQ(n))}function AQ({theme:e,emotionCache:t,withNormalizeCSS:n=!1,withGlobalStyles:r=!1,withCSSVariables:i=!1,inherit:s=!1,children:o}){const a=w.useContext(DE),u=Hve(D$,s?Sy(Sy({},a.theme),e):e);return N.createElement(Cve,{theme:u},N.createElement(DE.Provider,{value:{theme:u,emotionCache:t}},n&&N.createElement(qve,null),r&&N.createElement(Lve,{theme:u}),i&&N.createElement(Mve,{theme:u}),typeof u.globalStyles=="function"&&N.createElement(C_,{styles:u.globalStyles(u)}),o))}AQ.displayName="@mantine/core/MantineProvider";const Xve={app:100,modal:200,popover:300,overlay:400,max:9999};function wc(e){return Xve[e]}function Jve(e,t){const n=w.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Zve=yQ({key:"mantine",prepend:!0});function e_e(){return CQ()||Zve}var t_e=Object.defineProperty,u8=Object.getOwnPropertySymbols,n_e=Object.prototype.hasOwnProperty,r_e=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?t_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i_e=(e,t)=>{for(var n in t||(t={}))n_e.call(t,n)&&l8(e,n,t[n]);if(u8)for(var n of u8(t))r_e.call(t,n)&&l8(e,n,t[n]);return e};const LP="ref";function s_e(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(LP in n))return{args:e,ref:t};t=n[LP];const r=i_e({},n);return delete r[LP],{args:[r],ref:t}}const{cssFactory:o_e}=(()=>{function e(n,r,i){const s=[],o=gve(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=s_e(o),l=U$(u,r.registered);return EQ(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,sQ(o))}}return{cssFactory:t}})();function PQ(){const e=e_e();return Jve(()=>o_e({cache:e}),[e])}function a_e({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var u_e=Object.defineProperty,c8=Object.getOwnPropertySymbols,l_e=Object.prototype.hasOwnProperty,c_e=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?u_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MP=(e,t)=>{for(var n in t||(t={}))l_e.call(t,n)&&f8(e,n,t[n]);if(c8)for(var n of c8(t))c_e.call(t,n)&&f8(e,n,t[n]);return e};function f_e(e){return`__mantine-ref-${e||""}`}function d8(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=MP(MP({},i[o]),s[o]):i[o]=MP({},s[o])}),i),{}):r(e)}function ot(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Ei(),o=Qve(i==null?void 0:i.name),a=CQ(),{css:u,cx:l}=PQ(),c=t(s,r,f_e),f=d8(i==null?void 0:i.styles,s,r),d=d8(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:a_e({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function OQ({styles:e}){const t=Ei();return N.createElement(C_,{styles:xQ(typeof e=="function"?e(t):e)})}var d_e=Object.defineProperty,h_e=Object.defineProperties,p_e=Object.getOwnPropertyDescriptors,h8=Object.getOwnPropertySymbols,m_e=Object.prototype.hasOwnProperty,g_e=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?d_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v0=(e,t)=>{for(var n in t||(t={}))m_e.call(t,n)&&p8(e,n,t[n]);if(h8)for(var n of h8(t))g_e.call(t,n)&&p8(e,n,t[n]);return e},_0=(e,t)=>h_e(e,p_e(t));const b0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Z1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:_0(v0({},b0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":_0(v0({},b0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":_0(v0({},b0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":_0(v0({},b0),{common:{transformOrigin:"top left"}}),"pop-top-right":_0(v0({},b0),{common:{transformOrigin:"top right"}})},m8=["mousedown","touchstart"];function y_e(e,t,n){const r=w.useRef();return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||m8).forEach(s=>document.addEventListener(s,i)),()=>{(t||m8).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function v_e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function __e(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function b_e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?t:__e(e,t)),s=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),v_e(s.current,o=>i(o.matches))},[e]),r}function Gu(e,t,n){return Math.min(Math.max(e,t),n)}const V$=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Mi(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function RQ({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Mi(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const w_e=/input|select|textarea|button|object/,NQ="a, input, select, textarea, button, object, [tabindex]";function E_e(e){return e.style.display==="none"}function S_e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(E_e(n))return!1;n=n.parentNode}return!0}function kQ(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function JR(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(kQ(e));return(w_e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&S_e(e)}function DQ(e){const t=kQ(e);return(Number.isNaN(t)||t>=0)&&JR(e)}function T_e(e){return Array.from(e.querySelectorAll(NQ)).filter(DQ)}function x_e(e,t){const n=T_e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function I_e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function $Q(e=!0){const t=w.useRef(),n=w.useRef(null),r=w.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=I_e(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(NQ));o=a.find(DQ)||a.find(JR)||null,!o&&JR(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return w.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&x_e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const C_e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,A_e=N.useId||(()=>{});function P_e(){const[e,t]=w.useState("");return V$(()=>{t(C_e())},[]),e}function O_e(){const e=A_e();return e?`mantine-${e.replace(/:/g,"")}`:""}function iu(e){return typeof e=="string"?e:O_e()||P_e()}function ZR(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function LQ(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function MQ(...e){return t=>{e.forEach(n=>LQ(n,t))}}function zo(...e){return w.useCallback(MQ(...e),e)}const FQ=e=>({x:Gu(e.x,0,1),y:Gu(e.y,0,1)});function FI(e,t,n="ltr"){const r=w.useRef(),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,u]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const l=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const S=r.current.getBoundingClientRect();if(S.width&&S.height){const x=Gu((v-S.left)/S.width,0,1);e({x:n==="ltr"?x:1-x,y:Gu((_-S.top)/S.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),v.preventDefault(),m(v)},m=v=>l({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),g(v)},g=v=>{v.cancelable&&v.preventDefault(),l({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function No({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function jI(e,t){return b_e("(prefers-reduced-motion: reduce)",e,t)}const R_e=e=>e<.5?2*e*e:-1+(4-2*e)*e,N_e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},k_e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},D_e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function jQ({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=R_e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=w.useRef(0),u=w.useRef(0),l=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),d=jI(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=w.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const v=(g=k_e({parent:c.current,axis:t}))!=null?g:0,_=N_e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:v);function S(){u.current===0&&(u.current=performance.now());const b=performance.now()-u.current,T=d||e===0?1:b/e,I=v+_*r(T);D_e({parent:c.current,axis:t,distance:I}),!l.current&&T<1?a.current=requestAnimationFrame(S):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}S()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return ZR("wheel",m,{passive:!0}),ZR("touchmove",m,{passive:!0}),w.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const $_e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Yu(){const e=w.useRef(0),t=w.useRef(null),[n,r]=w.useState($_e),i=w.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return w.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function L_e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const M_e=({disableBodyPadding:e})=>{const t=e?null:L_e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function F_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function j_e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function B_e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function U_e(e,t={disableBodyPadding:!1}){const[n,r]=w.useState(e||!1),i=w.useRef(0),{disableBodyPadding:s}=t,o=w.useRef(null),a=()=>{i.current=window.scrollY;const l=M_e({disableBodyPadding:s}),c=B_e();F_e(c,l),j_e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return w.useEffect(()=>(n?a():u(),u),[n]),w.useEffect(()=>{e!==void 0&&r(e)},[e]),w.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var V_e=Object.defineProperty,z_e=Object.defineProperties,H_e=Object.getOwnPropertyDescriptors,g8=Object.getOwnPropertySymbols,W_e=Object.prototype.hasOwnProperty,q_e=Object.prototype.propertyIsEnumerable,y8=(e,t,n)=>t in e?V_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G_e=(e,t)=>{for(var n in t||(t={}))W_e.call(t,n)&&y8(e,n,t[n]);if(g8)for(var n of g8(t))q_e.call(t,n)&&y8(e,n,t[n]);return e},Y_e=(e,t)=>z_e(e,H_e(t));function K_e(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return Y_e(G_e({},n),{key:i})}function Q_e(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function X_e(e){return t=>Q_e(K_e(e),t)}function J_e(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,s={preventDefault:!0}])=>{X_e(r)(n)&&(s.preventDefault&&t.preventDefault(),i(n))})}}function Z_e(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function e1e(){return typeof window<"u"?Z_e():"undetermined"}function t1e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function n1e(e){const[t,n]=w.useState(e);return[t,t1e(n)]}function BQ(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=w.useState(e),o=w.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=w.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=w.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function r1e(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var v8=Object.getOwnPropertySymbols,i1e=Object.prototype.hasOwnProperty,s1e=Object.prototype.propertyIsEnumerable,o1e=(e,t)=>{var n={};for(var r in e)i1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&v8)for(var r of v8(e))t.indexOf(r)<0&&s1e.call(e,r)&&(n[r]=e[r]);return n};function ed(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:v,ff:_,fz:S,fw:x,lts:b,ta:T,lh:I,fs:D,tt:$,td:B,w:O,miw:M,maw:k,h:ee,mih:te,mah:re,bgsz:K,bgp:ie,bgr:P,bga:V,pos:Y,top:A,left:R,bottom:L,right:G,inset:le,display:ce}=t,de=o1e(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:IQ({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:v,ff:_,fz:S,fw:x,lts:b,ta:T,lh:I,fs:D,tt:$,td:B,w:O,miw:M,maw:k,h:ee,mih:te,mah:re,bgsz:K,bgp:ie,bgr:P,bga:V,pos:Y,top:A,left:R,bottom:L,right:G,inset:le,display:ce}),rest:de}}function a1e(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function u1e({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return a1e(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function l1e(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function c1e(e){return e}function f1e(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const d1e=["-xs","-sm","-md","-lg","-xl"];function h1e(e,t){return d1e.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const p1e={color:l1e,default:c1e,fontSize:f1e,spacing:h1e},m1e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var g1e=Object.defineProperty,_8=Object.getOwnPropertySymbols,y1e=Object.prototype.hasOwnProperty,v1e=Object.prototype.propertyIsEnumerable,b8=(e,t,n)=>t in e?g1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w8=(e,t)=>{for(var n in t||(t={}))y1e.call(t,n)&&b8(e,n,t[n]);if(_8)for(var n of _8(t))v1e.call(t,n)&&b8(e,n,t[n]);return e};function eN(e,t,n=m1e){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(u1e({value:e[s],getValue:p1e[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=w8(w8({},i[o]),s[o]):i[o]=s[o]}),i),{})}function E8(e,t){return typeof e=="function"?e(t):e}function _1e(e,t,n){const r=Ei(),{css:i,cx:s}=PQ();return Array.isArray(e)?s(n,i(eN(t,r)),e.map(o=>i(E8(o,r)))):s(n,i(E8(e,r)),i(eN(t,r)))}var b1e=Object.defineProperty,$E=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,VQ=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?b1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w1e=(e,t)=>{for(var n in t||(t={}))UQ.call(t,n)&&S8(e,n,t[n]);if($E)for(var n of $E(t))VQ.call(t,n)&&S8(e,n,t[n]);return e},E1e=(e,t)=>{var n={};for(var r in e)UQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&VQ.call(e,r)&&(n[r]=e[r]);return n};const zQ=w.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=E1e(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=ed(a),c=i||"div";return N.createElement(c,w1e({ref:t,className:_1e(o,u,r),style:s},l))});zQ.displayName="@mantine/core/Box";const tt=zQ;var S1e=Object.defineProperty,T1e=Object.defineProperties,x1e=Object.getOwnPropertyDescriptors,T8=Object.getOwnPropertySymbols,I1e=Object.prototype.hasOwnProperty,C1e=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?S1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I8=(e,t)=>{for(var n in t||(t={}))I1e.call(t,n)&&x8(e,n,t[n]);if(T8)for(var n of T8(t))C1e.call(t,n)&&x8(e,n,t[n]);return e},A1e=(e,t)=>T1e(e,x1e(t)),P1e=ot(e=>({root:A1e(I8(I8({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),O1e=Object.defineProperty,LE=Object.getOwnPropertySymbols,HQ=Object.prototype.hasOwnProperty,WQ=Object.prototype.propertyIsEnumerable,C8=(e,t,n)=>t in e?O1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R1e=(e,t)=>{for(var n in t||(t={}))HQ.call(t,n)&&C8(e,n,t[n]);if(LE)for(var n of LE(t))WQ.call(t,n)&&C8(e,n,t[n]);return e},N1e=(e,t)=>{var n={};for(var r in e)HQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&WQ.call(e,r)&&(n[r]=e[r]);return n};const qQ=w.forwardRef((e,t)=>{const n=Ge("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=N1e(n,["className","component","unstyled"]),{classes:a,cx:u}=P1e(null,{name:"UnstyledButton",unstyled:s});return N.createElement(tt,R1e({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});qQ.displayName="@mantine/core/UnstyledButton";const BI=qQ;var k1e=Object.defineProperty,D1e=Object.defineProperties,$1e=Object.getOwnPropertyDescriptors,ME=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,YQ=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?k1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hd=(e,t)=>{for(var n in t||(t={}))GQ.call(t,n)&&A8(e,n,t[n]);if(ME)for(var n of ME(t))YQ.call(t,n)&&A8(e,n,t[n]);return e},FP=(e,t)=>D1e(e,$1e(t)),L1e=(e,t)=>{var n={};for(var r in e)GQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&YQ.call(e,r)&&(n[r]=e[r]);return n};function M1e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function jP(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const eb=typeof window<"u"&&window.requestAnimationFrame;function F1e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=w.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,u]=w.useState(r?{}:o),l=p=>{jh.flushSync(()=>u(p))},c=p=>{l(m=>hd(hd({},m),p))};function f(p){return{transition:`height ${e||M1e(p)}ms ${t}`}}Mi(()=>{eb(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),eb(()=>{const p=jP(i);c(FP(hd({},f(p)),{height:p}))})}:()=>{const p=jP(i);c(FP(hd({},f(p)),{willChange:"height",height:p})),eb(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=jP(i);m===a.height?l({}):c({height:m}),n()}else a.height===s&&(l(o),n())};function h(p={}){var m=p,{style:y={},refKey:g="ref"}=m,v=L1e(m,["style","refKey"]);const _=v[g];return FP(hd({"aria-hidden":!r},v),{[g]:MQ(i,_),onTransitionEnd:d,style:hd(hd({boxSizing:"border-box"},y),a)})}return h}var j1e=Object.defineProperty,FE=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,QQ=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?j1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tb=(e,t)=>{for(var n in t||(t={}))KQ.call(t,n)&&P8(e,n,t[n]);if(FE)for(var n of FE(t))QQ.call(t,n)&&P8(e,n,t[n]);return e},B1e=(e,t)=>{var n={};for(var r in e)KQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&QQ.call(e,r)&&(n[r]=e[r]);return n};const U1e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},XQ=w.forwardRef((e,t)=>{const n=Ge("Collapse",U1e,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l}=n,c=B1e(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),f=Ei(),d=jI(),p=(f.respectReducedMotion?d:!1)?0:s,{systemStyles:m,rest:y}=ed(c),g=F1e({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:u});return p===0?i?N.createElement(tt,tb({},y),r):null:N.createElement(tt,tb({},g(tb(tb({style:a,ref:t},y),m))),N.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${p}ms ${o}`:"none"}},r))});XQ.displayName="@mantine/core/Collapse";var V1e=Object.defineProperty,O8=Object.getOwnPropertySymbols,z1e=Object.prototype.hasOwnProperty,H1e=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?V1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W1e=(e,t)=>{for(var n in t||(t={}))z1e.call(t,n)&&R8(e,n,t[n]);if(O8)for(var n of O8(t))H1e.call(t,n)&&R8(e,n,t[n]);return e};function q1e(e){return N.createElement("svg",W1e({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),N.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var G1e=Object.defineProperty,Y1e=Object.defineProperties,K1e=Object.getOwnPropertyDescriptors,N8=Object.getOwnPropertySymbols,Q1e=Object.prototype.hasOwnProperty,X1e=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?G1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JQ=(e,t)=>{for(var n in t||(t={}))Q1e.call(t,n)&&k8(e,n,t[n]);if(N8)for(var n of N8(t))X1e.call(t,n)&&k8(e,n,t[n]);return e},J1e=(e,t)=>Y1e(e,K1e(t));const Q0={xs:18,sm:22,md:28,lg:34,xl:44};function Z1e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:JQ({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var ebe=ot((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:J1e(JQ({},Z1e({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:Q0}),minHeight:e.fn.size({size:n,sizes:Q0}),width:e.fn.size({size:n,sizes:Q0}),minWidth:e.fn.size({size:n,sizes:Q0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),tbe=Object.defineProperty,jE=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nbe=(e,t)=>{for(var n in t||(t={}))ZQ.call(t,n)&&D8(e,n,t[n]);if(jE)for(var n of jE(t))eX.call(t,n)&&D8(e,n,t[n]);return e},rbe=(e,t)=>{var n={};for(var r in e)ZQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&eX.call(e,r)&&(n[r]=e[r]);return n};function ibe(e){var t=e,{size:n,color:r}=t,i=rbe(t,["size","color"]);return N.createElement("svg",nbe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),N.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var sbe=Object.defineProperty,BE=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?sbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,obe=(e,t)=>{for(var n in t||(t={}))tX.call(t,n)&&$8(e,n,t[n]);if(BE)for(var n of BE(t))nX.call(t,n)&&$8(e,n,t[n]);return e},abe=(e,t)=>{var n={};for(var r in e)tX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&nX.call(e,r)&&(n[r]=e[r]);return n};function ube(e){var t=e,{size:n,color:r}=t,i=abe(t,["size","color"]);return N.createElement("svg",obe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),N.createElement("g",{fill:"none",fillRule:"evenodd"},N.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},N.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),N.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},N.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var lbe=Object.defineProperty,UE=Object.getOwnPropertySymbols,rX=Object.prototype.hasOwnProperty,iX=Object.prototype.propertyIsEnumerable,L8=(e,t,n)=>t in e?lbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cbe=(e,t)=>{for(var n in t||(t={}))rX.call(t,n)&&L8(e,n,t[n]);if(UE)for(var n of UE(t))iX.call(t,n)&&L8(e,n,t[n]);return e},fbe=(e,t)=>{var n={};for(var r in e)rX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&iX.call(e,r)&&(n[r]=e[r]);return n};function dbe(e){var t=e,{size:n,color:r}=t,i=fbe(t,["size","color"]);return N.createElement("svg",cbe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),N.createElement("circle",{cx:"15",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},N.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"105",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var hbe=Object.defineProperty,VE=Object.getOwnPropertySymbols,sX=Object.prototype.hasOwnProperty,oX=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pbe=(e,t)=>{for(var n in t||(t={}))sX.call(t,n)&&M8(e,n,t[n]);if(VE)for(var n of VE(t))oX.call(t,n)&&M8(e,n,t[n]);return e},mbe=(e,t)=>{var n={};for(var r in e)sX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&oX.call(e,r)&&(n[r]=e[r]);return n};const BP={bars:ibe,oval:ube,dots:dbe},gbe={xs:18,sm:22,md:36,lg:44,xl:58},ybe={size:"md"};function sl(e){const t=Ge("Loader",ybe,e),{size:n,color:r,variant:i}=t,s=mbe(t,["size","color","variant"]),o=Ei(),a=i in BP?i:o.loader;return N.createElement(tt,pbe({role:"presentation",component:BP[a]||BP.bars,size:o.fn.size({size:n,sizes:gbe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}sl.displayName="@mantine/core/Loader";var vbe=Object.defineProperty,zE=Object.getOwnPropertySymbols,aX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,F8=(e,t,n)=>t in e?vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j8=(e,t)=>{for(var n in t||(t={}))aX.call(t,n)&&F8(e,n,t[n]);if(zE)for(var n of zE(t))uX.call(t,n)&&F8(e,n,t[n]);return e},_be=(e,t)=>{var n={};for(var r in e)aX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&uX.call(e,r)&&(n[r]=e[r]);return n};const bbe={color:"gray",size:"md",variant:"subtle",loading:!1},lX=w.forwardRef((e,t)=>{const n=Ge("ActionIcon",bbe,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=_be(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=ebe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),v=g.fn.variant({color:i,variant:u}),_=N.createElement(sl,j8({color:v.color,size:g.fn.size({size:a,sizes:Q0})-12},f));return N.createElement(BI,j8({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:s)});lX.displayName="@mantine/core/ActionIcon";const wv=lX;function cX(e){const{children:t,target:n,className:r}=Ge("Portal",{},e),i=Ei(),[s,o]=w.useState(!1),a=w.useRef();return V$(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?jh.createPortal(N.createElement("div",{className:r,dir:i.dir},t),a.current):null}cX.displayName="@mantine/core/Portal";var wbe=Object.defineProperty,HE=Object.getOwnPropertySymbols,fX=Object.prototype.hasOwnProperty,dX=Object.prototype.propertyIsEnumerable,B8=(e,t,n)=>t in e?wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ebe=(e,t)=>{for(var n in t||(t={}))fX.call(t,n)&&B8(e,n,t[n]);if(HE)for(var n of HE(t))dX.call(t,n)&&B8(e,n,t[n]);return e},Sbe=(e,t)=>{var n={};for(var r in e)fX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&dX.call(e,r)&&(n[r]=e[r]);return n};function A_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=Sbe(t,["withinPortal","children"]);return n?N.createElement(cX,Ebe({},i),r):N.createElement(N.Fragment,null,r)}A_.displayName="@mantine/core/OptionalPortal";var Tbe=Object.defineProperty,xbe=Object.defineProperties,Ibe=Object.getOwnPropertyDescriptors,U8=Object.getOwnPropertySymbols,Cbe=Object.prototype.hasOwnProperty,Abe=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UP=(e,t)=>{for(var n in t||(t={}))Cbe.call(t,n)&&V8(e,n,t[n]);if(U8)for(var n of U8(t))Abe.call(t,n)&&V8(e,n,t[n]);return e},z8=(e,t)=>xbe(e,Ibe(t));function Pbe({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var Obe=ot((e,{color:t,radius:n,variant:r})=>({root:UP(z8(UP({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),Pbe({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:z8(UP({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),Rbe=Object.defineProperty,H8=Object.getOwnPropertySymbols,Nbe=Object.prototype.hasOwnProperty,kbe=Object.prototype.propertyIsEnumerable,W8=(e,t,n)=>t in e?Rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dbe=(e,t)=>{for(var n in t||(t={}))Nbe.call(t,n)&&W8(e,n,t[n]);if(H8)for(var n of H8(t))kbe.call(t,n)&&W8(e,n,t[n]);return e};function hX(e){return N.createElement("svg",Dbe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}hX.displayName="@mantine/core/CloseIcon";var $be=Object.defineProperty,WE=Object.getOwnPropertySymbols,pX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,q8=(e,t,n)=>t in e?$be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lbe=(e,t)=>{for(var n in t||(t={}))pX.call(t,n)&&q8(e,n,t[n]);if(WE)for(var n of WE(t))mX.call(t,n)&&q8(e,n,t[n]);return e},Mbe=(e,t)=>{var n={};for(var r in e)pX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&mX.call(e,r)&&(n[r]=e[r]);return n};const Fbe={xs:12,sm:14,md:16,lg:20,xl:24},jbe={size:"md"},gX=w.forwardRef((e,t)=>{const n=Ge("CloseButton",jbe,e),{iconSize:r,size:i="md"}=n,s=Mbe(n,["iconSize","size"]),o=Ei(),a=r||o.fn.size({size:i,sizes:Fbe});return N.createElement(wv,Lbe({size:i,ref:t},s),N.createElement(hX,{width:a,height:a}))});gX.displayName="@mantine/core/CloseButton";const P_=gX;var Bbe=Object.defineProperty,qE=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,vX=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?Bbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ube=(e,t)=>{for(var n in t||(t={}))yX.call(t,n)&&G8(e,n,t[n]);if(qE)for(var n of qE(t))vX.call(t,n)&&G8(e,n,t[n]);return e},Vbe=(e,t)=>{var n={};for(var r in e)yX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&vX.call(e,r)&&(n[r]=e[r]);return n};const zbe={variant:"light"},_X=w.forwardRef((e,t)=>{const n=Ge("Alert",zbe,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=Vbe(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=Obe({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),S=iu(r),x=s&&`${S}-title`,b=`${S}-body`;return N.createElement(tt,Ube({id:S,role:"alert","aria-labelledby":x,"aria-describedby":b,className:_(v.root,v[o],i),ref:t},g),N.createElement("div",{className:v.wrapper},c&&N.createElement("div",{className:v.icon},c),N.createElement("div",{className:v.body},s&&N.createElement("div",{className:v.title,"data-with-close-button":p||void 0},N.createElement("span",{id:x,className:v.label},s)),p&&N.createElement(P_,{className:v.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),N.createElement("div",{id:b,className:v.message},a))))});_X.displayName="@mantine/core/Alert";var Hbe=Object.defineProperty,Wbe=Object.defineProperties,qbe=Object.getOwnPropertyDescriptors,Y8=Object.getOwnPropertySymbols,Gbe=Object.prototype.hasOwnProperty,Ybe=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?Hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w0=(e,t)=>{for(var n in t||(t={}))Gbe.call(t,n)&&K8(e,n,t[n]);if(Y8)for(var n of Y8(t))Ybe.call(t,n)&&K8(e,n,t[n]);return e},Kbe=(e,t)=>Wbe(e,qbe(t));function Qbe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Xbe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Jbe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function Zbe({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var ewe=ot((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:u,gradient:l,weight:c,transform:f,align:d,strikethrough:h,italic:p})=>{const m=e.fn.variant({variant:"gradient",gradient:l});return{root:w0(Kbe(w0(w0(w0(w0({},e.fn.fontStyles()),e.fn.focusStyles()),Jbe(i)),Zbe({theme:e,truncate:s})),{color:Xbe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:Qbe({underline:u,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:f,textAlign:d,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&u===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:m.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),twe=Object.defineProperty,GE=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nwe=(e,t)=>{for(var n in t||(t={}))bX.call(t,n)&&Q8(e,n,t[n]);if(GE)for(var n of GE(t))wX.call(t,n)&&Q8(e,n,t[n]);return e},rwe=(e,t)=>{var n={};for(var r in e)bX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&wX.call(e,r)&&(n[r]=e[r]);return n};const iwe={variant:"text"},EX=w.forwardRef((e,t)=>{const n=Ge("Text",iwe,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,truncate:f,gradient:d,inline:h,inherit:p,underline:m,strikethrough:y,italic:g,classNames:v,styles:_,unstyled:S,span:x}=n,b=rwe(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:T,cx:I}=ewe({variant:l,color:a,size:i,lineClamp:c,truncate:f,inline:h,inherit:p,underline:m,strikethrough:y,italic:g,weight:s,transform:o,align:u,gradient:d},{unstyled:S,name:"Text"});return N.createElement(tt,nwe({ref:t,className:I(T.root,{[T.gradient]:l==="gradient"},r),component:x?"span":"div"},b))});EX.displayName="@mantine/core/Text";const et=EX;var swe=ot(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),owe=Object.defineProperty,YE=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,TX=Object.prototype.propertyIsEnumerable,X8=(e,t,n)=>t in e?owe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J8=(e,t)=>{for(var n in t||(t={}))SX.call(t,n)&&X8(e,n,t[n]);if(YE)for(var n of YE(t))TX.call(t,n)&&X8(e,n,t[n]);return e},awe=(e,t)=>{var n={};for(var r in e)SX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&TX.call(e,r)&&(n[r]=e[r]);return n};const uwe={},xX=w.forwardRef((e,t)=>{const n=Ge("Anchor",uwe,e),{component:r,className:i,unstyled:s}=n,o=awe(n,["component","className","unstyled"]),{classes:a,cx:u}=swe(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return N.createElement(et,J8(J8({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});xX.displayName="@mantine/core/Anchor";const IX=xX,CX=w.createContext({zIndex:1e3,fixed:!1,layout:"default"}),lwe=CX.Provider;function AX(){return w.useContext(CX)}function UI(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var cwe=Object.defineProperty,fwe=Object.defineProperties,dwe=Object.getOwnPropertyDescriptors,Z8=Object.getOwnPropertySymbols,hwe=Object.prototype.hasOwnProperty,pwe=Object.prototype.propertyIsEnumerable,ej=(e,t,n)=>t in e?cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nb=(e,t)=>{for(var n in t||(t={}))hwe.call(t,n)&&ej(e,n,t[n]);if(Z8)for(var n of Z8(t))pwe.call(t,n)&&ej(e,n,t[n]);return e},tj=(e,t)=>fwe(e,dwe(t)),mwe=ot((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u,layout:l})=>{const c=typeof n=="object"&&n!==null?UI(n,e).reduce((d,[h,p])=>(d[`@media (min-width: ${h}px)`]={width:p,minWidth:p},d),{}):null,f=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:tj(nb(nb(tj(nb(nb({},e.fn.fontStyles()),i),{top:l==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(l==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),f),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const gwe=mwe;var ywe=Object.defineProperty,KE=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,OX=Object.prototype.propertyIsEnumerable,nj=(e,t,n)=>t in e?ywe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rj=(e,t)=>{for(var n in t||(t={}))PX.call(t,n)&&nj(e,n,t[n]);if(KE)for(var n of KE(t))OX.call(t,n)&&nj(e,n,t[n]);return e},vwe=(e,t)=>{var n={};for(var r in e)PX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&OX.call(e,r)&&(n[r]=e[r]);return n};const z$=w.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,v=vwe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=AX(),{classes:S,cx:x,theme:b}=gwe({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:u,zIndex:a||_.zIndex||wc("app"),section:m,withBorder:c,layout:_.layout},{classNames:d,styles:h,name:y,unstyled:g}),T=UI(r,b).reduce((I,[D,$])=>(I[`@media (min-width: ${D}px)`]={[`--mantine-${m}-width`]:`${$}px`},I),{});return N.createElement(tt,rj({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:x(S.root,f)},v),p,N.createElement(OQ,{styles:()=>({":root":rj({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},T)})}))});z$.displayName="@mantine/core/HorizontalSection";var _we=Object.defineProperty,QE=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,ij=(e,t,n)=>t in e?_we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bwe=(e,t)=>{for(var n in t||(t={}))RX.call(t,n)&&ij(e,n,t[n]);if(QE)for(var n of QE(t))NX.call(t,n)&&ij(e,n,t[n]);return e},wwe=(e,t)=>{var n={};for(var r in e)RX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&NX.call(e,r)&&(n[r]=e[r]);return n};const kX=w.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=wwe(n,["children","grow","sx"]);return N.createElement(tt,bwe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...gh(s)]},o),r)});kX.displayName="@mantine/core/Section";const DX=kX;var Ewe=Object.defineProperty,sj=Object.getOwnPropertySymbols,Swe=Object.prototype.hasOwnProperty,Twe=Object.prototype.propertyIsEnumerable,oj=(e,t,n)=>t in e?Ewe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xwe=(e,t)=>{for(var n in t||(t={}))Swe.call(t,n)&&oj(e,n,t[n]);if(sj)for(var n of sj(t))Twe.call(t,n)&&oj(e,n,t[n]);return e};const Iwe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},Ty=w.forwardRef((e,t)=>{const n=Ge("Navbar",Iwe,e);return N.createElement(z$,xwe({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Ty.Section=DX;Ty.displayName="@mantine/core/Navbar";var Cwe=Object.defineProperty,Awe=Object.defineProperties,Pwe=Object.getOwnPropertyDescriptors,aj=Object.getOwnPropertySymbols,Owe=Object.prototype.hasOwnProperty,Rwe=Object.prototype.propertyIsEnumerable,uj=(e,t,n)=>t in e?Cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VP=(e,t)=>{for(var n in t||(t={}))Owe.call(t,n)&&uj(e,n,t[n]);if(aj)for(var n of aj(t))Rwe.call(t,n)&&uj(e,n,t[n]);return e},lj=(e,t)=>Awe(e,Pwe(t)),Nwe=ot((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?UI(t,e).reduce((u,[l,c])=>(u[`@media (min-width: ${l}px)`]={height:c,minHeight:c},u),{}):null;return{root:lj(VP(lj(VP(VP({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const kwe=Nwe;var Dwe=Object.defineProperty,XE=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,LX=Object.prototype.propertyIsEnumerable,cj=(e,t,n)=>t in e?Dwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fj=(e,t)=>{for(var n in t||(t={}))$X.call(t,n)&&cj(e,n,t[n]);if(XE)for(var n of XE(t))LX.call(t,n)&&cj(e,n,t[n]);return e},$we=(e,t)=>{var n={};for(var r in e)$X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&LX.call(e,r)&&(n[r]=e[r]);return n};const MX=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f,section:d,unstyled:h,__staticSelector:p}=n,m=$we(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=AX(),g=f||y.zIndex||wc("app"),{classes:v,cx:_,theme:S}=kwe({height:a,fixed:y.fixed||u,position:c,zIndex:typeof g=="number"&&y.layout==="default"?g+1:g,layout:y.layout,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),x=typeof a=="object"&&a!==null?UI(a,S).reduce((b,[T,I])=>(b[`@media (min-width: ${T}px)`]={[`--mantine-${d}-height`]:`${I}px`},b),{}):null;return N.createElement(tt,fj({component:d==="header"?"header":"footer",className:_(v.root,i),ref:t},m),r,N.createElement(OQ,{styles:()=>({":root":fj({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},x)})}))});MX.displayName="@mantine/core/VerticalSection";var Lwe=Object.defineProperty,Mwe=Object.defineProperties,Fwe=Object.getOwnPropertyDescriptors,dj=Object.getOwnPropertySymbols,jwe=Object.prototype.hasOwnProperty,Bwe=Object.prototype.propertyIsEnumerable,hj=(e,t,n)=>t in e?Lwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uwe=(e,t)=>{for(var n in t||(t={}))jwe.call(t,n)&&hj(e,n,t[n]);if(dj)for(var n of dj(t))Bwe.call(t,n)&&hj(e,n,t[n]);return e},Vwe=(e,t)=>Mwe(e,Fwe(t));const zwe={fixed:!1,position:{top:0,left:0,right:0}},FX=w.forwardRef((e,t)=>{const n=Ge("Header",zwe,e);return N.createElement(MX,Vwe(Uwe({section:"header",__staticSelector:"Header"},n),{ref:t}))});FX.displayName="@mantine/core/Header";var Hwe=Object.defineProperty,pj=Object.getOwnPropertySymbols,Wwe=Object.prototype.hasOwnProperty,qwe=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?Hwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gwe=(e,t)=>{for(var n in t||(t={}))Wwe.call(t,n)&&mj(e,n,t[n]);if(pj)for(var n of pj(t))qwe.call(t,n)&&mj(e,n,t[n]);return e};const Ywe={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},H$=w.forwardRef((e,t)=>{const n=Ge("Aside",Ywe,e);return N.createElement(z$,Gwe({section:"aside",__staticSelector:"Aside",ref:t},n))});H$.Section=DX;H$.displayName="@mantine/core/Aside";var Kwe=Object.defineProperty,gj=Object.getOwnPropertySymbols,Qwe=Object.prototype.hasOwnProperty,Xwe=Object.prototype.propertyIsEnumerable,yj=(e,t,n)=>t in e?Kwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jwe=(e,t)=>{for(var n in t||(t={}))Qwe.call(t,n)&&yj(e,n,t[n]);if(gj)for(var n of gj(t))Xwe.call(t,n)&&yj(e,n,t[n]);return e};function Zwe(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var eEe=ot((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:Jwe({flex:1,width:"100vw",boxSizing:"border-box"},Zwe(t,e))})),tEe=Object.defineProperty,JE=Object.getOwnPropertySymbols,jX=Object.prototype.hasOwnProperty,BX=Object.prototype.propertyIsEnumerable,vj=(e,t,n)=>t in e?tEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nEe=(e,t)=>{for(var n in t||(t={}))jX.call(t,n)&&vj(e,n,t[n]);if(JE)for(var n of JE(t))BX.call(t,n)&&vj(e,n,t[n]);return e},rEe=(e,t)=>{var n={};for(var r in e)jX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&BX.call(e,r)&&(n[r]=e[r]);return n};const iEe={fixed:!0,padding:"md"},UX=w.forwardRef((e,t)=>{const n=Ge("AppShell",iEe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g,layout:v}=n,_=rEe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:S,cx:x}=eEe({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?N.createElement(N.Fragment,null,r):N.createElement(lwe,{value:{fixed:u,zIndex:l,layout:v}},N.createElement(tt,nEe({className:x(S.root,h),ref:t},_),s,N.createElement("div",{className:S.body},i,N.createElement("main",{className:S.main},r),a),o))});UX.displayName="@mantine/core/AppShell";const rb={xs:1,sm:2,md:3,lg:4,xl:5};function ib(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var sEe=ot((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:rb})}px ${n} ${ib(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:rb})}px ${n} ${ib(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:rb}),borderTopColor:ib(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:rb}),borderLeftColor:ib(e,r),borderLeftStyle:n}})),oEe=Object.defineProperty,aEe=Object.defineProperties,uEe=Object.getOwnPropertyDescriptors,ZE=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,zX=Object.prototype.propertyIsEnumerable,_j=(e,t,n)=>t in e?oEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bj=(e,t)=>{for(var n in t||(t={}))VX.call(t,n)&&_j(e,n,t[n]);if(ZE)for(var n of ZE(t))zX.call(t,n)&&_j(e,n,t[n]);return e},lEe=(e,t)=>aEe(e,uEe(t)),cEe=(e,t)=>{var n={};for(var r in e)VX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&zX.call(e,r)&&(n[r]=e[r]);return n};const fEe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},eS=w.forwardRef((e,t)=>{const n=Ge("Divider",fEe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=cEe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=sEe({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",v=s==="horizontal",_=!!a&&v,S=!(l!=null&&l.color);return N.createElement(tt,bj({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:v,[m.withLabel]:_},r),role:"separator"},p),_&&N.createElement(et,lEe(bj({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:S})}),a))});eS.displayName="@mantine/core/Divider";var dEe=Object.defineProperty,hEe=Object.defineProperties,pEe=Object.getOwnPropertyDescriptors,wj=Object.getOwnPropertySymbols,mEe=Object.prototype.hasOwnProperty,gEe=Object.prototype.propertyIsEnumerable,Ej=(e,t,n)=>t in e?dEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sj=(e,t)=>{for(var n in t||(t={}))mEe.call(t,n)&&Ej(e,n,t[n]);if(wj)for(var n of wj(t))gEe.call(t,n)&&Ej(e,n,t[n]);return e},yEe=(e,t)=>hEe(e,pEe(t)),vEe=ot((e,{size:t})=>({item:yEe(Sj({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":Sj({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),_Ee=Object.defineProperty,Tj=Object.getOwnPropertySymbols,bEe=Object.prototype.hasOwnProperty,wEe=Object.prototype.propertyIsEnumerable,xj=(e,t,n)=>t in e?_Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EEe=(e,t)=>{for(var n in t||(t={}))bEe.call(t,n)&&xj(e,n,t[n]);if(Tj)for(var n of Tj(t))wEe.call(t,n)&&xj(e,n,t[n]);return e};function W$({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=vEe({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],v=[];let _=null;const S=(b,T)=>{const I=typeof i=="function"?i(b.value):!1;return N.createElement(c,EEe({key:b.value,className:y.item,"data-disabled":b.disabled||void 0,"data-hovered":!b.disabled&&t===T||void 0,"data-selected":!b.disabled&&I||void 0,selected:I,onMouseEnter:()=>a(T),id:`${s}-${T}`,role:"option",tabIndex:-1,"aria-selected":t===T,ref:D=>{l&&l.current&&(l.current[b.value]=D)},onMouseDown:b.disabled?null:D=>{D.preventDefault(),u(b)},disabled:b.disabled},b))};let x=null;if(e.forEach((b,T)=>{b.creatable?_=T:b.group?(x!==b.group&&(x=b.group,v.push(N.createElement("div",{className:y.separator,key:`__mantine-divider-${T}`},N.createElement(eS,{classNames:{label:y.separatorLabel},label:b.group})))),v.push(S(b,T))):g.push(S(b,T))}),h){const b=e[_];g.push(N.createElement("div",{key:r1e(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:T=>{T.preventDefault(),u(b)},tabIndex:-1,ref:T=>{l&&l.current&&(l.current[b.value]=T)}},p))}return v.length>0&&g.length>0&&g.unshift(N.createElement("div",{className:y.separator,key:"empty-group-separator"},N.createElement(eS,null))),v.length>0||g.length>0?N.createElement(N.Fragment,null,v,g):N.createElement(et,{size:f,unstyled:m,className:y.nothingFound},d)}W$.displayName="@mantine/core/SelectItems";var SEe=Object.defineProperty,tS=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,WX=Object.prototype.propertyIsEnumerable,Ij=(e,t,n)=>t in e?SEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TEe=(e,t)=>{for(var n in t||(t={}))HX.call(t,n)&&Ij(e,n,t[n]);if(tS)for(var n of tS(t))WX.call(t,n)&&Ij(e,n,t[n]);return e},xEe=(e,t)=>{var n={};for(var r in e)HX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&WX.call(e,r)&&(n[r]=e[r]);return n};const q$=w.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=xEe(n,["label","value"]);return N.createElement("div",TEe({ref:t},s),r||i)});q$.displayName="@mantine/core/DefaultItem";function IEe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function qX(...e){return t=>e.forEach(n=>IEe(n,t))}function Bh(...e){return w.useCallback(qX(...e),e)}const GX=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(AEe);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return w.createElement(tN,or({},r,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(tN,or({},r,{ref:t}),n)});GX.displayName="Slot";const tN=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...PEe(r,n.props),ref:qX(t,n.ref)}):w.Children.count(n)>1?w.Children.only(null):null});tN.displayName="SlotClone";const CEe=({children:e})=>w.createElement(w.Fragment,null,e);function AEe(e){return w.isValidElement(e)&&e.type===CEe}function PEe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const OEe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],O_=OEe.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?GX:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,or({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nN=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function REe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const R_=e=>{const{present:t,children:n}=e,r=NEe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Bh(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};R_.displayName="Presence";function NEe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,u]=REe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=sb(r.current);s.current=a==="mounted"?l:"none"},[a]),nN(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=sb(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),nN(()=>{if(t){const l=f=>{const h=sb(r.current).includes(f.animationName);f.target===t&&h&&jh.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=sb(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function sb(e){return(e==null?void 0:e.animationName)||"none"}function kEe(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=w.useMemo(()=>p,Object.values(p));return w.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=w.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,DEe(i,...t)]}function DEe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Cd(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const $Ee=w.createContext(void 0);function LEe(e){const t=w.useContext($Ee);return e||t||"ltr"}function MEe(e,[t,n]){return Math.min(n,Math.max(t,e))}function rh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function FEe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const YX="ScrollArea",[KX,xvt]=kEe(YX),[jEe,ga]=KX(YX),BEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=w.useState(null),[l,c]=w.useState(null),[f,d]=w.useState(null),[h,p]=w.useState(null),[m,y]=w.useState(null),[g,v]=w.useState(0),[_,S]=w.useState(0),[x,b]=w.useState(!1),[T,I]=w.useState(!1),D=Bh(t,B=>u(B)),$=LEe(i);return w.createElement(jEe,{scope:n,type:r,dir:$,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:b,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:S},w.createElement(O_.div,or({dir:$},o,{ref:D,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),UEe="ScrollAreaViewport",VEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ga(UEe,n),o=w.useRef(null),a=Bh(t,o,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(O_.div,or({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ec="ScrollAreaScrollbar",zEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ga(Ec,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?w.createElement(HEe,or({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(WEe,or({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(QX,or({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(G$,or({},r,{ref:t})):null}),HEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ga(Ec,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(R_,{present:n||s},w.createElement(QX,or({"data-state":s?"visible":"hidden"},r,{ref:t})))}),WEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ga(Ec,e.__scopeScrollArea),s=e.orientation==="horizontal",o=zI(()=>u("SCROLL_END"),100),[a,u]=FEe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),w.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),w.createElement(R_,{present:n||a!=="hidden"},w.createElement(G$,or({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:rh(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:rh(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),QX=w.forwardRef((e,t)=>{const n=ga(Ec,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",u=zI(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return jm(n.viewport,u),jm(n.content,u),w.createElement(R_,{present:r||s},w.createElement(G$,or({"data-state":s?"visible":"hidden"},i,{ref:t})))}),G$=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ga(Ec,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=eJ(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return ZEe(d,o.current,a,h)}return n==="horizontal"?w.createElement(qEe,or({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=Cj(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?w.createElement(GEe,or({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=Cj(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),qEe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ga(Ec,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Bh(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(JX,or({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":VI(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),nJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:nS(o.paddingLeft),paddingEnd:nS(o.paddingRight)}})}}))}),GEe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ga(Ec,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Bh(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(JX,or({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":VI(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),nJ(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:nS(o.paddingTop),paddingEnd:nS(o.paddingBottom)}})}}))}),[YEe,XX]=KX(Ec),JX=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ga(Ec,n),[p,m]=w.useState(null),y=Bh(t,D=>m(D)),g=w.useRef(null),v=w.useRef(""),_=h.viewport,S=r.content-r.viewport,x=Cd(c),b=Cd(u),T=zI(f,10);function I(D){if(g.current){const $=D.clientX-g.current.left,B=D.clientY-g.current.top;l({x:$,y:B})}}return w.useEffect(()=>{const D=$=>{const B=$.target;(p==null?void 0:p.contains(B))&&x($,S)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[_,p,S,x]),w.useEffect(b,[r,b]),jm(p,T),jm(h.content,T),w.createElement(YEe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Cd(s),onThumbPointerUp:Cd(o),onThumbPositionChange:b,onThumbPointerDown:Cd(a)},w.createElement(O_.div,or({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:rh(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),g.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(D))}),onPointerMove:rh(e.onPointerMove,I),onPointerUp:rh(e.onPointerUp,D=>{const $=D.target;$.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,g.current=null})})))}),rN="ScrollAreaThumb",KEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=XX(rN,e.__scopeScrollArea);return w.createElement(R_,{present:n||i.hasThumb},w.createElement(QEe,or({ref:t},r)))}),QEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ga(rN,n),o=XX(rN,n),{onThumbPositionChange:a}=o,u=Bh(t,f=>o.onThumbChange(f)),l=w.useRef(),c=zI(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=eSe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),w.createElement(O_.div,or({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:rh(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:rh(e.onPointerUp,o.onThumbPointerUp)}))}),ZX="ScrollAreaCorner",XEe=w.forwardRef((e,t)=>{const n=ga(ZX,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(JEe,or({},e,{ref:t})):null}),JEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ga(ZX,n),[s,o]=w.useState(0),[a,u]=w.useState(0),l=!!(s&&a);return jm(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),jm(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?w.createElement(O_.div,or({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function nS(e){return e?parseInt(e,10):0}function eJ(e,t){const n=e/t;return isNaN(n)?0:n}function VI(e){const t=eJ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ZEe(e,t,n,r="ltr"){const i=VI(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return tJ([u,l],f)(e)}function Cj(e,t,n="ltr"){const r=VI(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=MEe(e,u);return tJ([0,o],[0,a])(l)}function tJ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function nJ(e,t){return e>0&&e<t}const eSe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function zI(e,t){const n=Cd(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function jm(e,t){const n=Cd(t);nN(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const tSe=BEe,nSe=VEe,Aj=zEe,Pj=KEe,rSe=XEe;var iSe=ot((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),sSe=Object.defineProperty,oSe=Object.defineProperties,aSe=Object.getOwnPropertyDescriptors,rS=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,iJ=Object.prototype.propertyIsEnumerable,Oj=(e,t,n)=>t in e?sSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iN=(e,t)=>{for(var n in t||(t={}))rJ.call(t,n)&&Oj(e,n,t[n]);if(rS)for(var n of rS(t))iJ.call(t,n)&&Oj(e,n,t[n]);return e},sJ=(e,t)=>oSe(e,aSe(t)),oJ=(e,t)=>{var n={};for(var r in e)rJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&iJ.call(e,r)&&(n[r]=e[r]);return n};const aJ={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},HI=w.forwardRef((e,t)=>{const n=Ge("ScrollArea",aJ,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,viewportProps:m}=n,y=oJ(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[g,v]=w.useState(!1),_=Ei(),{classes:S,cx:x}=iSe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:g,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return N.createElement(tSe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},N.createElement(tt,iN({className:x(S.root,i)},y),N.createElement(nSe,sJ(iN({},m),{className:S.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:b})=>h({x:b.scrollLeft,y:b.scrollTop}):void 0}),r),N.createElement(Aj,{orientation:"horizontal",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},N.createElement(Pj,{className:S.thumb})),N.createElement(Aj,{orientation:"vertical",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},N.createElement(Pj,{className:S.thumb})),N.createElement(rSe,{className:S.corner})))}),uJ=w.forwardRef((e,t)=>{const n=Ge("ScrollAreaAutosize",aJ,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=oJ(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return N.createElement(tt,sJ(iN({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...gh(m)]}),N.createElement(tt,{sx:{display:"flex",flexDirection:"column",flex:1}},N.createElement(HI,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});uJ.displayName="@mantine/core/ScrollAreaAutosize";HI.displayName="@mantine/core/ScrollArea";HI.Autosize=uJ;const lJ=HI;var uSe=Object.defineProperty,lSe=Object.defineProperties,cSe=Object.getOwnPropertyDescriptors,iS=Object.getOwnPropertySymbols,cJ=Object.prototype.hasOwnProperty,fJ=Object.prototype.propertyIsEnumerable,Rj=(e,t,n)=>t in e?uSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nj=(e,t)=>{for(var n in t||(t={}))cJ.call(t,n)&&Rj(e,n,t[n]);if(iS)for(var n of iS(t))fJ.call(t,n)&&Rj(e,n,t[n]);return e},fSe=(e,t)=>lSe(e,cSe(t)),dSe=(e,t)=>{var n={};for(var r in e)cJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&fJ.call(e,r)&&(n[r]=e[r]);return n};const WI=w.forwardRef((e,t)=>{var n=e,{style:r}=n,i=dSe(n,["style"]);return N.createElement(lJ,fSe(Nj({},i),{style:Nj({width:"100%"},r),viewportRef:t}),i.children)});WI.displayName="@mantine/core/SelectScrollArea";var hSe=ot(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Qa=Math.min,is=Math.max,sS=Math.round,ob=Math.floor,Of=e=>({x:e,y:e}),pSe={left:"right",right:"left",bottom:"top",top:"bottom"},mSe={start:"end",end:"start"};function sN(e,t,n){return is(e,Qa(t,n))}function tc(e,t){return typeof e=="function"?e(t):e}function Xa(e){return e.split("-")[0]}function Tg(e){return e.split("-")[1]}function Y$(e){return e==="x"?"y":"x"}function K$(e){return e==="y"?"height":"width"}function Uh(e){return["top","bottom"].includes(Xa(e))?"y":"x"}function Q$(e){return Y$(Uh(e))}function gSe(e,t,n){n===void 0&&(n=!1);const r=Tg(e),i=Q$(e),s=K$(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=oS(o)),[o,oS(o)]}function ySe(e){const t=oS(e);return[oN(e),t,oN(t)]}function oN(e){return e.replace(/start|end/g,t=>mSe[t])}function vSe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function _Se(e,t,n,r){const i=Tg(e);let s=vSe(Xa(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(oN)))),s}function oS(e){return e.replace(/left|right|bottom|top/g,t=>pSe[t])}function bSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function X$(e){return typeof e!="number"?bSe(e):{top:e,right:e,bottom:e,left:e}}function Bm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function kj(e,t,n){let{reference:r,floating:i}=e;const s=Uh(t),o=Q$(t),a=K$(o),u=Xa(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Tg(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const wSe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=kj(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:v,y:_,data:S,reset:x}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...S}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:f}=kj(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function J$(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=tc(t,e),p=X$(h),y=a[d?f==="floating"?"reference":"floating":f],g=Bm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Bm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:u}):v);return{top:(g.top-x.top+p.top)/S.y,bottom:(x.bottom-g.bottom+p.bottom)/S.y,left:(g.left-x.left+p.left)/S.x,right:(x.right-g.right+p.right)/S.x}}const ESe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=tc(e,t)||{};if(l==null)return{};const f=X$(c),d={x:n,y:r},h=Q$(i),p=K$(h),m=await o.getDimensions(l),y=h==="y",g=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",S=s.reference[p]+s.reference[h]-d[h]-s.floating[p],x=d[h]-s.reference[h],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=b?b[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(b)))&&(T=a.floating[_]||s.floating[p]);const I=S/2-x/2,D=T/2-m[p]/2-1,$=Qa(f[g],D),B=Qa(f[v],D),O=$,M=T-m[p]-B,k=T/2-m[p]/2+I,ee=sN(O,k,M),te=!u.arrow&&Tg(i)!=null&&k!==ee&&s.reference[p]/2-(k<O?$:B)-m[p]/2<0,re=te?k<O?k-O:k-M:0;return{[h]:d[h]+re,data:{[h]:ee,centerOffset:k-ee-re,...te&&{alignmentOffset:re}},reset:te}}}),SSe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=tc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Xa(i),v=Xa(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(l.floating)),S=d||(v||!m?[oS(a)]:ySe(a));!d&&p!=="none"&&S.push(..._Se(a,m,p,_));const x=[a,...S],b=await J$(t,y),T=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&T.push(b[g]),f){const O=gSe(i,o,_);T.push(b[O[0]],b[O[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(O=>O<=0)){var D,$;const O=(((D=s.flip)==null?void 0:D.index)||0)+1,M=x[O];if(M)return{data:{index:O,overflows:I},reset:{placement:M}};let k=($=I.filter(ee=>ee.overflows[0]<=0).sort((ee,te)=>ee.overflows[1]-te.overflows[1])[0])==null?void 0:$.placement;if(!k)switch(h){case"bestFit":{var B;const ee=(B=I.map(te=>[te.placement,te.overflows.filter(re=>re>0).reduce((re,K)=>re+K,0)]).sort((te,re)=>te[1]-re[1])[0])==null?void 0:B[0];ee&&(k=ee);break}case"initialPlacement":k=a;break}if(i!==k)return{reset:{placement:k}}}return{}}}};function dJ(e){const t=Qa(...e.map(s=>s.left)),n=Qa(...e.map(s=>s.top)),r=is(...e.map(s=>s.right)),i=is(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function TSe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Bm(dJ(i)))}const xSe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=tc(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=TSe(c),d=Bm(dJ(c)),h=X$(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(y=>u>y.left-h.left&&u<y.right+h.right&&l>y.top-h.top&&l<y.bottom+h.bottom)||d;if(f.length>=2){if(Uh(n)==="y"){const $=f[0],B=f[f.length-1],O=Xa(n)==="top",M=$.top,k=B.bottom,ee=O?$.left:B.left,te=O?$.right:B.right,re=te-ee,K=k-M;return{top:M,bottom:k,left:ee,right:te,width:re,height:K,x:ee,y:M}}const y=Xa(n)==="left",g=is(...f.map($=>$.right)),v=Qa(...f.map($=>$.left)),_=f.filter($=>y?$.left===v:$.right===g),S=_[0].top,x=_[_.length-1].bottom,b=v,T=g,I=T-b,D=x-S;return{top:S,bottom:x,left:b,right:T,width:I,height:D,x:b,y:S}}return d}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function ISe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xa(n),a=Tg(n),u=Uh(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=tc(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const hJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await ISe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},CSe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...u}=tc(e,t),l={x:n,y:r},c=await J$(t,u),f=Uh(Xa(i)),d=Y$(f);let h=l[d],p=l[f];if(s){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+c[y],_=h-c[g];h=sN(v,h,_)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=p+c[y],_=p-c[g];p=sN(v,p,_)}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},ASe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=tc(e,t),c={x:n,y:r},f=Uh(i),d=Y$(f);let h=c[d],p=c[f];const m=tc(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const _=d==="y"?"height":"width",S=s.reference[d]-s.floating[_]+y.mainAxis,x=s.reference[d]+s.reference[_]-y.mainAxis;h<S?h=S:h>x&&(h=x)}if(l){var g,v;const _=d==="y"?"width":"height",S=["top","left"].includes(Xa(i)),x=s.reference[f]-s.floating[_]+(S&&((g=o.offset)==null?void 0:g[f])||0)+(S?0:y.crossAxis),b=s.reference[f]+s.reference[_]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?y.crossAxis:0);p<x?p=x:p>b&&(p=b)}return{[d]:h,[f]:p}}}},PSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=tc(e,t),u=await J$(t,a),l=Xa(n),c=Tg(n),f=Uh(n)==="y",{width:d,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,p=c==="end"?"top":"bottom");const y=h-u[p],g=d-u[m],v=!t.middlewareData.shift;let _=y,S=g;if(f){const b=d-u.left-u.right;S=c||v?Qa(g,b):b}else{const b=h-u.top-u.bottom;_=c||v?Qa(y,b):b}if(v&&!c){const b=is(u.left,0),T=is(u.right,0),I=is(u.top,0),D=is(u.bottom,0);f?S=d-2*(b!==0||T!==0?b+T:is(u.left,u.right)):_=h-2*(I!==0||D!==0?I+D:is(u.top,u.bottom))}await o({...t,availableWidth:S,availableHeight:_});const x=await i.getDimensions(s.floating);return d!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function Rf(e){return pJ(e)?(e.nodeName||"").toLowerCase():"#document"}function Oo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sc(e){var t;return(t=(pJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pJ(e){return e instanceof Node||e instanceof Oo(e).Node}function nc(e){return e instanceof Element||e instanceof Oo(e).Element}function ol(e){return e instanceof HTMLElement||e instanceof Oo(e).HTMLElement}function Dj(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Oo(e).ShadowRoot}function N_(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function OSe(e){return["table","td","th"].includes(Rf(e))}function Z$(e){const t=e3(),n=fa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RSe(e){let t=Um(e);for(;ol(t)&&!qI(t);){if(Z$(t))return t;t=Um(t)}return null}function e3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qI(e){return["html","body","#document"].includes(Rf(e))}function fa(e){return Oo(e).getComputedStyle(e)}function GI(e){return nc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Um(e){if(Rf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dj(e)&&e.host||Sc(e);return Dj(t)?t.host:t}function mJ(e){const t=Um(e);return qI(t)?e.ownerDocument?e.ownerDocument.body:e.body:ol(t)&&N_(t)?t:mJ(t)}function Gl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=mJ(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Oo(i);return s?t.concat(o,o.visualViewport||[],N_(i)?i:[],o.frameElement&&n?Gl(o.frameElement):[]):t.concat(i,Gl(i,[],n))}function gJ(e){const t=fa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ol(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=sS(n)!==s||sS(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function t3(e){return nc(e)?e:e.contextElement}function um(e){const t=t3(e);if(!ol(t))return Of(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=gJ(t);let o=(s?sS(n.width):n.width)/r,a=(s?sS(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const NSe=Of(0);function yJ(e){const t=Oo(e);return!e3()||!t.visualViewport?NSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kSe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Oo(e)?!1:t}function yh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=t3(e);let o=Of(1);t&&(r?nc(r)&&(o=um(r)):o=um(e));const a=kSe(s,n,r)?yJ(s):Of(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Oo(s),h=r&&nc(r)?Oo(r):r;let p=d,m=p.frameElement;for(;m&&r&&h!==p;){const y=um(m),g=m.getBoundingClientRect(),v=fa(m),_=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,S=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=_,l+=S,p=Oo(m),m=p.frameElement}}return Bm({width:c,height:f,x:u,y:l})}const DSe=[":popover-open",":modal"];function vJ(e){return DSe.some(t=>{try{return e.matches(t)}catch{return!1}})}function $Se(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Sc(r),a=t?vJ(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Of(1);const c=Of(0),f=ol(r);if((f||!f&&!s)&&((Rf(r)!=="body"||N_(o))&&(u=GI(r)),ol(r))){const d=yh(r);l=um(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function LSe(e){return Array.from(e.getClientRects())}function _J(e){return yh(Sc(e)).left+GI(e).scrollLeft}function MSe(e){const t=Sc(e),n=GI(e),r=e.ownerDocument.body,i=is(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=is(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_J(e);const a=-n.scrollTop;return fa(r).direction==="rtl"&&(o+=is(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function FSe(e,t){const n=Oo(e),r=Sc(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=e3();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function jSe(e,t){const n=yh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ol(e)?um(e):Of(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function $j(e,t,n){let r;if(t==="viewport")r=FSe(e,n);else if(t==="document")r=MSe(Sc(e));else if(nc(t))r=jSe(t,n);else{const i=yJ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Bm(r)}function bJ(e,t){const n=Um(e);return n===t||!nc(n)||qI(n)?!1:fa(n).position==="fixed"||bJ(n,t)}function BSe(e,t){const n=t.get(e);if(n)return n;let r=Gl(e,[],!1).filter(a=>nc(a)&&Rf(a)!=="body"),i=null;const s=fa(e).position==="fixed";let o=s?Um(e):e;for(;nc(o)&&!qI(o);){const a=fa(o),u=Z$(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||N_(o)&&!u&&bJ(e,o))?r=r.filter(c=>c!==o):i=a,o=Um(o)}return t.set(e,r),r}function USe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?BSe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=$j(t,c,i);return l.top=is(f.top,l.top),l.right=Qa(f.right,l.right),l.bottom=Qa(f.bottom,l.bottom),l.left=is(f.left,l.left),l},$j(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function VSe(e){const{width:t,height:n}=gJ(e);return{width:t,height:n}}function zSe(e,t,n){const r=ol(t),i=Sc(t),s=n==="fixed",o=yh(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Of(0);if(r||!r&&!s)if((Rf(t)!=="body"||N_(i))&&(a=GI(t)),r){const f=yh(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=_J(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function Lj(e,t){return!ol(e)||fa(e).position==="fixed"?null:t?t(e):e.offsetParent}function wJ(e,t){const n=Oo(e);if(!ol(e)||vJ(e))return n;let r=Lj(e,t);for(;r&&OSe(r)&&fa(r).position==="static";)r=Lj(r,t);return r&&(Rf(r)==="html"||Rf(r)==="body"&&fa(r).position==="static"&&!Z$(r))?n:r||RSe(e)||n}const HSe=async function(e){const t=this.getOffsetParent||wJ,n=this.getDimensions;return{reference:zSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function WSe(e){return fa(e).direction==="rtl"}const qSe={convertOffsetParentRelativeRectToViewportRelativeRect:$Se,getDocumentElement:Sc,getClippingRect:USe,getOffsetParent:wJ,getElementRects:HSe,getClientRects:LSe,getDimensions:VSe,getScale:um,isElement:nc,isRTL:WSe};function GSe(e,t){let n=null,r;const i=Sc(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=ob(c),p=ob(i.clientWidth-(l+f)),m=ob(i.clientHeight-(c+d)),y=ob(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-y+"px",threshold:is(0,Qa(1,u))||1};let _=!0;function S(x){const b=x[0].intersectionRatio;if(b!==u){if(!_)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(S,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return o(!0),s}function YSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=t3(e),c=i||s?[...l?Gl(l):[],...Gl(t)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const f=l&&a?GSe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,m=u?yh(e):null;u&&y();function y(){const g=yh(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,p=requestAnimationFrame(y)}return n(),()=>{var g;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const n3=CSe,EJ=SSe,KSe=PSe,Mj=ESe,SJ=xSe,QSe=ASe,XSe=(e,t,n)=>{const r=new Map,i={platform:qSe,...n},s={...i.platform,_c:r};return wSe(e,t,{...i,platform:s})},TJ=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Mj({element:t.current,padding:n}).fn(i):{}:t?Mj({element:t,padding:n}).fn(i):{}}}};var Tw=typeof document<"u"?w.useLayoutEffect:w.useEffect;function aS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!aS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!aS(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Fj(e){const t=w.useRef(e);return Tw(()=>{t.current=e}),t}function JSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,u]=w.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[l,c]=w.useState(r);aS(l,r)||c(r);const f=w.useRef(null),d=w.useRef(null),h=w.useRef(a),p=Fj(s),m=Fj(i),[y,g]=w.useState(null),[v,_]=w.useState(null),S=w.useCallback($=>{f.current!==$&&(f.current=$,g($))},[]),x=w.useCallback($=>{d.current!==$&&(d.current=$,_($))},[]),b=w.useCallback(()=>{if(!f.current||!d.current)return;const $={placement:t,strategy:n,middleware:l};m.current&&($.platform=m.current),XSe(f.current,d.current,$).then(B=>{const O={...B,isPositioned:!0};T.current&&!aS(h.current,O)&&(h.current=O,jh.flushSync(()=>{u(O)}))})},[l,t,n,m]);Tw(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,u($=>({...$,isPositioned:!1})))},[o]);const T=w.useRef(!1);Tw(()=>(T.current=!0,()=>{T.current=!1}),[]),Tw(()=>{if(y&&v){if(p.current)return p.current(y,v,b);b()}},[y,v,b,p]);const I=w.useMemo(()=>({reference:f,floating:d,setReference:S,setFloating:x}),[S,x]),D=w.useMemo(()=>({reference:y,floating:v}),[y,v]);return w.useMemo(()=>({...a,update:b,refs:I,elements:D,reference:S,floating:x}),[a,b,I,D,S,x])}var Vm=typeof document<"u"?w.useLayoutEffect:w.useEffect;let zP=!1,ZSe=0;const jj=()=>"floating-ui-"+ZSe++;function eTe(){const[e,t]=w.useState(()=>zP?jj():void 0);return Vm(()=>{e==null&&t(jj())},[]),w.useEffect(()=>{zP||(zP=!0)},[]),e}const tTe=ev.useId,Bj=tTe||eTe;function nTe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const rTe=w.createContext(null),iTe=w.createContext(null),xJ=()=>{var e;return((e=w.useContext(rTe))==null?void 0:e.id)||null},r3=()=>w.useContext(iTe);function of(e){return(e==null?void 0:e.ownerDocument)||document}function sTe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function oTe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function i3(e){return of(e).defaultView||window}function Mu(e){return e?e instanceof i3(e).Element:!1}function IJ(e){return e?e instanceof i3(e).HTMLElement:!1}function aTe(e){if(typeof ShadowRoot>"u")return!1;const t=i3(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function uTe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(sTe())||t.test(oTe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function lTe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function CJ(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Uj(e){const t=w.useRef(e);return Vm(()=>{t.current=e}),t}const Vj="data-floating-ui-safe-polygon";function xw(e,t,n){return n&&!CJ(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const cTe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,elements:{domReference:d,floating:h},refs:p}=e,m=r3(),y=xJ(),g=Uj(i),v=Uj(r),_=w.useRef(),S=w.useRef(),x=w.useRef(),b=w.useRef(),T=w.useRef(!0),I=w.useRef(!1),D=w.useRef(()=>{}),$=w.useCallback(()=>{var k;const ee=(k=c.current.openEvent)==null?void 0:k.type;return(ee==null?void 0:ee.includes("mouse"))&&ee!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function k(){clearTimeout(S.current),clearTimeout(b.current),T.current=!0}return f.on("dismiss",k),()=>{f.off("dismiss",k)}},[n,f]),w.useEffect(()=>{if(!n||!g.current||!u)return;function k(){$()&&l(!1)}const ee=of(h).documentElement;return ee.addEventListener("mouseleave",k),()=>{ee.removeEventListener("mouseleave",k)}},[h,u,l,n,g,c,$]);const B=w.useCallback(function(k){k===void 0&&(k=!0);const ee=xw(v.current,"close",_.current);ee&&!x.current?(clearTimeout(S.current),S.current=setTimeout(()=>l(!1),ee)):k&&(clearTimeout(S.current),l(!1))},[v,l]),O=w.useCallback(()=>{D.current(),x.current=void 0},[]),M=w.useCallback(()=>{if(I.current){const k=of(p.floating.current).body;k.style.pointerEvents="",k.removeAttribute(Vj),I.current=!1}},[p]);return w.useEffect(()=>{if(!n)return;function k(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function ee(K){if(clearTimeout(S.current),T.current=!1,s&&!CJ(_.current)||o>0&&xw(v.current,"open")===0)return;c.current.openEvent=K;const ie=xw(v.current,"open",_.current);ie?S.current=setTimeout(()=>{l(!0)},ie):l(!0)}function te(K){if(k())return;D.current();const ie=of(h);if(clearTimeout(b.current),g.current){u||clearTimeout(S.current),x.current=g.current({...e,tree:m,x:K.clientX,y:K.clientY,onClose(){M(),O(),B()}});const P=x.current;ie.addEventListener("mousemove",P),D.current=()=>{ie.removeEventListener("mousemove",P)};return}B()}function re(K){k()||g.current==null||g.current({...e,tree:m,x:K.clientX,y:K.clientY,onClose(){M(),O(),B()}})(K)}if(Mu(d)){const K=d;return u&&K.addEventListener("mouseleave",re),h==null||h.addEventListener("mouseleave",re),a&&K.addEventListener("mousemove",ee,{once:!0}),K.addEventListener("mouseenter",ee),K.addEventListener("mouseleave",te),()=>{u&&K.removeEventListener("mouseleave",re),h==null||h.removeEventListener("mouseleave",re),a&&K.removeEventListener("mousemove",ee),K.removeEventListener("mouseenter",ee),K.removeEventListener("mouseleave",te)}}},[d,h,n,e,s,o,a,B,O,M,l,u,m,v,g,c]),Vm(()=>{var k;if(n&&u&&(k=g.current)!=null&&k.__options.blockPointerEvents&&$()){const re=of(h).body;if(re.setAttribute(Vj,""),re.style.pointerEvents="none",I.current=!0,Mu(d)&&h){var ee,te;const K=d,ie=m==null||(ee=m.nodesRef.current.find(P=>P.id===y))==null||(te=ee.context)==null?void 0:te.elements.floating;return ie&&(ie.style.pointerEvents=""),K.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{K.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,u,y,h,d,m,g,c,$]),Vm(()=>{u||(_.current=void 0,O(),M())},[u,O,M]),w.useEffect(()=>()=>{O(),clearTimeout(S.current),clearTimeout(b.current),M()},[n,O,M]),w.useMemo(()=>{if(!n)return{};function k(ee){_.current=ee.pointerType}return{reference:{onPointerDown:k,onPointerEnter:k,onMouseMove(){u||o===0||(clearTimeout(b.current),b.current=setTimeout(()=>{T.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(S.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),B(!1)}}}},[f,n,o,u,l,B])},AJ=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),PJ=()=>w.useContext(AJ),fTe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=w.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=w.useRef(null),a=w.useCallback(u=>{s({currentId:u})},[]);return Vm(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),w.createElement(AJ.Provider,{value:w.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},dTe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:u,timeoutMs:l}=PJ();w.useEffect(()=>{s&&(u({delay:{open:1,close:xw(a,"close")}}),s!==i&&r(!1))},[i,r,u,s,a]),w.useEffect(()=>{function c(){r(!1),u({delay:a,currentId:null})}if(!n&&s===i)if(l){const f=window.setTimeout(c,l);return()=>{clearTimeout(f)}}else c()},[n,u,s,i,r,a,l]),w.useEffect(()=>{n&&o(i)},[n,o,i])};function hTe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function zj(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&aTe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function HP(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function pTe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const mTe=ev.useInsertionEffect,gTe=mTe||(e=>e());function OJ(e){const t=w.useRef(()=>{});return gTe(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Iw(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const yTe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},vTe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},_Te=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},bTe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:u},dataRef:l}=e,{enabled:c=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:y=!1,bubbles:g=!0}=t===void 0?{}:t;const v=r3(),_=xJ()!=null,S=OJ(typeof d=="function"?d:()=>!1),x=typeof d=="function"?S:d,b=w.useRef(!1),{escapeKeyBubbles:T,outsidePressBubbles:I}=_Te(g);return w.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=T,l.current.__outsidePressBubbles=I;function D(k){if(k.key==="Escape"){const ee=v?HP(v.nodesRef.current,s):[];if(ee.length>0){let te=!0;if(ee.forEach(re=>{var K;if((K=re.context)!=null&&K.open&&!re.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function $(k){const ee=b.current;if(b.current=!1,ee||typeof x=="function"&&!x(k))return;const te=pTe(k);if(IJ(te)&&u){const ie=u.ownerDocument.defaultView||window,P=te.scrollWidth>te.clientWidth,V=te.scrollHeight>te.clientHeight;let Y=V&&k.offsetX>te.clientWidth;if(V&&ie.getComputedStyle(te).direction==="rtl"&&(Y=k.offsetX<=te.offsetWidth-te.clientWidth),Y||P&&k.offsetY>te.clientHeight)return}const re=v&&HP(v.nodesRef.current,s).some(ie=>{var P;return Iw(k,(P=ie.context)==null?void 0:P.elements.floating)});if(Iw(k,u)||Iw(k,a)||re)return;const K=v?HP(v.nodesRef.current,s):[];if(K.length>0){let ie=!0;if(K.forEach(P=>{var V;if((V=P.context)!=null&&V.open&&!P.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:uTe(k)||lTe(k)}}),r(!1)}function B(){r(!1)}const O=of(u);f&&O.addEventListener("keydown",D),x&&O.addEventListener(h,$);let M=[];return y&&(Mu(a)&&(M=Gl(a)),Mu(u)&&(M=M.concat(Gl(u))),!Mu(o)&&o&&o.contextElement&&(M=M.concat(Gl(o.contextElement)))),M=M.filter(k=>{var ee;return k!==((ee=O.defaultView)==null?void 0:ee.visualViewport)}),M.forEach(k=>{k.addEventListener("scroll",B,{passive:!0})}),()=>{f&&O.removeEventListener("keydown",D),x&&O.removeEventListener(h,$),M.forEach(k=>{k.removeEventListener("scroll",B)})}},[l,u,a,o,f,x,h,i,v,s,n,r,y,c,T,I,_]),w.useEffect(()=>{b.current=!1},[x,h]),w.useMemo(()=>c?{reference:{[yTe[m]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[vTe[h]]:()=>{b.current=!0}}}:{},[c,i,p,h,m,r])},wTe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:u}}=e,{enabled:l=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const f=w.useRef(""),d=w.useRef(!1),h=w.useRef();return w.useEffect(()=>{if(!l)return;const m=of(a).defaultView||window;function y(){!n&&IJ(u)&&u===hTe(of(u))&&(d.current=!0)}return m.addEventListener("blur",y),()=>{m.removeEventListener("blur",y)}},[a,u,n,l]),w.useEffect(()=>{if(!l)return;function p(m){(m.type==="referencePress"||m.type==="escapeKey")&&(d.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,l]),w.useEffect(()=>()=>{clearTimeout(h.current)},[]),w.useMemo(()=>l?{reference:{onPointerDown(p){let{pointerType:m}=p;f.current=m,d.current=!!(m&&c)},onMouseLeave(){d.current=!1},onFocus(p){var m;d.current||p.type==="focus"&&((m=i.current.openEvent)==null?void 0:m.type)==="mousedown"&&i.current.openEvent&&Iw(i.current.openEvent,u)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){d.current=!1;const m=p.relatedTarget,y=Mu(m)&&m.hasAttribute("data-floating-ui-focus-guard")&&m.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{zj(o.floating.current,m)||zj(u,m)||y||r(!1)})}}}:{},[l,c,u,o,i,r])},ETe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=Bj(),o=Bj();return w.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function s3(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=JSe(e),s=r3(),o=w.useRef(null),a=w.useRef({}),u=w.useState(()=>nTe())[0],[l,c]=w.useState(null),f=w.useCallback(g=>{const v=Mu(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;i.refs.setReference(v)},[i.refs]),d=w.useCallback(g=>{(Mu(g)||g===null)&&(o.current=g,c(g)),(Mu(i.refs.reference.current)||i.refs.reference.current===null||g!==null&&!Mu(g))&&i.refs.setReference(g)},[i.refs]),h=w.useMemo(()=>({...i.refs,setReference:d,setPositionReference:f,domReference:o}),[i.refs,d,f]),p=w.useMemo(()=>({...i.elements,domReference:l}),[i.elements,l]),m=OJ(n),y=w.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:u,open:t,onOpenChange:m}),[i,r,u,t,m,h,p]);return Vm(()=>{const g=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);g&&(g.context=y)}),w.useMemo(()=>({...i,context:y,refs:h,reference:d,positionReference:f}),[i,h,y,d,f])}function WP(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const STe=function(e){e===void 0&&(e=[]);const t=e,n=w.useCallback(s=>WP(s,e,"reference"),t),r=w.useCallback(s=>WP(s,e,"floating"),t),i=w.useCallback(s=>WP(s,e,"item"),e.map(s=>s==null?void 0:s.item));return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function RJ({opened:e,floating:t,positionDependencies:n}){const[r,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return YSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),Mi(()=>{t.update()},n),Mi(()=>{i(s=>s+1)},[e])}function TTe(e){const t=[hJ(e.offset)];return e.middlewares.shift&&t.push(n3({limiter:QSe()})),e.middlewares.flip&&t.push(EJ()),e.middlewares.inline&&t.push(SJ()),t.push(TJ({element:e.arrowRef,padding:e.arrowOffset})),t}function xTe(e){const[t,n]=No({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=s3({placement:e.position,middleware:[...TTe(e),...e.width==="target"?[KSe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return RJ({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),Mi(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const NJ={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[ITe,kJ]=TI(NJ.context);var CTe=Object.defineProperty,ATe=Object.defineProperties,PTe=Object.getOwnPropertyDescriptors,uS=Object.getOwnPropertySymbols,DJ=Object.prototype.hasOwnProperty,$J=Object.prototype.propertyIsEnumerable,Hj=(e,t,n)=>t in e?CTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ab=(e,t)=>{for(var n in t||(t={}))DJ.call(t,n)&&Hj(e,n,t[n]);if(uS)for(var n of uS(t))$J.call(t,n)&&Hj(e,n,t[n]);return e},OTe=(e,t)=>ATe(e,PTe(t)),RTe=(e,t)=>{var n={};for(var r in e)DJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uS)for(var r of uS(e))t.indexOf(r)<0&&$J.call(e,r)&&(n[r]=e[r]);return n};const NTe={refProp:"ref",popupType:"dialog"},LJ=w.forwardRef((e,t)=>{const n=Ge("PopoverTarget",NTe,e),{children:r,refProp:i,popupType:s}=n,o=RTe(n,["children","refProp","popupType"]);if(!T_(r))throw new Error(NJ.children);const a=o,u=kJ(),l=zo(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return w.cloneElement(r,ab(OTe(ab(ab(ab({},a),c),u.targetProps),{className:sQ(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});LJ.displayName="@mantine/core/PopoverTarget";var kTe=ot((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const DTe=kTe;var $Te=Object.defineProperty,Wj=Object.getOwnPropertySymbols,LTe=Object.prototype.hasOwnProperty,MTe=Object.prototype.propertyIsEnumerable,qj=(e,t,n)=>t in e?$Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,op=(e,t)=>{for(var n in t||(t={}))LTe.call(t,n)&&qj(e,n,t[n]);if(Wj)for(var n of Wj(t))MTe.call(t,n)&&qj(e,n,t[n]);return e};const Gj={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function MJ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Z1?op(op(op({transitionProperty:Z1[e].transitionProperty},i),Z1[e].common),Z1[e][Gj[t]]):null:op(op(op({transitionProperty:e.transitionProperty},i),e.common),e[Gj[t]])}function FJ({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Ei(),l=jI(),c=u.respectReducedMotion?l:!1,[f,d]=w.useState(r?"entered":"exited");let h=c?0:e;const p=w.useRef(-1),m=y=>{const g=y?i:s,v=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return Mi(()=>{m(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function YI({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=FJ({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?N.createElement(N.Fragment,null,i({})):null:f==="exited"?null:N.createElement(N.Fragment,null,i(MJ({transition:e,duration:c,state:f,timingFunction:d})))}YI.displayName="@mantine/core/Transition";function jJ({children:e,active:t=!0,refProp:n="ref"}){const r=$Q(t),i=zo(r,e==null?void 0:e.ref);return T_(e)?w.cloneElement(e,{[n]:i}):e}jJ.displayName="@mantine/core/FocusTrap";var FTe=Object.defineProperty,jTe=Object.defineProperties,BTe=Object.getOwnPropertyDescriptors,Yj=Object.getOwnPropertySymbols,UTe=Object.prototype.hasOwnProperty,VTe=Object.prototype.propertyIsEnumerable,Kj=(e,t,n)=>t in e?FTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rc=(e,t)=>{for(var n in t||(t={}))UTe.call(t,n)&&Kj(e,n,t[n]);if(Yj)for(var n of Yj(t))VTe.call(t,n)&&Kj(e,n,t[n]);return e},ub=(e,t)=>jTe(e,BTe(t));function Qj(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Xj(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const zTe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function HTe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:u}){const[l,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[zTe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?ub(Rc(Rc({},f),Qj(c,a,r,s)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?ub(Rc(Rc({},f),Qj(c,a,r,s)),{left:d,borderRight:0,borderTop:0}):l==="top"?ub(Rc(Rc({},f),Xj(c,o,r,s,u)),{bottom:d,borderTop:0,borderLeft:0}):l==="bottom"?ub(Rc(Rc({},f),Xj(c,o,r,s,u)),{top:d,borderBottom:0,borderRight:0}):{}}var WTe=Object.defineProperty,qTe=Object.defineProperties,GTe=Object.getOwnPropertyDescriptors,lS=Object.getOwnPropertySymbols,BJ=Object.prototype.hasOwnProperty,UJ=Object.prototype.propertyIsEnumerable,Jj=(e,t,n)=>t in e?WTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YTe=(e,t)=>{for(var n in t||(t={}))BJ.call(t,n)&&Jj(e,n,t[n]);if(lS)for(var n of lS(t))UJ.call(t,n)&&Jj(e,n,t[n]);return e},KTe=(e,t)=>qTe(e,GTe(t)),QTe=(e,t)=>{var n={};for(var r in e)BJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lS)for(var r of lS(e))t.indexOf(r)<0&&UJ.call(e,r)&&(n[r]=e[r]);return n};const o3=w.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,visible:l,arrowX:c,arrowY:f}=n,d=QTe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Ei();return l?N.createElement("div",KTe(YTe({},d),{ref:t,style:HTe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,dir:h.dir,arrowX:c,arrowY:f})})):null});o3.displayName="@mantine/core/FloatingArrow";var XTe=Object.defineProperty,JTe=Object.defineProperties,ZTe=Object.getOwnPropertyDescriptors,cS=Object.getOwnPropertySymbols,VJ=Object.prototype.hasOwnProperty,zJ=Object.prototype.propertyIsEnumerable,Zj=(e,t,n)=>t in e?XTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lb=(e,t)=>{for(var n in t||(t={}))VJ.call(t,n)&&Zj(e,n,t[n]);if(cS)for(var n of cS(t))zJ.call(t,n)&&Zj(e,n,t[n]);return e},eB=(e,t)=>JTe(e,ZTe(t)),exe=(e,t)=>{var n={};for(var r in e)VJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cS)for(var r of cS(e))t.indexOf(r)<0&&zJ.call(e,r)&&(n[r]=e[r]);return n};const txe={};function HJ(e){const t=Ge("PopoverDropdown",txe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=exe(t,["style","className","children","onKeyDownCapture"]),a=kJ(),{classes:u,cx:l}=DTe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=RQ({opened:a.opened,shouldReturnFocus:a.returnFocus}),f=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:N.createElement(A_,{withinPortal:a.withinPortal},N.createElement(YI,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},d=>{var h,p;return N.createElement(jJ,{active:a.trapFocus},N.createElement(tt,lb(eB(lb({},f),{tabIndex:-1,key:a.placement,ref:a.floating,style:eB(lb(lb({},n),d),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:l(u.dropdown,r),onKeyDownCapture:eye(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,N.createElement(o3,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:u.arrow})))}))}HJ.displayName="@mantine/core/PopoverDropdown";function WJ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var tB=Object.getOwnPropertySymbols,nxe=Object.prototype.hasOwnProperty,rxe=Object.prototype.propertyIsEnumerable,ixe=(e,t)=>{var n={};for(var r in e)nxe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tB)for(var r of tB(e))t.indexOf(r)<0&&rxe.call(e,r)&&(n[r]=e[r]);return n};const sxe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:wc("popover"),__staticSelector:"Popover",width:"max-content"};function jr(e){var t,n,r,i,s,o;const a=w.useRef(null),u=Ge("Popover",sxe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:v,withArrow:_,arrowSize:S,arrowOffset:x,arrowRadius:b,arrowPosition:T,unstyled:I,classNames:D,styles:$,closeOnClickOutside:B,withinPortal:O,closeOnEscape:M,clickOutsideEvents:k,trapFocus:ee,onClose:te,onOpen:re,onChange:K,zIndex:ie,radius:P,shadow:V,id:Y,defaultOpened:A,exitTransitionDuration:R,__staticSelector:L,withRoles:G,disabled:le,returnFocus:ce}=u,de=ixe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,we]=w.useState(null),[ye,He]=w.useState(null),Ke=iu(Y),mt=Ei(),De=xTe({middlewares:v,width:g,position:WJ(mt.dir,c),offset:f+(_?S/2:0),arrowRef:a,arrowOffset:x,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:A,onChange:K,onOpen:re,onClose:te});y_e(()=>B&&De.onClose(),k,[me,ye]);const Ie=w.useCallback(Wt=>{we(Wt),De.floating.reference(Wt)},[De.floating.reference]),We=w.useCallback(Wt=>{He(Wt),De.floating.floating(Wt)},[De.floating.floating]);return N.createElement(ITe,{value:{returnFocus:ce,disabled:le,controlled:De.controlled,reference:Ie,floating:We,x:De.floating.x,y:De.floating.y,arrowX:(r=(n=(t=De.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=De.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:De.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:R,width:g,withArrow:_,arrowSize:S,arrowOffset:x,arrowRadius:b,arrowPosition:T,placement:De.floating.placement,trapFocus:ee,withinPortal:O,zIndex:ie,radius:P,shadow:V,closeOnEscape:M,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${Ke}-target`,getDropdownId:()=>`${Ke}-dropdown`,withRoles:G,targetProps:de,__staticSelector:L,classNames:D,styles:$,unstyled:I}},l)}jr.Target=LJ;jr.Dropdown=HJ;jr.displayName="@mantine/core/Popover";var oxe=Object.defineProperty,fS=Object.getOwnPropertySymbols,qJ=Object.prototype.hasOwnProperty,GJ=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?oxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,axe=(e,t)=>{for(var n in t||(t={}))qJ.call(t,n)&&nB(e,n,t[n]);if(fS)for(var n of fS(t))GJ.call(t,n)&&nB(e,n,t[n]);return e},uxe=(e,t)=>{var n={};for(var r in e)qJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fS)for(var r of fS(e))t.indexOf(r)<0&&GJ.call(e,r)&&(n[r]=e[r]);return n};function lxe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=uxe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=hSe(null,{name:u,styles:l,classNames:c,unstyled:f});return N.createElement(jr.Dropdown,axe({p:0,onMouseDown:p=>p.preventDefault()},d),N.createElement("div",{style:{maxHeight:i,display:"flex"}},N.createElement(tt,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==WI?"auto":void 0},"data-combobox-popover":!0,ref:a},N.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function _f({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return N.createElement(jr,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}_f.Target=jr.Target;_f.Dropdown=lxe;var cxe=Object.defineProperty,fxe=Object.defineProperties,dxe=Object.getOwnPropertyDescriptors,dS=Object.getOwnPropertySymbols,YJ=Object.prototype.hasOwnProperty,KJ=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cb=(e,t)=>{for(var n in t||(t={}))YJ.call(t,n)&&rB(e,n,t[n]);if(dS)for(var n of dS(t))KJ.call(t,n)&&rB(e,n,t[n]);return e},hxe=(e,t)=>fxe(e,dxe(t)),pxe=(e,t)=>{var n={};for(var r in e)YJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dS)for(var r of dS(e))t.indexOf(r)<0&&KJ.call(e,r)&&(n[r]=e[r]);return n};function QJ(e,t,n){const r=Ge(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:v,size:_,style:S,inputContainer:x,inputWrapperOrder:b,withAsterisk:T}=r,I=pxe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),D=iu(v),{systemStyles:$,rest:B}=ed(I),O=cb({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:D,size:_,style:S,inputContainer:x,inputWrapperOrder:b,withAsterisk:T},g);return hxe(cb({},B),{classNames:u,styles:l,unstyled:f,wrapperProps:cb(cb({},O),$),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:D,size:_,__staticSelector:d,invalid:!!o}})}var mxe=ot((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),gxe=Object.defineProperty,hS=Object.getOwnPropertySymbols,XJ=Object.prototype.hasOwnProperty,JJ=Object.prototype.propertyIsEnumerable,iB=(e,t,n)=>t in e?gxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yxe=(e,t)=>{for(var n in t||(t={}))XJ.call(t,n)&&iB(e,n,t[n]);if(hS)for(var n of hS(t))JJ.call(t,n)&&iB(e,n,t[n]);return e},vxe=(e,t)=>{var n={};for(var r in e)XJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hS)for(var r of hS(e))t.indexOf(r)<0&&JJ.call(e,r)&&(n[r]=e[r]);return n};const _xe={labelElement:"label",size:"sm"},a3=w.forwardRef((e,t)=>{const n=Ge("InputLabel",_xe,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=vxe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:m}=mxe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return N.createElement(tt,yxe({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&N.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});a3.displayName="@mantine/core/InputLabel";var bxe=ot((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),wxe=Object.defineProperty,pS=Object.getOwnPropertySymbols,ZJ=Object.prototype.hasOwnProperty,eZ=Object.prototype.propertyIsEnumerable,sB=(e,t,n)=>t in e?wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Exe=(e,t)=>{for(var n in t||(t={}))ZJ.call(t,n)&&sB(e,n,t[n]);if(pS)for(var n of pS(t))eZ.call(t,n)&&sB(e,n,t[n]);return e},Sxe=(e,t)=>{var n={};for(var r in e)ZJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pS)for(var r of pS(e))t.indexOf(r)<0&&eZ.call(e,r)&&(n[r]=e[r]);return n};const Txe={size:"sm"},u3=w.forwardRef((e,t)=>{const n=Ge("InputError",Txe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=Sxe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=bxe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return N.createElement(et,Exe({className:d(f.error,i),ref:t},c),r)});u3.displayName="@mantine/core/InputError";var xxe=ot((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),Ixe=Object.defineProperty,mS=Object.getOwnPropertySymbols,tZ=Object.prototype.hasOwnProperty,nZ=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?Ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cxe=(e,t)=>{for(var n in t||(t={}))tZ.call(t,n)&&oB(e,n,t[n]);if(mS)for(var n of mS(t))nZ.call(t,n)&&oB(e,n,t[n]);return e},Axe=(e,t)=>{var n={};for(var r in e)tZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mS)for(var r of mS(e))t.indexOf(r)<0&&nZ.call(e,r)&&(n[r]=e[r]);return n};const Pxe={size:"sm"},l3=w.forwardRef((e,t)=>{const n=Ge("InputDescription",Pxe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=Axe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=xxe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return N.createElement(et,Cxe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});l3.displayName="@mantine/core/InputDescription";const rZ=w.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),Oxe=rZ.Provider,Rxe=()=>w.useContext(rZ);function Nxe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var kxe=Object.defineProperty,Dxe=Object.defineProperties,$xe=Object.getOwnPropertyDescriptors,aB=Object.getOwnPropertySymbols,Lxe=Object.prototype.hasOwnProperty,Mxe=Object.prototype.propertyIsEnumerable,uB=(e,t,n)=>t in e?kxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fxe=(e,t)=>{for(var n in t||(t={}))Lxe.call(t,n)&&uB(e,n,t[n]);if(aB)for(var n of aB(t))Mxe.call(t,n)&&uB(e,n,t[n]);return e},jxe=(e,t)=>Dxe(e,$xe(t)),Bxe=ot(e=>({root:jxe(Fxe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),Uxe=Object.defineProperty,Vxe=Object.defineProperties,zxe=Object.getOwnPropertyDescriptors,gS=Object.getOwnPropertySymbols,iZ=Object.prototype.hasOwnProperty,sZ=Object.prototype.propertyIsEnumerable,lB=(e,t,n)=>t in e?Uxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nc=(e,t)=>{for(var n in t||(t={}))iZ.call(t,n)&&lB(e,n,t[n]);if(gS)for(var n of gS(t))sZ.call(t,n)&&lB(e,n,t[n]);return e},cB=(e,t)=>Vxe(e,zxe(t)),Hxe=(e,t)=>{var n={};for(var r in e)iZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gS)for(var r of gS(e))t.indexOf(r)<0&&sZ.call(e,r)&&(n[r]=e[r]);return n};const Wxe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},oZ=w.forwardRef((e,t)=>{const n=Ge("InputWrapper",Wxe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:v,unstyled:_,inputWrapperOrder:S,withAsterisk:x}=n,b=Hxe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:T,cx:I}=Bxe(null,{classNames:p,styles:m,name:["InputWrapper",v],unstyled:_}),D={classNames:p,styles:m,unstyled:_,size:y,__staticSelector:v},$=typeof x=="boolean"?x:o,B=a?`${a}-error`:h==null?void 0:h.id,O=a?`${a}-description`:d==null?void 0:d.id,k=`${!!u&&typeof u!="boolean"?B:""} ${l?O:""}`,ee=k.trim().length>0?k.trim():void 0,te=i&&N.createElement(a3,Nc(Nc({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:$},D),f),i),re=l&&N.createElement(l3,cB(Nc(Nc({key:"description"},d),D),{size:(d==null?void 0:d.size)||D.size,id:(d==null?void 0:d.id)||O}),l),K=N.createElement(w.Fragment,{key:"input"},g(s)),ie=typeof u!="boolean"&&u&&N.createElement(u3,cB(Nc(Nc({},h),D),{size:(h==null?void 0:h.size)||D.size,key:"error",id:(h==null?void 0:h.id)||B}),u),P=S.map(V=>{switch(V){case"label":return te;case"input":return K;case"description":return re;case"error":return ie;default:return null}});return N.createElement(Oxe,{value:Nc({describedBy:ee},Nxe(S,{hasDescription:!!re,hasError:!!ie}))},N.createElement(tt,Nc({className:I(T.root,r),ref:t},b),P))});oZ.displayName="@mantine/core/InputWrapper";var qxe=Object.defineProperty,yS=Object.getOwnPropertySymbols,aZ=Object.prototype.hasOwnProperty,uZ=Object.prototype.propertyIsEnumerable,fB=(e,t,n)=>t in e?qxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gxe=(e,t)=>{for(var n in t||(t={}))aZ.call(t,n)&&fB(e,n,t[n]);if(yS)for(var n of yS(t))uZ.call(t,n)&&fB(e,n,t[n]);return e},Yxe=(e,t)=>{var n={};for(var r in e)aZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yS)for(var r of yS(e))t.indexOf(r)<0&&uZ.call(e,r)&&(n[r]=e[r]);return n};const Kxe={},lZ=w.forwardRef((e,t)=>{const n=Ge("InputPlaceholder",Kxe,e),{sx:r}=n,i=Yxe(n,["sx"]);return N.createElement(tt,Gxe({component:"span",sx:[s=>s.fn.placeholderStyles(),...gh(r)],ref:t},i))});lZ.displayName="@mantine/core/InputPlaceholder";var Qxe=Object.defineProperty,Xxe=Object.defineProperties,Jxe=Object.getOwnPropertyDescriptors,dB=Object.getOwnPropertySymbols,Zxe=Object.prototype.hasOwnProperty,eIe=Object.prototype.propertyIsEnumerable,hB=(e,t,n)=>t in e?Qxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fb=(e,t)=>{for(var n in t||(t={}))Zxe.call(t,n)&&hB(e,n,t[n]);if(dB)for(var n of dB(t))eIe.call(t,n)&&hB(e,n,t[n]);return e},qP=(e,t)=>Xxe(e,Jxe(t));const Us={xs:30,sm:36,md:42,lg:50,xl:60};function tIe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var nIe=ot((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Us}),paddingLeft:e.fn.size({size:t,sizes:Us})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Us})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:fb(qP(fb(qP(fb({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Us}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Us})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":qP(fb({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),tIe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Us})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Us}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),rIe=Object.defineProperty,iIe=Object.defineProperties,sIe=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertySymbols,cZ=Object.prototype.hasOwnProperty,fZ=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?rIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,db=(e,t)=>{for(var n in t||(t={}))cZ.call(t,n)&&pB(e,n,t[n]);if(vS)for(var n of vS(t))fZ.call(t,n)&&pB(e,n,t[n]);return e},mB=(e,t)=>iIe(e,sIe(t)),oIe=(e,t)=>{var n={};for(var r in e)cZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vS)for(var r of vS(e))t.indexOf(r)<0&&fZ.call(e,r)&&(n[r]=e[r]);return n};const aIe={rightSectionWidth:36,size:"sm",variant:"default"},Vh=w.forwardRef((e,t)=>{const n=Ge("Input",aIe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:v,__staticSelector:_,multiline:S,sx:x,unstyled:b,pointer:T}=n,I=oIe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:D,offsetTop:$,describedBy:B}=Rxe(),{classes:O,cx:M}=nIe({radius:p,size:m,multiline:S,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:D,offsetTop:$,pointer:T},{classNames:g,styles:v,name:["Input",_],unstyled:b}),{systemStyles:k,rest:ee}=ed(I);return N.createElement(tt,db(db({className:M(O.wrapper,r),sx:x,style:l},k),y),u&&N.createElement("div",{className:O.icon},u),N.createElement(tt,mB(db({component:"input"},ee),{ref:t,required:s,"aria-invalid":i,"aria-describedby":B,disabled:o,className:M(O[`${a}Variant`],O.input,{[O.withIcon]:u,[O.invalid]:i,[O.disabled]:o})})),d&&N.createElement("div",mB(db({},h),{className:O.rightSection}),d))});Vh.displayName="@mantine/core/Input";Vh.Wrapper=oZ;Vh.Label=a3;Vh.Description=l3;Vh.Error=u3;Vh.Placeholder=lZ;const ro=Vh;var uIe=Object.defineProperty,lIe=Object.defineProperties,cIe=Object.getOwnPropertyDescriptors,gB=Object.getOwnPropertySymbols,fIe=Object.prototype.hasOwnProperty,dIe=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?uIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GP=(e,t)=>{for(var n in t||(t={}))fIe.call(t,n)&&yB(e,n,t[n]);if(gB)for(var n of gB(t))dIe.call(t,n)&&yB(e,n,t[n]);return e},hIe=(e,t)=>lIe(e,cIe(t));const YP={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},pIe={xs:4,sm:4,md:6,lg:8,xl:10};function mIe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:pIe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var gIe=ot((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in YP?YP[n]:YP.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:GP(hIe(GP(GP({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),mIe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),yIe=Object.defineProperty,_S=Object.getOwnPropertySymbols,dZ=Object.prototype.hasOwnProperty,hZ=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?yIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vIe=(e,t)=>{for(var n in t||(t={}))dZ.call(t,n)&&vB(e,n,t[n]);if(_S)for(var n of _S(t))hZ.call(t,n)&&vB(e,n,t[n]);return e},_Ie=(e,t)=>{var n={};for(var r in e)dZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_S)for(var r of _S(e))t.indexOf(r)<0&&hZ.call(e,r)&&(n[r]=e[r]);return n};const bIe={variant:"light",size:"md",radius:"xl"},pZ=w.forwardRef((e,t)=>{const n=Ge("Badge",bIe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=_Ie(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:v}=gIe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return N.createElement(tt,vIe({className:v(g.root,r),ref:t},y),l&&N.createElement("span",{className:g.leftSection},l),N.createElement("span",{className:g.inner},a),c&&N.createElement("span",{className:g.rightSection},c))});pZ.displayName="@mantine/core/Badge";const wIe=pZ;var EIe=ot((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),SIe=Object.defineProperty,bS=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,gZ=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?SIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TIe=(e,t)=>{for(var n in t||(t={}))mZ.call(t,n)&&_B(e,n,t[n]);if(bS)for(var n of bS(t))gZ.call(t,n)&&_B(e,n,t[n]);return e},xIe=(e,t)=>{var n={};for(var r in e)mZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bS)for(var r of bS(e))t.indexOf(r)<0&&gZ.call(e,r)&&(n[r]=e[r]);return n};const IIe={orientation:"horizontal",buttonBorderWidth:1},yZ=w.forwardRef((e,t)=>{const n=Ge("ButtonGroup",IIe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=xIe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=EIe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return N.createElement(tt,TIe({className:l(u.root,r),ref:t},a))});yZ.displayName="@mantine/core/ButtonGroup";var CIe=Object.defineProperty,AIe=Object.defineProperties,PIe=Object.getOwnPropertyDescriptors,bB=Object.getOwnPropertySymbols,OIe=Object.prototype.hasOwnProperty,RIe=Object.prototype.propertyIsEnumerable,wB=(e,t,n)=>t in e?CIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ad=(e,t)=>{for(var n in t||(t={}))OIe.call(t,n)&&wB(e,n,t[n]);if(bB)for(var n of bB(t))RIe.call(t,n)&&wB(e,n,t[n]);return e},aN=(e,t)=>AIe(e,PIe(t));const uN={xs:{height:Us.xs,paddingLeft:14,paddingRight:14},sm:{height:Us.sm,paddingLeft:18,paddingRight:18},md:{height:Us.md,paddingLeft:22,paddingRight:22},lg:{height:Us.lg,paddingLeft:26,paddingRight:26},xl:{height:Us.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function NIe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return uN[`compact-${t}`];const i=uN[t];return aN(Ad({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const kIe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function DIe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Ad({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var $Ie=ot((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:aN(Ad(aN(Ad(Ad(Ad(Ad({},NIe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),kIe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),DIe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),LIe=Object.defineProperty,wS=Object.getOwnPropertySymbols,vZ=Object.prototype.hasOwnProperty,_Z=Object.prototype.propertyIsEnumerable,EB=(e,t,n)=>t in e?LIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SB=(e,t)=>{for(var n in t||(t={}))vZ.call(t,n)&&EB(e,n,t[n]);if(wS)for(var n of wS(t))_Z.call(t,n)&&EB(e,n,t[n]);return e},MIe=(e,t)=>{var n={};for(var r in e)vZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wS)for(var r of wS(e))t.indexOf(r)<0&&_Z.call(e,r)&&(n[r]=e[r]);return n};const FIe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},c3=w.forwardRef((e,t)=>{const n=Ge("Button",FIe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:v,gradient:_,classNames:S,styles:x,unstyled:b}=n,T=MIe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:D,theme:$}=$Ie({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:_,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:b,classNames:S,styles:x}),B=$.fn.variant({color:s,variant:d}),O=N.createElement(sl,SB({color:B.color,size:$.fn.size({size:i,sizes:uN}).height/2},v));return N.createElement(BI,SB({className:D(I.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:b},T),N.createElement("div",{className:I.inner},(l||y&&g==="left")&&N.createElement("span",{className:D(I.icon,I.leftIcon)},y&&g==="left"?O:l),y&&g==="center"&&N.createElement("span",{className:I.centerLoader},O),N.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&N.createElement("span",{className:D(I.icon,I.rightIcon)},y&&g==="right"?O:c)))});c3.displayName="@mantine/core/Button";c3.Group=yZ;const _i=c3;var jIe=ot((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),BIe=Object.defineProperty,ES=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,wZ=Object.prototype.propertyIsEnumerable,TB=(e,t,n)=>t in e?BIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UIe=(e,t)=>{for(var n in t||(t={}))bZ.call(t,n)&&TB(e,n,t[n]);if(ES)for(var n of ES(t))wZ.call(t,n)&&TB(e,n,t[n]);return e},VIe=(e,t)=>{var n={};for(var r in e)bZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ES)for(var r of ES(e))t.indexOf(r)<0&&wZ.call(e,r)&&(n[r]=e[r]);return n};const zIe={},EZ=w.forwardRef((e,t)=>{const n=Ge("Paper",zIe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=VIe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=jIe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return N.createElement(tt,UIe({className:f(c.root,r),ref:t},l),i)});EZ.displayName="@mantine/core/Paper";const SZ=EZ,TZ=w.createContext({padding:0}),HIe=TZ.Provider,WIe=()=>w.useContext(TZ).padding;var qIe=ot((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const GIe=qIe;var YIe=Object.defineProperty,SS=Object.getOwnPropertySymbols,xZ=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable,xB=(e,t,n)=>t in e?YIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KIe=(e,t)=>{for(var n in t||(t={}))xZ.call(t,n)&&xB(e,n,t[n]);if(SS)for(var n of SS(t))IZ.call(t,n)&&xB(e,n,t[n]);return e},QIe=(e,t)=>{var n={};for(var r in e)xZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SS)for(var r of SS(e))t.indexOf(r)<0&&IZ.call(e,r)&&(n[r]=e[r]);return n};const XIe={withBorder:!1,inheritPadding:!1},CZ=w.forwardRef((e,t)=>{const n=Ge("CardSection",XIe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=QIe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:u,cx:l}=GIe({padding:WIe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return N.createElement(tt,KIe({className:l(u.cardSection,r),ref:t},a))});CZ.displayName="@mantine/core/CardSection";const AZ=CZ;var JIe=ot(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),ZIe=Object.defineProperty,TS=Object.getOwnPropertySymbols,PZ=Object.prototype.hasOwnProperty,OZ=Object.prototype.propertyIsEnumerable,IB=(e,t,n)=>t in e?ZIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eCe=(e,t)=>{for(var n in t||(t={}))PZ.call(t,n)&&IB(e,n,t[n]);if(TS)for(var n of TS(t))OZ.call(t,n)&&IB(e,n,t[n]);return e},tCe=(e,t)=>{var n={};for(var r in e)PZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TS)for(var r of TS(e))t.indexOf(r)<0&&OZ.call(e,r)&&(n[r]=e[r]);return n};const nCe={p:"md"},f3=w.forwardRef((e,t)=>{const n=Ge("Card",nCe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=tCe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=JIe(null,{name:"Card",unstyled:a}),f=w.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===AZ?w.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return N.createElement(HIe,{value:{padding:i}},N.createElement(SZ,eCe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});f3.Section=AZ;f3.displayName="@mantine/core/Card";const rCe=f3;var iCe=Object.defineProperty,xS=Object.getOwnPropertySymbols,RZ=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,CB=(e,t,n)=>t in e?iCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sCe=(e,t)=>{for(var n in t||(t={}))RZ.call(t,n)&&CB(e,n,t[n]);if(xS)for(var n of xS(t))NZ.call(t,n)&&CB(e,n,t[n]);return e},oCe=(e,t)=>{var n={};for(var r in e)RZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xS)for(var r of xS(e))t.indexOf(r)<0&&NZ.call(e,r)&&(n[r]=e[r]);return n};const kZ=w.forwardRef((e,t)=>{const n=Ge("Center",{},e),{inline:r,sx:i}=n,s=oCe(n,["inline","sx"]);return N.createElement(tt,sCe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...gh(i)]},s))});kZ.displayName="@mantine/core/Center";const ao=kZ,DZ=w.createContext(null),aCe=DZ.Provider,uCe=()=>w.useContext(DZ);function lCe(e){return w.Children.toArray(e).filter(Boolean)}const cCe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var fCe=ot((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:cCe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const dCe=fCe;var hCe=Object.defineProperty,IS=Object.getOwnPropertySymbols,$Z=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,AB=(e,t,n)=>t in e?hCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pCe=(e,t)=>{for(var n in t||(t={}))$Z.call(t,n)&&AB(e,n,t[n]);if(IS)for(var n of IS(t))LZ.call(t,n)&&AB(e,n,t[n]);return e},mCe=(e,t)=>{var n={};for(var r in e)$Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IS)for(var r of IS(e))t.indexOf(r)<0&&LZ.call(e,r)&&(n[r]=e[r]);return n};const gCe={position:"left",spacing:"md"},Un=w.forwardRef((e,t)=>{const n=Ge("Group",gCe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=mCe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=lCe(o),{classes:h,cx:p}=dCe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return N.createElement(tt,pCe({className:p(h.root,r),ref:t},f),d)});Un.displayName="@mantine/core/Group";var yCe=ot((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),vCe=Object.defineProperty,CS=Object.getOwnPropertySymbols,MZ=Object.prototype.hasOwnProperty,FZ=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?vCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ce=(e,t)=>{for(var n in t||(t={}))MZ.call(t,n)&&PB(e,n,t[n]);if(CS)for(var n of CS(t))FZ.call(t,n)&&PB(e,n,t[n]);return e},bCe=(e,t)=>{var n={};for(var r in e)MZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&FZ.call(e,r)&&(n[r]=e[r]);return n};const wCe={spacing:"md",align:"stretch",justify:"flex-start"},Or=w.forwardRef((e,t)=>{const n=Ge("Stack",wCe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=bCe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=yCe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return N.createElement(tt,_Ce({className:c(l.root,i),ref:t},u))});Or.displayName="@mantine/core/Stack";function jZ({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?N.createElement(Un,{pt:t,spacing:e,role:i,unstyled:s},r):N.createElement(Or,{pt:t,spacing:e,role:i,unstyled:s},r)}var ECe=Object.defineProperty,AS=Object.getOwnPropertySymbols,BZ=Object.prototype.hasOwnProperty,UZ=Object.prototype.propertyIsEnumerable,OB=(e,t,n)=>t in e?ECe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RB=(e,t)=>{for(var n in t||(t={}))BZ.call(t,n)&&OB(e,n,t[n]);if(AS)for(var n of AS(t))UZ.call(t,n)&&OB(e,n,t[n]);return e},SCe=(e,t)=>{var n={};for(var r in e)BZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AS)for(var r of AS(e))t.indexOf(r)<0&&UZ.call(e,r)&&(n[r]=e[r]);return n};const TCe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},VZ=w.forwardRef((e,t)=>{const n=Ge("CheckboxGroup",TCe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=SCe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=No({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(v=>v!==g):[...h,g])};return N.createElement(aCe,{value:{value:h,onChange:m,size:l}},N.createElement(ro.Wrapper,RB(RB({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),N.createElement(jZ,{spacing:u,orientation:a,offset:f},r)))});VZ.displayName="@mantine/core/CheckboxGroup";var xCe=Object.defineProperty,PS=Object.getOwnPropertySymbols,zZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.propertyIsEnumerable,NB=(e,t,n)=>t in e?xCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lN=(e,t)=>{for(var n in t||(t={}))zZ.call(t,n)&&NB(e,n,t[n]);if(PS)for(var n of PS(t))HZ.call(t,n)&&NB(e,n,t[n]);return e},ICe=(e,t)=>{var n={};for(var r in e)zZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PS)for(var r of PS(e))t.indexOf(r)<0&&HZ.call(e,r)&&(n[r]=e[r]);return n};function CCe(e){return N.createElement("svg",lN({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ACe(e){var t=e,{indeterminate:n}=t,r=ICe(t,["indeterminate"]);return n?N.createElement("svg",lN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),N.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):N.createElement(CCe,lN({},r))}var PCe=Object.defineProperty,OCe=Object.defineProperties,RCe=Object.getOwnPropertyDescriptors,kB=Object.getOwnPropertySymbols,NCe=Object.prototype.hasOwnProperty,kCe=Object.prototype.propertyIsEnumerable,DB=(e,t,n)=>t in e?PCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DCe=(e,t)=>{for(var n in t||(t={}))NCe.call(t,n)&&DB(e,n,t[n]);if(kB)for(var n of kB(t))kCe.call(t,n)&&DB(e,n,t[n]);return e},$Ce=(e,t)=>OCe(e,RCe(t));const LCe={xs:16,sm:20,md:24,lg:30,xl:36},MCe={xs:8,sm:10,md:14,lg:16,xl:20};var FCe=ot((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:LCe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:MCe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:$Ce(DCe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const jCe=FCe;var BCe=Object.defineProperty,UCe=Object.defineProperties,VCe=Object.getOwnPropertyDescriptors,$B=Object.getOwnPropertySymbols,zCe=Object.prototype.hasOwnProperty,HCe=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?BCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WCe=(e,t)=>{for(var n in t||(t={}))zCe.call(t,n)&&LB(e,n,t[n]);if($B)for(var n of $B(t))HCe.call(t,n)&&LB(e,n,t[n]);return e},qCe=(e,t)=>UCe(e,VCe(t));const GCe={xs:16,sm:20,md:24,lg:30,xl:36};var YCe=ot((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:qCe(WCe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:GCe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),KCe=Object.defineProperty,OS=Object.getOwnPropertySymbols,WZ=Object.prototype.hasOwnProperty,qZ=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?KCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QCe=(e,t)=>{for(var n in t||(t={}))WZ.call(t,n)&&MB(e,n,t[n]);if(OS)for(var n of OS(t))qZ.call(t,n)&&MB(e,n,t[n]);return e},XCe=(e,t)=>{var n={};for(var r in e)WZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OS)for(var r of OS(e))t.indexOf(r)<0&&qZ.call(e,r)&&(n[r]=e[r]);return n};function d3(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=XCe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=YCe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return N.createElement(tt,QCe({className:g(y.root,r)},m),N.createElement("div",{className:g(y.body)},a,N.createElement("div",{className:y.labelWrapper},u&&N.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&N.createElement(ro.Description,{className:y.description},l),d&&d!=="boolean"&&N.createElement(ro.Error,{className:y.error},d))))}d3.displayName="@mantine/core/InlineInput";var JCe=Object.defineProperty,RS=Object.getOwnPropertySymbols,GZ=Object.prototype.hasOwnProperty,YZ=Object.prototype.propertyIsEnumerable,FB=(e,t,n)=>t in e?JCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hb=(e,t)=>{for(var n in t||(t={}))GZ.call(t,n)&&FB(e,n,t[n]);if(RS)for(var n of RS(t))YZ.call(t,n)&&FB(e,n,t[n]);return e},ZCe=(e,t)=>{var n={};for(var r in e)GZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RS)for(var r of RS(e))t.indexOf(r)<0&&YZ.call(e,r)&&(n[r]=e[r]);return n};const eAe={size:"sm",transitionDuration:100,icon:ACe,labelPosition:"right"},NS=w.forwardRef((e,t)=>{const n=Ge("Checkbox",eAe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:v,icon:_,unstyled:S,labelPosition:x,description:b,error:T}=n,I=ZCe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),D=uCe(),$=iu(f),{systemStyles:B,rest:O}=ed(I),{classes:M}=jCe({size:(D==null?void 0:D.size)||d,radius:h,color:u,transitionDuration:v,labelPosition:x,error:!!T,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:S}),k=D?{checked:D.value.includes(O.value),onChange:D.onChange}:{};return N.createElement(d3,hb(hb({className:r,sx:s,style:i,id:$,size:(D==null?void 0:D.size)||d,labelPosition:x,label:l,description:b,error:T,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:S,"data-checked":k.checked||void 0},B),p),N.createElement("div",{className:M.inner},N.createElement("input",hb(hb({id:$,ref:t,type:"checkbox",className:M.input,checked:o,disabled:a},O),k)),N.createElement(_,{indeterminate:c,className:M.icon})))});NS.displayName="@mantine/core/Checkbox";NS.Group=VZ;var tAe=Object.defineProperty,nAe=Object.defineProperties,rAe=Object.getOwnPropertyDescriptors,jB=Object.getOwnPropertySymbols,iAe=Object.prototype.hasOwnProperty,sAe=Object.prototype.propertyIsEnumerable,BB=(e,t,n)=>t in e?tAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oAe=(e,t)=>{for(var n in t||(t={}))iAe.call(t,n)&&BB(e,n,t[n]);if(jB)for(var n of jB(t))sAe.call(t,n)&&BB(e,n,t[n]);return e},aAe=(e,t)=>nAe(e,rAe(t)),uAe=ot((e,{size:t,radius:n})=>{const r=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{root:aAe(oAe({},e.fn.focusStyles()),{width:t,height:t,WebkitTapHighlightColor:"transparent",border:0,borderRadius:e.fn.size({size:n,sizes:e.radius}),appearance:"none",WebkitAppearance:"none",padding:0,position:"relative",overflow:"hidden"}),overlay:{position:"absolute",borderRadius:e.fn.size({size:n,sizes:e.radius}),top:0,left:0,right:0,bottom:0},children:{display:"inline-flex",justifyContent:"center",alignItems:"center"},shadowOverlay:{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset",zIndex:1},alphaOverlay:{backgroundImage:`linear-gradient(45deg, ${r} 25%, transparent 25%), linear-gradient(-45deg, ${r} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${r} 75%), linear-gradient(-45deg, ${e.colorScheme==="dark"?e.colors.dark[7]:e.white} 75%, ${r} 75%)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"}}}),lAe=Object.defineProperty,kS=Object.getOwnPropertySymbols,KZ=Object.prototype.hasOwnProperty,QZ=Object.prototype.propertyIsEnumerable,UB=(e,t,n)=>t in e?lAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cAe=(e,t)=>{for(var n in t||(t={}))KZ.call(t,n)&&UB(e,n,t[n]);if(kS)for(var n of kS(t))QZ.call(t,n)&&UB(e,n,t[n]);return e},fAe=(e,t)=>{var n={};for(var r in e)KZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kS)for(var r of kS(e))t.indexOf(r)<0&&QZ.call(e,r)&&(n[r]=e[r]);return n};const dAe={size:25,radius:25,withShadow:!0},XZ=w.forwardRef((e,t)=>{const n=Ge("ColorSwatch",dAe,e),{color:r,size:i,radius:s,className:o,children:a,classNames:u,styles:l,unstyled:c,withShadow:f}=n,d=fAe(n,["color","size","radius","className","children","classNames","styles","unstyled","withShadow"]),{classes:h,cx:p}=uAe({radius:s,size:i},{classNames:u,styles:l,unstyled:c,name:"ColorSwatch"});return N.createElement(tt,cAe({className:p(h.root,o),ref:t},d),N.createElement("div",{className:p(h.alphaOverlay,h.overlay)}),f&&N.createElement("div",{className:p(h.shadowOverlay,h.overlay)}),N.createElement("div",{className:h.overlay,style:{backgroundColor:r}}),N.createElement("div",{className:p(h.children,h.overlay)},a))});XZ.displayName="@mantine/core/ColorSwatch";const Nf=XZ,xu={xs:8,sm:12,md:16,lg:20,xl:22};var hAe=ot((e,{size:t})=>{const n=e.fn.size({size:t,sizes:xu});return{thumb:{overflow:"hidden",boxSizing:"border-box",position:"absolute",boxShadow:"0 0 1px rgba(0, 0, 0, .6)",border:`2px solid ${e.white}`,backgroundColor:"transparent",width:n,height:n,borderRadius:n}}}),pAe=Object.defineProperty,VB=Object.getOwnPropertySymbols,mAe=Object.prototype.hasOwnProperty,gAe=Object.prototype.propertyIsEnumerable,zB=(e,t,n)=>t in e?pAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yAe=(e,t)=>{for(var n in t||(t={}))mAe.call(t,n)&&zB(e,n,t[n]);if(VB)for(var n of VB(t))gAe.call(t,n)&&zB(e,n,t[n]);return e};function h3({position:e,className:t,styles:n,classNames:r,style:i,size:s,__staticSelector:o,unstyled:a}){const{classes:u,cx:l}=hAe({size:s},{classNames:r,styles:n,name:o,unstyled:a});return N.createElement("div",{className:l(u.thumb,t),style:yAe({left:`calc(${e.x*100}% - ${xu[s]/2}px)`,top:`calc(${e.y*100}% - ${xu[s]/2}px)`},i)})}h3.displayName="@mantine/core/Thumb";var vAe=Object.defineProperty,HB=Object.getOwnPropertySymbols,_Ae=Object.prototype.hasOwnProperty,bAe=Object.prototype.propertyIsEnumerable,WB=(e,t,n)=>t in e?vAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qB=(e,t)=>{for(var n in t||(t={}))_Ae.call(t,n)&&WB(e,n,t[n]);if(HB)for(var n of HB(t))bAe.call(t,n)&&WB(e,n,t[n]);return e},wAe=ot((e,{size:t},n)=>({sliderThumb:{ref:n("sliderThumb")},slider:{position:"relative",height:e.fn.size({size:t,sizes:xu})+2,boxSizing:"border-box",marginLeft:e.fn.size({size:t,sizes:xu})/2,marginRight:e.fn.size({size:t,sizes:xu})/2,outline:0,[`&:focus .${n("sliderThumb")}`]:qB({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[`&:focus:not(:focus-visible) .${n("sliderThumb")}`]:qB({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)},sliderOverlay:{position:"absolute",boxSizing:"border-box",top:0,bottom:0,left:-e.fn.size({size:t,sizes:xu})/2-1,right:-e.fn.size({size:t,sizes:xu})/2-1,borderRadius:1e3}})),EAe=Object.defineProperty,SAe=Object.defineProperties,TAe=Object.getOwnPropertyDescriptors,DS=Object.getOwnPropertySymbols,JZ=Object.prototype.hasOwnProperty,ZZ=Object.prototype.propertyIsEnumerable,GB=(e,t,n)=>t in e?EAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xAe=(e,t)=>{for(var n in t||(t={}))JZ.call(t,n)&&GB(e,n,t[n]);if(DS)for(var n of DS(t))ZZ.call(t,n)&&GB(e,n,t[n]);return e},IAe=(e,t)=>SAe(e,TAe(t)),CAe=(e,t)=>{var n={};for(var r in e)JZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DS)for(var r of DS(e))t.indexOf(r)<0&&ZZ.call(e,r)&&(n[r]=e[r]);return n};const p3=w.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,onChangeEnd:s,maxValue:o,round:a,size:u="md",thumbColor:l="transparent",__staticSelector:c="ColorSlider",focusable:f=!0,overlays:d,classNames:h,styles:p,className:m,unstyled:y}=n,g=CAe(n,["value","onChange","onChangeEnd","maxValue","round","size","thumbColor","__staticSelector","focusable","overlays","classNames","styles","className","unstyled"]);const{classes:v,cx:_}=wAe({size:u},{classNames:h,styles:p,name:c,unstyled:y}),[S,x]=w.useState({y:0,x:r/o}),b=w.useRef(S),T=O=>a?Math.round(O*o):O*o,{ref:I}=FI(({x:O,y:M})=>{b.current={x:O,y:M},i(T(O))},{onScrubEnd:()=>{const{x:O}=b.current;s(T(O))}});Mi(()=>{x({y:0,x:r/o})},[r]);const D=(O,M)=>{O.preventDefault();const k=FQ(M);i(T(k.x)),s(T(k.x))},$=O=>{switch(O.key){case"ArrowRight":{D(O,{x:S.x+.05,y:S.y});break}case"ArrowLeft":{D(O,{x:S.x-.05,y:S.y});break}}},B=d.map((O,M)=>N.createElement("div",{className:v.sliderOverlay,style:O,key:M}));return N.createElement(tt,IAe(xAe({},g),{ref:zo(I,t),className:_(v.slider,m),role:"slider","aria-valuenow":r,"aria-valuemax":o,"aria-valuemin":0,tabIndex:f?0:-1,onKeyDown:$}),B,N.createElement(h3,{__staticSelector:c,classNames:h,styles:p,position:S,style:{top:1,backgroundColor:l},className:v.sliderThumb,size:u}))});p3.displayName="@mantine/core/ColorSlider";var AAe=Object.defineProperty,PAe=Object.defineProperties,OAe=Object.getOwnPropertyDescriptors,$S=Object.getOwnPropertySymbols,eee=Object.prototype.hasOwnProperty,tee=Object.prototype.propertyIsEnumerable,YB=(e,t,n)=>t in e?AAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RAe=(e,t)=>{for(var n in t||(t={}))eee.call(t,n)&&YB(e,n,t[n]);if($S)for(var n of $S(t))tee.call(t,n)&&YB(e,n,t[n]);return e},NAe=(e,t)=>PAe(e,OAe(t)),kAe=(e,t)=>{var n={};for(var r in e)eee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$S)for(var r of $S(e))t.indexOf(r)<0&&tee.call(e,r)&&(n[r]=e[r]);return n};const nee=w.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,onChangeEnd:s}=n,o=kAe(n,["value","onChange","onChangeEnd"]);return N.createElement(p3,NAe(RAe({},o),{ref:t,value:r,onChange:i,onChangeEnd:s,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset"}]}))});nee.displayName="@mantine/core/HueSlider";var DAe=Object.defineProperty,$Ae=Object.defineProperties,LAe=Object.getOwnPropertyDescriptors,KB=Object.getOwnPropertySymbols,MAe=Object.prototype.hasOwnProperty,FAe=Object.prototype.propertyIsEnumerable,QB=(e,t,n)=>t in e?DAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XB=(e,t)=>{for(var n in t||(t={}))MAe.call(t,n)&&QB(e,n,t[n]);if(KB)for(var n of KB(t))FAe.call(t,n)&&QB(e,n,t[n]);return e},JB=(e,t)=>$Ae(e,LAe(t));function Ba(e,t=0,n=10**t){return Math.round(n*e)/n}function jAe({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const BAe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function UAe(e,t="deg"){return Number(e)*(BAe[t]||1)}const VAe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function ZB(e){const t=VAe.exec(e);return t?jAe({h:UAe(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function cN({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),s=i-Math.min(e,t,n),o=s?i===e?(t-n)/s:i===t?2+(n-e)/s:4+(e-t)/s:0;return{h:Ba(60*(o<0?o+6:o)),s:Ba(i?s/i*100:0),v:Ba(i/255*100),a:r}}function fN(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?cN({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):cN({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function zAe(e){const t=e[0]==="#"?e.slice(1):e,n=o=>Math.round(parseInt(o,16)/255*100)/100;if(t.length===4){const o=t.slice(0,3),a=n(t[3]+t[3]);return JB(XB({},fN(o)),{a})}const r=t.slice(0,6),i=n(t.slice(6,8));return JB(XB({},fN(r)),{a:i})}const HAe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function e9(e){const t=HAe.exec(e);return t?cN({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const ree={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},WAe={hex:fN,hexa:zAe,rgb:e9,rgba:e9,hsl:ZB,hsla:ZB};function qAe(e){for(const[,t]of Object.entries(ree))if(t.test(e))return!0;return!1}function KP(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(ree))if(r.test(t))return WAe[n](t);return{h:0,s:0,v:0,a:1}}var GAe=Object.defineProperty,YAe=Object.defineProperties,KAe=Object.getOwnPropertyDescriptors,LS=Object.getOwnPropertySymbols,iee=Object.prototype.hasOwnProperty,see=Object.prototype.propertyIsEnumerable,t9=(e,t,n)=>t in e?GAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QAe=(e,t)=>{for(var n in t||(t={}))iee.call(t,n)&&t9(e,n,t[n]);if(LS)for(var n of LS(t))see.call(t,n)&&t9(e,n,t[n]);return e},XAe=(e,t)=>YAe(e,KAe(t)),JAe=(e,t)=>{var n={};for(var r in e)iee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LS)for(var r of LS(e))t.indexOf(r)<0&&see.call(e,r)&&(n[r]=e[r]);return n};const oee=w.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,onChangeEnd:s,color:o}=n,a=JAe(n,["value","onChange","onChangeEnd","color"]);const u=Ei(),l=u.colorScheme==="dark"?u.colors.dark[4]:u.colors.gray[3];return N.createElement(p3,XAe(QAe({},a),{ref:t,value:r,onChange:c=>i(Ba(c,2)),onChangeEnd:c=>s(Ba(c,2)),maxValue:1,round:!1,overlays:[{backgroundImage:`linear-gradient(45deg, ${l} 25%, transparent 25%), linear-gradient(-45deg, ${l} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${l} 75%), linear-gradient(-45deg, ${u.colorScheme==="dark"?u.colors.dark[7]:u.white} 75%, ${l} 75%)`,backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:"rgba(0, 0, 0, .1) 0px 0px 0px 1px inset, rgb(0, 0, 0, .15) 0px 0px 4px inset"}]}))});oee.displayName="@mantine/core/AlphaSlider";var ZAe=Object.defineProperty,n9=Object.getOwnPropertySymbols,ePe=Object.prototype.hasOwnProperty,tPe=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?ZAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QP=(e,t)=>{for(var n in t||(t={}))ePe.call(t,n)&&r9(e,n,t[n]);if(n9)for(var n of n9(t))tPe.call(t,n)&&r9(e,n,t[n]);return e};const nPe={xs:100,sm:110,md:120,lg:140,xl:160};var rPe=ot((e,{size:t},n)=>({saturationThumb:{ref:n("saturationThumb")},saturation:{boxSizing:"border-box",position:"relative",height:e.fn.size({size:t,sizes:nPe}),borderRadius:e.radius.sm,margin:e.fn.size({size:t,sizes:xu})/2,WebkitTapHighlightColor:"transparent",[`&:focus .${n("saturationThumb")}`]:QP({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[`&:focus:not(:focus-visible) .${n("saturationThumb")}`]:QP({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)},saturationOverlay:QP({boxSizing:"border-box",borderRadius:e.radius.sm},e.fn.cover(-e.fn.size({size:t,sizes:xu})/2-1))}));function aee({h:e,s:t,v:n,a:r}){const i=e/360*6,s=t/100,o=n/100,a=Math.floor(i),u=o*(1-s),l=o*(1-(i-a)*s),c=o*(1-(1-i+a)*s),f=a%6;return{r:Ba([o,l,u,u,c,o][f]*255),g:Ba([c,o,o,l,u,u][f]*255),b:Ba([u,u,c,o,o,l][f]*255),a:Ba(r,2)}}function i9(e,t){const{r:n,g:r,b:i,a:s}=aee(e);return t?`rgba(${n}, ${r}, ${i}, ${Ba(s,2)})`:`rgb(${n}, ${r}, ${i})`}function s9({h:e,s:t,v:n,a:r},i){const s=(200-t)*n/100,o={h:Math.round(e),s:Math.round(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:Math.round(s/2)};return i?`hsla(${o.h}, ${o.s}%, ${o.l}%, ${Ba(r,2)})`:`hsl(${o.h}, ${o.s}%, ${o.l}%)`}function Cw(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function uee(e){const{r:t,g:n,b:r}=aee(e);return`#${Cw(t)}${Cw(n)}${Cw(r)}`}function iPe(e){const t=Math.round(e.a*255);return`${uee(e)}${Cw(t)}`}const XP={hex:uee,hexa:e=>iPe(e),rgb:e=>i9(e,!1),rgba:e=>i9(e,!0),hsl:e=>s9(e,!1),hsla:e=>s9(e,!0)};function Bc(e,t){return t?e in XP?XP[e](t):XP.hex(t):"#000000"}function lee({value:e,onChange:t,onChangeEnd:n,focusable:r=!0,__staticSelector:i="saturation",size:s,color:o,saturationLabel:a,classNames:u,styles:l,unstyled:c}){const{classes:f}=rPe({size:s},{classNames:u,styles:l,name:i,unstyled:c}),[d,h]=w.useState({x:e.s/100,y:1-e.v/100}),p=w.useRef(d),{ref:m}=FI(({x:v,y:_})=>{p.current={x:v,y:_},t({s:Math.round(v*100),v:Math.round((1-_)*100)})},{onScrubEnd:()=>{const{x:v,y:_}=p.current;n({s:Math.round(v*100),v:Math.round((1-_)*100)})}});w.useEffect(()=>{h({x:e.s/100,y:1-e.v/100})},[e.s,e.v]);const y=(v,_)=>{v.preventDefault();const S=FQ(_);t({s:Math.round(S.x*100),v:Math.round((1-S.y)*100)}),n({s:Math.round(S.x*100),v:Math.round((1-S.y)*100)})},g=v=>{switch(v.key){case"ArrowUp":{y(v,{y:d.y-.05,x:d.x});break}case"ArrowDown":{y(v,{y:d.y+.05,x:d.x});break}case"ArrowRight":{y(v,{x:d.x+.05,y:d.y});break}case"ArrowLeft":{y(v,{x:d.x-.05,y:d.y});break}}};return N.createElement("div",{className:f.saturation,ref:m,role:"slider","aria-label":a,"aria-valuenow":d.x,"aria-valuetext":Bc("rgba",e),tabIndex:r?0:-1,onKeyDown:g},N.createElement("div",{className:f.saturationOverlay,style:{backgroundColor:`hsl(${e.h}, 100%, 50%)`}}),N.createElement("div",{className:f.saturationOverlay,style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}}),N.createElement("div",{className:f.saturationOverlay,style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}}),N.createElement(h3,{__staticSelector:i,classNames:u,styles:l,position:d,className:f.saturationThumb,style:{backgroundColor:o},size:s}))}lee.displayName="@mantine/core/Saturation";var sPe=ot((e,{swatchesPerRow:t})=>({swatch:{width:`calc(${100/t}% - 4px)`,height:0,paddingBottom:`calc(${100/t}% - 4px)`,margin:2,boxSizing:"content-box"},swatches:{boxSizing:"border-box",marginLeft:-2,marginRight:-2,display:"flex",flexWrap:"wrap"}})),oPe=Object.defineProperty,MS=Object.getOwnPropertySymbols,cee=Object.prototype.hasOwnProperty,fee=Object.prototype.propertyIsEnumerable,o9=(e,t,n)=>t in e?oPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aPe=(e,t)=>{for(var n in t||(t={}))cee.call(t,n)&&o9(e,n,t[n]);if(MS)for(var n of MS(t))fee.call(t,n)&&o9(e,n,t[n]);return e},uPe=(e,t)=>{var n={};for(var r in e)cee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&fee.call(e,r)&&(n[r]=e[r]);return n};function dee(e){var t=e,{data:n,swatchesPerRow:r=10,focusable:i=!0,classNames:s,styles:o,__staticSelector:a="color-picker",unstyled:u,setValue:l,onChangeEnd:c}=t,f=uPe(t,["data","swatchesPerRow","focusable","classNames","styles","__staticSelector","unstyled","setValue","onChangeEnd"]);const{classes:d}=sPe({swatchesPerRow:r},{classNames:s,styles:o,name:a,unstyled:u}),h=n.map((p,m)=>N.createElement(Nf,{className:d.swatch,component:"button",type:"button",color:p,key:m,radius:"sm",onClick:()=>{l(p),c==null||c(p)},style:{cursor:"pointer"},"aria-label":p,tabIndex:i?0:-1}));return N.createElement("div",aPe({className:d.swatches},f),h)}dee.displayName="@mantine/core/Swatches";const lPe={xs:180,sm:200,md:240,lg:280,xl:320};var cPe=ot((e,{size:t,fullWidth:n})=>({preview:{},wrapper:{boxSizing:"border-box",width:n?"100%":e.fn.size({size:t,sizes:lPe}),padding:1},body:{display:"flex",boxSizing:"border-box",paddingTop:e.fn.size({size:t,sizes:e.spacing})/2},sliders:{flex:1,boxSizing:"border-box","&:not(:only-child)":{marginRight:e.spacing.xs}},slider:{boxSizing:"border-box","& + &":{marginTop:5}},swatch:{cursor:"pointer"}})),fPe=Object.defineProperty,dPe=Object.defineProperties,hPe=Object.getOwnPropertyDescriptors,FS=Object.getOwnPropertySymbols,hee=Object.prototype.hasOwnProperty,pee=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?fPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ap=(e,t)=>{for(var n in t||(t={}))hee.call(t,n)&&a9(e,n,t[n]);if(FS)for(var n of FS(t))pee.call(t,n)&&a9(e,n,t[n]);return e},JP=(e,t)=>dPe(e,hPe(t)),pPe=(e,t)=>{var n={};for(var r in e)hee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FS)for(var r of FS(e))t.indexOf(r)<0&&pee.call(e,r)&&(n[r]=e[r]);return n};const mPe={xs:26,sm:34,md:42,lg:50,xl:54},gPe={swatchesPerRow:10,size:"sm",withPicker:!0,focusable:!0,__staticSelector:"ColorPicker"},mee=w.forwardRef((e,t)=>{const n=Ge("ColorPicker",gPe,e),{value:r,defaultValue:i,onChange:s,onChangeEnd:o,format:a,swatches:u,swatchesPerRow:l,size:c,withPicker:f,fullWidth:d,focusable:h,__staticSelector:p,saturationLabel:m,hueLabel:y,alphaLabel:g,className:v,styles:_,classNames:S,unstyled:x,onColorSwatchClick:b}=n,T=pPe(n,["value","defaultValue","onChange","onChangeEnd","format","swatches","swatchesPerRow","size","withPicker","fullWidth","focusable","__staticSelector","saturationLabel","hueLabel","alphaLabel","className","styles","classNames","unstyled","onColorSwatchClick"]),{classes:I,cx:D,theme:$}=cPe({size:c,fullWidth:d},{classNames:S,styles:_,name:p,unstyled:x}),B=w.useRef(a),O=w.useRef(null),M=w.useRef(!0),k=a==="hexa"||a==="rgba"||a==="hsla",[ee,te]=No({value:r,defaultValue:i,finalValue:"#FFFFFF",onChange:s}),[re,K]=w.useState(KP(ee)),ie=P=>{M.current=!1,K(V=>{const Y=ap(ap({},V),P);return O.current=Bc(B.current,Y),Y}),te(O.current),setTimeout(()=>{M.current=!0},0)};return Mi(()=>{qAe(r)&&M.current&&(K(KP(r)),M.current=!0)},[r]),Mi(()=>{B.current=a,te(Bc(a,re))},[a]),N.createElement(tt,ap({className:D(I.wrapper,v),ref:t},T),f&&N.createElement(N.Fragment,null,N.createElement(lee,{value:re,onChange:ie,onChangeEnd:({s:P,v:V})=>o==null?void 0:o(Bc(B.current,JP(ap({},re),{s:P,v:V}))),color:ee,styles:_,classNames:S,size:c,focusable:h,saturationLabel:m,__staticSelector:p}),N.createElement("div",{className:I.body},N.createElement("div",{className:I.sliders},N.createElement(nee,{value:re.h,onChange:P=>ie({h:P}),onChangeEnd:P=>o==null?void 0:o(Bc(B.current,JP(ap({},re),{h:P}))),size:c,styles:_,classNames:S,focusable:h,"aria-label":y,__staticSelector:p}),k&&N.createElement(oee,{value:re.a,onChange:P=>ie({a:P}),onChangeEnd:P=>{o==null||o(Bc(B.current,JP(ap({},re),{a:P})))},size:c,color:Bc("hex",re),style:{marginTop:6},styles:_,classNames:S,focusable:h,"aria-label":g,__staticSelector:p})),k&&N.createElement(Nf,{color:ee,radius:"sm",size:$.fn.size({size:c,sizes:mPe}),className:I.preview}))),Array.isArray(u)&&N.createElement(dee,{data:u,style:{marginTop:5},swatchesPerRow:l,focusable:h,classNames:S,styles:_,__staticSelector:p,setValue:te,onChangeEnd:P=>{const V=Bc(a,KP(P));b==null||b(V),o==null||o(V)}}))});mee.displayName="@mantine/core/ColorPicker";var yPe=ot((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),vPe=Object.defineProperty,jS=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,yee=Object.prototype.propertyIsEnumerable,u9=(e,t,n)=>t in e?vPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Pe=(e,t)=>{for(var n in t||(t={}))gee.call(t,n)&&u9(e,n,t[n]);if(jS)for(var n of jS(t))yee.call(t,n)&&u9(e,n,t[n]);return e},bPe=(e,t)=>{var n={};for(var r in e)gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jS)for(var r of jS(e))t.indexOf(r)<0&&yee.call(e,r)&&(n[r]=e[r]);return n};const wPe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},vee=w.forwardRef((e,t)=>{const n=Ge("Container",wPe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=bPe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=yPe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return N.createElement(tt,_Pe({className:c(l.root,r),ref:t},u))});vee.displayName="@mantine/core/Container";function _ee({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=FJ({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?N.createElement(N.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=MJ({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return N.createElement(N.Fragment,null,i(h))}_ee.displayName="@mantine/core/GroupedTransition";var EPe=ot((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),SPe=Object.defineProperty,TPe=Object.defineProperties,xPe=Object.getOwnPropertyDescriptors,BS=Object.getOwnPropertySymbols,bee=Object.prototype.hasOwnProperty,wee=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?SPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZP=(e,t)=>{for(var n in t||(t={}))bee.call(t,n)&&l9(e,n,t[n]);if(BS)for(var n of BS(t))wee.call(t,n)&&l9(e,n,t[n]);return e},IPe=(e,t)=>TPe(e,xPe(t)),CPe=(e,t)=>{var n={};for(var r in e)bee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BS)for(var r of BS(e))t.indexOf(r)<0&&wee.call(e,r)&&(n[r]=e[r]);return n};const APe={opacity:.6,color:"#fff",zIndex:wc("modal"),radius:0,blur:0},Eee=w.forwardRef((e,t)=>{const n=Ge("Overlay",APe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=CPe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=EPe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>N.createElement(tt,ZP({ref:t,className:p(h.root,f),sx:[v=>IPe(ZP({},m),{opacity:r,borderRadius:v.fn.size({size:u,sizes:v.radius})}),...gh(l)]},g));return i?N.createElement(tt,ZP({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...gh(l)]},d),y()):y(d)});Eee.displayName="@mantine/core/Overlay";const PPe=Eee,OPe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var RPe=Object.defineProperty,NPe=Object.defineProperties,kPe=Object.getOwnPropertyDescriptors,US=Object.getOwnPropertySymbols,See=Object.prototype.hasOwnProperty,Tee=Object.prototype.propertyIsEnumerable,c9=(e,t,n)=>t in e?RPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DPe=(e,t)=>{for(var n in t||(t={}))See.call(t,n)&&c9(e,n,t[n]);if(US)for(var n of US(t))Tee.call(t,n)&&c9(e,n,t[n]);return e},$Pe=(e,t)=>NPe(e,kPe(t)),LPe=(e,t)=>{var n={};for(var r in e)See.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&US)for(var r of US(e))t.indexOf(r)<0&&Tee.call(e,r)&&(n[r]=e[r]);return n};const MPe={},KI=w.forwardRef((e,t)=>{const n=Ge("Flex",MPe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=LPe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return N.createElement(tt,$Pe(DPe({},f),{sx:[{display:"flex"},d=>eN({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,OPe),...gh(c)],ref:t}))});KI.displayName="@mantine/core/Flex";const[FPe,jPe]=TI("Grid component was not found in tree");var BPe=Object.defineProperty,f9=Object.getOwnPropertySymbols,UPe=Object.prototype.hasOwnProperty,VPe=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?BPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zPe=(e,t)=>{for(var n in t||(t={}))UPe.call(t,n)&&d9(e,n,t[n]);if(f9)for(var n of f9(t))VPe.call(t,n)&&d9(e,n,t[n]);return e};const m3=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,xee=(e,t,n)=>n||e==="auto"||e==="content"?"unset":m3(e,t),Iee=(e,t)=>{if(e)return e==="auto"||t?1:0},Cee=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,Aee=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function HPe({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return lQ.reduce((a,u)=>(a[`@media (min-width: ${r.breakpoints[u]}px)`]={order:n[u],flexBasis:m3(e[u],i),padding:Aee(s[u],r),flexShrink:0,width:e[u]==="content"?"auto":void 0,maxWidth:xee(e[u],i,o),marginLeft:Cee(t[u],i),flexGrow:Iee(e[u],o)},a),{})}var WPe=ot((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:u,offsetXs:l,offsetSm:c,offsetMd:f,offsetLg:d,offsetXl:h,columns:p,span:m,xs:y,sm:g,md:v,lg:_,xl:S,order:x,orderXs:b,orderSm:T,orderMd:I,orderLg:D,orderXl:$})=>({col:zPe({boxSizing:"border-box",flexGrow:Iee(m,a),order:x,padding:Aee(t,e),marginLeft:Cee(u,p),flexBasis:m3(m,p),flexShrink:0,width:m==="content"?"auto":void 0,maxWidth:xee(m,p,a)},HPe({sizes:{xs:y,sm:g,md:v,lg:_,xl:S},offsets:{xs:l,sm:c,md:f,lg:d,xl:h},orders:{xs:b,sm:T,md:I,lg:D,xl:$},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const qPe=WPe;var GPe=Object.defineProperty,VS=Object.getOwnPropertySymbols,Pee=Object.prototype.hasOwnProperty,Oee=Object.prototype.propertyIsEnumerable,h9=(e,t,n)=>t in e?GPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YPe=(e,t)=>{for(var n in t||(t={}))Pee.call(t,n)&&h9(e,n,t[n]);if(VS)for(var n of VS(t))Oee.call(t,n)&&h9(e,n,t[n]);return e},KPe=(e,t)=>{var n={};for(var r in e)Pee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VS)for(var r of VS(e))t.indexOf(r)<0&&Oee.call(e,r)&&(n[r]=e[r]);return n};const QPe={};function XPe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Ree=w.forwardRef((e,t)=>{const n=Ge("GridCol",QPe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:v,orderMd:_,orderLg:S,orderXl:x,className:b,id:T,unstyled:I}=n,D=KPe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),$=jPe(),B=i||$.columns,{classes:O,cx:M}=qPe({gutter:$.gutter,gutterXs:$.gutterXs,gutterSm:$.gutterSm,gutterMd:$.gutterMd,gutterLg:$.gutterLg,gutterXl:$.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:v,orderMd:_,orderLg:S,orderXl:x,grow:$.grow,columns:$.columns,span:B},{unstyled:I,name:"Grid"});return!XPe(B)||B>$.columns?null:N.createElement(tt,YPe({className:M(O.col,b),ref:t},D),r)});Ree.displayName="@mantine/core/Col";var JPe=Object.defineProperty,p9=Object.getOwnPropertySymbols,ZPe=Object.prototype.hasOwnProperty,eOe=Object.prototype.propertyIsEnumerable,m9=(e,t,n)=>t in e?JPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tOe=(e,t)=>{for(var n in t||(t={}))ZPe.call(t,n)&&m9(e,n,t[n]);if(p9)for(var n of p9(t))eOe.call(t,n)&&m9(e,n,t[n]);return e};function nOe(e,t){return lQ.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var rOe=ot((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u})=>({root:tOe({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},nOe({xs:i,sm:s,md:o,lg:a,xl:u},e))})),iOe=Object.defineProperty,zS=Object.getOwnPropertySymbols,Nee=Object.prototype.hasOwnProperty,kee=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?iOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sOe=(e,t)=>{for(var n in t||(t={}))Nee.call(t,n)&&g9(e,n,t[n]);if(zS)for(var n of zS(t))kee.call(t,n)&&g9(e,n,t[n]);return e},oOe=(e,t)=>{var n={};for(var r in e)Nee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zS)for(var r of zS(e))t.indexOf(r)<0&&kee.call(e,r)&&(n[r]=e[r]);return n};const aOe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Bl=w.forwardRef((e,t)=>{const n=Ge("Grid",aOe,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,children:l,grow:c,justify:f,align:d,columns:h,className:p,id:m,unstyled:y}=n,g=oOe(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=rOe({gutter:r,justify:f,align:d,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u},{unstyled:y,name:"Grid"});return N.createElement(FPe,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,grow:c,columns:h}},N.createElement(tt,sOe({className:_(v.root,p),ref:t},g),l))});Bl.Col=Ree;Bl.displayName="@mantine/core/Grid";function uOe({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var lOe=Object.defineProperty,y9=Object.getOwnPropertySymbols,cOe=Object.prototype.hasOwnProperty,fOe=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?lOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dOe=(e,t)=>{for(var n in t||(t={}))cOe.call(t,n)&&v9(e,n,t[n]);if(y9)for(var n of y9(t))fOe.call(t,n)&&v9(e,n,t[n]);return e};function hOe(e){return N.createElement("svg",dOe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var pOe=Object.defineProperty,mOe=Object.defineProperties,gOe=Object.getOwnPropertyDescriptors,_9=Object.getOwnPropertySymbols,yOe=Object.prototype.hasOwnProperty,vOe=Object.prototype.propertyIsEnumerable,b9=(e,t,n)=>t in e?pOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w9=(e,t)=>{for(var n in t||(t={}))yOe.call(t,n)&&b9(e,n,t[n]);if(_9)for(var n of _9(t))vOe.call(t,n)&&b9(e,n,t[n]);return e},E9=(e,t)=>mOe(e,gOe(t)),_Oe=ot((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:E9(w9({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:E9(w9({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),bOe=Object.defineProperty,HS=Object.getOwnPropertySymbols,Dee=Object.prototype.hasOwnProperty,$ee=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?bOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eO=(e,t)=>{for(var n in t||(t={}))Dee.call(t,n)&&S9(e,n,t[n]);if(HS)for(var n of HS(t))$ee.call(t,n)&&S9(e,n,t[n]);return e},wOe=(e,t)=>{var n={};for(var r in e)Dee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HS)for(var r of HS(e))t.indexOf(r)<0&&$ee.call(e,r)&&(n[r]=e[r]);return n};const EOe={fit:"cover",width:"100%",height:"auto",radius:0},k_=w.forwardRef((e,t)=>{const n=Ge("Image",EOe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:v}=n,_=wOe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:S,cx:x}=_Oe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[b,T]=w.useState(!s),I=f&&b;return Mi(()=>{T(!s)},[s]),N.createElement(tt,eO({className:x(S.root,r),ref:t,style:eO({width:a},v)},_),N.createElement("figure",{className:S.figure},N.createElement("div",{className:S.imageWrapper},N.createElement("img",eO({className:S.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:D=>{T(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(D)}},c)),I&&N.createElement("div",{className:S.placeholder,title:i},d||N.createElement("div",null,N.createElement(hOe,{style:{width:40,height:40}})))),!!y&&N.createElement(et,{component:"figcaption",size:"sm",align:"center",className:S.caption},y)))});k_.displayName="@mantine/core/Image";function SOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var TOe=w.useLayoutEffect,xOe=function(t){var n=w.useRef(t);return TOe(function(){n.current=t}),n},T9=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},IOe=function(t,n){var r=w.useRef();return w.useCallback(function(i){t.current=i,r.current&&T9(r.current,null),r.current=n,n&&T9(n,i)},[n])},x9={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},I9=function(t){Object.keys(x9).forEach(function(n){t.style.setProperty(n,x9[n],"important")})},yo=null,COe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function AOe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),yo||(yo=document.createElement("textarea"),yo.setAttribute("tabindex","-1"),yo.setAttribute("aria-hidden","true"),I9(yo)),yo.parentNode===null&&document.body.appendChild(yo);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;yo.style[h]=o[h]}),I9(yo),yo.value=t;var u=COe(yo,e);yo.value="x";var l=yo.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var C9=function(){},POe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},OOe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],ROe=!!document.documentElement.currentStyle,NOe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=POe(OOe,n),i=r.boxSizing;if(i==="")return null;ROe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},kOe=function(t){var n=xOe(t);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},DOe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?C9:o,u=t.onHeightChange,l=u===void 0?C9:u,c=SOe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=w.useRef(null),h=IOe(d,n),p=w.useRef(0),m=w.useRef(),y=function(){var _=d.current,S=r&&m.current?m.current:NOe(_);if(S){m.current=S;var x=AOe(S,_.value||_.placeholder||"x",s,i),b=x[0],T=x[1];p.current!==b&&(p.current=b,_.style.setProperty("height",b+"px","important"),l(b,{rowHeight:T}))}},g=function(_){f||y(),a(_)};return w.useLayoutEffect(y),kOe(y),w.createElement("textarea",or({},c,{onChange:g,ref:h}))},$Oe=w.forwardRef(DOe);const LOe=$Oe;var MOe=ot(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),FOe=Object.defineProperty,jOe=Object.defineProperties,BOe=Object.getOwnPropertyDescriptors,WS=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Mee=Object.prototype.propertyIsEnumerable,A9=(e,t,n)=>t in e?FOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,up=(e,t)=>{for(var n in t||(t={}))Lee.call(t,n)&&A9(e,n,t[n]);if(WS)for(var n of WS(t))Mee.call(t,n)&&A9(e,n,t[n]);return e},tO=(e,t)=>jOe(e,BOe(t)),UOe=(e,t)=>{var n={};for(var r in e)Lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WS)for(var r of WS(e))t.indexOf(r)<0&&Mee.call(e,r)&&(n[r]=e[r]);return n};const VOe={autosize:!1,size:"sm",__staticSelector:"Textarea"},Fee=w.forwardRef((e,t)=>{const n=Ge("Textarea",VOe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:v,errorProps:_,descriptionProps:S,labelProps:x,inputWrapperOrder:b,inputContainer:T,unstyled:I,withAsterisk:D}=n,$=UOe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),B=iu(l),{classes:O,cx:M}=MOe(),{systemStyles:k,rest:ee}=ed($),te=up({required:f,ref:t,invalid:!!a,id:B,classNames:tO(up({},p),{input:M(O.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:I},ee);return N.createElement(ro.Wrapper,up(up({label:o,error:a,id:B,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:v,errorProps:_,labelProps:x,descriptionProps:S,inputContainer:T,inputWrapperOrder:b,unstyled:I,withAsterisk:D},k),h),r?N.createElement(ro,tO(up({},te),{component:LOe,maxRows:i,minRows:s})):N.createElement(ro,tO(up({},te),{component:"textarea",rows:s})))});Fee.displayName="@mantine/core/Textarea";const[zOe,HOe]=TI("List component was not found in tree");var WOe=ot((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),qOe=Object.defineProperty,qS=Object.getOwnPropertySymbols,jee=Object.prototype.hasOwnProperty,Bee=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?qOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GOe=(e,t)=>{for(var n in t||(t={}))jee.call(t,n)&&P9(e,n,t[n]);if(qS)for(var n of qS(t))Bee.call(t,n)&&P9(e,n,t[n]);return e},YOe=(e,t)=>{var n={};for(var r in e)jee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qS)for(var r of qS(e))t.indexOf(r)<0&&Bee.call(e,r)&&(n[r]=e[r]);return n};const KOe={},Uee=w.forwardRef((e,t)=>{const n=Ge("ListItem",KOe,e),{className:r,children:i,icon:s}=n,o=YOe(n,["className","children","icon"]),{icon:a,spacing:u,center:l,listStyleType:c,size:f,withPadding:d,classNames:h,styles:p,unstyled:m}=HOe(),y=s||a,{classes:g,cx:v}=WOe({withPadding:d,size:f,listStyleType:c,center:l,spacing:u},{classNames:h,styles:p,unstyled:m,name:"List"});return N.createElement(tt,GOe({component:"li",className:v(g.item,{[g.withIcon]:y},r),ref:t},o),N.createElement("div",{className:g.itemWrapper},y&&N.createElement("span",{className:g.itemIcon},y),N.createElement("span",null,i)))});Uee.displayName="@mantine/core/ListItem";var QOe=Object.defineProperty,XOe=Object.defineProperties,JOe=Object.getOwnPropertyDescriptors,O9=Object.getOwnPropertySymbols,ZOe=Object.prototype.hasOwnProperty,e2e=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?QOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t2e=(e,t)=>{for(var n in t||(t={}))ZOe.call(t,n)&&R9(e,n,t[n]);if(O9)for(var n of O9(t))e2e.call(t,n)&&R9(e,n,t[n]);return e},n2e=(e,t)=>XOe(e,JOe(t)),r2e=ot((e,{withPadding:t,size:n,listStyleType:r})=>({root:n2e(t2e({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),i2e=Object.defineProperty,GS=Object.getOwnPropertySymbols,Vee=Object.prototype.hasOwnProperty,zee=Object.prototype.propertyIsEnumerable,N9=(e,t,n)=>t in e?i2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s2e=(e,t)=>{for(var n in t||(t={}))Vee.call(t,n)&&N9(e,n,t[n]);if(GS)for(var n of GS(t))zee.call(t,n)&&N9(e,n,t[n]);return e},o2e=(e,t)=>{var n={};for(var r in e)Vee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GS)for(var r of GS(e))t.indexOf(r)<0&&zee.call(e,r)&&(n[r]=e[r]);return n};const a2e={type:"unordered",size:"md",spacing:0},zm=w.forwardRef((e,t)=>{const n=Ge("List",a2e,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=o2e(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=r2e({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return N.createElement(zOe,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:d,unstyled:p}},N.createElement(tt,s2e({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r))});zm.Item=Uee;zm.displayName="@mantine/core/List";const Hee={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[u2e,D_]=TI(Hee.context);var l2e=ot(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),c2e=Object.defineProperty,YS=Object.getOwnPropertySymbols,Wee=Object.prototype.hasOwnProperty,qee=Object.prototype.propertyIsEnumerable,k9=(e,t,n)=>t in e?c2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f2e=(e,t)=>{for(var n in t||(t={}))Wee.call(t,n)&&k9(e,n,t[n]);if(YS)for(var n of YS(t))qee.call(t,n)&&k9(e,n,t[n]);return e},d2e=(e,t)=>{var n={};for(var r in e)Wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YS)for(var r of YS(e))t.indexOf(r)<0&&qee.call(e,r)&&(n[r]=e[r]);return n};const h2e={},Gee=w.forwardRef((e,t)=>{const n=Ge("MenuDivider",h2e,e),{children:r,className:i}=n,s=d2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=D_(),{classes:l,cx:c}=l2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return N.createElement(tt,f2e({className:c(l.divider,i),ref:t},s))});Gee.displayName="@mantine/core/MenuDivider";var p2e=Object.defineProperty,KS=Object.getOwnPropertySymbols,Yee=Object.prototype.hasOwnProperty,Kee=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?p2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m2e=(e,t)=>{for(var n in t||(t={}))Yee.call(t,n)&&D9(e,n,t[n]);if(KS)for(var n of KS(t))Kee.call(t,n)&&D9(e,n,t[n]);return e},g2e=(e,t)=>{var n={};for(var r in e)Yee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KS)for(var r of KS(e))t.indexOf(r)<0&&Kee.call(e,r)&&(n[r]=e[r]);return n};const y2e={};function Qee(e){const t=Ge("MenuDropdown",y2e,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=g2e(t,["children","onMouseEnter","onMouseLeave"]),o=w.useRef(),a=D_(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=jl(r,()=>a.trigger==="hover"&&a.openDropdown()),c=jl(i,()=>a.trigger==="hover"&&a.closeDropdown());return N.createElement(jr.Dropdown,m2e({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),N.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}Qee.displayName="@mantine/core/MenuDropdown";var v2e=Object.defineProperty,_2e=Object.defineProperties,b2e=Object.getOwnPropertyDescriptors,$9=Object.getOwnPropertySymbols,w2e=Object.prototype.hasOwnProperty,E2e=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?v2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S2e=(e,t)=>{for(var n in t||(t={}))w2e.call(t,n)&&L9(e,n,t[n]);if($9)for(var n of $9(t))E2e.call(t,n)&&L9(e,n,t[n]);return e},T2e=(e,t)=>_2e(e,b2e(t)),x2e=ot((e,{color:t,radius:n})=>({item:T2e(S2e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const I2e=x2e;var C2e=Object.defineProperty,A2e=Object.defineProperties,P2e=Object.getOwnPropertyDescriptors,QS=Object.getOwnPropertySymbols,Xee=Object.prototype.hasOwnProperty,Jee=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?C2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O2e=(e,t)=>{for(var n in t||(t={}))Xee.call(t,n)&&M9(e,n,t[n]);if(QS)for(var n of QS(t))Jee.call(t,n)&&M9(e,n,t[n]);return e},R2e=(e,t)=>A2e(e,P2e(t)),N2e=(e,t)=>{var n={};for(var r in e)Xee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QS)for(var r of QS(e))t.indexOf(r)<0&&Jee.call(e,r)&&(n[r]=e[r]);return n};const k2e={},Zee=w.forwardRef((e,t)=>{const n=Ge("MenuItem",k2e,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=N2e(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=D_(),{classes:f,cx:d,theme:h}=I2e({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=w.useRef(),m=c.getItemIndex(p.current),y=l,g=jl(y.onMouseLeave,()=>c.setHovered(-1)),v=jl(y.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=jl(y.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),S=jl(y.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return N.createElement(tt,R2e(O2e({component:"button",type:"button"},l),{tabIndex:-1,onFocus:S,className:d(f.item,i),ref:zo(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===m?!0:void 0,onMouseEnter:v,onMouseLeave:g,onClick:_,onKeyDown:X0e({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:y.onKeydown})}),a&&N.createElement("div",{className:f.itemIcon},a),r&&N.createElement("div",{className:f.itemLabel},r),u&&N.createElement("div",{className:f.itemRightSection},u))});Zee.displayName="@mantine/core/MenuItem";const D2e=Zee;var $2e=ot(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),L2e=Object.defineProperty,XS=Object.getOwnPropertySymbols,ete=Object.prototype.hasOwnProperty,tte=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?L2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M2e=(e,t)=>{for(var n in t||(t={}))ete.call(t,n)&&F9(e,n,t[n]);if(XS)for(var n of XS(t))tte.call(t,n)&&F9(e,n,t[n]);return e},F2e=(e,t)=>{var n={};for(var r in e)ete.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XS)for(var r of XS(e))t.indexOf(r)<0&&tte.call(e,r)&&(n[r]=e[r]);return n};const j2e={},nte=w.forwardRef((e,t)=>{const n=Ge("MenuLabel",j2e,e),{children:r,className:i}=n,s=F2e(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=D_(),{classes:l,cx:c}=$2e(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return N.createElement(et,M2e({className:c(l.label,i),ref:t},s),r)});nte.displayName="@mantine/core/MenuLabel";var B2e=Object.defineProperty,JS=Object.getOwnPropertySymbols,rte=Object.prototype.hasOwnProperty,ite=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?B2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U2e=(e,t)=>{for(var n in t||(t={}))rte.call(t,n)&&j9(e,n,t[n]);if(JS)for(var n of JS(t))ite.call(t,n)&&j9(e,n,t[n]);return e},V2e=(e,t)=>{var n={};for(var r in e)rte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JS)for(var r of JS(e))t.indexOf(r)<0&&ite.call(e,r)&&(n[r]=e[r]);return n};const z2e={refProp:"ref"},ste=w.forwardRef((e,t)=>{const n=Ge("MenuTarget",z2e,e),{children:r,refProp:i}=n,s=V2e(n,["children","refProp"]);if(!T_(r))throw new Error(Hee.children);const o=D_(),a=jl(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=jl(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=jl(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return N.createElement(jr.Target,U2e({refProp:i,popupType:"menu",ref:t},s),w.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});ste.displayName="@mantine/core/MenuTarget";var H2e=ot({dropdown:{padding:4}}),W2e=Object.defineProperty,q2e=Object.defineProperties,G2e=Object.getOwnPropertyDescriptors,ZS=Object.getOwnPropertySymbols,ote=Object.prototype.hasOwnProperty,ate=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?W2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U9=(e,t)=>{for(var n in t||(t={}))ote.call(t,n)&&B9(e,n,t[n]);if(ZS)for(var n of ZS(t))ate.call(t,n)&&B9(e,n,t[n]);return e},V9=(e,t)=>q2e(e,G2e(t)),Y2e=(e,t)=>{var n={};for(var r in e)ote.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZS)for(var r of ZS(e))t.indexOf(r)<0&&ate.call(e,r)&&(n[r]=e[r]);return n};const K2e={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Zo(e){const t=Ge("Menu",K2e,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,v=Y2e(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:S}=H2e(),[x,{setHovered:b,resetHovered:T}]=tye(),[I,D]=No({value:s,defaultValue:o,finalValue:!1,onChange:a}),$=()=>{D(!1),I&&(i==null||i())},B=()=>{D(!0),!I&&(r==null||r())},O=()=>I?$():B(),{openDropdown:M,closeDropdown:k}=uOe({open:B,close:$,closeDelay:h,openDelay:d}),ee=te=>J0e("[data-menu-item]","[data-menu-dropdown]",te);return Mi(()=>{T()},[I]),N.createElement(u2e,{value:{opened:I,toggleDropdown:O,getItemIndex:ee,hovered:x,setHovered:b,closeOnItemClick:u,closeDropdown:f==="click"?$:k,openDropdown:f==="click"?B:M,closeDropdownImmediately:$,loop:l,trigger:f,radius:g,classNames:p,styles:m,unstyled:y}},N.createElement(jr,V9(U9({},v),{radius:g,opened:I,onChange:D,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:V9(U9({},p),{dropdown:S(_.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:$,onOpen:B}),n))}Zo.displayName="@mantine/core/Menu";Zo.Item=D2e;Zo.Label=nte;Zo.Dropdown=Qee;Zo.Target=ste;Zo.Divider=Gee;var Q2e=Object.defineProperty,z9=Object.getOwnPropertySymbols,X2e=Object.prototype.hasOwnProperty,J2e=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?Q2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z2e=(e,t)=>{for(var n in t||(t={}))X2e.call(t,n)&&H9(e,n,t[n]);if(z9)for(var n of z9(t))J2e.call(t,n)&&H9(e,n,t[n]);return e};const eRe={xs:320,sm:380,md:440,lg:620,xl:780};function tRe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var nRe=ot((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:Z2e({position:"relative",width:s?"100vw":e.fn.size({sizes:eRe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},tRe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),rRe=Object.defineProperty,eT=Object.getOwnPropertySymbols,ute=Object.prototype.hasOwnProperty,lte=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?rRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iRe=(e,t)=>{for(var n in t||(t={}))ute.call(t,n)&&W9(e,n,t[n]);if(eT)for(var n of eT(t))lte.call(t,n)&&W9(e,n,t[n]);return e},sRe=(e,t)=>{var n={};for(var r in e)ute.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eT)for(var r of eT(e))t.indexOf(r)<0&&lte.call(e,r)&&(n[r]=e[r]);return n};const oRe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:wc("modal"),exitTransitionDuration:0};function QI(e){const t=Ge("Modal",oRe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:v,id:_,classNames:S,styles:x,closeOnClickOutside:b,trapFocus:T,closeOnEscape:I,centered:D,target:$,withinPortal:B,zIndex:O,overlayBlur:M,transitionTimingFunction:k,fullScreen:ee,unstyled:te,lockScroll:re,withFocusReturn:K}=t,ie=sRe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),P=iu(_),V=`${P}-title`,Y=`${P}-body`,{classes:A,cx:R,theme:L}=nRe({size:l,overflow:p,centered:D,zIndex:O,fullScreen:ee},{unstyled:te,classNames:S,styles:x,name:"Modal"}),G=$Q(T&&r),le=w.useRef(null),ce=zo(G,le),de=typeof u=="number"?u:L.colorScheme==="dark"?.85:.75;U_e(re&&r);const me=He=>{!T&&He.key==="Escape"&&I&&s()};w.useEffect(()=>{if(!T)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[T]),RQ({opened:r,shouldReturnFocus:T&&K});const we=w.useRef(null);ZR("mousedown",He=>{we.current=He.target});const ye=()=>{we.current===le.current&&b&&s()};return N.createElement(A_,{withinPortal:B,target:$},N.createElement(_ee,{mounted:r,duration:c,exitDuration:f,timingFunction:k,transitions:{modal:{duration:c,transition:m||(ee?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},He=>N.createElement(N.Fragment,null,N.createElement(tt,iRe({id:P,className:R(A.root,n)},ie),N.createElement("div",{style:He.overlay},N.createElement(PPe,{className:A.overlay,sx:{position:"fixed"},zIndex:0,blur:M,color:h||(L.colorScheme==="dark"?L.colors.dark[9]:L.black),opacity:de,unstyled:te})),N.createElement("div",{role:"presentation",className:A.inner,onClick:ye,onKeyDown:Ke=>{var mt;((mt=Ke.target)==null?void 0:mt.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ke.key==="Escape"&&I&&s()},ref:ce},N.createElement(SZ,{className:A.modal,shadow:g,p:y,radius:v,role:"dialog","aria-labelledby":V,"aria-describedby":Y,"aria-modal":!0,tabIndex:-1,style:He.modal,unstyled:te,onClick:Ke=>Ke.stopPropagation()},(i||a)&&N.createElement("div",{className:A.header},N.createElement(et,{id:V,className:A.title},i),a&&N.createElement(P_,{iconSize:16,onClick:s,"aria-label":d,className:A.close})),N.createElement("div",{id:Y,className:A.body},o)))))))}QI.displayName="@mantine/core/Modal";const aRe={xs:16,sm:22,md:26,lg:30,xl:36},uRe={xs:10,sm:12,md:14,lg:16,xl:18};var lRe=ot((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:aRe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:uRe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),cRe=Object.defineProperty,tT=Object.getOwnPropertySymbols,cte=Object.prototype.hasOwnProperty,fte=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?cRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fRe=(e,t)=>{for(var n in t||(t={}))cte.call(t,n)&&q9(e,n,t[n]);if(tT)for(var n of tT(t))fte.call(t,n)&&q9(e,n,t[n]);return e},dRe=(e,t)=>{var n={};for(var r in e)cte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tT)for(var r of tT(e))t.indexOf(r)<0&&fte.call(e,r)&&(n[r]=e[r]);return n};const G9={xs:16,sm:22,md:24,lg:26,xl:30};function dte(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=dRe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=lRe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return N.createElement("div",fRe({className:p(h.defaultValue,s)},d),N.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&N.createElement(P_,{"aria-hidden":!0,onMouseDown:o,size:G9[l],radius:2,color:"blue",variant:"transparent",iconSize:G9[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}dte.displayName="@mantine/core/MultiSelect/DefaultValue";function hRe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const u=[];for(let l=0;l<e.length;l+=1)(o||!s.some(c=>c===e[l].value&&!e[l].disabled))&&u.push(e[l]);return u}const a=[];for(let u=0;u<e.length&&(i(r,s.some(l=>l===e[u].value&&!e[u].disabled),e[u])&&a.push(e[u]),!(a.length>=n));u+=1);return a}var pRe=Object.defineProperty,nT=Object.getOwnPropertySymbols,hte=Object.prototype.hasOwnProperty,pte=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?pRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K9=(e,t)=>{for(var n in t||(t={}))hte.call(t,n)&&Y9(e,n,t[n]);if(nT)for(var n of nT(t))pte.call(t,n)&&Y9(e,n,t[n]);return e},mRe=(e,t)=>{var n={};for(var r in e)hte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nT)for(var r of nT(e))t.indexOf(r)<0&&pte.call(e,r)&&(n[r]=e[r]);return n};const gRe={xs:14,sm:18,md:20,lg:24,xl:28};function yRe(e){var t=e,{size:n,error:r,style:i}=t,s=mRe(t,["size","error","style"]);const o=Ei(),a=o.fn.size({size:n,sizes:gRe});return N.createElement("svg",K9({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:K9({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),N.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function mte({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?N.createElement(P_,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):N.createElement(yRe,{error:i,size:r})}mte.displayName="@mantine/core/SelectRightSection";var vRe=Object.defineProperty,_Re=Object.defineProperties,bRe=Object.getOwnPropertyDescriptors,rT=Object.getOwnPropertySymbols,gte=Object.prototype.hasOwnProperty,yte=Object.prototype.propertyIsEnumerable,Q9=(e,t,n)=>t in e?vRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nO=(e,t)=>{for(var n in t||(t={}))gte.call(t,n)&&Q9(e,n,t[n]);if(rT)for(var n of rT(t))yte.call(t,n)&&Q9(e,n,t[n]);return e},X9=(e,t)=>_Re(e,bRe(t)),wRe=(e,t)=>{var n={};for(var r in e)gte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rT)for(var r of rT(e))t.indexOf(r)<0&&yte.call(e,r)&&(n[r]=e[r]);return n};const ERe={xs:24,sm:30,md:34,lg:44,xl:54};function vte(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=wRe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:ERe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&N.createElement(mte,nO({},o)),styles:X9(nO({},a),{rightSection:X9(nO({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var SRe=Object.defineProperty,TRe=Object.defineProperties,xRe=Object.getOwnPropertyDescriptors,J9=Object.getOwnPropertySymbols,IRe=Object.prototype.hasOwnProperty,CRe=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?SRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ARe=(e,t)=>{for(var n in t||(t={}))IRe.call(t,n)&&Z9(e,n,t[n]);if(J9)for(var n of J9(t))CRe.call(t,n)&&Z9(e,n,t[n]);return e},PRe=(e,t)=>TRe(e,xRe(t)),ORe=ot((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Us})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:PRe(ARe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Us})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),RRe=Object.defineProperty,NRe=Object.defineProperties,kRe=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,_te=Object.prototype.hasOwnProperty,bte=Object.prototype.propertyIsEnumerable,eU=(e,t,n)=>t in e?RRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lp=(e,t)=>{for(var n in t||(t={}))_te.call(t,n)&&eU(e,n,t[n]);if(iT)for(var n of iT(t))bte.call(t,n)&&eU(e,n,t[n]);return e},tU=(e,t)=>NRe(e,kRe(t)),DRe=(e,t)=>{var n={};for(var r in e)_te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iT)for(var r of iT(e))t.indexOf(r)<0&&bte.call(e,r)&&(n[r]=e[r]);return n};function $Re(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function LRe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function nU(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const MRe={size:"sm",valueComponent:dte,itemComponent:q$,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:$Re,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:LRe,switchDirectionOnFlip:!1,zIndex:wc("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},g3=w.forwardRef((e,t)=>{const n=Ge("MultiSelect",MRe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:v,id:_,transition:S,transitionDuration:x,transitionTimingFunction:b,maxDropdownHeight:T,shadow:I,nothingFound:D,onFocus:$,onBlur:B,searchable:O,placeholder:M,filter:k,limit:ee,clearSearchOnChange:te,clearable:re,clearSearchOnBlur:K,clearButtonLabel:ie,variant:P,onSearchChange:V,searchValue:Y,disabled:A,initiallyOpened:R,radius:L,icon:G,rightSection:le,rightSectionWidth:ce,creatable:de,getCreateLabel:me,shouldCreate:we,onCreate:ye,sx:He,dropdownComponent:Ke,onDropdownClose:mt,onDropdownOpen:De,maxSelectedValues:Ie,withinPortal:We,switchDirectionOnFlip:Wt,zIndex:Ut,selectOnBlur:ze,name:Fe,dropdownPosition:at,errorProps:dt,labelProps:Ct,descriptionProps:Kt,clearButtonTabIndex:ge,form:Se,positionDependencies:Le,onKeyDown:Je,unstyled:ct,inputContainer:En,inputWrapperOrder:Me,readOnly:rt,withAsterisk:ut,hoverOnSearchChange:Gt,disableSelectedItemFiltering:pt}=n,br=DRe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:hn,cx:Hn,theme:hs}=ORe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ct,name:"MultiSelect"}),{systemStyles:Os,rest:fi}=ed(br),Pn=w.useRef(),Ta=w.useRef({}),Dr=iu(_),[wr,Nn]=w.useState(R),[ln,Gn]=w.useState(-1),[ps,Zr]=w.useState("column"),[zr,Z]=No({value:Y,defaultValue:"",finalValue:void 0,onChange:V}),[W,ne]=w.useState(!1),{scrollIntoView:he,targetRef:pe,scrollableRef:Xe}=jQ({duration:0,offset:5,cancelable:!1,isList:!0}),Ze=de&&typeof me=="function";let Ce=null;const it=m.map(qe=>typeof qe=="string"?{label:qe,value:qe}:qe),Mt=rQ({data:it}),[je,Jt]=No({value:nU(h,m),defaultValue:nU(p,m),finalValue:[],onChange:y}),Zt=w.useRef(!!Ie&&Ie<je.length),gt=qe=>{if(!rt){const en=je.filter(qi=>qi!==qe);Jt(en),Ie&&en.length<Ie&&(Zt.current=!1)}},On=qe=>{Z(qe.currentTarget.value),!A&&!Zt.current&&O&&Nn(!0)},jn=qe=>{typeof $=="function"&&$(qe),!A&&!Zt.current&&O&&Nn(!0)},St=hRe({data:Mt,searchable:O,searchValue:zr,limit:ee,filter:k,value:je,disableSelectedItemFiltering:pt}),Er=(qe,en,qi)=>{let F=qe;for(;qi(F);)if(F=en(F),!St[F].disabled)return F;return qe};Mi(()=>{Gn(Gt&&zr?0:-1)},[zr,Gt]),Mi(()=>{!A&&je.length>m.length&&Nn(!1),Ie&&je.length<Ie&&(Zt.current=!1),Ie&&je.length>=Ie&&(Zt.current=!0,Nn(!1))},[je]);const Sr=qe=>{if(!rt)if(te&&Z(""),je.includes(qe.value))gt(qe.value);else{if(qe.creatable&&typeof ye=="function"){const en=ye(qe.value);typeof en<"u"&&en!==null&&Jt(typeof en=="string"?[...je,en]:[...je,en.value])}else Jt([...je,qe.value]);je.length===Ie-1&&(Zt.current=!0,Nn(!1)),ln===St.length-1&&Gn(St.length-2),St.length===1&&Nn(!1)}},$r=qe=>{typeof B=="function"&&B(qe),ze&&St[ln]&&wr&&Sr(St[ln]),K&&Z(""),Nn(!1)},ms=qe=>{if(W||(Je==null||Je(qe),rt)||qe.key!=="Backspace"&&Ie&&Zt.current)return;const en=ps==="column",qi=()=>{Gn(J=>{var z;const se=Er(J,ue=>ue+1,ue=>ue<St.length-1);return wr&&(pe.current=Ta.current[(z=St[se])==null?void 0:z.value],he({alignment:en?"end":"start"})),se})},F=()=>{Gn(J=>{var z;const se=Er(J,ue=>ue-1,ue=>ue>0);return wr&&(pe.current=Ta.current[(z=St[se])==null?void 0:z.value],he({alignment:en?"start":"end"})),se})};switch(qe.key){case"ArrowUp":{qe.preventDefault(),Nn(!0),en?F():qi();break}case"ArrowDown":{qe.preventDefault(),Nn(!0),en?qi():F();break}case"Enter":{qe.preventDefault(),St[ln]&&wr?Sr(St[ln]):Nn(!0);break}case" ":{O||(qe.preventDefault(),St[ln]&&wr?Sr(St[ln]):Nn(!0));break}case"Backspace":{je.length>0&&zr.length===0&&(Jt(je.slice(0,-1)),Nn(!0),Ie&&(Zt.current=!1));break}case"Home":{if(!O){qe.preventDefault(),wr||Nn(!0);const J=St.findIndex(z=>!z.disabled);Gn(J),he({alignment:en?"end":"start"})}break}case"End":{if(!O){qe.preventDefault(),wr||Nn(!0);const J=St.map(z=>!!z.disabled).lastIndexOf(!1);Gn(J),he({alignment:en?"end":"start"})}break}case"Escape":Nn(!1)}},xi=je.map(qe=>{let en=Mt.find(qi=>qi.value===qe&&!qi.disabled);return!en&&Ze&&(en={value:qe,label:qe}),en}).filter(qe=>!!qe).map(qe=>N.createElement(g,tU(lp({},qe),{variant:P,disabled:A,className:hn.value,readOnly:rt,onRemove:en=>{en.preventDefault(),en.stopPropagation(),gt(qe.value)},key:qe.value,size:u,styles:f,classNames:c,radius:L}))),Hr=qe=>je.includes(qe),Hi=()=>{var qe;Z(""),Jt([]),(qe=Pn.current)==null||qe.focus(),Ie&&(Zt.current=!1)};Ze&&we(zr,Mt)&&(Ce=me(zr),St.push({label:zr,value:zr,creatable:!0}));const Wi=!rt&&(St.length>0?wr:wr&&!!D);return Mi(()=>{const qe=Wi?De:mt;typeof qe=="function"&&qe()},[Wi]),N.createElement(ro.Wrapper,lp(lp({required:s,id:Dr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:He,errorProps:dt,descriptionProps:Kt,labelProps:Ct,inputContainer:En,inputWrapperOrder:Me,unstyled:ct,withAsterisk:ut},Os),d),N.createElement(_f,{opened:Wi,transition:S,transitionDuration:x,shadow:"sm",withinPortal:We,__staticSelector:"MultiSelect",onDirectionChange:Zr,switchDirectionOnFlip:Wt,zIndex:Ut,dropdownPosition:at,positionDependencies:[...Le,zr],classNames:c,styles:f,unstyled:ct},N.createElement(_f.Target,null,N.createElement("div",{className:hn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":wr&&Wi?`${Dr}-items`:null,"aria-controls":Dr,"aria-expanded":wr,onMouseLeave:()=>Gn(-1),tabIndex:-1},N.createElement("input",{type:"hidden",name:Fe,value:je.join(","),form:Se,disabled:A}),N.createElement(ro,lp({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:P,disabled:A,invalid:!!l,required:s,radius:L,icon:G,unstyled:ct,onMouseDown:qe=>{var en;qe.preventDefault(),!A&&!Zt.current&&Nn(!wr),(en=Pn.current)==null||en.focus()},classNames:tU(lp({},c),{input:Hn({[hn.input]:!O},c==null?void 0:c.input)})},vte({theme:hs,rightSection:le,rightSectionWidth:ce,styles:f,size:u,shouldClear:re&&je.length>0,clearButtonLabel:ie,onClear:Hi,error:l,disabled:A,clearButtonTabIndex:ge,readOnly:rt})),N.createElement("div",{className:hn.values},xi,N.createElement("input",lp({ref:zo(t,Pn),type:"search",id:Dr,className:Hn(hn.searchInput,{[hn.searchInputPointer]:!O,[hn.searchInputInputHidden]:!wr&&je.length>0||!O&&je.length>0,[hn.searchInputEmpty]:je.length===0}),onKeyDown:ms,value:zr,onChange:On,onFocus:jn,onBlur:$r,readOnly:!O||Zt.current||rt,placeholder:je.length===0?M:void 0,disabled:A,"data-mantine-stop-propagation":wr,autoComplete:"off",onCompositionStart:()=>ne(!0),onCompositionEnd:()=>ne(!1)},fi)))))),N.createElement(_f.Dropdown,{component:Ke||WI,maxHeight:T,direction:ps,id:Dr,innerRef:Xe,__staticSelector:"MultiSelect",classNames:c,styles:f},N.createElement(W$,{data:St,hovered:ln,classNames:c,styles:f,uuid:Dr,__staticSelector:"MultiSelect",onItemHover:Gn,onItemSelect:Sr,itemsRefs:Ta,itemComponent:v,size:u,nothingFound:D,isItemSelected:Hr,creatable:de&&!!Ce,createLabel:Ce,unstyled:ct}))))});g3.displayName="@mantine/core/MultiSelect";var FRe=Object.defineProperty,jRe=Object.defineProperties,BRe=Object.getOwnPropertyDescriptors,rU=Object.getOwnPropertySymbols,URe=Object.prototype.hasOwnProperty,VRe=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?FRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sU=(e,t)=>{for(var n in t||(t={}))URe.call(t,n)&&iU(e,n,t[n]);if(rU)for(var n of rU(t))VRe.call(t,n)&&iU(e,n,t[n]);return e},zRe=(e,t)=>jRe(e,BRe(t)),HRe=ot((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:zRe(sU({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":sU({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),WRe=Object.defineProperty,sT=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,Ete=Object.prototype.propertyIsEnumerable,oU=(e,t,n)=>t in e?WRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qRe=(e,t)=>{for(var n in t||(t={}))wte.call(t,n)&&oU(e,n,t[n]);if(sT)for(var n of sT(t))Ete.call(t,n)&&oU(e,n,t[n]);return e},GRe=(e,t)=>{var n={};for(var r in e)wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sT)for(var r of sT(e))t.indexOf(r)<0&&Ete.call(e,r)&&(n[r]=e[r]);return n};const YRe={variant:"light",childrenOffset:"lg"},Ste=w.forwardRef((e,t)=>{const n=Ge("NavLink",YRe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:m,opened:y,defaultOpened:g,onChange:v,disableRightSectionRotation:_,childrenOffset:S,disabled:x,onClick:b}=n,T=GRe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:I,cx:D}=HRe({color:d,variant:h,noWrap:p,childrenOffset:S,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[$,B]=No({value:y,defaultValue:g,finalValue:!1,onChange:v}),O=!!m,M=k=>{O?(k.preventDefault(),b==null||b(k),B(!$)):b==null||b(k)};return N.createElement(N.Fragment,null,N.createElement(BI,qRe({ref:t,className:D(I.root,a),"data-active":f||void 0,onClick:M,unstyled:c,"data-expanded":$||void 0,"data-disabled":x||void 0,disabled:x},T),s&&N.createElement("span",{className:I.icon},s),N.createElement("span",{className:I.body},N.createElement(et,{component:"span",size:"sm",className:I.label},r),N.createElement(et,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:I.description},i)),(O||o)&&N.createElement("span",{className:I.rightSection,"data-rotate":$&&!_||void 0},O?o||N.createElement(q1e,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),N.createElement(XQ,{in:$},N.createElement("div",{className:I.children},m)))});Ste.displayName="@mantine/core/NavLink";const Tte=Ste,KRe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function aU({direction:e,size:t}){return N.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const xte={xs:20,sm:24,md:30,lg:34,xl:36};var QRe=ot((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:xte}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),XRe=Object.defineProperty,JRe=Object.defineProperties,ZRe=Object.getOwnPropertyDescriptors,oT=Object.getOwnPropertySymbols,Ite=Object.prototype.hasOwnProperty,Cte=Object.prototype.propertyIsEnumerable,uU=(e,t,n)=>t in e?XRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rO=(e,t)=>{for(var n in t||(t={}))Ite.call(t,n)&&uU(e,n,t[n]);if(oT)for(var n of oT(t))Cte.call(t,n)&&uU(e,n,t[n]);return e},eNe=(e,t)=>JRe(e,ZRe(t)),tNe=(e,t)=>{var n={};for(var r in e)Ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oT)for(var r of oT(e))t.indexOf(r)<0&&Cte.call(e,r)&&(n[r]=e[r]);return n};const nNe={type:"text",size:"sm",__staticSelector:"TextInput"},$_=w.forwardRef((e,t)=>{const n=QJ("TextInput",nNe,e),{inputProps:r,wrapperProps:i}=n,s=tNe(n,["inputProps","wrapperProps"]);return N.createElement(ro.Wrapper,rO({},i),N.createElement(ro,eNe(rO(rO({},r),s),{ref:t})))});$_.displayName="@mantine/core/TextInput";var rNe=Object.defineProperty,iNe=Object.defineProperties,sNe=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,Ate=Object.prototype.hasOwnProperty,Pte=Object.prototype.propertyIsEnumerable,lU=(e,t,n)=>t in e?rNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oNe=(e,t)=>{for(var n in t||(t={}))Ate.call(t,n)&&lU(e,n,t[n]);if(aT)for(var n of aT(t))Pte.call(t,n)&&lU(e,n,t[n]);return e},aNe=(e,t)=>iNe(e,sNe(t)),uNe=(e,t)=>{var n={};for(var r in e)Ate.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aT)for(var r of aT(e))t.indexOf(r)<0&&Pte.call(e,r)&&(n[r]=e[r]);return n};const lNe=e=>e||"",cNe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},cU={xs:10,sm:14,md:16,lg:18,xl:20},fNe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:lNe,parser:cNe,type:"text"},Ote=w.forwardRef((e,t)=>{const n=Ge("NumberInput",fNe,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:u,max:l,startValue:c,step:f,stepHoldInterval:d,stepHoldDelay:h,onBlur:p,onFocus:m,onKeyDown:y,onKeyUp:g,hideControls:v,radius:_,variant:S,precision:x,removeTrailingZeros:b,defaultValue:T,noClampOnBlur:I,handlersRef:D,classNames:$,styles:B,size:O,rightSection:M,rightSectionWidth:k,formatter:ee,parser:te,inputMode:re,unstyled:K,type:ie}=n,P=uNe(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:V,cx:Y,theme:A}=QRe({radius:_,size:O},{classNames:$,styles:B,unstyled:K,name:"NumberInput"}),R=Me=>{if(Me===void 0)return;let rt=Me.toFixed(x);return b&&x>0&&(rt=rt.replace(new RegExp(`[0]{0,${x}}$`),""),(rt.endsWith(".")||rt.endsWith(a))&&(rt=rt.slice(0,-1))),rt},[L,G]=w.useState(!1),[le,ce]=w.useState(typeof s=="number"?s:typeof T=="number"?T:void 0),de=typeof s=="number"?s:le,[me,we]=w.useState(typeof de=="number"?R(de):""),ye=w.useRef(),He=Me=>{Me!==le&&!Number.isNaN(Me)&&(typeof o=="function"&&o(Me),ce(Me))},Ke=(Me="")=>{let rt=typeof Me=="number"?String(Me):Me;return a&&(rt=rt.replace(/\./g,a)),ee(rt)},mt=Me=>{let rt=Me;return a&&(rt=rt.replace(new RegExp(`\\${a}`,"g"),".")),te(rt)},De=typeof u=="number"?u:-1/0,Ie=typeof l=="number"?l:1/0,We=w.useRef();We.current=()=>{var Me,rt,ut;if(le===void 0)He((Me=c??u)!=null?Me:0),we((ut=(rt=R(c))!=null?rt:R(u))!=null?ut:"0");else{const Gt=R(Gu(le+f,De,Ie));He(parseFloat(Gt)),we(Gt)}};const Wt=w.useRef();Wt.current=()=>{var Me,rt,ut;if(le===void 0)He((Me=c??u)!=null?Me:0),we((ut=(rt=R(c))!=null?rt:R(u))!=null?ut:"0");else{const Gt=R(Gu(le-f,De,Ie));He(parseFloat(Gt)),we(Gt)}},LQ(D,{increment:We.current,decrement:Wt.current}),w.useEffect(()=>{typeof s=="number"&&!L&&(ce(s),we(R(s))),T===void 0&&s===void 0&&!L&&(ce(s),we(""))},[s,x]);const Ut=h!==void 0&&d!==void 0,ze=w.useRef(null),Fe=w.useRef(0),at=()=>{ze.current&&window.clearTimeout(ze.current),ze.current=null,Fe.current=0},dt=Me=>{Me?We.current():Wt.current(),Fe.current+=1},Ct=Me=>{if(dt(Me),Ut){const rt=typeof d=="number"?d:d(Fe.current);ze.current=window.setTimeout(()=>Ct(Me),rt)}},Kt=(Me,rt)=>{Me.preventDefault(),ye.current.focus(),dt(rt),Ut&&(ze.current=window.setTimeout(()=>Ct(rt),h))};w.useEffect(()=>(at(),at),[]);const ge=N.createElement("div",{className:V.rightSection},N.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de>=l,className:Y(V.control,V.controlUp),onPointerDown:Me=>{Kt(Me,!0)},onPointerUp:at,onPointerLeave:at},N.createElement(aU,{size:A.fn.size({size:O,sizes:cU}),direction:"up"})),N.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:de<=u,className:Y(V.control,V.controlDown),onPointerDown:Me=>{Kt(Me,!1)},onPointerUp:at,onPointerLeave:at},N.createElement(aU,{size:A.fn.size({size:O,sizes:cU}),direction:"down"}))),Se=Me=>{if(Me.nativeEvent.isComposing)return;const ut=Me.target.value,Gt=mt(ut);we(Gt),ut===""||ut==="-"?He(void 0):ut.trim()!==""&&!Number.isNaN(Gt)&&He(parseFloat(Gt))},Le=Me=>{var rt;if(Me.target.value==="")we(""),He(void 0);else{let ut=Me.target.value;(ut[0]===`${a}`||ut[0]===".")&&(ut=`0${ut}`);const Gt=mt(ut),pt=Gu(parseFloat(Gt),De,Ie);Number.isNaN(pt)?we((rt=R(de))!=null?rt:""):I||(we(R(pt)),He(parseFloat(R(pt))))}G(!1),typeof p=="function"&&p(Me)},Je=Me=>{G(!0),typeof m=="function"&&m(Me)},ct=Me=>{if(typeof y=="function"&&y(Me),Me.repeat&&Ut&&(Me.key==="ArrowUp"||Me.key==="ArrowDown")){Me.preventDefault();return}r||(Me.key==="ArrowUp"?Kt(Me,!0):Me.key==="ArrowDown"&&Kt(Me,!1))},En=Me=>{typeof g=="function"&&g(Me),(Me.key==="ArrowUp"||Me.key==="ArrowDown")&&at()};return N.createElement($_,aNe(oNe({},P),{type:ie,variant:S,value:Ke(me),disabled:i,readOnly:r,ref:zo(ye,t),onChange:Se,onBlur:Le,onFocus:Je,onKeyDown:ct,onKeyUp:En,rightSection:M||(i||r||v||S==="unstyled"?null:ge),rightSectionWidth:k||A.fn.size({size:O,sizes:xte})+1,radius:_,max:l,min:u,step:f,size:O,styles:B,classNames:$,inputMode:re||KRe(f,x,e1e()),__staticSelector:"NumberInput",unstyled:K}))});Ote.displayName="@mantine/core/NumberInput";const fU={xs:3,sm:5,md:8,lg:12,xl:16},dNe=Ave({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var hNe=ot((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:fU}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${dNe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:fU})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Rte=w.createContext(!1),pNe=Rte.Provider,mNe=()=>w.useContext(Rte);function Nte({children:e,openDelay:t=0,closeDelay:n=0}){return N.createElement(pNe,{value:!0},N.createElement(fTe,{delay:{open:t,close:n}},e))}Nte.displayName="@mantine/core/TooltipGroup";var gNe=Object.defineProperty,yNe=Object.defineProperties,vNe=Object.getOwnPropertyDescriptors,dU=Object.getOwnPropertySymbols,_Ne=Object.prototype.hasOwnProperty,bNe=Object.prototype.propertyIsEnumerable,hU=(e,t,n)=>t in e?gNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pU=(e,t)=>{for(var n in t||(t={}))_Ne.call(t,n)&&hU(e,n,t[n]);if(dU)for(var n of dU(t))bNe.call(t,n)&&hU(e,n,t[n]);return e},wNe=(e,t)=>yNe(e,vNe(t));function ENe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var kte=ot((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:wNe(pU(pU({},e.fn.fontStyles()),ENe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const Dte={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function SNe({offset:e,position:t}){const[n,r]=w.useState(!1),i=w.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=s3({placement:t,middleware:[n3({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=w.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return w.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=Gl(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var TNe=Object.defineProperty,xNe=Object.defineProperties,INe=Object.getOwnPropertyDescriptors,uT=Object.getOwnPropertySymbols,$te=Object.prototype.hasOwnProperty,Lte=Object.prototype.propertyIsEnumerable,mU=(e,t,n)=>t in e?TNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iO=(e,t)=>{for(var n in t||(t={}))$te.call(t,n)&&mU(e,n,t[n]);if(uT)for(var n of uT(t))Lte.call(t,n)&&mU(e,n,t[n]);return e},sO=(e,t)=>xNe(e,INe(t)),CNe=(e,t)=>{var n={};for(var r in e)$te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uT)for(var r of uT(e))t.indexOf(r)<0&&Lte.call(e,r)&&(n[r]=e[r]);return n};const ANe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:wc("popover")};function Mte(e){var t;const n=Ge("TooltipFloating",ANe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:v,disabled:_}=n,S=CNe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:x,x:b,y:T,opened:I,boundaryRef:D,floating:$,setOpened:B}=SNe({offset:p,position:m}),{classes:O,cx:M}=kte({radius:f,color:d,multiline:y,width:g},{name:"TooltipFloating",classNames:u,styles:l,unstyled:c});if(!T_(r))throw new Error(Dte.children);const k=zo(D,r.ref),ee=re=>{var K,ie;(ie=(K=r.props).onMouseEnter)==null||ie.call(K,re),x(re),B(!0)},te=re=>{var K,ie;(ie=(K=r.props).onMouseLeave)==null||ie.call(K,re),B(!1)};return N.createElement(N.Fragment,null,N.createElement(A_,{withinPortal:s},N.createElement(tt,sO(iO({},S),{ref:$,className:M(O.tooltip,a),style:sO(iO({},o),{zIndex:v,display:!_&&I?"block":"none",top:T??"",left:(t=Math.round(b))!=null?t:""})}),h)),w.cloneElement(r,sO(iO({},r.props),{[i]:k,onMouseEnter:ee,onMouseLeave:te})))}Mte.displayName="@mantine/core/TooltipFloating";function PNe(e){const[t,n]=w.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=mNe(),o=iu(),{delay:a,currentId:u,setCurrentId:l}=PJ(),c=w.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:v,middlewareData:{arrow:{x:_,y:S}={}}}=s3({placement:e.position,open:i,onOpenChange:c,middleware:[hJ(e.offset),n3({padding:8}),EJ(),TJ({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[SJ()]:[]]}),{getReferenceProps:x,getFloatingProps:b}=STe([cTe(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),wTe(m,{enabled:e.events.focus,keyboardOnly:!0}),ETe(m,{role:"tooltip"}),bTe(m,{enabled:typeof e.opened===void 0}),dTe(m,{id:o})]);return RJ({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),Mi(()=>{var I;(I=e.onPositionChange)==null||I.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:S,reference:h,floating:p,getFloatingProps:b,getReferenceProps:x,isGroupPhase:i&&u&&u!==o,opened:i,placement:v}}var ONe=Object.defineProperty,RNe=Object.defineProperties,NNe=Object.getOwnPropertyDescriptors,lT=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,gU=(e,t,n)=>t in e?ONe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E0=(e,t)=>{for(var n in t||(t={}))Fte.call(t,n)&&gU(e,n,t[n]);if(lT)for(var n of lT(t))jte.call(t,n)&&gU(e,n,t[n]);return e},kNe=(e,t)=>RNe(e,NNe(t)),DNe=(e,t)=>{var n={};for(var r in e)Fte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lT)for(var r of lT(e))t.indexOf(r)<0&&jte.call(e,r)&&(n[r]=e[r]);return n};const $Ne={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:wc("popover"),positionDependencies:[]},XI=w.forwardRef((e,t)=>{const n=w.useRef(null),r=Ge("Tooltip",$Ne,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:v,className:_,withArrow:S,arrowSize:x,arrowOffset:b,arrowRadius:T,arrowPosition:I,offset:D,transition:$,transitionDuration:B,multiline:O,width:M,events:k,zIndex:ee,disabled:te,positionDependencies:re,onClick:K,onMouseEnter:ie,onMouseLeave:P,inline:V}=r,Y=DNe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:A,cx:R,theme:L}=kte({radius:h,color:p,width:M,multiline:O},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),G=PNe({position:WJ(L.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:k,arrowRef:n,arrowOffset:b,offset:D+(S?x/2:0),positionDependencies:[...re,i],inline:V});if(!T_(i))throw new Error(Dte.children);const le=zo(G.reference,i.ref,t);return N.createElement(N.Fragment,null,N.createElement(A_,{withinPortal:d},N.createElement(YI,{mounted:!te&&G.opened,transition:$,duration:G.isGroupPhase?10:B},ce=>{var de,me;return N.createElement(tt,E0(E0({},Y),G.getFloatingProps({ref:G.floating,className:A.tooltip,style:kNe(E0(E0({},v),ce),{zIndex:ee,top:(de=G.y)!=null?de:0,left:(me=G.x)!=null?me:0})})),a,N.createElement(o3,{ref:n,arrowX:G.arrowX,arrowY:G.arrowY,visible:S,withBorder:!1,position:G.placement,arrowSize:x,arrowOffset:b,arrowRadius:T,arrowPosition:I,className:A.arrow}))})),w.cloneElement(i,G.getReferenceProps(E0({onClick:K,onMouseEnter:ie,onMouseLeave:P,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:le,className:R(_,i.props.className)},i.props))))});XI.Group=Nte;XI.Floating=Mte;XI.displayName="@mantine/core/Tooltip";const L_=XI;var LNe=Object.defineProperty,MNe=Object.defineProperties,FNe=Object.getOwnPropertyDescriptors,cT=Object.getOwnPropertySymbols,Bte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,yU=(e,t,n)=>t in e?LNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dN=(e,t)=>{for(var n in t||(t={}))Bte.call(t,n)&&yU(e,n,t[n]);if(cT)for(var n of cT(t))Ute.call(t,n)&&yU(e,n,t[n]);return e},Vte=(e,t)=>MNe(e,FNe(t)),vU=(e,t)=>{var n={};for(var r in e)Bte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cT)for(var r of cT(e))t.indexOf(r)<0&&Ute.call(e,r)&&(n[r]=e[r]);return n};function jNe(e){return e.reduce((t,n)=>(t.sections.push(Vte(dN({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const BNe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},zte=w.forwardRef((e,t)=>{const n=Ge("Progress",BNe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=vU(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:v,theme:_}=hNe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),S=Array.isArray(p)?jNe(p).map((x,b)=>{var T=x,{tooltip:I,accumulated:D,value:$,label:B,color:O}=T,M=vU(T,["tooltip","accumulated","value","label","color"]);return N.createElement(L_.Floating,{label:I,disabled:!I,key:b},N.createElement(tt,Vte(dN({},M),{className:v(g.bar,M.className),sx:{width:`${$}%`,left:`${D}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:O||_.primaryColor}).background}}),B&&N.createElement(et,{className:g.label},B)))}):null;return N.createElement(tt,dN({className:v(g.root,r),ref:t},y),S||N.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?N.createElement(et,{className:g.label},c):""))});zte.displayName="@mantine/core/Progress";var UNe=Object.defineProperty,_U=Object.getOwnPropertySymbols,VNe=Object.prototype.hasOwnProperty,zNe=Object.prototype.propertyIsEnumerable,bU=(e,t,n)=>t in e?UNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HNe=(e,t)=>{for(var n in t||(t={}))VNe.call(t,n)&&bU(e,n,t[n]);if(_U)for(var n of _U(t))zNe.call(t,n)&&bU(e,n,t[n]);return e};function WNe(e){return N.createElement("svg",HNe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),N.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const Hte=w.createContext(null),qNe=Hte.Provider,GNe=()=>w.useContext(Hte);var YNe=Object.defineProperty,fT=Object.getOwnPropertySymbols,Wte=Object.prototype.hasOwnProperty,qte=Object.prototype.propertyIsEnumerable,wU=(e,t,n)=>t in e?YNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EU=(e,t)=>{for(var n in t||(t={}))Wte.call(t,n)&&wU(e,n,t[n]);if(fT)for(var n of fT(t))qte.call(t,n)&&wU(e,n,t[n]);return e},KNe=(e,t)=>{var n={};for(var r in e)Wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fT)for(var r of fT(e))t.indexOf(r)<0&&qte.call(e,r)&&(n[r]=e[r]);return n};const QNe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},Gte=w.forwardRef((e,t)=>{const n=Ge("RadioGroup",QNe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=KNe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),m=iu(h),[y,g]=No({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>g(_.currentTarget.value);return N.createElement(qNe,{value:{value:y,onChange:v,size:l,name:m}},N.createElement(ro.Wrapper,EU(EU({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),N.createElement(jZ,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});Gte.displayName="@mantine/core/RadioGroup";var XNe=Object.defineProperty,JNe=Object.defineProperties,ZNe=Object.getOwnPropertyDescriptors,SU=Object.getOwnPropertySymbols,eke=Object.prototype.hasOwnProperty,tke=Object.prototype.propertyIsEnumerable,TU=(e,t,n)=>t in e?XNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nke=(e,t)=>{for(var n in t||(t={}))eke.call(t,n)&&TU(e,n,t[n]);if(SU)for(var n of SU(t))tke.call(t,n)&&TU(e,n,t[n]);return e},rke=(e,t)=>JNe(e,ZNe(t));const oO={xs:16,sm:20,md:24,lg:30,xl:36},pb={xs:6,sm:8,md:10,lg:14,xl:16};var ike=ot((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:pb,size:t}),height:e.fn.size({sizes:pb,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:pb,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:pb,size:t})/2}px)`},radio:rke(nke({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:oO,size:t}),height:e.fn.size({sizes:oO,size:t}),borderRadius:e.fn.size({sizes:oO,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),ske=Object.defineProperty,dT=Object.getOwnPropertySymbols,Yte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,xU=(e,t,n)=>t in e?ske(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mb=(e,t)=>{for(var n in t||(t={}))Yte.call(t,n)&&xU(e,n,t[n]);if(dT)for(var n of dT(t))Kte.call(t,n)&&xU(e,n,t[n]);return e},oke=(e,t)=>{var n={};for(var r in e)Yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&Kte.call(e,r)&&(n[r]=e[r]);return n};const ake={icon:WNe,transitionDuration:100,size:"sm",labelPosition:"right"},hT=w.forwardRef((e,t)=>{var n,r;const i=Ge("Radio",ake,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:v,unstyled:_,labelPosition:S,description:x,error:b}=i,T=oke(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=GNe(),D=(n=I==null?void 0:I.size)!=null?n:l,$=e.size?l:D,{classes:B}=ike({color:d,size:$,transitionDuration:g,labelPosition:S,error:!!b},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:O,rest:M}=ed(T),k=iu(a),ee=I?{checked:I.value===M.value,name:(r=M.name)!=null?r:I.name,onChange:I.onChange}:{};return N.createElement(d3,mb(mb({className:s,sx:m,style:o,id:k,size:$,labelPosition:S,label:u,description:x,error:b,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":ee.checked||void 0},O),v),N.createElement("div",{className:B.inner},N.createElement("input",mb(mb({ref:t,className:B.radio,type:"radio",id:k,disabled:f},M),ee)),N.createElement(y,{className:B.icon,"aria-hidden":!0})))});hT.displayName="@mantine/core/Radio";hT.Group=Gte;var uke=Object.defineProperty,lke=Object.defineProperties,cke=Object.getOwnPropertyDescriptors,IU=Object.getOwnPropertySymbols,fke=Object.prototype.hasOwnProperty,dke=Object.prototype.propertyIsEnumerable,CU=(e,t,n)=>t in e?uke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gb=(e,t)=>{for(var n in t||(t={}))fke.call(t,n)&&CU(e,n,t[n]);if(IU)for(var n of IU(t))dke.call(t,n)&&CU(e,n,t[n]);return e},hke=(e,t)=>lke(e,cke(t));const Aw=4,AU={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var pke=ot((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:hke(gb(gb({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:AU[a in AU?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:gb({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:gb({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:Aw},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),mke=Object.defineProperty,pT=Object.getOwnPropertySymbols,Qte=Object.prototype.hasOwnProperty,Xte=Object.prototype.propertyIsEnumerable,PU=(e,t,n)=>t in e?mke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gke=(e,t)=>{for(var n in t||(t={}))Qte.call(t,n)&&PU(e,n,t[n]);if(pT)for(var n of pT(t))Xte.call(t,n)&&PU(e,n,t[n]);return e},yke=(e,t)=>{var n={};for(var r in e)Qte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&Xte.call(e,r)&&(n[r]=e[r]);return n};const vke={disabled:!1,size:"sm",transitionDuration:200},Jte=w.forwardRef((e,t)=>{var n,r,i,s;const o=Ge("SegmentedControl",vke,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:v,classNames:_,styles:S,defaultValue:x,orientation:b,unstyled:T}=o,I=yke(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),D=Ei(),$=jI(),B=D.respectReducedMotion?$:!1,O=l.map(ce=>typeof ce=="string"?{label:ce,value:ce}:ce),M=w.useRef(),[k,ee]=w.useState(!1),[te,re]=No({value:f,defaultValue:x,finalValue:Array.isArray(O)&&(s=(i=(n=O.find(ce=>!ce.disabled))==null?void 0:n.value)!=null?i:(r=O[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:K,cx:ie}=pke({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:B||!k,transitionDuration:g,transitionTimingFunction:v,orientation:b},{classNames:_,styles:S,unstyled:T,name:"SegmentedControl"}),[P,V]=w.useState({width:0,height:0,translate:[0,0]}),Y=iu(c),A=w.useRef({}),[R,L]=Yu();V$(()=>{M.current?ee(!0):(M.current=!0,ee(!1))}),w.useEffect(()=>{if(te in A.current&&R.current){const ce=A.current[te],de=ce.getBoundingClientRect(),me=ce.offsetWidth/de.width,we=de.width*me||0,ye=de.height*me||0,He=L.width-ce.parentElement.offsetLeft+Aw-we,Ke=ce.parentElement.offsetLeft-Aw;V({width:we,height:ye,translate:[D.dir==="rtl"?He:Ke,ce.parentElement.offsetTop-Aw]})}},[te,L]);const G=O.map(ce=>N.createElement("div",{className:ie(K.control,{[K.controlActive]:te===ce.value}),key:ce.value},N.createElement("input",{className:K.input,disabled:u||ce.disabled,type:"radio",name:Y,value:ce.value,id:`${Y}-${ce.value}`,checked:te===ce.value,onChange:()=>re(ce.value)}),N.createElement("label",{className:ie(K.label,{[K.labelActive]:te===ce.value,[K.disabled]:u||ce.disabled}),htmlFor:`${Y}-${ce.value}`,ref:de=>{A.current[ce.value]=de}},ce.label))),le=zo(R,t);return O.length===0?null:N.createElement(tt,gke({className:ie(K.root,a),ref:le},I),typeof te=="string"&&k&&N.createElement(tt,{component:"span",className:K.active,sx:{width:P.width,height:P.height,transform:`translate(${P.translate[0]}px, ${P.translate[1]}px )`}}),G)});Jte.displayName="@mantine/core/SegmentedControl";function _ke({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const l=e.indexOf(a),c=l+n,f=c-e.length;return f>0?e.slice(l-f):e.slice(l,c)}return e}const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var bke=ot(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),wke=Object.defineProperty,Eke=Object.defineProperties,Ske=Object.getOwnPropertyDescriptors,mT=Object.getOwnPropertySymbols,Zte=Object.prototype.hasOwnProperty,ene=Object.prototype.propertyIsEnumerable,OU=(e,t,n)=>t in e?wke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S0=(e,t)=>{for(var n in t||(t={}))Zte.call(t,n)&&OU(e,n,t[n]);if(mT)for(var n of mT(t))ene.call(t,n)&&OU(e,n,t[n]);return e},aO=(e,t)=>Eke(e,Ske(t)),Tke=(e,t)=>{var n={};for(var r in e)Zte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&ene.call(e,r)&&(n[r]=e[r]);return n};function xke(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Ike(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const Cke={required:!1,size:"sm",shadow:"sm",itemComponent:q$,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:xke,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:Ike,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:wc("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},ih=w.forwardRef((e,t)=>{const n=QJ("Select",Cke,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:v,classNames:_,styles:S,filter:x,maxDropdownHeight:b,searchable:T,clearable:I,nothingFound:D,clearButtonLabel:$,limit:B,disabled:O,onSearchChange:M,searchValue:k,rightSection:ee,rightSectionWidth:te,creatable:re,getCreateLabel:K,shouldCreate:ie,selectOnBlur:P,onCreate:V,dropdownComponent:Y,onDropdownClose:A,onDropdownOpen:R,withinPortal:L,switchDirectionOnFlip:G,zIndex:le,name:ce,dropdownPosition:de,allowDeselect:me,placeholder:we,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:He,form:Ke,positionDependencies:mt,readOnly:De,hoverOnSearchChange:Ie}=n,We=Tke(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:Wt,cx:Ut,theme:ze}=bke(),[Fe,at]=w.useState(y),[dt,Ct]=w.useState(-1),Kt=w.useRef(),ge=w.useRef({}),[Se,Le]=w.useState("column"),Je=Se==="column",{scrollIntoView:ct,targetRef:En,scrollableRef:Me}=jQ({duration:0,offset:5,cancelable:!1,isList:!0}),rt=me===void 0?I:me,ut=Ce=>{if(Fe!==Ce){at(Ce);const it=Ce?R:A;typeof it=="function"&&it()}},Gt=re&&typeof K=="function";let pt=null;const br=o.map(Ce=>typeof Ce=="string"?{label:Ce,value:Ce}:Ce),hn=rQ({data:br}),[Hn,hs,Os]=No({value:a,defaultValue:u,finalValue:null,onChange:l}),fi=hn.find(Ce=>Ce.value===Hn),[Pn,Ta]=No({value:k,defaultValue:(fi==null?void 0:fi.label)||"",finalValue:void 0,onChange:M}),Dr=Ce=>{Ta(Ce),T&&typeof M=="function"&&M(Ce)},wr=()=>{var Ce;De||(hs(null),Os||Dr(""),(Ce=Kt.current)==null||Ce.focus())};w.useEffect(()=>{const Ce=hn.find(it=>it.value===Hn);Ce?Dr(Ce.label):(!Gt||!Hn)&&Dr("")},[Hn]),w.useEffect(()=>{fi&&(!T||!Fe)&&Dr(fi.label)},[fi==null?void 0:fi.label]);const Nn=Ce=>{if(!De)if(rt&&(fi==null?void 0:fi.value)===Ce.value)hs(null),ut(!1);else{if(Ce.creatable&&typeof V=="function"){const it=V(Ce.value);typeof it<"u"&&it!==null&&hs(typeof it=="string"?it:it.value)}else hs(Ce.value);Os||Dr(Ce.label),Ct(-1),ut(!1),Kt.current.focus()}},ln=_ke({data:hn,searchable:T,limit:B,searchValue:Pn,filter:x,filterDataOnExactSearchMatch:ye,value:Hn});Gt&&ie(Pn,ln)&&(pt=K(Pn),ln.push({label:Pn,value:Pn,creatable:!0}));const Gn=(Ce,it,Mt)=>{let je=Ce;for(;Mt(je);)if(je=it(je),!ln[je].disabled)return je;return Ce};Mi(()=>{Ct(Ie&&Pn?0:-1)},[Pn,Ie]);const ps=Hn?ln.findIndex(Ce=>Ce.value===Hn):0,Zr=!De&&(ln.length>0?Fe:Fe&&!!D),zr=()=>{Ct(Ce=>{var it;const Mt=Gn(Ce,je=>je-1,je=>je>0);return En.current=ge.current[(it=ln[Mt])==null?void 0:it.value],Zr&&ct({alignment:Je?"start":"end"}),Mt})},Z=()=>{Ct(Ce=>{var it;const Mt=Gn(Ce,je=>je+1,je=>je<ln.length-1);return En.current=ge.current[(it=ln[Mt])==null?void 0:it.value],Zr&&ct({alignment:Je?"end":"start"}),Mt})},W=()=>window.setTimeout(()=>{var Ce;En.current=ge.current[(Ce=ln[ps])==null?void 0:Ce.value],ct({alignment:Je?"end":"start"})},0);Mi(()=>{Zr&&W()},[Zr]);const ne=Ce=>{switch(typeof f=="function"&&f(Ce),Ce.key){case"ArrowUp":{Ce.preventDefault(),Fe?Je?zr():Z():(Ct(ps),ut(!0),W());break}case"ArrowDown":{Ce.preventDefault(),Fe?Je?Z():zr():(Ct(ps),ut(!0),W());break}case"Home":{if(!T){Ce.preventDefault(),Fe||ut(!0);const it=ln.findIndex(Mt=>!Mt.disabled);Ct(it),Zr&&ct({alignment:Je?"end":"start"})}break}case"End":{if(!T){Ce.preventDefault(),Fe||ut(!0);const it=ln.map(Mt=>!!Mt.disabled).lastIndexOf(!1);Ct(it),Zr&&ct({alignment:Je?"end":"start"})}break}case"Escape":{Ce.preventDefault(),ut(!1),Ct(-1);break}case" ":{T||(Ce.preventDefault(),ln[dt]&&Fe?Nn(ln[dt]):(ut(!0),Ct(ps),W()));break}case"Enter":T||Ce.preventDefault(),ln[dt]&&Fe&&(Ce.preventDefault(),Nn(ln[dt]))}},he=Ce=>{typeof d=="function"&&d(Ce);const it=hn.find(Mt=>Mt.value===Hn);P&&ln[dt]&&Fe&&Nn(ln[dt]),Dr((it==null?void 0:it.label)||""),ut(!1)},pe=Ce=>{typeof h=="function"&&h(Ce),T&&ut(!0)},Xe=Ce=>{De||(Dr(Ce.currentTarget.value),I&&Ce.currentTarget.value===""&&hs(null),Ct(-1),ut(!0))},Ze=()=>{De||(ut(!Fe),Hn&&!Fe&&Ct(ps))};return N.createElement(ro.Wrapper,aO(S0({},i),{__staticSelector:"Select"}),N.createElement(_f,{opened:Zr,transition:p,transitionDuration:m,shadow:"sm",withinPortal:L,__staticSelector:"Select",onDirectionChange:Le,switchDirectionOnFlip:G,zIndex:le,dropdownPosition:de,positionDependencies:[...mt,Pn],classNames:_,styles:S,unstyled:v},N.createElement(_f.Target,null,N.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Zr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Zr,onMouseLeave:()=>Ct(-1),tabIndex:-1},N.createElement("input",{type:"hidden",name:ce,value:Hn||"",form:Ke,disabled:O}),N.createElement(ro,S0(aO(S0(S0({autoComplete:"off",type:"search"},r),We),{ref:zo(t,Kt),onKeyDown:ne,__staticSelector:"Select",value:Pn,placeholder:we,onChange:Xe,"aria-autocomplete":"list","aria-controls":Zr?`${r.id}-items`:null,"aria-activedescendant":dt>=0?`${r.id}-${dt}`:null,onMouseDown:Ze,onBlur:he,onFocus:pe,readOnly:!T||De,disabled:O,"data-mantine-stop-propagation":Zr,name:null,classNames:aO(S0({},_),{input:Ut({[Wt.input]:!T},_==null?void 0:_.input)})}),vte({theme:ze,rightSection:ee,rightSectionWidth:te,styles:S,size:r.size,shouldClear:I&&!!fi,clearButtonLabel:$,onClear:wr,error:i.error,clearButtonTabIndex:He,disabled:O,readOnly:De}))))),N.createElement(_f.Dropdown,{component:Y||WI,maxHeight:b,direction:Se,id:r.id,innerRef:Me,__staticSelector:"Select",classNames:_,styles:S},N.createElement(W$,{data:ln,hovered:dt,classNames:_,styles:S,isItemSelected:Ce=>Ce===Hn,uuid:r.id,__staticSelector:"Select",onItemHover:Ct,onItemSelect:Nn,itemsRefs:ge,itemComponent:c,size:r.size,nothingFound:D,creatable:Gt&&!!pt,createLabel:pt,"aria-label":i.label,unstyled:v}))))});ih.displayName="@mantine/core/Select";function gT({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function hN({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var Ake=Object.defineProperty,Pke=Object.defineProperties,Oke=Object.getOwnPropertyDescriptors,RU=Object.getOwnPropertySymbols,Rke=Object.prototype.hasOwnProperty,Nke=Object.prototype.propertyIsEnumerable,NU=(e,t,n)=>t in e?Ake(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kke=(e,t)=>{for(var n in t||(t={}))Rke.call(t,n)&&NU(e,n,t[n]);if(RU)for(var n of RU(t))Nke.call(t,n)&&NU(e,n,t[n]);return e},Dke=(e,t)=>Pke(e,Oke(t));const Gs={xs:4,sm:6,md:8,lg:10,xl:12};var $ke=ot((e,{size:t,disabled:n})=>({root:Dke(kke({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Gs,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const Lke=$ke;var Mke=Object.defineProperty,Fke=Object.defineProperties,jke=Object.getOwnPropertyDescriptors,kU=Object.getOwnPropertySymbols,Bke=Object.prototype.hasOwnProperty,Uke=Object.prototype.propertyIsEnumerable,DU=(e,t,n)=>t in e?Mke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vke=(e,t)=>{for(var n in t||(t={}))Bke.call(t,n)&&DU(e,n,t[n]);if(kU)for(var n of kU(t))Uke.call(t,n)&&DU(e,n,t[n]);return e},zke=(e,t)=>Fke(e,jke(t)),Hke=ot((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:zke(Vke({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Gs,size:n})*2,width:i||e.fn.size({sizes:Gs,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const yT=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:v,children:_=null,disabled:S,unstyled:x,thumbSize:b},T)=>{const{classes:I,cx:D,theme:$}=Hke({color:a,size:c,disabled:S,thumbSize:b},{classNames:u,styles:l,unstyled:x,name:"Slider"}),[B,O]=w.useState(!1),M=p||s||B||v;return N.createElement(tt,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:T,className:D(I.thumb,{[I.dragging]:s}),onFocus:()=>{O(!0),typeof y=="function"&&y()},onBlur:()=>{O(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:k=>k.stopPropagation(),style:{[$.dir==="rtl"?"right":"left"]:`${r}%`}},_,N.createElement(YI,{mounted:i!=null&&M,duration:d,transition:f,timingFunction:h||$.transitionTimingFunction},k=>N.createElement("div",{style:k,className:I.label},i)))});yT.displayName="@mantine/core/SliderThumb";function Wke({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var qke=ot((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Gs})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Gs,size:t}),width:e.fn.size({sizes:Gs,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Gs,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function tne({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=qke({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>N.createElement(tt,{className:h.markWrapper,sx:{left:`${gT({value:y.value,min:r,max:i})}%`},key:g},N.createElement("div",{className:p(h.mark,{[h.markFilled]:Wke({mark:y,value:s,offset:u,inverted:d})})}),y.label&&N.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),l(y.value)},onTouchStart:v=>{v.stopPropagation(),l(y.value)}},y.label)));return N.createElement("div",null,m)}tne.displayName="@mantine/core/SliderMarks";var Gke=ot((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Gs,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Gs}),marginLeft:e.fn.size({size:n,sizes:Gs}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Gs}),left:-e.fn.size({size:n,sizes:Gs}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),Yke=Object.defineProperty,Kke=Object.defineProperties,Qke=Object.getOwnPropertyDescriptors,vT=Object.getOwnPropertySymbols,nne=Object.prototype.hasOwnProperty,rne=Object.prototype.propertyIsEnumerable,$U=(e,t,n)=>t in e?Yke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xke=(e,t)=>{for(var n in t||(t={}))nne.call(t,n)&&$U(e,n,t[n]);if(vT)for(var n of vT(t))rne.call(t,n)&&$U(e,n,t[n]);return e},Jke=(e,t)=>Kke(e,Qke(t)),Zke=(e,t)=>{var n={};for(var r in e)nne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&rne.call(e,r)&&(n[r]=e[r]);return n};function y3(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=Zke(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=Gke({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return N.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},N.createElement(tt,{className:g.bar,sx:v=>({left:`calc(${l}% - ${v.fn.size({size:r,sizes:Gs})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:Gs})}px)`})}),u,N.createElement(tne,Jke(Xke({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}y3.displayName="@mantine/core/SliderTrack";var eDe=Object.defineProperty,tDe=Object.defineProperties,nDe=Object.getOwnPropertyDescriptors,_T=Object.getOwnPropertySymbols,ine=Object.prototype.hasOwnProperty,sne=Object.prototype.propertyIsEnumerable,LU=(e,t,n)=>t in e?eDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rDe=(e,t)=>{for(var n in t||(t={}))ine.call(t,n)&&LU(e,n,t[n]);if(_T)for(var n of _T(t))sne.call(t,n)&&LU(e,n,t[n]);return e},iDe=(e,t)=>tDe(e,nDe(t)),sDe=(e,t)=>{var n={};for(var r in e)ine.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&sne.call(e,r)&&(n[r]=e[r]);return n};const v3=w.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=sDe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=Lke({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return N.createElement(tt,iDe(rDe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});v3.displayName="@mantine/core/SliderRoot";var oDe=Object.defineProperty,aDe=Object.defineProperties,uDe=Object.getOwnPropertyDescriptors,bT=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,MU=(e,t,n)=>t in e?oDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lDe=(e,t)=>{for(var n in t||(t={}))one.call(t,n)&&MU(e,n,t[n]);if(bT)for(var n of bT(t))ane.call(t,n)&&MU(e,n,t[n]);return e},cDe=(e,t)=>aDe(e,uDe(t)),fDe=(e,t)=>{var n={};for(var r in e)one.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&ane.call(e,r)&&(n[r]=e[r]);return n};const dDe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},JI=w.forwardRef((e,t)=>{const n=Ge("Slider",dDe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:v,labelTransition:_,labelTransitionDuration:S,labelTransitionTimingFunction:x,labelAlwaysOn:b,thumbLabel:T,showLabelOnHover:I,thumbChildren:D,disabled:$,unstyled:B,thumbSize:O,scale:M,inverted:k}=n,ee=fDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),te=Ei(),[re,K]=w.useState(!1),[ie,P]=No({value:typeof o=="number"?Gu(o,f,d):o,defaultValue:typeof m=="number"?Gu(m,f,d):m,finalValue:Gu(0,f,d),onChange:a}),V=w.useRef(ie),Y=w.useRef(),A=gT({value:ie,min:f,max:d}),R=M(ie),L=typeof v=="function"?v(R):v,G=w.useCallback(({x:we})=>{if(!$){const ye=hN({value:we,min:f,max:d,step:h,precision:p});P(ye),V.current=ye}},[$,f,d,h,p]),{ref:le,active:ce}=FI(G,{onScrubEnd:()=>u==null?void 0:u(V.current)},te.dir),de=we=>{we.stopPropagation()},me=we=>{if(!$)switch(we.key){case"ArrowUp":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ie+h,f),d);u==null||u(ye),P(ye);break}case"ArrowRight":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(te.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(ye),P(ye);break}case"ArrowDown":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(ie-h,f),d);u==null||u(ye),P(ye);break}case"ArrowLeft":{we.preventDefault(),Y.current.focus();const ye=Math.min(Math.max(te.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(ye),P(ye);break}case"Home":{we.preventDefault(),Y.current.focus(),u==null||u(f),P(f);break}case"End":{we.preventDefault(),Y.current.focus(),u==null||u(d),P(d);break}}};return N.createElement(v3,cDe(lDe({},ee),{size:l,ref:zo(le,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var we;return(we=le.current)==null?void 0:we.focus()},classNames:r,styles:i,disabled:$,unstyled:B}),N.createElement(y3,{inverted:k,offset:0,filled:A,marks:g,size:l,radius:c,color:s,min:f,max:d,value:R,onChange:P,onMouseEnter:I?()=>K(!0):void 0,onMouseLeave:I?()=>K(!1):void 0,classNames:r,styles:i,disabled:$,unstyled:B},N.createElement(yT,{max:d,min:f,value:R,position:A,dragging:ce,color:s,size:l,label:L,ref:Y,onMouseDown:de,labelTransition:_,labelTransitionDuration:S,labelTransitionTimingFunction:x,labelAlwaysOn:b,classNames:r,styles:i,thumbLabel:T,showLabelOnHover:I&&re,disabled:$,unstyled:B,thumbSize:O},D)),N.createElement("input",{type:"hidden",name:y,value:R}))});JI.displayName="@mantine/core/Slider";function hDe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var pDe=Object.defineProperty,mDe=Object.defineProperties,gDe=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,une=Object.prototype.hasOwnProperty,lne=Object.prototype.propertyIsEnumerable,FU=(e,t,n)=>t in e?pDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uO=(e,t)=>{for(var n in t||(t={}))une.call(t,n)&&FU(e,n,t[n]);if(wT)for(var n of wT(t))lne.call(t,n)&&FU(e,n,t[n]);return e},lO=(e,t)=>mDe(e,gDe(t)),yDe=(e,t)=>{var n={};for(var r in e)une.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&lne.call(e,r)&&(n[r]=e[r]);return n};const vDe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},pN=w.forwardRef((e,t)=>{const n=Ge("RangeSlider",vDe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,maxRange:p,step:m,precision:y,defaultValue:g,name:v,marks:_,label:S,labelTransition:x,labelTransitionDuration:b,labelTransitionTimingFunction:T,labelAlwaysOn:I,thumbFromLabel:D,thumbToLabel:$,showLabelOnHover:B,thumbChildren:O,disabled:M,unstyled:k,thumbSize:ee,scale:te,inverted:re}=n,K=yDe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ie=Ei(),[P,V]=w.useState(-1),[Y,A]=w.useState(!1),[R,L]=No({value:o,defaultValue:g,finalValue:[f,d],onChange:a}),G=w.useRef(R),le=w.useRef([]),ce=w.useRef(void 0),de=[gT({value:R[0],min:f,max:d}),gT({value:R[1],min:f,max:d})],me=ze=>{L(ze),G.current=ze};w.useEffect(()=>{Array.isArray(o)&&(G.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const we=(ze,Fe,at)=>{const dt=[...G.current];dt[Fe]=ze,Fe===0&&(ze>dt[1]-(h-1e-9)&&(dt[1]=Math.min(ze+h,d)),ze>(d-(h-1e-9)||f)&&(dt[Fe]=G.current[Fe]),dt[1]-ze>p&&(dt[1]=ze+p)),Fe===1&&(ze<dt[0]+h&&(dt[0]=Math.max(ze-h,f)),ze<dt[0]+h&&(dt[Fe]=G.current[Fe]),ze-dt[0]>p&&(dt[0]=ze-p)),me(dt),at&&(u==null||u(G.current))},ye=ze=>{if(!M){const Fe=hN({value:ze,min:f,max:d,step:m,precision:y});we(Fe,ce.current,!1)}},{ref:He,active:Ke}=FI(({x:ze})=>ye(ze),{onScrubEnd:()=>u==null?void 0:u(G.current)},ie.dir);function mt(ze,Fe){ze.stopPropagation(),ce.current=Fe}const De=ze=>{He.current.focus();const Fe=He.current.getBoundingClientRect(),at=hDe(ze.nativeEvent),dt=hN({value:at-Fe.left,max:d,min:f,step:m,containerWidth:Fe.width}),Ct=Math.abs(R[0]-dt)>Math.abs(R[1]-dt)?1:0,Kt=ie.dir==="ltr"?Ct:Ct===1?0:1;ce.current=Kt},Ie=()=>P!==1&&P!==0?(V(0),0):P,We=ze=>{if(!M)switch(ze.key){case"ArrowUp":{ze.preventDefault();const Fe=Ie();le.current[Fe].focus(),we(Math.min(Math.max(G.current[Fe]+m,f),d),Fe,!0);break}case"ArrowRight":{ze.preventDefault();const Fe=Ie();le.current[Fe].focus(),we(Math.min(Math.max(ie.dir==="rtl"?G.current[Fe]-m:G.current[Fe]+m,f),d),Fe,!0);break}case"ArrowDown":{ze.preventDefault();const Fe=Ie();le.current[Fe].focus(),we(Math.min(Math.max(G.current[Fe]-m,f),d),Fe,!0);break}case"ArrowLeft":{ze.preventDefault();const Fe=Ie();le.current[Fe].focus(),we(Math.min(Math.max(ie.dir==="rtl"?G.current[Fe]+m:G.current[Fe]-m,f),d),Fe,!0);break}}},Wt={max:d,min:f,color:s,size:l,labelTransition:x,labelTransitionDuration:b,labelTransitionTimingFunction:T,labelAlwaysOn:I,onBlur:()=>V(-1),classNames:r,styles:i},Ut=Array.isArray(O);return N.createElement(v3,lO(uO({},K),{size:l,ref:zo(He,t),onTouchStartCapture:De,onTouchEndCapture:()=>{ce.current=-1},onMouseDownCapture:De,onMouseUpCapture:()=>{ce.current=-1},onKeyDownCapture:We,styles:i,classNames:r,disabled:M,unstyled:k}),N.createElement(y3,{offset:de[0],marksOffset:R[0],filled:de[1]-de[0],marks:_,inverted:re,size:l,radius:c,color:s,min:f,max:d,value:R[1],styles:i,classNames:r,onMouseEnter:B?()=>A(!0):void 0,onMouseLeave:B?()=>A(!1):void 0,onChange:ze=>{const Fe=Math.abs(R[0]-ze)>Math.abs(R[1]-ze)?1:0,at=[...R];at[Fe]=ze,me(at)},disabled:M,unstyled:k},N.createElement(yT,lO(uO({},Wt),{value:te(R[0]),position:de[0],dragging:Ke,label:typeof S=="function"?S(te(R[0])):S,ref:ze=>{le.current[0]=ze},thumbLabel:D,onMouseDown:ze=>mt(ze,0),onFocus:()=>V(0),showLabelOnHover:B&&Y,disabled:M,unstyled:k,thumbSize:ee}),Ut?O[0]:O),N.createElement(yT,lO(uO({},Wt),{thumbLabel:$,value:te(R[1]),position:de[1],dragging:Ke,label:typeof S=="function"?S(te(R[1])):S,ref:ze=>{le.current[1]=ze},onMouseDown:ze=>mt(ze,1),onFocus:()=>V(1),showLabelOnHover:B&&Y,disabled:M,unstyled:k,thumbSize:ee}),Ut?O[1]:O)),N.createElement("input",{type:"hidden",name:`${v}_from`,value:R[0]}),N.createElement("input",{type:"hidden",name:`${v}_to`,value:R[1]}))});pN.displayName="@mantine/core/RangeSlider";var _De=Object.defineProperty,ET=Object.getOwnPropertySymbols,cne=Object.prototype.hasOwnProperty,fne=Object.prototype.propertyIsEnumerable,jU=(e,t,n)=>t in e?_De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bDe=(e,t)=>{for(var n in t||(t={}))cne.call(t,n)&&jU(e,n,t[n]);if(ET)for(var n of ET(t))fne.call(t,n)&&jU(e,n,t[n]);return e},wDe=(e,t)=>{var n={};for(var r in e)cne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&fne.call(e,r)&&(n[r]=e[r]);return n};const EDe={w:0,h:0},ST=w.forwardRef((e,t)=>{const n=Ge("Space",EDe,e),{w:r,h:i}=n,s=wDe(n,["w","h"]);return N.createElement(tt,bDe({ref:t,w:r,miw:r,h:i,mih:i},s))});ST.displayName="@mantine/core/Space";var SDe=Object.defineProperty,TDe=Object.defineProperties,xDe=Object.getOwnPropertyDescriptors,BU=Object.getOwnPropertySymbols,IDe=Object.prototype.hasOwnProperty,CDe=Object.prototype.propertyIsEnumerable,UU=(e,t,n)=>t in e?SDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ADe=(e,t)=>{for(var n in t||(t={}))IDe.call(t,n)&&UU(e,n,t[n]);if(BU)for(var n of BU(t))CDe.call(t,n)&&UU(e,n,t[n]);return e},PDe=(e,t)=>TDe(e,xDe(t));function ODe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function RDe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var NDe=ot((e,{element:t,weight:n,size:r,inline:i})=>({root:PDe(ADe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:ODe(r,t,e),lineHeight:i?1:RDe(r,t,e),margin:0})})),kDe=Object.defineProperty,TT=Object.getOwnPropertySymbols,dne=Object.prototype.hasOwnProperty,hne=Object.prototype.propertyIsEnumerable,VU=(e,t,n)=>t in e?kDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DDe=(e,t)=>{for(var n in t||(t={}))dne.call(t,n)&&VU(e,n,t[n]);if(TT)for(var n of TT(t))hne.call(t,n)&&VU(e,n,t[n]);return e},$De=(e,t)=>{var n={};for(var r in e)dne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&hne.call(e,r)&&(n[r]=e[r]);return n};const LDe={order:1},qc=w.forwardRef((e,t)=>{const n=Ge("Title",LDe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=$De(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=NDe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?N.createElement(et,DDe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});qc.displayName="@mantine/core/Title";const pne=w.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),da=()=>w.useContext(pne);function MDe({children:e}){const[t,n]=N.useState(void 0),r=N.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return C.jsx(pne.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(this,arguments)}var af;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(af||(af={}));const zU="popstate";function FDe(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return mN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xT(i)}return BDe(t,n,null,e)}function Ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mne(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jDe(){return Math.random().toString(36).substr(2,8)}function HU(e,t){return{usr:e.state,key:e.key,idx:t}}function mN(e,t,n,r){return n===void 0&&(n=null),Ev({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xg(t):t,{state:n,key:t&&t.key||r||jDe()})}function xT(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function BDe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=af.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Ev({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=af.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=af.Push;let v=mN(m.location,y,g);n&&n(v,y),l=c()+1;let _=HU(v,l),S=m.createHref(v);try{o.pushState(_,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(S)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=af.Replace;let v=mN(m.location,y,g);n&&n(v,y),l=c();let _=HU(v,l),S=m.createHref(v);o.replaceState(_,"",S),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:xT(y);return v=v.replace(/ $/,"%20"),Ur(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(zU,f),u=y,()=>{i.removeEventListener(zU,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var WU;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(WU||(WU={}));function UDe(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?xg(t):t,i=_3(r.pathname||"/",n);if(i==null)return null;let s=gne(e);VDe(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=e$e(i);o=XDe(s[a],u)}return o}function gne(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ur(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=bf([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),gne(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:KDe(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of yne(s.path))i(s,o,u)}),t}function yne(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yne(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function VDe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QDe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zDe=/^:[\w-]+$/,HDe=3,WDe=2,qDe=1,GDe=10,YDe=-2,qU=e=>e==="*";function KDe(e,t){let n=e.split("/"),r=n.length;return n.some(qU)&&(r+=YDe),t&&(r+=WDe),n.filter(i=>!qU(i)).reduce((i,s)=>i+(zDe.test(s)?HDe:s===""?qDe:GDe),r)}function QDe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function XDe(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=JDe({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:bf([i,c.pathname]),pathnameBase:i$e(bf([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=bf([i,c.pathnameBase]))}return s}function JDe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZDe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function ZDe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mne(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function e$e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mne(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function t$e(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xg(e):e;return{pathname:n?n.startsWith("/")?n:n$e(n,t):t,search:s$e(r),hash:o$e(i)}}function n$e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cO(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r$e(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function b3(e,t){let n=r$e(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function w3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xg(e):(i=Ev({},e),Ur(!i.pathname||!i.pathname.includes("?"),cO("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),cO("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),cO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=t$e(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const bf=e=>e.join("/").replace(/\/\/+/g,"/"),i$e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s$e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o$e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a$e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vne=["post","put","patch","delete"];new Set(vne);const u$e=["get",...vne];new Set(u$e);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}const E3=w.createContext(null),l$e=w.createContext(null),td=w.createContext(null),ZI=w.createContext(null),yl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_ne=w.createContext(null);function bne(e,t){let{relative:n}=t===void 0?{}:t;Ig()||Ur(!1);let{basename:r,navigator:i}=w.useContext(td),{hash:s,pathname:o,search:a}=Ene(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:bf([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Ig(){return w.useContext(ZI)!=null}function nd(){return Ig()||Ur(!1),w.useContext(ZI).location}function wne(e){w.useContext(td).static||w.useLayoutEffect(e)}function vl(){let{isDataRoute:e}=w.useContext(yl);return e?S$e():c$e()}function c$e(){Ig()||Ur(!1);let e=w.useContext(E3),{basename:t,future:n,navigator:r}=w.useContext(td),{matches:i}=w.useContext(yl),{pathname:s}=nd(),o=JSON.stringify(b3(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return wne(()=>{a.current=!0}),w.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=w3(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bf([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const f$e=w.createContext(null);function d$e(e){let t=w.useContext(yl).outlet;return t&&w.createElement(f$e.Provider,{value:e},t)}function zh(){let{matches:e}=w.useContext(yl),t=e[e.length-1];return t?t.params:{}}function Ene(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(td),{matches:i}=w.useContext(yl),{pathname:s}=nd(),o=JSON.stringify(b3(i,r.v7_relativeSplatPath));return w.useMemo(()=>w3(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function Sne(e,t){return h$e(e,t)}function h$e(e,t,n,r){Ig()||Ur(!1);let{navigator:i}=w.useContext(td),{matches:s}=w.useContext(yl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=nd(),c;if(t){var f;let y=typeof t=="string"?xg(t):t;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||Ur(!1),c=y}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=UDe(e,{pathname:h}),m=v$e(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:bf([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:bf([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&m?w.createElement(ZI.Provider,{value:{location:Sv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:af.Pop}},m):m}function p$e(){let e=E$e(),t=a$e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const m$e=w.createElement(p$e,null);class g$e extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(yl.Provider,{value:this.props.routeContext},w.createElement(_ne.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y$e(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(E3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(yl.Provider,{value:t},r)}function v$e(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||Ur(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,m=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||m$e,u&&(l<0&&d===0?(T$e("route-fallback",!1),p=!0,y=null):l===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,d+1)),v=()=>{let _;return h?_=m:p?_=y:f.route.Component?_=w.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,w.createElement(y$e,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?w.createElement(g$e,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Tne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tne||{}),IT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(IT||{});function _$e(e){let t=w.useContext(E3);return t||Ur(!1),t}function b$e(e){let t=w.useContext(l$e);return t||Ur(!1),t}function w$e(e){let t=w.useContext(yl);return t||Ur(!1),t}function xne(e){let t=w$e(),n=t.matches[t.matches.length-1];return n.route.id||Ur(!1),n.route.id}function E$e(){var e;let t=w.useContext(_ne),n=b$e(IT.UseRouteError),r=xne(IT.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function S$e(){let{router:e}=_$e(Tne.UseNavigateStable),t=xne(IT.UseNavigateStable),n=w.useRef(!1);return wne(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Sv({fromRouteId:t},s)))},[e,t])}const GU={};function T$e(e,t,n){!t&&!GU[e]&&(GU[e]=!0)}function x$e(e){let{to:t,replace:n,state:r,relative:i}=e;Ig()||Ur(!1);let{future:s,static:o}=w.useContext(td),{matches:a}=w.useContext(yl),{pathname:u}=nd(),l=vl(),c=w3(t,b3(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return w.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function I$e(e){return d$e(e.context)}function gN(e){Ur(!1)}function C$e(e){let{basename:t="/",children:n=null,location:r,navigationType:i=af.Pop,navigator:s,static:o=!1,future:a}=e;Ig()&&Ur(!1);let u=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:u,navigator:s,static:o,future:Sv({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=xg(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,m=w.useMemo(()=>{let y=_3(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return m==null?null:w.createElement(td.Provider,{value:l},w.createElement(ZI.Provider,{children:n,value:m}))}function A$e(e){let{children:t,location:n}=e;return Sne(yN(t),n)}new Promise(()=>{});function yN(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,yN(r.props.children,s));return}r.type!==gN&&Ur(!1),!r.props.index||!r.props.children||Ur(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yN(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(this,arguments)}function P$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function O$e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R$e(e,t){return e.button===0&&(!t||t==="_self")&&!O$e(e)}function _N(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function N$e(e,t){let n=_N(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const k$e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],D$e="6";try{window.__reactRouterVersion=D$e}catch{}const $$e="startTransition",YU=ev[$$e];function L$e(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=FDe({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=w.useCallback(f=>{l&&YU?YU(()=>u(f)):u(f)},[u,l]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.createElement(C$e,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const M$e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F$e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j$e=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:f}=t,d=P$e(t,k$e),{basename:h}=w.useContext(td),p,m=!1;if(typeof l=="string"&&F$e.test(l)&&(p=l,M$e))try{let _=new URL(window.location.href),S=l.startsWith("//")?new URL(_.protocol+l):new URL(l),x=_3(S.pathname,h);S.origin===_.origin&&x!=null?l=x+S.search+S.hash:m=!0}catch{}let y=bne(l,{relative:i}),g=B$e(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:f});function v(_){r&&r(_),_.defaultPrevented||g(_)}return w.createElement("a",vN({},d,{href:p||y,onClick:m||s?r:v,ref:n,target:u}))});var KU;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(KU||(KU={}));var QU;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(QU||(QU={}));function B$e(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,u=vl(),l=nd(),c=Ene(e,{relative:o});return w.useCallback(f=>{if(R$e(f,n)){f.preventDefault();let d=r!==void 0?r:xT(l)===xT(c);u(e,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,c,r,i,n,e,s,o,a])}function S3(e){let t=w.useRef(_N(e)),n=w.useRef(!1),r=nd(),i=w.useMemo(()=>N$e(r.search,n.current?null:t.current),[r.search]),s=vl(),o=w.useCallback((a,u)=>{const l=_N(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function bN(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const _l="/ThinkAloud/";function U$e({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=vl();return C.jsxs(vee,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[C.jsx(k_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${_l}assets/revisitLogoSquare.svg`,alt:"reVISit"}),C.jsx(et,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=bN(i);return C.jsx(BI,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:C.jsxs(rCe,{shadow:"sm",radius:"md",withBorder:!0,children:[C.jsx(et,{fw:"bold",children:s.studyMetadata.title}),C.jsxs(et,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),C.jsx(et,{c:"dimmed",children:s.studyMetadata.description}),C.jsx(et,{c:"dimmed",ta:"right",style:{paddingRight:5}})]})},i)})]})}var Ine={exports:{}},Cne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=w;function V$e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z$e=typeof Object.is=="function"?Object.is:V$e,H$e=Hm.useState,W$e=Hm.useEffect,q$e=Hm.useLayoutEffect,G$e=Hm.useDebugValue;function Y$e(e,t){var n=t(),r=H$e({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return q$e(function(){i.value=n,i.getSnapshot=t,fO(i)&&s({inst:i})},[e,n,t]),W$e(function(){return fO(i)&&s({inst:i}),e(function(){fO(i)&&s({inst:i})})},[e]),G$e(n),n}function fO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!z$e(e,n)}catch{return!0}}function K$e(e,t){return t()}var Q$e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K$e:Y$e;Cne.useSyncExternalStore=Hm.useSyncExternalStore!==void 0?Hm.useSyncExternalStore:Q$e;Ine.exports=Cne;var X$e=Ine.exports,Ane={exports:{}},Pne={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC=w,J$e=X$e;function Z$e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e3e=typeof Object.is=="function"?Object.is:Z$e,t3e=J$e.useSyncExternalStore,n3e=eC.useRef,r3e=eC.useEffect,i3e=eC.useMemo,s3e=eC.useDebugValue;Pne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=n3e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=i3e(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,e3e(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=t3e(e,s[0],s[1]);return r3e(function(){o.hasValue=!0,o.value=a},[a]),s3e(a),a};Ane.exports=Pne;var o3e=Ane.exports;function a3e(e){e()}let One=a3e;const u3e=e=>One=e,l3e=()=>One,XU=Symbol.for("react-redux-context"),JU=typeof globalThis<"u"?globalThis:{};function c3e(){var e;if(!w.createContext)return{};const t=(e=JU[XU])!=null?e:JU[XU]=new Map;let n=t.get(w.createContext);return n||(n=w.createContext(null),t.set(w.createContext,n)),n}const kf=c3e();function T3(e=kf){return function(){return w.useContext(e)}}const Rne=T3(),f3e=()=>{throw new Error("uSES not initialized!")};let Nne=f3e;const d3e=e=>{Nne=e},h3e=(e,t)=>e===t;function p3e(e=kf){const t=e===kf?Rne:T3(e);return function(r,i={}){const{equalityFn:s=h3e,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=t();w.useRef(!0);const h=w.useCallback({[r.name](m){return r(m)}}[r.name],[r,f,o]),p=Nne(l.addNestedSub,u.getState,c||u.getState,h,s);return w.useDebugValue(p),p}}const m3e=p3e();var Vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3=Symbol.for("react.element"),I3=Symbol.for("react.portal"),tC=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),sC=Symbol.for("react.context"),g3e=Symbol.for("react.server_context"),oC=Symbol.for("react.forward_ref"),aC=Symbol.for("react.suspense"),uC=Symbol.for("react.suspense_list"),lC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),y3e=Symbol.for("react.offscreen"),kne;kne=Symbol.for("react.module.reference");function ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case x3:switch(e=e.type,e){case tC:case rC:case nC:case aC:case uC:return e;default:switch(e=e&&e.$$typeof,e){case g3e:case sC:case oC:case cC:case lC:case iC:return e;default:return t}}case I3:return t}}}Vn.ContextConsumer=sC;Vn.ContextProvider=iC;Vn.Element=x3;Vn.ForwardRef=oC;Vn.Fragment=tC;Vn.Lazy=cC;Vn.Memo=lC;Vn.Portal=I3;Vn.Profiler=rC;Vn.StrictMode=nC;Vn.Suspense=aC;Vn.SuspenseList=uC;Vn.isAsyncMode=function(){return!1};Vn.isConcurrentMode=function(){return!1};Vn.isContextConsumer=function(e){return ya(e)===sC};Vn.isContextProvider=function(e){return ya(e)===iC};Vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===x3};Vn.isForwardRef=function(e){return ya(e)===oC};Vn.isFragment=function(e){return ya(e)===tC};Vn.isLazy=function(e){return ya(e)===cC};Vn.isMemo=function(e){return ya(e)===lC};Vn.isPortal=function(e){return ya(e)===I3};Vn.isProfiler=function(e){return ya(e)===rC};Vn.isStrictMode=function(e){return ya(e)===nC};Vn.isSuspense=function(e){return ya(e)===aC};Vn.isSuspenseList=function(e){return ya(e)===uC};Vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tC||e===rC||e===nC||e===aC||e===uC||e===y3e||typeof e=="object"&&e!==null&&(e.$$typeof===cC||e.$$typeof===lC||e.$$typeof===iC||e.$$typeof===sC||e.$$typeof===oC||e.$$typeof===kne||e.getModuleId!==void 0)};Vn.typeOf=ya;function v3e(){const e=l3e();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const ZU={notify(){},get:()=>[]};function _3e(e,t){let n,r=ZU,i=0,s=!1;function o(m){c();const y=r.subscribe(m);let g=!1;return()=>{g||(g=!0,y(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=v3e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ZU)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}const b3e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w3e=b3e?w.useLayoutEffect:w.useEffect;function E3e({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=w.useMemo(()=>{const l=_3e(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=w.useMemo(()=>e.getState(),[e]);w3e(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||kf;return w.createElement(u.Provider,{value:o},n)}function Dne(e=kf){const t=e===kf?Rne:T3(e);return function(){const{store:r}=t();return r}}const S3e=Dne();function T3e(e=kf){const t=e===kf?S3e:Dne(e);return function(){return t().dispatch}}const $ne=T3e();d3e(o3e.useSyncExternalStoreWithSelector);u3e(jh.unstable_batchedUpdates);const Lne={},x3e=Object.freeze(Object.defineProperty({__proto__:null,default:Lne},Symbol.toStringTag,{value:"Module"})),I3e=zG(x3e);var C3e=I3e;function A3e(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function P3e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function O3e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function R3e(e){return e.__COMMENTS__}function N3e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var fC={EOL:C3e.EOL||`
`,tryParseNumber:A3e,createComment:P3e,removeComment:O3e,getComment:R3e,forceComment:N3e},k3e="3.2.1";function D3e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return eV}else if(e.length===0)return eV;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return L3e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),$3e.bind(null,n)}function $3e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function eV(){}function L3e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function Mne(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}Mne.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function Fne(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}Fne.description="parse hexadecimal numbers prefixed with 0x";function jne(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}jne.description="support ISO dates";var C3={loadDsf:D3e,std:{math:Mne,hex:Fne,date:jne}},M3e=function(e,t){var n=fC,r=C3,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(k){return k==="{"||k==="}"||k==="["||k==="]"||k===","||k===":"}function d(k){var ee,te=0,re=1;for(ee=s-1;ee>0&&i[ee]!==`
`;ee--,te++);for(;ee>0;ee--)i[ee]===`
`&&re++;throw new Error(k+" at line "+re+","+te+" >>>"+i.substr(s-te,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(k){return i.charAt(s+k)}function m(k){for(var ee="",te=o;h();){if(o===te)return h(),k&&te==="'"&&o==="'"&&ee.length===0?(h(),y()):ee;if(o==="\\")if(h(),o==="u"){for(var re=0,K=0;K<4;K++){h();var ie=o.charCodeAt(0),P;o>="0"&&o<="9"?P=ie-48:o>="a"&&o<="f"?P=ie-97+10:o>="A"&&o<="F"?P=ie-65+10:d("Bad \\u char "+o),re=re*16+P}ee+=String.fromCharCode(re)}else if(typeof a[o]=="string")ee+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):ee+=o}d("Bad string")}function y(){for(var k="",ee=0,te=0;;){var re=p(-te-5);if(!re||re===`
`)break;te++}function K(){for(var ie=te;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),K());;){if(!o)d("Bad multiline string");else if(o==="'"){if(ee++,h(),ee===3)return k.slice(-1)===`
`&&(k=k.slice(0,-1)),k;continue}else for(;ee>0;)k+="'",ee--;o===`
`?(k+=`
`,h(),K()):(o!=="\r"&&(k+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var k="",ee=s,te=-1;;){if(o===":")return k?te>=0&&te!==k.length&&(s=ee+te,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),k;o<=" "?o?te<0&&(te=k.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):k+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var k=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var ee=o==="\r"||o===`
`||o==="";if(ee||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var te=k[0];switch(te){case"f":if(k.trim()==="false")return!1;break;case"n":if(k.trim()==="null")return null;break;case"t":if(k.trim()==="true")return!0;break;default:if(te==="-"||te>="0"&&te<="9"){var re=n.tryParseNumber(k);if(re!==void 0)return re}}if(ee){k=k.trim();var K=l(k);return K!==void 0?K:k}}k+=o}}function S(k,ee){var te;for(k--,te=s-2;te>k&&i[te]<=" "&&i[te]!==`
`;te--);i[te]===`
`&&te--,i[te]==="\r"&&te--;var re=i.substr(k,te-k+1);for(te=0;te<re.length;te++)if(re[te]>" "){var K=re.indexOf(`
`);if(K>=0){var ie=[re.substr(0,K),re.substr(K+1)];return ee&&ie[0].trim().length===0&&ie.shift(),ie}else return[re]}return[]}function x(k){function ee(re,K){var ie,P,V,Y;switch(typeof re){case"string":re.indexOf(K)>=0&&(Y=re);break;case"object":if(Object.prototype.toString.apply(re)==="[object Array]")for(ie=0,V=re.length;ie<V;ie++)Y=ee(re[ie],K)||Y;else for(P in re)Object.prototype.hasOwnProperty.call(re,P)&&(Y=ee(re[P],K)||Y)}return Y}function te(re){var K=ee(k,re);return K?"found '"+re+`' in a string value, your mistake could be with:
  > `+K+`
  (unquoted strings contain everything up to the next line!)`:""}return te("}")||te("]")}function b(){var k=[],ee,te,re;try{if(u&&(ee=n.createComment(k,{a:[]})),h(),te=s,v(),ee&&(re=S(te,!0).join(`
`)),o==="]")return h(),ee&&(ee.e=[re]),k;for(;o;){if(k.push(I()),te=s,v(),o===","&&(h(),te=s,v()),ee){var K=S(te);ee.a.push([re||"",K[0]||""]),re=K[1]}if(o==="]")return h(),ee&&(ee.a[ee.a.length-1][1]+=re||""),k;v()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||x(k),ie}}function T(k){var ee="",te={},re,K,ie;try{if(u&&(re=n.createComment(te,{c:{},o:[]})),k?K=1:(h(),K=s),v(),re&&(ie=S(K,!0).join(`
`)),o==="}"&&!k)return re&&(re.e=[ie]),h(),te;for(;o;){if(ee=g(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),te[ee]=I(),K=s,v(),o===","&&(h(),K=s,v()),re){var P=S(K);re.c[ee]=[ie||"",P[0]||""],ie=P[1],re.o.push(ee)}if(o==="}"&&!k)return h(),re&&(re.c[ee][1]+=ie||""),te;v()}if(k)return te;d("End of input while parsing an object (missing '}')")}catch(V){throw V.hint=V.hint||x(te),V}}function I(){switch(v(),o){case"{":return T();case"[":return b();case"'":case'"':return m(!0);default:return _()}}function D(k,ee){var te=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var re=ee.join(`
`),K=S(te).join(`
`);if(K||re){var ie=n.createComment(k,n.getComment(k));ie.r=[re,K]}}return k}function $(){v();var k=u?S(1):null;switch(o){case"{":return D(T(),k);case"[":return D(b(),k);default:return D(I(),k)}}function B(){v();var k=u?S(1):null;switch(o){case"{":return D(T(),k);case"[":return D(b(),k)}try{return D(T(!0),k)}catch(ee){c();try{return D(I(),k)}catch{throw ee}}}if(typeof e!="string")throw new Error("source is not a string");var O=null,M=!0;return t&&typeof t=="object"&&(u=t.keepWsc,O=t.dsf,M=t.legacyRoot!==!1),l=r.loadDsf(O,"parse"),i=e,c(),M?B():$()},F3e=function(e,t){var n=fC,r=C3,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,v=Object.keys(i);for(g=v.length-1;g>=0;g--){var _=v[g];y[_].push(i[_][0].length,i[_][1].length)}}var S,x="---\u2028--\uFEFF-",b=new RegExp('[\\\\\\"\0-'+x+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+x+"]","g"),D=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),$={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},B=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,O="",M=0;function k(Y,A){return M+=Y[0].length+Y[1].length-Y[2]-Y[3],Y[0]+A+Y[1]}function ee(Y){return Y.replace(b,function(A){var R=$[A];return typeof R=="string"?k(y.esc,R):k(y.uni,("0000"+A.charCodeAt(0).toString(16)).slice(-4))})}function te(Y,A,R,L){return Y?(T.lastIndex=0,D.lastIndex=0,c||R||T.test(Y)||n.tryParseNumber(Y,!0)!==void 0||D.test(Y)?(b.lastIndex=0,I.lastIndex=0,b.test(Y)?!I.test(Y)&&!L&&d?re(Y,A):k(y.qstr,ee(Y)):k(y.qstr,Y)):k(y.str,Y)):k(y.qstr,"")}function re(Y,A){var R,L=Y.replace(/\r/g,"").split(`
`);if(A+=o,L.length===1)return k(y.mstr,L[0]);var G=s+A+y.mstr[0];for(R=0;R<L.length;R++)G+=s,L[R]&&(G+=A+L[R]);return G+s+A+y.mstr[1]}function K(Y){return Y?l||B.test(Y)?(b.lastIndex=0,k(y.qkey,b.test(Y)?ee(Y):Y)):k(y.key,Y):'""'}function ie(Y,A,R,L){function G(ut){return ut&&ut[ut[0]==="\r"?1:0]===`
`}function le(ut){return ut&&!G(ut)}function ce(ut,Gt,pt){if(!ut)return"";ut=n.forceComment(ut);var br,hn=ut.length;for(br=0;br<hn&&ut[br]<=" ";br++);return pt&&br>0&&(ut=ut.substr(br)),br<hn?Gt+k(y.rem,ut):ut}var de=S(Y);if(de!==void 0)return k(y.dsf,de);switch(typeof Y){case"string":return te(Y,O,A,L);case"number":return isFinite(Y)?k(y.num,String(Y)):k(y.lit,"null");case"boolean":return k(y.lit,String(Y));case"object":if(!Y)return k(y.lit,"null");var me;a&&(me=n.getComment(Y));var we=Object.prototype.toString.apply(Y)==="[object Array]",ye=O;O+=o;var He=s+ye,Ke=s+O,mt=R||u?"":He,De=[],Ie,We=f?[]:null,Wt=c,Ut=d,ze=h?"":y.com[0],Fe=0,at,dt,Ct,Kt,ge,Se,Le,Je,ct;if(we){for(at=0,dt=Y.length;at<dt;at++){if(Ie=at<dt-1,me?(Se=me.a[at]||[],Le=le(Se[1]),De.push(ce(Se[0],`
`)+Ke),We&&(Se[0]||Se[1]||Le)&&(We=null)):De.push(Ke),M=0,Kt=Y[at],De.push(ie(Kt,me?Le:!1,!0)+(Ie?h:"")),We){switch(typeof Kt){case"string":M=0,c=!0,d=0,We.push(ie(Kt,!1,!0)+(Ie?y.com[0]:"")),c=Wt,d=Ut;break;case"object":if(Kt){We=null;break}default:We.push(De[De.length-1]+(Ie?ze:""));break}Ie&&(M+=y.com[0].length-y.com[2]),Fe+=M}me&&Se[1]&&De.push(ce(Se[1],Le?" ":`
`,Le))}dt===0?me&&me.e&&De.push(ce(me.e[0],`
`)+He):De.push(He),De.length===0?Je=k(y.arr,""):(Je=mt+k(y.arr,De.join("")),We&&(ct=We.join(" "),ct.length-Fe<=f&&(Je=k(y.arr,ct))))}else{var En=me?me.o.slice():[],Me=[];for(Ct in Y)Object.prototype.hasOwnProperty.call(Y,Ct)&&En.indexOf(Ct)<0&&Me.push(Ct);m&&Me.sort();var rt=En.concat(Me);for(at=0,dt=rt.length;at<dt;at++)if(Ie=at<dt-1,Ct=rt[at],me?(Se=me.c[Ct]||[],Le=le(Se[1]),De.push(ce(Se[0],`
`)+Ke),We&&(Se[0]||Se[1]||Le)&&(We=null)):De.push(Ke),M=0,Kt=Y[Ct],ge=ie(Kt,me&&Le),De.push(K(Ct)+y.col[0]+(G(ge)?"":" ")+ge+(Ie?h:"")),me&&Se[1]&&De.push(ce(Se[1],Le?" ":`
`,Le)),We){switch(typeof Kt){case"string":M=0,c=!0,d=0,ge=ie(Kt,!1),c=Wt,d=Ut,We.push(K(Ct)+y.col[0]+" "+ge+(Ie?y.com[0]:""));break;case"object":if(Kt){We=null;break}default:We.push(De[De.length-1]+(Ie?ze:""));break}M+=y.col[0].length-y.col[2],Ie&&(M+=y.com[0].length-y.com[2]),Fe+=M}dt===0?me&&me.e&&De.push(ce(me.e[0],`
`)+He):De.push(He),De.length===0?Je=k(y.obj,""):(Je=mt+k(y.obj,De.join("")),We&&(ct=We.join(" "),ct.length-Fe<=f&&(Je=k(y.obj,ct))))}return O=ye,Je}}S=r.loadDsf(p,"stringify");var P="",V=a?V=(n.getComment(e)||{}).r:null;return V&&V[0]&&(P=V[0]+`
`),P+=ie(e,null,!0,!0),V&&(P+=V[1]||""),P},lm=fC;function xy(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function wN(e,t){if(!(e===null||typeof e!="object")){var n=lm.getComment(e);n&&lm.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)tV(o.a,r,n.a[r],wN(e[r]))&&(s=!0);!s&&n.e&&(o.e=xy(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];tV(o.s,l,n.c[l],wN(e[l]))&&(s=!0)}!s&&n.e&&(o.e=xy(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=xy(n.r[0],n.r[1])),s?o:void 0}}function j3e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function B3e(e,t){var n=[];if(EN(e,t,n,[]),n.length>0){var r=CT(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+j3e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),CT(t,r,1)}}function tV(e,t,n,r){var i=xy(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Iy(e,t){var n=xy(t.b,t.a);return n.path=e,n}function Cy(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Iy(s,o)),Cy(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Iy(u,l)),Cy(l.x,t,u))});e.e&&t.push(Iy(n,e.e))}}function EN(e,t,n,r){if(e){if(t===null||typeof t!="object"){Cy(e,n,r);return}var i,s=lm.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],EN(u.x,t[i],n,l)):(n.push(Iy(l,u)),Cy(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],EN(d.x,t[c],n,f))):d&&(n.push(Iy(f,d)),Cy(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function CT(e,t,n){var r=lm.createComment(e,lm.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=lm.forceComment(t)),r.r[n]||""}var U3e={extract:function(e){return wN(e,!0)},merge:B3e,header:function(e,t){return CT(e,t,0)},footer:function(e,t){return CT(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var nV=fC,V3e=k3e,rV=M3e,iV=F3e,z3e=U3e,H3e=C3,A3={parse:rV,stringify:iV,endOfLine:function(){return nV.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(nV.EOL=e)},version:V3e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,rV(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,iV(e,t)}},comments:z3e,dsf:H3e.std},SN={exports:{}},Bne={},Wa={},Wm={},M_={},Xt={},Tv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,S)=>`${_}${S}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,S)=>(S instanceof n&&(_[S.str]=(_[S.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(g,...v){const _=[g[0]];let S=0;for(;S<v.length;)a(_,v[S]),_.push(g[++S]);return new r(_)}e._=i;const s=new r("+");function o(g,...v){const _=[h(g[0])];let S=0;for(;S<v.length;)_.push(s),a(_,v[S]),_.push(s,h(g[++S]));return u(_),new r(_)}e.str=o;function a(g,v){v instanceof r?g.push(...v._items):v instanceof n?g.push(v):g.push(f(v))}e.addCodeArg=a;function u(g){let v=1;for(;v<g.length-1;){if(g[v]===s){const _=l(g[v-1],g[v+1]);if(_!==void 0){g.splice(v-1,3,_);continue}g[v++]="+"}v++}}function l(g,v){if(v==='""')return g;if(g==='""')return v;if(typeof g=="string")return v instanceof n||g[g.length-1]!=='"'?void 0:typeof v!="string"?`${g.slice(0,-1)}${v}"`:v[0]==='"'?g.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(g instanceof n))return`"${g}${v.slice(1)}`}function c(g,v){return v.emptyStr()?g:g.emptyStr()?v:o`${g}${v}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(Tv);var TN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Tv;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let v=c(g);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${g} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(g))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(TN);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Tv,n=TN;var r=Tv;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=TN;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(R,L){return this}}class o extends s{constructor(R,L,G){super(),this.varKind=R,this.name=L,this.rhs=G}render({es5:R,_n:L}){const G=R?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${le};`+L}optimizeNames(R,L){if(R[this.name.str])return this.rhs&&(this.rhs=k(this.rhs,R,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(R,L,G){super(),this.lhs=R,this.rhs=L,this.sideEffects=G}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,L){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=k(this.rhs,R,L),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return M(R,this.rhs)}}class u extends a{constructor(R,L,G,le){super(R,G,le),this.op=L}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}}class l extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}}class c extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}}class f extends s{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}}class d extends s{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,L){return this.code=k(this.code,R,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((L,G)=>L+G.render(R),"")}optimizeNodes(){const{nodes:R}=this;let L=R.length;for(;L--;){const G=R[L].optimizeNodes();Array.isArray(G)?R.splice(L,1,...G):G?R[L]=G:R.splice(L,1)}return R.length>0?this:void 0}optimizeNames(R,L){const{nodes:G}=this;let le=G.length;for(;le--;){const ce=G[le];ce.optimizeNames(R,L)||(ee(R,ce.names),G.splice(le,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((R,L)=>O(R,L.names),{})}}class p extends h{render(R){return"{"+R._n+super.render(R)+"}"+R._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(R,L){super(L),this.condition=R}render(R){let L=`if(${this.condition})`+super.render(R);return this.else&&(L+="else "+this.else.render(R)),L}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let L=this.else;if(L){const G=L.optimizeNodes();L=this.else=Array.isArray(G)?new y(G):G}if(L)return R===!1?L instanceof g?L:L.nodes:this.nodes.length?this:new g(te(R),L instanceof g?[L]:L.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,L){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(R,L),!!(super.optimizeNames(R,L)||this.else))return this.condition=k(this.condition,R,L),this}get names(){const R=super.names;return M(R,this.condition),this.else&&O(R,this.else.names),R}}g.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,L){if(super.optimizeNames(R,L))return this.iteration=k(this.iteration,R,L),this}get names(){return O(super.names,this.iteration.names)}}class S extends v{constructor(R,L,G,le){super(),this.varKind=R,this.name=L,this.from=G,this.to=le}render(R){const L=R.es5?n.varKinds.var:this.varKind,{name:G,from:le,to:ce}=this;return`for(${L} ${G}=${le}; ${G}<${ce}; ${G}++)`+super.render(R)}get names(){const R=M(super.names,this.from);return M(R,this.to)}}class x extends v{constructor(R,L,G,le){super(),this.loop=R,this.varKind=L,this.name=G,this.iterable=le}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,L){if(super.optimizeNames(R,L))return this.iterable=k(this.iterable,R,L),this}get names(){return O(super.names,this.iterable.names)}}class b extends p{constructor(R,L,G){super(),this.name=R,this.args=L,this.async=G}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}}b.kind="func";class T extends h{render(R){return"return "+super.render(R)}}T.kind="return";class I extends p{render(R){let L="try"+super.render(R);return this.catch&&(L+=this.catch.render(R)),this.finally&&(L+=this.finally.render(R)),L}optimizeNodes(){var R,L;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(R,L){var G,le;return super.optimizeNames(R,L),(G=this.catch)===null||G===void 0||G.optimizeNames(R,L),(le=this.finally)===null||le===void 0||le.optimizeNames(R,L),this}get names(){const R=super.names;return this.catch&&O(R,this.catch.names),this.finally&&O(R,this.finally.names),R}}class D extends p{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}}D.kind="catch";class $ extends p{render(R){return"finally"+super.render(R)}}$.kind="finally";class B{constructor(R,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=R,this._scope=new n.Scope({parent:R}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,L){const G=this._extScope.value(R,L);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(R,L){return this._extScope.getValue(R,L)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,L,G,le){const ce=this._scope.toName(L);return G!==void 0&&le&&(this._constants[ce.str]=G),this._leafNode(new o(R,ce,G)),ce}const(R,L,G){return this._def(n.varKinds.const,R,L,G)}let(R,L,G){return this._def(n.varKinds.let,R,L,G)}var(R,L,G){return this._def(n.varKinds.var,R,L,G)}assign(R,L,G){return this._leafNode(new a(R,L,G))}add(R,L){return this._leafNode(new u(R,e.operators.ADD,L))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new d(R)),this}object(...R){const L=["{"];for(const[G,le]of R)L.length>1&&L.push(","),L.push(G),(G!==le||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,le));return L.push("}"),new t._Code(L)}if(R,L,G){if(this._blockNode(new g(R)),L&&G)this.code(L).else().code(G).endIf();else if(L)this.code(L).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new g(R))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(R,L){return this._blockNode(R),L&&this.code(L).endFor(),this}for(R,L){return this._for(new _(R),L)}forRange(R,L,G,le,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(R);return this._for(new S(ce,de,L,G),()=>le(de))}forOf(R,L,G,le=n.varKinds.const){const ce=this._scope.toName(R);if(this.opts.es5){const de=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${de}.length`,me=>{this.var(ce,(0,t._)`${de}[${me}]`),G(ce)})}return this._for(new x("of",le,ce,L),()=>G(ce))}forIn(R,L,G,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${L})`,G);const ce=this._scope.toName(R);return this._for(new x("in",le,ce,L),()=>G(ce))}endFor(){return this._endBlockNode(v)}label(R){return this._leafNode(new l(R))}break(R){return this._leafNode(new c(R))}return(R){const L=new T;if(this._blockNode(L),this.code(R),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(R,L,G){if(!L&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new I;if(this._blockNode(le),this.code(R),L){const ce=this.name("e");this._currNode=le.catch=new D(ce),L(ce)}return G&&(this._currNode=le.finally=new $,this.code(G)),this._endBlockNode(D,$)}throw(R){return this._leafNode(new f(R))}block(R,L){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(L),this}endBlock(R){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-L;if(G<0||R!==void 0&&G!==R)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${R} expected`);return this._nodes.length=L,this}func(R,L=t.nil,G,le){return this._blockNode(new b(R,L,G)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,L){const G=this._currNode;if(G instanceof R||L&&G instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${R.kind}/${L.kind}`:R.kind}"`)}_elseNode(R){const L=this._currNode;if(!(L instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const L=this._nodes;L[L.length-1]=R}}e.CodeGen=B;function O(A,R){for(const L in R)A[L]=(A[L]||0)+(R[L]||0);return A}function M(A,R){return R instanceof t._CodeOrName?O(A,R.names):A}function k(A,R,L){if(A instanceof t.Name)return G(A);if(!le(A))return A;return new t._Code(A._items.reduce((ce,de)=>(de instanceof t.Name&&(de=G(de)),de instanceof t._Code?ce.push(...de._items):ce.push(de),ce),[]));function G(ce){const de=L[ce.str];return de===void 0||R[ce.str]!==1?ce:(delete R[ce.str],de)}function le(ce){return ce instanceof t._Code&&ce._items.some(de=>de instanceof t.Name&&R[de.str]===1&&L[de.str]!==void 0)}}function ee(A,R){for(const L in R)A[L]=(A[L]||0)-(R[L]||0)}function te(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,t._)`!${Y(A)}`}e.not=te;const re=V(e.operators.AND);function K(...A){return A.reduce(re)}e.and=K;const ie=V(e.operators.OR);function P(...A){return A.reduce(ie)}e.or=P;function V(A){return(R,L)=>R===t.nil?L:L===t.nil?R:(0,t._)`${Y(R)} ${A} ${Y(L)}`}function Y(A){return A instanceof t.Name?A:(0,t._)`(${A})`}})(Xt);var yn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Xt,n=Tv;function r(b){const T={};for(const I of b)T[I]=!0;return T}e.toHash=r;function i(b,T){return typeof T=="boolean"?T:Object.keys(T).length===0?!0:(s(b,T),!o(T,b.self.RULES.all))}e.alwaysValidSchema=i;function s(b,T=b.schema){const{opts:I,self:D}=b;if(!I.strictSchema||typeof T=="boolean")return;const $=D.RULES.keywords;for(const B in T)$[B]||x(b,`unknown keyword: "${B}"`)}e.checkUnknownRules=s;function o(b,T){if(typeof b=="boolean")return!b;for(const I in b)if(T[I])return!0;return!1}e.schemaHasRules=o;function a(b,T){if(typeof b=="boolean")return!b;for(const I in b)if(I!=="$ref"&&T.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:b,schemaPath:T},I,D,$){if(!$){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${b}${T}${(0,t.getProperty)(D)}`}e.schemaRefOrVal=u;function l(b){return d(decodeURIComponent(b))}e.unescapeFragment=l;function c(b){return encodeURIComponent(f(b))}e.escapeFragment=c;function f(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(b,T){if(Array.isArray(b))for(const I of b)T(I);else T(b)}e.eachItem=h;function p({mergeNames:b,mergeToName:T,mergeValues:I,resultToName:D}){return($,B,O,M)=>{const k=O===void 0?B:O instanceof t.Name?(B instanceof t.Name?b($,B,O):T($,B,O),O):B instanceof t.Name?(T($,O,B),B):I(B,O);return M===t.Name&&!(k instanceof t.Name)?D($,k):k}}e.mergeEvaluated={props:p({mergeNames:(b,T,I)=>b.if((0,t._)`${I} !== true && ${T} !== undefined`,()=>{b.if((0,t._)`${T} === true`,()=>b.assign(I,!0),()=>b.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${T})`))}),mergeToName:(b,T,I)=>b.if((0,t._)`${I} !== true`,()=>{T===!0?b.assign(I,!0):(b.assign(I,(0,t._)`${I} || {}`),y(b,I,T))}),mergeValues:(b,T)=>b===!0?!0:{...b,...T},resultToName:m}),items:p({mergeNames:(b,T,I)=>b.if((0,t._)`${I} !== true && ${T} !== undefined`,()=>b.assign(I,(0,t._)`${T} === true ? true : ${I} > ${T} ? ${I} : ${T}`)),mergeToName:(b,T,I)=>b.if((0,t._)`${I} !== true`,()=>b.assign(I,T===!0?!0:(0,t._)`${I} > ${T} ? ${I} : ${T}`)),mergeValues:(b,T)=>b===!0?!0:Math.max(b,T),resultToName:(b,T)=>b.var("items",T)})};function m(b,T){if(T===!0)return b.var("props",!0);const I=b.var("props",(0,t._)`{}`);return T!==void 0&&y(b,I,T),I}e.evaluatedPropsToName=m;function y(b,T,I){Object.keys(I).forEach(D=>b.assign((0,t._)`${T}${(0,t.getProperty)(D)}`,!0))}e.setEvaluated=y;const g={};function v(b,T){return b.scopeValue("func",{ref:T,code:g[T.code]||(g[T.code]=new n._Code(T.code))})}e.useFunc=v;var _;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(_=e.Type||(e.Type={}));function S(b,T,I){if(b instanceof t.Name){const D=T===_.Num;return I?D?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:D?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(b).toString():"/"+f(b)}e.getErrorPath=S;function x(b,T,I=b.opts.strictSchema){if(I){if(T=`strict mode: ${T}`,I===!0)throw new Error(T);b.self.logger.warn(T)}}e.checkStrictMode=x})(yn);var bl={};Object.defineProperty(bl,"__esModule",{value:!0});const Ki=Xt,W3e={data:new Ki.Name("data"),valCxt:new Ki.Name("valCxt"),instancePath:new Ki.Name("instancePath"),parentData:new Ki.Name("parentData"),parentDataProperty:new Ki.Name("parentDataProperty"),rootData:new Ki.Name("rootData"),dynamicAnchors:new Ki.Name("dynamicAnchors"),vErrors:new Ki.Name("vErrors"),errors:new Ki.Name("errors"),this:new Ki.Name("this"),self:new Ki.Name("self"),scope:new Ki.Name("scope"),json:new Ki.Name("json"),jsonPos:new Ki.Name("jsonPos"),jsonLen:new Ki.Name("jsonLen"),jsonPart:new Ki.Name("jsonPart")};bl.default=W3e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Xt,n=yn,r=bl;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,v,_){const{it:S}=y,{gen:x,compositeRule:b,allErrors:T}=S,I=f(y,g,v);_??(b||T)?u(x,I):l(S,(0,t._)`[${I}]`)}e.reportError=i;function s(y,g=e.keywordError,v){const{it:_}=y,{gen:S,compositeRule:x,allErrors:b}=_,T=f(y,g,v);u(S,T),x||b||l(_,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:v,data:_,errsCount:S,it:x}){if(S===void 0)throw new Error("ajv implementation error");const b=y.name("err");y.forRange("i",S,r.default.errors,T=>{y.const(b,(0,t._)`${r.default.vErrors}[${T}]`),y.if((0,t._)`${b}.instancePath === undefined`,()=>y.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),y.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${g}`),x.opts.verbose&&(y.assign((0,t._)`${b}.schema`,v),y.assign((0,t._)`${b}.data`,_))})}e.extendErrors=a;function u(y,g){const v=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:v,validateName:_,schemaEnv:S}=y;S.$async?v.throw((0,t._)`new ${y.ValidationError}(${g})`):(v.assign((0,t._)`${_}.errors`,g),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,g,v)}function d(y,g,v={}){const{gen:_,it:S}=y,x=[h(S,v),p(y,v)];return m(y,g,x),_.object(...x)}function h({errorPath:y},{instancePath:g}){const v=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:v,parentSchema:_}){let S=_?g:(0,t.str)`${g}/${y}`;return v&&(S=(0,t.str)`${S}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,S]}function m(y,{params:g,message:v},_){const{keyword:S,data:x,schemaValue:b,it:T}=y,{opts:I,propertyName:D,topSchemaRef:$,schemaPath:B}=T;_.push([c.keyword,S],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),I.messages&&_.push([c.message,typeof v=="function"?v(y):v]),I.verbose&&_.push([c.schema,b],[c.parentSchema,(0,t._)`${$}${B}`],[r.default.data,x]),D&&_.push([c.propertyName,D])}})(M_);Object.defineProperty(Wm,"__esModule",{value:!0});Wm.boolOrEmptySchema=Wm.topBoolOrEmptySchema=void 0;const q3e=M_,G3e=Xt,Y3e=bl,K3e={message:"boolean schema is false"};function Q3e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?Une(e,!1):typeof n=="object"&&n.$async===!0?t.return(Y3e.default.data):(t.assign((0,G3e._)`${r}.errors`,null),t.return(!0))}Wm.topBoolOrEmptySchema=Q3e;function X3e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),Une(e)):n.var(t,!0)}Wm.boolOrEmptySchema=X3e;function Une(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,q3e.reportError)(i,K3e,void 0,t)}var F_={},vh={};Object.defineProperty(vh,"__esModule",{value:!0});vh.getRules=vh.isJSONType=void 0;const J3e=["string","number","integer","boolean","null","object","array"],Z3e=new Set(J3e);function e6e(e){return typeof e=="string"&&Z3e.has(e)}vh.isJSONType=e6e;function t6e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}vh.getRules=t6e;var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.shouldUseRule=Yl.shouldUseGroup=Yl.schemaHasRulesForType=void 0;function n6e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&Vne(e,r)}Yl.schemaHasRulesForType=n6e;function Vne(e,t){return t.rules.some(n=>zne(e,n))}Yl.shouldUseGroup=Vne;function zne(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Yl.shouldUseRule=zne;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=vh,n=Yl,r=M_,i=Xt,s=yn;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const S=u(_.type);if(S.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function u(_){const S=Array.isArray(_)?_:_?[_]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=u;function l(_,S){const{gen:x,data:b,opts:T}=_,I=f(S,T.coerceTypes),D=S.length>0&&!(I.length===0&&S.length===1&&(0,n.schemaHasRulesForType)(_,S[0]));if(D){const $=m(S,b,T.strictNumbers,o.Wrong);x.if($,()=>{I.length?d(_,S,I):g(_)})}return D}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(_,S){return S?_.filter(x=>c.has(x)||S==="array"&&x==="array"):[]}function d(_,S,x){const{gen:b,data:T,opts:I}=_,D=b.let("dataType",(0,i._)`typeof ${T}`),$=b.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&b.if((0,i._)`${D} == 'object' && Array.isArray(${T}) && ${T}.length == 1`,()=>b.assign(T,(0,i._)`${T}[0]`).assign(D,(0,i._)`typeof ${T}`).if(m(S,T,I.strictNumbers),()=>b.assign($,T))),b.if((0,i._)`${$} !== undefined`);for(const O of x)(c.has(O)||O==="array"&&I.coerceTypes==="array")&&B(O);b.else(),g(_),b.endIf(),b.if((0,i._)`${$} !== undefined`,()=>{b.assign(T,$),h(_,$)});function B(O){switch(O){case"string":b.elseIf((0,i._)`${D} == "number" || ${D} == "boolean"`).assign($,(0,i._)`"" + ${T}`).elseIf((0,i._)`${T} === null`).assign($,(0,i._)`""`);return;case"number":b.elseIf((0,i._)`${D} == "boolean" || ${T} === null
              || (${D} == "string" && ${T} && ${T} == +${T})`).assign($,(0,i._)`+${T}`);return;case"integer":b.elseIf((0,i._)`${D} === "boolean" || ${T} === null
              || (${D} === "string" && ${T} && ${T} == +${T} && !(${T} % 1))`).assign($,(0,i._)`+${T}`);return;case"boolean":b.elseIf((0,i._)`${T} === "false" || ${T} === 0 || ${T} === null`).assign($,!1).elseIf((0,i._)`${T} === "true" || ${T} === 1`).assign($,!0);return;case"null":b.elseIf((0,i._)`${T} === "" || ${T} === 0 || ${T} === false`),b.assign($,null);return;case"array":b.elseIf((0,i._)`${D} === "string" || ${D} === "number"
              || ${D} === "boolean" || ${T} === null`).assign($,(0,i._)`[${T}]`)}}}function h({gen:_,parentData:S,parentDataProperty:x},b){_.if((0,i._)`${S} !== undefined`,()=>_.assign((0,i._)`${S}[${x}]`,b))}function p(_,S,x,b=o.Correct){const T=b===o.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(_){case"null":return(0,i._)`${S} ${T} null`;case"array":I=(0,i._)`Array.isArray(${S})`;break;case"object":I=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":I=D((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":I=D();break;default:return(0,i._)`typeof ${S} ${T} ${_}`}return b===o.Correct?I:(0,i.not)(I);function D($=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,$,x?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=p;function m(_,S,x,b){if(_.length===1)return p(_[0],S,x,b);let T;const I=(0,s.toHash)(_);if(I.array&&I.object){const D=(0,i._)`typeof ${S} != "object"`;T=I.null?D:(0,i._)`!${S} || ${D}`,delete I.null,delete I.array,delete I.object}else T=i.nil;I.number&&delete I.integer;for(const D in I)T=(0,i.and)(T,p(D,S,x,b));return T}e.checkDataTypes=m;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:S})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${S}}`};function g(_){const S=v(_);(0,r.reportError)(S,y)}e.reportTypeError=g;function v(_){const{gen:S,data:x,schema:b}=_,T=(0,s.schemaRefOrVal)(_,b,"type");return{gen:S,keyword:"type",data:x,schema:b.type,schemaCode:T,schemaValue:T,parentSchema:b,params:{},it:_}}})(F_);var dC={};Object.defineProperty(dC,"__esModule",{value:!0});dC.assignDefaults=void 0;const cp=Xt,r6e=yn;function i6e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)sV(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>sV(e,s,i.default))}dC.assignDefaults=i6e;function sV(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,cp._)`${s}${(0,cp.getProperty)(t)}`;if(i){(0,r6e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,cp._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,cp._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,cp._)`${a} = ${(0,cp.stringify)(n)}`)}var Fu={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.validateUnion=Qt.validateArray=Qt.usePattern=Qt.callValidateCode=Qt.schemaProperties=Qt.allSchemaProperties=Qt.noPropertyInData=Qt.propertyInData=Qt.isOwnProperty=Qt.hasPropFunc=Qt.reportMissingProp=Qt.checkMissingProp=Qt.checkReportMissingProp=void 0;const nr=Xt,P3=yn,kc=bl,s6e=yn;function o6e(e,t){const{gen:n,data:r,it:i}=e;n.if(R3(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,nr._)`${t}`},!0),e.error()})}Qt.checkReportMissingProp=o6e;function a6e({gen:e,data:t,it:{opts:n}},r,i){return(0,nr.or)(...r.map(s=>(0,nr.and)(R3(e,t,s,n.ownProperties),(0,nr._)`${i} = ${s}`)))}Qt.checkMissingProp=a6e;function u6e(e,t){e.setParams({missingProperty:t},!0),e.error()}Qt.reportMissingProp=u6e;function Hne(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,nr._)`Object.prototype.hasOwnProperty`})}Qt.hasPropFunc=Hne;function O3(e,t,n){return(0,nr._)`${Hne(e)}.call(${t}, ${n})`}Qt.isOwnProperty=O3;function l6e(e,t,n,r){const i=(0,nr._)`${t}${(0,nr.getProperty)(n)} !== undefined`;return r?(0,nr._)`${i} && ${O3(e,t,n)}`:i}Qt.propertyInData=l6e;function R3(e,t,n,r){const i=(0,nr._)`${t}${(0,nr.getProperty)(n)} === undefined`;return r?(0,nr.or)(i,(0,nr.not)(O3(e,t,n))):i}Qt.noPropertyInData=R3;function Wne(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Qt.allSchemaProperties=Wne;function c6e(e,t){return Wne(t).filter(n=>!(0,P3.alwaysValidSchema)(e,t[n]))}Qt.schemaProperties=c6e;function f6e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,nr._)`${e}, ${t}, ${r}${i}`:t,f=[[kc.default.instancePath,(0,nr.strConcat)(kc.default.instancePath,s)],[kc.default.parentData,o.parentData],[kc.default.parentDataProperty,o.parentDataProperty],[kc.default.rootData,kc.default.rootData]];o.opts.dynamicRef&&f.push([kc.default.dynamicAnchors,kc.default.dynamicAnchors]);const d=(0,nr._)`${c}, ${n.object(...f)}`;return u!==nr.nil?(0,nr._)`${a}.call(${u}, ${d})`:(0,nr._)`${a}(${d})`}Qt.callValidateCode=f6e;const d6e=(0,nr._)`new RegExp`;function h6e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,nr._)`${i.code==="new RegExp"?d6e:(0,s6e.useFunc)(e,i)}(${n}, ${r})`})}Qt.usePattern=h6e;function p6e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,nr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:P3.Type.Num},s),t.if((0,nr.not)(s),a)})}}Qt.validateArray=p6e;function m6e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,P3.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,nr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,nr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Qt.validateUnion=m6e;Object.defineProperty(Fu,"__esModule",{value:!0});Fu.validateKeywordUsage=Fu.validSchemaType=Fu.funcKeywordCode=Fu.macroKeywordCode=void 0;const vs=Xt,Pd=bl,g6e=Qt,y6e=M_;function v6e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=qne(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:vs.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Fu.macroKeywordCode=v6e;function _6e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;w6e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=qne(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&oV(e),y(()=>e.error());else{const g=t.async?h():p();t.modifying&&oV(e),y(()=>b6e(e,g))}}function h(){const g=r.let("ruleErrs",null);return r.try(()=>m((0,vs._)`await `),v=>r.assign(f,!1).if((0,vs._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(g,(0,vs._)`${v}.errors`),()=>r.throw(v))),g}function p(){const g=(0,vs._)`${c}.errors`;return r.assign(g,null),m(vs.nil),g}function m(g=t.async?(0,vs._)`await `:vs.nil){const v=u.opts.passContext?Pd.default.this:Pd.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,vs._)`${g}${(0,g6e.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(g){var v;r.if((0,vs.not)((v=t.valid)!==null&&v!==void 0?v:f),g)}}Fu.funcKeywordCode=_6e;function oV(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,vs._)`${r.parentData}[${r.parentDataProperty}]`))}function b6e(e,t){const{gen:n}=e;n.if((0,vs._)`Array.isArray(${t})`,()=>{n.assign(Pd.default.vErrors,(0,vs._)`${Pd.default.vErrors} === null ? ${t} : ${Pd.default.vErrors}.concat(${t})`).assign(Pd.default.errors,(0,vs._)`${Pd.default.vErrors}.length`),(0,y6e.extendErrors)(e)},()=>e.error())}function w6e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function qne(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,vs.stringify)(n)})}function E6e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Fu.validSchemaType=E6e;function S6e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}Fu.validateKeywordUsage=S6e;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});wf.extendSubschemaMode=wf.extendSubschemaData=wf.getSubschema=void 0;const Iu=Xt,Gne=yn;function T6e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Iu._)`${e.schemaPath}${(0,Iu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Iu._)`${e.schemaPath}${(0,Iu.getProperty)(t)}${(0,Iu.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Gne.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}wf.getSubschema=T6e;function x6e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Iu._)`${t.data}${(0,Iu.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Iu.str)`${l}${(0,Gne.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Iu._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Iu.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}wf.extendSubschemaData=x6e;function I6e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}wf.extendSubschemaMode=I6e;var ki={},N3=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const aV=ma(N3);var Yne={exports:{}},uf=Yne.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Pw(t,r,i,e,"",e)};uf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};uf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};uf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};uf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Pw(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in uf.arrayKeywords)for(var d=0;d<f.length;d++)Pw(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in uf.propsKeywords){if(f&&typeof f=="object")for(var h in f)Pw(e,t,n,f[h],i+"/"+c+"/"+C6e(h),s,i,c,r,h)}else(c in uf.keywords||e.allKeys&&!(c in uf.skipKeywords))&&Pw(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function C6e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var A6e=Yne.exports;Object.defineProperty(ki,"__esModule",{value:!0});ki.getSchemaRefs=ki.resolveUrl=ki.normalizeId=ki._getFullPath=ki.getFullPath=ki.inlineRef=void 0;const P6e=yn,O6e=N3,R6e=A6e,N6e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function k6e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!xN(e):t?Kne(e)<=t:!1}ki.inlineRef=k6e;const D6e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xN(e){for(const t in e){if(D6e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(xN)||typeof n=="object"&&xN(n))return!0}return!1}function Kne(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!N6e.has(n)&&(typeof e[n]=="object"&&(0,P6e.eachItem)(e[n],r=>t+=Kne(r)),t===1/0))return 1/0}return t}function Qne(e,t="",n){n!==!1&&(t=cm(t));const r=e.parse(t);return Xne(e,r)}ki.getFullPath=Qne;function Xne(e,t){return e.serialize(t).split("#")[0]+"#"}ki._getFullPath=Xne;const $6e=/#\/?$/;function cm(e){return e?e.replace($6e,""):""}ki.normalizeId=cm;function L6e(e,t,n){return n=cm(n),e.resolve(t,n)}ki.resolveUrl=L6e;const M6e=/^[a-z_][-a-z0-9._]*$/i;function F6e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=cm(e[n]||t),s={"":i},o=Qne(r,i,!1),a={},u=new Set;return R6e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=y;function g(_){const S=this.opts.uriResolver.resolve;if(_=cm(y?S(y,_):_),u.has(_))throw c(_);u.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(f,x.schema,_):_!==cm(m)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=m),_}function v(_){if(typeof _=="string"){if(!M6e.test(_))throw new Error(`invalid anchor "${_}"`);g.call(this,`#${_}`)}}}),a;function l(f,d,h){if(d!==void 0&&!O6e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ki.getSchemaRefs=F6e;Object.defineProperty(Wa,"__esModule",{value:!0});Wa.getData=Wa.KeywordCxt=Wa.validateFunctionCode=void 0;const Jne=Wm,uV=F_,k3=Yl,AT=F_,j6e=dC,Ay=Fu,dO=wf,lt=Xt,Ot=bl,B6e=ki,Kl=yn,T0=M_;function U6e(e){if(tre(e)&&(nre(e),ere(e))){H6e(e);return}Zne(e,()=>(0,Jne.topBoolOrEmptySchema)(e))}Wa.validateFunctionCode=U6e;function Zne({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,lt._)`${Ot.default.data}, ${Ot.default.valCxt}`,r.$async,()=>{e.code((0,lt._)`"use strict"; ${lV(n,i)}`),z6e(e,i),e.code(s)}):e.func(t,(0,lt._)`${Ot.default.data}, ${V6e(i)}`,r.$async,()=>e.code(lV(n,i)).code(s))}function V6e(e){return(0,lt._)`{${Ot.default.instancePath}="", ${Ot.default.parentData}, ${Ot.default.parentDataProperty}, ${Ot.default.rootData}=${Ot.default.data}${e.dynamicRef?(0,lt._)`, ${Ot.default.dynamicAnchors}={}`:lt.nil}}={}`}function z6e(e,t){e.if(Ot.default.valCxt,()=>{e.var(Ot.default.instancePath,(0,lt._)`${Ot.default.valCxt}.${Ot.default.instancePath}`),e.var(Ot.default.parentData,(0,lt._)`${Ot.default.valCxt}.${Ot.default.parentData}`),e.var(Ot.default.parentDataProperty,(0,lt._)`${Ot.default.valCxt}.${Ot.default.parentDataProperty}`),e.var(Ot.default.rootData,(0,lt._)`${Ot.default.valCxt}.${Ot.default.rootData}`),t.dynamicRef&&e.var(Ot.default.dynamicAnchors,(0,lt._)`${Ot.default.valCxt}.${Ot.default.dynamicAnchors}`)},()=>{e.var(Ot.default.instancePath,(0,lt._)`""`),e.var(Ot.default.parentData,(0,lt._)`undefined`),e.var(Ot.default.parentDataProperty,(0,lt._)`undefined`),e.var(Ot.default.rootData,Ot.default.data),t.dynamicRef&&e.var(Ot.default.dynamicAnchors,(0,lt._)`{}`)})}function H6e(e){const{schema:t,opts:n,gen:r}=e;Zne(e,()=>{n.$comment&&t.$comment&&ire(e),K6e(e),r.let(Ot.default.vErrors,null),r.let(Ot.default.errors,0),n.unevaluated&&W6e(e),rre(e),J6e(e)})}function W6e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,lt._)`${n}.evaluated`),t.if((0,lt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,lt._)`${e.evaluated}.props`,(0,lt._)`undefined`)),t.if((0,lt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,lt._)`${e.evaluated}.items`,(0,lt._)`undefined`))}function lV(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,lt._)`/*# sourceURL=${n} */`:lt.nil}function q6e(e,t){if(tre(e)&&(nre(e),ere(e))){G6e(e,t);return}(0,Jne.boolOrEmptySchema)(e,t)}function ere({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function tre(e){return typeof e.schema!="boolean"}function G6e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&ire(e),Q6e(e),X6e(e);const s=r.const("_errs",Ot.default.errors);rre(e,s),r.var(t,(0,lt._)`${s} === ${Ot.default.errors}`)}function nre(e){(0,Kl.checkUnknownRules)(e),Y6e(e)}function rre(e,t){if(e.opts.jtd)return cV(e,[],!1,t);const n=(0,uV.getSchemaTypes)(e.schema),r=(0,uV.coerceAndCheckDataType)(e,n);cV(e,n,!r,t)}function Y6e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Kl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function K6e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Kl.checkStrictMode)(e,"default is ignored in the schema root")}function Q6e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,B6e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function X6e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ire({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,lt._)`${Ot.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,lt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,lt._)`${Ot.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function J6e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,lt._)`${Ot.default.errors} === 0`,()=>t.return(Ot.default.data),()=>t.throw((0,lt._)`new ${i}(${Ot.default.vErrors})`)):(t.assign((0,lt._)`${r}.errors`,Ot.default.vErrors),s.unevaluated&&Z6e(e),t.return((0,lt._)`${Ot.default.errors} === 0`))}function Z6e({gen:e,evaluated:t,props:n,items:r}){n instanceof lt.Name&&e.assign((0,lt._)`${t}.props`,n),r instanceof lt.Name&&e.assign((0,lt._)`${t}.items`,r)}function cV(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Kl.schemaHasRulesButRef)(s,c))){i.block(()=>are(e,"$ref",c.all.$ref.definition));return}u.jtd||eLe(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,k3.shouldUseGroup)(s,d)&&(d.type?(i.if((0,AT.checkDataType)(d.type,o,u.strictNumbers)),fV(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,AT.reportTypeError)(e)),i.endIf()):fV(e,d),a||i.if((0,lt._)`${Ot.default.errors} === ${r||0}`))}}function fV(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,j6e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,k3.shouldUseRule)(r,s)&&are(e,s.keyword,s.definition,t.type)})}function eLe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(tLe(e,t),e.opts.allowUnionTypes||nLe(e,t),rLe(e,e.dataTypes))}function tLe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{sre(e.dataTypes,n)||D3(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),sLe(e,t)}}function nLe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&D3(e,"use allowUnionTypes to allow union type keyword")}function rLe(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,k3.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>iLe(t,o))&&D3(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function iLe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function sre(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function sLe(e,t){const n=[];for(const r of e.dataTypes)sre(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function D3(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Kl.checkStrictMode)(e,t,e.opts.strictTypes)}class ore{constructor(t,n,r){if((0,Ay.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Kl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",ure(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ay.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ot.default.errors))}result(t,n,r){this.failResult((0,lt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,lt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,lt._)`${n} !== undefined && (${(0,lt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?T0.reportExtraError:T0.reportError)(this,this.def.error,n)}$dataError(){(0,T0.reportError)(this,this.def.$dataError||T0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,T0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=lt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=lt.nil,n=lt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,lt.or)((0,lt._)`${i} === undefined`,n)),t!==lt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==lt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,lt.or)(o(),a());function o(){if(r.length){if(!(n instanceof lt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,lt._)`${(0,AT.checkDataTypes)(u,n,s.opts.strictNumbers,AT.DataType.Wrong)}`}return lt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,lt._)`!${u}(${n})`}return lt.nil}}subschema(t,n){const r=(0,dO.getSubschema)(this.it,t);(0,dO.extendSubschemaData)(r,this.it,t),(0,dO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return q6e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Kl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Kl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,lt.Name)),!0}}Wa.KeywordCxt=ore;function are(e,t,n,r){const i=new ore(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Ay.funcKeywordCode)(i,n):"macro"in n?(0,Ay.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Ay.funcKeywordCode)(i,n)}const oLe=/^\/(?:[^~]|~0|~1)*$/,aLe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ure(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return Ot.default.rootData;if(e[0]==="/"){if(!oLe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=Ot.default.rootData}else{const l=aLe.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,lt._)`${s}${(0,lt.getProperty)((0,Kl.unescapeJsonPointer)(l))}`,o=(0,lt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Wa.getData=ure;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});class uLe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}j_.default=uLe;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});const hO=ki;class lLe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,hO.resolveUrl)(t,n,r),this.missingSchema=(0,hO.normalizeId)((0,hO.getFullPath)(t,this.missingRef))}}B_.default=lLe;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.resolveSchema=Ys.getCompilingSchema=Ys.resolveRef=Ys.compileSchema=Ys.SchemaEnv=void 0;const Ia=Xt,cLe=j_,pd=bl,La=ki,dV=yn,fLe=Wa;class hC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,La.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ys.SchemaEnv=hC;function $3(e){const t=lre.call(this,e);if(t)return t;const n=(0,La.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Ia.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:cLe.default,code:(0,Ia._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:pd.default.data,parentData:pd.default.parentData,parentDataProperty:pd.default.parentDataProperty,dataNames:[pd.default.data],dataPathArr:[Ia.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ia.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Ia.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ia._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,fLe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(pd.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${pd.default.self}`,`${pd.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof Ia.Name?void 0:p,items:m instanceof Ia.Name?void 0:m,dynamicProps:p instanceof Ia.Name,dynamicItems:m instanceof Ia.Name},h.source&&(h.source.evaluated=(0,Ia.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Ys.compileSchema=$3;function dLe(e,t,n){var r;n=(0,La.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=mLe.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new hC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=hLe.call(this,s)}Ys.resolveRef=dLe;function hLe(e){return(0,La.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:$3.call(this,e)}function lre(e){for(const t of this._compilations)if(pLe(t,e))return t}Ys.getCompilingSchema=lre;function pLe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function mLe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||pC.call(this,e,t)}function pC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,La._getFullPath)(this.opts.uriResolver,n);let i=(0,La.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return pO.call(this,n,e);const s=(0,La.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=pC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:pO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||$3.call(this,o),s===(0,La.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,La.resolveUrl)(this.opts.uriResolver,i,l)),new hC({schema:a,schemaId:u,root:e,baseId:i})}return pO.call(this,n,o)}}Ys.resolveSchema=pC;const gLe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function pO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,dV.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!gLe.has(a)&&l&&(t=(0,La.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,dV.schemaHasRulesButRef)(n,this.RULES)){const a=(0,La.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=pC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new hC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const yLe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vLe="Meta-schema for $data reference (JSON AnySchema extension proposal)",_Le="object",bLe=["$data"],wLe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ELe=!1,SLe={$id:yLe,description:vLe,type:_Le,required:bLe,properties:wLe,additionalProperties:ELe};var L3={},IN={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Ks,function(n){function r(){for(var Z=arguments.length,W=Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];if(W.length>1){W[0]=W[0].slice(0,-1);for(var he=W.length-1,pe=1;pe<he;++pe)W[pe]=W[pe].slice(1,-1);return W[he]=W[he].slice(1),W.join("")}else return W[0]}function i(Z){return"(?:"+Z+")"}function s(Z){return Z===void 0?"undefined":Z===null?"null":Object.prototype.toString.call(Z).split(" ").pop().split("]").shift().toLowerCase()}function o(Z){return Z.toUpperCase()}function a(Z){return Z!=null?Z instanceof Array?Z:typeof Z.length!="number"||Z.split||Z.setInterval||Z.call?[Z]:Array.prototype.slice.call(Z):[]}function u(Z,W){var ne=Z;if(W)for(var he in W)ne[he]=W[he];return ne}function l(Z){var W="[A-Za-z]",ne="[0-9]",he=r(ne,"[A-Fa-f]"),pe=i(i("%[EFef]"+he+"%"+he+he+"%"+he+he)+"|"+i("%[89A-Fa-f]"+he+"%"+he+he)+"|"+i("%"+he+he)),Xe="[\\:\\/\\?\\#\\[\\]\\@]",Ze="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ce=r(Xe,Ze),it=Z?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Mt=Z?"[\\uE000-\\uF8FF]":"[]",je=r(W,ne,"[\\-\\.\\_\\~]",it);i(W+r(W,ne,"[\\+\\-\\.]")+"*"),i(i(pe+"|"+r(je,Ze,"[\\:]"))+"*");var Jt=i(i("25[0-5]")+"|"+i("2[0-4]"+ne)+"|"+i("1"+ne+ne)+"|"+i("0?[1-9]"+ne)+"|0?0?"+ne),Zt=i(Jt+"\\."+Jt+"\\."+Jt+"\\."+Jt),gt=i(he+"{1,4}"),On=i(i(gt+"\\:"+gt)+"|"+Zt),jn=i(i(gt+"\\:")+"{6}"+On),St=i("\\:\\:"+i(gt+"\\:")+"{5}"+On),Er=i(i(gt)+"?\\:\\:"+i(gt+"\\:")+"{4}"+On),Sr=i(i(i(gt+"\\:")+"{0,1}"+gt)+"?\\:\\:"+i(gt+"\\:")+"{3}"+On),$r=i(i(i(gt+"\\:")+"{0,2}"+gt)+"?\\:\\:"+i(gt+"\\:")+"{2}"+On),ms=i(i(i(gt+"\\:")+"{0,3}"+gt)+"?\\:\\:"+gt+"\\:"+On),xi=i(i(i(gt+"\\:")+"{0,4}"+gt)+"?\\:\\:"+On),Hr=i(i(i(gt+"\\:")+"{0,5}"+gt)+"?\\:\\:"+gt),Hi=i(i(i(gt+"\\:")+"{0,6}"+gt)+"?\\:\\:"),Wi=i([jn,St,Er,Sr,$r,ms,xi,Hr,Hi].join("|")),qe=i(i(je+"|"+pe)+"+");i("[vV]"+he+"+\\."+r(je,Ze,"[\\:]")+"+"),i(i(pe+"|"+r(je,Ze))+"*");var en=i(pe+"|"+r(je,Ze,"[\\:\\@]"));return i(i(pe+"|"+r(je,Ze,"[\\@]"))+"+"),i(i(en+"|"+r("[\\/\\?]",Mt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",W,ne,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",je,Ze),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",je,Ze),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",je,Ze),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",je,Ze),"g"),NOT_QUERY:new RegExp(r("[^\\%]",je,Ze,"[\\:\\@\\/\\?]",Mt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",je,Ze,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",je,Ze),"g"),UNRESERVED:new RegExp(je,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",je,Ce),"g"),PCT_ENCODED:new RegExp(pe,"g"),IPV4ADDRESS:new RegExp("^("+Zt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Wi+")"+i(i("\\%25|\\%(?!"+he+"{2})")+"("+qe+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function Z(W,ne){var he=[],pe=!0,Xe=!1,Ze=void 0;try{for(var Ce=W[Symbol.iterator](),it;!(pe=(it=Ce.next()).done)&&(he.push(it.value),!(ne&&he.length===ne));pe=!0);}catch(Mt){Xe=!0,Ze=Mt}finally{try{!pe&&Ce.return&&Ce.return()}finally{if(Xe)throw Ze}}return he}return function(W,ne){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Z(W,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(Z){if(Array.isArray(Z)){for(var W=0,ne=Array(Z.length);W<Z.length;W++)ne[W]=Z[W];return ne}else return Array.from(Z)},p=2147483647,m=36,y=1,g=26,v=38,_=700,S=72,x=128,b="-",T=/^xn--/,I=/[^\0-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=m-y,O=Math.floor,M=String.fromCharCode;function k(Z){throw new RangeError($[Z])}function ee(Z,W){for(var ne=[],he=Z.length;he--;)ne[he]=W(Z[he]);return ne}function te(Z,W){var ne=Z.split("@"),he="";ne.length>1&&(he=ne[0]+"@",Z=ne[1]),Z=Z.replace(D,".");var pe=Z.split("."),Xe=ee(pe,W).join(".");return he+Xe}function re(Z){for(var W=[],ne=0,he=Z.length;ne<he;){var pe=Z.charCodeAt(ne++);if(pe>=55296&&pe<=56319&&ne<he){var Xe=Z.charCodeAt(ne++);(Xe&64512)==56320?W.push(((pe&1023)<<10)+(Xe&1023)+65536):(W.push(pe),ne--)}else W.push(pe)}return W}var K=function(W){return String.fromCodePoint.apply(String,h(W))},ie=function(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:m},P=function(W,ne){return W+22+75*(W<26)-((ne!=0)<<5)},V=function(W,ne,he){var pe=0;for(W=he?O(W/_):W>>1,W+=O(W/ne);W>B*g>>1;pe+=m)W=O(W/B);return O(pe+(B+1)*W/(W+v))},Y=function(W){var ne=[],he=W.length,pe=0,Xe=x,Ze=S,Ce=W.lastIndexOf(b);Ce<0&&(Ce=0);for(var it=0;it<Ce;++it)W.charCodeAt(it)>=128&&k("not-basic"),ne.push(W.charCodeAt(it));for(var Mt=Ce>0?Ce+1:0;Mt<he;){for(var je=pe,Jt=1,Zt=m;;Zt+=m){Mt>=he&&k("invalid-input");var gt=ie(W.charCodeAt(Mt++));(gt>=m||gt>O((p-pe)/Jt))&&k("overflow"),pe+=gt*Jt;var On=Zt<=Ze?y:Zt>=Ze+g?g:Zt-Ze;if(gt<On)break;var jn=m-On;Jt>O(p/jn)&&k("overflow"),Jt*=jn}var St=ne.length+1;Ze=V(pe-je,St,je==0),O(pe/St)>p-Xe&&k("overflow"),Xe+=O(pe/St),pe%=St,ne.splice(pe++,0,Xe)}return String.fromCodePoint.apply(String,ne)},A=function(W){var ne=[];W=re(W);var he=W.length,pe=x,Xe=0,Ze=S,Ce=!0,it=!1,Mt=void 0;try{for(var je=W[Symbol.iterator](),Jt;!(Ce=(Jt=je.next()).done);Ce=!0){var Zt=Jt.value;Zt<128&&ne.push(M(Zt))}}catch(be){it=!0,Mt=be}finally{try{!Ce&&je.return&&je.return()}finally{if(it)throw Mt}}var gt=ne.length,On=gt;for(gt&&ne.push(b);On<he;){var jn=p,St=!0,Er=!1,Sr=void 0;try{for(var $r=W[Symbol.iterator](),ms;!(St=(ms=$r.next()).done);St=!0){var xi=ms.value;xi>=pe&&xi<jn&&(jn=xi)}}catch(be){Er=!0,Sr=be}finally{try{!St&&$r.return&&$r.return()}finally{if(Er)throw Sr}}var Hr=On+1;jn-pe>O((p-Xe)/Hr)&&k("overflow"),Xe+=(jn-pe)*Hr,pe=jn;var Hi=!0,Wi=!1,qe=void 0;try{for(var en=W[Symbol.iterator](),qi;!(Hi=(qi=en.next()).done);Hi=!0){var F=qi.value;if(F<pe&&++Xe>p&&k("overflow"),F==pe){for(var J=Xe,z=m;;z+=m){var se=z<=Ze?y:z>=Ze+g?g:z-Ze;if(J<se)break;var ue=J-se,oe=m-se;ne.push(M(P(se+ue%oe,0))),J=O(ue/oe)}ne.push(M(P(J,0))),Ze=V(Xe,Hr,On==gt),Xe=0,++On}}}catch(be){Wi=!0,qe=be}finally{try{!Hi&&en.return&&en.return()}finally{if(Wi)throw qe}}++Xe,++pe}return ne.join("")},R=function(W){return te(W,function(ne){return T.test(ne)?Y(ne.slice(4).toLowerCase()):ne})},L=function(W){return te(W,function(ne){return I.test(ne)?"xn--"+A(ne):ne})},G={version:"2.1.0",ucs2:{decode:re,encode:K},decode:Y,encode:A,toASCII:L,toUnicode:R},le={};function ce(Z){var W=Z.charCodeAt(0),ne=void 0;return W<16?ne="%0"+W.toString(16).toUpperCase():W<128?ne="%"+W.toString(16).toUpperCase():W<2048?ne="%"+(W>>6|192).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase():ne="%"+(W>>12|224).toString(16).toUpperCase()+"%"+(W>>6&63|128).toString(16).toUpperCase()+"%"+(W&63|128).toString(16).toUpperCase(),ne}function de(Z){for(var W="",ne=0,he=Z.length;ne<he;){var pe=parseInt(Z.substr(ne+1,2),16);if(pe<128)W+=String.fromCharCode(pe),ne+=3;else if(pe>=194&&pe<224){if(he-ne>=6){var Xe=parseInt(Z.substr(ne+4,2),16);W+=String.fromCharCode((pe&31)<<6|Xe&63)}else W+=Z.substr(ne,6);ne+=6}else if(pe>=224){if(he-ne>=9){var Ze=parseInt(Z.substr(ne+4,2),16),Ce=parseInt(Z.substr(ne+7,2),16);W+=String.fromCharCode((pe&15)<<12|(Ze&63)<<6|Ce&63)}else W+=Z.substr(ne,9);ne+=9}else W+=Z.substr(ne,3),ne+=3}return W}function me(Z,W){function ne(he){var pe=de(he);return pe.match(W.UNRESERVED)?pe:he}return Z.scheme&&(Z.scheme=String(Z.scheme).replace(W.PCT_ENCODED,ne).toLowerCase().replace(W.NOT_SCHEME,"")),Z.userinfo!==void 0&&(Z.userinfo=String(Z.userinfo).replace(W.PCT_ENCODED,ne).replace(W.NOT_USERINFO,ce).replace(W.PCT_ENCODED,o)),Z.host!==void 0&&(Z.host=String(Z.host).replace(W.PCT_ENCODED,ne).toLowerCase().replace(W.NOT_HOST,ce).replace(W.PCT_ENCODED,o)),Z.path!==void 0&&(Z.path=String(Z.path).replace(W.PCT_ENCODED,ne).replace(Z.scheme?W.NOT_PATH:W.NOT_PATH_NOSCHEME,ce).replace(W.PCT_ENCODED,o)),Z.query!==void 0&&(Z.query=String(Z.query).replace(W.PCT_ENCODED,ne).replace(W.NOT_QUERY,ce).replace(W.PCT_ENCODED,o)),Z.fragment!==void 0&&(Z.fragment=String(Z.fragment).replace(W.PCT_ENCODED,ne).replace(W.NOT_FRAGMENT,ce).replace(W.PCT_ENCODED,o)),Z}function we(Z){return Z.replace(/^0*(.*)/,"$1")||"0"}function ye(Z,W){var ne=Z.match(W.IPV4ADDRESS)||[],he=d(ne,2),pe=he[1];return pe?pe.split(".").map(we).join("."):Z}function He(Z,W){var ne=Z.match(W.IPV6ADDRESS)||[],he=d(ne,3),pe=he[1],Xe=he[2];if(pe){for(var Ze=pe.toLowerCase().split("::").reverse(),Ce=d(Ze,2),it=Ce[0],Mt=Ce[1],je=Mt?Mt.split(":").map(we):[],Jt=it.split(":").map(we),Zt=W.IPV4ADDRESS.test(Jt[Jt.length-1]),gt=Zt?7:8,On=Jt.length-gt,jn=Array(gt),St=0;St<gt;++St)jn[St]=je[St]||Jt[On+St]||"";Zt&&(jn[gt-1]=ye(jn[gt-1],W));var Er=jn.reduce(function(Hr,Hi,Wi){if(!Hi||Hi==="0"){var qe=Hr[Hr.length-1];qe&&qe.index+qe.length===Wi?qe.length++:Hr.push({index:Wi,length:1})}return Hr},[]),Sr=Er.sort(function(Hr,Hi){return Hi.length-Hr.length})[0],$r=void 0;if(Sr&&Sr.length>1){var ms=jn.slice(0,Sr.index),xi=jn.slice(Sr.index+Sr.length);$r=ms.join(":")+"::"+xi.join(":")}else $r=jn.join(":");return Xe&&($r+="%"+Xe),$r}else return Z}var Ke=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,mt="".match(/(){0}/)[1]===void 0;function De(Z){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne={},he=W.iri!==!1?f:c;W.reference==="suffix"&&(Z=(W.scheme?W.scheme+":":"")+"//"+Z);var pe=Z.match(Ke);if(pe){mt?(ne.scheme=pe[1],ne.userinfo=pe[3],ne.host=pe[4],ne.port=parseInt(pe[5],10),ne.path=pe[6]||"",ne.query=pe[7],ne.fragment=pe[8],isNaN(ne.port)&&(ne.port=pe[5])):(ne.scheme=pe[1]||void 0,ne.userinfo=Z.indexOf("@")!==-1?pe[3]:void 0,ne.host=Z.indexOf("//")!==-1?pe[4]:void 0,ne.port=parseInt(pe[5],10),ne.path=pe[6]||"",ne.query=Z.indexOf("?")!==-1?pe[7]:void 0,ne.fragment=Z.indexOf("#")!==-1?pe[8]:void 0,isNaN(ne.port)&&(ne.port=Z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pe[4]:void 0)),ne.host&&(ne.host=He(ye(ne.host,he),he)),ne.scheme===void 0&&ne.userinfo===void 0&&ne.host===void 0&&ne.port===void 0&&!ne.path&&ne.query===void 0?ne.reference="same-document":ne.scheme===void 0?ne.reference="relative":ne.fragment===void 0?ne.reference="absolute":ne.reference="uri",W.reference&&W.reference!=="suffix"&&W.reference!==ne.reference&&(ne.error=ne.error||"URI is not a "+W.reference+" reference.");var Xe=le[(W.scheme||ne.scheme||"").toLowerCase()];if(!W.unicodeSupport&&(!Xe||!Xe.unicodeSupport)){if(ne.host&&(W.domainHost||Xe&&Xe.domainHost))try{ne.host=G.toASCII(ne.host.replace(he.PCT_ENCODED,de).toLowerCase())}catch(Ze){ne.error=ne.error||"Host's domain name can not be converted to ASCII via punycode: "+Ze}me(ne,c)}else me(ne,he);Xe&&Xe.parse&&Xe.parse(ne,W)}else ne.error=ne.error||"URI can not be parsed.";return ne}function Ie(Z,W){var ne=W.iri!==!1?f:c,he=[];return Z.userinfo!==void 0&&(he.push(Z.userinfo),he.push("@")),Z.host!==void 0&&he.push(He(ye(String(Z.host),ne),ne).replace(ne.IPV6ADDRESS,function(pe,Xe,Ze){return"["+Xe+(Ze?"%25"+Ze:"")+"]"})),(typeof Z.port=="number"||typeof Z.port=="string")&&(he.push(":"),he.push(String(Z.port))),he.length?he.join(""):void 0}var We=/^\.\.?\//,Wt=/^\/\.(\/|$)/,Ut=/^\/\.\.(\/|$)/,ze=/^\/?(?:.|\n)*?(?=\/|$)/;function Fe(Z){for(var W=[];Z.length;)if(Z.match(We))Z=Z.replace(We,"");else if(Z.match(Wt))Z=Z.replace(Wt,"/");else if(Z.match(Ut))Z=Z.replace(Ut,"/"),W.pop();else if(Z==="."||Z==="..")Z="";else{var ne=Z.match(ze);if(ne){var he=ne[0];Z=Z.slice(he.length),W.push(he)}else throw new Error("Unexpected dot segment condition")}return W.join("")}function at(Z){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=W.iri?f:c,he=[],pe=le[(W.scheme||Z.scheme||"").toLowerCase()];if(pe&&pe.serialize&&pe.serialize(Z,W),Z.host&&!ne.IPV6ADDRESS.test(Z.host)){if(W.domainHost||pe&&pe.domainHost)try{Z.host=W.iri?G.toUnicode(Z.host):G.toASCII(Z.host.replace(ne.PCT_ENCODED,de).toLowerCase())}catch(Ce){Z.error=Z.error||"Host's domain name can not be converted to "+(W.iri?"Unicode":"ASCII")+" via punycode: "+Ce}}me(Z,ne),W.reference!=="suffix"&&Z.scheme&&(he.push(Z.scheme),he.push(":"));var Xe=Ie(Z,W);if(Xe!==void 0&&(W.reference!=="suffix"&&he.push("//"),he.push(Xe),Z.path&&Z.path.charAt(0)!=="/"&&he.push("/")),Z.path!==void 0){var Ze=Z.path;!W.absolutePath&&(!pe||!pe.absolutePath)&&(Ze=Fe(Ze)),Xe===void 0&&(Ze=Ze.replace(/^\/\//,"/%2F")),he.push(Ze)}return Z.query!==void 0&&(he.push("?"),he.push(Z.query)),Z.fragment!==void 0&&(he.push("#"),he.push(Z.fragment)),he.join("")}function dt(Z,W){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=arguments[3],pe={};return he||(Z=De(at(Z,ne),ne),W=De(at(W,ne),ne)),ne=ne||{},!ne.tolerant&&W.scheme?(pe.scheme=W.scheme,pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=Fe(W.path||""),pe.query=W.query):(W.userinfo!==void 0||W.host!==void 0||W.port!==void 0?(pe.userinfo=W.userinfo,pe.host=W.host,pe.port=W.port,pe.path=Fe(W.path||""),pe.query=W.query):(W.path?(W.path.charAt(0)==="/"?pe.path=Fe(W.path):((Z.userinfo!==void 0||Z.host!==void 0||Z.port!==void 0)&&!Z.path?pe.path="/"+W.path:Z.path?pe.path=Z.path.slice(0,Z.path.lastIndexOf("/")+1)+W.path:pe.path=W.path,pe.path=Fe(pe.path)),pe.query=W.query):(pe.path=Z.path,W.query!==void 0?pe.query=W.query:pe.query=Z.query),pe.userinfo=Z.userinfo,pe.host=Z.host,pe.port=Z.port),pe.scheme=Z.scheme),pe.fragment=W.fragment,pe}function Ct(Z,W,ne){var he=u({scheme:"null"},ne);return at(dt(De(Z,he),De(W,he),he,!0),he)}function Kt(Z,W){return typeof Z=="string"?Z=at(De(Z,W),W):s(Z)==="object"&&(Z=De(at(Z,W),W)),Z}function ge(Z,W,ne){return typeof Z=="string"?Z=at(De(Z,ne),ne):s(Z)==="object"&&(Z=at(Z,ne)),typeof W=="string"?W=at(De(W,ne),ne):s(W)==="object"&&(W=at(W,ne)),Z===W}function Se(Z,W){return Z&&Z.toString().replace(!W||!W.iri?c.ESCAPE:f.ESCAPE,ce)}function Le(Z,W){return Z&&Z.toString().replace(!W||!W.iri?c.PCT_ENCODED:f.PCT_ENCODED,de)}var Je={scheme:"http",domainHost:!0,parse:function(W,ne){return W.host||(W.error=W.error||"HTTP URIs must have a host."),W},serialize:function(W,ne){var he=String(W.scheme).toLowerCase()==="https";return(W.port===(he?443:80)||W.port==="")&&(W.port=void 0),W.path||(W.path="/"),W}},ct={scheme:"https",domainHost:Je.domainHost,parse:Je.parse,serialize:Je.serialize};function En(Z){return typeof Z.secure=="boolean"?Z.secure:String(Z.scheme).toLowerCase()==="wss"}var Me={scheme:"ws",domainHost:!0,parse:function(W,ne){var he=W;return he.secure=En(he),he.resourceName=(he.path||"/")+(he.query?"?"+he.query:""),he.path=void 0,he.query=void 0,he},serialize:function(W,ne){if((W.port===(En(W)?443:80)||W.port==="")&&(W.port=void 0),typeof W.secure=="boolean"&&(W.scheme=W.secure?"wss":"ws",W.secure=void 0),W.resourceName){var he=W.resourceName.split("?"),pe=d(he,2),Xe=pe[0],Ze=pe[1];W.path=Xe&&Xe!=="/"?Xe:void 0,W.query=Ze,W.resourceName=void 0}return W.fragment=void 0,W}},rt={scheme:"wss",domainHost:Me.domainHost,parse:Me.parse,serialize:Me.serialize},ut={},Gt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",pt="[0-9A-Fa-f]",br=i(i("%[EFef]"+pt+"%"+pt+pt+"%"+pt+pt)+"|"+i("%[89A-Fa-f]"+pt+"%"+pt+pt)+"|"+i("%"+pt+pt)),hn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Hn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hs=r(Hn,'[\\"\\\\]'),Os="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",fi=new RegExp(Gt,"g"),Pn=new RegExp(br,"g"),Ta=new RegExp(r("[^]",hn,"[\\.]",'[\\"]',hs),"g"),Dr=new RegExp(r("[^]",Gt,Os),"g"),wr=Dr;function Nn(Z){var W=de(Z);return W.match(fi)?W:Z}var ln={scheme:"mailto",parse:function(W,ne){var he=W,pe=he.to=he.path?he.path.split(","):[];if(he.path=void 0,he.query){for(var Xe=!1,Ze={},Ce=he.query.split("&"),it=0,Mt=Ce.length;it<Mt;++it){var je=Ce[it].split("=");switch(je[0]){case"to":for(var Jt=je[1].split(","),Zt=0,gt=Jt.length;Zt<gt;++Zt)pe.push(Jt[Zt]);break;case"subject":he.subject=Le(je[1],ne);break;case"body":he.body=Le(je[1],ne);break;default:Xe=!0,Ze[Le(je[0],ne)]=Le(je[1],ne);break}}Xe&&(he.headers=Ze)}he.query=void 0;for(var On=0,jn=pe.length;On<jn;++On){var St=pe[On].split("@");if(St[0]=Le(St[0]),ne.unicodeSupport)St[1]=Le(St[1],ne).toLowerCase();else try{St[1]=G.toASCII(Le(St[1],ne).toLowerCase())}catch(Er){he.error=he.error||"Email address's domain name can not be converted to ASCII via punycode: "+Er}pe[On]=St.join("@")}return he},serialize:function(W,ne){var he=W,pe=a(W.to);if(pe){for(var Xe=0,Ze=pe.length;Xe<Ze;++Xe){var Ce=String(pe[Xe]),it=Ce.lastIndexOf("@"),Mt=Ce.slice(0,it).replace(Pn,Nn).replace(Pn,o).replace(Ta,ce),je=Ce.slice(it+1);try{je=ne.iri?G.toUnicode(je):G.toASCII(Le(je,ne).toLowerCase())}catch(On){he.error=he.error||"Email address's domain name can not be converted to "+(ne.iri?"Unicode":"ASCII")+" via punycode: "+On}pe[Xe]=Mt+"@"+je}he.path=pe.join(",")}var Jt=W.headers=W.headers||{};W.subject&&(Jt.subject=W.subject),W.body&&(Jt.body=W.body);var Zt=[];for(var gt in Jt)Jt[gt]!==ut[gt]&&Zt.push(gt.replace(Pn,Nn).replace(Pn,o).replace(Dr,ce)+"="+Jt[gt].replace(Pn,Nn).replace(Pn,o).replace(wr,ce));return Zt.length&&(he.query=Zt.join("&")),he}},Gn=/^([^\:]+)\:(.*)/,ps={scheme:"urn",parse:function(W,ne){var he=W.path&&W.path.match(Gn),pe=W;if(he){var Xe=ne.scheme||pe.scheme||"urn",Ze=he[1].toLowerCase(),Ce=he[2],it=Xe+":"+(ne.nid||Ze),Mt=le[it];pe.nid=Ze,pe.nss=Ce,pe.path=void 0,Mt&&(pe=Mt.parse(pe,ne))}else pe.error=pe.error||"URN can not be parsed.";return pe},serialize:function(W,ne){var he=ne.scheme||W.scheme||"urn",pe=W.nid,Xe=he+":"+(ne.nid||pe),Ze=le[Xe];Ze&&(W=Ze.serialize(W,ne));var Ce=W,it=W.nss;return Ce.path=(pe||ne.nid)+":"+it,Ce}},Zr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,zr={scheme:"urn:uuid",parse:function(W,ne){var he=W;return he.uuid=he.nss,he.nss=void 0,!ne.tolerant&&(!he.uuid||!he.uuid.match(Zr))&&(he.error=he.error||"UUID is not valid."),he},serialize:function(W,ne){var he=W;return he.nss=(W.uuid||"").toLowerCase(),he}};le[Je.scheme]=Je,le[ct.scheme]=ct,le[Me.scheme]=Me,le[rt.scheme]=rt,le[ln.scheme]=ln,le[ps.scheme]=ps,le[zr.scheme]=zr,n.SCHEMES=le,n.pctEncChar=ce,n.pctDecChars=de,n.parse=De,n.removeDotSegments=Fe,n.serialize=at,n.resolveComponents=dt,n.resolve=Ct,n.normalize=Kt,n.equal=ge,n.escapeComponent=Se,n.unescapeComponent=Le,Object.defineProperty(n,"__esModule",{value:!0})})})(IN,IN.exports);var TLe=IN.exports;Object.defineProperty(L3,"__esModule",{value:!0});const cre=TLe;cre.code='require("ajv/dist/runtime/uri").default';L3.default=cre;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Wa;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Xt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=j_,i=B_,s=vh,o=Ys,a=Xt,u=ki,l=F_,c=yn,f=SLe,d=L3,h=(P,V)=>new RegExp(P,V);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(P){var V,Y,A,R,L,G,le,ce,de,me,we,ye,He,Ke,mt,De,Ie,We,Wt,Ut,ze,Fe,at,dt,Ct;const Kt=P.strict,ge=(V=P.code)===null||V===void 0?void 0:V.optimize,Se=ge===!0||ge===void 0?1:ge||0,Le=(A=(Y=P.code)===null||Y===void 0?void 0:Y.regExp)!==null&&A!==void 0?A:h,Je=(R=P.uriResolver)!==null&&R!==void 0?R:d.default;return{strictSchema:(G=(L=P.strictSchema)!==null&&L!==void 0?L:Kt)!==null&&G!==void 0?G:!0,strictNumbers:(ce=(le=P.strictNumbers)!==null&&le!==void 0?le:Kt)!==null&&ce!==void 0?ce:!0,strictTypes:(me=(de=P.strictTypes)!==null&&de!==void 0?de:Kt)!==null&&me!==void 0?me:"log",strictTuples:(ye=(we=P.strictTuples)!==null&&we!==void 0?we:Kt)!==null&&ye!==void 0?ye:"log",strictRequired:(Ke=(He=P.strictRequired)!==null&&He!==void 0?He:Kt)!==null&&Ke!==void 0?Ke:!1,code:P.code?{...P.code,optimize:Se,regExp:Le}:{optimize:Se,regExp:Le},loopRequired:(mt=P.loopRequired)!==null&&mt!==void 0?mt:v,loopEnum:(De=P.loopEnum)!==null&&De!==void 0?De:v,meta:(Ie=P.meta)!==null&&Ie!==void 0?Ie:!0,messages:(We=P.messages)!==null&&We!==void 0?We:!0,inlineRefs:(Wt=P.inlineRefs)!==null&&Wt!==void 0?Wt:!0,schemaId:(Ut=P.schemaId)!==null&&Ut!==void 0?Ut:"$id",addUsedSchema:(ze=P.addUsedSchema)!==null&&ze!==void 0?ze:!0,validateSchema:(Fe=P.validateSchema)!==null&&Fe!==void 0?Fe:!0,validateFormats:(at=P.validateFormats)!==null&&at!==void 0?at:!0,unicodeRegExp:(dt=P.unicodeRegExp)!==null&&dt!==void 0?dt:!0,int32range:(Ct=P.int32range)!==null&&Ct!==void 0?Ct:!0,uriResolver:Je}}class S{constructor(V={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,V=this.opts={...V,..._(V)};const{es5:Y,lines:A}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:Y,lines:A}),this.logger=O(V.logger);const R=V.validateFormats;V.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,y,V,"NOT SUPPORTED"),x.call(this,g,V,"DEPRECATED","warn"),this._metaOpts=$.call(this),V.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),V.keywords&&D.call(this,V.keywords),typeof V.meta=="object"&&this.addMetaSchema(V.meta),T.call(this),V.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:V,meta:Y,schemaId:A}=this.opts;let R=f;A==="id"&&(R={...f},R.id=R.$id,delete R.$id),Y&&V&&this.addMetaSchema(R,R[A],!1)}defaultMeta(){const{meta:V,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof V=="object"?V[Y]||V:void 0}validate(V,Y){let A;if(typeof V=="string"){if(A=this.getSchema(V),!A)throw new Error(`no schema with key or ref "${V}"`)}else A=this.compile(V);const R=A(Y);return"$async"in A||(this.errors=A.errors),R}compile(V,Y){const A=this._addSchema(V,Y);return A.validate||this._compileSchemaEnv(A)}compileAsync(V,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return R.call(this,V,Y);async function R(me,we){await L.call(this,me.$schema);const ye=this._addSchema(me,we);return ye.validate||G.call(this,ye)}async function L(me){me&&!this.getSchema(me)&&await R.call(this,{$ref:me},!0)}async function G(me){try{return this._compileSchemaEnv(me)}catch(we){if(!(we instanceof i.default))throw we;return le.call(this,we),await ce.call(this,we.missingSchema),G.call(this,me)}}function le({missingSchema:me,missingRef:we}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${we} cannot be resolved`)}async function ce(me){const we=await de.call(this,me);this.refs[me]||await L.call(this,we.$schema),this.refs[me]||this.addSchema(we,me,Y)}async function de(me){const we=this._loading[me];if(we)return we;try{return await(this._loading[me]=A(me))}finally{delete this._loading[me]}}}addSchema(V,Y,A,R=this.opts.validateSchema){if(Array.isArray(V)){for(const G of V)this.addSchema(G,void 0,A,R);return this}let L;if(typeof V=="object"){const{schemaId:G}=this.opts;if(L=V[G],L!==void 0&&typeof L!="string")throw new Error(`schema ${G} must be string`)}return Y=(0,u.normalizeId)(Y||L),this._checkUnique(Y),this.schemas[Y]=this._addSchema(V,A,Y,R,!0),this}addMetaSchema(V,Y,A=this.opts.validateSchema){return this.addSchema(V,Y,!0,A),this}validateSchema(V,Y){if(typeof V=="boolean")return!0;let A;if(A=V.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(A,V);if(!R&&Y){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return R}getSchema(V){let Y;for(;typeof(Y=b.call(this,V))=="string";)V=Y;if(Y===void 0){const{schemaId:A}=this.opts,R=new o.SchemaEnv({schema:{},schemaId:A});if(Y=o.resolveSchema.call(this,R,V),!Y)return;this.refs[V]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(V){if(V instanceof RegExp)return this._removeAllSchemas(this.schemas,V),this._removeAllSchemas(this.refs,V),this;switch(typeof V){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=b.call(this,V);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[V],delete this.refs[V],this}case"object":{const Y=V;this._cache.delete(Y);let A=V[this.opts.schemaId];return A&&(A=(0,u.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(V){for(const Y of V)this.addKeyword(Y);return this}addKeyword(V,Y){let A;if(typeof V=="string")A=V,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=A);else if(typeof V=="object"&&Y===void 0){if(Y=V,A=Y.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(k.call(this,A,Y),!Y)return(0,c.eachItem)(A,L=>ee.call(this,L)),this;re.call(this,Y);const R={...Y,type:(0,l.getJSONTypes)(Y.type),schemaType:(0,l.getJSONTypes)(Y.schemaType)};return(0,c.eachItem)(A,R.type.length===0?L=>ee.call(this,L,R):L=>R.type.forEach(G=>ee.call(this,L,R,G))),this}getKeyword(V){const Y=this.RULES.all[V];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(V){const{RULES:Y}=this;delete Y.keywords[V],delete Y.all[V];for(const A of Y.rules){const R=A.rules.findIndex(L=>L.keyword===V);R>=0&&A.rules.splice(R,1)}return this}addFormat(V,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[V]=Y,this}errorsText(V=this.errors,{separator:Y=", ",dataVar:A="data"}={}){return!V||V.length===0?"No errors":V.map(R=>`${A}${R.instancePath} ${R.message}`).reduce((R,L)=>R+Y+L)}$dataMetaSchema(V,Y){const A=this.RULES.all;V=JSON.parse(JSON.stringify(V));for(const R of Y){const L=R.split("/").slice(1);let G=V;for(const le of L)G=G[le];for(const le in A){const ce=A[le];if(typeof ce!="object")continue;const{$data:de}=ce.definition,me=G[le];de&&me&&(G[le]=ie(me))}}return V}_removeAllSchemas(V,Y){for(const A in V){const R=V[A];(!Y||Y.test(A))&&(typeof R=="string"?delete V[A]:R&&!R.meta&&(this._cache.delete(R.schema),delete V[A]))}}_addSchema(V,Y,A,R=this.opts.validateSchema,L=this.opts.addUsedSchema){let G;const{schemaId:le}=this.opts;if(typeof V=="object")G=V[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof V!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(V);if(ce!==void 0)return ce;A=(0,u.normalizeId)(G||A);const de=u.getSchemaRefs.call(this,V,A);return ce=new o.SchemaEnv({schema:V,schemaId:le,meta:Y,baseId:A,localRefs:de}),this._cache.set(ce.schema,ce),L&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=ce),R&&this.validateSchema(V,!0),ce}_checkUnique(V){if(this.schemas[V]||this.refs[V])throw new Error(`schema with key or id "${V}" already exists`)}_compileSchemaEnv(V){if(V.meta?this._compileMetaSchema(V):o.compileSchema.call(this,V),!V.validate)throw new Error("ajv implementation error");return V.validate}_compileMetaSchema(V){const Y=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,V)}finally{this.opts=Y}}}e.default=S,S.ValidationError=r.default,S.MissingRefError=i.default;function x(P,V,Y,A="error"){for(const R in P){const L=R;L in V&&this.logger[A](`${Y}: option ${R}. ${P[L]}`)}}function b(P){return P=(0,u.normalizeId)(P),this.schemas[P]||this.refs[P]}function T(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const V in P)this.addSchema(P[V],V)}function I(){for(const P in this.opts.formats){const V=this.opts.formats[P];V&&this.addFormat(P,V)}}function D(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const V in P){const Y=P[V];Y.keyword||(Y.keyword=V),this.addKeyword(Y)}}function $(){const P={...this.opts};for(const V of p)delete P[V];return P}const B={log(){},warn(){},error(){}};function O(P){if(P===!1)return B;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const M=/^[a-z_$][a-z0-9_$:-]*$/i;function k(P,V){const{RULES:Y}=this;if((0,c.eachItem)(P,A=>{if(Y.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!M.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!V&&V.$data&&!("code"in V||"validate"in V))throw new Error('$data keyword must have "code" or "validate" function')}function ee(P,V,Y){var A;const R=V==null?void 0:V.post;if(Y&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let G=R?L.post:L.rules.find(({type:ce})=>ce===Y);if(G||(G={type:Y,rules:[]},L.rules.push(G)),L.keywords[P]=!0,!V)return;const le={keyword:P,definition:{...V,type:(0,l.getJSONTypes)(V.type),schemaType:(0,l.getJSONTypes)(V.schemaType)}};V.before?te.call(this,G,le,V.before):G.rules.push(le),L.all[P]=le,(A=V.implements)===null||A===void 0||A.forEach(ce=>this.addKeyword(ce))}function te(P,V,Y){const A=P.rules.findIndex(R=>R.keyword===Y);A>=0?P.rules.splice(A,0,V):(P.rules.push(V),this.logger.warn(`rule ${Y} is not defined`))}function re(P){let{metaSchema:V}=P;V!==void 0&&(P.$data&&this.opts.$data&&(V=ie(V)),P.validateSchema=this.compile(V,!0))}const K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(P){return{anyOf:[P,K]}}})(Bne);var M3={},F3={},j3={};Object.defineProperty(j3,"__esModule",{value:!0});const xLe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};j3.default=xLe;var _h={};Object.defineProperty(_h,"__esModule",{value:!0});_h.callRef=_h.getValidate=void 0;const ILe=B_,hV=Qt,js=Xt,fp=bl,pV=Ys,yb=yn,CLe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=pV.resolveRef.call(u,l,i,n);if(c===void 0)throw new ILe.default(r.opts.uriResolver,i,n);if(c instanceof pV.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Ow(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Ow(e,(0,js._)`${p}.validate`,l,l.$async)}function d(p){const m=fre(e,p);Ow(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,js.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:js.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function fre(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,js._)`${n.scopeValue("wrapper",{ref:t})}.validate`}_h.getValidate=fre;function Ow(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?fp.default.this:js.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,js._)`await ${(0,hV.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,js._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,hV.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,js._)`${p}.errors`;i.assign(fp.default.vErrors,(0,js._)`${fp.default.vErrors} === null ? ${m} : ${fp.default.vErrors}.concat(${m})`),i.assign(fp.default.errors,(0,js._)`${fp.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=yb.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,js._)`${p}.evaluated.props`);s.props=yb.mergeEvaluated.props(i,g,s.props,js.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=yb.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,js._)`${p}.evaluated.items`);s.items=yb.mergeEvaluated.items(i,g,s.items,js.Name)}}}_h.callRef=Ow;_h.default=CLe;Object.defineProperty(F3,"__esModule",{value:!0});const ALe=j3,PLe=_h,OLe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ALe.default,PLe.default];F3.default=OLe;var B3={},U3={};Object.defineProperty(U3,"__esModule",{value:!0});const PT=Xt,Dc=PT.operators,OT={maximum:{okStr:"<=",ok:Dc.LTE,fail:Dc.GT},minimum:{okStr:">=",ok:Dc.GTE,fail:Dc.LT},exclusiveMaximum:{okStr:"<",ok:Dc.LT,fail:Dc.GTE},exclusiveMinimum:{okStr:">",ok:Dc.GT,fail:Dc.LTE}},RLe={message:({keyword:e,schemaCode:t})=>(0,PT.str)`must be ${OT[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,PT._)`{comparison: ${OT[e].okStr}, limit: ${t}}`},NLe={keyword:Object.keys(OT),type:"number",schemaType:"number",$data:!0,error:RLe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,PT._)`${n} ${OT[t].fail} ${r} || isNaN(${n})`)}};U3.default=NLe;var V3={};Object.defineProperty(V3,"__esModule",{value:!0});const Py=Xt,kLe={message:({schemaCode:e})=>(0,Py.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Py._)`{multipleOf: ${e}}`},DLe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:kLe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Py._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Py._)`${o} !== parseInt(${o})`;e.fail$data((0,Py._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};V3.default=DLe;var z3={},H3={};Object.defineProperty(H3,"__esModule",{value:!0});function dre(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}H3.default=dre;dre.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(z3,"__esModule",{value:!0});const Od=Xt,$Le=yn,LLe=H3,MLe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Od.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Od._)`{limit: ${e}}`},FLe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:MLe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Od.operators.GT:Od.operators.LT,o=i.opts.unicode===!1?(0,Od._)`${n}.length`:(0,Od._)`${(0,$Le.useFunc)(e.gen,LLe.default)}(${n})`;e.fail$data((0,Od._)`${o} ${s} ${r}`)}};z3.default=FLe;var W3={};Object.defineProperty(W3,"__esModule",{value:!0});const jLe=Qt,RT=Xt,BLe={message:({schemaCode:e})=>(0,RT.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,RT._)`{pattern: ${e}}`},ULe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:BLe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,RT._)`(new RegExp(${i}, ${o}))`:(0,jLe.usePattern)(e,r);e.fail$data((0,RT._)`!${a}.test(${t})`)}};W3.default=ULe;var q3={};Object.defineProperty(q3,"__esModule",{value:!0});const Oy=Xt,VLe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Oy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Oy._)`{limit: ${e}}`},zLe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:VLe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Oy.operators.GT:Oy.operators.LT;e.fail$data((0,Oy._)`Object.keys(${n}).length ${i} ${r}`)}};q3.default=zLe;var G3={};Object.defineProperty(G3,"__esModule",{value:!0});const x0=Qt,Ry=Xt,HLe=yn,WLe={message:({params:{missingProperty:e}})=>(0,Ry.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ry._)`{missingProperty: ${e}}`},qLe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:WLe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,HLe.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Ry.nil,f);else for(const h of n)(0,x0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,x0.checkMissingProp)(e,n,h)),(0,x0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,x0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,x0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Ry.not)(p),()=>{e.error(),t.break()})},Ry.nil)}}};G3.default=qLe;var Y3={};Object.defineProperty(Y3,"__esModule",{value:!0});const Ny=Xt,GLe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Ny.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Ny._)`{limit: ${e}}`},YLe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:GLe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Ny.operators.GT:Ny.operators.LT;e.fail$data((0,Ny._)`${n}.length ${i} ${r}`)}};Y3.default=YLe;var K3={},U_={};Object.defineProperty(U_,"__esModule",{value:!0});const hre=N3;hre.code='require("ajv/dist/runtime/equal").default';U_.default=hre;Object.defineProperty(K3,"__esModule",{value:!0});const mO=F_,Ai=Xt,KLe=yn,QLe=U_,XLe={message:({params:{i:e,j:t}})=>(0,Ai.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ai._)`{i: ${e}, j: ${t}}`},JLe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:XLe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,mO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ai._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ai._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,Ai._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,mO.checkDataTypes)(l,y,a.opts.strictNumbers,mO.DataType.Wrong),v=t.const("indices",(0,Ai._)`{}`);t.for((0,Ai._)`;${p}--;`,()=>{t.let(y,(0,Ai._)`${n}[${p}]`),t.if(g,(0,Ai._)`continue`),l.length>1&&t.if((0,Ai._)`typeof ${y} == "string"`,(0,Ai._)`${y} += "_"`),t.if((0,Ai._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(m,(0,Ai._)`${v}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ai._)`${v}[${y}] = ${p}`)})}function h(p,m){const y=(0,KLe.useFunc)(t,QLe.default),g=t.name("outer");t.label(g).for((0,Ai._)`;${p}--;`,()=>t.for((0,Ai._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Ai._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};K3.default=JLe;var Q3={};Object.defineProperty(Q3,"__esModule",{value:!0});const CN=Xt,ZLe=yn,eMe=U_,tMe={message:"must be equal to constant",params:({schemaCode:e})=>(0,CN._)`{allowedValue: ${e}}`},nMe={keyword:"const",$data:!0,error:tMe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,CN._)`!${(0,ZLe.useFunc)(t,eMe.default)}(${n}, ${i})`):e.fail((0,CN._)`${s} !== ${n}`)}};Q3.default=nMe;var X3={};Object.defineProperty(X3,"__esModule",{value:!0});const X0=Xt,rMe=yn,iMe=U_,sMe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,X0._)`{allowedValues: ${e}}`},oMe={keyword:"enum",schemaType:"array",$data:!0,error:sMe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,rMe.useFunc)(t,iMe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,X0.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,X0._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,X0._)`${l()}(${n}, ${h}[${p}])`:(0,X0._)`${n} === ${m}`}}};X3.default=oMe;Object.defineProperty(B3,"__esModule",{value:!0});const aMe=U3,uMe=V3,lMe=z3,cMe=W3,fMe=q3,dMe=G3,hMe=Y3,pMe=K3,mMe=Q3,gMe=X3,yMe=[aMe.default,uMe.default,lMe.default,cMe.default,fMe.default,dMe.default,hMe.default,pMe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},mMe.default,gMe.default];B3.default=yMe;var J3={},Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.validateAdditionalItems=void 0;const Rd=Xt,AN=yn,vMe={message:({params:{len:e}})=>(0,Rd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Rd._)`{limit: ${e}}`},_Me={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:vMe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,AN.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}pre(e,r)}};function pre(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Rd._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Rd._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,AN.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Rd._)`${a} <= ${t.length}`);n.if((0,Rd.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:AN.Type.Num},l),o.allErrors||n.if((0,Rd.not)(l),()=>n.break())})}}Cg.validateAdditionalItems=pre;Cg.default=_Me;var Z3={},Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.validateTuple=void 0;const mV=Xt,Rw=yn,bMe=Qt,wMe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return mre(e,"additionalItems",t);n.items=!0,!(0,Rw.alwaysValidSchema)(n,t)&&e.ok((0,bMe.validateArray)(e))}};function mre(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Rw.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,mV._)`${s}.length`);n.forEach((f,d)=>{(0,Rw.alwaysValidSchema)(a,f)||(r.if((0,mV._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Rw.checkStrictMode)(a,y,d.strictTuples)}}}Ag.validateTuple=mre;Ag.default=wMe;Object.defineProperty(Z3,"__esModule",{value:!0});const EMe=Ag,SMe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,EMe.validateTuple)(e,"items")};Z3.default=SMe;var e6={};Object.defineProperty(e6,"__esModule",{value:!0});const gV=Xt,TMe=yn,xMe=Qt,IMe=Cg,CMe={message:({params:{len:e}})=>(0,gV.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,gV._)`{limit: ${e}}`},AMe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:CMe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,TMe.alwaysValidSchema)(r,t)&&(i?(0,IMe.validateAdditionalItems)(e,i):e.ok((0,xMe.validateArray)(e)))}};e6.default=AMe;var t6={};Object.defineProperty(t6,"__esModule",{value:!0});const Qo=Xt,vb=yn,PMe={message:({params:{min:e,max:t}})=>t===void 0?(0,Qo.str)`must contain at least ${e} valid item(s)`:(0,Qo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Qo._)`{minContains: ${e}}`:(0,Qo._)`{minContains: ${e}, maxContains: ${t}}`},OMe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:PMe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Qo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,vb.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,vb.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,vb.alwaysValidSchema)(s,n)){let m=(0,Qo._)`${c} >= ${o}`;a!==void 0&&(m=(0,Qo._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Qo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:vb.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,Qo._)`${m}++`),a===void 0?t.if((0,Qo._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Qo._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Qo._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};t6.default=OMe;var gre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Xt,n=yn,r=Qt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(gre);var n6={};Object.defineProperty(n6,"__esModule",{value:!0});const yre=Xt,RMe=yn,NMe={message:"property name must be valid",params:({params:e})=>(0,yre._)`{propertyName: ${e.propertyName}}`},kMe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:NMe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,RMe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,yre.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};n6.default=kMe;var mC={};Object.defineProperty(mC,"__esModule",{value:!0});const _b=Qt,Ca=Xt,DMe=bl,bb=yn,$Me={message:"must NOT have additional properties",params:({params:e})=>(0,Ca._)`{additionalProperty: ${e.additionalProperty}}`},LMe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:$Me,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,bb.alwaysValidSchema)(o,n))return;const l=(0,_b.allSchemaProperties)(r.properties),c=(0,_b.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Ca._)`${s} === ${DMe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const v=(0,bb.schemaRefOrVal)(o,r.properties,"properties");g=(0,_b.isOwnProperty)(t,v,y)}else l.length?g=(0,Ca.or)(...l.map(v=>(0,Ca._)`${y} === ${v}`)):g=Ca.nil;return c.length&&(g=(0,Ca.or)(g,...c.map(v=>(0,Ca._)`${(0,_b.usePattern)(e,v)}.test(${y})`))),(0,Ca.not)(g)}function h(y){t.code((0,Ca._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,bb.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,Ca.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,Ca.not)(g),()=>t.break()))}}function m(y,g,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:bb.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,g)}}};mC.default=LMe;var r6={};Object.defineProperty(r6,"__esModule",{value:!0});const MMe=Wa,yV=Qt,gO=yn,vV=mC,FMe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&vV.default.code(new MMe.KeywordCxt(s,vV.default,"additionalProperties"));const o=(0,yV.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=gO.mergeEvaluated.props(t,(0,gO.toHash)(o),s.props));const a=o.filter(f=>!(0,gO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,yV.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};r6.default=FMe;var i6={};Object.defineProperty(i6,"__esModule",{value:!0});const _V=Qt,wb=Xt,bV=yn,wV=yn,jMe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,_V.allSchemaProperties)(n),u=a.filter(m=>(0,bV.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof wb.Name)&&(s.props=(0,wV.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,bV.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,wb._)`${(0,_V.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:wV.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,wb._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,wb.not)(c),()=>t.break())})})}}};i6.default=jMe;var s6={};Object.defineProperty(s6,"__esModule",{value:!0});const BMe=yn,UMe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,BMe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};s6.default=UMe;var o6={};Object.defineProperty(o6,"__esModule",{value:!0});const VMe=Qt,zMe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:VMe.validateUnion,error:{message:"must match a schema in anyOf"}};o6.default=zMe;var a6={};Object.defineProperty(a6,"__esModule",{value:!0});const Nw=Xt,HMe=yn,WMe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Nw._)`{passingSchemas: ${e.passing}}`},qMe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:WMe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,HMe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Nw._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Nw._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Nw.Name)})})}}};a6.default=qMe;var u6={};Object.defineProperty(u6,"__esModule",{value:!0});const GMe=yn,YMe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,GMe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};u6.default=YMe;var l6={};Object.defineProperty(l6,"__esModule",{value:!0});const NT=Xt,vre=yn,KMe={message:({params:e})=>(0,NT.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,NT._)`{failingKeyword: ${e.ifClause}}`},QMe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:KMe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,vre.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=EV(r,"then"),s=EV(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,NT.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,NT._)`${c}`):e.setParams({ifClause:c})}}}};function EV(e,t){const n=e.schema[t];return n!==void 0&&!(0,vre.alwaysValidSchema)(e,n)}l6.default=QMe;var c6={};Object.defineProperty(c6,"__esModule",{value:!0});const XMe=yn,JMe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,XMe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};c6.default=JMe;Object.defineProperty(J3,"__esModule",{value:!0});const ZMe=Cg,e4e=Z3,t4e=Ag,n4e=e6,r4e=t6,i4e=gre,s4e=n6,o4e=mC,a4e=r6,u4e=i6,l4e=s6,c4e=o6,f4e=a6,d4e=u6,h4e=l6,p4e=c6;function m4e(e=!1){const t=[l4e.default,c4e.default,f4e.default,d4e.default,h4e.default,p4e.default,s4e.default,o4e.default,i4e.default,a4e.default,u4e.default];return e?t.push(e4e.default,n4e.default):t.push(ZMe.default,t4e.default),t.push(r4e.default),t}J3.default=m4e;var f6={},d6={};Object.defineProperty(d6,"__esModule",{value:!0});const Mr=Xt,g4e={message:({schemaCode:e})=>(0,Mr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Mr._)`{format: ${e}}`},y4e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:g4e,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Mr._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,Mr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,Mr._)`${m}.type || "string"`).assign(g,(0,Mr._)`${m}.validate`),()=>n.assign(y,(0,Mr._)`"string"`).assign(g,m)),e.fail$data((0,Mr.or)(v(),_()));function v(){return u.strictSchema===!1?Mr.nil:(0,Mr._)`${o} && !${g}`}function _(){const S=c.$async?(0,Mr._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,Mr._)`${g}(${r})`,x=(0,Mr._)`(typeof ${g} == "function" ? ${S} : ${g}.test(${r}))`;return(0,Mr._)`${g} && ${g} !== true && ${y} === ${t} && !${x}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[m,y,g]=_(p);m===t&&e.pass(S());function v(){if(u.strictSchema===!1){f.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _(x){const b=x instanceof RegExp?(0,Mr.regexpCode)(x):u.code.formats?(0,Mr._)`${u.code.formats}${(0,Mr.getProperty)(s)}`:void 0,T=n.scopeValue("formats",{key:s,ref:x,code:b});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Mr._)`${T}.validate`]:["string",x,T]}function S(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Mr._)`await ${g}(${r})`}return typeof y=="function"?(0,Mr._)`${g}(${r})`:(0,Mr._)`${g}.test(${r})`}}}};d6.default=y4e;Object.defineProperty(f6,"__esModule",{value:!0});const v4e=d6,_4e=[v4e.default];f6.default=_4e;var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.contentVocabulary=qm.metadataVocabulary=void 0;qm.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];qm.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(M3,"__esModule",{value:!0});const b4e=F3,w4e=B3,E4e=J3,S4e=f6,SV=qm,T4e=[b4e.default,w4e.default,(0,E4e.default)(),S4e.default,SV.metadataVocabulary,SV.contentVocabulary];M3.default=T4e;var h6={},_re={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(_re);Object.defineProperty(h6,"__esModule",{value:!0});const wp=Xt,PN=_re,TV=Ys,x4e=yn,I4e={message:({params:{discrError:e,tagName:t}})=>e===PN.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,wp._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},C4e={keyword:"discriminator",type:"object",schemaType:"object",error:I4e,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,wp._)`${n}${(0,wp.getProperty)(a)}`);t.if((0,wp._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:PN.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,wp._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:PN.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,wp.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let S=0;S<o.length;S++){let x=o[S];x!=null&&x.$ref&&!(0,x4e.schemaHasRulesButRef)(x,s.self.RULES)&&(x=TV.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x==null?void 0:x.$ref),x instanceof TV.SchemaEnv&&(x=x.schema));const b=(h=x==null?void 0:x.properties)===null||h===void 0?void 0:h[a];if(typeof b!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(x)),v(b,S)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:S}){return Array.isArray(S)&&S.includes(a)}function v(S,x){if(S.const)_(S.const,x);else if(S.enum)for(const b of S.enum)_(b,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(S,x){if(typeof S!="string"||S in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[S]=x}}}};h6.default=C4e;const A4e="http://json-schema.org/draft-07/schema#",P4e="http://json-schema.org/draft-07/schema#",O4e="Core schema meta-schema",R4e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},N4e=["object","boolean"],k4e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},D4e={$schema:A4e,$id:P4e,title:O4e,definitions:R4e,type:N4e,properties:k4e,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Bne,r=M3,i=h6,s=D4e,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Wa;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Xt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=j_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=B_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(SN,SN.exports);var $4e=SN.exports;const bre=ma($4e),L4e="#/definitions/StudyConfig",M4e="http://json-schema.org/draft-07/schema#",F4e={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},tasksToNotRecordAudio:{items:{type:"string"},type:"array"},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},j4e={$ref:L4e,$schema:M4e,definitions:F4e},B4e="#/definitions/GlobalConfig",U4e="http://json-schema.org/draft-07/schema#",V4e={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},z4e={$ref:B4e,$schema:U4e,definitions:V4e},wre=new bre;wre.addSchema(z4e);const xV=wre.getSchema("#/definitions/GlobalConfig"),Ere=new bre;Ere.addSchema(j4e);const IV=Ere.getSchema("#/definitions/StudyConfig");function H4e(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function gC(e){return e.baseComponent!==void 0}function W4e(e){const t=A3.parse(e),n=xV(t),r=H4e(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...xV.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function q4e(e){const t=[];return[Object.values(e.components).every(r=>{var i;return gC(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Sre(e,t){const n=A3.parse(e),r=IV(n),i=q4e(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...IV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ma(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Df(e){return!!e&&!!e[hr]}function rc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===t5e}(e)||Array.isArray(e)||!!e[kV]||!!(!((t=e.constructor)===null||t===void 0)&&t[kV])||p6(e)||m6(e))}function bh(e,t,n){n===void 0&&(n=!1),Pg(e)===0?(n?Object.keys:dm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Pg(e){var t=e[hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p6(e)?2:m6(e)?3:0}function fm(e,t){return Pg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function G4e(e,t){return Pg(e)===2?e.get(t):e[t]}function Tre(e,t,n){var r=Pg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function xre(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function p6(e){return Z4e&&e instanceof Map}function m6(e){return e5e&&e instanceof Set}function wd(e){return e.o||e.t}function g6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Cre(e);delete t[hr];for(var n=dm(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y6(e,t){return t===void 0&&(t=!1),v6(e)||Df(e)||!rc(e)||(Pg(e)>1&&(e.set=e.add=e.clear=e.delete=Y4e),Object.freeze(e),t&&bh(e,function(n,r){return y6(r,!0)},!0)),e}function Y4e(){Ma(2)}function v6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ku(e){var t=kN[e];return t||Ma(18,e),t}function K4e(e,t){kN[e]||(kN[e]=t)}function ON(){return xv}function yO(e,t){t&&(Ku("Patches"),e.u=[],e.s=[],e.v=t)}function kT(e){RN(e),e.p.forEach(Q4e),e.p=null}function RN(e){e===xv&&(xv=e.l)}function CV(e){return xv={p:[],l:xv,h:e,m:!0,_:0}}function Q4e(e){var t=e[hr];t.i===0||t.i===1?t.j():t.g=!0}function vO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ku("ES5").S(t,e,r),r?(n[hr].P&&(kT(t),Ma(4)),rc(e)&&(e=DT(t,e),t.l||$T(t,e)),t.u&&Ku("Patches").M(n[hr].t,e,t.u,t.s)):e=DT(t,n,[]),kT(t),t.u&&t.v(t.u,t.s),e!==Ire?e:void 0}function DT(e,t,n){if(v6(t))return t;var r=t[hr];if(!r)return bh(t,function(a,u){return AV(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return $T(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=g6(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),bh(s,function(a,u){return AV(e,r,i,a,u,n,o)}),$T(e,i,!1),n&&e.u&&Ku("Patches").N(r,n,e.u,e.s)}return r.o}function AV(e,t,n,r,i,s,o){if(Df(i)){var a=DT(e,i,s&&t&&t.i!==3&&!fm(t.R,r)?s.concat(r):void 0);if(Tre(n,r,a),!Df(a))return;e.m=!1}else o&&n.add(i);if(rc(i)&&!v6(i)){if(!e.h.D&&e._<1)return;DT(e,i),t&&t.A.l||$T(e,i)}}function $T(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&y6(t,n)}function _O(e,t){var n=e[hr];return(n?wd(n):e)[t]}function PV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xc(e){e.P||(e.P=!0,e.l&&Xc(e.l))}function bO(e){e.o||(e.o=g6(e.t))}function NN(e,t,n){var r=p6(t)?Ku("MapSet").F(t,n):m6(t)?Ku("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:ON(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Iv;o&&(u=[a],l=J0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ku("ES5").J(t,n);return(n?n.A:ON()).p.push(r),r}function X4e(e){return Df(e)||Ma(22,e),function t(n){if(!rc(n))return n;var r,i=n[hr],s=Pg(n);if(i){if(!i.P&&(i.i<4||!Ku("ES5").K(i)))return i.t;i.I=!0,r=OV(n,s),i.I=!1}else r=OV(n,s);return bh(r,function(o,a){i&&G4e(i.t,o)===a||Tre(r,o,t(a))}),s===3?new Set(r):r}(e)}function OV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g6(e)}function J4e(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[hr];return Iv.get(u,s)},set:function(u){var l=this[hr];Iv.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][hr];if(!a.P)switch(a.i){case 5:r(a)&&Xc(a);break;case 4:n(a)&&Xc(a)}}}function n(s){for(var o=s.t,a=s.k,u=dm(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==hr){var f=o[c];if(f===void 0&&!fm(o,c))return!0;var d=a[c],h=d&&d[hr];if(h?h.t!==f:!xre(d,f))return!0}}var p=!!o[hr];return u.length!==dm(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};K4e("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Cre(f);delete p[hr];for(var m=dm(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:ON(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,hr,{value:l,writable:!0}),u},S:function(s,o,a){a?Df(o)&&o[hr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[hr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)bh(d,function(_){_!==hr&&(f[_]!==void 0||fm(f,_)?h[_]||u(d[_]):(h[_]=!0,Xc(c)))}),bh(f,function(_){d[_]!==void 0||fm(d,_)||(h[_]=!1,Xc(c))});else if(p===5){if(r(c)&&(Xc(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),v=0;v<g;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var RV,xv,_6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Z4e=typeof Map<"u",e5e=typeof Set<"u",NV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ire=_6?Symbol.for("immer-nothing"):((RV={})["immer-nothing"]=!0,RV),kV=_6?Symbol.for("immer-draftable"):"__$immer_draftable",hr=_6?Symbol.for("immer-state"):"__$immer_state",t5e=""+Object.prototype.constructor,dm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Cre=Object.getOwnPropertyDescriptors||function(e){var t={};return dm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},kN={},Iv={get:function(e,t){if(t===hr)return e;var n=wd(e);if(!fm(n,t))return function(i,s,o){var a,u=PV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!rc(r)?r:r===_O(e.t,t)?(bO(e),e.o[t]=NN(e.A.h,r,e)):r},has:function(e,t){return t in wd(e)},ownKeys:function(e){return Reflect.ownKeys(wd(e))},set:function(e,t,n){var r=PV(wd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=_O(wd(e),t),s=i==null?void 0:i[hr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(xre(n,i)&&(n!==void 0||fm(e.t,t)))return!0;bO(e),Xc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return _O(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,bO(e),Xc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=wd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ma(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ma(12)}},J0={};bh(Iv,function(e,t){J0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),J0.deleteProperty=function(e,t){return J0.set.call(this,e,t,void 0)},J0.set=function(e,t,n){return Iv.set.call(this,e[0],t,n,e[0])};var n5e=function(){function e(n){var r=this;this.O=NV,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return u.produce(m,function(S){var x;return(x=s).call.apply(x,[y,S].concat(v))})}}var l;if(typeof s!="function"&&Ma(6),o!==void 0&&typeof o!="function"&&Ma(7),rc(i)){var c=CV(r),f=NN(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?kT(c):RN(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return yO(c,o),vO(m,c)},function(m){throw kT(c),m}):(yO(c,o),vO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===Ire&&(l=void 0),r.D&&y6(l,!0),o){var h=[],p=[];Ku("Patches").M(i,l,h,p),o(h,p)}return l}Ma(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){rc(n)||Ma(8),Df(n)&&(n=X4e(n));var r=CV(this),i=NN(this,n,void 0);return i[hr].C=!0,RN(r),i},t.finishDraft=function(n,r){var i=n&&n[hr],s=i.A;return yO(s,r),vO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!NV&&Ma(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ku("Patches").$;return Df(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),ko=new n5e,Are=ko.produce;ko.produceWithPatches.bind(ko);ko.setAutoFreeze.bind(ko);ko.setUseProxies.bind(ko);ko.applyPatches.bind(ko);ko.createDraft.bind(ko);ko.finishDraft.bind(ko);function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function r5e(e,t){if(Cv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i5e(e){var t=r5e(e,"string");return Cv(t)=="symbol"?t:String(t)}function s5e(e,t,n){return t=i5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DV(Object(n),!0).forEach(function(r){s5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ts(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var LV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wO=function(){return Math.random().toString(36).substring(7).split("").join(".")},LT={INIT:"@@redux/INIT"+wO(),REPLACE:"@@redux/REPLACE"+wO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wO()}};function o5e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Pre(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ts(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ts(1));return n(Pre)(e,t)}if(typeof e!="function")throw new Error(ts(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(ts(3));return s}function f(m){if(typeof m!="function")throw new Error(ts(4));if(u)throw new Error(ts(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(ts(6));y=!1,l();var v=a.indexOf(m);a.splice(v,1),o=null}}}function d(m){if(!o5e(m))throw new Error(ts(7));if(typeof m.type>"u")throw new Error(ts(8));if(u)throw new Error(ts(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var v=y[g];v()}return m}function h(m){if(typeof m!="function")throw new Error(ts(10));i=m,d({type:LT.REPLACE})}function p(){var m,y=f;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ts(11));function _(){v.next&&v.next(c())}_();var S=y(_);return{unsubscribe:S}}},m[LV]=function(){return this},m}return d({type:LT.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[LV]=p,r}function a5e(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:LT.INIT});if(typeof r>"u")throw new Error(ts(12));if(typeof n(void 0,{type:LT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ts(13))})}function u5e(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{a5e(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(ts(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function MT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function l5e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ts(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=MT.apply(void 0,a)(i.dispatch),$V($V({},i),{},{dispatch:s})}}}function Ore(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Rre=Ore();Rre.withExtraArgument=Ore;const MV=Rre;var Nre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),V_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},wh=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},c5e=Object.defineProperty,f5e=Object.defineProperties,d5e=Object.getOwnPropertyDescriptors,FV=Object.getOwnPropertySymbols,h5e=Object.prototype.hasOwnProperty,p5e=Object.prototype.propertyIsEnumerable,jV=function(e,t,n){return t in e?c5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ef=function(e,t){for(var n in t||(t={}))h5e.call(t,n)&&jV(e,n,t[n]);if(FV)for(var r=0,i=FV(t);r<i.length;r++){var n=i[r];p5e.call(t,n)&&jV(e,n,t[n])}return e},EO=function(e,t){return f5e(e,d5e(t))},z_=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},m5e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?MT:MT.apply(null,arguments)};function kre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var g5e=function(e){return e&&typeof e.match=="function"};function Qu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ef(Ef({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function y5e(e){return kre(e)&&"type"in e}var v5e=function(e){Nre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,wh([void 0],n[0].concat(this)))):new(t.bind.apply(t,wh([void 0],n.concat(this))))},t}(Array),_5e=function(e){Nre(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,wh([void 0],n[0].concat(this)))):new(t.bind.apply(t,wh([void 0],n.concat(this))))},t}(Array);function DN(e){return rc(e)?Are(e,function(){}):e}function b5e(e){return typeof e=="boolean"}function w5e(){return function(t){return E5e(t)}}function E5e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new v5e;return n&&(b5e(n)?r.push(MV):r.push(MV.withExtraArgument(n.extraArgument))),r}var S5e=!0;function Dre(e){var t=w5e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(kre(i))h=u5e(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=l5e.apply(void 0,p),y=MT;u&&(y=m5e(Ef({trace:!S5e},typeof u=="object"&&u)));var g=new _5e(m),v=g;Array.isArray(d)?v=wh([m],d):typeof d=="function"&&(v=d(g));var _=y.apply(void 0,v);return Pre(h,c,_)}function $re(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function T5e(e){return typeof e=="function"}function x5e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?$re(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(T5e(e))u=function(){return DN(e())};else{var l=DN(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=wh([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(Df(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(rc(p))return Are(p,function(v){return m(v,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function I5e(e,t){return e+"/"+t}function Lre(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:DN(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=I5e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Qu(d,p):Qu(d)});function u(){var c=typeof e.extraReducers=="function"?$re(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=Ef(Ef({},d),o);return x5e(n,function(v){for(var _ in g)v.addCase(_,g[_]);for(var S=0,x=p;S<x.length;S++){var b=x[S];v.addMatcher(b.matcher,b.reducer)}y&&v.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var C5e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=C5e[Math.random()*64|0];return t},A5e=["name","message","stack","code"],SO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),BV=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),P5e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=A5e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Qu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:EO(Ef({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Qu(t+"/pending",function(l,c,f){return{payload:void 0,meta:EO(Ef({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Qu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||P5e)(l||"Rejected"),meta:EO(Ef({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):Mre(),p=new a,m;function y(v){m=v,p.abort()}var g=function(){return z_(this,null,function(){var v,_,S,x,b,T,I;return V_(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),R5e(x)?[4,x]:[3,2];case 1:x=D.sent(),D.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=new Promise(function($,B){return p.signal.addEventListener("abort",function(){return B({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([b,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function($,B){return new SO($,B)},fulfillWithValue:function($,B){return new BV($,B)}})).then(function($){if($ instanceof SO)throw $;return $ instanceof BV?i($.payload,h,l,$.meta):i($,h,l)})])];case 3:return S=D.sent(),[3,5];case 4:return T=D.sent(),S=T instanceof SO?o(null,h,l,T.payload,T.meta):o(T,h,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,I||c(S),[2,S]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(O5e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function O5e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function R5e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var N5e=function(e,t){return g5e(e)?e.match(t):e(t)};function UV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return N5e(r,n)})}}var b6=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},$N=function(){},Fre=function(e,t){return t===void 0&&(t=$N),e.catch(t),e},jre=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},hm=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},k5e="task",Bre="listener",Ure="completed",w6="cancelled",D5e="task-"+w6,$5e="task-"+Ure,Vre=Bre+"-"+w6,L5e=Bre+"-"+Ure,yC=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=k5e+" "+w6+" (reason: "+t+")"}return e}(),pm=function(e){if(e.aborted)throw new yC(e.reason)};function zre(e,t){var n=$N;return new Promise(function(r,i){var s=function(){return i(new yC(e.reason))};if(e.aborted){s();return}n=jre(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=$N})}var M5e=function(e,t){return z_(void 0,null,function(){var n,r;return V_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof yC?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},FT=function(e){return function(t){return Fre(zre(e,t).then(function(n){return pm(e),n}))}},Hre=function(e){var t=FT(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},F5e=Object.assign,VV={},H_="listenerMiddleware",j5e=function(e,t){var n=function(r){return jre(e,function(){return hm(r,e.reason)})};return function(r,i){b6(r,"taskExecutor");var s=new AbortController;n(s);var o=M5e(function(){return z_(void 0,null,function(){var a;return V_(this,function(u){switch(u.label){case 0:return pm(e),pm(s.signal),[4,r({pause:FT(s.signal),delay:Hre(s.signal),signal:s.signal})];case 1:return a=u.sent(),pm(s.signal),[2,a]}})})},function(){return hm(s,$5e)});return i!=null&&i.autoJoin&&t.push(o),{result:FT(e)(o),cancel:function(){hm(s,D5e)}}}},B5e=function(e,t){var n=function(r,i){return z_(void 0,null,function(){var s,o,a,u;return V_(this,function(l){switch(l.label){case 0:pm(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,zre(t,Promise.race(a))];case 2:return u=l.sent(),pm(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Fre(n(r,i))}},Wre=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Qu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return b6(s,"options.listener"),{predicate:i,type:t,effect:s}},U5e=function(e){var t=Wre(e),n=t.type,r=t.predicate,i=t.effect,s=Mre(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},LN=function(e){e.pending.forEach(function(t){hm(t,Vre)})},V5e=function(e){return function(){e.forEach(LN),e.clear()}},zV=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},z5e=Qu(H_+"/add"),H5e=Qu(H_+"/removeAll"),W5e=Qu(H_+"/remove"),q5e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,wh([H_+"/error"],e))};function G5e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?q5e:i;b6(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&LN(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=U5e(h)),o(p)},l=function(h){var p=Wre(h),m=p.type,y=p.effect,g=p.predicate,v=a(function(_){var S=typeof m=="string"?_.type===m:_.predicate===g;return S&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&LN(v)),!!v},c=function(h,p,m,y){return z_(t,null,function(){var g,v,_,S;return V_(this,function(x){switch(x.label){case 0:g=new AbortController,v=B5e(u,g.signal),_=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),h.pending.add(g),[4,Promise.resolve(h.effect(p,F5e({},m,{getOriginalState:y,condition:function(b,T){return v(b,T).then(Boolean)},take:v,delay:Hre(g.signal),pause:FT(g.signal),extra:r,signal:g.signal,fork:j5e(g.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(b,T,I){b!==g&&(hm(b,Vre),I.delete(b))})}})))];case 2:return x.sent(),[3,6];case 3:return S=x.sent(),S instanceof yC||zV(s,S,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return x.sent(),hm(g,L5e),h.pending.delete(g),[7];case 6:return[2]}})})},f=V5e(n),d=function(h){return function(p){return function(m){if(!y5e(m))return p(m);if(z5e.match(m))return u(m.payload);if(H5e.match(m)){f();return}if(W5e.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===VV)throw new Error(H_+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(m),n.size>0)for(var _=h.getState(),S=Array.from(n.values()),x=0,b=S;x<b.length;x++){var T=b[x],I=!1;try{I=T.predicate(m,_,y)}catch(D){I=!1,zV(s,D,{raisedBy:"predicate"})}I&&c(T,m,h,g)}}finally{y=VV}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var HV;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);J4e();var er={};function Y5e(e){return!!(e&&typeof e.then=="function")}function jT(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function K5e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function vC(){return Math.random().toString(36).substring(2)}var WV=0,TO=0;function _C(){var e=new Date().getTime();return e===WV?(TO++,e*1e3+TO):(WV=e,TO=0,e*1e3)}var W_=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Q5e=_C,X5e="native";function J5e(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function Z5e(e){e.bc.close(),e.subFns=[]}function eFe(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(n){return Promise.reject(n)}}function tFe(e,t){e.messagesCallback=t}function nFe(){if(W_&&typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function rFe(){return 150}const iFe={create:J5e,close:Z5e,onMessage:tFe,postMessage:eFe,canBeUsed:nFe,type:X5e,averageResponseTime:rFe,microSeconds:Q5e};var qre=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,Gre()),this.set.add(t),setTimeout(function(){sFe(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function sFe(e){for(var t=Gre()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=e.timeMap.get(r);if(i<t)e.timeMap.delete(r),e.set.delete(r);else return}}function Gre(){return new Date().getTime()}function bC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var oFe=_C,aFe="pubkey.broadcast-channel-0-",ic="messages",uFe="idb";function Yre(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function lFe(e){var t=Yre(),n=aFe+e,r=t.open(n,1);r.onupgradeneeded=function(s){var o=s.target.result;o.createObjectStore(ic,{keyPath:"id",autoIncrement:!0})};var i=new Promise(function(s,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){s(r.result)}});return i}function cFe(e,t,n){var r=new Date().getTime(),i={uuid:t,time:r,data:n},s=e.transaction([ic],"readwrite");return new Promise(function(o,a){s.oncomplete=function(){return o()},s.onerror=function(l){return a(l)};var u=s.objectStore(ic);u.add(i)})}function fFe(e,t){var n=e.transaction(ic).objectStore(ic),r=[];function i(){try{var s=IDBKeyRange.bound(t+1,1/0);return n.openCursor(s)}catch{return n.openCursor()}}return new Promise(function(s){i().onsuccess=function(o){var a=o.target.result;a?a.value.id<t+1?a.continue(t+1):(r.push(a.value),a.continue()):s(r)}})}function dFe(e,t){var n=e.transaction([ic],"readwrite").objectStore(ic).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}function hFe(e,t){var n=new Date().getTime()-t,r=e.transaction(ic).objectStore(ic),i=[];return new Promise(function(s){r.openCursor().onsuccess=function(o){var a=o.target.result;if(a){var u=a.value;if(u.time<n)i.push(u),a.continue();else{s(i);return}}else s(i)}})}function pFe(e,t){return hFe(e,t).then(function(n){return Promise.all(n.map(function(r){return dFe(e,r.id)}))})}function mFe(e,t){return t=bC(t),lFe(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:vC(),eMIs:new qre(t.idb.ttl*2),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Kre(r),r})}function Kre(e){e.closed||Qre(e).then(function(){return jT(e.options.idb.fallbackInterval)}).then(function(){return Kre(e)})}function gFe(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Qre(e){return e.closed||!e.messagesCallback?Promise.resolve():fFe(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return gFe(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Promise.resolve()})}function yFe(e){e.closed=!0,e.db.close()}function vFe(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return cFe(e.db,e.uuid,t)}).then(function(){K5e(0,10)===0&&pFe(e.db,e.options.idb.ttl)}),e.writeBlockPromise}function _Fe(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Qre(e)}function bFe(){if(W_)return!1;var e=Yre();return!!e}function wFe(e){return e.idb.fallbackInterval*2}const EFe={create:mFe,close:yFe,onMessage:_Fe,postMessage:vFe,canBeUsed:bFe,type:uFe,averageResponseTime:wFe,microSeconds:oFe};var SFe=_C,TFe="pubkey.broadcastChannel-",xFe="localstorage";function Xre(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Jre(e){return TFe+e}function IFe(e,t){return new Promise(function(n){jT().then(function(){var r=Jre(e.channelName),i={token:vC(),time:new Date().getTime(),data:t,uuid:e.uuid},s=JSON.stringify(i);Xre().setItem(r,s);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=s,window.dispatchEvent(o),n()})})}function CFe(e,t){var n=Jre(e),r=function(s){s.key===n&&t(JSON.parse(s.newValue))};return window.addEventListener("storage",r),r}function AFe(e){window.removeEventListener("storage",e)}function PFe(e,t){if(t=bC(t),!Zre())throw new Error("BroadcastChannel: localstorage cannot be used");var n=vC(),r=new qre(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=CFe(e,function(s){i.messagesCallback&&s.uuid!==n&&(!s.token||r.has(s.token)||s.data.time&&s.data.time<i.messagesCallbackTime||(r.add(s.token),i.messagesCallback(s.data)))}),i}function OFe(e){AFe(e.listener)}function RFe(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Zre(){if(W_)return!1;var e=Xre();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function NFe(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}const kFe={create:PFe,close:OFe,onMessage:RFe,postMessage:IFe,canBeUsed:Zre,type:xFe,averageResponseTime:NFe,microSeconds:SFe};var DFe=_C,$Fe="simulate",E6=new Set;function LFe(e){var t={name:e,messagesCallback:null};return E6.add(t),t}function MFe(e){E6.delete(e)}function FFe(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(E6);r.filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})}function jFe(e,t){e.messagesCallback=t}function BFe(){return!0}function UFe(){return 5}const VFe={create:LFe,close:MFe,onMessage:jFe,postMessage:FFe,canBeUsed:BFe,type:$Fe,averageResponseTime:UFe,microSeconds:DFe};var MN=[iFe,EFe,kFe];if(W_){var qV=require("../../src/methods/node.js");typeof qV.canBeUsed=="function"&&MN.push(qV)}function eie(e){var t=[].concat(e.methods,MN).filter(Boolean);if(e.type){if(e.type==="simulate")return VFe;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!W_&&(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(MN.map(function(i){return i.type})))}var S6=function(t,n){this.name=t,FN&&(n=FN),this.options=bC(n),this.method=eie(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,WFe(this)};S6._pubkey=!0;function zFe(e){e=bC(e);var t=eie(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}var FN;function HFe(e){FN=e}S6.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return GV(this,"message",t)},postInternal:function(t){return GV(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};KV(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,YV(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};YV(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});KV(this,t,r)},close:function(){var t=this;if(!this.closed){this.closed=!0;var n=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function GV(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},s=e._prepP?e._prepP:Promise.resolve();return s.then(function(){var o=e.method.postMessage(e._state,i);return e._uMP.add(o),o.catch().then(function(){return e._uMP.delete(o)}),o})}function WFe(e){var t=e.method.create(e.name,e.options);Y5e(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function tie(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function YV(e,t,n){e._addEL[t].push(n),qFe(e)}function KV(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),GFe(e)}function qFe(e){if(!e._iL&&tie(e)){var t=function(i){e._addEL[i.type].forEach(function(s){i.time>=s.time&&s.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function GFe(e){if(e._iL&&!tie(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}const YFe=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function KFe(e){if(!(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope)){if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}const QFe={add:KFe};var XFe=YFe?Lne:QFe,sh=new Set,QV=!1;function JFe(){QV||(QV=!0,XFe.add(nie))}function ZFe(e){if(JFe(),typeof e!="function")throw new Error("Listener is no function");sh.add(e);var t={remove:function(){return sh.delete(e)},run:function(){return sh.delete(e),e()}};return t}function nie(){var e=[];return sh.forEach(function(t){e.push(t()),sh.delete(t)}),Promise.all(e)}function e8e(){sh.clear()}function t8e(){return sh.size}const n8e={add:ZFe,runAll:nie,removeAll:e8e,getSize:t8e};var rie=function(t,n){this._channel=t,this._options=n,this.isLeader=!1,this.isDead=!1,this.token=vC(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};rie.prototype={applyOnce:function(){var t=this;if(this.isLeader||this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var n=!1,r=function(o){o.context==="leader"&&o.token!=t.token&&(o.action==="apply"&&o.token>t.token&&(n=!0),o.action==="tell"&&(n=!0))};this._channel.addEventListener("internal",r);var i=Bd(this,"apply").then(function(){return jT(t._options.responseTime)}).then(function(){return n?Promise.reject(new Error):Bd(t,"apply")}).then(function(){return jT(t._options.responseTime)}).then(function(){return n?Promise.reject(new Error):Bd(t)}).then(function(){return iie(t)}).then(function(){return!0}).catch(function(){return!1}).then(function(s){return t._channel.removeEventListener("internal",r),t._isApl=!1,!s&&t._reApply?(t._reApply=!1,t.applyOnce()):s});return i},awaitLeadership:function(){return this._aLP||(this._aLP=r8e(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(n){return t._channel.removeEventListener("internal",n)}),this._invs.forEach(function(n){return clearInterval(n)}),this._unl.forEach(function(n){n.remove()}),Bd(this,"death")}};function r8e(e){return e.isLeader?Promise.resolve():new Promise(function(t){var n=!1;function r(){n||(n=!0,clearInterval(i),e._channel.removeEventListener("internal",s),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=setInterval(function(){e.applyOnce().then(function(){e.isLeader&&r()})},e._options.fallbackInterval);e._invs.push(i);var s=function(a){a.context==="leader"&&a.action==="death"&&e.applyOnce().then(function(){e.isLeader&&r()})};e._channel.addEventListener("internal",s),e._lstns.push(s)})}function Bd(e,t){var n={context:"leader",action:t,token:e.token};return e._channel.postInternal(n)}function iie(e){e.isLeader=!0;var t=n8e.add(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&Bd(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),Bd(e,"tell"))};return e._channel.addEventListener("internal",n),e._lstns.push(n),Bd(e,"tell")}function i8e(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function s8e(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=i8e(t,e);var n=new rie(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}const o8e=Object.freeze(Object.defineProperty({__proto__:null,BroadcastChannel:S6,beLeader:iie,clearNodeFolder:zFe,createLeaderElection:s8e,enforceOptions:HFe},Symbol.toStringTag,{value:"Module"})),a8e=zG(o8e);var T6,x6;Object.defineProperty(er,"__esModule",{value:!0});er.initMessageListener=x6=er.initStateWithPrevTab=er.withReduxStateSync=er.createReduxStateSync=T6=er.createStateSyncMiddleware=er.WINDOW_STATE_SYNC_ID=er.INIT_MESSAGE_LISTENER=er.RECEIVE_INIT_STATE=er.SEND_INIT_STATE=er.GET_INIT_STATE=void 0;er.generateUuidForAction=aie;er.isActionAllowed=uie;er.isActionSynced=p8e;er.MessageListener=lie;var u8e=a8e,jN=0,I6=er.GET_INIT_STATE="&_GET_INIT_STATE",C6=er.SEND_INIT_STATE="&_SEND_INIT_STATE",A6=er.RECEIVE_INIT_STATE="&_RECEIVE_INIT_STATE",l8e=er.INIT_MESSAGE_LISTENER="&_INIT_MESSAGE_LISTENER",BN={channel:"redux_state_sync",predicate:null,blacklist:[],whitelist:[],broadcastChannelOption:void 0,prepareState:function(t){return t},receiveState:function(t,n){return n}},c8e=function(){return{type:I6}},f8e=function(){return{type:C6}},d8e=function(t){return{type:A6,payload:t}},h8e=function(){return{type:l8e}};function $c(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function sie(){return""+$c()+$c()+"-"+$c()+"-"+$c()+"-"+$c()+"-"+$c()+$c()+$c()}var oie=er.WINDOW_STATE_SYNC_ID=sie();function aie(e){var t=e;return t.$uuid=sie(),t.$wuid=oie,t}function uie(e){var t=e.predicate,n=e.blacklist,r=e.whitelist,i=function(){return!0};return t&&typeof t=="function"?i=t:Array.isArray(n)?i=function(o){return n.indexOf(o.type)<0}:Array.isArray(r)&&(i=function(o){return r.indexOf(o.type)>=0}),i}function p8e(e){return!!e.$isSync}function lie(e){var t=e.channel,n=e.dispatch,r=e.allowed,i=!1,s={};this.handleOnMessage=function(o){o.$wuid!==oie&&o.type!==A6&&o.$uuid&&o.$uuid!==jN&&(o.type===I6&&!s[o.$wuid]?(s[o.$wuid]=!0,n(f8e())):o.type===C6&&!s[o.$wuid]?i||(i=!0,n(d8e(o.payload))):r(o)&&(jN=o.$uuid,n(Object.assign(o,{$isSync:!0}))))},this.messageChannel=t,this.messageChannel.onmessage=this.handleOnMessage}T6=er.createStateSyncMiddleware=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BN,n=uie(t),r=new u8e.BroadcastChannel(t.channel,t.broadcastChannelOption),i=t.prepareState||BN.prepareState,s=null;return function(o){var a=o.getState,u=o.dispatch;return function(l){return function(c){if(s||(s=new lie({channel:r,dispatch:u,allowed:n})),c&&!c.$uuid){var f=aie(c);jN=f.$uuid;try{if(c.type===C6)return a()&&(f.payload=i(a()),r.postMessage(f)),l(c);(n(f)||c.type===I6)&&r.postMessage(f)}catch{console.error("Your browser doesn't support cross tab communication")}}return l(Object.assign(c,{$isSync:typeof c.$isSync>"u"?!1:c.$isSync}))}}}};var m8e=er.createReduxStateSync=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BN.receiveState;return function(r,i){var s=r;return i.type===A6&&(s=n(r,i.payload)),t(s,i)}};er.withReduxStateSync=m8e;x6=er.initStateWithPrevTab=function(t){var n=t.dispatch;n(c8e())};er.initMessageListener=function(t){var n=t.dispatch;n(h8e())};async function g8e(e,t,n,r){const i={...n.map(f=>({[f]:{}}))},s=Object.assign({},...n.map(f=>({[f]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(f=>({[f]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[],analysisTrialName:null,analysisProvState:null},u=Lre({name:"storeSlice",initialState:a,reducers:{setConfig(f,d){f.config=d.payload},setIsRecording(f,d){f.isRecording=d.payload},toggleShowAdmin:f=>{f.showAdmin=!f.showAdmin},toggleShowHelpText:f=>{f.showHelpText=!f.showHelpText},setAlertModal:(f,d)=>{f.alertModal=d.payload},setIframeAnswers:(f,d)=>{f.iframeAnswers=d.payload},setAnalysisTrialName:(f,d)=>{f.analysisTrialName=d.payload},updateResponseBlockValidation:(f,{payload:d})=>{!d.currentStep||d.currentStep.length===0||(f.trialValidation[d.currentStep]||(f.trialValidation[d.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),f.trialValidation[d.currentStep][d.location]={valid:d.status,values:d.values},d.provenanceGraph&&(f.trialValidation[d.currentStep].provenanceGraph=d.provenanceGraph))},saveAnalysisState(f,{payload:d}){f.analysisProvState=d},saveTrialAnswer(f,{payload:d}){const{currentStep:h,answer:p,startTime:m,endTime:y,provenanceGraph:g,windowEvents:v}=d;f.answers[h]={answer:p,startTime:m,endTime:y,provenanceGraph:g,windowEvents:v}}}}),l=[T6({})],c=Dre({reducer:u.reducer,preloadedState:a,middleware:l});return x6(c),{store:c,actions:u.actions}}const cie=w.createContext(null);function ha(){return w.useContext(cie).actions}const Ja=$ne,Es=m3e;function y8e(e){return Es(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var BT={exports:{}};BT.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",v="[object Object]",_="[object Proxy]",S="[object RegExp]",x="[object Set]",b="[object String]",T="[object Undefined]",I="[object WeakMap]",D="[object ArrayBuffer]",$="[object DataView]",B="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",k="[object Int16Array]",ee="[object Int32Array]",te="[object Uint8Array]",re="[object Uint8ClampedArray]",K="[object Uint16Array]",ie="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,A={};A[B]=A[O]=A[M]=A[k]=A[ee]=A[te]=A[re]=A[K]=A[ie]=!0,A[a]=A[u]=A[D]=A[c]=A[$]=A[f]=A[d]=A[h]=A[m]=A[y]=A[v]=A[S]=A[x]=A[b]=A[I]=!1;var R=typeof Ks=="object"&&Ks&&Ks.Object===Object&&Ks,L=typeof self=="object"&&self&&self.Object===Object&&self,G=R||L||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&!0&&e&&!e.nodeType&&e,de=ce&&ce.exports===le,me=de&&R.process,we=function(){try{var q=ce&&ce.require&&ce.require("util").types;return q||me&&me.binding&&me.binding("util")}catch{}}(),ye=we&&we.isTypedArray;function He(q,ae,ve){switch(ve.length){case 0:return q.call(ae);case 1:return q.call(ae,ve[0]);case 2:return q.call(ae,ve[0],ve[1]);case 3:return q.call(ae,ve[0],ve[1],ve[2])}return q.apply(ae,ve)}function Ke(q,ae){for(var ve=-1,Qe=Array(q);++ve<q;)Qe[ve]=ae(ve);return Qe}function mt(q){return function(ae){return q(ae)}}function De(q,ae){return q==null?void 0:q[ae]}function Ie(q,ae){return function(ve){return q(ae(ve))}}var We=Array.prototype,Wt=Function.prototype,Ut=Object.prototype,ze=G["__core-js_shared__"],Fe=Wt.toString,at=Ut.hasOwnProperty,dt=function(){var q=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),Ct=Ut.toString,Kt=Fe.call(Object),ge=RegExp("^"+Fe.call(at).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=de?G.Buffer:void 0,Le=G.Symbol,Je=G.Uint8Array,ct=Se?Se.allocUnsafe:void 0,En=Ie(Object.getPrototypeOf,Object),Me=Object.create,rt=Ut.propertyIsEnumerable,ut=We.splice,Gt=Le?Le.toStringTag:void 0,pt=function(){try{var q=Re(Object,"defineProperty");return q({},"",{}),q}catch{}}(),br=Se?Se.isBuffer:void 0,hn=Math.max,Hn=Date.now,hs=Re(G,"Map"),Os=Re(Object,"create"),fi=function(){function q(){}return function(ae){if(!fd(ae))return{};if(Me)return Me(ae);q.prototype=ae;var ve=new q;return q.prototype=void 0,ve}}();function Pn(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Qe=q[ae];this.set(Qe[0],Qe[1])}}function Ta(){this.__data__=Os?Os(null):{},this.size=0}function Dr(q){var ae=this.has(q)&&delete this.__data__[q];return this.size-=ae?1:0,ae}function wr(q){var ae=this.__data__;if(Os){var ve=ae[q];return ve===r?void 0:ve}return at.call(ae,q)?ae[q]:void 0}function Nn(q){var ae=this.__data__;return Os?ae[q]!==void 0:at.call(ae,q)}function ln(q,ae){var ve=this.__data__;return this.size+=this.has(q)?0:1,ve[q]=Os&&ae===void 0?r:ae,this}Pn.prototype.clear=Ta,Pn.prototype.delete=Dr,Pn.prototype.get=wr,Pn.prototype.has=Nn,Pn.prototype.set=ln;function Gn(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Qe=q[ae];this.set(Qe[0],Qe[1])}}function ps(){this.__data__=[],this.size=0}function Zr(q){var ae=this.__data__,ve=Er(ae,q);if(ve<0)return!1;var Qe=ae.length-1;return ve==Qe?ae.pop():ut.call(ae,ve,1),--this.size,!0}function zr(q){var ae=this.__data__,ve=Er(ae,q);return ve<0?void 0:ae[ve][1]}function Z(q){return Er(this.__data__,q)>-1}function W(q,ae){var ve=this.__data__,Qe=Er(ve,q);return Qe<0?(++this.size,ve.push([q,ae])):ve[Qe][1]=ae,this}Gn.prototype.clear=ps,Gn.prototype.delete=Zr,Gn.prototype.get=zr,Gn.prototype.has=Z,Gn.prototype.set=W;function ne(q){var ae=-1,ve=q==null?0:q.length;for(this.clear();++ae<ve;){var Qe=q[ae];this.set(Qe[0],Qe[1])}}function he(){this.size=0,this.__data__={hash:new Pn,map:new(hs||Gn),string:new Pn}}function pe(q){var ae=Oe(this,q).delete(q);return this.size-=ae?1:0,ae}function Xe(q){return Oe(this,q).get(q)}function Ze(q){return Oe(this,q).has(q)}function Ce(q,ae){var ve=Oe(this,q),Qe=ve.size;return ve.set(q,ae),this.size+=ve.size==Qe?0:1,this}ne.prototype.clear=he,ne.prototype.delete=pe,ne.prototype.get=Xe,ne.prototype.has=Ze,ne.prototype.set=Ce;function it(q){var ae=this.__data__=new Gn(q);this.size=ae.size}function Mt(){this.__data__=new Gn,this.size=0}function je(q){var ae=this.__data__,ve=ae.delete(q);return this.size=ae.size,ve}function Jt(q){return this.__data__.get(q)}function Zt(q){return this.__data__.has(q)}function gt(q,ae){var ve=this.__data__;if(ve instanceof Gn){var Qe=ve.__data__;if(!hs||Qe.length<n-1)return Qe.push([q,ae]),this.size=++ve.size,this;ve=this.__data__=new ne(Qe)}return ve.set(q,ae),this.size=ve.size,this}it.prototype.clear=Mt,it.prototype.delete=je,it.prototype.get=Jt,it.prototype.has=Zt,it.prototype.set=gt;function On(q,ae){var ve=iP(q),Qe=!ve&&ip(q),cn=!ve&&!Qe&&C5(q),Wn=!ve&&!Qe&&!cn&&P5(q),lr=ve||Qe||cn||Wn,sn=lr?Ke(q.length,String):[],cr=sn.length;for(var Wo in q)(ae||at.call(q,Wo))&&!(lr&&(Wo=="length"||cn&&(Wo=="offset"||Wo=="parent")||Wn&&(Wo=="buffer"||Wo=="byteLength"||Wo=="byteOffset")||Vt(Wo,cr)))&&sn.push(Wo);return sn}function jn(q,ae,ve){(ve!==void 0&&!rp(q[ae],ve)||ve===void 0&&!(ae in q))&&Sr(q,ae,ve)}function St(q,ae,ve){var Qe=q[ae];(!(at.call(q,ae)&&rp(Qe,ve))||ve===void 0&&!(ae in q))&&Sr(q,ae,ve)}function Er(q,ae){for(var ve=q.length;ve--;)if(rp(q[ve][0],ae))return ve;return-1}function Sr(q,ae,ve){ae=="__proto__"&&pt?pt(q,ae,{configurable:!0,enumerable:!0,value:ve,writable:!0}):q[ae]=ve}var $r=Ae();function ms(q){return q==null?q===void 0?T:g:Gt&&Gt in Object(q)?$e(q):cd(q)}function xi(q){return a0(q)&&ms(q)==a}function Hr(q){if(!fd(q)||Tr(q))return!1;var ae=oP(q)?ge:V;return ae.test(rP(q))}function Hi(q){return a0(q)&&A5(q.length)&&!!A[ms(q)]}function Wi(q){if(!fd(q))return Rs(q);var ae=ur(q),ve=[];for(var Qe in q)Qe=="constructor"&&(ae||!at.call(q,Qe))||ve.push(Qe);return ve}function qe(q,ae,ve,Qe,cn){q!==ae&&$r(ae,function(Wn,lr){if(cn||(cn=new it),fd(Wn))en(q,ae,lr,ve,qe,Qe,cn);else{var sn=Qe?Qe(s0(q,lr),Wn,lr+"",q,ae,cn):void 0;sn===void 0&&(sn=Wn),jn(q,lr,sn)}},O5)}function en(q,ae,ve,Qe,cn,Wn,lr){var sn=s0(q,ve),cr=s0(ae,ve),Wo=lr.get(cr);if(Wo){jn(q,ve,Wo);return}var mo=Wn?Wn(sn,cr,ve+"",q,ae,lr):void 0,u0=mo===void 0;if(u0){var aP=iP(cr),uP=!aP&&C5(cr),N5=!aP&&!uP&&P5(cr);mo=cr,aP||uP||N5?iP(sn)?mo=sn:mme(sn)?mo=ue(sn):uP?(u0=!1,mo=J(cr,!0)):N5?(u0=!1,mo=se(cr,!0)):mo=[]:gme(cr)||ip(cr)?(mo=sn,ip(sn)?mo=yme(sn):(!fd(sn)||oP(sn))&&(mo=st(cr))):u0=!1}u0&&(lr.set(cr,mo),cn(mo,cr,Qe,Wn,lr),lr.delete(cr)),jn(q,ve,mo)}function qi(q,ae){return o0(i0(q,ae,R5),q+"")}var F=pt?function(q,ae){return pt(q,"toString",{configurable:!0,enumerable:!1,value:_me(ae),writable:!0})}:R5;function J(q,ae){if(ae)return q.slice();var ve=q.length,Qe=ct?ct(ve):new q.constructor(ve);return q.copy(Qe),Qe}function z(q){var ae=new q.constructor(q.byteLength);return new Je(ae).set(new Je(q)),ae}function se(q,ae){var ve=ae?z(q.buffer):q.buffer;return new q.constructor(ve,q.byteOffset,q.length)}function ue(q,ae){var ve=-1,Qe=q.length;for(ae||(ae=Array(Qe));++ve<Qe;)ae[ve]=q[ve];return ae}function oe(q,ae,ve,Qe){var cn=!ve;ve||(ve={});for(var Wn=-1,lr=ae.length;++Wn<lr;){var sn=ae[Wn],cr=Qe?Qe(ve[sn],q[sn],sn,ve,q):void 0;cr===void 0&&(cr=q[sn]),cn?Sr(ve,sn,cr):St(ve,sn,cr)}return ve}function be(q){return qi(function(ae,ve){var Qe=-1,cn=ve.length,Wn=cn>1?ve[cn-1]:void 0,lr=cn>2?ve[2]:void 0;for(Wn=q.length>3&&typeof Wn=="function"?(cn--,Wn):void 0,lr&&vn(ve[0],ve[1],lr)&&(Wn=cn<3?void 0:Wn,cn=1),ae=Object(ae);++Qe<cn;){var sn=ve[Qe];sn&&q(ae,sn,Qe,Wn)}return ae})}function Ae(q){return function(ae,ve,Qe){for(var cn=-1,Wn=Object(ae),lr=Qe(ae),sn=lr.length;sn--;){var cr=lr[q?sn:++cn];if(ve(Wn[cr],cr,Wn)===!1)break}return ae}}function Oe(q,ae){var ve=q.__data__;return Sn(ae)?ve[typeof ae=="string"?"string":"hash"]:ve.map}function Re(q,ae){var ve=De(q,ae);return Hr(ve)?ve:void 0}function $e(q){var ae=at.call(q,Gt),ve=q[Gt];try{q[Gt]=void 0;var Qe=!0}catch{}var cn=Ct.call(q);return Qe&&(ae?q[Gt]=ve:delete q[Gt]),cn}function st(q){return typeof q.constructor=="function"&&!ur(q)?fi(En(q)):{}}function Vt(q,ae){var ve=typeof q;return ae=ae??o,!!ae&&(ve=="number"||ve!="symbol"&&Y.test(q))&&q>-1&&q%1==0&&q<ae}function vn(q,ae,ve){if(!fd(ve))return!1;var Qe=typeof ae;return(Qe=="number"?sP(ve)&&Vt(ae,ve.length):Qe=="string"&&ae in ve)?rp(ve[ae],q):!1}function Sn(q){var ae=typeof q;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?q!=="__proto__":q===null}function Tr(q){return!!dt&&dt in q}function ur(q){var ae=q&&q.constructor,ve=typeof ae=="function"&&ae.prototype||Ut;return q===ve}function Rs(q){var ae=[];if(q!=null)for(var ve in Object(q))ae.push(ve);return ae}function cd(q){return Ct.call(q)}function i0(q,ae,ve){return ae=hn(ae===void 0?q.length-1:ae,0),function(){for(var Qe=arguments,cn=-1,Wn=hn(Qe.length-ae,0),lr=Array(Wn);++cn<Wn;)lr[cn]=Qe[ae+cn];cn=-1;for(var sn=Array(ae+1);++cn<ae;)sn[cn]=Qe[cn];return sn[ae]=ve(lr),He(q,this,sn)}}function s0(q,ae){if(!(ae==="constructor"&&typeof q[ae]=="function")&&ae!="__proto__")return q[ae]}var o0=I5(F);function I5(q){var ae=0,ve=0;return function(){var Qe=Hn(),cn=s-(Qe-ve);if(ve=Qe,cn>0){if(++ae>=i)return arguments[0]}else ae=0;return q.apply(void 0,arguments)}}function rP(q){if(q!=null){try{return Fe.call(q)}catch{}try{return q+""}catch{}}return""}function rp(q,ae){return q===ae||q!==q&&ae!==ae}var ip=xi(function(){return arguments}())?xi:function(q){return a0(q)&&at.call(q,"callee")&&!rt.call(q,"callee")},iP=Array.isArray;function sP(q){return q!=null&&A5(q.length)&&!oP(q)}function mme(q){return a0(q)&&sP(q)}var C5=br||bme;function oP(q){if(!fd(q))return!1;var ae=ms(q);return ae==h||ae==p||ae==l||ae==_}function A5(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=o}function fd(q){var ae=typeof q;return q!=null&&(ae=="object"||ae=="function")}function a0(q){return q!=null&&typeof q=="object"}function gme(q){if(!a0(q)||ms(q)!=v)return!1;var ae=En(q);if(ae===null)return!0;var ve=at.call(ae,"constructor")&&ae.constructor;return typeof ve=="function"&&ve instanceof ve&&Fe.call(ve)==Kt}var P5=ye?mt(ye):Hi;function yme(q){return oe(q,O5(q))}function O5(q){return sP(q)?On(q,!0):Wi(q)}var vme=be(function(q,ae,ve){qe(q,ae,ve)});function _me(q){return function(){return q}}function R5(q){return q}function bme(){return!1}e.exports=vme})(BT,BT.exports);var v8e=BT.exports;const P6=ma(v8e);function fie(){return nd().pathname.split("/")[1]}function su(){const{trialName:e}=zh();return e||""}function Eh(e){return structuredClone(e)}function O6(){const{answers:e}=Es(n=>n),t=su();return e[t]}const die=w.createContext(null);function _8e(){const e=w.useContext(die);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function hie(){const e=su(),{sequence:t,trialValidation:n}=Es(g=>g),r=O6(),i=Ja(),{saveTrialAnswer:s,setIframeAnswers:o}=ha(),{storageEngine:a}=da(),l=!y8e(e),c=r==null?void 0:r.answer,f=vl(),d=w.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${fie()}/${d}`,p=w.useMemo(()=>Date.now(),[]),m=_8e(),y=w.useCallback(()=>{const g=Eh(n[e]),v=Object.values(g).reduce((b,T)=>Object.hasOwn(T,"values")?{...b,...T.values}:b,{}),{provenanceGraph:_}=g,S=Date.now(),x=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:S,provenanceGraph:_,windowEvents:x})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:S,provenanceGraph:_,windowEvents:x}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function b8e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=hie(),o=w.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return C.jsx(_i,{type:"submit",disabled:t||i,onClick:o,children:e})}function UN(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var w8e=Object.defineProperty,XV=Object.getOwnPropertySymbols,E8e=Object.prototype.hasOwnProperty,S8e=Object.prototype.propertyIsEnumerable,JV=(e,t,n)=>t in e?w8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T8e=(e,t)=>{for(var n in t||(t={}))E8e.call(t,n)&&JV(e,n,t[n]);if(XV)for(var n of XV(t))S8e.call(t,n)&&JV(e,n,t[n]);return e};function pie(e,t){if(t===null||typeof t!="object")return{};const n=T8e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const x8e="__MANTINE_FORM_INDEX__";function ZV(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${x8e}`)):!1:!1}function e7(e,t,n){typeof n.value=="object"&&(n.value=Vp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Vp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Vp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Vp(a),Vp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Vp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)e7(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||e7(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function mie(e){return typeof e!="string"?[]:e.split(".")}function wC(e,t,n){const r=mie(e);if(r.length===0)return n;const i=Vp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function kl(e,t){const n=mie(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function t7(e){const t=UN(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function VN(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=kl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>VN(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||VN(o,t,a,i)),i},r)}function zN(e,t){return t7(typeof e=="function"?e(t):VN(e,t))}function Eb(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=zN(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function I8e(e,{from:t,to:n},r){const i=kl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),wC(e,s,r)}var C8e=Object.defineProperty,n7=Object.getOwnPropertySymbols,A8e=Object.prototype.hasOwnProperty,P8e=Object.prototype.propertyIsEnumerable,r7=(e,t,n)=>t in e?C8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O8e=(e,t)=>{for(var n in t||(t={}))A8e.call(t,n)&&r7(e,n,t[n]);if(n7)for(var n of n7(t))P8e.call(t,n)&&r7(e,n,t[n]);return e};function R8e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=O8e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function N8e(e,t,n){const r=kl(e,n);return Array.isArray(r)?wC(e,r.filter((i,s)=>s!==t),n):n}var k8e=Object.defineProperty,i7=Object.getOwnPropertySymbols,D8e=Object.prototype.hasOwnProperty,$8e=Object.prototype.propertyIsEnumerable,s7=(e,t,n)=>t in e?k8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L8e=(e,t)=>{for(var n in t||(t={}))D8e.call(t,n)&&s7(e,n,t[n]);if(i7)for(var n of i7(t))$8e.call(t,n)&&s7(e,n,t[n]);return e};function o7(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function a7(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=pie(`${i}.${t}`,s));const o=L8e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=o7(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=o7(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function M8e(e,t,n,r){const i=kl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),wC(e,s,r)}function u7(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function F8e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var j8e=Object.defineProperty,B8e=Object.defineProperties,U8e=Object.getOwnPropertyDescriptors,l7=Object.getOwnPropertySymbols,V8e=Object.prototype.hasOwnProperty,z8e=Object.prototype.propertyIsEnumerable,c7=(e,t,n)=>t in e?j8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lc=(e,t)=>{for(var n in t||(t={}))V8e.call(t,n)&&c7(e,n,t[n]);if(l7)for(var n of l7(t))z8e.call(t,n)&&c7(e,n,t[n]);return e},xO=(e,t)=>B8e(e,U8e(t));function H8e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=w.useState(r),[f,d]=w.useState(n),[h,p]=w.useState(e),[m,y]=w.useState(UN(t)),g=w.useRef(e),v=L=>{g.current=L},_=w.useCallback(()=>c({}),[]),S=L=>{const G=L?Lc(Lc({},h),L):h;v(G),d({})},x=w.useCallback(L=>y(G=>UN(typeof L=="function"?L(G):L)),[]),b=w.useCallback(()=>y({}),[]),T=w.useCallback(()=>{p(e),b(),v(e),d({}),_()},[]),I=w.useCallback((L,G)=>x(le=>xO(Lc({},le),{[L]:G})),[]),D=w.useCallback(L=>x(G=>{if(typeof L!="string")return G;const le=Lc({},G);return delete le[L],le}),[]),$=w.useCallback(L=>d(G=>{if(typeof L!="string")return G;const le=pie(L,G);return delete le[L],le}),[]),B=w.useCallback((L,G)=>{const le=ZV(L,s);$(L),c(ce=>xO(Lc({},ce),{[L]:!0})),p(ce=>{const de=wC(L,G,ce);if(le){const me=Eb(L,u,de);me.hasError?I(L,me.error):D(L)}return de}),!le&&i&&I(L,null)},[]),O=w.useCallback(L=>{p(G=>{const le=typeof L=="function"?L(G):L;return Lc(Lc({},G),le)}),i&&b()},[]),M=w.useCallback((L,G)=>{$(L),p(le=>I8e(L,G,le)),y(le=>R8e(L,G,le))},[]),k=w.useCallback((L,G)=>{$(L),p(le=>N8e(L,G,le)),y(le=>a7(L,G,le,-1))},[]),ee=w.useCallback((L,G,le)=>{$(L),p(ce=>M8e(L,G,le,ce)),y(ce=>a7(L,le,ce,1))},[]),te=w.useCallback(()=>{const L=zN(u,h);return y(L.errors),L},[h,u]),re=w.useCallback(L=>{const G=Eb(L,u,h);return G.hasError?I(L,G.error):D(L),G},[h,u]),K=(L,{type:G="input",withError:le=!0,withFocus:ce=!0}={})=>{const me={onChange:F8e(we=>B(L,we))};return le&&(me.error=m[L]),G==="checkbox"?me.checked=kl(L,h):me.value=kl(L,h),ce&&(me.onFocus=()=>c(we=>xO(Lc({},we),{[L]:!0})),me.onBlur=()=>{if(ZV(L,o)){const we=Eb(L,u,h);we.hasError?I(L,we.error):D(L)}}),me},ie=(L,G)=>le=>{le==null||le.preventDefault();const ce=te();ce.hasErrors?G==null||G(ce.errors,h,le):L==null||L(a(h),le)},P=L=>a(L||h),V=w.useCallback(L=>{L.preventDefault(),T()},[]),Y=L=>{if(L){const le=kl(L,f);if(typeof le=="boolean")return le;const ce=kl(L,h),de=kl(L,g.current);return!aV(ce,de)}return Object.keys(f).length>0?u7(f):!aV(h,g.current)},A=w.useCallback(L=>u7(l,L),[l]),R=w.useCallback(L=>L?!Eb(L,u,h).hasError:!zN(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:O,setErrors:x,setFieldValue:B,setFieldError:I,clearFieldError:D,clearErrors:b,reset:T,validate:te,validateField:re,reorderListItem:M,removeListItem:k,insertListItem:ee,getInputProps:K,onSubmit:ie,onReset:V,isDirty:Y,isTouched:A,setTouched:c,setDirty:d,resetTouched:_,resetDirty:S,isValid:R,getTransformedValues:P}}const W8e=new URLSearchParams(window.location.search),q8e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?W8e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},G8e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function Y8e(e,t,n){const[r,i]=w.useState(null),s=H8e({initialValues:q8e(e,n),validate:G8e(e)});return w.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Hh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const f7=["http","https","mailto","tel"];function K8e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<f7.length;){const s=f7[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Q8e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const R6=ma(Q8e);function mm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?d7(e.position):"start"in e||"end"in e?d7(e):"line"in e||"column"in e?HN(e):""}function HN(e){return h7(e&&e.line)+":"+h7(e&&e.column)}function d7(e){return HN(e&&e.start)+"-"+HN(e&&e.end)}function h7(e){return e&&typeof e=="number"?e:1}let va=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=mm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};va.prototype.file="";va.prototype.name="";va.prototype.reason="";va.prototype.message="";va.prototype.stack="";va.prototype.fatal=null;va.prototype.column=null;va.prototype.line=null;va.prototype.source=null;va.prototype.ruleId=null;va.prototype.position=null;const gu={basename:X8e,dirname:J8e,extname:Z8e,join:eje,sep:"/"};function X8e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');q_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function J8e(e){if(q_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Z8e(e){q_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function eje(...e){let t=-1,n;for(;++t<e.length;)q_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":tje(n)}function tje(e){q_(e);const t=e.charCodeAt(0)===47;let n=nje(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function nje(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function q_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rje={cwd:ije};function ije(){return"/"}function WN(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function sje(e){if(typeof e=="string")e=new URL(e);else if(!WN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return oje(e)}function oje(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const IO=["history","path","basename","stem","extname","dirname"];let aje=class{constructor(t){let n;t?typeof t=="string"||uje(t)?n={value:t}:WN(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=rje.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<IO.length;){const s=IO[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)IO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){WN(t)&&(t=sje(t)),AO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?gu.dirname(this.path):void 0}set dirname(t){p7(this.basename,"dirname"),this.path=gu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?gu.basename(this.path):void 0}set basename(t){AO(t,"basename"),CO(t,"basename"),this.path=gu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?gu.extname(this.path):void 0}set extname(t){if(CO(t,"extname"),p7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?gu.basename(this.path,this.extname):void 0}set stem(t){AO(t,"stem"),CO(t,"stem"),this.path=gu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new va(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function CO(e,t){if(e&&e.includes(gu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gu.sep+"`")}function AO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function p7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function uje(e){return R6(e)}function m7(e){if(e)throw e}var kw=Object.prototype.hasOwnProperty,gie=Object.prototype.toString,g7=Object.defineProperty,y7=Object.getOwnPropertyDescriptor,v7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):gie.call(t)==="[object Array]"},_7=function(t){if(!t||gie.call(t)!=="[object Object]")return!1;var n=kw.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&kw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||kw.call(t,i)},b7=function(t,n){g7&&n.name==="__proto__"?g7(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},w7=function(t,n){if(n==="__proto__")if(kw.call(t,n)){if(y7)return y7(t,n).value}else return;return t[n]},lje=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=w7(a,n),i=w7(t,n),a!==i&&(c&&i&&(_7(i)||(s=v7(i)))?(s?(s=!1,o=r&&v7(r)?r:[]):o=r&&_7(r)?r:{},b7(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&b7(a,{name:n,newValue:i}));return a};const E7=ma(lje);function qN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cje(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?fje(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fje(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class _a extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=mm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}_a.prototype.file="";_a.prototype.name="";_a.prototype.reason="";_a.prototype.message="";_a.prototype.stack="";_a.prototype.fatal=null;_a.prototype.column=null;_a.prototype.line=null;_a.prototype.source=null;_a.prototype.ruleId=null;_a.prototype.position=null;const yu={basename:dje,dirname:hje,extname:pje,join:mje,sep:"/"};function dje(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');G_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function hje(e){if(G_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function pje(e){G_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function mje(...e){let t=-1,n;for(;++t<e.length;)G_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":gje(n)}function gje(e){G_(e);const t=e.charCodeAt(0)===47;let n=yje(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yje(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function G_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vje={cwd:_je};function _je(){return"/"}function GN(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function bje(e){if(typeof e=="string")e=new URL(e);else if(!GN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return wje(e)}function wje(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const PO=["history","path","basename","stem","extname","dirname"];class Eje{constructor(t){let n;t?typeof t=="string"||Sje(t)?n={value:t}:GN(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=vje.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<PO.length;){const s=PO[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)PO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){GN(t)&&(t=bje(t)),RO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?yu.dirname(this.path):void 0}set dirname(t){S7(this.basename,"dirname"),this.path=yu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?yu.basename(this.path):void 0}set basename(t){RO(t,"basename"),OO(t,"basename"),this.path=yu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?yu.extname(this.path):void 0}set extname(t){if(OO(t,"extname"),S7(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?yu.basename(this.path,this.extname):void 0}set stem(t){RO(t,"stem"),OO(t,"stem"),this.path=yu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new _a(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function OO(e,t){if(e&&e.includes(yu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yu.sep+"`")}function RO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function S7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Sje(e){return R6(e)}const Tje=vie().freeze(),yie={}.hasOwnProperty;function vie(){const e=cje(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=vie();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(E7(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(DO("data",r),n[m]=y,s):yie.call(n,m)&&n[m]||null:m?(DO("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(DO("use",r),m!=null)if(typeof m=="function")x(m,...y);else if(typeof m=="object")Array.isArray(m)?S(m):_(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function v(b){if(typeof b=="function")x(b);else if(typeof b=="object")if(Array.isArray(b)){const[T,...I]=b;x(T,...I)}else _(b);else throw new TypeError("Expected usable value, not `"+b+"`")}function _(b){S(b.plugins),b.settings&&(g=Object.assign(g||{},b.settings))}function S(b){let T=-1;if(b!=null)if(Array.isArray(b))for(;++T<b.length;){const I=b[T];v(I)}else throw new TypeError("Expected a list of plugins, not `"+b+"`")}function x(b,T){let I=-1,D;for(;++I<t.length;)if(t[I][0]===b){D=t[I];break}D?(qN(D[1])&&qN(T)&&(T=E7(!0,D[1],T)),D[1]=T):t.push([...arguments])}}function l(m){s.freeze();const y=I0(m),g=s.Parser;return NO("parse",g),T7(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=I0(y),v=s.Compiler;return kO("stringify",v),x7(m),T7(v,"compile")?new v(m,g).compile():v(m,g)}function f(m,y,g){if(x7(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(v);v(null,g);function v(_,S){e.run(m,I0(y),x);function x(b,T,I){T=T||m,b?S(b):_?_(T):g(null,T,I)}}}function d(m,y){let g,v;return s.run(m,y,_),I7("runSync","run",v),g;function _(S,x){m7(S),g=x,v=!0}}function h(m,y){if(s.freeze(),NO("process",s.Parser),kO("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(v,_){const S=I0(m);s.run(s.parse(S),S,(b,T,I)=>{if(b||!T||!I)x(b);else{const D=s.stringify(T,I);D==null||(Cje(D)?I.value=D:I.result=D),x(b,I)}});function x(b,T){b||!T?_(b):v?v(T):y(null,T)}}}function p(m){let y;s.freeze(),NO("processSync",s.Parser),kO("processSync",s.Compiler);const g=I0(m);return s.process(g,v),I7("processSync","process",y),g;function v(_){y=!0,m7(_)}}}function T7(e,t){return typeof e=="function"&&e.prototype&&(xje(e.prototype)||t in e.prototype)}function xje(e){let t;for(t in e)if(yie.call(e,t))return!0;return!1}function NO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function kO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function DO(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function x7(e){if(!qN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function I7(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function I0(e){return Ije(e)?e:new Eje(e)}function Ije(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Cje(e){return typeof e=="string"||R6(e)}const Aje={};function Pje(e,t){const n=t||Aje,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _ie(e,r,i)}function _ie(e,t,n){if(Oje(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return C7(e.children,t,n)}return Array.isArray(e)?C7(e,t,n):""}function C7(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=_ie(e[i],t,n);return r.join("")}function Oje(e){return!!(e&&typeof e=="object")}function al(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ea(e,t){return e.length>0?(al(e,e.length,0,t),e):t}const A7={}.hasOwnProperty;function Rje(e){const t={};let n=-1;for(;++n<e.length;)Nje(t,e[n]);return t}function Nje(e,t){let n;for(n in t){const i=(A7.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){A7.call(i,o)||(i[o]=[]);const a=s[o];kje(i[o],Array.isArray(a)?a:a?[a]:[])}}}function kje(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);al(e,0,0,r)}const Dje=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Cu=rd(/[A-Za-z]/),Io=rd(/[\dA-Za-z]/),$je=rd(/[#-'*+\--9=?A-Z^-~]/);function YN(e){return e!==null&&(e<32||e===127)}const KN=rd(/\d/),Lje=rd(/[\dA-Fa-f]/),Mje=rd(/[!-/:-@[-`{-~]/);function At(e){return e!==null&&e<-2}function io(e){return e!==null&&(e<0||e===32)}function Cn(e){return e===-2||e===-1||e===32}const Fje=rd(Dje),jje=rd(/\s/);function rd(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Xn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Cn(u)?(e.enter(n),a(u)):t(u)}function a(u){return Cn(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Bje={tokenize:Uje};function Uje(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Xn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return At(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Vje={tokenize:zje},P7={tokenize:Hje};function zje(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const S=t.events.length;let x=S,b;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){b=t.events[x][1].end;break}g(r);let T=S;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},b),T++;return al(t.events,x+1,0,t.events.slice(S)),t.events.length=T,l(_)}return a(_)}function l(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(P7,c,f)(_)}function c(_){return i&&v(),g(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(P7,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),g(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(_)}function m(_){if(_===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(_);return}return At(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),m)}function y(_,S){const x=t.sliceStream(_);if(S&&x.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(x),t.parser.lazy[_.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<o&&(!i.events[b][1].end||i.events[b][1].end.offset>o))return;const T=t.events.length;let I=T,D,$;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(D){$=t.events[I][1].end;break}D=!0}for(g(r),b=T;b<t.events.length;)t.events[b][1].end=Object.assign({},$),b++;al(t.events,I+1,0,t.events.slice(T)),t.events.length=b}}function g(_){let S=n.length;for(;S-- >_;){const x=n[S];t.containerState=x[1],x[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Hje(e,t,n){return Xn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function O7(e){if(e===null||io(e)||jje(e))return 1;if(Fje(e))return 2}function N6(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const QN={name:"attention",tokenize:qje,resolveAll:Wje};function Wje(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);R7(f,-u),R7(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=ea(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=ea(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=ea(l,N6(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=ea(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=ea(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,al(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function qje(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=O7(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=O7(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function R7(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Gje={name:"autolink",tokenize:Yje};function Yje(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Cu(h)?(e.consume(h),o):l(h)}function o(h){return h===43||h===45||h===46||Io(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Io(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||YN(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):$je(h)?(e.consume(h),l):n(h)}function c(h){return Io(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Io(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const EC={tokenize:Kje,partial:!0};function Kje(e,t,n){return r;function r(s){return Cn(s)?Xn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||At(s)?t(s):n(s)}}const bie={name:"blockQuote",tokenize:Qje,continuation:{tokenize:Xje},exit:Jje};function Qje(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Cn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Xje(e,t,n){const r=this;return i;function i(o){return Cn(o)?Xn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(bie,t,n)(o)}}function Jje(e){e.exit("blockQuote")}const wie={name:"characterEscape",tokenize:Zje};function Zje(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Mje(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const N7=document.createElement("i");function k6(e){const t="&"+e+";";N7.innerHTML=t;const n=N7.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const Eie={name:"characterReference",tokenize:eBe};function eBe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=Io,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Lje,c):(e.enter("characterReferenceValue"),s=7,o=KN,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===Io&&!k6(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const k7={tokenize:nBe,partial:!0},D7={name:"codeFenced",tokenize:tBe,concrete:!0};function tBe(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return u;function u(b){return l(b)}function l(b){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(b)}function c(b){return b===a?(o++,e.consume(b),c):o<3?n(b):(e.exit("codeFencedFenceSequence"),Cn(b)?Xn(e,f,"whitespace")(b):f(b))}function f(b){return b===null||At(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(k7,m,S)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===null||At(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(b)):Cn(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Xn(e,h,"whitespace")(b)):b===96&&b===a?n(b):(e.consume(b),d)}function h(b){return b===null||At(b)?f(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||At(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(b)):b===96&&b===a?n(b):(e.consume(b),p)}function m(b){return e.attempt(i,S,y)(b)}function y(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return s>0&&Cn(b)?Xn(e,v,"linePrefix",s+1)(b):v(b)}function v(b){return b===null||At(b)?e.check(k7,m,S)(b):(e.enter("codeFlowValue"),_(b))}function _(b){return b===null||At(b)?(e.exit("codeFlowValue"),v(b)):(e.consume(b),_)}function S(b){return e.exit("codeFenced"),t(b)}function x(b,T,I){let D=0;return $;function $(ee){return b.enter("lineEnding"),b.consume(ee),b.exit("lineEnding"),B}function B(ee){return b.enter("codeFencedFence"),Cn(ee)?Xn(b,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):O(ee)}function O(ee){return ee===a?(b.enter("codeFencedFenceSequence"),M(ee)):I(ee)}function M(ee){return ee===a?(D++,b.consume(ee),M):D>=o?(b.exit("codeFencedFenceSequence"),Cn(ee)?Xn(b,k,"whitespace")(ee):k(ee)):I(ee)}function k(ee){return ee===null||At(ee)?(b.exit("codeFencedFence"),T(ee)):I(ee)}}}function nBe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const $O={name:"codeIndented",tokenize:iBe},rBe={tokenize:sBe,partial:!0};function iBe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Xn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):At(l)?e.attempt(rBe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||At(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function sBe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):At(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Xn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):At(o)?i(o):n(o)}}const oBe={name:"codeText",tokenize:lBe,resolve:aBe,previous:uBe};function aBe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function uBe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lBe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):At(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||At(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function Sie(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,cBe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),al(e,i,n-i+1,a))}}return!l}function cBe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),v=s.pop();u.unshift([v,v+g.length-1]),al(e,v,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const fBe={tokenize:pBe,resolve:hBe},dBe={tokenize:mBe,partial:!0};function hBe(e){return Sie(e),e}function pBe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):At(a)?e.check(dBe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function mBe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Xn(e,s,"linePrefix")}function s(o){if(o===null||At(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Tie(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===32||g===41||YN(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||At(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return!c&&(g===null||g===41||io(g))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):c<l&&g===40?(e.consume(g),c++,m):g===41?(e.consume(g),c--,m):g===null||g===32||g===40||YN(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function xie(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):At(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||At(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!Cn(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function Iie(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):At(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Xn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||At(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function ky(e,t){let n;return r;function r(i){return At(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Cn(i)?Xn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function gm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gBe={name:"definition",tokenize:vBe},yBe={tokenize:_Be,partial:!0};function vBe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return xie.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=gm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return io(h)?ky(e,l)(h):l(h)}function l(h){return Tie(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(yBe,f,f)(h)}function f(h){return Cn(h)?Xn(e,d,"whitespace")(h):d(h)}function d(h){return h===null||At(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function _Be(e,t,n){return r;function r(a){return io(a)?ky(e,i)(a):n(a)}function i(a){return Iie(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Cn(a)?Xn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||At(a)?t(a):n(a)}}const bBe={name:"hardBreakEscape",tokenize:wBe};function wBe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return At(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const EBe={name:"headingAtx",tokenize:TBe,resolve:SBe};function SBe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},al(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function TBe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||io(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||At(c)?(e.exit("atxHeading"),t(c)):Cn(c)?Xn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||io(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const xBe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$7=["pre","script","style","textarea"],IBe={name:"htmlFlow",tokenize:OBe,resolveTo:PBe,concrete:!0},CBe={tokenize:NBe,partial:!0},ABe={tokenize:RBe,partial:!0};function PBe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function OBe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(A){return c(A)}function c(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),f}function f(A){return A===33?(e.consume(A),d):A===47?(e.consume(A),s=!0,m):A===63?(e.consume(A),i=3,r.interrupt?t:P):Cu(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function d(A){return A===45?(e.consume(A),i=2,h):A===91?(e.consume(A),i=5,a=0,p):Cu(A)?(e.consume(A),i=4,r.interrupt?t:P):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:P):n(A)}function p(A){const R="CDATA[";return A===R.charCodeAt(a++)?(e.consume(A),a===R.length?r.interrupt?t:O:p):n(A)}function m(A){return Cu(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function y(A){if(A===null||A===47||A===62||io(A)){const R=A===47,L=o.toLowerCase();return!R&&!s&&$7.includes(L)?(i=1,r.interrupt?t(A):O(A)):xBe.includes(o.toLowerCase())?(i=6,R?(e.consume(A),g):r.interrupt?t(A):O(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):s?v(A):_(A))}return A===45||Io(A)?(e.consume(A),o+=String.fromCharCode(A),y):n(A)}function g(A){return A===62?(e.consume(A),r.interrupt?t:O):n(A)}function v(A){return Cn(A)?(e.consume(A),v):$(A)}function _(A){return A===47?(e.consume(A),$):A===58||A===95||Cu(A)?(e.consume(A),S):Cn(A)?(e.consume(A),_):$(A)}function S(A){return A===45||A===46||A===58||A===95||Io(A)?(e.consume(A),S):x(A)}function x(A){return A===61?(e.consume(A),b):Cn(A)?(e.consume(A),x):_(A)}function b(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),u=A,T):Cn(A)?(e.consume(A),b):I(A)}function T(A){return A===u?(e.consume(A),u=null,D):A===null||At(A)?n(A):(e.consume(A),T)}function I(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||io(A)?x(A):(e.consume(A),I)}function D(A){return A===47||A===62||Cn(A)?_(A):n(A)}function $(A){return A===62?(e.consume(A),B):n(A)}function B(A){return A===null||At(A)?O(A):Cn(A)?(e.consume(A),B):n(A)}function O(A){return A===45&&i===2?(e.consume(A),te):A===60&&i===1?(e.consume(A),re):A===62&&i===4?(e.consume(A),V):A===63&&i===3?(e.consume(A),P):A===93&&i===5?(e.consume(A),ie):At(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(CBe,Y,M)(A)):A===null||At(A)?(e.exit("htmlFlowData"),M(A)):(e.consume(A),O)}function M(A){return e.check(ABe,k,Y)(A)}function k(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),ee}function ee(A){return A===null||At(A)?M(A):(e.enter("htmlFlowData"),O(A))}function te(A){return A===45?(e.consume(A),P):O(A)}function re(A){return A===47?(e.consume(A),o="",K):O(A)}function K(A){if(A===62){const R=o.toLowerCase();return $7.includes(R)?(e.consume(A),V):O(A)}return Cu(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),K):O(A)}function ie(A){return A===93?(e.consume(A),P):O(A)}function P(A){return A===62?(e.consume(A),V):A===45&&i===2?(e.consume(A),P):O(A)}function V(A){return A===null||At(A)?(e.exit("htmlFlowData"),Y(A)):(e.consume(A),V)}function Y(A){return e.exit("htmlFlow"),t(A)}}function RBe(e,t,n){const r=this;return i;function i(o){return At(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function NBe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(EC,t,n)}}const kBe={name:"htmlText",tokenize:DBe};function DBe(e,t,n){const r=this;let i,s,o;return a;function a(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),u}function u(P){return P===33?(e.consume(P),l):P===47?(e.consume(P),x):P===63?(e.consume(P),_):Cu(P)?(e.consume(P),I):n(P)}function l(P){return P===45?(e.consume(P),c):P===91?(e.consume(P),s=0,p):Cu(P)?(e.consume(P),v):n(P)}function c(P){return P===45?(e.consume(P),h):n(P)}function f(P){return P===null?n(P):P===45?(e.consume(P),d):At(P)?(o=f,re(P)):(e.consume(P),f)}function d(P){return P===45?(e.consume(P),h):f(P)}function h(P){return P===62?te(P):P===45?d(P):f(P)}function p(P){const V="CDATA[";return P===V.charCodeAt(s++)?(e.consume(P),s===V.length?m:p):n(P)}function m(P){return P===null?n(P):P===93?(e.consume(P),y):At(P)?(o=m,re(P)):(e.consume(P),m)}function y(P){return P===93?(e.consume(P),g):m(P)}function g(P){return P===62?te(P):P===93?(e.consume(P),g):m(P)}function v(P){return P===null||P===62?te(P):At(P)?(o=v,re(P)):(e.consume(P),v)}function _(P){return P===null?n(P):P===63?(e.consume(P),S):At(P)?(o=_,re(P)):(e.consume(P),_)}function S(P){return P===62?te(P):_(P)}function x(P){return Cu(P)?(e.consume(P),b):n(P)}function b(P){return P===45||Io(P)?(e.consume(P),b):T(P)}function T(P){return At(P)?(o=T,re(P)):Cn(P)?(e.consume(P),T):te(P)}function I(P){return P===45||Io(P)?(e.consume(P),I):P===47||P===62||io(P)?D(P):n(P)}function D(P){return P===47?(e.consume(P),te):P===58||P===95||Cu(P)?(e.consume(P),$):At(P)?(o=D,re(P)):Cn(P)?(e.consume(P),D):te(P)}function $(P){return P===45||P===46||P===58||P===95||Io(P)?(e.consume(P),$):B(P)}function B(P){return P===61?(e.consume(P),O):At(P)?(o=B,re(P)):Cn(P)?(e.consume(P),B):D(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,M):At(P)?(o=O,re(P)):Cn(P)?(e.consume(P),O):(e.consume(P),k)}function M(P){return P===i?(e.consume(P),i=void 0,ee):P===null?n(P):At(P)?(o=M,re(P)):(e.consume(P),M)}function k(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||io(P)?D(P):(e.consume(P),k)}function ee(P){return P===47||P===62||io(P)?D(P):n(P)}function te(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function re(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),K}function K(P){return Cn(P)?Xn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):ie(P)}function ie(P){return e.enter("htmlTextData"),o(P)}}const D6={name:"labelEnd",tokenize:BBe,resolveTo:jBe,resolveAll:FBe},$Be={tokenize:UBe},LBe={tokenize:VBe},MBe={tokenize:zBe};function FBe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function jBe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=ea(a,e.slice(s+1,s+r+3)),a=ea(a,[["enter",c,t]]),a=ea(a,N6(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=ea(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=ea(a,e.slice(o+1)),a=ea(a,[["exit",u,t]]),al(e,s,e.length,a),e}function BBe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(gm(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt($Be,c,o?c:f)(d):d===91?e.attempt(LBe,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(MBe,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function UBe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return io(f)?ky(e,s)(f):s(f)}function s(f){return f===41?c(f):Tie(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return io(f)?ky(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?Iie(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return io(f)?ky(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function VBe(e,t,n){const r=this;return i;function i(a){return xie.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(gm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function zBe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const HBe={name:"labelStartImage",tokenize:WBe,resolveAll:D6.resolveAll};function WBe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const qBe={name:"labelStartLink",tokenize:GBe,resolveAll:D6.resolveAll};function GBe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const LO={name:"lineEnding",tokenize:YBe};function YBe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Xn(e,t,"linePrefix")}}const Dw={name:"thematicBreak",tokenize:KBe};function KBe(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||At(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),Cn(l)?Xn(e,a,"whitespace")(l):a(l))}}const Ls={name:"list",tokenize:JBe,continuation:{tokenize:ZBe},exit:t9e},QBe={tokenize:n9e,partial:!0},XBe={tokenize:e9e,partial:!0};function JBe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:KN(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Dw,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return KN(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(EC,r.interrupt?n:c,e.attempt(QBe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Cn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function ZBe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(EC,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Cn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(XBe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xn(e,e.attempt(Ls,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function e9e(e,t,n){const r=this;return Xn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function t9e(e){e.exit(this.containerState.type)}function n9e(e,t,n){const r=this;return Xn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Cn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const L7={name:"setextUnderline",tokenize:i9e,resolveTo:r9e};function r9e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function i9e(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),Cn(l)?Xn(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||At(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const s9e={tokenize:o9e};function o9e(e){const t=this,n=e.attempt(EC,r,e.attempt(this.parser.constructs.flowInitial,i,Xn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(fBe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const a9e={resolveAll:Aie()},u9e=Cie("string"),l9e=Cie("text");function Cie(e){return{tokenize:t,resolveAll:Aie(e==="text"?c9e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Aie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function c9e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function f9e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:_,exit:S,attempt:T(x),check:T(b),interrupt:T(b,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(B){return o=ea(o,B),y(),o[o.length-1]!==null?[]:(I(t,0),l.events=N6(s,l.events,l),l.events)}function d(B,O){return h9e(h(B),O)}function h(B){return d9e(o,B)}function p(){const{line:B,column:O,offset:M,_index:k,_bufferIndex:ee}=r;return{line:B,column:O,offset:M,_index:k,_bufferIndex:ee}}function m(B){i[B.line]=B.column,$()}function y(){let B;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(B){c=c(B)}function v(B){At(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,$()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=B}function _(B,O){const M=O||{};return M.type=B,M.start=p(),l.events.push(["enter",M,l]),a.push(M),M}function S(B){const O=a.pop();return O.end=p(),l.events.push(["exit",O,l]),O}function x(B,O){I(B,O.from)}function b(B,O){O.restore()}function T(B,O){return M;function M(k,ee,te){let re,K,ie,P;return Array.isArray(k)?Y(k):"tokenize"in k?Y([k]):V(k);function V(G){return le;function le(ce){const de=ce!==null&&G[ce],me=ce!==null&&G.null,we=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(me)?me:me?[me]:[]];return Y(we)(ce)}}function Y(G){return re=G,K=0,G.length===0?te:A(G[K])}function A(G){return le;function le(ce){return P=D(),ie=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?L():G.tokenize.call(O?Object.assign(Object.create(l),O):l,u,R,L)(ce)}}function R(G){return B(ie,P),ee}function L(G){return P.restore(),++K<re.length?A(re[K]):te}}}function I(B,O){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&al(l.events,O,l.events.length-O,B.resolve(l.events.slice(O),l)),B.resolveTo&&(l.events=B.resolveTo(l.events,l))}function D(){const B=p(),O=l.previous,M=l.currentConstruct,k=l.events.length,ee=Array.from(a);return{restore:te,from:k};function te(){r=B,l.previous=O,l.currentConstruct=M,l.events.length=k,a=ee,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function d9e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function h9e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const p9e={42:Ls,43:Ls,45:Ls,48:Ls,49:Ls,50:Ls,51:Ls,52:Ls,53:Ls,54:Ls,55:Ls,56:Ls,57:Ls,62:bie},m9e={91:gBe},g9e={[-2]:$O,[-1]:$O,32:$O},y9e={35:EBe,42:Dw,45:[L7,Dw],60:IBe,61:L7,95:Dw,96:D7,126:D7},v9e={38:Eie,92:wie},_9e={[-5]:LO,[-4]:LO,[-3]:LO,33:HBe,38:Eie,42:QN,60:[Gje,kBe],91:qBe,92:[bBe,wie],93:D6,95:QN,96:oBe},b9e={null:[QN,a9e]},w9e={null:[42,95]},E9e={null:[]},S9e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:w9e,contentInitial:m9e,disable:E9e,document:p9e,flow:y9e,flowInitial:g9e,insideSpan:b9e,string:v9e,text:_9e},Symbol.toStringTag,{value:"Module"}));function T9e(e){const n=Rje([S9e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(Bje),document:i(Vje),flow:i(s9e),string:i(u9e),text:i(l9e)};return r;function i(s){return o;function o(a){return f9e(r,s,a)}}}const M7=/[\0\t\n\r]/g;function x9e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(M7.lastIndex=f,l=M7.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function I9e(e){for(;!Sie(e););return e}function Pie(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const C9e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function A9e(e){return e.replace(C9e,P9e)}function P9e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Pie(n.slice(s?2:1),s?16:10)}return k6(n)||e}const Oie={}.hasOwnProperty,O9e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),R9e(n)(I9e(T9e(n).document().write(x9e()(e,t,!0))))};function R9e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ut),autolinkProtocol:B,autolinkEmail:B,atxHeading:a(De),blockQuote:a(we),characterEscape:B,characterReference:B,codeFenced:a(ye),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(ye,u),codeText:a(He,u),codeTextData:B,data:B,codeFlowValue:B,definition:a(Ke),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(mt),hardBreakEscape:a(Ie),hardBreakTrailing:a(Ie),htmlFlow:a(We,u),htmlFlowData:B,htmlText:a(We,u),htmlTextData:B,image:a(Wt),label:u,link:a(Ut),listItem:a(Fe),listItemValue:p,listOrdered:a(ze,h),listUnordered:a(ze),paragraph:a(at),reference:L,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(De),strong:a(dt),thematicBreak:a(Kt)},exit:{atxHeading:c(),atxHeadingSequence:T,autolink:c(),autolinkEmail:me,autolinkProtocol:de,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ce,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:O,codeIndented:c(_),codeText:c(re),codeTextData:O,data:O,definition:c(),definitionDestinationString:b,definitionLabelString:S,definitionTitleString:x,emphasis:c(),hardBreakEscape:c(k),hardBreakTrailing:c(k),htmlFlow:c(ee),htmlFlowData:O,htmlText:c(te),htmlTextData:O,image:c(ie),label:V,labelText:P,lineEnding:M,link:c(K),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:Y,resourceTitleString:A,resource:R,setextHeading:c($),setextHeadingLineSequence:D,setextHeadingText:I,strong:c(),thematicBreak:c()}};Rie(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Se={type:"root",children:[]};const Le={stack:[Se],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:d,setData:s,getData:o},Je=[];let ct=-1;for(;++ct<ge.length;)if(ge[ct][1].type==="listOrdered"||ge[ct][1].type==="listUnordered")if(ge[ct][0]==="enter")Je.push(ct);else{const En=Je.pop();ct=i(ge,En,ct)}for(ct=-1;++ct<ge.length;){const En=t[ge[ct][0]];Oie.call(En,ge[ct][1].type)&&En[ge[ct][1].type].call(Object.assign({sliceSerialize:ge[ct][2].sliceSerialize},Le),ge[ct][1])}if(Le.tokenStack.length>0){const En=Le.tokenStack[Le.tokenStack.length-1];(En[1]||F7).call(Le,void 0,En[0])}for(Se.position={start:Mc(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Mc(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<t.transforms.length;)Se=t.transforms[ct](Se)||Se;return Se}function i(ge,Se,Le){let Je=Se-1,ct=-1,En=!1,Me,rt,ut,Gt;for(;++Je<=Le;){const pt=ge[Je];if(pt[1].type==="listUnordered"||pt[1].type==="listOrdered"||pt[1].type==="blockQuote"?(pt[0]==="enter"?ct++:ct--,Gt=void 0):pt[1].type==="lineEndingBlank"?pt[0]==="enter"&&(Me&&!Gt&&!ct&&!ut&&(ut=Je),Gt=void 0):pt[1].type==="linePrefix"||pt[1].type==="listItemValue"||pt[1].type==="listItemMarker"||pt[1].type==="listItemPrefix"||pt[1].type==="listItemPrefixWhitespace"||(Gt=void 0),!ct&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||ct===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Me){let br=Je;for(rt=void 0;br--;){const hn=ge[br];if(hn[1].type==="lineEnding"||hn[1].type==="lineEndingBlank"){if(hn[0]==="exit")continue;rt&&(ge[rt][1].type="lineEndingBlank",En=!0),hn[1].type="lineEnding",rt=br}else if(!(hn[1].type==="linePrefix"||hn[1].type==="blockQuotePrefix"||hn[1].type==="blockQuotePrefixWhitespace"||hn[1].type==="blockQuoteMarker"||hn[1].type==="listItemIndent"))break}ut&&(!rt||ut<rt)&&(Me._spread=!0),Me.end=Object.assign({},rt?ge[rt][1].start:pt[1].end),ge.splice(rt||Je,0,["exit",Me,pt[2]]),Je++,Le++}pt[1].type==="listItemPrefix"&&(Me={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0},ge.splice(Je,0,["enter",Me,pt[2]]),Je++,Le++,ut=void 0,Gt=!0)}}return ge[Se][1]._spread=En,Le}function s(ge,Se){n[ge]=Se}function o(ge){return n[ge]}function a(ge,Se){return Le;function Le(Je){l.call(this,ge(Je),Je),Se&&Se.call(this,Je)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(ge,Se,Le){return this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Se,Le]),ge.position={start:Mc(Se.start)},ge}function c(ge){return Se;function Se(Le){ge&&ge.call(this,Le),f.call(this,Le)}}function f(ge,Se){const Le=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==ge.type&&(Se?Se.call(this,ge,Je[0]):(Je[1]||F7).call(this,ge,Je[0]));else throw new Error("Cannot close `"+ge.type+"` ("+mm({start:ge.start,end:ge.end})+"): its not open");return Le.position.end=Mc(ge.end),Le}function d(){return Pje(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(ge){if(o("expectingFirstListItemValue")){const Se=this.stack[this.stack.length-2];Se.start=Number.parseInt(this.sliceSerialize(ge),10),s("expectingFirstListItemValue")}}function m(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.lang=ge}function y(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.meta=ge}function g(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge.replace(/(\r?\n|\r)$/g,"")}function S(ge){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Se,Le.identifier=gm(this.sliceSerialize(ge)).toLowerCase()}function x(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.title=ge}function b(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.url=ge}function T(ge){const Se=this.stack[this.stack.length-1];if(!Se.depth){const Le=this.sliceSerialize(ge).length;Se.depth=Le}}function I(){s("setextHeadingSlurpLineEnding",!0)}function D(ge){const Se=this.stack[this.stack.length-1];Se.depth=this.sliceSerialize(ge).charCodeAt(0)===61?1:2}function $(){s("setextHeadingSlurpLineEnding")}function B(ge){const Se=this.stack[this.stack.length-1];let Le=Se.children[Se.children.length-1];(!Le||Le.type!=="text")&&(Le=Ct(),Le.position={start:Mc(ge.start)},Se.children.push(Le)),this.stack.push(Le)}function O(ge){const Se=this.stack.pop();Se.value+=this.sliceSerialize(ge),Se.position.end=Mc(ge.end)}function M(ge){const Se=this.stack[this.stack.length-1];if(o("atHardBreak")){const Le=Se.children[Se.children.length-1];Le.position.end=Mc(ge.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Se.type)&&(B.call(this,ge),O.call(this,ge))}function k(){s("atHardBreak",!0)}function ee(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge}function te(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge}function re(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.value=ge}function K(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Se=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Se,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function ie(){const ge=this.stack[this.stack.length-1];if(o("inReference")){const Se=o("referenceType")||"shortcut";ge.type+="Reference",ge.referenceType=Se,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;s("referenceType")}function P(ge){const Se=this.sliceSerialize(ge),Le=this.stack[this.stack.length-2];Le.label=A9e(Se),Le.identifier=gm(Se).toLowerCase()}function V(){const ge=this.stack[this.stack.length-1],Se=this.resume(),Le=this.stack[this.stack.length-1];if(s("inReference",!0),Le.type==="link"){const Je=ge.children;Le.children=Je}else Le.alt=Se}function Y(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.url=ge}function A(){const ge=this.resume(),Se=this.stack[this.stack.length-1];Se.title=ge}function R(){s("inReference")}function L(){s("referenceType","collapsed")}function G(ge){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Se,Le.identifier=gm(this.sliceSerialize(ge)).toLowerCase(),s("referenceType","full")}function le(ge){s("characterReferenceType",ge.type)}function ce(ge){const Se=this.sliceSerialize(ge),Le=o("characterReferenceType");let Je;Le?(Je=Pie(Se,Le==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Je=k6(Se);const ct=this.stack.pop();ct.value+=Je,ct.position.end=Mc(ge.end)}function de(ge){O.call(this,ge);const Se=this.stack[this.stack.length-1];Se.url=this.sliceSerialize(ge)}function me(ge){O.call(this,ge);const Se=this.stack[this.stack.length-1];Se.url="mailto:"+this.sliceSerialize(ge)}function we(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function He(){return{type:"inlineCode",value:""}}function Ke(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mt(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:void 0,children:[]}}function Ie(){return{type:"break"}}function We(){return{type:"html",value:""}}function Wt(){return{type:"image",title:null,url:"",alt:null}}function Ut(){return{type:"link",title:null,url:"",children:[]}}function ze(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Fe(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function at(){return{type:"paragraph",children:[]}}function dt(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function Kt(){return{type:"thematicBreak"}}}function Mc(e){return{line:e.line,column:e.column,offset:e.offset}}function Rie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Rie(e,r):N9e(e,r)}}function N9e(e,t){let n;for(n in t)if(Oie.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function F7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+mm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+mm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+mm({start:t.start,end:t.end})+") is still open")}function k9e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return O9e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function D9e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function $9e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function L9e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function M9e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F9e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Og(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Io(e.charCodeAt(n+1))&&Io(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Nie(e,t){const n=String(t.identifier).toUpperCase(),r=Og(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function j9e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Nie(e,{type:"footnoteReference",identifier:i,position:t.position})}function B9e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U9e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function kie(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function V9e(e,t){const n=e.definition(t.identifier);if(!n)return kie(e,t);const r={src:Og(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function z9e(e,t){const n={src:Og(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function H9e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function W9e(e,t){const n=e.definition(t.identifier);if(!n)return kie(e,t);const r={href:Og(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function q9e(e,t){const n={href:Og(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function G9e(e,t,n){const r=e.all(t),i=n?Y9e(n):Die(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function Y9e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Die(n[r])}return t}function Die(e){const t=e.spread;return t??e.children.length>1}function K9e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Q9e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X9e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function J9e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $6=$ie("start"),L6=$ie("end");function Z9e(e){return{start:$6(e),end:L6(e)}}function $ie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function eUe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=$6(t.children[1]),u=L6(t.children[t.children.length-1]);a.line&&u.line&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function tUe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function nUe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const j7=9,B7=32;function rUe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(U7(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(U7(t.slice(i),i>0,!1)),s.join("")}function U7(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===j7||s===B7;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===j7||s===B7;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function iUe(e,t){const n={type:"text",value:rUe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function sUe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const oUe={blockquote:D9e,break:$9e,code:L9e,delete:M9e,emphasis:F9e,footnoteReference:Nie,footnote:j9e,heading:B9e,html:U9e,imageReference:V9e,image:z9e,inlineCode:H9e,linkReference:W9e,link:q9e,listItem:G9e,list:K9e,paragraph:Q9e,root:X9e,strong:J9e,table:eUe,tableCell:nUe,tableRow:tUe,text:iUe,thematicBreak:sUe,toml:Sb,yaml:Sb,definition:Sb,footnoteDefinition:Sb};function Sb(){return null}const Lie=function(e){if(e==null)return cUe;if(typeof e=="string")return lUe(e);if(typeof e=="object")return Array.isArray(e)?aUe(e):uUe(e);if(typeof e=="function")return SC(e);throw new Error("Expected function, string, or object as test")};function aUe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Lie(e[n]);return SC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function uUe(e){return SC(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function lUe(e){return SC(t);function t(n){return n&&n.type===e}}function SC(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function cUe(){return!0}const fUe=!0,V7=!1,dUe="skip",hUe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Lie(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,m;if((!t||i(a,u,l[l.length-1]||null))&&(d=pUe(n(a,l)),d[0]===V7))return d;if(a.children&&d[0]!==dUe)for(p=(r?a.children.length:-1)+s,m=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,m)(),h[0]===V7)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function pUe(e){return Array.isArray(e)?e:typeof e=="number"?[fUe,e]:[e]}const M6=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),hUe(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function mUe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const z7={}.hasOwnProperty;function gUe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return M6(e,"definition",r=>{const i=H7(r.identifier);i&&!z7.call(t,i)&&(t[i]=r)}),n;function n(r){const i=H7(r);return i&&z7.call(t,i)?t[i]:null}}function H7(e){return String(e||"").toUpperCase()}const UT={}.hasOwnProperty;function yUe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...oUe,...n.handlers},o.definition=gUe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=vUe,o.applyData=_Ue,o.one=a,o.all=u,o.wrap=wUe,o.augment=s,M6(e,"footnoteDefinition",l=>{const c=String(l.identifier).toUpperCase();UT.call(i,c)||(i[c]=l)}),o;function s(l,c){if(l&&"data"in l&&l.data){const f=l.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(l){const f="type"in l?l:{position:l};mUe(f)||(c.position={start:$6(f),end:L6(f)})}return c}function o(l,c,f,d){return Array.isArray(f)&&(d=f,f={}),s(l,{type:"element",tagName:c,properties:f||{},children:d||[]})}function a(l,c){return Mie(o,l,c)}function u(l){return F6(o,l)}}function vUe(e,t){e.position&&(t.position=Z9e(e))}function _Ue(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Mie(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return UT.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:F6(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):bUe(e,t)}function F6(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=Mie(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function bUe(e,t){const n=t.data||{},r="value"in t&&!(UT.call(n,"hProperties")||UT.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:F6(e,t)};return e.patch(t,r),e.applyData(t,r)}function wUe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function EUe(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Og(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function Fie(e,t){const n=yUe(e,t),r=n.one(e,null),i=EUe(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const SUe=function(e,t){return e&&"run"in e?xUe(e,t):IUe(e||t)},TUe=SUe;function xUe(e,t){return(n,r,i)=>{e.run(Fie(n,t),r,s=>{i(s)})}}function IUe(e){return t=>Fie(t,e)}var jie={exports:{}},CUe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AUe=CUe,PUe=AUe;function Bie(){}function Uie(){}Uie.resetWarningCache=Bie;var OUe=function(){function e(r,i,s,o,a,u){if(u!==PUe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Uie,resetWarningCache:Bie};return n.PropTypes=n,n};jie.exports=OUe();var RUe=jie.exports;const yt=ma(RUe);let Y_=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Y_.prototype.property={};Y_.prototype.normal={};Y_.prototype.space=null;function Vie(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Y_(n,r,t)}function Av(e){return e.toLowerCase()}class ba{constructor(t,n){this.property=t,this.attribute=n}}ba.prototype.space=null;ba.prototype.boolean=!1;ba.prototype.booleanish=!1;ba.prototype.overloadedBoolean=!1;ba.prototype.number=!1;ba.prototype.commaSeparated=!1;ba.prototype.spaceSeparated=!1;ba.prototype.commaOrSpaceSeparated=!1;ba.prototype.mustUseProperty=!1;ba.prototype.defined=!1;let NUe=0;const zt=Wh(),qr=Wh(),zie=Wh(),ke=Wh(),Kn=Wh(),ym=Wh(),_o=Wh();function Wh(){return 2**++NUe}const XN=Object.freeze(Object.defineProperty({__proto__:null,boolean:zt,booleanish:qr,commaOrSpaceSeparated:_o,commaSeparated:ym,number:ke,overloadedBoolean:zie,spaceSeparated:Kn},Symbol.toStringTag,{value:"Module"})),MO=Object.keys(XN);class j6 extends ba{constructor(t,n,r,i){let s=-1;if(super(t,n),W7(this,"space",i),typeof r=="number")for(;++s<MO.length;){const o=MO[s];W7(this,MO[s],(r&XN[o])===XN[o])}}}j6.prototype.defined=!0;function W7(e,t,n){n&&(e[t]=n)}const kUe={}.hasOwnProperty;function Rg(e){const t={},n={};let r;for(r in e.properties)if(kUe.call(e.properties,r)){const i=e.properties[r],s=new j6(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Av(r)]=r,n[Av(s.attribute)]=r}return new Y_(t,n,e.space)}const Hie=Rg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Wie=Rg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function qie(e,t){return t in e?e[t]:t}function Gie(e,t){return qie(e,t.toLowerCase())}const Yie=Rg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Gie,properties:{xmlns:null,xmlnsXLink:null}}),Kie=Rg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:qr,ariaAutoComplete:null,ariaBusy:qr,ariaChecked:qr,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Kn,ariaCurrent:null,ariaDescribedBy:Kn,ariaDetails:null,ariaDisabled:qr,ariaDropEffect:Kn,ariaErrorMessage:null,ariaExpanded:qr,ariaFlowTo:Kn,ariaGrabbed:qr,ariaHasPopup:null,ariaHidden:qr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kn,ariaLevel:ke,ariaLive:null,ariaModal:qr,ariaMultiLine:qr,ariaMultiSelectable:qr,ariaOrientation:null,ariaOwns:Kn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:qr,ariaReadOnly:qr,ariaRelevant:null,ariaRequired:qr,ariaRoleDescription:Kn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:qr,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),DUe=Rg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Gie,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ym,acceptCharset:Kn,accessKey:Kn,action:null,allow:null,allowFullScreen:zt,allowPaymentRequest:zt,allowUserMedia:zt,alt:null,as:null,async:zt,autoCapitalize:null,autoComplete:Kn,autoFocus:zt,autoPlay:zt,blocking:Kn,capture:null,charSet:null,checked:zt,cite:null,className:Kn,cols:ke,colSpan:null,content:null,contentEditable:qr,controls:zt,controlsList:Kn,coords:ke|ym,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zt,defer:zt,dir:null,dirName:null,disabled:zt,download:zie,draggable:qr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zt,formTarget:null,headers:Kn,height:ke,hidden:zt,high:ke,href:null,hrefLang:null,htmlFor:Kn,httpEquiv:Kn,id:null,imageSizes:null,imageSrcSet:null,inert:zt,inputMode:null,integrity:null,is:null,isMap:zt,itemId:null,itemProp:Kn,itemRef:Kn,itemScope:zt,itemType:Kn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:zt,muted:zt,name:null,nonce:null,noModule:zt,noValidate:zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zt,optimum:ke,pattern:null,ping:Kn,placeholder:null,playsInline:zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:zt,referrerPolicy:null,rel:Kn,required:zt,reversed:zt,rows:ke,rowSpan:ke,sandbox:Kn,scope:null,scoped:zt,seamless:zt,selected:zt,shadowRootDelegatesFocus:zt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:qr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:zt,useMap:null,value:qr,width:ke,wrap:null,align:null,aLink:null,archive:Kn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zt,declare:zt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:zt,noHref:zt,noShade:zt,noWrap:zt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:qr,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zt,disableRemotePlayback:zt,prefix:null,property:null,results:ke,security:null,unselectable:null}}),$Ue=Rg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:qie,properties:{about:_o,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Kn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ym,g2:ym,glyphName:ym,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:_o,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_o,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_o,rev:_o,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_o,requiredFeatures:_o,requiredFonts:_o,requiredFormats:_o,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:_o,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_o,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_o,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),LUe=/^data[-\w.:]+$/i,q7=/-[a-z]/g,MUe=/[A-Z]/g;function TC(e,t){const n=Av(t);let r=t,i=ba;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&LUe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(q7,jUe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!q7.test(s)){let o=s.replace(MUe,FUe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=j6}return new i(r,t)}function FUe(e){return"-"+e.toLowerCase()}function jUe(e){return e.charAt(1).toUpperCase()}const G7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},K_=Vie([Wie,Hie,Yie,Kie,DUe],"html"),Ng=Vie([Wie,Hie,Yie,Kie,$Ue],"svg");function BUe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{M6(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var Qie={exports:{}},Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B6=Symbol.for("react.element"),U6=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),UUe=Symbol.for("react.server_context"),OC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),NC=Symbol.for("react.suspense_list"),kC=Symbol.for("react.memo"),DC=Symbol.for("react.lazy"),VUe=Symbol.for("react.offscreen"),Xie;Xie=Symbol.for("react.module.reference");function wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case B6:switch(e=e.type,e){case xC:case CC:case IC:case RC:case NC:return e;default:switch(e=e&&e.$$typeof,e){case UUe:case PC:case OC:case DC:case kC:case AC:return e;default:return t}}case U6:return t}}}Fn.ContextConsumer=PC;Fn.ContextProvider=AC;Fn.Element=B6;Fn.ForwardRef=OC;Fn.Fragment=xC;Fn.Lazy=DC;Fn.Memo=kC;Fn.Portal=U6;Fn.Profiler=CC;Fn.StrictMode=IC;Fn.Suspense=RC;Fn.SuspenseList=NC;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return wa(e)===PC};Fn.isContextProvider=function(e){return wa(e)===AC};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===B6};Fn.isForwardRef=function(e){return wa(e)===OC};Fn.isFragment=function(e){return wa(e)===xC};Fn.isLazy=function(e){return wa(e)===DC};Fn.isMemo=function(e){return wa(e)===kC};Fn.isPortal=function(e){return wa(e)===U6};Fn.isProfiler=function(e){return wa(e)===CC};Fn.isStrictMode=function(e){return wa(e)===IC};Fn.isSuspense=function(e){return wa(e)===RC};Fn.isSuspenseList=function(e){return wa(e)===NC};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xC||e===CC||e===IC||e===RC||e===NC||e===VUe||typeof e=="object"&&e!==null&&(e.$$typeof===DC||e.$$typeof===kC||e.$$typeof===AC||e.$$typeof===PC||e.$$typeof===OC||e.$$typeof===Xie||e.getModuleId!==void 0)};Fn.typeOf=wa;Qie.exports=Fn;var zUe=Qie.exports;const HUe=ma(zUe);function WUe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function Y7(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Jie(e){return e.join(" ").trim()}function K7(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Zie(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var V6={exports:{}},Q7=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,qUe=/\n/g,GUe=/^\s*/,YUe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,KUe=/^:\s*/,QUe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,XUe=/^[;\s]*/,JUe=/^\s+|\s+$/g,ZUe=`
`,X7="/",J7="*",Nd="",eVe="comment",tVe="declaration",nVe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(qUe);m&&(n+=m.length);var y=p.lastIndexOf(ZUe);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(GUe)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(X7!=e.charAt(0)||J7!=e.charAt(1))){for(var m=2;Nd!=e.charAt(m)&&(J7!=e.charAt(m)||X7!=e.charAt(m+1));)++m;if(m+=2,Nd===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:eVe,comment:y})}}function d(){var p=s(),m=u(YUe);if(m){if(f(),!u(KUe))return a("property missing ':'");var y=u(QUe),g=p({type:tVe,property:Z7(m[0].replace(Q7,Nd)),value:y?Z7(y[0].replace(Q7,Nd)):Nd});return u(XUe),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function Z7(e){return e?e.replace(JUe,Nd):Nd}var rVe=nVe;function ese(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=rVe(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}V6.exports=ese;V6.exports.default=ese;var iVe=V6.exports;const sVe=ma(iVe),JN={}.hasOwnProperty,oVe=new Set(["table","thead","tbody","tfoot","tr"]);function tse(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(aVe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!oVe.has(t.tagName)||!WUe(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function aVe(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?K8e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Ng,e.schema=l),t.properties)for(c in t.properties)JN.call(t.properties,c)&&lVe(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=tse(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&JN.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===N.Fragment;if(!HUe.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=n,a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=uVe(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=FO(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=dVe(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=FO(r,t),u.siblingCount=FO(r)),p||(u.node=t),f.length>0?N.createElement(h,u,f):N.createElement(h,u)}function uVe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function FO(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function lVe(e,t,n,r){const i=TC(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Zie(s):Jie(s)),i.property==="style"&&typeof s=="string"&&(s=cVe(s)),i.space&&i.property?e[JN.call(G7,i.property)?G7[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function cVe(e){const t={};try{sVe(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,fVe)]=i}}function fVe(e,t){return t.toUpperCase()}function dVe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const ez={}.hasOwnProperty,hVe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Tb={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function nse(e){for(const s in Tb)if(ez.call(Tb,s)&&ez.call(e,s)){const o=Tb[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${hVe}#${o.id}> for more info)`),delete Tb[s]}const t=Tje().use(k9e).use(e.remarkPlugins||[]).use(TUe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(BUe,e),n=new aje;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=N.createElement(N.Fragment,{},tse({options:e,schema:K_,listDepth:0},r));return e.className&&(i=N.createElement("div",{className:e.className},i)),i}nse.propTypes={children:yt.string,className:yt.string,allowElement:yt.func,allowedElements:yt.arrayOf(yt.string),disallowedElements:yt.arrayOf(yt.string),unwrapDisallowed:yt.bool,remarkPlugins:yt.arrayOf(yt.oneOfType([yt.object,yt.func,yt.arrayOf(yt.oneOfType([yt.bool,yt.string,yt.object,yt.func,yt.arrayOf(yt.any)]))])),rehypePlugins:yt.arrayOf(yt.oneOfType([yt.object,yt.func,yt.arrayOf(yt.oneOfType([yt.bool,yt.string,yt.object,yt.func,yt.arrayOf(yt.any)]))])),sourcePos:yt.bool,rawSourcePos:yt.bool,skipHtml:yt.bool,includeElementIndex:yt.bool,transformLinkUri:yt.oneOfType([yt.func,yt.bool]),linkTarget:yt.oneOfType([yt.func,yt.string]),transformImageUri:yt.func,components:yt.object};const rse=-1,$C=0,VT=1,zT=2,z6=3,H6=4,W6=5,q6=6,ise=7,sse=8,tz=typeof self=="object"?self:globalThis,pVe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case $C:case rse:return n(o,i);case VT:{const a=n([],i);for(const u of o)a.push(r(u));return a}case zT:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case z6:return n(new Date(o),i);case H6:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case W6:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case q6:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case ise:{const{name:a,message:u}=o;return n(new tz[a](u),i)}case sse:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new tz[s](o),i)};return r},nz=e=>pVe(new Map,e)(0),dp="",{toString:mVe}={},{keys:gVe}=Object,C0=e=>{const t=typeof e;if(t!=="object"||!e)return[$C,t];const n=mVe.call(e).slice(8,-1);switch(n){case"Array":return[VT,dp];case"Object":return[zT,dp];case"Date":return[z6,dp];case"RegExp":return[H6,dp];case"Map":return[W6,dp];case"Set":return[q6,dp]}return n.includes("Array")?[VT,n]:n.includes("Error")?[ise,n]:[zT,n]},xb=([e,t])=>e===$C&&(t==="function"||t==="symbol"),yVe=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=C0(o);switch(a){case $C:{let c=o;switch(u){case"bigint":a=sse,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([rse],o)}return i([a,c],o)}case VT:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case zT:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of gVe(o))(e||!xb(C0(o[d])))&&c.push([s(d),s(o[d])]);return f}case z6:return i([a,o.toISOString()],o);case H6:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case W6:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(xb(C0(d))||xb(C0(h))))&&c.push([s(d),s(h)]);return f}case q6:{const c=[],f=i([a,c],o);for(const d of o)(e||!xb(C0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},rz=(e,{json:t,lossy:n}={})=>{const r=[];return yVe(!(t||n),!!t,new Map,r)(e),r},iz=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?nz(rz(e,t)):structuredClone(e):(e,t)=>nz(rz(e,t));const sz=/[#.]/g;function vVe(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){sz.lastIndex=i;const a=sz.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const _Ve=new Set(["button","menu","reset","submit"]),ZN={}.hasOwnProperty;function ose(e,t,n){const r=n&&SVe(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=vVe(s,t),l.tagName=l.tagName.toLowerCase(),r&&ZN.call(r,l.tagName)&&(l.tagName=r[l.tagName]),bVe(o,l.tagName)){let c;for(c in o)ZN.call(o,c)&&wVe(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)ek(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function bVe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?_Ve.has(e.type.toLowerCase()):!("value"in e)}function wVe(e,t,n,r){const i=TC(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Y7(r):i.commaSeparated?o=K7(r):i.commaOrSpaceSeparated?o=Y7(K7(r).join(" ")):o=oz(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?EVe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=oz(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function ek(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)ek(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?ek(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function oz(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Av(n)===Av(t)))return!0}return n}function EVe(e){const t=[];let n;for(n in e)ZN.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function SVe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const TVe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],xVe=ose(K_,"div"),IVe=ose(Ng,"g",TVe),jO=/\r?\n|\r/g;function CVe(e){const t=String(e),n=[];for(jO.lastIndex=0;jO.test(t);)n.push(jO.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Ud={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ase={}.hasOwnProperty,AVe=Object.prototype;function PVe(e,t){const n=t||{};return G6({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ng:K_,verbose:n.verbose||!1},e)}function G6(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},$w(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:use(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=CVe(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},$w(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},$w(e,r,n),n}default:return n=OVe(e,t),n}}function use(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=G6(e,t[n]);r.push(i)}return r}function OVe(e,t){const n=e.schema;e.schema=t.namespaceURI===Ud.svg?Ng:K_;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;ase.call(AVe,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?IVe:xVe)(t.tagName,i,use(e,t.childNodes));if($w(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&zp(u.startTag),c=u&&u.endTag&&zp(u.endTag),f=G6(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function $w(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=RVe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function RVe(e,t,n){const r=zp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)ase.call(n.attrs,o)&&(s[TC(e.schema,o).property]=zp(n.attrs[o]));n.startTag;const a=zp(n.startTag),u=n.endTag?zp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function zp(e){const t=az({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=az({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function az(e){return e.line&&e.column?e:void 0}const uz={}.hasOwnProperty;function lse(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&uz.call(i,e)){const u=String(i[e]);o=uz.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const NVe={},kVe={}.hasOwnProperty,cse=lse("type",{handlers:{root:$Ve,element:BVe,text:FVe,comment:jVe,doctype:MVe}});function DVe(e,t){const r=(t||NVe).space;return cse(e,r==="svg"?Ng:K_)}function $Ve(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Y6(e.children,n,t),kg(e,n),n}function LVe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Y6(e.children,n,t),kg(e,n),n}function MVe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return kg(e,t),t}function FVe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return kg(e,t),t}function jVe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return kg(e,t),t}function BVe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ng);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&kVe.call(e.properties,s)){const u=UVe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Ud[o],childNodes:[],parentNode:null};return a.childNodes=Y6(e.children,a,r),kg(e,a),e.tagName==="template"&&e.content&&(a.content=LVe(e.content,r)),a}function UVe(e,t,n){const r=TC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Zie(n):Jie(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Ud[r.space]}return i}function Y6(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=cse(e[r],n);s.parentNode=t,i.push(s)}return i}function kg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const VVe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],zVe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),fr="";var U;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(U=U||(U={}));const Ns={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function fse(e){return e>=55296&&e<=57343}function HVe(e){return e>=56320&&e<=57343}function WVe(e,t){return(e-55296)*1024+9216+t}function dse(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function hse(e){return e>=64976&&e<=65007||zVe.has(e)}var _e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e=_e||(_e={}));const qVe=65536;class GVe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qVe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(HVe(n))return this.pos++,this._addGap(),WVe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,U.EOF;return this._err(_e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;const r=this.html.charCodeAt(n);return r===U.CARRIAGE_RETURN?U.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;let t=this.html.charCodeAt(this.pos);return t===U.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,U.LINE_FEED):t===U.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,fse(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===U.LINE_FEED||t===U.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){dse(t)?this._err(_e.controlCharacterInInputStream):hse(t)&&this._err(_e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Yt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Yt=Yt||(Yt={}));function pse(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Uc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),YVe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var BO;const KVe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),QVe=(BO=String.fromCodePoint)!==null&&BO!==void 0?BO:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function XVe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=KVe.get(e))!==null&&t!==void 0?t:e}var yi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(yi||(yi={}));const JVe=32;var ju;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ju||(ju={}));function tk(e){return e>=yi.ZERO&&e<=yi.NINE}function ZVe(e){return e>=yi.UPPER_A&&e<=yi.UPPER_F||e>=yi.LOWER_A&&e<=yi.LOWER_F}function e7e(e){return e>=yi.UPPER_A&&e<=yi.UPPER_Z||e>=yi.LOWER_A&&e<=yi.LOWER_Z||tk(e)}function t7e(e){return e===yi.EQUALS||e7e(e)}var di;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(di||(di={}));var kd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(kd||(kd={}));class n7e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=di.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=kd.Strict}startEntity(t){this.decodeMode=t,this.state=di.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case di.EntityStart:return t.charCodeAt(n)===yi.NUM?(this.state=di.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=di.NamedEntity,this.stateNamedEntity(t,n));case di.NumericStart:return this.stateNumericStart(t,n);case di.NumericDecimal:return this.stateNumericDecimal(t,n);case di.NumericHex:return this.stateNumericHex(t,n);case di.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|JVe)===yi.LOWER_X?(this.state=di.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=di.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(tk(i)||ZVe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(tk(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===yi.SEMI)this.consumed+=1;else if(this.decodeMode===kd.Strict)return 0;return this.emitCodePoint(XVe(this.result),this.consumed),this.errors&&(t!==yi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&ju.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=gse(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===kd.Attribute&&(s===0||t7e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&ju.VALUE_LENGTH)>>14,s!==0){if(o===yi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==kd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&ju.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~ju.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case di.NamedEntity:return this.result!==0&&(this.decodeMode!==kd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case di.NumericDecimal:return this.emitNumericEntity(0,2);case di.NumericHex:return this.emitNumericEntity(0,3);case di.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case di.EntityStart:return 0}}}function mse(e){let t="";const n=new n7e(e,r=>t+=QVe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function gse(e,t,n,r){const i=(t&ju.BRANCH_LENGTH)>>7,s=t&ju.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}mse(Uc);mse(YVe);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Sf;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Sf=Sf||(Sf={}));var Eo;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Eo=Eo||(Eo={}));var fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(fe=fe||(fe={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(E=E||(E={}));const r7e=new Map([[fe.A,E.A],[fe.ADDRESS,E.ADDRESS],[fe.ANNOTATION_XML,E.ANNOTATION_XML],[fe.APPLET,E.APPLET],[fe.AREA,E.AREA],[fe.ARTICLE,E.ARTICLE],[fe.ASIDE,E.ASIDE],[fe.B,E.B],[fe.BASE,E.BASE],[fe.BASEFONT,E.BASEFONT],[fe.BGSOUND,E.BGSOUND],[fe.BIG,E.BIG],[fe.BLOCKQUOTE,E.BLOCKQUOTE],[fe.BODY,E.BODY],[fe.BR,E.BR],[fe.BUTTON,E.BUTTON],[fe.CAPTION,E.CAPTION],[fe.CENTER,E.CENTER],[fe.CODE,E.CODE],[fe.COL,E.COL],[fe.COLGROUP,E.COLGROUP],[fe.DD,E.DD],[fe.DESC,E.DESC],[fe.DETAILS,E.DETAILS],[fe.DIALOG,E.DIALOG],[fe.DIR,E.DIR],[fe.DIV,E.DIV],[fe.DL,E.DL],[fe.DT,E.DT],[fe.EM,E.EM],[fe.EMBED,E.EMBED],[fe.FIELDSET,E.FIELDSET],[fe.FIGCAPTION,E.FIGCAPTION],[fe.FIGURE,E.FIGURE],[fe.FONT,E.FONT],[fe.FOOTER,E.FOOTER],[fe.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[fe.FORM,E.FORM],[fe.FRAME,E.FRAME],[fe.FRAMESET,E.FRAMESET],[fe.H1,E.H1],[fe.H2,E.H2],[fe.H3,E.H3],[fe.H4,E.H4],[fe.H5,E.H5],[fe.H6,E.H6],[fe.HEAD,E.HEAD],[fe.HEADER,E.HEADER],[fe.HGROUP,E.HGROUP],[fe.HR,E.HR],[fe.HTML,E.HTML],[fe.I,E.I],[fe.IMG,E.IMG],[fe.IMAGE,E.IMAGE],[fe.INPUT,E.INPUT],[fe.IFRAME,E.IFRAME],[fe.KEYGEN,E.KEYGEN],[fe.LABEL,E.LABEL],[fe.LI,E.LI],[fe.LINK,E.LINK],[fe.LISTING,E.LISTING],[fe.MAIN,E.MAIN],[fe.MALIGNMARK,E.MALIGNMARK],[fe.MARQUEE,E.MARQUEE],[fe.MATH,E.MATH],[fe.MENU,E.MENU],[fe.META,E.META],[fe.MGLYPH,E.MGLYPH],[fe.MI,E.MI],[fe.MO,E.MO],[fe.MN,E.MN],[fe.MS,E.MS],[fe.MTEXT,E.MTEXT],[fe.NAV,E.NAV],[fe.NOBR,E.NOBR],[fe.NOFRAMES,E.NOFRAMES],[fe.NOEMBED,E.NOEMBED],[fe.NOSCRIPT,E.NOSCRIPT],[fe.OBJECT,E.OBJECT],[fe.OL,E.OL],[fe.OPTGROUP,E.OPTGROUP],[fe.OPTION,E.OPTION],[fe.P,E.P],[fe.PARAM,E.PARAM],[fe.PLAINTEXT,E.PLAINTEXT],[fe.PRE,E.PRE],[fe.RB,E.RB],[fe.RP,E.RP],[fe.RT,E.RT],[fe.RTC,E.RTC],[fe.RUBY,E.RUBY],[fe.S,E.S],[fe.SCRIPT,E.SCRIPT],[fe.SECTION,E.SECTION],[fe.SELECT,E.SELECT],[fe.SOURCE,E.SOURCE],[fe.SMALL,E.SMALL],[fe.SPAN,E.SPAN],[fe.STRIKE,E.STRIKE],[fe.STRONG,E.STRONG],[fe.STYLE,E.STYLE],[fe.SUB,E.SUB],[fe.SUMMARY,E.SUMMARY],[fe.SUP,E.SUP],[fe.TABLE,E.TABLE],[fe.TBODY,E.TBODY],[fe.TEMPLATE,E.TEMPLATE],[fe.TEXTAREA,E.TEXTAREA],[fe.TFOOT,E.TFOOT],[fe.TD,E.TD],[fe.TH,E.TH],[fe.THEAD,E.THEAD],[fe.TITLE,E.TITLE],[fe.TR,E.TR],[fe.TRACK,E.TRACK],[fe.TT,E.TT],[fe.U,E.U],[fe.UL,E.UL],[fe.SVG,E.SVG],[fe.VAR,E.VAR],[fe.WBR,E.WBR],[fe.XMP,E.XMP]]);function Dg(e){var t;return(t=r7e.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const Pe=E,i7e={[Ee.HTML]:new Set([Pe.ADDRESS,Pe.APPLET,Pe.AREA,Pe.ARTICLE,Pe.ASIDE,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BLOCKQUOTE,Pe.BODY,Pe.BR,Pe.BUTTON,Pe.CAPTION,Pe.CENTER,Pe.COL,Pe.COLGROUP,Pe.DD,Pe.DETAILS,Pe.DIR,Pe.DIV,Pe.DL,Pe.DT,Pe.EMBED,Pe.FIELDSET,Pe.FIGCAPTION,Pe.FIGURE,Pe.FOOTER,Pe.FORM,Pe.FRAME,Pe.FRAMESET,Pe.H1,Pe.H2,Pe.H3,Pe.H4,Pe.H5,Pe.H6,Pe.HEAD,Pe.HEADER,Pe.HGROUP,Pe.HR,Pe.HTML,Pe.IFRAME,Pe.IMG,Pe.INPUT,Pe.LI,Pe.LINK,Pe.LISTING,Pe.MAIN,Pe.MARQUEE,Pe.MENU,Pe.META,Pe.NAV,Pe.NOEMBED,Pe.NOFRAMES,Pe.NOSCRIPT,Pe.OBJECT,Pe.OL,Pe.P,Pe.PARAM,Pe.PLAINTEXT,Pe.PRE,Pe.SCRIPT,Pe.SECTION,Pe.SELECT,Pe.SOURCE,Pe.STYLE,Pe.SUMMARY,Pe.TABLE,Pe.TBODY,Pe.TD,Pe.TEMPLATE,Pe.TEXTAREA,Pe.TFOOT,Pe.TH,Pe.THEAD,Pe.TITLE,Pe.TR,Pe.TRACK,Pe.UL,Pe.WBR,Pe.XMP]),[Ee.MATHML]:new Set([Pe.MI,Pe.MO,Pe.MN,Pe.MS,Pe.MTEXT,Pe.ANNOTATION_XML]),[Ee.SVG]:new Set([Pe.TITLE,Pe.FOREIGN_OBJECT,Pe.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function yse(e){return e===Pe.H1||e===Pe.H2||e===Pe.H3||e===Pe.H4||e===Pe.H5||e===Pe.H6}fe.STYLE,fe.SCRIPT,fe.XMP,fe.IFRAME,fe.NOEMBED,fe.NOFRAMES,fe.PLAINTEXT;const s7e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var H;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(H||(H={}));const Br={DATA:H.DATA,RCDATA:H.RCDATA,RAWTEXT:H.RAWTEXT,SCRIPT_DATA:H.SCRIPT_DATA,PLAINTEXT:H.PLAINTEXT,CDATA_SECTION:H.CDATA_SECTION};function Dy(e){return e>=U.DIGIT_0&&e<=U.DIGIT_9}function Z0(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_Z}function o7e(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_Z}function Vc(e){return o7e(e)||Z0(e)}function nk(e){return Vc(e)||Dy(e)}function vse(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_F}function _se(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_F}function a7e(e){return Dy(e)||vse(e)||_se(e)}function Ib(e){return e+32}function bse(e){return e===U.SPACE||e===U.LINE_FEED||e===U.TABULATION||e===U.FORM_FEED}function u7e(e){return e===U.EQUALS_SIGN||nk(e)}function lz(e){return bse(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN}class l7e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=H.DATA,this.returnState=H.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new GVe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Yt.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Yt.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Yt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Yt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(pse(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Dg(t.tagName),t.type===Yt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(_e.endTagWithAttributes),t.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Yt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Yt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Yt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Yt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=bse(t)?Yt.WHITESPACE_CHARACTER:t===U.NULL?Yt.NULL_CHARACTER:Yt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Yt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Uc[0];s>=0&&(s=gse(Uc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Uc[s];const a=o&ju.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==U.SEMICOLON&&this._isCharacterReferenceInAttribute()&&u7e(this.preprocessor.peek(1))?(n=[U.AMPERSAND],s+=u):(n=u===0?[Uc[s]&~ju.VALUE_LENGTH]:u===1?[Uc[++s]]:[Uc[++s],Uc[++s]],r=0,i=t!==U.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(_e.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===H.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case H.DATA:{this._stateData(t);break}case H.RCDATA:{this._stateRcdata(t);break}case H.RAWTEXT:{this._stateRawtext(t);break}case H.SCRIPT_DATA:{this._stateScriptData(t);break}case H.PLAINTEXT:{this._statePlaintext(t);break}case H.TAG_OPEN:{this._stateTagOpen(t);break}case H.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case H.TAG_NAME:{this._stateTagName(t);break}case H.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case H.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case H.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case H.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case H.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case H.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case H.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case H.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case H.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case H.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case H.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case H.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case H.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case H.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case H.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case H.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case H.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case H.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case H.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case H.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case H.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case H.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case H.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case H.BOGUS_COMMENT:{this._stateBogusComment(t);break}case H.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case H.COMMENT_START:{this._stateCommentStart(t);break}case H.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case H.COMMENT:{this._stateComment(t);break}case H.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case H.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case H.COMMENT_END:{this._stateCommentEnd(t);break}case H.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case H.DOCTYPE:{this._stateDoctype(t);break}case H.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case H.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case H.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case H.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case H.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case H.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case H.CDATA_SECTION:{this._stateCdataSection(t);break}case H.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case H.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case H.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case H.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case H.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case H.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case H.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case H.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case H.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case H.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=H.TAG_OPEN;break}case U.AMPERSAND:{this.returnState=H.DATA,this.state=H.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(t);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case U.AMPERSAND:{this.returnState=H.RCDATA,this.state=H.CHARACTER_REFERENCE;break}case U.LESS_THAN_SIGN:{this.state=H.RCDATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case U.LESS_THAN_SIGN:{this.state=H.RAWTEXT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Vc(t))this._createStartTagToken(),this.state=H.TAG_NAME,this._stateTagName(t);else switch(t){case U.EXCLAMATION_MARK:{this.state=H.MARKUP_DECLARATION_OPEN;break}case U.SOLIDUS:{this.state=H.END_TAG_OPEN;break}case U.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t);break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=H.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Vc(t))this._createEndTagToken(),this.state=H.TAG_NAME,this._stateTagName(t);else switch(t){case U.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Z0(t)?Ib(t):t)}}_stateRcdataLessThanSign(t){t===U.SOLIDUS?this.state=H.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Vc(t)?(this.state=H.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=H.BEFORE_ATTRIBUTE_NAME,!1;case U.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=H.SELF_CLOSING_START_TAG,!1;case U.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=H.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===U.SOLIDUS?this.state=H.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Vc(t)?(this.state=H.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case U.SOLIDUS:{this.state=H.SCRIPT_DATA_END_TAG_OPEN;break}case U.EXCLAMATION_MARK:{this.state=H.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=H.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Vc(t)?(this.state=H.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===U.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===U.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===U.SOLIDUS?this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Vc(t)?(this._emitChars("<"),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Vc(t)?(this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&lz(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case U.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===U.SOLIDUS?(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&lz(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=H.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this._leaveAttrName(),this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._leaveAttrName(),this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=fr;break}default:this.currentAttr.name+=String.fromCodePoint(Z0(t)?Ib(t):t)}}_stateAfterAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case U.EQUALS_SIGN:{this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{this.state=H.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this.state=H.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=H.DATA,this.emitCurrentTagToken();break}default:this.state=H.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case U.QUOTATION_MARK:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=H.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=H.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case U.APOSTROPHE:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this.returnState=H.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=H.CHARACTER_REFERENCE;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case U.AMPERSAND:{this.returnState=H.ATTRIBUTE_VALUE_UNQUOTED,this.state=H.CHARACTER_REFERENCE;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:case U.EQUALS_SIGN:case U.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this._leaveAttrValue(),this.state=H.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case U.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=H.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(n);break}case U.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ns.DASH_DASH,!0)?(this._createCommentToken(Ns.DASH_DASH.length+1),this.state=H.COMMENT_START):this._consumeSequenceIfMatch(Ns.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ns.DOCTYPE.length+1),this.state=H.DOCTYPE):this._consumeSequenceIfMatch(Ns.CDATA_START,!0)?this.inForeignNode?this.state=H.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(Ns.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=H.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_START_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=H.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=H.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=H.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=H.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_END_DASH;break}case U.LESS_THAN_SIGN:{n.data+="<",this.state=H.COMMENT_LESS_THAN_SIGN;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=fr;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case U.EXCLAMATION_MARK:{n.data+="!",this.state=H.COMMENT_LESS_THAN_SIGN_BANG;break}case U.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=H.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===U.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=H.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===U.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=H.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==U.GREATER_THAN_SIGN&&t!==U.EOF&&this._err(_e.nestedComment),this.state=H.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=H.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(n);break}case U.EXCLAMATION_MARK:{this.state=H.COMMENT_END_BANG;break}case U.HYPHEN_MINUS:{n.data+="-";break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=H.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{n.data+="--!",this.state=H.COMMENT_END_DASH;break}case U.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=H.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=H.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Z0(t))this._createDoctypeToken(String.fromCharCode(Ib(t))),this.state=H.DOCTYPE_NAME;else switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(fr),this.state=H.DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=H.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.AFTER_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=fr;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Z0(t)?Ib(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ns.PUBLIC,!1)?this.state=H.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ns.SYSTEM,!1)?this.state=H.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case U.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.QUOTATION_MARK:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=fr;break}case U.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=H.DATA;break}case U.NULL:{this._err(_e.unexpectedNullCharacter);break}case U.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case U.RIGHT_SQUARE_BRACKET:{this.state=H.CDATA_SECTION_BRACKET;break}case U.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===U.RIGHT_SQUARE_BRACKET?this.state=H.CDATA_SECTION_END:(this._emitChars("]"),this.state=H.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case U.GREATER_THAN_SIGN:{this.state=H.DATA;break}case U.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=H.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===U.NUMBER_SIGN?this.state=H.NUMERIC_CHARACTER_REFERENCE:nk(t)?(this.state=H.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this.state=H.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){nk(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===U.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===U.LATIN_SMALL_X||t===U.LATIN_CAPITAL_X?this.state=H.HEXADEMICAL_CHARACTER_REFERENCE_START:Dy(t)?(this.state=H.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){a7e(t)?(this.state=H.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(_e.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(U.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){vse(t)?this.charRefCode=this.charRefCode*16+t-55:_se(t)?this.charRefCode=this.charRefCode*16+t-87:Dy(t)?this.charRefCode=this.charRefCode*16+t-48:t===U.SEMICOLON?this.state=H.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=H.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Dy(t)?this.charRefCode=this.charRefCode*10+t-48:t===U.SEMICOLON?this.state=H.NUMERIC_CHARACTER_REFERENCE_END:(this._err(_e.missingSemicolonAfterCharacterReference),this.state=H.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===U.NULL)this._err(_e.nullCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_e.characterReferenceOutsideUnicodeRange),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(fse(this.charRefCode))this._err(_e.surrogateCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(hse(this.charRefCode))this._err(_e.noncharacterCharacterReference);else if(dse(this.charRefCode)||this.charRefCode===U.CARRIAGE_RETURN){this._err(_e.controlCharacterReference);const n=s7e.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const wse=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),cz=new Set([...wse,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),Cb=new Map([[E.APPLET,Ee.HTML],[E.CAPTION,Ee.HTML],[E.HTML,Ee.HTML],[E.MARQUEE,Ee.HTML],[E.OBJECT,Ee.HTML],[E.TABLE,Ee.HTML],[E.TD,Ee.HTML],[E.TEMPLATE,Ee.HTML],[E.TH,Ee.HTML],[E.ANNOTATION_XML,Ee.MATHML],[E.MI,Ee.MATHML],[E.MN,Ee.MATHML],[E.MO,Ee.MATHML],[E.MS,Ee.MATHML],[E.MTEXT,Ee.MATHML],[E.DESC,Ee.SVG],[E.FOREIGN_OBJECT,Ee.SVG],[E.TITLE,Ee.SVG]]),c7e=[E.H1,E.H2,E.H3,E.H4,E.H5,E.H6],f7e=[E.TR,E.TEMPLATE,E.HTML],d7e=[E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML],h7e=[E.TABLE,E.TEMPLATE,E.HTML],p7e=[E.TD,E.TH];class m7e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(c7e,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(p7e,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(h7e,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(d7e,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(f7e,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(Cb.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(yse(n)&&r===Ee.HTML)return!0;if(Cb.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===E.UL||r===E.OL)&&i===Ee.HTML||Cb.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===E.BUTTON&&i===Ee.HTML||Cb.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===E.TABLE||r===E.TEMPLATE||r===E.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===E.TBODY||n===E.THEAD||n===E.TFOOT)return!0;if(n===E.TABLE||n===E.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==E.OPTION&&r!==E.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;wse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;cz.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&cz.has(this.currentTagId);)this.pop()}}const UO=3;var Da;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Da=Da||(Da={}));const fz={type:Da.Marker};class g7e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Da.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<UO)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<UO)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=UO&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(fz)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Da.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Da.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(fz);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Da.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Da.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Da.Element&&n.element===t)}}function dz(e){return{nodeName:"#text",value:e,parentNode:null}}const Ep={createDocument(){return{nodeName:"#document",mode:Eo.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Ep.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Ep.isTextNode(n)){n.value+=t;return}}Ep.appendChild(e,dz(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Ep.isTextNode(r)?r.value+=t:Ep.insertBefore(e,dz(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Ese="html",y7e="about:legacy-compat",v7e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Sse=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],_7e=[...Sse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],b7e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Tse=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],w7e=[...Tse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hz(e,t){return t.some(n=>e.startsWith(n))}function E7e(e){return e.name===Ese&&e.publicId===null&&(e.systemId===null||e.systemId===y7e)}function S7e(e){if(e.name!==Ese)return Eo.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===v7e)return Eo.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),b7e.has(n))return Eo.QUIRKS;let r=t===null?_7e:Sse;if(hz(n,r))return Eo.QUIRKS;if(r=t===null?Tse:w7e,hz(n,r))return Eo.LIMITED_QUIRKS}return Eo.NO_QUIRKS}const pz={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},T7e="definitionurl",x7e="definitionURL",I7e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),C7e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),A7e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),P7e=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function O7e(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:r})=>r===Sf.COLOR||r===Sf.SIZE||r===Sf.FACE)||P7e.has(t)}function xse(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===T7e){e.attrs[t].name=x7e;break}}function Ise(e){for(let t=0;t<e.attrs.length;t++){const n=I7e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function K6(e){for(let t=0;t<e.attrs.length;t++){const n=C7e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function R7e(e){const t=A7e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Dg(e.tagName))}function N7e(e,t){return t===Ee.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function k7e(e,t,n){if(t===Ee.MATHML&&e===E.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Sf.ENCODING){const i=n[r].value.toLowerCase();return i===pz.TEXT_HTML||i===pz.APPLICATION_XML}}return t===Ee.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function D7e(e,t,n,r){return(!r||r===Ee.HTML)&&k7e(e,t,n)||(!r||r===Ee.MATHML)&&N7e(e,t)}const $7e="hidden",L7e=8,M7e=3;var X;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(X||(X={}));const F7e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Cse=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),mz={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ep,onParseError:null};let gz=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=X.INITIAL,this.originalInsertionMode=X.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...mz,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new l7e(this.options,this),this.activeFormattingElements=new g7e(this.treeAdapter),this.fragmentContextID=r?Dg(this.treeAdapter.getTagName(r)):E.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new m7e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...mz,...n};t??(t=r.treeAdapter.createElement(fe.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(X.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:F7e,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=X.TEXT}switchToPlaintextParsing(){this.insertionMode=X.TEXT,this.originalInsertionMode=X.IN_BODY,this.tokenizer.state=Br.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Br.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Br.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Br.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Br.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(fe.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Yt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(n)===fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Yt.CHARACTER:{this.onCharacter(t);break}case Yt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Yt.COMMENT:{this.onComment(t);break}case Yt.DOCTYPE:{this.onDoctype(t);break}case Yt.START_TAG:{this._processStartTag(t);break}case Yt.END_TAG:{this.onEndTag(t);break}case Yt.EOF:{this.onEof(t);break}case Yt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return D7e(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Da.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=X.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=X.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=X.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=X.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=X.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=X.IN_TABLE;return}case E.BODY:{this.insertionMode=X.IN_BODY;return}case E.FRAMESET:{this.insertionMode=X.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?X.AFTER_HEAD:X.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=X.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=X.IN_HEAD;return}break}}this.insertionMode=X.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===E.TEMPLATE)break;if(r===E.TABLE){this.insertionMode=X.IN_SELECT_IN_TABLE;return}}this.insertionMode=X.IN_SELECT}_isElementCausesFosterParenting(t){return Cse.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return i7e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pHe(this,t);return}switch(this.insertionMode){case X.INITIAL:{A0(this,t);break}case X.BEFORE_HTML:{$y(this,t);break}case X.BEFORE_HEAD:{Ly(this,t);break}case X.IN_HEAD:{My(this,t);break}case X.IN_HEAD_NO_SCRIPT:{Fy(this,t);break}case X.AFTER_HEAD:{jy(this,t);break}case X.IN_BODY:case X.IN_CAPTION:case X.IN_CELL:case X.IN_TEMPLATE:{Pse(this,t);break}case X.TEXT:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case X.IN_TABLE:case X.IN_TABLE_BODY:case X.IN_ROW:{VO(this,t);break}case X.IN_TABLE_TEXT:{$se(this,t);break}case X.IN_COLUMN_GROUP:{HT(this,t);break}case X.AFTER_BODY:{WT(this,t);break}case X.AFTER_AFTER_BODY:{Lw(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hHe(this,t);return}switch(this.insertionMode){case X.INITIAL:{A0(this,t);break}case X.BEFORE_HTML:{$y(this,t);break}case X.BEFORE_HEAD:{Ly(this,t);break}case X.IN_HEAD:{My(this,t);break}case X.IN_HEAD_NO_SCRIPT:{Fy(this,t);break}case X.AFTER_HEAD:{jy(this,t);break}case X.TEXT:{this._insertCharacters(t);break}case X.IN_TABLE:case X.IN_TABLE_BODY:case X.IN_ROW:{VO(this,t);break}case X.IN_COLUMN_GROUP:{HT(this,t);break}case X.AFTER_BODY:{WT(this,t);break}case X.AFTER_AFTER_BODY:{Lw(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){rk(this,t);return}switch(this.insertionMode){case X.INITIAL:case X.BEFORE_HTML:case X.BEFORE_HEAD:case X.IN_HEAD:case X.IN_HEAD_NO_SCRIPT:case X.AFTER_HEAD:case X.IN_BODY:case X.IN_TABLE:case X.IN_CAPTION:case X.IN_COLUMN_GROUP:case X.IN_TABLE_BODY:case X.IN_ROW:case X.IN_CELL:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:case X.IN_TEMPLATE:case X.IN_FRAMESET:case X.AFTER_FRAMESET:{rk(this,t);break}case X.IN_TABLE_TEXT:{P0(this,t);break}case X.AFTER_BODY:{W7e(this,t);break}case X.AFTER_AFTER_BODY:case X.AFTER_AFTER_FRAMESET:{q7e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case X.INITIAL:{G7e(this,t);break}case X.BEFORE_HEAD:case X.IN_HEAD:case X.IN_HEAD_NO_SCRIPT:case X.AFTER_HEAD:{this._err(t,_e.misplacedDoctype);break}case X.IN_TABLE_TEXT:{P0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mHe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case X.INITIAL:{A0(this,t);break}case X.BEFORE_HTML:{Y7e(this,t);break}case X.BEFORE_HEAD:{Q7e(this,t);break}case X.IN_HEAD:{ou(this,t);break}case X.IN_HEAD_NO_SCRIPT:{Z7e(this,t);break}case X.AFTER_HEAD:{tze(this,t);break}case X.IN_BODY:{ds(this,t);break}case X.IN_TABLE:{Gm(this,t);break}case X.IN_TABLE_TEXT:{P0(this,t);break}case X.IN_CAPTION:{Xze(this,t);break}case X.IN_COLUMN_GROUP:{J6(this,t);break}case X.IN_TABLE_BODY:{FC(this,t);break}case X.IN_ROW:{jC(this,t);break}case X.IN_CELL:{eHe(this,t);break}case X.IN_SELECT:{Fse(this,t);break}case X.IN_SELECT_IN_TABLE:{nHe(this,t);break}case X.IN_TEMPLATE:{iHe(this,t);break}case X.AFTER_BODY:{oHe(this,t);break}case X.IN_FRAMESET:{aHe(this,t);break}case X.AFTER_FRAMESET:{lHe(this,t);break}case X.AFTER_AFTER_BODY:{fHe(this,t);break}case X.AFTER_AFTER_FRAMESET:{dHe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gHe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case X.INITIAL:{A0(this,t);break}case X.BEFORE_HTML:{K7e(this,t);break}case X.BEFORE_HEAD:{X7e(this,t);break}case X.IN_HEAD:{J7e(this,t);break}case X.IN_HEAD_NO_SCRIPT:{eze(this,t);break}case X.AFTER_HEAD:{nze(this,t);break}case X.IN_BODY:{MC(this,t);break}case X.TEXT:{Uze(this,t);break}case X.IN_TABLE:{Pv(this,t);break}case X.IN_TABLE_TEXT:{P0(this,t);break}case X.IN_CAPTION:{Jze(this,t);break}case X.IN_COLUMN_GROUP:{Zze(this,t);break}case X.IN_TABLE_BODY:{ik(this,t);break}case X.IN_ROW:{Mse(this,t);break}case X.IN_CELL:{tHe(this,t);break}case X.IN_SELECT:{jse(this,t);break}case X.IN_SELECT_IN_TABLE:{rHe(this,t);break}case X.IN_TEMPLATE:{sHe(this,t);break}case X.AFTER_BODY:{Use(this,t);break}case X.IN_FRAMESET:{uHe(this,t);break}case X.AFTER_FRAMESET:{cHe(this,t);break}case X.AFTER_AFTER_BODY:{Lw(this,t);break}}}onEof(t){switch(this.insertionMode){case X.INITIAL:{A0(this,t);break}case X.BEFORE_HTML:{$y(this,t);break}case X.BEFORE_HEAD:{Ly(this,t);break}case X.IN_HEAD:{My(this,t);break}case X.IN_HEAD_NO_SCRIPT:{Fy(this,t);break}case X.AFTER_HEAD:{jy(this,t);break}case X.IN_BODY:case X.IN_TABLE:case X.IN_CAPTION:case X.IN_COLUMN_GROUP:case X.IN_TABLE_BODY:case X.IN_ROW:case X.IN_CELL:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:{kse(this,t);break}case X.TEXT:{Vze(this,t);break}case X.IN_TABLE_TEXT:{P0(this,t);break}case X.IN_TEMPLATE:{Bse(this,t);break}case X.AFTER_BODY:case X.IN_FRAMESET:case X.AFTER_FRAMESET:case X.AFTER_AFTER_BODY:case X.AFTER_AFTER_FRAMESET:{X6(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===U.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case X.IN_HEAD:case X.IN_HEAD_NO_SCRIPT:case X.AFTER_HEAD:case X.TEXT:case X.IN_COLUMN_GROUP:case X.IN_SELECT:case X.IN_SELECT_IN_TABLE:case X.IN_FRAMESET:case X.AFTER_FRAMESET:{this._insertCharacters(t);break}case X.IN_BODY:case X.IN_CAPTION:case X.IN_CELL:case X.IN_TEMPLATE:case X.AFTER_BODY:case X.AFTER_AFTER_BODY:case X.AFTER_AFTER_FRAMESET:{Ase(this,t);break}case X.IN_TABLE:case X.IN_TABLE_BODY:case X.IN_ROW:{VO(this,t);break}case X.IN_TABLE_TEXT:{Dse(this,t);break}}}};function j7e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Nse(e,t),n}function B7e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function U7e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=M7e;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=V7e(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function V7e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function z7e(e,t,n){const r=e.treeAdapter.getTagName(t),i=Dg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===E.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function H7e(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function Q6(e,t){for(let n=0;n<L7e;n++){const r=j7e(e,t);if(!r)break;const i=B7e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=U7e(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&z7e(e,o,s),H7e(e,i,r)}}function rk(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function W7e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function q7e(e,t){e._appendCommentNode(t,e.document)}function X6(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function G7e(e,t){e._setDocumentType(t);const n=t.forceQuirks?Eo.QUIRKS:S7e(t);E7e(t)||e._err(t,_e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=X.BEFORE_HTML}function A0(e,t){e._err(t,_e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Eo.QUIRKS),e.insertionMode=X.BEFORE_HTML,e._processToken(t)}function Y7e(e,t){t.tagID===E.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=X.BEFORE_HEAD):$y(e,t)}function K7e(e,t){const n=t.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&$y(e,t)}function $y(e,t){e._insertFakeRootElement(),e.insertionMode=X.BEFORE_HEAD,e._processToken(t)}function Q7e(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=X.IN_HEAD;break}default:Ly(e,t)}}function X7e(e,t){const n=t.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?Ly(e,t):e._err(t,_e.endTagWithoutMatchingOpenElement)}function Ly(e,t){e._insertFakeElement(fe.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=X.IN_HEAD,e._processToken(t)}function ou(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Br.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Br.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Br.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Br.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=X.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(X.IN_TEMPLATE);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:My(e,t)}}function J7e(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=X.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{My(e,t);break}case E.TEMPLATE:{qh(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function qh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,_e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,_e.endTagWithoutMatchingOpenElement)}function My(e,t){e.openElements.pop(),e.insertionMode=X.AFTER_HEAD,e._processToken(t)}function Z7e(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{ou(e,t);break}case E.NOSCRIPT:{e._err(t,_e.nestedNoscriptInHead);break}default:Fy(e,t)}}function eze(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=X.IN_HEAD;break}case E.BR:{Fy(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function Fy(e,t){const n=t.type===Yt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=X.IN_HEAD,e._processToken(t)}function tze(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=X.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,_e.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),ou(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,_e.misplacedStartTagForHeadElement);break}default:jy(e,t)}}function nze(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{jy(e,t);break}case E.TEMPLATE:{qh(e,t);break}default:e._err(t,_e.endTagWithoutMatchingOpenElement)}}function jy(e,t){e._insertFakeElement(fe.BODY,E.BODY),e.insertionMode=X.IN_BODY,LC(e,t)}function LC(e,t){switch(t.type){case Yt.CHARACTER:{Pse(e,t);break}case Yt.WHITESPACE_CHARACTER:{Ase(e,t);break}case Yt.COMMENT:{rk(e,t);break}case Yt.START_TAG:{ds(e,t);break}case Yt.END_TAG:{MC(e,t);break}case Yt.EOF:{kse(e,t);break}}}function Ase(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Pse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function rze(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function ize(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function sze(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_FRAMESET)}function oze(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function aze(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),yse(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function uze(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lze(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function cze(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===E.LI&&i===E.LI||(n===E.DD||n===E.DT)&&(i===E.DD||i===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==E.ADDRESS&&i!==E.DIV&&i!==E.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function fze(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=Br.PLAINTEXT}function dze(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function hze(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(fe.A);n&&(Q6(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pze(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mze(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(Q6(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gze(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function yze(e,t){e.treeAdapter.getDocumentMode(e.document)!==Eo.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=X.IN_TABLE}function Ose(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Rse(e){const t=pse(e,Sf.TYPE);return t!=null&&t.toLowerCase()===$7e}function vze(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),Rse(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function _ze(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function bze(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wze(e,t){t.tagName=fe.IMG,t.tagID=E.IMG,Ose(e,t)}function Eze(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Br.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=X.TEXT}function Sze(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Br.RAWTEXT)}function Tze(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Br.RAWTEXT)}function yz(e,t){e._switchToTextParsing(t,Br.RAWTEXT)}function xze(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===X.IN_TABLE||e.insertionMode===X.IN_CAPTION||e.insertionMode===X.IN_TABLE_BODY||e.insertionMode===X.IN_ROW||e.insertionMode===X.IN_CELL?X.IN_SELECT_IN_TABLE:X.IN_SELECT}function Ize(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function Cze(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function Aze(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,Ee.HTML)}function Pze(e,t){e._reconstructActiveFormattingElements(),xse(t),K6(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function Oze(e,t){e._reconstructActiveFormattingElements(),Ise(t),K6(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function vz(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function ds(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{pze(e,t);break}case E.A:{hze(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{aze(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{oze(e,t);break}case E.LI:case E.DD:case E.DT:{cze(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{Ose(e,t);break}case E.HR:{bze(e,t);break}case E.RB:case E.RTC:{Cze(e,t);break}case E.RT:case E.RP:{Aze(e,t);break}case E.PRE:case E.LISTING:{uze(e,t);break}case E.XMP:{Sze(e,t);break}case E.SVG:{Oze(e,t);break}case E.HTML:{rze(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{ou(e,t);break}case E.BODY:{ize(e,t);break}case E.FORM:{lze(e,t);break}case E.NOBR:{mze(e,t);break}case E.MATH:{Pze(e,t);break}case E.TABLE:{yze(e,t);break}case E.INPUT:{vze(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{_ze(e,t);break}case E.IMAGE:{wze(e,t);break}case E.BUTTON:{dze(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{gze(e,t);break}case E.IFRAME:{Tze(e,t);break}case E.SELECT:{xze(e,t);break}case E.OPTION:case E.OPTGROUP:{Ize(e,t);break}case E.NOEMBED:{yz(e,t);break}case E.FRAMESET:{sze(e,t);break}case E.TEXTAREA:{Eze(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?yz(e,t):vz(e,t);break}case E.PLAINTEXT:{fze(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:vz(e,t)}}function Rze(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=X.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Nze(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=X.AFTER_BODY,Use(e,t))}function kze(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Dze(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):n&&e.openElements.remove(n))}function $ze(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(fe.P,E.P),e._closePElement()}function Lze(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function Mze(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Fze(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function jze(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Bze(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(fe.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function Nse(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==E.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function MC(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{Q6(e,t);break}case E.P:{$ze(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{kze(e,t);break}case E.LI:{Lze(e);break}case E.DD:case E.DT:{Mze(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{Fze(e);break}case E.BR:{Bze(e);break}case E.BODY:{Rze(e,t);break}case E.HTML:{Nze(e,t);break}case E.FORM:{Dze(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{jze(e,t);break}case E.TEMPLATE:{qh(e,t);break}default:Nse(e,t)}}function kse(e,t){e.tmplInsertionModeStack.length>0?Bse(e,t):X6(e,t)}function Uze(e,t){var n;t.tagID===E.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Vze(e,t){e._err(t,_e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function VO(e,t){if(Cse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=X.IN_TABLE_TEXT,t.type){case Yt.CHARACTER:{$se(e,t);break}case Yt.WHITESPACE_CHARACTER:{Dse(e,t);break}}else Q_(e,t)}function zze(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_CAPTION}function Hze(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_COLUMN_GROUP}function Wze(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.COLGROUP,E.COLGROUP),e.insertionMode=X.IN_COLUMN_GROUP,J6(e,t)}function qze(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_TABLE_BODY}function Gze(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.TBODY,E.TBODY),e.insertionMode=X.IN_TABLE_BODY,FC(e,t)}function Yze(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Kze(e,t){Rse(t)?e._appendElement(t,Ee.HTML):Q_(e,t),t.ackSelfClosing=!0}function Qze(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Gm(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{Gze(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{ou(e,t);break}case E.COL:{Wze(e,t);break}case E.FORM:{Qze(e,t);break}case E.TABLE:{Yze(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{qze(e,t);break}case E.INPUT:{Kze(e,t);break}case E.CAPTION:{zze(e,t);break}case E.COLGROUP:{Hze(e,t);break}default:Q_(e,t)}}function Pv(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{qh(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Q_(e,t)}}function Q_(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,LC(e,t),e.fosterParentingEnabled=n}function Dse(e,t){e.pendingCharacterTokens.push(t)}function $se(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function P0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Q_(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Lse=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function Xze(e,t){const n=t.tagID;Lse.has(n)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=X.IN_TABLE,Gm(e,t)):ds(e,t)}function Jze(e,t){const n=t.tagID;switch(n){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=X.IN_TABLE,n===E.TABLE&&Pv(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:MC(e,t)}}function J6(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{ou(e,t);break}default:HT(e,t)}}function Zze(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=X.IN_TABLE);break}case E.TEMPLATE:{qh(e,t);break}case E.COL:break;default:HT(e,t)}}function HT(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=X.IN_TABLE,e._processToken(t))}function FC(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(fe.TR,E.TR),e.insertionMode=X.IN_ROW,jC(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE,Gm(e,t));break}default:Gm(e,t)}}function ik(e,t){const n=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE,Pv(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Pv(e,t)}}function jC(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=X.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY,FC(e,t));break}default:Gm(e,t)}}function Mse(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY,ik(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=X.IN_TABLE_BODY,ik(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Pv(e,t)}}function eHe(e,t){const n=t.tagID;Lse.has(n)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),jC(e,t)):ds(e,t)}function tHe(e,t){const n=t.tagID;switch(n){case E.TD:case E.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=X.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Mse(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:MC(e,t)}}function Fse(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{ou(e,t);break}}}function jse(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{qh(e,t);break}}}function nHe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Fse(e,t)}function rHe(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):jse(e,t)}function iHe(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{ou(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=X.IN_TABLE,e.insertionMode=X.IN_TABLE,Gm(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=X.IN_COLUMN_GROUP,e.insertionMode=X.IN_COLUMN_GROUP,J6(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=X.IN_TABLE_BODY,e.insertionMode=X.IN_TABLE_BODY,FC(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=X.IN_ROW,e.insertionMode=X.IN_ROW,jC(e,t);break}default:e.tmplInsertionModeStack[0]=X.IN_BODY,e.insertionMode=X.IN_BODY,ds(e,t)}}function sHe(e,t){t.tagID===E.TEMPLATE&&qh(e,t)}function Bse(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):X6(e,t)}function oHe(e,t){t.tagID===E.HTML?ds(e,t):WT(e,t)}function Use(e,t){var n;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=X.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else WT(e,t)}function WT(e,t){e.insertionMode=X.IN_BODY,LC(e,t)}function aHe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.FRAMESET:{e._insertElement(t,Ee.HTML);break}case E.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{ou(e,t);break}}}function uHe(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=X.AFTER_FRAMESET))}function lHe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.NOFRAMES:{ou(e,t);break}}}function cHe(e,t){t.tagID===E.HTML&&(e.insertionMode=X.AFTER_AFTER_FRAMESET)}function fHe(e,t){t.tagID===E.HTML?ds(e,t):Lw(e,t)}function Lw(e,t){e.insertionMode=X.IN_BODY,LC(e,t)}function dHe(e,t){switch(t.tagID){case E.HTML:{ds(e,t);break}case E.NOFRAMES:{ou(e,t);break}}}function hHe(e,t){t.chars=fr,e._insertCharacters(t)}function pHe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Vse(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mHe(e,t){if(O7e(t))Vse(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?xse(t):r===Ee.SVG&&(R7e(t),Ise(t)),K6(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function gHe(e,t){if(t.tagID===E.P||t.tagID===E.BR){Vse(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}fe.AREA,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BR,fe.COL,fe.EMBED,fe.FRAME,fe.HR,fe.IMG,fe.INPUT,fe.KEYGEN,fe.LINK,fe.META,fe.PARAM,fe.SOURCE,fe.TRACK,fe.WBR;const zse=Hse("end"),Gh=Hse("start");function Hse(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Wse=function(e){if(e==null)return bHe;if(typeof e=="function")return BC(e);if(typeof e=="object")return Array.isArray(e)?yHe(e):vHe(e);if(typeof e=="string")return _He(e);throw new Error("Expected function, string, or object as test")};function yHe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Wse(e[n]);return BC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function vHe(e){const t=e;return BC(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function _He(e){return BC(t);function t(n){return n&&n.type===e}}function BC(e){return t;function t(n,r,i){return!!(wHe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function bHe(){return!0}function wHe(e){return e!==null&&typeof e=="object"&&"type"in e}const qse=[],EHe=!0,_z=!1,SHe="skip";function THe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Wse(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=qse,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=xHe(n(u,c)),h[0]===_z))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==SHe)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const v=g.children[m];if(p=a(v,m,y)(),p[0]===_z)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function xHe(e){return Array.isArray(e)?e:typeof e=="number"?[EHe,e]:e==null?qse:[e]}function IHe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),THe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const CHe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),bz={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Gse(e,t){const n=MHe(e),r=lse("type",{handlers:{root:AHe,element:PHe,text:OHe,comment:Kse,doctype:RHe,raw:kHe},unknown:DHe}),i={parser:n?new gz(bz):gz.getFragmentParser(void 0,bz),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),$g(i,Gh());const s=n?i.parser.document:i.parser.getFragment(),o=PVe(s,{file:i.options.file});return i.stitches&&IHe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Yse(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function AHe(e,t){Yse(e.children,t)}function PHe(e,t){$He(e,t),Yse(e.children,t),LHe(e,t)}function OHe(e,t){const n={type:Yt.CHARACTER,chars:e.value,location:X_(e)};$g(t,Gh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function RHe(e,t){const n={type:Yt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:X_(e)};$g(t,Gh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function NHe(e,t){t.stitches=!0;const n=FHe(e);if("children"in e&&"children"in n){const r=Gse({type:"root",children:e.children},t.options);n.children=r.children}Kse({type:"comment",value:{stitch:n}},t)}function Kse(e,t){const n=e.value,r={type:Yt.COMMENT,data:n,location:X_(e)};$g(t,Gh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function kHe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Qse(t,Gh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function DHe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))NHe(n,t);else{let r="";throw CHe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function $g(e,t){Qse(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Br.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Qse(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function $He(e,t){if(t.parser.tokenizer.state===Br.PLAINTEXT)return;$g(t,Gh(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Ud.html;r===Ud.html&&e.tagName==="svg"&&(r=Ud.svg);const i=DVe({...e,children:[]},{space:r===Ud.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Yt.START_TAG,tagName:e.tagName,tagID:Dg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:X_(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function LHe(e,t){if(!t.parser.tokenizer.inForeignNode&&VVe.includes(e.tagName)||t.parser.tokenizer.state===Br.PLAINTEXT)return;$g(t,zse(e));const n={type:Yt.END_TAG,tagName:e.tagName,tagID:Dg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:X_(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Br.RCDATA||t.parser.tokenizer.state===Br.RAWTEXT||t.parser.tokenizer.state===Br.SCRIPT_DATA)&&(t.parser.tokenizer.state=Br.DATA)}function MHe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function X_(e){const t=Gh(e)||{line:void 0,column:void 0,offset:void 0},n=zse(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function FHe(e){return"children"in e?iz({...e,children:[]}):iz(e)}function jHe(e){return function(t,n){return Gse(t,{...e,file:n})}}function Do({text:e}){const t={img:({node:n,...r})=>C.jsx(k_,{...r}),p:({node:n,...r})=>C.jsx(et,{...r,pb:8}),h1:({node:n,...r})=>C.jsx(qc,{order:1,...r,pb:12}),h2:({node:n,...r})=>C.jsx(qc,{order:2,...r,pb:12}),h3:({node:n,...r})=>C.jsx(qc,{order:3,...r,pb:12}),h4:({node:n,...r})=>C.jsx(qc,{order:4,...r,pb:12}),h5:({node:n,...r})=>C.jsx(qc,{order:5,...r,pb:12}),h6:({node:n,...r})=>C.jsx(qc,{order:6,...r,pb:12}),a:({node:n,...r})=>C.jsx(IX,{...r}),ul:({node:n,...r})=>C.jsx(zm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>C.jsx(zm,{type:"ordered",withPadding:!0,...r,pb:8})};return C.jsx("div",{style:{display:"inherit"},children:C.jsx(nse,{components:t,rehypePlugins:[jHe],children:e})})}function BHe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return C.jsx(NS.Group,{label:C.jsx(Do,{text:r}),withAsterisk:i,...n,error:Hh(e,n,s),size:"md",children:C.jsx(Un,{mt:"md",children:s.map(o=>C.jsx(NS,{disabled:t,value:o.value,label:o.label},o.value))})})}function UHe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return C.jsx(ih,{disabled:t,label:C.jsx(Do,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Hh(e,n,o)})}function VHe({response:e,answer:t}){const{prompt:n}=e;return C.jsxs(C.Fragment,{children:[C.jsx(et,{fz:"md",fw:500,children:C.jsx(Do,{text:n})}),C.jsx(zm,{children:Array.isArray(t.value)&&t.value.map(r=>C.jsx(zm.Item,{children:r},r))})]})}function Xse({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return C.jsxs(hT.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:Hh(e,n,s),children:[o?C.jsx(et,{children:o}):null,C.jsx(Un,{mt:"xs",noWrap:!0,children:s.map(u=>C.jsx(hT,{disabled:t,value:u.value,label:u.label},u.label))}),C.jsx(et,{children:a})]},e.id)}function zHe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return C.jsx(Xse,{disabled:t,response:s,answer:n})}function HHe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return C.jsx(Ote,{disabled:t,placeholder:a,label:C.jsx(Do,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Hh(e,n)})}function WHe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=Hh(e,n);return C.jsx(ro.Wrapper,{withAsterisk:i,label:C.jsx(Do,{text:r}),error:o,size:"md",children:C.jsx(JI,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function qHe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx($_,{disabled:t,placeholder:r,label:C.jsx(Do,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Hh(e,n)})}function GHe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return C.jsx(Fee,{disabled:t,placeholder:r,label:C.jsx(Do,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Hh(e,n)})}function YHe({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=S3(),o=w.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return C.jsxs(tt,{py:20,sx:{padding:5},children:[e.type==="numerical"&&C.jsx(HHe,{response:e,disabled:o,answer:r}),e.type==="shortText"&&C.jsx(qHe,{response:e,disabled:o,answer:r}),e.type==="longText"&&C.jsx(GHe,{response:e,disabled:o,answer:r}),e.type==="likert"&&C.jsx(zHe,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&C.jsx(UHe,{response:e,disabled:o,answer:r}),e.type==="slider"&&C.jsx(WHe,{response:e,disabled:o,answer:r}),e.type==="radio"&&C.jsx(Xse,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&C.jsx(BHe,{response:e,disabled:o,answer:r}),e.type==="iframe"&&C.jsx(VHe,{response:e,answer:r})]})}function qT({config:e,location:t,status:n,style:r}){var y,g;const i=su(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],u=Ja(),{updateResponseBlockValidation:l}=ha(),c=Y8e(a,i,s||{}),[f,d]=w.useState(!1),{iframeAnswers:h}=Es(v=>v),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return w.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),w.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:Eh(c.values)}))},[c.values,i,t]),C.jsxs("div",{style:r,children:[a.map(v=>{var _,S;return C.jsx(N.Fragment,{children:v.hidden?"":C.jsxs(C.Fragment,{children:[C.jsx(YHe,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&C.jsx(et,{children:`The correct answer is: ${(S=(_=o.correctAnswer)==null?void 0:_.find(x=>x.id===v.id))==null?void 0:S.answer}`})]})},`${v.id}-${i}`)}),C.jsxs(Un,{position:"center",spacing:"xs",mt:"xl",children:[p&&m&&C.jsx(_i,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&C.jsx(ao,{children:C.jsx(b8e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})})]})]})}const Ab="@REVISIT_COMMS",KHe={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function QHe({currentConfig:e}){const{setIframeAnswers:t}=ha(),n=Ja(),r=$ne(),i=w.useRef(null),s=w.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=su(),a=vl(),u=w.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${Ab}/${l}`,iframeId:s,message:c},"*")},[i,s]);return w.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${Ab}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${Ab}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${Ab}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),C.jsx("div",{children:C.jsx("iframe",{ref:i,src:`${_l}${e.path}?trialid=${o}&id=${s}`,style:KHe})})}const XHe={maxWidth:"100%"};function JHe({currentConfig:e}){const t={...XHe,...e.style};return C.jsx(k_,{mx:"auto",src:`${_l}${e.path}`,style:t})}var ZHe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},eWe=Object.defineProperty,tWe=Object.defineProperties,nWe=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertySymbols,Jse=Object.prototype.hasOwnProperty,Zse=Object.prototype.propertyIsEnumerable,wz=(e,t,n)=>t in e?eWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ez=(e,t)=>{for(var n in t||(t={}))Jse.call(t,n)&&wz(e,n,t[n]);if(GT)for(var n of GT(t))Zse.call(t,n)&&wz(e,n,t[n]);return e},rWe=(e,t)=>tWe(e,nWe(t)),iWe=(e,t)=>{var n={};for(var r in e)Jse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GT)for(var r of GT(e))t.indexOf(r)<0&&Zse.call(e,r)&&(n[r]=e[r]);return n},ho=(e,t,n)=>{const r=w.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=iWe(o,["color","size","stroke","children"]);return w.createElement("svg",Ez(rWe(Ez({ref:s},ZHe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>w.createElement(d,h)),...c||[]])});return r.propTypes={color:yt.string,size:yt.oneOfType([yt.string,yt.number]),stroke:yt.oneOfType([yt.string,yt.number])},r.displayName=`${t}`,r},sWe=ho("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),oWe=ho("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]),aWe=ho("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),uWe=ho("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),Sz=ho("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),lWe=ho("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),cWe=ho("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),fWe=ho("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),dWe=ho("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),hWe=ho("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),pWe=ho("minus-vertical","IconMinusVertical",[["path",{d:"M12 5v14",key:"svg-0"}]]),eoe=ho("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),Tz=ho("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),toe=ho("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);function mWe({columns:e,catColumns:t,onAdd:n,onAddHistogram:r}){const[i,s]=w.useState(!1),[o,a]=w.useState(null),[u,l]=w.useState(null),[c,f]=w.useState(null);return i?C.jsxs(Or,{children:[C.jsx(ih,{data:e,onChange:d=>a(d),placeholder:"Select X Column"}),C.jsx(ih,{data:e,onChange:d=>l(d),placeholder:"Select Y Column"}),C.jsx(_i,{disabled:!o||!u,onClick:()=>{n(o,u),s(!1)},children:"Create plot"}),C.jsx(ih,{data:t,onChange:d=>f(d),placeholder:"Select X Column"}),C.jsx(_i,{disabled:!c,onClick:()=>{r(c),s(!1)},children:"Add Histogram"})]}):C.jsx(Or,{children:C.jsx(wv,{variant:"light",size:150,onClick:()=>s(!0),children:C.jsx(eoe,{size:50})})})}const gWe=Object.freeze(Object.defineProperty({__proto__:null,AddPlot:mWe},Symbol.toStringTag,{value:"Module"})),noe=w.createContext(null),Z6=({id:e="waveform",children:t})=>N.createElement("div",{id:e},t),yWe=["audioRate","audioContext","audioScriptProcessor","autoCenter","backend","backgroundColor","barGap","barHeight","barMinHeight","barRadius","barWidth","closeAudioContext","cursorColor","cursorWidth","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","maxCanvasWidth","mediaControls","mediaType","minPxPerSec","normalize","partialRender","pixelRatio","progressColor","removeMediaElementOnDestroy","renderer","responsive","scrollParent","skipLength","splitChannels","waveColor","autoCenterRate","autoCenterImmediately","drawingContextAttributes","duration","ignoreSilenceMode","rtl","splitChannelsOptions","vertical","xhr"],vWe=e=>e?yWe.reduce((t,n)=>Object.prototype.hasOwnProperty.call(e,n)?Object.assign(Object.assign({},t),{[n]:e[n]}):t,{}):{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ii(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let J_=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const xz={decode:function(e,t){return ii(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function roe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(roe(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Iz(e,t,n){const r=roe(e,t||{});return n==null||n.appendChild(r),r}var _We=Object.freeze({__proto__:null,createElement:Iz,default:Iz});const bWe={fetchBlob:function(e,t,n){return ii(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){ii(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>ii(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>ii(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};let wWe=class extends J_{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return ii(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}};class UC extends J_{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const u=l=>{if(l.button!==o)return;l.preventDefault(),l.stopPropagation();let c=l.clientX,f=l.clientY,d=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,S=v.clientY,x=_-c,b=S-f;if(d||Math.abs(x)>s||Math.abs(b)>s){const T=t.getBoundingClientRect(),{left:I,top:D}=T;d||(r==null||r(c-I,f-D),d=!0),n(x,b,_-I,S-D),c=_,f=S}},p=()=>{d&&(i==null||i()),a()},m=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},y=v=>{d&&(v.stopPropagation(),v.preventDefault())},g=v=>{d&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",m),document.addEventListener("pointercancel",m),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("click",y,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",m),document.removeEventListener("pointercancel",m),document.removeEventListener("touchmove",g),setTimeout(()=>{document.removeEventListener("click",y,{capture:!0})},10)}};t.addEventListener("pointerdown",u)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=window.devicePixelRatio||1,d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,m=u/(d+h)/a,y=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let g=0,v=0,_=0;for(let S=0;S<=a;S++){const x=Math.round(S*m);if(x>g){const I=Math.round(v*c*i),D=I+Math.round(_*c*i)||1;let $=c-I;n.barAlign==="top"?$=0:n.barAlign==="bottom"&&($=l-D),r[y](g*(d+h),$,d,D,p),g=x,v=0,_=0}const b=Math.abs(s[S]||0),T=Math.abs(o[S]||0);b>v&&(v=b),T>_&&(_=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const m=Math.round(p*f);if(m>d){const g=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,g),d=m,h=0}const y=Math.abs(a[p]||0);y>h&&(h=y)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,u){const l=window.devicePixelRatio||1,c=document.createElement("canvas"),f=t[0].length;c.width=Math.round(r*(o-s)/f),c.height=i*l,c.style.width=`${Math.floor(c.width/l)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/l/f)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,d),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),u.appendChild(h)}}renderChannel(t,n,r){return ii(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,u=(g,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,g),Math.min(v,a),i,o)};if(!this.isScrollable)return void u(0,a);const{scrollLeft:l,scrollWidth:c,clientWidth:f}=this.scrollContainer,d=a/c;let h=Math.min(UC.MAX_CANVAS_WIDTH,f);if(n.barWidth||n.barGap){const g=n.barWidth||.5,v=g+(n.barGap||g/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(l)*d),m=Math.floor(p+h*d),y=m-p;y<=0||(u(p,m),yield Promise.all([ii(this,void 0,void 0,function*(){if(p===0)return;const g=this.createDelay();for(let v=p;v>=0;v-=y)yield g(),u(Math.max(0,v-y),v)}),ii(this,void 0,void 0,function*(){if(m===a)return;const g=this.createDelay();for(let v=m;v<a;v+=y)yield g(),u(v,Math.min(a,v+y))})]))})}render(t){return ii(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,u)=>{var l;const c=Object.assign(Object.assign({},this.options),(l=this.options.splitChannels)===null||l===void 0?void 0:l[u]);return this.renderChannel([t.getChannelData(u)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ii(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}}UC.MAX_CANVAS_WIDTH=4e3;let EWe=class extends J_{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class SWe extends J_{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ii(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ii(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return ii(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const TWe={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Ov extends wWe{static create(t){return new Ov(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new SWe:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},TWe,t),this.timer=new EWe;const r=n?void 0:this.getMediaElement();this.renderer=new UC(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ii(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield bWe.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=xz.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield xz.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return ii(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return ii(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=Math.round(a.length/n);for(let c=0;c<n;c++){const f=a.slice(c*l,(c+1)*l);let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return ii(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return ii(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Ov.BasePlugin=class extends J_{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},Ov.dom=_We;function xWe(e){return Ov.create(e)}function Cz(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const IWe=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var CWe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ioe(e){var{container:t,plugins:n=[],onMount:r}=e,i=CWe(e,["container","plugins","onMount"]);const s=w.useRef([]),[o,a]=w.useState(null);return w.useEffect(()=>{if(!t)return;let u=[];n&&(u=n.map(Cz)),s.current=u;const l=xWe(Object.assign(Object.assign({container:t},i),{plugins:u}));return r==null||r(l),a(l),()=>{l.destroy()}},[t]),w.useEffect(()=>{if(o){const u=n.map(Cz),{disabled:l,enabled:c}=IWe(s.current,u);s.current=u,l.forEach(f=>{f.name&&(o==null||o.destroyPlugin(f.name))}),c.forEach(f=>{f.name&&(o==null||o.addPlugin(f).initPlugin(f.name))})}},[n]),o}function AWe(e){return!!e&&typeof e!="string"&&typeof e!="number"&&typeof e!="boolean"&&"type"in e&&"props"in e}var PWe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const soe=e=>{var{children:t,plugins:n=[],onMount:r}=e,i=PWe(e,["children","plugins","onMount"]);const s=w.useMemo(()=>{let a={};return w.Children.forEach(t,u=>{if(typeof u!="object"||u===null||["string","number"].includes(typeof u)||!AWe(u))return;const{props:l,type:c}=u;if(c===Z6){const{id:f}=l;a=vWe(l),a=Object.assign(Object.assign({},a),{container:"#"+f})}}),a},[t]),o=ioe(Object.assign(Object.assign({plugins:n,onMount:r},i),s));return N.createElement(noe.Provider,{value:o},t)};soe.defaultProps={children:null,plugins:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zO(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let ooe=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};class OWe extends ooe{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}class RWe extends ooe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const NWe=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class eL extends OWe{constructor(t){var n,r,i,s;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new RWe,this.subscriptions.push(this.timer.on("tick",()=>{const o=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+o,this.emit("record-progress",this.duration)}))}static create(t){return new eL(t||{})}renderMicStream(t){const n=new AudioContext,r=n.createMediaStreamSource(t),i=n.createAnalyser();r.connect(i);const s=i.frequencyBinCount,o=new Float32Array(s);let a;const u=Math.floor((this.options.scrollingWaveformWindow||0)*n.sampleRate),l=()=>{var c;if(this.isWaveformPaused)return void(a=requestAnimationFrame(l));if(i.getFloatTimeDomainData(o),this.options.scrollingWaveform){const d=Math.min(u,this.dataWindow?this.dataWindow.length+s:s),h=new Float32Array(u);if(this.dataWindow){const p=Math.max(0,u-this.dataWindow.length);h.set(this.dataWindow.slice(-d+s),p)}h.set(o,u-s),this.dataWindow=h}else this.dataWindow=o;const f=this.options.scrollingWaveformWindow;this.wavesurfer&&((c=this.originalOptions)!==null&&c!==void 0||(this.originalOptions={cursorWidth:this.wavesurfer.options.cursorWidth,interact:this.wavesurfer.options.interact}),this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[this.dataWindow],f)),a=requestAnimationFrame(l)};return l(),{onDestroy:()=>{cancelAnimationFrame(a),r==null||r.disconnect(),n==null||n.close()},onEnd:()=>{this.isWaveformPaused=!0,cancelAnimationFrame(a),this.stopMic()}}}startMic(t){return zO(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return zO(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||NWe.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data)};const s=o=>{var a;const u=new Blob(i,{type:r.mimeType});this.emit(o,u),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(u)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return zO(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.options.cursorWidth=this.originalOptions.cursorWidth,this.wavesurfer.options.interact=this.originalOptions.interact,delete this.originalOptions)}}function aoe({width:e=70,height:t=50}){const n=w.useRef(null),r=w.useCallback(i=>{n.current=i,n.current&&(n.current.registerPlugin(eL.create({scrollingWaveform:!0,renderRecordedAudio:!1})).startRecording(),n.current.setOptions({height:50,waveColor:"#FA5252"}))},[]);return C.jsx(tt,{style:{width:`${e}px`,height:`${t}px`},children:C.jsx(soe,{onMount:r,children:C.jsx(Z6,{id:"waveform"})})})}function Az({parameters:e,setAnswer:t}){return w.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(r=>{new MediaRecorder(r).start();const s=new AudioContext,o=s.createMediaStreamSource(r),a=s.createAnalyser();a.minDecibels=-45,o.connect(a);const u=a.frequencyBinCount,l=new Uint8Array(u);let c=!1;const f=()=>{if(!c){a.getByteFrequencyData(l);for(let d=0;d<u;d+=1)l[d]>0&&(c=!0,t({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(f)}};window.requestAnimationFrame(f)})},[t]),C.jsx(ao,{style:{height:"70%",width:"100%"},children:C.jsxs(Or,{children:[C.jsx(et,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),C.jsx(et,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),C.jsx(et,{ta:"center",weight:700,children:"If you are not comfortable or able to speak English during this study, please close it now."}),C.jsx(ao,{children:C.jsx(aoe,{height:200,width:400})})]})})}const kWe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Az,default:Az},Symbol.toStringTag,{value:"Module"}));function vm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DWe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tL(e){let t,n,r;e.length!==2?(t=vm,n=(a,u)=>vm(e(a),u),r=(a,u)=>e(a)-u):(t=e===vm||e===DWe?e:$We,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function $We(){return 0}function LWe(e){return e===null?NaN:+e}function*MWe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const FWe=tL(vm),jWe=FWe.right;tL(LWe).center;function YT(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class Pz extends Map{constructor(t,n=VWe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Oz(this,t))}has(t){return super.has(Oz(this,t))}set(t,n){return super.set(BWe(this,t),n)}delete(t){return super.delete(UWe(this,t))}}function Oz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function BWe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function UWe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function VWe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zWe(e=vm){if(e===vm)return uoe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function uoe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const HWe=Math.sqrt(50),WWe=Math.sqrt(10),qWe=Math.sqrt(2);function KT(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=HWe?10:s>=WWe?5:s>=qWe?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?KT(e,t,n*2):[a,u,l]}function GWe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?KT(t,e,n):KT(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function sk(e,t,n){return t=+t,e=+e,n=+n,KT(e,t,n)[2]}function ok(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?sk(t,e,n):sk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Sh(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Rz(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function loe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?uoe:zWe(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));loe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(O0(e,n,t),i(e[r],s)>0&&O0(e,n,r);o<a;){for(O0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?O0(e,n,a):(++a,O0(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function O0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function YWe(e,t,n){if(e=Float64Array.from(MWe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Rz(e);if(t>=1)return Sh(e);var r,i=(r-1)*t,s=Math.floor(i),o=Sh(loe(e,s).subarray(0,s+1)),a=Rz(e.subarray(s+1));return o+(a-o)*(i-s)}}function KWe(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function Nz(e,t){return YWe(e,.5,t)}function QWe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function ak(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var XWe={value:()=>{}};function nL(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Mw(n)}function Mw(e){this._=e}function JWe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Mw.prototype=nL.prototype={constructor:Mw,on:function(e,t){var n=this._,r=JWe(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=ZWe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=kz(n[i],e.name,t);else if(t==null)for(i in n)n[i]=kz(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mw(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function ZWe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function kz(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=XWe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var uk="http://www.w3.org/1999/xhtml";const Dz={svg:"http://www.w3.org/2000/svg",xhtml:uk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function VC(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Dz.hasOwnProperty(t)?{space:Dz[t],local:e}:e}function eqe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===uk&&t.documentElement.namespaceURI===uk?t.createElement(e):t.createElementNS(n,e)}}function tqe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function coe(e){var t=VC(e);return(t.local?tqe:eqe)(t)}function nqe(){}function rL(e){return e==null?nqe:function(){return this.querySelector(e)}}function rqe(e){typeof e!="function"&&(e=rL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Ss(r,this._parents)}function foe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iqe(){return[]}function doe(e){return e==null?iqe:function(){return this.querySelectorAll(e)}}function sqe(e){return function(){return foe(e.apply(this,arguments))}}function oqe(e){typeof e=="function"?e=sqe(e):e=doe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new Ss(r,i)}function hoe(e){return function(){return this.matches(e)}}function poe(e){return function(t){return t.matches(e)}}var aqe=Array.prototype.find;function uqe(e){return function(){return aqe.call(this.children,e)}}function lqe(){return this.firstElementChild}function cqe(e){return this.select(e==null?lqe:uqe(typeof e=="function"?e:poe(e)))}var fqe=Array.prototype.filter;function dqe(){return Array.from(this.children)}function hqe(e){return function(){return fqe.call(this.children,e)}}function pqe(e){return this.selectAll(e==null?dqe:hqe(typeof e=="function"?e:poe(e)))}function mqe(e){typeof e!="function"&&(e=hoe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ss(r,this._parents)}function moe(e){return new Array(e.length)}function gqe(){return new Ss(this._enter||this._groups.map(moe),this._parents)}function QT(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}QT.prototype={constructor:QT,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yqe(e){return function(){return e}}function vqe(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new QT(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function _qe(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new QT(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function bqe(e){return e.__data__}function wqe(e,t){if(!arguments.length)return Array.from(this,bqe);var n=t?_qe:vqe,r=this._parents,i=this._groups;typeof e!="function"&&(e=yqe(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=Eqe(e.call(c,c&&c.__data__,l,r)),p=h.length,m=a[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(d);n(c,f,m,y,g,h,t);for(var v=0,_=0,S,x;v<p;++v)if(S=m[v]){for(v>=_&&(_=v+1);!(x=y[_])&&++_<p;);S._next=x||null}}return o=new Ss(o,r),o._enter=a,o._exit=u,o}function Eqe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sqe(){return new Ss(this._exit||this._groups.map(moe),this._parents)}function Tqe(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function xqe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new Ss(a,this._parents)}function Iqe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Cqe(e){e||(e=Aqe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Ss(i,this._parents).order()}function Aqe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Pqe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Oqe(){return Array.from(this)}function Rqe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Nqe(){let e=0;for(const t of this)++e;return e}function kqe(){return!this.node()}function Dqe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function $qe(e){return function(){this.removeAttribute(e)}}function Lqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mqe(e,t){return function(){this.setAttribute(e,t)}}function Fqe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Bqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Uqe(e,t){var n=VC(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Lqe:$qe:typeof t=="function"?n.local?Bqe:jqe:n.local?Fqe:Mqe)(n,t))}function goe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Vqe(e){return function(){this.style.removeProperty(e)}}function zqe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Hqe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Wqe(e,t,n){return arguments.length>1?this.each((t==null?Vqe:typeof t=="function"?Hqe:zqe)(e,t,n??"")):Ym(this.node(),e)}function Ym(e,t){return e.style.getPropertyValue(t)||goe(e).getComputedStyle(e,null).getPropertyValue(t)}function qqe(e){return function(){delete this[e]}}function Gqe(e,t){return function(){this[e]=t}}function Yqe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kqe(e,t){return arguments.length>1?this.each((t==null?qqe:typeof t=="function"?Yqe:Gqe)(e,t)):this.node()[e]}function yoe(e){return e.trim().split(/^|\s+/)}function iL(e){return e.classList||new voe(e)}function voe(e){this._node=e,this._names=yoe(e.getAttribute("class")||"")}voe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _oe(e,t){for(var n=iL(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function boe(e,t){for(var n=iL(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Qqe(e){return function(){_oe(this,e)}}function Xqe(e){return function(){boe(this,e)}}function Jqe(e,t){return function(){(t.apply(this,arguments)?_oe:boe)(this,e)}}function Zqe(e,t){var n=yoe(e+"");if(arguments.length<2){for(var r=iL(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Jqe:t?Qqe:Xqe)(n,t))}function eGe(){this.textContent=""}function tGe(e){return function(){this.textContent=e}}function nGe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function rGe(e){return arguments.length?this.each(e==null?eGe:(typeof e=="function"?nGe:tGe)(e)):this.node().textContent}function iGe(){this.innerHTML=""}function sGe(e){return function(){this.innerHTML=e}}function oGe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function aGe(e){return arguments.length?this.each(e==null?iGe:(typeof e=="function"?oGe:sGe)(e)):this.node().innerHTML}function uGe(){this.nextSibling&&this.parentNode.appendChild(this)}function lGe(){return this.each(uGe)}function cGe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fGe(){return this.each(cGe)}function dGe(e){var t=typeof e=="function"?e:coe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hGe(){return null}function pGe(e,t){var n=typeof e=="function"?e:coe(e),r=t==null?hGe:typeof t=="function"?t:rL(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mGe(){var e=this.parentNode;e&&e.removeChild(this)}function gGe(){return this.each(mGe)}function yGe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vGe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _Ge(e){return this.select(e?vGe:yGe)}function bGe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wGe(e){return function(t){e.call(this,t,this.__data__)}}function EGe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function SGe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function TGe(e,t,n){return function(){var r=this.__on,i,s=wGe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function xGe(e,t,n){var r=EGe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?TGe:SGe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function woe(e,t,n){var r=goe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function IGe(e,t){return function(){return woe(this,e,t)}}function CGe(e,t){return function(){return woe(this,e,t.apply(this,arguments))}}function AGe(e,t){return this.each((typeof t=="function"?CGe:IGe)(e,t))}function*PGe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var sL=[null];function Ss(e,t){this._groups=e,this._parents=t}function Z_(){return new Ss([[document.documentElement]],sL)}function OGe(){return this}Ss.prototype=Z_.prototype={constructor:Ss,select:rqe,selectAll:oqe,selectChild:cqe,selectChildren:pqe,filter:mqe,data:wqe,enter:gqe,exit:Sqe,join:Tqe,merge:xqe,selection:OGe,order:Iqe,sort:Cqe,call:Pqe,nodes:Oqe,node:Rqe,size:Nqe,empty:kqe,each:Dqe,attr:Uqe,style:Wqe,property:Kqe,classed:Zqe,text:rGe,html:aGe,raise:lGe,lower:fGe,append:dGe,insert:pGe,remove:gGe,clone:_Ge,datum:bGe,on:xGe,dispatch:AGe,[Symbol.iterator]:PGe};function Gr(e){return typeof e=="string"?new Ss([[document.querySelector(e)]],[document.documentElement]):new Ss([[e]],sL)}function RGe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function lk(e,t){if(e=RGe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function NGe(e){return typeof e=="string"?new Ss([document.querySelectorAll(e)],[document.documentElement]):new Ss([foe(e)],sL)}const ck={capture:!0,passive:!1};function fk(e){e.preventDefault(),e.stopImmediatePropagation()}function kGe(e){var t=e.document.documentElement,n=Gr(e).on("dragstart.drag",fk,ck);"onselectstart"in t?n.on("selectstart.drag",fk,ck):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function DGe(e,t){var n=e.document.documentElement,r=Gr(e).on("dragstart.drag",null);t&&(r.on("click.drag",fk,ck),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function oL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Eoe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e1(){}var Rv=.7,XT=1/Rv,_m="\\s*([+-]?\\d+)\\s*",Nv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Ge=/^#([0-9a-f]{3,8})$/,LGe=new RegExp(`^rgb\\(${_m},${_m},${_m}\\)$`),MGe=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),FGe=new RegExp(`^rgba\\(${_m},${_m},${_m},${Nv}\\)$`),jGe=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${Nv}\\)$`),BGe=new RegExp(`^hsl\\(${Nv},${Xu},${Xu}\\)$`),UGe=new RegExp(`^hsla\\(${Nv},${Xu},${Xu},${Nv}\\)$`),$z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oL(e1,Th,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lz,formatHex:Lz,formatHex8:VGe,formatHsl:zGe,formatRgb:Mz,toString:Mz});function Lz(){return this.rgb().formatHex()}function VGe(){return this.rgb().formatHex8()}function zGe(){return Soe(this).formatHsl()}function Mz(){return this.rgb().formatRgb()}function Th(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$Ge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fz(t):n===3?new Xs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Pb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Pb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LGe.exec(e))?new Xs(t[1],t[2],t[3],1):(t=MGe.exec(e))?new Xs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FGe.exec(e))?Pb(t[1],t[2],t[3],t[4]):(t=jGe.exec(e))?Pb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BGe.exec(e))?Uz(t[1],t[2]/100,t[3]/100,1):(t=UGe.exec(e))?Uz(t[1],t[2]/100,t[3]/100,t[4]):$z.hasOwnProperty(e)?Fz($z[e]):e==="transparent"?new Xs(NaN,NaN,NaN,0):null}function Fz(e){return new Xs(e>>16&255,e>>8&255,e&255,1)}function Pb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xs(e,t,n,r)}function HGe(e){return e instanceof e1||(e=Th(e)),e?(e=e.rgb(),new Xs(e.r,e.g,e.b,e.opacity)):new Xs}function dk(e,t,n,r){return arguments.length===1?HGe(e):new Xs(e,t,n,r??1)}function Xs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}oL(Xs,dk,Eoe(e1,{brighter(e){return e=e==null?XT:Math.pow(XT,e),new Xs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rv:Math.pow(Rv,e),new Xs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xs(oh(this.r),oh(this.g),oh(this.b),JT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jz,formatHex:jz,formatHex8:WGe,formatRgb:Bz,toString:Bz}));function jz(){return`#${Vd(this.r)}${Vd(this.g)}${Vd(this.b)}`}function WGe(){return`#${Vd(this.r)}${Vd(this.g)}${Vd(this.b)}${Vd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bz(){const e=JT(this.opacity);return`${e===1?"rgb(":"rgba("}${oh(this.r)}, ${oh(this.g)}, ${oh(this.b)}${e===1?")":`, ${e})`}`}function JT(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vd(e){return e=oh(e),(e<16?"0":"")+e.toString(16)}function Uz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fa(e,t,n,r)}function Soe(e){if(e instanceof Fa)return new Fa(e.h,e.s,e.l,e.opacity);if(e instanceof e1||(e=Th(e)),!e)return new Fa;if(e instanceof Fa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Fa(o,a,u,e.opacity)}function Toe(e,t,n,r){return arguments.length===1?Soe(e):new Fa(e,t,n,r??1)}function Fa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}oL(Fa,Toe,Eoe(e1,{brighter(e){return e=e==null?XT:Math.pow(XT,e),new Fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rv:Math.pow(Rv,e),new Fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xs(HO(e>=240?e-240:e+120,i,r),HO(e,i,r),HO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Fa(Vz(this.h),Ob(this.s),Ob(this.l),JT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=JT(this.opacity);return`${e===1?"hsl(":"hsla("}${Vz(this.h)}, ${Ob(this.s)*100}%, ${Ob(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vz(e){return e=(e||0)%360,e<0?e+360:e}function Ob(e){return Math.max(0,Math.min(1,e||0))}function HO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const aL=e=>()=>e;function qGe(e,t){return function(n){return e+n*t}}function GGe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function YGe(e){return(e=+e)==1?xoe:function(t,n){return n-t?GGe(t,n,e):aL(isNaN(t)?n:t)}}function xoe(e,t){var n=t-e;return n?qGe(e,n):aL(isNaN(e)?t:e)}const ZT=function e(t){var n=YGe(t);function r(i,s){var o=n((i=dk(i)).r,(s=dk(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=xoe(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function KGe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function QGe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XGe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=zC(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function JGe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $a(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ZGe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zC(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var hk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WO=new RegExp(hk.source,"g");function eYe(e){return function(){return e}}function tYe(e){return function(t){return e(t)+""}}function Ioe(e,t){var n=hk.lastIndex=WO.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=hk.exec(e))&&(i=WO.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:$a(r,i)})),n=WO.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?tYe(u[0].x):eYe(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function zC(e,t){var n=typeof t,r;return t==null||n==="boolean"?aL(t):(n==="number"?$a:n==="string"?(r=Th(t))?(t=r,ZT):Ioe:t instanceof Th?ZT:t instanceof Date?JGe:QGe(t)?KGe:Array.isArray(t)?XGe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZGe:$a)(e,t)}function nYe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var zz=180/Math.PI,pk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Coe(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*zz,skewX:Math.atan(u)*zz,scaleX:o,scaleY:a}}var Rb;function rYe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?pk:Coe(t.a,t.b,t.c,t.d,t.e,t.f)}function iYe(e){return e==null||(Rb||(Rb=document.createElementNS("http://www.w3.org/2000/svg","g")),Rb.setAttribute("transform",e),!(e=Rb.transform.baseVal.consolidate()))?pk:(e=e.matrix,Coe(e.a,e.b,e.c,e.d,e.e,e.f))}function Aoe(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:$a(l,f)},{i:m-2,x:$a(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:$a(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:$a(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:$a(l,f)},{i:m-2,x:$a(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,m=d.length,y;++p<m;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var sYe=Aoe(rYe,"px, ","px)","deg)"),oYe=Aoe(iYe,", ",")",")"),Km=0,ey=0,R0=0,Poe=1e3,ex,ty,tx=0,xh=0,HC=0,kv=typeof performance=="object"&&performance.now?performance:Date,Ooe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uL(){return xh||(Ooe(aYe),xh=kv.now()+HC)}function aYe(){xh=0}function nx(){this._call=this._time=this._next=null}nx.prototype=Roe.prototype={constructor:nx,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?uL():+n)+(t==null?0:+t),!this._next&&ty!==this&&(ty?ty._next=this:ex=this,ty=this),this._call=e,this._time=n,mk()},stop:function(){this._call&&(this._call=null,this._time=1/0,mk())}};function Roe(e,t,n){var r=new nx;return r.restart(e,t,n),r}function uYe(){uL(),++Km;for(var e=ex,t;e;)(t=xh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Km}function Hz(){xh=(tx=kv.now())+HC,Km=ey=0;try{uYe()}finally{Km=0,cYe(),xh=0}}function lYe(){var e=kv.now(),t=e-tx;t>Poe&&(HC-=t,tx=e)}function cYe(){for(var e,t=ex,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ex=n);ty=e,mk(r)}function mk(e){if(!Km){ey&&(ey=clearTimeout(ey));var t=e-xh;t>24?(e<1/0&&(ey=setTimeout(Hz,e-kv.now()-HC)),R0&&(R0=clearInterval(R0))):(R0||(tx=kv.now(),R0=setInterval(lYe,Poe)),Km=1,Ooe(Hz))}}function Wz(e,t,n){var r=new nx;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var fYe=nL("start","end","cancel","interrupt"),dYe=[],Noe=0,qz=1,gk=2,Fw=3,Gz=4,yk=5,jw=6;function WC(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;hYe(e,n,{name:t,index:r,group:i,on:fYe,tween:dYe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Noe})}function lL(e,t){var n=au(e,t);if(n.state>Noe)throw new Error("too late; already scheduled");return n}function wl(e,t){var n=au(e,t);if(n.state>Fw)throw new Error("too late; already running");return n}function au(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hYe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Roe(s,0,n.time);function s(l){n.state=qz,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==qz)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Fw)return Wz(o);h.state===Gz?(h.state=jw,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=jw,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Wz(function(){n.state===Fw&&(n.state=Gz,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=gk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===gk){for(n.state=Fw,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=yk,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===yk&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=jw,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function vk(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>gk&&r.state<yk,r.state=jw,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function pYe(e){return this.each(function(){vk(this,e)})}function mYe(e,t){var n,r;return function(){var i=wl(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function gYe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=wl(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function yYe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=au(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?mYe:gYe)(n,e,t))}function cL(e,t,n){var r=e._id;return e.each(function(){var i=wl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return au(i,r).value[t]}}function koe(e,t){var n;return(typeof t=="number"?$a:t instanceof Th?ZT:(n=Th(t))?(t=n,ZT):Ioe)(e,t)}function vYe(e){return function(){this.removeAttribute(e)}}function _Ye(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bYe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function wYe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function EYe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function SYe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function TYe(e,t){var n=VC(e),r=n==="transform"?oYe:koe;return this.attrTween(e,typeof t=="function"?(n.local?SYe:EYe)(n,r,cL(this,"attr."+e,t)):t==null?(n.local?_Ye:vYe)(n):(n.local?wYe:bYe)(n,r,t))}function xYe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function IYe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function CYe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&IYe(e,s)),n}return i._value=t,i}function AYe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&xYe(e,s)),n}return i._value=t,i}function PYe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=VC(e);return this.tween(n,(r.local?CYe:AYe)(r,t))}function OYe(e,t){return function(){lL(this,e).delay=+t.apply(this,arguments)}}function RYe(e,t){return t=+t,function(){lL(this,e).delay=t}}function NYe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OYe:RYe)(t,e)):au(this.node(),t).delay}function kYe(e,t){return function(){wl(this,e).duration=+t.apply(this,arguments)}}function DYe(e,t){return t=+t,function(){wl(this,e).duration=t}}function $Ye(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kYe:DYe)(t,e)):au(this.node(),t).duration}function LYe(e,t){if(typeof t!="function")throw new Error;return function(){wl(this,e).ease=t}}function MYe(e){var t=this._id;return arguments.length?this.each(LYe(t,e)):au(this.node(),t).ease}function FYe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;wl(this,e).ease=n}}function jYe(e){if(typeof e!="function")throw new Error;return this.each(FYe(this._id,e))}function BYe(e){typeof e!="function"&&(e=hoe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new sc(r,this._parents,this._name,this._id)}function UYe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new sc(o,this._parents,this._name,this._id)}function VYe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function zYe(e,t,n){var r,i,s=VYe(t)?lL:wl;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function HYe(e,t){var n=this._id;return arguments.length<2?au(this.node(),n).on.on(e):this.each(zYe(n,e,t))}function WYe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qYe(){return this.on("end.remove",WYe(this._id))}function GYe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rL(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,WC(l[d],t,n,d,l,au(c,n)));return new sc(s,this._parents,t,n)}function YYe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=doe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=au(c,n),m=0,y=d.length;m<y;++m)(h=d[m])&&WC(h,t,n,m,d,p);s.push(d),o.push(c)}return new sc(s,o,t,n)}var KYe=Z_.prototype.constructor;function QYe(){return new KYe(this._groups,this._parents)}function XYe(e,t){var n,r,i;return function(){var s=Ym(this,e),o=(this.style.removeProperty(e),Ym(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function Doe(e){return function(){this.style.removeProperty(e)}}function JYe(e,t,n){var r,i=n+"",s;return function(){var o=Ym(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function ZYe(e,t,n){var r,i,s;return function(){var o=Ym(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),Ym(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function eKe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=wl(this,e),l=u.on,c=u.value[s]==null?a||(a=Doe(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function tKe(e,t,n){var r=(e+="")=="transform"?sYe:koe;return t==null?this.styleTween(e,XYe(e,r)).on("end.style."+e,Doe(e)):typeof t=="function"?this.styleTween(e,ZYe(e,r,cL(this,"style."+e,t))).each(eKe(this._id,e)):this.styleTween(e,JYe(e,r,t),n).on("end.style."+e,null)}function nKe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function rKe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&nKe(e,o,n)),r}return s._value=t,s}function iKe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,rKe(e,t,n??""))}function sKe(e){return function(){this.textContent=e}}function oKe(e){return function(){var t=e(this);this.textContent=t??""}}function aKe(e){return this.tween("text",typeof e=="function"?oKe(cL(this,"text",e)):sKe(e==null?"":e+""))}function uKe(e){return function(t){this.textContent=e.call(this,t)}}function lKe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&uKe(i)),t}return r._value=e,r}function cKe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lKe(e))}function fKe(){for(var e=this._name,t=this._id,n=$oe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=au(u,t);WC(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new sc(r,this._parents,e,n)}function dKe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=wl(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var hKe=0;function sc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $oe(){return++hKe}var xl=Z_.prototype;sc.prototype={constructor:sc,select:GYe,selectAll:YYe,selectChild:xl.selectChild,selectChildren:xl.selectChildren,filter:BYe,merge:UYe,selection:QYe,transition:fKe,call:xl.call,nodes:xl.nodes,node:xl.node,size:xl.size,empty:xl.empty,each:xl.each,on:HYe,attr:TYe,attrTween:PYe,style:tKe,styleTween:iKe,text:aKe,textTween:cKe,remove:qYe,tween:yYe,delay:NYe,duration:$Ye,ease:MYe,easeVarying:jYe,end:dKe,[Symbol.iterator]:xl[Symbol.iterator]};const pKe=e=>+e;function mKe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gKe={time:null,delay:0,duration:250,ease:mKe};function yKe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vKe(e){var t,n;e instanceof sc?(t=e._id,e=e._name):(t=$oe(),(n=gKe).time=uL(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&WC(u,e,t,l,o,n||yKe(u,t));return new sc(r,this._parents,e,t)}Z_.prototype.interrupt=pYe;Z_.prototype.transition=vKe;const qO=e=>()=>e;function _Ke(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function bKe(e){e.stopImmediatePropagation()}function GO(e){e.preventDefault(),e.stopImmediatePropagation()}var Yz={name:"drag"},YO={name:"space"},hp={name:"handle"},pp={name:"center"};const{abs:Kz,max:Qi,min:Xi}=Math;function Qz(e){return[+e[0],+e[1]]}function _k(e){return[Qz(e[0]),Qz(e[1])]}var Bw={name:"x",handles:["w","e"].map(Dv),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Uw={name:"y",handles:["n","s"].map(Dv),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},wKe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Dv),input:function(e){return e==null?null:_k(e)},output:function(e){return e}},Il={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xz={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Jz={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},EKe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},SKe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Dv(e){return{type:e}}function TKe(e){return!e.ctrlKey&&!e.button}function xKe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function IKe(){return navigator.maxTouchPoints||"ontouchstart"in this}function KO(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function CKe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function AKe(){return fL(Bw)}function PKe(){return fL(Uw)}function OKe(){return fL(wKe)}function fL(e){var t=xKe,n=TKe,r=IKe,i=!0,s=nL("start","brush","end"),o=6,a;function u(y){var g=y.property("__brush",m).selectAll(".overlay").data([Dv("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Il.overlay).merge(g).each(function(){var _=KO(this).extent;Gr(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([Dv("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Il.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=y.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Il[_.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,g,v){y.tween?y.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,S=_.__brush,x=c(_,arguments),b=S.selection,T=e.input(typeof g=="function"?g.apply(this,arguments):g,S.extent),I=zC(b,T);function D($){S.selection=$===1&&T===null?null:I($),l.call(_),x.brush()}return b!==null&&T!==null?D:D(1)}):y.each(function(){var _=this,S=arguments,x=_.__brush,b=e.input(typeof g=="function"?g.apply(_,S):g,x.extent),T=c(_,S).beforestart();vk(_),x.selection=b===null?null:b,l.call(_),T.start(v).brush(v).end(v)})},u.clear=function(y,g){u.move(y,null,g)};function l(){var y=Gr(this),g=KO(this).selection;g?(y.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?g[1][0]-o/2:g[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?g[1][1]-o/2:g[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?g[1][0]-g[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?g[1][1]-g[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,g,v){var _=y.__brush.emitter;return _&&(!v||!_.clean)?_:new f(y,g,v)}function f(y,g,v){this.that=y,this.args=g,this.state=y.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,g){return this.starting?(this.starting=!1,this.emit("start",y,g)):this.emit("brush",y),this},brush:function(y,g){return this.emit("brush",y,g),this},end:function(y,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,g)),this},emit:function(y,g,v){var _=Gr(this.that).datum();s.call(y,this.that,new _Ke(y,{sourceEvent:g,target:u,selection:e.output(this.state.selection),mode:v,dispatch:s}),_)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var g=this,v=y.target.__data__.type,_=(i&&y.metaKey?v="overlay":v)==="selection"?Yz:i&&y.altKey?pp:hp,S=e===Uw?null:EKe[v],x=e===Bw?null:SKe[v],b=KO(g),T=b.extent,I=b.selection,D=T[0][0],$,B,O=T[0][1],M,k,ee=T[1][0],te,re,K=T[1][1],ie,P,V=0,Y=0,A,R=S&&x&&i&&y.shiftKey,L,G,le=Array.from(y.touches||[y],Ie=>{const We=Ie.identifier;return Ie=lk(Ie,g),Ie.point0=Ie.slice(),Ie.identifier=We,Ie});vk(g);var ce=c(g,arguments,!0).beforestart();if(v==="overlay"){I&&(A=!0);const Ie=[le[0],le[1]||le[0]];b.selection=I=[[$=e===Uw?D:Xi(Ie[0][0],Ie[1][0]),M=e===Bw?O:Xi(Ie[0][1],Ie[1][1])],[te=e===Uw?ee:Qi(Ie[0][0],Ie[1][0]),ie=e===Bw?K:Qi(Ie[0][1],Ie[1][1])]],le.length>1&&He(y)}else $=I[0][0],M=I[0][1],te=I[1][0],ie=I[1][1];B=$,k=M,re=te,P=ie;var de=Gr(g).attr("pointer-events","none"),me=de.selectAll(".overlay").attr("cursor",Il[v]);if(y.touches)ce.moved=ye,ce.ended=Ke;else{var we=Gr(y.view).on("mousemove.brush",ye,!0).on("mouseup.brush",Ke,!0);i&&we.on("keydown.brush",mt,!0).on("keyup.brush",De,!0),kGe(y.view)}l.call(g),ce.start(y,_.name);function ye(Ie){for(const We of Ie.changedTouches||[Ie])for(const Wt of le)Wt.identifier===We.identifier&&(Wt.cur=lk(We,g));if(R&&!L&&!G&&le.length===1){const We=le[0];Kz(We.cur[0]-We[0])>Kz(We.cur[1]-We[1])?G=!0:L=!0}for(const We of le)We.cur&&(We[0]=We.cur[0],We[1]=We.cur[1]);A=!0,GO(Ie),He(Ie)}function He(Ie){const We=le[0],Wt=We.point0;var Ut;switch(V=We[0]-Wt[0],Y=We[1]-Wt[1],_){case YO:case Yz:{S&&(V=Qi(D-$,Xi(ee-te,V)),B=$+V,re=te+V),x&&(Y=Qi(O-M,Xi(K-ie,Y)),k=M+Y,P=ie+Y);break}case hp:{le[1]?(S&&(B=Qi(D,Xi(ee,le[0][0])),re=Qi(D,Xi(ee,le[1][0])),S=1),x&&(k=Qi(O,Xi(K,le[0][1])),P=Qi(O,Xi(K,le[1][1])),x=1)):(S<0?(V=Qi(D-$,Xi(ee-$,V)),B=$+V,re=te):S>0&&(V=Qi(D-te,Xi(ee-te,V)),B=$,re=te+V),x<0?(Y=Qi(O-M,Xi(K-M,Y)),k=M+Y,P=ie):x>0&&(Y=Qi(O-ie,Xi(K-ie,Y)),k=M,P=ie+Y));break}case pp:{S&&(B=Qi(D,Xi(ee,$-V*S)),re=Qi(D,Xi(ee,te+V*S))),x&&(k=Qi(O,Xi(K,M-Y*x)),P=Qi(O,Xi(K,ie+Y*x)));break}}re<B&&(S*=-1,Ut=$,$=te,te=Ut,Ut=B,B=re,re=Ut,v in Xz&&me.attr("cursor",Il[v=Xz[v]])),P<k&&(x*=-1,Ut=M,M=ie,ie=Ut,Ut=k,k=P,P=Ut,v in Jz&&me.attr("cursor",Il[v=Jz[v]])),b.selection&&(I=b.selection),L&&(B=I[0][0],re=I[1][0]),G&&(k=I[0][1],P=I[1][1]),(I[0][0]!==B||I[0][1]!==k||I[1][0]!==re||I[1][1]!==P)&&(b.selection=[[B,k],[re,P]],l.call(g),ce.brush(Ie,_.name))}function Ke(Ie){if(bKe(Ie),Ie.touches){if(Ie.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else DGe(Ie.view,A),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);de.attr("pointer-events","all"),me.attr("cursor",Il.overlay),b.selection&&(I=b.selection),CKe(I)&&(b.selection=null,l.call(g)),ce.end(Ie,_.name)}function mt(Ie){switch(Ie.keyCode){case 16:{R=S&&x;break}case 18:{_===hp&&(S&&(te=re-V*S,$=B+V*S),x&&(ie=P-Y*x,M=k+Y*x),_=pp,He(Ie));break}case 32:{(_===hp||_===pp)&&(S<0?te=re-V:S>0&&($=B-V),x<0?ie=P-Y:x>0&&(M=k-Y),_=YO,me.attr("cursor",Il.selection),He(Ie));break}default:return}GO(Ie)}function De(Ie){switch(Ie.keyCode){case 16:{R&&(L=G=R=!1,He(Ie));break}case 18:{_===pp&&(S<0?te=re:S>0&&($=B),x<0?ie=P:x>0&&(M=k),_=hp,He(Ie));break}case 32:{_===YO&&(Ie.altKey?(S&&(te=re-V*S,$=B+V*S),x&&(ie=P-Y*x,M=k+Y*x),_=pp):(S<0?te=re:S>0&&($=B),x<0?ie=P:x>0&&(M=k),_=hp),me.attr("cursor",Il[v]),He(Ie));break}default:return}GO(Ie)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function m(){var y=this.__brush||{selection:null};return y.extent=_k(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:qO(_k(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:qO(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:qO(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const bk=Math.PI,wk=2*bk,Ed=1e-6,RKe=wk-Ed;function Loe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function NKe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Loe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kKe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Loe:NKe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ed)if(!(Math.abs(f*u-l*c)>Ed)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),v=Math.sqrt(d),_=s*Math.tan((bk-Math.acos((m+d-y)/(2*g*v)))/2),S=_/v,x=_/g;Math.abs(S-1)>Ed&&this._append`L${t+S*c},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+x*u},${this._y1=n+x*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Ed||Math.abs(this._y1-c)>Ed)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%wk+wk),d>RKe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Ed&&this._append`A${r},${r},0,${+(d>=bk)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Zz={},QO={},XO=34,N0=10,JO=13;function Moe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function DKe(e,t){var n=Moe(e);return function(r,i){return t(n(r),i,e)}}function eH(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Fs(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function $Ke(e){return e<0?"-"+Fs(-e,6):e>9999?"+"+Fs(e,6):Fs(e,4)}function LKe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":$Ke(e.getUTCFullYear())+"-"+Fs(e.getUTCMonth()+1,2)+"-"+Fs(e.getUTCDate(),2)+(i?"T"+Fs(t,2)+":"+Fs(n,2)+":"+Fs(r,2)+"."+Fs(i,3)+"Z":r?"T"+Fs(t,2)+":"+Fs(n,2)+":"+Fs(r,2)+"Z":n||t?"T"+Fs(t,2)+":"+Fs(n,2)+"Z":"")}function MKe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?DKe(y,d):Moe(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,v=p<=0,_=!1;f.charCodeAt(p-1)===N0&&--p,f.charCodeAt(p-1)===JO&&--p;function S(){if(v)return QO;if(_)return _=!1,Zz;var b,T=m,I;if(f.charCodeAt(T)===XO){for(;m++<p&&f.charCodeAt(m)!==XO||f.charCodeAt(++m)===XO;);return(b=m)>=p?v=!0:(I=f.charCodeAt(m++))===N0?_=!0:I===JO&&(_=!0,f.charCodeAt(m)===N0&&++m),f.slice(T+1,b-1).replace(/""/g,'"')}for(;m<p;){if((I=f.charCodeAt(b=m++))===N0)_=!0;else if(I===JO)_=!0,f.charCodeAt(m)===N0&&++m;else if(I!==n)continue;return f.slice(T,b)}return v=!0,f.slice(T,p)}for(;(g=S())!==QO;){for(var x=[];g!==Zz&&g!==QO;)x.push(g),g=S();d&&(x=d(x,y++))==null||h.push(x)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=eH(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=eH(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?LKe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var FKe=MKe(","),jKe=FKe.parse;function BKe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function UKe(e,t){return fetch(e,t).then(BKe)}function VKe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),UKe(t,n).then(function(i){return e(i,r)})}}var zKe=VKe(jKe);function HKe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qm(e){return e=rx(Math.abs(e)),e?e[1]:NaN}function WKe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function qKe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var GKe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ix(e){if(!(t=GKe.exec(e)))throw new Error("invalid format: "+e);var t;return new dL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ix.prototype=dL.prototype;function dL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YKe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Foe;function KKe(e,t){var n=rx(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Foe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+rx(e,Math.max(0,t+s-1))[0]}function tH(e,t){var n=rx(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HKe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tH(e*100,t),r:tH,s:KKe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rH(e){return e}var iH=Array.prototype.map,sH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QKe(e){var t=e.grouping===void 0||e.thousands===void 0?rH:WKe(iH.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?rH:qKe(iH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=ix(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,v=f.comma,_=f.precision,S=f.trim,x=f.type;x==="n"?(v=!0,x="g"):nH[x]||(_===void 0&&(_=12),S=!0,x="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var b=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",T=m==="$"?r:/[%p]/.test(x)?o:"",I=nH[x],D=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(B){var O=b,M=T,k,ee,te;if(x==="c")M=I(B)+M,B="";else{B=+B;var re=B<0||1/B<0;if(B=isNaN(B)?u:I(Math.abs(B),_),S&&(B=YKe(B)),re&&+B==0&&p!=="+"&&(re=!1),O=(re?p==="("?p:a:p==="-"||p==="("?"":p)+O,M=(x==="s"?sH[8+Foe/3]:"")+M+(re&&p==="("?")":""),D){for(k=-1,ee=B.length;++k<ee;)if(te=B.charCodeAt(k),48>te||te>57){M=(te===46?i+B.slice(k+1):B.slice(k))+M,B=B.slice(0,k);break}}}v&&!y&&(B=t(B,1/0));var K=O.length+B.length+M.length,ie=K<g?new Array(g-K+1).join(d):"";switch(v&&y&&(B=t(ie+B,ie.length?g-M.length:1/0),ie=""),h){case"<":B=O+B+M+ie;break;case"=":B=O+ie+B+M;break;case"^":B=ie.slice(0,K=ie.length>>1)+O+B+M+ie.slice(K);break;default:B=ie+O+B+M;break}return s(B)}return $.toString=function(){return f+""},$}function c(f,d){var h=l((f=ix(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Qm(d)/3)))*3,m=Math.pow(10,-p),y=sH[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var Nb,qC,joe;XKe({thousands:",",grouping:[3],currency:["$",""]});function XKe(e){return Nb=QKe(e),qC=Nb.format,joe=Nb.formatPrefix,Nb}function JKe(e){return Math.max(0,-Qm(Math.abs(e)))}function ZKe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qm(t)/3)))*3-Qm(Math.abs(e)))}function eQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qm(t)-Qm(e))+1}function tQe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function nQe(){return this.eachAfter(tQe)}function rQe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function iQe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function sQe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function oQe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function aQe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function uQe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function lQe(e){for(var t=this,n=cQe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function cQe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function fQe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function dQe(){return Array.from(this)}function hQe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function pQe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*mQe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function hL(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=vQe)):t===void 0&&(t=yQe);for(var n=new sx(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new sx(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(bQe)}function gQe(){return hL(this).eachBefore(_Qe)}function yQe(e){return e.children}function vQe(e){return Array.isArray(e)?e[1]:null}function _Qe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function bQe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function sx(e){this.data=e,this.depth=this.height=0,this.parent=null}sx.prototype=hL.prototype={constructor:sx,count:nQe,each:rQe,eachAfter:sQe,eachBefore:iQe,find:oQe,sum:aQe,sort:uQe,path:lQe,ancestors:fQe,descendants:dQe,leaves:hQe,links:pQe,copy:gQe,[Symbol.iterator]:mQe};function wQe(e){return e==null?null:EQe(e)}function EQe(e){if(typeof e!="function")throw new Error;return e}function oH(){return 0}function SQe(e){return function(){return e}}const TQe=1664525,xQe=1013904223,aH=4294967296;function IQe(){let e=1;return()=>(e=(TQe*e+xQe)%aH)/aH}function CQe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AQe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function PQe(e,t){for(var n=0,r=(e=AQe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&Boe(o,s)?++n:(o=RQe(i=OQe(i,s)),n=0);return o}function OQe(e,t){var n,r;if(ZO(t,e))return[t];for(n=0;n<e.length;++n)if(kb(t,e[n])&&ZO(ny(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(kb(ny(e[n],e[r]),t)&&kb(ny(e[n],t),e[r])&&kb(ny(e[r],t),e[n])&&ZO(Uoe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function kb(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Boe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ZO(e,t){for(var n=0;n<t.length;++n)if(!Boe(e,t[n]))return!1;return!0}function RQe(e){switch(e.length){case 1:return NQe(e[0]);case 2:return ny(e[0],e[1]);case 3:return Uoe(e[0],e[1],e[2])}}function NQe(e){return{x:e.x,y:e.y,r:e.r}}function ny(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function Uoe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,m=i-c,y=u-s,g=f-s,v=r*r+i*i-s*s,_=v-o*o-a*a+u*u,S=v-l*l-c*c+f*f,x=h*p-d*m,b=(p*S-m*_)/(x*2)-r,T=(m*y-p*g)/x,I=(h*_-d*S)/(x*2)-i,D=(d*g-h*y)/x,$=T*T+D*D-1,B=2*(s+b*T+I*D),O=b*b+I*I-s*s,M=-(Math.abs($)>1e-6?(B+Math.sqrt(B*B-4*$*O))/(2*$):O/B);return{x:r+b+T*M,y:i+I+D*M,r:M}}function uH(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function lH(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function cH(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function Db(e){this._=e,this.next=null,this.previous=null}function kQe(e,t){if(!(s=(e=CQe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;uH(r,n,i=e[2]),n=new Db(n),r=new Db(r),i=new Db(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){uH(n._,r._,i=e[u]),i=new Db(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(lH(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(lH(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=cH(n);(i=i.next)!==r;)(a=cH(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=PQe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function DQe(e){return Math.sqrt(e.value)}function $Qe(){var e=null,t=1,n=1,r=oH;function i(s){const o=IQe();return s.x=t/2,s.y=n/2,e?s.eachBefore(fH(e)).eachAfter(e2(r,.5,o)).eachBefore(dH(1)):s.eachBefore(fH(DQe)).eachAfter(e2(oH,1,o)).eachAfter(e2(r,s.r/Math.min(t,n),o)).eachBefore(dH(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=wQe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:SQe(+s),i):r},i}function fH(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function e2(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=kQe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function dH(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function GC(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const hH=Symbol("implicit");function YC(){var e=new Pz,t=[],n=[],r=hH;function i(s){let o=e.get(s);if(o===void 0){if(r!==hH)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Pz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YC(t,n).unknown(r)},GC.apply(i,arguments),i}function Yh(){var e=YC().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(m-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=QWe(d).map(function(g){return p+s*g});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Yh(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},GC.apply(f(),arguments)}function LQe(e){return function(){return e}}function MQe(e){return+e}var pH=[0,1];function Hp(e){return e}function Ek(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:LQe(isNaN(t)?NaN:.5)}function FQe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function jQe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Ek(i,r),s=n(o,s)):(r=Ek(r,i),s=n(s,o)),function(a){return s(r(a))}}function BQe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Ek(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=jWe(e,a,1,r)-1;return s[u](i[u](a))}}function Voe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function UQe(){var e=pH,t=pH,n=zC,r,i,s,o=Hp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Hp&&(o=FQe(e[0],e[d-1])),a=d>2?BQe:jQe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),$a)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,MQe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=nYe,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Hp,c()):o!==Hp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function zoe(){return UQe()(Hp,Hp)}function VQe(e,t,n,r){var i=ok(e,t,n),s;switch(r=ix(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=ZKe(i,o))&&(r.precision=s),joe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=eQe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=JKe(i))&&(r.precision=s-(r.type==="%")*2);break}}return qC(r)}function zQe(e){var t=e.domain;return e.ticks=function(n){var r=t();return GWe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VQe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=sk(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function $o(){var e=zoe();return e.copy=function(){return Voe(e,$o())},GC.apply(e,arguments),zQe(e)}function HQe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const t2=new Date,n2=new Date;function ci(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>ci(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(t2.setTime(+s),n2.setTime(+o),e(t2),e(n2),Math.floor(n(t2,n2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ox=ci(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ox.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ci(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ox);ox.range;const Ul=1e3,aa=Ul*60,Vl=aa*60,oc=Vl*24,pL=oc*7,mH=oc*30,r2=oc*365,Wp=ci(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ul)},(e,t)=>(t-e)/Ul,e=>e.getUTCSeconds());Wp.range;const mL=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ul)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());mL.range;const WQe=ci(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());WQe.range;const gL=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ul-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getHours());gL.range;const qQe=ci(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCHours());qQe.range;const t1=ci(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/oc,e=>e.getDate()-1);t1.range;const yL=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oc,e=>e.getUTCDate()-1);yL.range;const GQe=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oc,e=>Math.floor(e/oc));GQe.range;function Kh(e){return ci(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*aa)/pL)}const KC=Kh(0),ax=Kh(1),YQe=Kh(2),KQe=Kh(3),Xm=Kh(4),QQe=Kh(5),XQe=Kh(6);KC.range;ax.range;YQe.range;KQe.range;Xm.range;QQe.range;XQe.range;function Qh(e){return ci(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/pL)}const Hoe=Qh(0),ux=Qh(1),JQe=Qh(2),ZQe=Qh(3),Jm=Qh(4),eXe=Qh(5),tXe=Qh(6);Hoe.range;ux.range;JQe.range;ZQe.range;Jm.range;eXe.range;tXe.range;const vL=ci(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vL.range;const nXe=ci(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nXe.range;const ac=ci(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ac.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ac.range;const Ih=ci(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ih.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ih.range;function rXe(e,t,n,r,i,s){const o=[[Wp,1,Ul],[Wp,5,5*Ul],[Wp,15,15*Ul],[Wp,30,30*Ul],[s,1,aa],[s,5,5*aa],[s,15,15*aa],[s,30,30*aa],[i,1,Vl],[i,3,3*Vl],[i,6,6*Vl],[i,12,12*Vl],[r,1,oc],[r,2,2*oc],[n,1,pL],[t,1,mH],[t,3,3*mH],[e,1,r2]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=tL(([,,y])=>y).right(o,d);if(h===o.length)return e.every(ok(l/r2,c/r2,f));if(h===0)return ox.every(Math.max(ok(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[iXe,sXe]=rXe(ac,vL,KC,t1,gL,mL);function i2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function k0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function oXe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=D0(i),c=$0(i),f=D0(s),d=$0(s),h=D0(o),p=$0(o),m=D0(a),y=$0(a),g=D0(u),v=$0(u),_={a:re,A:K,b:ie,B:P,c:null,d:wH,e:wH,f:PXe,g:jXe,G:UXe,H:IXe,I:CXe,j:AXe,L:Woe,m:OXe,M:RXe,p:V,q:Y,Q:TH,s:xH,S:NXe,u:kXe,U:DXe,V:$Xe,w:LXe,W:MXe,x:null,X:null,y:FXe,Y:BXe,Z:VXe,"%":SH},S={a:A,A:R,b:L,B:G,c:null,d:EH,e:EH,f:qXe,g:nJe,G:iJe,H:zXe,I:HXe,j:WXe,L:Goe,m:GXe,M:YXe,p:le,q:ce,Q:TH,s:xH,S:KXe,u:QXe,U:XXe,V:JXe,w:ZXe,W:eJe,x:null,X:null,y:tJe,Y:rJe,Z:sJe,"%":SH},x={a:$,A:B,b:O,B:M,c:k,d:_H,e:_H,f:EXe,g:vH,G:yH,H:bH,I:bH,j:vXe,L:wXe,m:yXe,M:_Xe,p:D,q:gXe,Q:TXe,s:xXe,S:bXe,u:fXe,U:dXe,V:hXe,w:cXe,W:pXe,x:ee,X:te,y:vH,Y:yH,Z:mXe,"%":SXe};_.x=b(n,_),_.X=b(r,_),_.c=b(t,_),S.x=b(n,S),S.X=b(r,S),S.c=b(t,S);function b(de,me){return function(we){var ye=[],He=-1,Ke=0,mt=de.length,De,Ie,We;for(we instanceof Date||(we=new Date(+we));++He<mt;)de.charCodeAt(He)===37&&(ye.push(de.slice(Ke,He)),(Ie=gH[De=de.charAt(++He)])!=null?De=de.charAt(++He):Ie=De==="e"?" ":"0",(We=me[De])&&(De=We(we,Ie)),ye.push(De),Ke=He+1);return ye.push(de.slice(Ke,He)),ye.join("")}}function T(de,me){return function(we){var ye=k0(1900,void 0,1),He=I(ye,de,we+="",0),Ke,mt;if(He!=we.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(me&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ke=s2(k0(ye.y,0,1)),mt=Ke.getUTCDay(),Ke=mt>4||mt===0?ux.ceil(Ke):ux(Ke),Ke=yL.offset(Ke,(ye.V-1)*7),ye.y=Ke.getUTCFullYear(),ye.m=Ke.getUTCMonth(),ye.d=Ke.getUTCDate()+(ye.w+6)%7):(Ke=i2(k0(ye.y,0,1)),mt=Ke.getDay(),Ke=mt>4||mt===0?ax.ceil(Ke):ax(Ke),Ke=t1.offset(Ke,(ye.V-1)*7),ye.y=Ke.getFullYear(),ye.m=Ke.getMonth(),ye.d=Ke.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),mt="Z"in ye?s2(k0(ye.y,0,1)).getUTCDay():i2(k0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(mt+5)%7:ye.w+ye.U*7-(mt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,s2(ye)):i2(ye)}}function I(de,me,we,ye){for(var He=0,Ke=me.length,mt=we.length,De,Ie;He<Ke;){if(ye>=mt)return-1;if(De=me.charCodeAt(He++),De===37){if(De=me.charAt(He++),Ie=x[De in gH?me.charAt(He++):De],!Ie||(ye=Ie(de,we,ye))<0)return-1}else if(De!=we.charCodeAt(ye++))return-1}return ye}function D(de,me,we){var ye=l.exec(me.slice(we));return ye?(de.p=c.get(ye[0].toLowerCase()),we+ye[0].length):-1}function $(de,me,we){var ye=h.exec(me.slice(we));return ye?(de.w=p.get(ye[0].toLowerCase()),we+ye[0].length):-1}function B(de,me,we){var ye=f.exec(me.slice(we));return ye?(de.w=d.get(ye[0].toLowerCase()),we+ye[0].length):-1}function O(de,me,we){var ye=g.exec(me.slice(we));return ye?(de.m=v.get(ye[0].toLowerCase()),we+ye[0].length):-1}function M(de,me,we){var ye=m.exec(me.slice(we));return ye?(de.m=y.get(ye[0].toLowerCase()),we+ye[0].length):-1}function k(de,me,we){return I(de,t,me,we)}function ee(de,me,we){return I(de,n,me,we)}function te(de,me,we){return I(de,r,me,we)}function re(de){return o[de.getDay()]}function K(de){return s[de.getDay()]}function ie(de){return u[de.getMonth()]}function P(de){return a[de.getMonth()]}function V(de){return i[+(de.getHours()>=12)]}function Y(de){return 1+~~(de.getMonth()/3)}function A(de){return o[de.getUTCDay()]}function R(de){return s[de.getUTCDay()]}function L(de){return u[de.getUTCMonth()]}function G(de){return a[de.getUTCMonth()]}function le(de){return i[+(de.getUTCHours()>=12)]}function ce(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var me=b(de+="",_);return me.toString=function(){return de},me},parse:function(de){var me=T(de+="",!1);return me.toString=function(){return de},me},utcFormat:function(de){var me=b(de+="",S);return me.toString=function(){return de},me},utcParse:function(de){var me=T(de+="",!0);return me.toString=function(){return de},me}}}var gH={"-":"",_:" ",0:"0"},Si=/^\s*\d+/,aXe=/^%/,uXe=/[\\^$*+?|[\]().{}]/g;function wn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function lXe(e){return e.replace(uXe,"\\$&")}function D0(e){return new RegExp("^(?:"+e.map(lXe).join("|")+")","i")}function $0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cXe(e,t,n){var r=Si.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fXe(e,t,n){var r=Si.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dXe(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hXe(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pXe(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yH(e,t,n){var r=Si.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vH(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mXe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gXe(e,t,n){var r=Si.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function yXe(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _H(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vXe(e,t,n){var r=Si.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bH(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _Xe(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bXe(e,t,n){var r=Si.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function wXe(e,t,n){var r=Si.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function EXe(e,t,n){var r=Si.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function SXe(e,t,n){var r=aXe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function TXe(e,t,n){var r=Si.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xXe(e,t,n){var r=Si.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wH(e,t){return wn(e.getDate(),t,2)}function IXe(e,t){return wn(e.getHours(),t,2)}function CXe(e,t){return wn(e.getHours()%12||12,t,2)}function AXe(e,t){return wn(1+t1.count(ac(e),e),t,3)}function Woe(e,t){return wn(e.getMilliseconds(),t,3)}function PXe(e,t){return Woe(e,t)+"000"}function OXe(e,t){return wn(e.getMonth()+1,t,2)}function RXe(e,t){return wn(e.getMinutes(),t,2)}function NXe(e,t){return wn(e.getSeconds(),t,2)}function kXe(e){var t=e.getDay();return t===0?7:t}function DXe(e,t){return wn(KC.count(ac(e)-1,e),t,2)}function qoe(e){var t=e.getDay();return t>=4||t===0?Xm(e):Xm.ceil(e)}function $Xe(e,t){return e=qoe(e),wn(Xm.count(ac(e),e)+(ac(e).getDay()===4),t,2)}function LXe(e){return e.getDay()}function MXe(e,t){return wn(ax.count(ac(e)-1,e),t,2)}function FXe(e,t){return wn(e.getFullYear()%100,t,2)}function jXe(e,t){return e=qoe(e),wn(e.getFullYear()%100,t,2)}function BXe(e,t){return wn(e.getFullYear()%1e4,t,4)}function UXe(e,t){var n=e.getDay();return e=n>=4||n===0?Xm(e):Xm.ceil(e),wn(e.getFullYear()%1e4,t,4)}function VXe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function EH(e,t){return wn(e.getUTCDate(),t,2)}function zXe(e,t){return wn(e.getUTCHours(),t,2)}function HXe(e,t){return wn(e.getUTCHours()%12||12,t,2)}function WXe(e,t){return wn(1+yL.count(Ih(e),e),t,3)}function Goe(e,t){return wn(e.getUTCMilliseconds(),t,3)}function qXe(e,t){return Goe(e,t)+"000"}function GXe(e,t){return wn(e.getUTCMonth()+1,t,2)}function YXe(e,t){return wn(e.getUTCMinutes(),t,2)}function KXe(e,t){return wn(e.getUTCSeconds(),t,2)}function QXe(e){var t=e.getUTCDay();return t===0?7:t}function XXe(e,t){return wn(Hoe.count(Ih(e)-1,e),t,2)}function Yoe(e){var t=e.getUTCDay();return t>=4||t===0?Jm(e):Jm.ceil(e)}function JXe(e,t){return e=Yoe(e),wn(Jm.count(Ih(e),e)+(Ih(e).getUTCDay()===4),t,2)}function ZXe(e){return e.getUTCDay()}function eJe(e,t){return wn(ux.count(Ih(e)-1,e),t,2)}function tJe(e,t){return wn(e.getUTCFullYear()%100,t,2)}function nJe(e,t){return e=Yoe(e),wn(e.getUTCFullYear()%100,t,2)}function rJe(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function iJe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Jm(e):Jm.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function sJe(){return"+0000"}function SH(){return"%"}function TH(e){return+e}function xH(e){return Math.floor(+e/1e3)}var mp,Koe,Qoe;oJe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oJe(e){return mp=oXe(e),Koe=mp.format,mp.parse,Qoe=mp.utcFormat,mp.utcParse,mp}function aJe(e){return new Date(e)}function uJe(e){return e instanceof Date?+e:+new Date(+e)}function Xoe(e,t,n,r,i,s,o,a,u,l){var c=zoe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),v=l("%b %d"),_=l("%B"),S=l("%Y");function x(b){return(u(b)<b?h:a(b)<b?p:o(b)<b?m:s(b)<b?y:r(b)<b?i(b)<b?g:v:n(b)<b?_:S)(b)}return c.invert=function(b){return new Date(f(b))},c.domain=function(b){return arguments.length?d(Array.from(b,uJe)):d().map(aJe)},c.ticks=function(b){var T=d();return e(T[0],T[T.length-1],b??10)},c.tickFormat=function(b,T){return T==null?x:l(T)},c.nice=function(b){var T=d();return(!b||typeof b.range!="function")&&(b=t(T[0],T[T.length-1],b??10)),b?d(HQe(T,b)):c},c.copy=function(){return Voe(c,Xoe(e,t,n,r,i,s,o,a,u,l))},c}function lJe(){return GC.apply(Xoe(iXe,sXe,ac,vL,KC,t1,gL,mL,Wp,Koe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cJe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Joe=cJe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function tr(e){return function(){return e}}const IH=Math.abs,Ji=Math.atan2,md=Math.cos,fJe=Math.max,o2=Math.min,cu=Math.sin,qp=Math.sqrt,Ms=1e-12,$v=Math.PI,lx=$v/2,Vw=2*$v;function dJe(e){return e>1?0:e<-1?$v:Math.acos(e)}function CH(e){return e>=1?lx:e<=-1?-lx:Math.asin(e)}function Zoe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new kKe(t)}function hJe(e){return e.innerRadius}function pJe(e){return e.outerRadius}function mJe(e){return e.startAngle}function gJe(e){return e.endAngle}function yJe(e){return e&&e.padAngle}function vJe(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Ms))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function $b(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/qp(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,m=r+f,y=(d+p)/2,g=(h+m)/2,v=p-d,_=m-h,S=v*v+_*_,x=i-s,b=d*m-p*h,T=(_<0?-1:1)*qp(fJe(0,x*x*S-b*b)),I=(b*_-v*T)/S,D=(-b*v-_*T)/S,$=(b*_+v*T)/S,B=(-b*v+_*T)/S,O=I-y,M=D-g,k=$-y,ee=B-g;return O*O+M*M>k*k+ee*ee&&(I=$,D=B),{cx:I,cy:D,x01:-c,y01:-f,x11:I*(i/x-1),y11:D*(i/x-1)}}function AH(){var e=hJe,t=pJe,n=tr(0),r=null,i=mJe,s=gJe,o=yJe,a=null,u=Zoe(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-lx,m=s.apply(this,arguments)-lx,y=IH(m-p),g=m>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Ms))a.moveTo(0,0);else if(y>Vw-Ms)a.moveTo(h*md(p),h*cu(p)),a.arc(0,0,h,p,m,!g),d>Ms&&(a.moveTo(d*md(m),d*cu(m)),a.arc(0,0,d,m,p,g));else{var v=p,_=m,S=p,x=m,b=y,T=y,I=o.apply(this,arguments)/2,D=I>Ms&&(r?+r.apply(this,arguments):qp(d*d+h*h)),$=o2(IH(h-d)/2,+n.apply(this,arguments)),B=$,O=$,M,k;if(D>Ms){var ee=CH(D/d*cu(I)),te=CH(D/h*cu(I));(b-=ee*2)>Ms?(ee*=g?1:-1,S+=ee,x-=ee):(b=0,S=x=(p+m)/2),(T-=te*2)>Ms?(te*=g?1:-1,v+=te,_-=te):(T=0,v=_=(p+m)/2)}var re=h*md(v),K=h*cu(v),ie=d*md(x),P=d*cu(x);if($>Ms){var V=h*md(_),Y=h*cu(_),A=d*md(S),R=d*cu(S),L;if(y<$v)if(L=vJe(re,K,A,R,V,Y,ie,P)){var G=re-L[0],le=K-L[1],ce=V-L[0],de=Y-L[1],me=1/cu(dJe((G*ce+le*de)/(qp(G*G+le*le)*qp(ce*ce+de*de)))/2),we=qp(L[0]*L[0]+L[1]*L[1]);B=o2($,(d-we)/(me-1)),O=o2($,(h-we)/(me+1))}else B=O=0}T>Ms?O>Ms?(M=$b(A,R,re,K,h,O,g),k=$b(V,Y,ie,P,h,O,g),a.moveTo(M.cx+M.x01,M.cy+M.y01),O<$?a.arc(M.cx,M.cy,O,Ji(M.y01,M.x01),Ji(k.y01,k.x01),!g):(a.arc(M.cx,M.cy,O,Ji(M.y01,M.x01),Ji(M.y11,M.x11),!g),a.arc(0,0,h,Ji(M.cy+M.y11,M.cx+M.x11),Ji(k.cy+k.y11,k.cx+k.x11),!g),a.arc(k.cx,k.cy,O,Ji(k.y11,k.x11),Ji(k.y01,k.x01),!g))):(a.moveTo(re,K),a.arc(0,0,h,v,_,!g)):a.moveTo(re,K),!(d>Ms)||!(b>Ms)?a.lineTo(ie,P):B>Ms?(M=$b(ie,P,V,Y,d,-B,g),k=$b(re,K,A,R,d,-B,g),a.lineTo(M.cx+M.x01,M.cy+M.y01),B<$?a.arc(M.cx,M.cy,B,Ji(M.y01,M.x01),Ji(k.y01,k.x01),!g):(a.arc(M.cx,M.cy,B,Ji(M.y01,M.x01),Ji(M.y11,M.x11),!g),a.arc(0,0,d,Ji(M.cy+M.y11,M.cx+M.x11),Ji(k.cy+k.y11,k.cx+k.x11),g),a.arc(k.cx,k.cy,B,Ji(k.y11,k.x11),Ji(k.y01,k.x01),!g))):a.arc(0,0,d,x,S,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-$v/2;return[md(f)*c,cu(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:tr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:tr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:tr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:tr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:tr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:tr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:tr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function _L(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eae(e){this._context=e}eae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _Je(e){return new eae(e)}function bJe(e){return e[0]}function wJe(e){return e[1]}function PH(e,t){var n=tr(!0),r=null,i=_Je,s=null,o=Zoe(a);e=typeof e=="function"?e:e===void 0?bJe:tr(e),t=typeof t=="function"?t:t===void 0?wJe:tr(t);function a(u){var l,c=(u=_L(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:tr(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:tr(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:tr(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function EJe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function SJe(e){return e}function TJe(){var e=SJe,t=EJe,n=null,r=tr(0),i=tr(Vw),s=tr(0);function o(a){var u,l=(a=_L(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),m=+r.apply(this,arguments),y=Math.min(Vw,Math.max(-Vw,i.apply(this,arguments)-m)),g,v=Math.min(Math.abs(y)/l,s.apply(this,arguments)),_=v*(y<0?-1:1),S;for(u=0;u<l;++u)(S=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=S);for(t!=null?h.sort(function(x,b){return t(p[x],p[b])}):n!=null&&h.sort(function(x,b){return n(a[x],a[b])}),u=0,f=d?(y-l*_)/d:0;u<l;++u,m=g)c=h[u],S=p[c],g=m+(S>0?S*f:0)+_,p[c]={data:a[c],index:u,value:S,startAngle:m,endAngle:g,padAngle:v};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:tr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:tr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:tr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:tr(+a),o):s},o}function OH(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tae(e){this._context=e}tae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:OH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:OH(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RH(e){return new tae(e)}function NH(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kH(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function xJe(e,t){return e[t]}function IJe(e){const t=[];return t.key=e,t}function CJe(){var e=tr([]),t=kH,n=NH,r=xJe;function i(s){var o=Array.from(e.apply(this,arguments),IJe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=_L(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:tr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?kH:typeof s=="function"?s:tr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??NH,i):n},i}function ry(e,t,n){this.k=e,this.x=t,this.y=n}ry.prototype={constructor:ry,scale:function(e){return e===1?this:new ry(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ry(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ry.prototype;function n1({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,dropdownColumn:u=!1,columnList:l,setColumn:c,stringTicks:f=!1}){const d=w.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),h=w.useCallback(p=>(s?Qoe("%B"):qC(".2s"))(p),[s]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:120,children:C.jsx(ao,{children:C.jsx(Un,{spacing:3,children:C.jsx(et,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?C.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:p,offset:m})=>C.jsxs("g",{transform:`translate(${m}, ${n})`,children:[C.jsx("line",{y2:"6",stroke:"currentColor"}),o?C.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,C.jsx("foreignObject",{x:0-d/2,y:10,width:d,height:20,children:C.jsx(ao,{children:C.jsx(L_,{withinPortal:!0,label:p,children:C.jsx(et,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:f?p:+p==0?0:h(s?new Date(p):p)})})})})]},`${p}test`))]})}const AJe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:n1},Symbol.toStringTag,{value:"Module"}));function QC({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=w.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>20?120:u*6},[i]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(ao,{children:C.jsx(Un,{spacing:3,children:C.jsx(et,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>C.jsxs("g",{transform:`translate(${n}, ${l})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),s?C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,C.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:C.jsx("foreignObject",{width:a,height:20,children:C.jsx(Un,{style:{width:"100%",height:"100%"},position:"right",children:C.jsx(et,{lineClamp:1,sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const PJe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:QC},Symbol.toStringTag,{value:"Module"})),ks={top:15,left:160,right:50,bottom:130};function Sk({barsTable:e,fullTable:t,parameters:n,data:r,setSelection:i}){const[s,{height:o,width:a}]=Yu(),u=w.useMemo(()=>a-ks.left-ks.right,[a]),l=w.useMemo(()=>o-ks.top-ks.bottom,[o]),c=w.useMemo(()=>t==null?void 0:t.groupby(n.category).count(),[]),f=w.useMemo(()=>{const y=Array.from(new Set(r.map(g=>g[n.category])));return YC(Joe).domain(y)},[r,n.category]),d=w.useMemo(()=>c?$o([ks.left,u+ks.left]).domain([0,Sh(c.objects().map(y=>y.count))]).nice():null,[c,u]),h=w.useMemo(()=>c?Yh([ks.top,l+ks.top]).domain(c.array(n.category).sort()).paddingInner(.1):null,[c,l,n.category]),p=w.useMemo(()=>!d||!h||!f||!e?null:e.objects().map((y,g)=>y[n.category]===null||y.count===null?null:C.jsxs("g",{style:{cursor:"pointer"},children:[C.jsx("rect",{onClick:v=>i(r.filter(_=>_[n.category]===y[n.category]).map(_=>_[n.ids]),v),x:ks.left,y:h(y[n.category]),fill:f(y[n.category]),height:h.bandwidth(),width:d(y.count)-ks.left},g),C.jsx("text",{x:d(y.count)+5,y:h(y[n.category])+h.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:y.count})]},g)),[e,f,r,n.category,n.ids,i,d,h]),m=w.useMemo(()=>!d||!h||!f||!c?null:c.objects().map((y,g)=>y[n.category]===null||y.count===null?null:C.jsx("g",{style:{cursor:"pointer"},children:C.jsx("rect",{opacity:.7,onClick:v=>i(r.filter(_=>_[n.category]===y[n.category]).map(_=>_[n.ids]),v),x:ks.left,y:h(y[n.category]),fill:"lightgray",height:h.bandwidth(),width:d(y.count)-ks.left},g)},g)),[f,r,c,n.category,n.ids,i,d,h]);return h&&d?C.jsxs("svg",{ref:s,style:{height:"500px",width:"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(n1,{xScale:d,yRange:h.range(),vertPosition:l+ks.top,showLines:!1,label:"Count",ticks:d.ticks(5).map(y=>({value:y.toString(),offset:d(y)}))}),h?C.jsx(QC,{yScale:h,horizontalPosition:ks.left,xRange:d.range(),label:n.category,ticks:f.domain().map(y=>({value:y,offset:h(y)+h.bandwidth()/2}))}):null,m,p]}):C.jsx(sl,{})}const OJe=Object.freeze(Object.defineProperty({__proto__:null,Bar:Sk,default:Sk},Symbol.toStringTag,{value:"Module"})),_n=Array.isArray;function uo(e){return e!=null?_n(e)?e:[e]:[]}function RJe(e=0,t=1/0){return`${DH(e)} < row_number() && row_number() <= ${DH(t)}`}function DH(e){return e<0?`count() + ${e}`:e}class nae{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(RJe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,uo(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Ht(e){throw Error(e)}function Ts(e){return typeof e=="number"}function ar(e){return typeof e=="function"}function XC(e,t){const n=Array(e);if(ar(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let NJe=class extends nae{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Ht("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Ht("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Ht("Not implemented")}getter(t){Ht("Not implemented")}objects(t){Ht("Not implemented")}object(t){Ht("Not implemented")}[Symbol.iterator](){Ht("Not implemented")}print(t={}){Ts(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=XC(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},kJe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},DJe=function(e){return e&&ar(e.get)?e:new kJe(e)};function uc(e){return e instanceof Date}function cs(e){return e===Object(e)}function cx(e){return e instanceof RegExp}function zi(e){return typeof e=="string"}function $Je(e,t){const n=r=>Ht(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?$H(e.entries(),t):uc(e)?n("Date"):cx(e)?n("RegExp"):zi(e)?n():_n(e)?LJe(e,t):ar(e[Symbol.iterator])?MJe(e,t):cs(e)?$H(Object.entries(e),t):n()}function $H(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function LJe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function MJe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:FJe}=Object.prototype;function Za(e,t){return FJe.call(e,t)}function Ho(e){return e?new LH({...e.data()},e.columnNames()):new LH}class LH{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Za(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const mn=void 0,jJe=Object.getPrototypeOf(Int8Array);function r1(e){return e instanceof jJe}function zd(e){return _n(e)||r1(e)}function Ua(e){return e!=null&&e===e}const L0=e=>zd(e)||zi(e),BJe={compact:e=>zd(e)?e.filter(t=>Ua(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>L0(e)?e.includes(t,n):!1,indexof:(e,t)=>L0(e)?e.indexOf(t):-1,join:(e,t)=>zd(e)?e.join(t):mn,lastindexof:(e,t)=>L0(e)?e.lastIndexOf(t):-1,length:e=>L0(e)?e.length:0,pluck:(e,t)=>zd(e)?e.map(n=>Ua(n)?n[t]:mn):mn,reverse:e=>zd(e)?e.slice().reverse():zi(e)?e.split("").reverse().join(""):mn,slice:(e,t,n)=>L0(e)?e.slice(t,n):mn};function UJe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function zw(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const fu=e=>(e<10?"0":"")+e,VJe=e=>e<0?"-"+zw(-e,6):e>9999?"+"+zw(e,6):zw(e,4);function rae(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return VJe(e)+"-"+fu(t+1)+"-"+fu(n)+(!u||o?"T"+fu(r)+":"+fu(i)+":"+fu(s)+"."+zw(o,3)+l:s?"T"+fu(r)+":"+fu(i)+":"+fu(s)+l:i||r||!a?"T"+fu(r)+":"+fu(i)+l:"")}function iae(e,t){return isNaN(e)?"Invalid Date":rae(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function JC(e,t){return isNaN(e)?"Invalid Date":rae(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const zJe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function HJe(e){return e.match(zJe)&&!isNaN(Date.parse(e))}function WJe(e,t=Date.parse){return HJe(e)?t(e):e}const sae=6e4,oae=864e5,aae=6048e5,Cr=new Date,Ar=new Date,Lr=e=>(Cr.setTime(typeof e=="string"?WJe(e):e),Cr);function qJe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function GJe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function YJe(e){Ar.setTime(+e),Ar.setHours(0,0,0,0),Cr.setTime(+Ar),Cr.setMonth(0),Cr.setDate(1);const t=(Ar.getTimezoneOffset()-Cr.getTimezoneOffset())*sae;return Math.floor(1+(Ar-Cr-t)/oae)}function KJe(e){Ar.setTime(+e),Ar.setUTCHours(0,0,0,0);const t=Date.UTC(Ar.getUTCFullYear(),0,1);return Math.floor(1+(Ar-t)/oae)}function QJe(e,t){const n=t||0;Ar.setTime(+e),Ar.setDate(Ar.getDate()-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0),Cr.setTime(+e),Cr.setMonth(0),Cr.setDate(1),Cr.setDate(1-(Cr.getDay()+7-n)%7),Cr.setHours(0,0,0,0);const r=(Ar.getTimezoneOffset()-Cr.getTimezoneOffset())*sae;return Math.floor((1+(Ar-Cr)-r)/aae)}function XJe(e,t){const n=t||0;return Ar.setTime(+e),Ar.setUTCDate(Ar.getUTCDate()-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Cr.setTime(+e),Cr.setUTCMonth(0),Cr.setUTCDate(1),Cr.setUTCDate(1-(Cr.getUTCDay()+7-n)%7),Cr.setUTCHours(0,0,0,0),Math.floor((1+(Ar-Cr))/aae)}const JJe={format_date:(e,t)=>iae(Lr(e),!t),format_utcdate:(e,t)=>JC(Lr(e),!t),timestamp:e=>+Lr(e),year:e=>Lr(e).getFullYear(),quarter:e=>Math.floor(Lr(e).getMonth()/3),month:e=>Lr(e).getMonth(),date:e=>Lr(e).getDate(),dayofweek:e=>Lr(e).getDay(),hours:e=>Lr(e).getHours(),minutes:e=>Lr(e).getMinutes(),seconds:e=>Lr(e).getSeconds(),milliseconds:e=>Lr(e).getMilliseconds(),utcyear:e=>Lr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Lr(e).getUTCMonth()/3),utcmonth:e=>Lr(e).getUTCMonth(),utcdate:e=>Lr(e).getUTCDate(),utcdayofweek:e=>Lr(e).getUTCDay(),utchours:e=>Lr(e).getUTCHours(),utcminutes:e=>Lr(e).getUTCMinutes(),utcseconds:e=>Lr(e).getUTCSeconds(),utcmilliseconds:e=>Lr(e).getUTCMilliseconds(),datetime:qJe,dayofyear:YJe,week:QJe,utcdatetime:GJe,utcdayofyear:KJe,utcweek:XJe,now:Date.now};function bL(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:uc(e)||uc(t)?+e==+t:cx(e)&&cx(t)?e+""==t+"":cs(e)&&cs(t)?ZJe(e,t):!1}function ZJe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return MH(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!MH(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!bL(e[o],t[o]))return!1}return!0}function MH(e,t,n=bL){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const eZe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let tZe=Math.random;function Lg(){return tZe()}const nZe={random:Lg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function wL(e){return e instanceof Map}function rZe(e){return e instanceof Set}function Hw(e){return wL(e)||rZe(e)}function a2(e){return Array.from(e)}const iZe={has:(e,t)=>Hw(e)?e.has(t):e!=null?Za(e,t):!1,keys:e=>wL(e)?a2(e.keys()):e!=null?Object.keys(e):[],values:e=>Hw(e)?a2(e.values()):e!=null?Object.values(e):[],entries:e=>Hw(e)?a2(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):mn};function sZe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Za(t,e))return t[e];return n!==void 0?n:e}function oZe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const aZe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Gp={bin:UJe,equal:bL,recode:sZe,sequence:oZe,...BJe,...JJe,...eZe,...nZe,...iZe,...aZe};function Lv(e){return typeof e=="bigint"}function ul(e){return e===void 0?e+"":Lv(e)?e+"n":JSON.stringify(e)}function Bt(e,t=[],n=[]){return new uZe(e,uo(t),uo(n))}let uZe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${ul(n)}]`),...this.params.map(ul)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const uae=e=>Bt("any",e),lae=()=>Bt("count"),cae=e=>Bt("array_agg",e),fae=e=>Bt("array_agg_distinct",e),dae=(e,t)=>Bt("map_agg",[e,t]),hae=(e,t)=>Bt("object_agg",[e,t]),pae=(e,t)=>Bt("entries_agg",[e,t]),By={...Gp,row_object:(...e)=>Bt("row_object",null,e.flat()),count:lae,any:uae,array_agg:cae,array_agg_distinct:fae,object_agg:hae,map_agg:dae,entries_agg:pae,valid:e=>Bt("valid",e),invalid:e=>Bt("invalid",e),distinct:e=>Bt("distinct",e),mode:e=>Bt("mode",e),sum:e=>Bt("sum",e),product:e=>Bt("product",e),mean:e=>Bt("mean",e),average:e=>Bt("average",e),variance:e=>Bt("variance",e),variancep:e=>Bt("variancep",e),stdev:e=>Bt("stdev",e),stdevp:e=>Bt("stdevp",e),min:e=>Bt("min",e),max:e=>Bt("max",e),quantile:(e,t)=>Bt("quantile",e,t),median:e=>Bt("median",e),covariance:(e,t)=>Bt("covariance",[e,t]),covariancep:(e,t)=>Bt("covariancep",[e,t]),corr:(e,t)=>Bt("corr",[e,t]),bins:(e,t,n,r)=>Bt("bins",e,[t,n,r]),row_number:()=>Bt("row_number"),rank:()=>Bt("rank"),avg_rank:()=>Bt("avg_rank"),dense_rank:()=>Bt("dense_rank"),percent_rank:()=>Bt("percent_rank"),cume_dist:()=>Bt("cume_dist"),ntile:e=>Bt("ntile",null,e),lag:(e,t,n)=>Bt("lag",e,[t,n]),lead:(e,t,n)=>Bt("lead",e,[t,n]),first_value:e=>Bt("first_value",e),last_value:e=>Bt("last_value",e),nth_value:(e,t)=>Bt("nth_value",e,t),fill_down:(e,t)=>Bt("fill_down",e,t),fill_up:(e,t)=>Bt("fill_up",e,t)};function lZe(e,t){e=Hw(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function cZe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function fZe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function dZe(e,t,n,r){const i=r==="map"||r===!0?dae:r==="entries"?pae:r==="object"?hae:Ht('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=lZe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:cae(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const hZe="ArrayPattern",pZe="ArrowFunctionExpression",mZe="FunctionExpression",Tf="Identifier",Mg="Literal",mae="MemberExpression",gZe="ObjectExpression",gae="ObjectPattern",yae="Property",i1="Column",yZe="Constant",vZe="Dictionary",_Ze="Function",bZe="Parameter",vae="Op",Yn=(e,t)=>{const n=wZe[e.type];return n?n(e,t):Ht(`Unsupported expression construct: ${e.type}`)},u2=(e,t)=>"("+Yn(e.left,t)+" "+e.operator+" "+Yn(e.right,t)+")",l2=(e,t)=>"("+vu(e.params,t)+")=>"+Yn(e.body,t),FH=(e,t)=>Yn(e.callee,t)+"("+vu(e.arguments,t)+")",vu=(e,t,n=",")=>e.map(r=>Yn(r,t)).join(n),_ae=e=>e.computed?`[${ul(e.name)}]`:`.${e.name}`,jH=(e,t,n)=>{const r=e.table||"";return`data${r}${_ae(e)}.${n}(${t.index}${r})`},wZe={Constant:e=>e.raw,Column:(e,t)=>jH(e,t,"get"),Dictionary:(e,t)=>jH(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${_ae(e)}`,Op:(e,t)=>`op(${ul(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Yn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Yn(e.object,t),i=Yn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:FH,NewExpression:(e,t)=>"new "+FH(e,t),ArrayExpression:(e,t)=>"["+vu(e.elements,t)+"]",AssignmentExpression:u2,BinaryExpression:u2,LogicalExpression:u2,UnaryExpression:(e,t)=>"("+e.operator+Yn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Yn(e.test,t)+"?"+Yn(e.consequent,t)+":"+Yn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+vu(e.properties,t)+"})",Property:(e,t)=>{const n=Yn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Yn(e.value,t)},ArrowFunctionExpression:l2,FunctionExpression:l2,FunctionDeclaration:l2,ArrayPattern:(e,t)=>"["+vu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+vu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+vu(e.declarations,t,","),VariableDeclarator:(e,t)=>Yn(e.id,t)+"="+Yn(e.init,t),SpreadElement:(e,t)=>"..."+Yn(e.argument,t),BlockStatement:(e,t)=>"{"+vu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Yn(e.expression,t),IfStatement:(e,t)=>"if ("+Yn(e.test,t)+")"+Yn(e.consequent,t)+(e.alternate?" else "+Yn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Yn(e.discriminant,t)+") {"+vu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Yn(e.test,t):"default")+": "+vu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Yn(e.argument,t),Program:(e,t)=>Yn(e.body[0],t)};function fx(e,t={index:"row"}){return Yn(e,t)}function EZe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function Zm(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:uc(e)?+e:_n(e)||r1(e)?`[${e.map(Zm)}]`:cx(e)?e+"":SZe(e)}function SZe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${Zm(e[r])}`;return t+="}",t}function dx(e,t){const n=e.length;return n===1?(r,i)=>Zm(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=Zm(a)}return s}}function TZe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=Zm(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=Zm(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Nl(){}function xZe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function ti(e){return e.init=e.init||Nl,e.add=e.add||Nl,e.rem=e.rem||Nl,e}function BH(e,t){return e.product_v=!1,e.product=t}const bae={count:{create:()=>ti({value:e=>e.count}),param:[]},array_agg:{create:()=>ti({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>ti({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>ti({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>ti({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>ti({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:mn}),param:[1]},valid:{create:()=>ti({value:e=>e.valid}),param:[1]},invalid:{create:()=>ti({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=TZe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>ti({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>ti({value:e=>{let t=mn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:mn,add:(e,t)=>Lv(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>BH(e,1),value:e=>e.valid?e.product_v?BH(e,xZe(e.list.values())):e.product:void 0,add:(e,t)=>Lv(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:mn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>ti({value:e=>e.valid?e.mean:mn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):mn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>ti({value:e=>e.valid>1?e.dev/e.valid:mn}),param:[1],req:["variance"]},stdev:{create:()=>ti({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):mn}),param:[1],req:["variance"]},stdevp:{create:()=>ti({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):mn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=mn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===mn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=mn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===mn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>ti({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>ti({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):mn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>ti({value:e=>e.valid>1?e.cov/e.valid:mn}),param:[2],req:["covariance"]},corr:{create:()=>ti({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):mn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>ti({value:i=>EZe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},UH={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},VH={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},wae={row_number:{create(){return{init:Nl,value:e=>e.index+1}},param:[]},rank:UH,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=UH.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:VH,ntile:{create(e){e=+e,e>0||Ht("ntile num must be greater than zero.");const{init:t,value:n}=VH.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=mn){return e=+e||1,{init:Nl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=mn){return e=+e||1,{init:Nl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Nl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Nl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Ht("nth_value nth must be greater than zero."),{init:Nl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):mn}}},param:[1,1]},fill_down:{create(e=mn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Ua(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=mn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=IZe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function IZe(e,t,n){for(const r=e.size;n<r;++n)if(Ua(e.value(n,t)))return n;return-1}function EL(e){return Za(bae,e)}function SL(e){return Za(wae,e)}function Eae(e){return Za(Gp,e)||e==="row_object"}function Sae(e){return EL(e)&&bae[e]}function Tae(e){return SL(e)&&wae[e]}function M0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const TL={escape:(e,t,n)=>M0(e,t,n),expr:(e,t)=>M0(`(row,data,op)=>${e}`,Gp,t),expr2:(e,t)=>M0(`(row0,data0,row,data)=>${e}`,Gp,t),join:(e,t)=>M0(`(row1,data1,row2,data2)=>${e}`,Gp,t),param:(e,t)=>M0(e,Gp,t)},CZe={"==":1,"!=":1,"===":1,"!==":1};function xae(e,t,n=0,r,i){if(e.type=i1,e.name=t,e.table=n,i&&r&&ar(r.keyFor)){const s=CZe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Mg&&AZe(i,e,s,r.keyFor(s.value))}return e}function AZe(e,t,n,r){return r<0?(e.type=Mg,e.value=!1,e.raw="false"):(t.type=vZe,n.value=r,n.raw=r+""),!0}function ZC(e){return _n(e)?e:wL(e)?e.entries():e?Object.entries(e):[]}const Iae="row_object";function Cae(e,t){e.type=gZe;const n=e.properties=[];for(const r of ZC(t)){const[i,s]=_n(r)?r:[r,r];n.push({type:yae,key:{type:Mg,raw:ul(s)},value:xae({computed:!0},i)})}return e}function Aae(e){return fx(Cae({},e))}function Pae(e){return TL.expr(Aae(e))}function xL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Dl(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function zH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function un(e){return this instanceof un?(this.v=e,this):new un(e)}function Hd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof un?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function c2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:un(e[i](o)),done:!1}:s?s(o):o}:s}}function Uy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof zH=="function"?zH(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const PZe=new TextDecoder("utf-8"),Tk=e=>PZe.decode(e),OZe=new TextEncoder,IL=e=>OZe.encode(e),RZe=e=>typeof e=="boolean",Vs=e=>typeof e=="function",id=e=>e!=null&&Object(e)===e,eA=e=>id(e)&&Vs(e.then),CL=e=>id(e)&&Vs(e[Symbol.iterator]),tA=e=>id(e)&&Vs(e[Symbol.asyncIterator]),NZe=e=>id(e)&&"done"in e&&"value"in e,Oae=e=>"_getDOMStream"in e&&"_getNodeStream"in e,kZe=e=>id(e)&&Vs(e.abort)&&Vs(e.getWriter)&&!Oae(e),DZe=e=>id(e)&&Vs(e.end)&&Vs(e.write)&&RZe(e.writable)&&!Oae(e),$Ze=e=>id(e)&&Vs(e.clear)&&Vs(e.bytes)&&Vs(e.position)&&Vs(e.setPosition)&&Vs(e.capacity)&&Vs(e.getBufferIdentifier)&&Vs(e.createLong),AL=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function LZe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function hx(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function ll(e,t){const n=LZe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?hx(o,s,a):o=s;break}hx(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function hi(e,t){let n=NZe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=IL(n)),n instanceof ArrayBuffer?new e(n):n instanceof AL?new e(n):$Ze(n)?hi(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const F0=e=>hi(Int32Array,e),Dn=e=>hi(Uint8Array,e),xk=e=>(e.next(),e);function*MZe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof AL?n(t):CL(t)?t:n(t);return yield*xk(function*(i){let s=null;do s=i.next(yield hi(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const FZe=e=>MZe(Uint8Array,e);function Rae(e,t){return Hd(this,arguments,function*(){if(eA(t))return yield un(yield un(yield*c2(Uy(Rae(e,yield un(t))))));const r=function(o){return Hd(this,arguments,function*(){yield yield un(yield un(o))})},i=function(o){return Hd(this,arguments,function*(){yield un(yield*c2(Uy(xk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof AL?r(t):CL(t)?i(t):tA(t)?t:r(t);return yield un(yield*c2(Uy(xk(function(o){return Hd(this,arguments,function*(){let a=null;do a=yield un(o.next(yield yield un(hi(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield un(new e)})}const jZe=e=>Rae(Uint8Array,e);function Nae(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function BZe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const HH={fromIterable(e){return Lb(UZe(e))},fromAsyncIterable(e){return Lb(VZe(e))},fromDOMStream(e){return Lb(zZe(e))},fromNodeStream(e){return Lb(WZe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Lb=e=>(e.next(),e);function*UZe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?ll(r,o)[0]:([i,r,a]=ll(r,o),i)}({cmd:s,size:o}=yield null);const l=FZe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function VZe(e){return Hd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?ll(i,a)[0]:([s,i,u]=ll(i,a),s)}({cmd:o,size:a}=yield yield un(null));const c=jZe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield un(c.next()):yield un(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield un(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield un(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield un(c.return(new Uint8Array(0))))}return yield un(null)})}function zZe(e){return Hd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?ll(i,a)[0]:([s,i,u]=ll(i,a),s)}({cmd:o,size:a}=yield yield un(null));const c=new HZe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield un(c.read()):yield un(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Dn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield un(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield un(c.cancel(f)))}finally{r===!1?yield un(c.cancel()):e.locked&&c.releaseLock()}return yield un(null)})}class HZe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Dl(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Dl(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Dn(n)),n})}}const f2=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function WZe(e){return Hd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?ll(l,a)[0]:([c,l,u]=ll(l,a),c)}if({cmd:o,size:a}=yield yield un(null),e.isTTY)return yield yield un(new Uint8Array(0)),yield un(null);try{n[0]=f2(e,"end"),n[1]=f2(e,"error");do{if(n[2]=f2(e,"readable"),[r,s]=yield un(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Dn(e.read(a-u)),c.byteLength<a-u&&(c=Dn(e.read()))):c=Dn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield un(f()));while(a<u)}while(!i)}finally{yield un(d(n,r==="error"?s:null))}return yield un(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,v]of h)e.off(g,v);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var _s;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(_s||(_s={}));var lo;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(lo||(lo={}));var Fi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Fi||(Fi={}));var cl;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(cl||(cl={}));var vt;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(vt||(vt={}));var fl;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(fl||(fl={}));var gi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(gi||(gi={}));var Q;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(Q||(Q={}));var Pl;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Pl||(Pl={}));const qZe=void 0;function Ch(e){if(e===null)return"null";if(e===qZe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Ch(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const GZe=Symbol.for("isArrowBigNum");function uu(e,...t){return t.length===0?Object.setPrototypeOf(hi(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}uu.prototype[GZe]=!0;uu.prototype.toJSON=function(){return`"${Fv(this)}"`};uu.prototype.valueOf=function(){return kae(this)};uu.prototype.toString=function(){return Fv(this)};uu.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return kae(this);case"string":return Fv(this);case"default":return YZe(this)}return Fv(this)};function bm(...e){return uu.apply(this,e)}function wm(...e){return uu.apply(this,e)}function Mv(...e){return uu.apply(this,e)}Object.setPrototypeOf(bm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(wm.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Mv.prototype,Object.create(Uint32Array.prototype));Object.assign(bm.prototype,uu.prototype,{constructor:bm,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(wm.prototype,uu.prototype,{constructor:wm,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Mv.prototype,uu.prototype,{constructor:Mv,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function kae(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const Fv=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return d2(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return d2(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${d2(t)}`},YZe=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Fv(e);function d2(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class PL{static new(t,n){switch(n){case!0:return new bm(t);case!1:return new wm(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new bm(t)}return t.byteLength===16?new Mv(t):new wm(t)}static signed(t){return new bm(t)}static unsigned(t){return new wm(t)}static decimal(t){return new Mv(t)}constructor(t,n){return PL.new(t,n)}}function eu(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var Dae,$ae,Lae,Mae,Fae,jae,Bae,Uae,Vae,zae,Hae,Wae,qae,Gae,Yae,Kae,Qae,Xae,Jae,Zae;class Ft{static isNull(t){return(t==null?void 0:t.typeId)===Q.Null}static isInt(t){return(t==null?void 0:t.typeId)===Q.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Q.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Q.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Q.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Q.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Q.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Q.Date}static isTime(t){return(t==null?void 0:t.typeId)===Q.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Q.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Q.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===Q.Duration}static isList(t){return(t==null?void 0:t.typeId)===Q.List}static isStruct(t){return(t==null?void 0:t.typeId)===Q.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Q.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Q.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Q.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Q.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Q.Dictionary}static isDenseUnion(t){return Ft.isUnion(t)&&t.mode===lo.Dense}static isSparseUnion(t){return Ft.isUnion(t)&&t.mode===lo.Sparse}get typeId(){return Q.NONE}}Dae=Symbol.toStringTag;Ft[Dae]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Ft.prototype);let lc=class extends Ft{toString(){return"Null"}get typeId(){return Q.Null}};$ae=Symbol.toStringTag;lc[$ae]=(e=>e[Symbol.toStringTag]="Null")(lc.prototype);class xs extends Ft{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return Q.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Lae=Symbol.toStringTag;xs[Lae]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(xs.prototype);class OL extends xs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class RL extends xs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class $f extends xs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class NL extends xs{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class kL extends xs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class DL extends xs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class $L extends xs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class LL extends xs{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(OL.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(RL.prototype,"ArrayType",{value:Int16Array});Object.defineProperty($f.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(NL.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(kL.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(DL.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty($L.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(LL.prototype,"ArrayType",{value:BigUint64Array});class Lf extends Ft{constructor(t){super(),this.precision=t}get typeId(){return Q.Float}get ArrayType(){switch(this.precision){case Fi.HALF:return Uint16Array;case Fi.SINGLE:return Float32Array;case Fi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Mae=Symbol.toStringTag;Lf[Mae]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Lf.prototype);class eue extends Lf{constructor(){super(Fi.HALF)}}class ML extends Lf{constructor(){super(Fi.SINGLE)}}class FL extends Lf{constructor(){super(Fi.DOUBLE)}}Object.defineProperty(eue.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(ML.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(FL.prototype,"ArrayType",{value:Float64Array});let jv=class extends Ft{constructor(){super()}get typeId(){return Q.Binary}toString(){return"Binary"}};Fae=Symbol.toStringTag;jv[Fae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(jv.prototype);let eg=class extends Ft{constructor(){super()}get typeId(){return Q.Utf8}toString(){return"Utf8"}};jae=Symbol.toStringTag;eg[jae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(eg.prototype);let Bv=class extends Ft{constructor(){super()}get typeId(){return Q.Bool}toString(){return"Bool"}};Bae=Symbol.toStringTag;Bv[Bae]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Bv.prototype);let px=class extends Ft{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return Q.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Uae=Symbol.toStringTag;px[Uae]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(px.prototype);class tg extends Ft{constructor(t){super(),this.unit=t}get typeId(){return Q.Date}toString(){return`Date${(this.unit+1)*32}<${cl[this.unit]}>`}}Vae=Symbol.toStringTag;tg[Vae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(tg.prototype);class KZe extends tg{constructor(){super(cl.DAY)}}class QZe extends tg{constructor(){super(cl.MILLISECOND)}}class cc extends Ft{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return Q.Time}toString(){return`Time${this.bitWidth}<${vt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}zae=Symbol.toStringTag;cc[zae]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(cc.prototype);class XZe extends cc{constructor(){super(vt.SECOND,32)}}class JZe extends cc{constructor(){super(vt.MILLISECOND,32)}}class ZZe extends cc{constructor(){super(vt.MICROSECOND,64)}}class eet extends cc{constructor(){super(vt.NANOSECOND,64)}}class mx extends Ft{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return Q.Timestamp}toString(){return`Timestamp<${vt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Hae=Symbol.toStringTag;mx[Hae]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(mx.prototype);class ng extends Ft{constructor(t){super(),this.unit=t}get typeId(){return Q.Interval}toString(){return`Interval<${fl[this.unit]}>`}}Wae=Symbol.toStringTag;ng[Wae]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(ng.prototype);class tet extends ng{constructor(){super(fl.DAY_TIME)}}class net extends ng{constructor(){super(fl.YEAR_MONTH)}}let gx=class extends Ft{constructor(t){super(),this.unit=t}get typeId(){return Q.Duration}toString(){return`Duration<${vt[this.unit]}>`}};qae=Symbol.toStringTag;gx[qae]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(gx.prototype);let rg=class extends Ft{constructor(t){super(),this.children=[t]}get typeId(){return Q.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Gae=Symbol.toStringTag;rg[Gae]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(rg.prototype);class os extends Ft{constructor(t){super(),this.children=t}get typeId(){return Q.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Yae=Symbol.toStringTag;os[Yae]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(os.prototype);class Uv extends Ft{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Q.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Kae=Symbol.toStringTag;Uv[Kae]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Uv.prototype);let yx=class extends Ft{constructor(t){super(),this.byteWidth=t}get typeId(){return Q.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Qae=Symbol.toStringTag;yx[Qae]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(yx.prototype);let ig=class extends Ft{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return Q.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Xae=Symbol.toStringTag;ig[Xae]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(ig.prototype);class Vv extends Ft{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return Q.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Jae=Symbol.toStringTag;Vv[Jae]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Vv.prototype);const ret=(e=>()=>++e)(-1);class Mf extends Ft{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?ret():eu(r)}get typeId(){return Q.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Zae=Symbol.toStringTag;Mf[Zae]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Mf.prototype);function wu(e){const t=e;switch(e.typeId){case Q.Decimal:return e.bitWidth/32;case Q.Timestamp:return 2;case Q.Date:return 1+t.unit;case Q.Interval:return 1+t.unit;case Q.FixedSizeList:return t.listSize;case Q.FixedSizeBinary:return t.byteWidth;default:return 1}}class qt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return iet(this,t,n)}getVisitFnByTypeId(t,n=!0){return Sp(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function iet(e,t,n=!0){return typeof t=="number"?Sp(e,t,n):typeof t=="string"&&t in Q?Sp(e,Q[t],n):t&&t instanceof Ft?Sp(e,WH(t),n):t!=null&&t.type&&t.type instanceof Ft?Sp(e,WH(t.type),n):Sp(e,Q.NONE,n)}function Sp(e,t,n=!0){let r=null;switch(t){case Q.Null:r=e.visitNull;break;case Q.Bool:r=e.visitBool;break;case Q.Int:r=e.visitInt;break;case Q.Int8:r=e.visitInt8||e.visitInt;break;case Q.Int16:r=e.visitInt16||e.visitInt;break;case Q.Int32:r=e.visitInt32||e.visitInt;break;case Q.Int64:r=e.visitInt64||e.visitInt;break;case Q.Uint8:r=e.visitUint8||e.visitInt;break;case Q.Uint16:r=e.visitUint16||e.visitInt;break;case Q.Uint32:r=e.visitUint32||e.visitInt;break;case Q.Uint64:r=e.visitUint64||e.visitInt;break;case Q.Float:r=e.visitFloat;break;case Q.Float16:r=e.visitFloat16||e.visitFloat;break;case Q.Float32:r=e.visitFloat32||e.visitFloat;break;case Q.Float64:r=e.visitFloat64||e.visitFloat;break;case Q.Utf8:r=e.visitUtf8;break;case Q.Binary:r=e.visitBinary;break;case Q.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case Q.Date:r=e.visitDate;break;case Q.DateDay:r=e.visitDateDay||e.visitDate;break;case Q.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case Q.Timestamp:r=e.visitTimestamp;break;case Q.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case Q.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case Q.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Q.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case Q.Time:r=e.visitTime;break;case Q.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case Q.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case Q.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case Q.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case Q.Decimal:r=e.visitDecimal;break;case Q.List:r=e.visitList;break;case Q.Struct:r=e.visitStruct;break;case Q.Union:r=e.visitUnion;break;case Q.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case Q.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case Q.Dictionary:r=e.visitDictionary;break;case Q.Interval:r=e.visitInterval;break;case Q.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case Q.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case Q.Duration:r=e.visitDuration;break;case Q.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case Q.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case Q.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case Q.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case Q.FixedSizeList:r=e.visitFixedSizeList;break;case Q.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Q[t]}'`)}function WH(e){switch(e.typeId){case Q.Null:return Q.Null;case Q.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?Q.Int8:Q.Uint8;case 16:return n?Q.Int16:Q.Uint16;case 32:return n?Q.Int32:Q.Uint32;case 64:return n?Q.Int64:Q.Uint64}return Q.Int}case Q.Float:switch(e.precision){case Fi.HALF:return Q.Float16;case Fi.SINGLE:return Q.Float32;case Fi.DOUBLE:return Q.Float64}return Q.Float;case Q.Binary:return Q.Binary;case Q.Utf8:return Q.Utf8;case Q.Bool:return Q.Bool;case Q.Decimal:return Q.Decimal;case Q.Time:switch(e.unit){case vt.SECOND:return Q.TimeSecond;case vt.MILLISECOND:return Q.TimeMillisecond;case vt.MICROSECOND:return Q.TimeMicrosecond;case vt.NANOSECOND:return Q.TimeNanosecond}return Q.Time;case Q.Timestamp:switch(e.unit){case vt.SECOND:return Q.TimestampSecond;case vt.MILLISECOND:return Q.TimestampMillisecond;case vt.MICROSECOND:return Q.TimestampMicrosecond;case vt.NANOSECOND:return Q.TimestampNanosecond}return Q.Timestamp;case Q.Date:switch(e.unit){case cl.DAY:return Q.DateDay;case cl.MILLISECOND:return Q.DateMillisecond}return Q.Date;case Q.Interval:switch(e.unit){case fl.DAY_TIME:return Q.IntervalDayTime;case fl.YEAR_MONTH:return Q.IntervalYearMonth}return Q.Interval;case Q.Duration:switch(e.unit){case vt.SECOND:return Q.DurationSecond;case vt.MILLISECOND:return Q.DurationMillisecond;case vt.MICROSECOND:return Q.DurationMicrosecond;case vt.NANOSECOND:return Q.DurationNanosecond}return Q.Duration;case Q.Map:return Q.Map;case Q.List:return Q.List;case Q.Struct:return Q.Struct;case Q.Union:switch(e.mode){case lo.Dense:return Q.DenseUnion;case lo.Sparse:return Q.SparseUnion}return Q.Union;case Q.FixedSizeBinary:return Q.FixedSizeBinary;case Q.FixedSizeList:return Q.FixedSizeList;case Q.Dictionary:return Q.Dictionary}throw new Error(`Unrecognized type '${Q[e.typeId]}'`)}qt.prototype.visitInt8=null;qt.prototype.visitInt16=null;qt.prototype.visitInt32=null;qt.prototype.visitInt64=null;qt.prototype.visitUint8=null;qt.prototype.visitUint16=null;qt.prototype.visitUint32=null;qt.prototype.visitUint64=null;qt.prototype.visitFloat16=null;qt.prototype.visitFloat32=null;qt.prototype.visitFloat64=null;qt.prototype.visitDateDay=null;qt.prototype.visitDateMillisecond=null;qt.prototype.visitTimestampSecond=null;qt.prototype.visitTimestampMillisecond=null;qt.prototype.visitTimestampMicrosecond=null;qt.prototype.visitTimestampNanosecond=null;qt.prototype.visitTimeSecond=null;qt.prototype.visitTimeMillisecond=null;qt.prototype.visitTimeMicrosecond=null;qt.prototype.visitTimeNanosecond=null;qt.prototype.visitDenseUnion=null;qt.prototype.visitSparseUnion=null;qt.prototype.visitIntervalDayTime=null;qt.prototype.visitIntervalYearMonth=null;qt.prototype.visitDuration=null;qt.prototype.visitDurationSecond=null;qt.prototype.visitDurationMillisecond=null;qt.prototype.visitDurationMicrosecond=null;qt.prototype.visitDurationNanosecond=null;const tue=new Float64Array(1),gp=new Uint32Array(tue.buffer);function nue(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function rue(e){if(e!==e)return 32256;tue[0]=e;const t=(gp[1]&2147483648)>>16&65535;let n=gp[1]&2146435072,r=0;return n>=1089470464?gp[0]>0?n=31744:(n=(n&2080374784)>>16,r=(gp[1]&1048575)>>10):n<=1056964608?(r=1048576+(gp[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(gp[1]&1048575)+512>>10),t|n|r&65535}class Tt extends qt{}function Pt(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const set=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},jL=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},oet=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},aet=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},iue=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},uet=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Tc=({values:e},t,n)=>{e[t]=n},BL=({values:e},t,n)=>{e[t]=n},sue=({values:e},t,n)=>{e[t]=rue(n)},cet=(e,t,n)=>{switch(e.type.precision){case Fi.HALF:return sue(e,t,n);case Fi.SINGLE:case Fi.DOUBLE:return BL(e,t,n)}},UL=({values:e},t,n)=>{set(e,t,n.valueOf())},VL=({values:e},t,n)=>{jL(e,t*2,n.valueOf())},oue=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},fet=({values:e,valueOffsets:t},n,r)=>iue(e,t,n,r),det=({values:e,valueOffsets:t},n,r)=>{iue(e,t,n,IL(r))},aue=(e,t,n)=>{e.type.unit===cl.DAY?UL(e,t,n):VL(e,t,n)},zL=({values:e},t,n)=>jL(e,t*2,n/1e3),HL=({values:e},t,n)=>jL(e,t*2,n),WL=({values:e},t,n)=>oet(e,t*2,n),qL=({values:e},t,n)=>aet(e,t*2,n),uue=(e,t,n)=>{switch(e.type.unit){case vt.SECOND:return zL(e,t,n);case vt.MILLISECOND:return HL(e,t,n);case vt.MICROSECOND:return WL(e,t,n);case vt.NANOSECOND:return qL(e,t,n)}},GL=({values:e},t,n)=>{e[t]=n},YL=({values:e},t,n)=>{e[t]=n},KL=({values:e},t,n)=>{e[t]=n},QL=({values:e},t,n)=>{e[t]=n},lue=(e,t,n)=>{switch(e.type.unit){case vt.SECOND:return GL(e,t,n);case vt.MILLISECOND:return YL(e,t,n);case vt.MICROSECOND:return KL(e,t,n);case vt.NANOSECOND:return QL(e,t,n)}},cue=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},het=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=pa.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},pet=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=pa.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},met=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),get=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),yet=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),vet=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),_et=(e,t,n)=>{const r=e.type.children.map(s=>pa.getVisitFn(s.type)),i=n instanceof Map?yet(t,n):n instanceof bn?get(t,n):Array.isArray(n)?met(t,n):vet(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},bet=(e,t,n)=>{e.type.mode===lo.Dense?fue(e,t,n):due(e,t,n)},fue=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];pa.visit(i,e.valueOffsets[t],n)},due=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];pa.visit(i,t,n)},wet=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},hue=(e,t,n)=>{e.type.unit===fl.DAY_TIME?XL(e,t,n):JL(e,t,n)},XL=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},JL=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},ZL=({values:e},t,n)=>{e[t]=n},eM=({values:e},t,n)=>{e[t]=n},tM=({values:e},t,n)=>{e[t]=n},nM=({values:e},t,n)=>{e[t]=n},pue=(e,t,n)=>{switch(e.type.unit){case vt.SECOND:return ZL(e,t,n);case vt.MILLISECOND:return eM(e,t,n);case vt.MICROSECOND:return tM(e,t,n);case vt.NANOSECOND:return nM(e,t,n)}},Eet=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=pa.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};Tt.prototype.visitBool=Pt(uet);Tt.prototype.visitInt=Pt(Tc);Tt.prototype.visitInt8=Pt(Tc);Tt.prototype.visitInt16=Pt(Tc);Tt.prototype.visitInt32=Pt(Tc);Tt.prototype.visitInt64=Pt(Tc);Tt.prototype.visitUint8=Pt(Tc);Tt.prototype.visitUint16=Pt(Tc);Tt.prototype.visitUint32=Pt(Tc);Tt.prototype.visitUint64=Pt(Tc);Tt.prototype.visitFloat=Pt(cet);Tt.prototype.visitFloat16=Pt(sue);Tt.prototype.visitFloat32=Pt(BL);Tt.prototype.visitFloat64=Pt(BL);Tt.prototype.visitUtf8=Pt(det);Tt.prototype.visitBinary=Pt(fet);Tt.prototype.visitFixedSizeBinary=Pt(oue);Tt.prototype.visitDate=Pt(aue);Tt.prototype.visitDateDay=Pt(UL);Tt.prototype.visitDateMillisecond=Pt(VL);Tt.prototype.visitTimestamp=Pt(uue);Tt.prototype.visitTimestampSecond=Pt(zL);Tt.prototype.visitTimestampMillisecond=Pt(HL);Tt.prototype.visitTimestampMicrosecond=Pt(WL);Tt.prototype.visitTimestampNanosecond=Pt(qL);Tt.prototype.visitTime=Pt(lue);Tt.prototype.visitTimeSecond=Pt(GL);Tt.prototype.visitTimeMillisecond=Pt(YL);Tt.prototype.visitTimeMicrosecond=Pt(KL);Tt.prototype.visitTimeNanosecond=Pt(QL);Tt.prototype.visitDecimal=Pt(cue);Tt.prototype.visitList=Pt(het);Tt.prototype.visitStruct=Pt(_et);Tt.prototype.visitUnion=Pt(bet);Tt.prototype.visitDenseUnion=Pt(fue);Tt.prototype.visitSparseUnion=Pt(due);Tt.prototype.visitDictionary=Pt(wet);Tt.prototype.visitInterval=Pt(hue);Tt.prototype.visitIntervalDayTime=Pt(XL);Tt.prototype.visitIntervalYearMonth=Pt(JL);Tt.prototype.visitDuration=Pt(pue);Tt.prototype.visitDurationSecond=Pt(ZL);Tt.prototype.visitDurationMillisecond=Pt(eM);Tt.prototype.visitDurationMicrosecond=Pt(tM);Tt.prototype.visitDurationNanosecond=Pt(nM);Tt.prototype.visitFixedSizeList=Pt(Eet);Tt.prototype.visitMap=Pt(pet);const pa=new Tt,Na=Symbol.for("parent"),Em=Symbol.for("rowIndex");class rM{constructor(t,n){return this[Na]=t,this[Em]=n,new Proxy(this,new xet)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Em],n=this[Na],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=co.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Ch(t)}: ${Ch(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Tet(this[Na],this[Em])}}class Tet{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,co.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(rM.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Na]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Em]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class xet{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Na].type.children.map(n=>n.name)}has(t,n){return t[Na].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Na].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Na].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=co.visit(t[Na].children[r],t[Em]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Na].type.children.findIndex(s=>s.name===n);return i!==-1?(pa.visit(t[Na].children[i],t[Em],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class _t extends qt{}function xt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const Iet=(e,t)=>864e5*e[t],iM=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),Cet=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,Aet=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,mue=e=>new Date(e),Pet=(e,t)=>mue(Iet(e,t)),Oet=(e,t)=>mue(iM(e,t)),Ret=(e,t)=>null,gue=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},Net=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},yue=({values:e},t)=>Pet(e,t),vue=({values:e},t)=>Oet(e,t*2),sd=({stride:e,values:t},n)=>t[e*n],ket=({stride:e,values:t},n)=>nue(t[e*n]),_ue=({values:e},t)=>e[t],Det=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),$et=({values:e,valueOffsets:t},n)=>gue(e,t,n),Let=({values:e,valueOffsets:t},n)=>{const r=gue(e,t,n);return r!==null?Tk(r):null},Met=({values:e},t)=>e[t],Fet=({type:e,values:t},n)=>e.precision!==Fi.HALF?t[n]:nue(t[n]),jet=(e,t)=>e.type.unit===cl.DAY?yue(e,t):vue(e,t),bue=({values:e},t)=>1e3*iM(e,t*2),wue=({values:e},t)=>iM(e,t*2),Eue=({values:e},t)=>Cet(e,t*2),Sue=({values:e},t)=>Aet(e,t*2),Bet=(e,t)=>{switch(e.type.unit){case vt.SECOND:return bue(e,t);case vt.MILLISECOND:return wue(e,t);case vt.MICROSECOND:return Eue(e,t);case vt.NANOSECOND:return Sue(e,t)}},Tue=({values:e},t)=>e[t],xue=({values:e},t)=>e[t],Iue=({values:e},t)=>e[t],Cue=({values:e},t)=>e[t],Uet=(e,t)=>{switch(e.type.unit){case vt.SECOND:return Tue(e,t);case vt.MILLISECOND:return xue(e,t);case vt.MICROSECOND:return Iue(e,t);case vt.NANOSECOND:return Cue(e,t)}},Vet=({values:e,stride:t},n)=>PL.decimal(e.subarray(t*n,t*(n+1))),zet=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new bn([u])},Het=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new nA(o.slice(i,s-i))},Wet=(e,t)=>new rM(e,t),qet=(e,t)=>e.type.mode===lo.Dense?Aue(e,t):Pue(e,t),Aue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return co.visit(r,e.valueOffsets[t])},Pue=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return co.visit(r,t)},Get=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},Yet=(e,t)=>e.type.unit===fl.DAY_TIME?Oue(e,t):Rue(e,t),Oue=({values:e},t)=>e.subarray(2*t,2*(t+1)),Rue=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},Nue=({values:e},t)=>e[t],kue=({values:e},t)=>e[t],Due=({values:e},t)=>e[t],$ue=({values:e},t)=>e[t],Ket=(e,t)=>{switch(e.type.unit){case vt.SECOND:return Nue(e,t);case vt.MILLISECOND:return kue(e,t);case vt.MICROSECOND:return Due(e,t);case vt.NANOSECOND:return $ue(e,t)}},Qet=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new bn([s])};_t.prototype.visitNull=xt(Ret);_t.prototype.visitBool=xt(Net);_t.prototype.visitInt=xt(Met);_t.prototype.visitInt8=xt(sd);_t.prototype.visitInt16=xt(sd);_t.prototype.visitInt32=xt(sd);_t.prototype.visitInt64=xt(_ue);_t.prototype.visitUint8=xt(sd);_t.prototype.visitUint16=xt(sd);_t.prototype.visitUint32=xt(sd);_t.prototype.visitUint64=xt(_ue);_t.prototype.visitFloat=xt(Fet);_t.prototype.visitFloat16=xt(ket);_t.prototype.visitFloat32=xt(sd);_t.prototype.visitFloat64=xt(sd);_t.prototype.visitUtf8=xt(Let);_t.prototype.visitBinary=xt($et);_t.prototype.visitFixedSizeBinary=xt(Det);_t.prototype.visitDate=xt(jet);_t.prototype.visitDateDay=xt(yue);_t.prototype.visitDateMillisecond=xt(vue);_t.prototype.visitTimestamp=xt(Bet);_t.prototype.visitTimestampSecond=xt(bue);_t.prototype.visitTimestampMillisecond=xt(wue);_t.prototype.visitTimestampMicrosecond=xt(Eue);_t.prototype.visitTimestampNanosecond=xt(Sue);_t.prototype.visitTime=xt(Uet);_t.prototype.visitTimeSecond=xt(Tue);_t.prototype.visitTimeMillisecond=xt(xue);_t.prototype.visitTimeMicrosecond=xt(Iue);_t.prototype.visitTimeNanosecond=xt(Cue);_t.prototype.visitDecimal=xt(Vet);_t.prototype.visitList=xt(zet);_t.prototype.visitStruct=xt(Wet);_t.prototype.visitUnion=xt(qet);_t.prototype.visitDenseUnion=xt(Aue);_t.prototype.visitSparseUnion=xt(Pue);_t.prototype.visitDictionary=xt(Get);_t.prototype.visitInterval=xt(Yet);_t.prototype.visitIntervalDayTime=xt(Oue);_t.prototype.visitIntervalYearMonth=xt(Rue);_t.prototype.visitDuration=xt(Ket);_t.prototype.visitDurationSecond=xt(Nue);_t.prototype.visitDurationMillisecond=xt(kue);_t.prototype.visitDurationMicrosecond=xt(Due);_t.prototype.visitDurationNanosecond=xt($ue);_t.prototype.visitFixedSizeList=xt(Qet);_t.prototype.visitMap=xt(Het);const co=new _t,ja=Symbol.for("keys"),Sm=Symbol.for("vals");class nA{constructor(t){return this[ja]=new bn([t.children[0]]).memoize(),this[Sm]=t.children[1],new Proxy(this,new Jet)}[Symbol.iterator](){return new Xet(this[ja],this[Sm])}get size(){return this[ja].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ja],n=this[Sm],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=co.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Ch(t)}: ${Ch(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Xet{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),co.visit(this.vals,t)]})}}class Jet{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ja].toArray().map(String)}has(t,n){return t[ja].includes(n)}getOwnPropertyDescriptor(t,n){if(t[ja].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ja].indexOf(n);if(r!==-1){const i=co.visit(Reflect.get(t,Sm),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ja].indexOf(n);return i!==-1?(pa.visit(Reflect.get(t,Sm),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(nA.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ja]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Sm]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let qH;function Lue(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(qH=s,s=o,o=qH),o>i&&(o=i),r?r(e,s,o):[s,o]}const GH=e=>e!==e;function Fg(e){if(typeof e!=="object"||e===null)return GH(e)?GH:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?BZe(e,n):!1:e instanceof Map?ett(e):Array.isArray(e)?Zet(e):e instanceof bn?ttt(e):ntt(e,!0)}function Zet(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Fg(e[n]);return rA(t)}function ett(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Fg(r);return rA(n)}function ttt(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Fg(e.get(n));return rA(t)}function ntt(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Fg(e[n[i]]);return rA(r,n)}function rA(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return rtt(e,n);case Map:return YH(e,n,n.keys());case nA:case rM:case Object:case void 0:return YH(e,n,t||Object.keys(n))}return n instanceof bn?itt(e,n):!1}}function rtt(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function itt(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function YH(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Mue(e,t,n,r){return(n&1<<r)!==0}function stt(e,t,n,r){return(n&1<<r)>>r}function vx(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Fue(new sM(n,e,t,null,Mue)).subarray(0,r)),i}return n}function Fue(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class sM{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ik(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new sM(e,t,n-t,e,stt))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return Ik(e,t,i)+Ik(e,r,n)+ott(e,i>>3,r-i>>3)}function ott(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=h2(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=h2(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=h2(s.getUint8(i)),i+=1;return r}function h2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const att=-1;class kn{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return Ft.isSparseUnion(t)?this.children.some(n=>n.nullable):Ft.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(Ft.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=att&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-Ik(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof kn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=wu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(Ft.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===lo.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(Ft.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===lo.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(vx(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new kn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Q.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(vx(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Pl.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Pl.TYPE])&&(o[Pl.TYPE]=s.subarray(t,t+n)),(s=o[Pl.OFFSET])&&(o[Pl.OFFSET]=s.subarray(t,t+n+1))||(s=o[Pl.DATA])&&(o[Pl.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}kn.prototype.children=Object.freeze([]);class Vy extends qt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new kn(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.data),s=Dn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new kn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.data),s=Dn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new kn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Dn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new kn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Dn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=hi(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(Ft.isSparseUnion(n))return new kn(n,r,o,a,[void 0,void 0,void 0,s],i);const u=F0(t.valueOffsets);return new kn(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.indices.ArrayType,t.data),{["dictionary"]:o=new bn([new Vy().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new kn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Dn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Vy().visit({type:n.valueType})}=t,s=Dn(t.nullBitmap),{["length"]:o=i.length/wu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new kn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Vy().visit({type:n.childType})}=t,s=Dn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new kn(n,r,a,u,[o,void 0,s],[i])}}const utt=new Vy;function ns(e){return utt.visit(e)}class KH{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function jue(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Bue(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Uue(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function oM(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function aM(e,t){return e.getValid(t)}function Tm(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return oM(r,this._offsets,n,t)}}function Vue(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=oM(s,this._offsets,r,n);return t=void 0,o}}function zue(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):oM(s,this._offsets,i,n);return t=void 0,o}}class bt extends qt{}function ltt(e,t){return t===null&&e.length>0?0:-1}function ctt(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new sM(n,e.offset+(t||0),e.length,n,Mue)){if(!i)return r;++r}return-1}function Dt(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case Q.Union:break;case Q.Dictionary:break;default:return ctt(e,n)}const r=co.getVisitFn(e),i=Fg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Hue(e,t,n){const r=co.getVisitFn(e),i=Fg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}bt.prototype.visitNull=ltt;bt.prototype.visitBool=Dt;bt.prototype.visitInt=Dt;bt.prototype.visitInt8=Dt;bt.prototype.visitInt16=Dt;bt.prototype.visitInt32=Dt;bt.prototype.visitInt64=Dt;bt.prototype.visitUint8=Dt;bt.prototype.visitUint16=Dt;bt.prototype.visitUint32=Dt;bt.prototype.visitUint64=Dt;bt.prototype.visitFloat=Dt;bt.prototype.visitFloat16=Dt;bt.prototype.visitFloat32=Dt;bt.prototype.visitFloat64=Dt;bt.prototype.visitUtf8=Dt;bt.prototype.visitBinary=Dt;bt.prototype.visitFixedSizeBinary=Dt;bt.prototype.visitDate=Dt;bt.prototype.visitDateDay=Dt;bt.prototype.visitDateMillisecond=Dt;bt.prototype.visitTimestamp=Dt;bt.prototype.visitTimestampSecond=Dt;bt.prototype.visitTimestampMillisecond=Dt;bt.prototype.visitTimestampMicrosecond=Dt;bt.prototype.visitTimestampNanosecond=Dt;bt.prototype.visitTime=Dt;bt.prototype.visitTimeSecond=Dt;bt.prototype.visitTimeMillisecond=Dt;bt.prototype.visitTimeMicrosecond=Dt;bt.prototype.visitTimeNanosecond=Dt;bt.prototype.visitDecimal=Dt;bt.prototype.visitList=Dt;bt.prototype.visitStruct=Dt;bt.prototype.visitUnion=Dt;bt.prototype.visitDenseUnion=Hue;bt.prototype.visitSparseUnion=Hue;bt.prototype.visitDictionary=Dt;bt.prototype.visitInterval=Dt;bt.prototype.visitIntervalDayTime=Dt;bt.prototype.visitIntervalYearMonth=Dt;bt.prototype.visitDuration=Dt;bt.prototype.visitDurationSecond=Dt;bt.prototype.visitDurationMillisecond=Dt;bt.prototype.visitDurationMicrosecond=Dt;bt.prototype.visitDurationNanosecond=Dt;bt.prototype.visitFixedSizeList=Dt;bt.prototype.visitMap=Dt;const _x=new bt;class wt extends qt{}function It(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===Q.Timestamp||t instanceof xs&&t.bitWidth!==64||t instanceof cc&&t.bitWidth!==64||t instanceof Lf&&t.precision!==Fi.HALF))return new KH(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new KH(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new ftt(o)})}class ftt{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}wt.prototype.visitNull=It;wt.prototype.visitBool=It;wt.prototype.visitInt=It;wt.prototype.visitInt8=It;wt.prototype.visitInt16=It;wt.prototype.visitInt32=It;wt.prototype.visitInt64=It;wt.prototype.visitUint8=It;wt.prototype.visitUint16=It;wt.prototype.visitUint32=It;wt.prototype.visitUint64=It;wt.prototype.visitFloat=It;wt.prototype.visitFloat16=It;wt.prototype.visitFloat32=It;wt.prototype.visitFloat64=It;wt.prototype.visitUtf8=It;wt.prototype.visitBinary=It;wt.prototype.visitFixedSizeBinary=It;wt.prototype.visitDate=It;wt.prototype.visitDateDay=It;wt.prototype.visitDateMillisecond=It;wt.prototype.visitTimestamp=It;wt.prototype.visitTimestampSecond=It;wt.prototype.visitTimestampMillisecond=It;wt.prototype.visitTimestampMicrosecond=It;wt.prototype.visitTimestampNanosecond=It;wt.prototype.visitTime=It;wt.prototype.visitTimeSecond=It;wt.prototype.visitTimeMillisecond=It;wt.prototype.visitTimeMicrosecond=It;wt.prototype.visitTimeNanosecond=It;wt.prototype.visitDecimal=It;wt.prototype.visitList=It;wt.prototype.visitStruct=It;wt.prototype.visitUnion=It;wt.prototype.visitDenseUnion=It;wt.prototype.visitSparseUnion=It;wt.prototype.visitDictionary=It;wt.prototype.visitInterval=It;wt.prototype.visitIntervalDayTime=It;wt.prototype.visitIntervalYearMonth=It;wt.prototype.visitDuration=It;wt.prototype.visitDurationSecond=It;wt.prototype.visitDurationMillisecond=It;wt.prototype.visitDurationMicrosecond=It;wt.prototype.visitDurationNanosecond=It;wt.prototype.visitFixedSizeList=It;wt.prototype.visitMap=It;const uM=new wt,dtt=(e,t)=>e+t;class od extends qt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===vt.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+dl.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+dl.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const htt=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),ptt=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),mtt=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=dl.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},gtt=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=dl.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},ytt=(e,t)=>e.type.mode===lo.Dense?Wue(e,t):que(e,t),Wue=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+dl.visit(t[s],r[i])},que=({children:e},t)=>4+dl.visitMany(e,e.map(()=>t)).reduce(dtt,0);od.prototype.visitUtf8=htt;od.prototype.visitBinary=ptt;od.prototype.visitList=mtt;od.prototype.visitFixedSizeList=gtt;od.prototype.visitUnion=ytt;od.prototype.visitDenseUnion=Wue;od.prototype.visitSparseUnion=que;const dl=new od;var Gue;const Yue={},Kue={};class bn{constructor(t){var n,r,i;const s=t[0]instanceof bn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof kn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Yue[o.typeId],f=s[0];this.isValid=d=>aM(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Kue[o.typeId]),this._offsets=Bue(s);break}this.data=s,this.type=o,this.stride=wu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return jue(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Q[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return uM.visit(this)}concat(...t){return new bn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new bn(Lue(this,t,n,({data:r,_offsets:i},s,o)=>Uue(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case Q.Int:case Q.Float:case Q.Decimal:case Q.Time:case Q.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new bn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Ft.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Ft.isDictionary(this.type)){const t=new bx(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new bn(n)}return new bx(this)}unmemoize(){if(Ft.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new bn(n)}return this}}Gue=Symbol.toStringTag;bn[Gue]=(e=>{e.type=Ft.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Q).map(n=>Q[n]).filter(n=>typeof n=="number"&&n!==Q.NONE);for(const n of t){const r=co.getVisitFnByTypeId(n),i=pa.getVisitFnByTypeId(n),s=_x.getVisitFnByTypeId(n),o=dl.getVisitFnByTypeId(n);Yue[n]={get:r,set:i,indexOf:s,byteLength:o},Kue[n]=Object.create(e,{isValid:{value:Tm(aM)},get:{value:Tm(co.getVisitFnByTypeId(n))},set:{value:Vue(pa.getVisitFnByTypeId(n))},indexOf:{value:zue(_x.getVisitFnByTypeId(n))},getByteLength:{value:Tm(dl.getVisitFnByTypeId(n))}})}return"Vector"})(bn.prototype);class bx extends bn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new bx(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new bn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function vtt(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${_tt(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function _tt(e){return typeof e!="bigint"?Ch(e):`${Ch(e)}n`}const p2=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,btt=(e,t=0)=>e.length>=t?e.subarray(0,t):hx(new e.constructor(t),e,0);class iA{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?p2(r*1,this.BYTES_PER_ELEMENT):p2(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=p2(t*this.stride,this.BYTES_PER_ELEMENT);const n=btt(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=hx(new this.ArrayType(t),this.buffer)}}iA.prototype.offset=0;class s1 extends iA{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class Que extends s1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Xue extends s1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let po=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=wu(t),this._nulls=new Que,n&&n.length>0&&(this._isValid=vtt(n))}toVector(){return new bn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),ns({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};po.prototype.length=1;po.prototype.stride=1;po.prototype.children=null;po.prototype.finished=!1;po.prototype.nullValues=null;po.prototype._isValid=()=>!0;class xc extends po{constructor(t){super(t),this._values=new s1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class sA extends po{constructor(t){super(t),this._pendingLength=0,this._offsets=new Xue}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof nA?n[ja].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class Ck{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const m2=2,Au=4,$l=4,zn=4,Gc=new Int32Array(2),QH=new Float32Array(Gc.buffer),XH=new Float64Array(Gc.buffer),Mb=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Ak;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Ak||(Ak={}));let wx=class Jue{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Jue(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return Gc[0]=this.readInt32(t),QH[0]}readFloat64(t){return Gc[Mb?0:1]=this.readInt32(t),Gc[Mb?1:0]=this.readInt32(t+4),XH[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){QH[0]=n,this.writeInt32(t,Gc[0])}writeFloat64(t,n){XH[0]=n,this.writeInt32(t,Gc[Mb?0:1]),this.writeInt32(t+4,Gc[Mb?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Au+$l)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<$l;n++)t+=String.fromCharCode(this.readInt8(this.position_+Au+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Au;const i=this.bytes_.subarray(t,t+r);return n===Ak.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Au}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=$l)throw new Error("FlatBuffers: file identifier must be length "+$l);for(let n=0;n<$l;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Au+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Zue=class ele{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=wx.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=ele.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=wx.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Au,0),this.writeInt32(this.offset()-t+Au)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*m2;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=m2;l<s;l+=m2)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?zn:0;if(n){const s=n;if(this.prep(this.minalign,Au+$l+i),s.length!=$l)throw new TypeError("FlatBuffers: file identifier must be length "+$l);for(let o=$l-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Au+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Au,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ri{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ri).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+zn),(n||new ri).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return ri.startKeyValue(t),ri.addKey(t,n),ri.addValue(t,r),ri.endKeyValue(t)}}var sg;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(sg||(sg={}));var og;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(og||(og={}));var Ex;(function(e){e[e.DenseArray=0]="DenseArray"})(Ex||(Ex={}));class So{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new So).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+zn),(n||new So).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return So.startInt(t),So.addBitWidth(t,n),So.addIsSigned(t,r),So.endInt(t)}}class Ll{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Ll).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+zn),(n||new Ll).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new So).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Ex.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,Ex.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Wd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Wd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+zn),(n||new Wd).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Wd.startBinary(t),Wd.endBinary(t)}}class qd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new qd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+zn),(n||new qd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return qd.startBool(t),qd.endBool(t)}}var Sx;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Sx||(Sx={}));let Ww=class Tp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Tp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+zn),(n||new Tp).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sx.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Sx.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Tp.startDate(t),Tp.addUnit(t,n),Tp.endDate(t)}};class zs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new zs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+zn),(n||new zs).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return zs.startDecimal(t),zs.addPrecision(t,n),zs.addScale(t,r),zs.addBitWidth(t,i),zs.endDecimal(t)}}var Ff;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Ff||(Ff={}));class Pu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Pu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+zn),(n||new Pu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ff.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Ff.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Pu.startDuration(t),Pu.addUnit(t,n),Pu.endDuration(t)}}class Ou{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Ou).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+zn),(n||new Ou).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Ou.startFixedSizeBinary(t),Ou.addByteWidth(t,n),Ou.endFixedSizeBinary(t)}}class Ru{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Ru).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+zn),(n||new Ru).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Ru.startFixedSizeList(t),Ru.addListSize(t,n),Ru.endFixedSizeList(t)}}var Tx;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Tx||(Tx={}));class Nu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Nu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+zn),(n||new Nu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tx.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Tx.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Nu.startFloatingPoint(t),Nu.addPrecision(t,n),Nu.endFloatingPoint(t)}}var xx;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(xx||(xx={}));class ku{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+zn),(n||new ku).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xx.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,xx.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return ku.startInterval(t),ku.addUnit(t,n),ku.endInterval(t)}}class Gd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Gd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+zn),(n||new Gd).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Gd.startList(t),Gd.endList(t)}}let qw=class xp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new xp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+zn),(n||new xp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return xp.startMap(t),xp.addKeysSorted(t,n),xp.endMap(t)}};class Yd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Yd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+zn),(n||new Yd).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Yd.startNull(t),Yd.endNull(t)}}class Kd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Kd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+zn),(n||new Kd).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Kd.startStruct_(t),Kd.endStruct_(t)}}class ta{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ta).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+zn),(n||new ta).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ff.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Ff.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ta.startTime(t),ta.addUnit(t,n),ta.addBitWidth(t,r),ta.endTime(t)}}let iy=class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+zn),(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ff.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Ff.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Sd.startTimestamp(t),Sd.addUnit(t,n),Sd.addTimezone(t,r),Sd.endTimestamp(t)}};var Ix;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Ix||(Ix={}));class Ws{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Ws).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+zn),(n||new Ws).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ix.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Ix.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Ws.startUnion(t),Ws.addMode(t,n),Ws.addTypeIds(t,r),Ws.endUnion(t)}}class Qd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Qd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+zn),(n||new Qd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Qd.startUtf8(t),Qd.endUtf8(t)}}var dr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(dr||(dr={}));let Yo=class Gw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Gw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+zn),(n||new Gw).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):dr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Ll).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Gw).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,dr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},_u=class Cl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Cl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+zn),(n||new Cl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):og.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Yo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,og.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Cl.startSchema(t),Cl.addEndianness(t,n),Cl.addFields(t,r),Cl.addCustomMetadata(t,i),Cl.addFeatures(t,s),Cl.endSchema(t)}};class bo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new bo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+zn),(n||new bo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sg.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new _u).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Ck).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Ck).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,sg.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Rn{constructor(t=[],n,r,i=_s.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=Pk(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Rn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Rn(n,this.metadata)}assign(...t){const n=t[0]instanceof Rn?t[0]:Array.isArray(t[0])?new Rn(t[0]):new Rn(t),r=[...this.fields],i=Fb(Fb(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:Fb(Fb(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=Pk(s,new Map);return new Rn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Rn.prototype.fields=null;Rn.prototype.metadata=null;Rn.prototype.dictionaries=null;class An{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new An(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],An.new(n,r,i,s)}}An.prototype.type=null;An.prototype.name=null;An.prototype.nullable=null;An.prototype.metadata=null;function Fb(e,t){return new Map([...e||new Map,...t||new Map])}function Pk(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Ft.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Pk(s.children,t)}return t}var wtt=Zue,Ett=wx;class Ok{static decode(t){t=new Ett(Dn(t));const n=bo.getRootAsFooter(t),r=Rn.decode(n.schema(),new Map,n.version());return new Stt(r,n)}static encode(t){const n=new wtt,r=Rn.encode(n,t.schema);bo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())jf.encode(n,o);const i=n.endVector();bo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())jf.encode(n,o);const s=n.endVector();return bo.startFooter(n),bo.addSchema(n,r),bo.addVersion(n,_s.V5),bo.addRecordBatches(n,i),bo.addDictionaries(n,s),bo.finishFooterBuffer(n,bo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=_s.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Stt extends Ok{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return jf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return jf.decode(n)}return null}}class jf{static decode(t){return new jf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return Ck.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=eu(r),this.bodyLength=eu(n)}}const jb=Object.freeze({done:!0,value:void 0});class tle{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Ttt extends tle{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Dl(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(jb);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return HH.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return HH.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Dl(this,void 0,void 0,function*(){return yield this.abort(t),jb})}return(t){return Dl(this,void 0,void 0,function*(){return yield this.close(),jb})}read(t){return Dl(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Dl(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(jb)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class g2 extends Ttt{write(t){if((t=Dn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Tk(this.toUint8Array(!0)):this.toUint8Array(!1).then(Tk)}toUint8Array(t=!1){return t?ll(this._values)[0]:Dl(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=Uy(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return ll(o,a)[0]})}}class nle extends sA{constructor(t){super(t),this._values=new iA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Dn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class xtt extends po{constructor(t){super(t),this._values=new Que}setValue(t,n){this._values.set(t,+n)}}class oA extends xc{}oA.prototype._setValue=aue;class rle extends oA{}rle.prototype._setValue=UL;class ile extends oA{}ile.prototype._setValue=VL;class sle extends xc{}sle.prototype._setValue=cue;class Itt extends po{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Mf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Cx({type:this.type.indices,nullValues:n}),this.dictionary=Cx({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class ole extends xc{}ole.prototype._setValue=oue;class Ctt extends po{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new ig(this.type.listSize,new An(n,t.type,!0)),r}}class aA extends xc{setValue(t,n){this._values.set(t,n)}}class Att extends aA{setValue(t,n){super.setValue(t,rue(n))}}class Ptt extends aA{}class Ott extends aA{}class uA extends xc{}uA.prototype._setValue=hue;class ale extends uA{}ale.prototype._setValue=XL;class ule extends uA{}ule.prototype._setValue=JL;class jg extends xc{}jg.prototype._setValue=pue;class lle extends jg{}lle.prototype._setValue=ZL;class cle extends jg{}cle.prototype._setValue=eM;class fle extends jg{}fle.prototype._setValue=tM;class dle extends jg{}dle.prototype._setValue=nM;class Ic extends xc{setValue(t,n){this._values.set(t,n)}}class Rtt extends Ic{}class Ntt extends Ic{}class ktt extends Ic{}class Dtt extends Ic{}class $tt extends Ic{}class Ltt extends Ic{}class Mtt extends Ic{}class Ftt extends Ic{}class jtt extends sA{constructor(t){super(t),this._offsets=new Xue}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new rg(new An(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class Btt extends sA{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Vv(new An(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class Utt extends po{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class Vtt extends po{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new os([...this.type.children,new An(n,t.type,!0)]),r}}class Bg extends xc{}Bg.prototype._setValue=uue;class hle extends Bg{}hle.prototype._setValue=zL;class ple extends Bg{}ple.prototype._setValue=HL;class mle extends Bg{}mle.prototype._setValue=WL;class gle extends Bg{}gle.prototype._setValue=qL;class Ug extends xc{}Ug.prototype._setValue=lue;class yle extends Ug{}yle.prototype._setValue=GL;class vle extends Ug{}vle.prototype._setValue=YL;class _le extends Ug{}_le.prototype._setValue=KL;class ble extends Ug{}ble.prototype._setValue=QL;class lM extends po{constructor(t){super(t),this._typeIds=new s1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new An(n,t.type)];return this.type=new Uv(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class ztt extends lM{}class Htt extends lM{constructor(t){super(t),this._offsets=new s1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class wle extends sA{constructor(t){super(t),this._values=new iA(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,IL(n))}_flushPending(t,n){}}wle.prototype._flushPending=nle.prototype._flushPending;class Wtt extends qt{visitNull(){return Utt}visitBool(){return xtt}visitInt(){return Ic}visitInt8(){return Rtt}visitInt16(){return Ntt}visitInt32(){return ktt}visitInt64(){return Dtt}visitUint8(){return $tt}visitUint16(){return Ltt}visitUint32(){return Mtt}visitUint64(){return Ftt}visitFloat(){return aA}visitFloat16(){return Att}visitFloat32(){return Ptt}visitFloat64(){return Ott}visitUtf8(){return wle}visitBinary(){return nle}visitFixedSizeBinary(){return ole}visitDate(){return oA}visitDateDay(){return rle}visitDateMillisecond(){return ile}visitTimestamp(){return Bg}visitTimestampSecond(){return hle}visitTimestampMillisecond(){return ple}visitTimestampMicrosecond(){return mle}visitTimestampNanosecond(){return gle}visitTime(){return Ug}visitTimeSecond(){return yle}visitTimeMillisecond(){return vle}visitTimeMicrosecond(){return _le}visitTimeNanosecond(){return ble}visitDecimal(){return sle}visitList(){return jtt}visitStruct(){return Vtt}visitUnion(){return lM}visitDenseUnion(){return Htt}visitSparseUnion(){return ztt}visitDictionary(){return Itt}visitInterval(){return uA}visitIntervalDayTime(){return ale}visitIntervalYearMonth(){return ule}visitDuration(){return jg}visitDurationSecond(){return lle}visitDurationMillisecond(){return cle}visitDurationMicrosecond(){return fle}visistDurationNanosecond(){return dle}visitFixedSizeList(){return Ctt}visitMap(){return Btt}}const qtt=new Wtt;class Et extends qt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function As(e,t){return t instanceof e.constructor}function o1(e,t){return e===t||As(e,t)}function Cc(e,t){return e===t||As(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function lA(e,t){return e===t||As(e,t)&&e.precision===t.precision}function Gtt(e,t){return e===t||As(e,t)&&e.byteWidth===t.byteWidth}function cM(e,t){return e===t||As(e,t)&&e.unit===t.unit}function a1(e,t){return e===t||As(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function u1(e,t){return e===t||As(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function Ytt(e,t){return e===t||As(e,t)&&e.children.length===t.children.length&&Bf.compareManyFields(e.children,t.children)}function Ktt(e,t){return e===t||As(e,t)&&e.children.length===t.children.length&&Bf.compareManyFields(e.children,t.children)}function fM(e,t){return e===t||As(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Bf.compareManyFields(e.children,t.children)}function Qtt(e,t){return e===t||As(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Bf.visit(e.indices,t.indices)&&Bf.visit(e.dictionary,t.dictionary)}function dM(e,t){return e===t||As(e,t)&&e.unit===t.unit}function l1(e,t){return e===t||As(e,t)&&e.unit===t.unit}function Xtt(e,t){return e===t||As(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Bf.compareManyFields(e.children,t.children)}function Jtt(e,t){return e===t||As(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Bf.compareManyFields(e.children,t.children)}Et.prototype.visitNull=o1;Et.prototype.visitBool=o1;Et.prototype.visitInt=Cc;Et.prototype.visitInt8=Cc;Et.prototype.visitInt16=Cc;Et.prototype.visitInt32=Cc;Et.prototype.visitInt64=Cc;Et.prototype.visitUint8=Cc;Et.prototype.visitUint16=Cc;Et.prototype.visitUint32=Cc;Et.prototype.visitUint64=Cc;Et.prototype.visitFloat=lA;Et.prototype.visitFloat16=lA;Et.prototype.visitFloat32=lA;Et.prototype.visitFloat64=lA;Et.prototype.visitUtf8=o1;Et.prototype.visitBinary=o1;Et.prototype.visitFixedSizeBinary=Gtt;Et.prototype.visitDate=cM;Et.prototype.visitDateDay=cM;Et.prototype.visitDateMillisecond=cM;Et.prototype.visitTimestamp=a1;Et.prototype.visitTimestampSecond=a1;Et.prototype.visitTimestampMillisecond=a1;Et.prototype.visitTimestampMicrosecond=a1;Et.prototype.visitTimestampNanosecond=a1;Et.prototype.visitTime=u1;Et.prototype.visitTimeSecond=u1;Et.prototype.visitTimeMillisecond=u1;Et.prototype.visitTimeMicrosecond=u1;Et.prototype.visitTimeNanosecond=u1;Et.prototype.visitDecimal=o1;Et.prototype.visitList=Ytt;Et.prototype.visitStruct=Ktt;Et.prototype.visitUnion=fM;Et.prototype.visitDenseUnion=fM;Et.prototype.visitSparseUnion=fM;Et.prototype.visitDictionary=Qtt;Et.prototype.visitInterval=dM;Et.prototype.visitIntervalDayTime=dM;Et.prototype.visitIntervalYearMonth=dM;Et.prototype.visitDuration=l1;Et.prototype.visitDurationSecond=l1;Et.prototype.visitDurationMillisecond=l1;Et.prototype.visitDurationMicrosecond=l1;Et.prototype.visitDurationNanosecond=l1;Et.prototype.visitFixedSizeList=Xtt;Et.prototype.visitMap=Jtt;const Bf=new Et;function Rk(e,t){return Bf.compareSchemas(e,t)}function Cx(e){const t=e.type,n=new(qtt.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(Cx(Object.assign(Object.assign({},l),{type:u})))}}return n}function y2(e,t){return Ztt(e,t.map(n=>n.data.concat()))}function Ztt(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=ent(n,o,c,t,i),o>0&&(r[s++]=ns({type:new os(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new To(e,f))]}function ent(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ns({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Ele;class qs{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Rn([]),this._offsets=[0],this;let i,s;t[0]instanceof Rn&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof To)return[u];if(u instanceof qs)return u.batches;if(u instanceof kn){if(u.type instanceof os)return[new To(new Rn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new bn([u[h]])),f=new Rn(l.map((h,p)=>new An(String(h),c[p].type))),[,d]=y2(f,c);return d.length===0?[new To(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Rn([]),!(i instanceof Rn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof To))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Rk(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Bue(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=jue(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?uM.visit(new bn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new qs(n,r.map(i=>new To(n,i)))}slice(t,n){const r=this.schema;[t,n]=Lue({length:this.numRows},t,n);const i=Uue(this.data,this._offsets,t,n);return new qs(r,i.map(s=>new To(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=ns({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new bn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new bn([ns({type:new lc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=y2(r,a)}return new qs(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new qs(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new qs(...y2(s,o))}}Ele=Symbol.toStringTag;qs[Ele]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Tm(aM),e.get=Tm(co.getVisitFn(Q.Struct)),e.set=Vue(pa.getVisitFn(Q.Struct)),e.indexOf=zue(_x.getVisitFn(Q.Struct)),e.getByteLength=Tm(dl.getVisitFn(Q.Struct)),"Table"))(qs.prototype);var Sle;let To=class sy{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Rn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ns({nullCount:0,type:new os(this.schema.fields),children:this.schema.fields.map(n=>ns({type:n.type,nullCount:0}))})]=t,!(this.data instanceof kn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=JH(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=An.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Rn(r),a=ns({type:new os(r),length:s,children:i,nullCount:0});[this.schema,this.data]=JH(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Tle(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return co.visit(this.data,t)}set(t,n){return pa.visit(this.data,t,n)}indexOf(t,n){return _x.visit(this.data,t,n)}getByteLength(t){return dl.visit(this.data,t)}[Symbol.iterator](){return uM.visit(new bn([this.data]))}toArray(){return[...this]}concat(...t){return new qs(this.schema,[this,...t])}slice(t,n){const[r]=new bn([this.data]).slice(t,n).data;return new sy(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new bn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new bn([ns({type:new lc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Rn(s,new Map(this.schema.metadata)),i=ns({type:new os(s),children:o})}return new sy(r,i)}select(t){const n=this.schema.select(t),r=new os(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new sy(n,ns({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ns({type:new os(n.fields),length:this.numRows,children:r});return new sy(n,i)}};Sle=Symbol.toStringTag;To[Sle]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(To.prototype);function JH(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ns({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),ns({type:new os(i),length:n,children:s})]}function Tle(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])Tle(a.children,l==null?void 0:l.children,n);if(Ft.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class tnt extends To{constructor(t){const n=t.fields.map(i=>ns({type:i.type})),r=ns({type:new os(t.fields),nullCount:0,children:n});super(t,r)}}var Ax;(function(e){e[e.BUFFER=0]="BUFFER"})(Ax||(Ax={}));var Px;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Px||(Px={}));class Yc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Yc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+zn),(n||new Yc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Px.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Ax.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Px.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Ax.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Yc.startBodyCompression(t),Yc.addCodec(t,n),Yc.addMethod(t,r),Yc.endBodyCompression(t)}}class xle{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let Ile=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Ol=class Nk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new Nk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+zn),(n||new Nk).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ile).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new xle).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Yc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Ip=class kk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new kk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+zn),(n||new kk).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ol).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Ox;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Ox||(Ox={}));let Fc=class hu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+zn),(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sg.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Ox.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,sg.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Ox.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return hu.startMessage(t),hu.addVersion(t,n),hu.addHeaderType(t,r),hu.addHeader(t,i),hu.addBodyLength(t,s),hu.addCustomMetadata(t,o),hu.endMessage(t)}};class nnt extends qt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Yd.startNull(n),Yd.endNull(n)}visitInt(t,n){return So.startInt(n),So.addBitWidth(n,t.bitWidth),So.addIsSigned(n,t.isSigned),So.endInt(n)}visitFloat(t,n){return Nu.startFloatingPoint(n),Nu.addPrecision(n,t.precision),Nu.endFloatingPoint(n)}visitBinary(t,n){return Wd.startBinary(n),Wd.endBinary(n)}visitBool(t,n){return qd.startBool(n),qd.endBool(n)}visitUtf8(t,n){return Qd.startUtf8(n),Qd.endUtf8(n)}visitDecimal(t,n){return zs.startDecimal(n),zs.addScale(n,t.scale),zs.addPrecision(n,t.precision),zs.addBitWidth(n,t.bitWidth),zs.endDecimal(n)}visitDate(t,n){return Ww.startDate(n),Ww.addUnit(n,t.unit),Ww.endDate(n)}visitTime(t,n){return ta.startTime(n),ta.addUnit(n,t.unit),ta.addBitWidth(n,t.bitWidth),ta.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return iy.startTimestamp(n),iy.addUnit(n,t.unit),r!==void 0&&iy.addTimezone(n,r),iy.endTimestamp(n)}visitInterval(t,n){return ku.startInterval(n),ku.addUnit(n,t.unit),ku.endInterval(n)}visitDuration(t,n){return Pu.startDuration(n),Pu.addUnit(n,t.unit),Pu.endDuration(n)}visitList(t,n){return Gd.startList(n),Gd.endList(n)}visitStruct(t,n){return Kd.startStruct_(n),Kd.endStruct_(n)}visitUnion(t,n){Ws.startTypeIdsVector(n,t.typeIds.length);const r=Ws.createTypeIdsVector(n,t.typeIds);return Ws.startUnion(n),Ws.addMode(n,t.mode),Ws.addTypeIds(n,r),Ws.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Ll.startDictionaryEncoding(n),Ll.addId(n,BigInt(t.id)),Ll.addIsOrdered(n,t.isOrdered),r!==void 0&&Ll.addIndexType(n,r),Ll.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Ou.startFixedSizeBinary(n),Ou.addByteWidth(n,t.byteWidth),Ou.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Ru.startFixedSizeList(n),Ru.addListSize(n,t.listSize),Ru.endFixedSizeList(n)}visitMap(t,n){return qw.startMap(n),qw.addKeysSorted(n,t.keysSorted),qw.endMap(n)}}const v2=new nnt;function rnt(e,t=new Map){return new Rn(snt(e,t),Yw(e.metadata),t)}function Cle(e){return new Lo(e.count,Ale(e.columns),Ple(e.columns))}function int(e){return new hl(Cle(e.data),e.id,e.isDelta)}function snt(e,t){return(e.fields||[]).filter(Boolean).map(n=>An.fromJSON(n,t))}function ZH(e,t){return(e.children||[]).filter(Boolean).map(n=>An.fromJSON(n,t))}function Ale(e){return(e||[]).reduce((t,n)=>[...t,new Uf(n.count,ont(n.VALIDITY)),...Ale(n.children)],[])}function Ple(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Bu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Bu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Bu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Bu(t.length,i.DATA.length)),t=Ple(i.children,t)}return t}function ont(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function ant(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=tW(e,ZH(e,t)),i=new An(e.name,o,e.nullable,Yw(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?eW(r):new $f,a=new Mf(t.get(n),r,n,s.isOrdered),i=new An(e.name,a,e.nullable,Yw(e.metadata))):(r=(r=s.indexType)?eW(r):new $f,t.set(n,o=tW(e,ZH(e,t))),a=new Mf(o,r,n,s.isOrdered),i=new An(e.name,a,e.nullable,Yw(e.metadata))),i||null}function Yw(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function eW(e){return new xs(e.isSigned,e.bitWidth)}function tW(e,t){const n=e.type.name;switch(n){case"NONE":return new lc;case"null":return new lc;case"binary":return new jv;case"utf8":return new eg;case"bool":return new Bv;case"list":return new rg((t||[])[0]);case"struct":return new os(t||[]);case"struct_":return new os(t||[])}switch(n){case"int":{const r=e.type;return new xs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new Lf(Fi[r.precision])}case"decimal":{const r=e.type;return new px(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new tg(cl[r.unit])}case"time":{const r=e.type;return new cc(vt[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new mx(vt[r.unit],r.timezone)}case"interval":{const r=e.type;return new ng(fl[r.unit])}case"duration":{const r=e.type;return new gx(vt[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new Uv(lo[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new yx(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new ig(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Vv((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var unt=Zue,lnt=wx;class Du{static fromJSON(t,n){const r=new Du(0,_s.V5,n);return r._createHeader=cnt(t,n),r}static decode(t){t=new lnt(Dn(t));const n=Fc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Du(r,i,s);return o._createHeader=fnt(n,s),o}static encode(t){const n=new unt;let r=-1;return t.isSchema()?r=Rn.encode(n,t.header()):t.isRecordBatch()?r=Lo.encode(n,t.header()):t.isDictionaryBatch()&&(r=hl.encode(n,t.header())),Fc.startMessage(n),Fc.addVersion(n,_s.V5),Fc.addHeader(n,r),Fc.addHeaderType(n,t.headerType),Fc.addBodyLength(n,BigInt(t.bodyLength)),Fc.finishMessageBuffer(n,Fc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Rn)return new Du(0,_s.V5,gi.Schema,t);if(t instanceof Lo)return new Du(n,_s.V5,gi.RecordBatch,t);if(t instanceof hl)return new Du(n,_s.V5,gi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===gi.Schema}isRecordBatch(){return this.headerType===gi.RecordBatch}isDictionaryBatch(){return this.headerType===gi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=eu(t)}}class Lo{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=eu(t)}}class hl{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=eu(n)}}class Bu{constructor(t,n){this.offset=eu(t),this.length=eu(n)}}class Uf{constructor(t,n){this.length=eu(t),this.nullCount=eu(n)}}function cnt(e,t){return()=>{switch(t){case gi.Schema:return Rn.fromJSON(e);case gi.RecordBatch:return Lo.fromJSON(e);case gi.DictionaryBatch:return hl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${gi[t]}, type: ${t} }`)}}function fnt(e,t){return()=>{switch(t){case gi.Schema:return Rn.decode(e.header(new _u),new Map,e.version());case gi.RecordBatch:return Lo.decode(e.header(new Ol),e.version());case gi.DictionaryBatch:return hl.decode(e.header(new Ip),e.version())}throw new Error(`Unrecognized Message type: { name: ${gi[t]}, type: ${t} }`)}}An.encode=Ent;An.decode=bnt;An.fromJSON=ant;Rn.encode=wnt;Rn.decode=dnt;Rn.fromJSON=rnt;Lo.encode=Snt;Lo.decode=hnt;Lo.fromJSON=Cle;hl.encode=Tnt;hl.decode=pnt;hl.fromJSON=int;Uf.encode=xnt;Uf.decode=gnt;Bu.encode=Int;Bu.decode=mnt;function dnt(e,t=new Map,n=_s.V5){const r=_nt(e,t);return new Rn(r,Kw(e),t,n)}function hnt(e,t=_s.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Lo(e.length(),ynt(e),vnt(e,t))}function pnt(e,t=_s.V5){return new hl(Lo.decode(e.data(),t),e.id(),e.isDelta())}function mnt(e){return new Bu(e.offset(),e.length())}function gnt(e){return new Uf(e.length(),e.nullCount())}function ynt(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Uf.decode(n));return t}function vnt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<_s.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Bu.decode(r));return n}function _nt(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=An.decode(r,t));return n}function nW(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=An.decode(r,t));return n}function bnt(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=iW(e,nW(e,t)),r=new An(e.name(),i,e.nullable(),Kw(e))):t.has(n=eu(a.id()))?(s=(s=a.indexType())?rW(s):new $f,o=new Mf(t.get(n),s,n,a.isOrdered()),r=new An(e.name(),o,e.nullable(),Kw(e))):(s=(s=a.indexType())?rW(s):new $f,t.set(n,i=iW(e,nW(e,t))),o=new Mf(i,s,n,a.isOrdered()),r=new An(e.name(),o,e.nullable(),Kw(e))),r||null}function Kw(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function rW(e){return new xs(e.isSigned(),e.bitWidth())}function iW(e,t){const n=e.typeType();switch(n){case dr.NONE:return new lc;case dr.Null:return new lc;case dr.Binary:return new jv;case dr.Utf8:return new eg;case dr.Bool:return new Bv;case dr.List:return new rg((t||[])[0]);case dr.Struct_:return new os(t||[])}switch(n){case dr.Int:{const r=e.type(new So);return new xs(r.isSigned(),r.bitWidth())}case dr.FloatingPoint:{const r=e.type(new Nu);return new Lf(r.precision())}case dr.Decimal:{const r=e.type(new zs);return new px(r.scale(),r.precision(),r.bitWidth())}case dr.Date:{const r=e.type(new Ww);return new tg(r.unit())}case dr.Time:{const r=e.type(new ta);return new cc(r.unit(),r.bitWidth())}case dr.Timestamp:{const r=e.type(new iy);return new mx(r.unit(),r.timezone())}case dr.Interval:{const r=e.type(new ku);return new ng(r.unit())}case dr.Duration:{const r=e.type(new Pu);return new gx(r.unit())}case dr.Union:{const r=e.type(new Ws);return new Uv(r.mode(),r.typeIdsArray()||[],t||[])}case dr.FixedSizeBinary:{const r=e.type(new Ou);return new yx(r.byteWidth())}case dr.FixedSizeList:{const r=e.type(new Ru);return new ig(r.listSize(),(t||[])[0])}case dr.Map:{const r=e.type(new qw);return new Vv((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${dr[n]}" (${n})`)}function wnt(e,t){const n=t.fields.map(s=>An.encode(e,s));_u.startFieldsVector(e,n.length);const r=_u.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?_u.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return ri.startKeyValue(e),ri.addKey(e,a),ri.addValue(e,u),ri.endKeyValue(e)})):-1;return _u.startSchema(e),_u.addFields(e,r),_u.addEndianness(e,Cnt?og.Little:og.Big),i!==-1&&_u.addCustomMetadata(e,i),_u.endSchema(e)}function Ent(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Ft.isDictionary(s)?(o=s.dictionary.typeId,i=v2.visit(s,e),r=v2.visit(s.dictionary,e)):r=v2.visit(s,e);const a=(s.children||[]).map(c=>An.encode(e,c)),u=Yo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Yo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return ri.startKeyValue(e),ri.addKey(e,d),ri.addValue(e,h),ri.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Yo.startField(e),Yo.addType(e,r),Yo.addTypeType(e,o),Yo.addChildren(e,u),Yo.addNullable(e,!!t.nullable),n!==-1&&Yo.addName(e,n),i!==-1&&Yo.addDictionary(e,i),l!==-1&&Yo.addCustomMetadata(e,l),Yo.endField(e)}function Snt(e,t){const n=t.nodes||[],r=t.buffers||[];Ol.startNodesVector(e,n.length);for(const o of n.slice().reverse())Uf.encode(e,o);const i=e.endVector();Ol.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Bu.encode(e,o);const s=e.endVector();return Ol.startRecordBatch(e),Ol.addLength(e,BigInt(t.length)),Ol.addNodes(e,i),Ol.addBuffers(e,s),Ol.endRecordBatch(e)}function Tnt(e,t){const n=Lo.encode(e,t.data);return Ip.startDictionaryBatch(e),Ip.addId(e,BigInt(t.id)),Ip.addIsDelta(e,t.isDelta),Ip.addData(e,n),Ip.endDictionaryBatch(e)}function xnt(e,t){return Ile.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function Int(e,t){return xle.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const Cnt=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),Dk="ARROW1",hM=new Uint8Array(Dk.length);for(let e=0;e<Dk.length;e+=1)hM[e]=Dk.codePointAt(e);hM.length;class Vr extends qt{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof To?s.data.children:s.data),r=new Vr;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof bn)return this.visitMany(t.data),this;const{type:n}=t;if(!Ft.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Ft.isUnion(n))this.nodes.push(new Uf(r,0));else{const{nullCount:i}=t;Ft.isNull(n)||qa.call(this,i<=0?new Uint8Array(0):vx(t.offset,r,t.nullBitmap)),this.nodes.push(new Uf(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function qa(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Bu(this._byteLength,t)),this._byteLength+=t,this}function Ant(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(qa.call(this,i),n.mode===lo.Sparse)return $k.call(this,e);if(n.mode===lo.Dense){if(e.offset<=0)return qa.call(this,s),$k.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);qa.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function Pnt(e){let t;return e.nullCount>=e.length?qa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?qa.call(this,vx(e.offset,e.length,t)):qa.call(this,Fue(e.values))}function Ac(e){return qa.call(this,e.values.subarray(0,e.length*e.stride))}function Ole(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return qa.call(this,Nae(-i,t+1,r)),qa.call(this,n.subarray(i,i+o)),this}function pM(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return qa.call(this,Nae(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function $k(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Vr.prototype.visitBool=Pnt;Vr.prototype.visitInt=Ac;Vr.prototype.visitFloat=Ac;Vr.prototype.visitUtf8=Ole;Vr.prototype.visitBinary=Ole;Vr.prototype.visitFixedSizeBinary=Ac;Vr.prototype.visitDate=Ac;Vr.prototype.visitTimestamp=Ac;Vr.prototype.visitTime=Ac;Vr.prototype.visitDecimal=Ac;Vr.prototype.visitList=pM;Vr.prototype.visitStruct=$k;Vr.prototype.visitUnion=Ant;Vr.prototype.visitInterval=Ac;Vr.prototype.visitDuration=Ac;Vr.prototype.visitFixedSizeList=pM;Vr.prototype.visitMap=pM;class Rle extends tle{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new g2,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,id(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return eA(t)?t.then(n=>this.writeAll(n)):tA(t)?vM(this,t):yM(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof g2?this._sink=t:(this._sink=new g2,t&&kZe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&DZe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!Rk(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof qs&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof To&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Rk(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof To?t instanceof tnt||this._writeRecordBatch(t):t instanceof qs?this.writeAll(t.batches):CL(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Du.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===gi.RecordBatch?this._recordBatchBlocks.push(new jf(a,t.bodyLength,this._position)):t.headerType===gi.DictionaryBatch&&this._dictionaryBlocks.push(new jf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Dn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Du.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(hM)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Vr.assemble(t),o=new Lo(t.numRows,r,i),a=Du.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Vr.assemble(new bn([t])),u=new Lo(t.length,s,o),l=new hl(u,n,r),c=Du.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class mM extends Rle{static writeAll(t,n){const r=new mM(n);return eA(t)?t.then(i=>r.writeAll(i)):tA(t)?vM(r,t):yM(r,t)}}class gM extends Rle{static writeAll(t){const n=new gM;return eA(t)?t.then(r=>n.writeAll(r)):tA(t)?vM(n,t):yM(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=Ok.encode(new Ok(t,_s.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function yM(e,t){let n=t;t instanceof qs&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function vM(e,t){var n,r,i,s,o,a,u;return Dl(this,void 0,void 0,function*(){try{for(n=!0,r=Uy(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function Ont(e,t="stream"){return(t==="stream"?mM:gM).writeAll(e).toUint8Array(!0)}function _M(e,t=1){return(e*t+63&-64||64)/t}function Vf(e,t,n=e.BYTES_PER_ELEMENT){return new e(_M(t,n))}function bM(e){return e instanceof kn?e:new kn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function Rnt(e){return new bn([bM(e)])}const wM=new TextEncoder;function Nnt(e,t,n){const r=wM.encode(n);return e.set(r,t),r.length}function knt(e,t,n){return wM.encodeInto(n,e.subarray(t)).written}const Dnt=wM.encodeInto?knt:Nnt;function sW(e,t){const n=Vf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function $nt(e,t){const n=Vf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function Lnt(e,t){const n=Vf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function Mnt(e,t){const n=Vf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function Fnt(e){const t=Cx({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function jnt(e,t,n){const r=Vf(Int32Array,t+1),i=Vf(Uint8Array,3*n);let s=0;return{set(o,a){s+=Dnt(i,s,o),r[a+1]=s},data:()=>{const o=_M(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function Bnt(e,t){const n=[],r=Vf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:Unt(e.dictionary,n,o)})}}function Unt(e,t,n){const r=jnt(e,t.length,n);return t.forEach(r.set),Rnt(r.data())}function Vnt(e,t){const n=Vf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function znt(e,t,n=!0){let r;switch(e.typeId){case Q.Int:r=e.bitWidth<64?sW:null;break;case Q.Float:r=e.precision>0?sW:null;break;case Q.Dictionary:r=e.dictionary.typeId===Q.Utf8&&e.indices.typeId===Q.Int&&e.indices.bitWidth<64?Bnt:null;break;case Q.Bool:r=$nt;break;case Q.Date:r=e.unit?Mnt:Lnt;break}return r==null?Fnt(e):n?Vnt(r(e,t),t):r(e,t)}function Hnt(e,t){const n=e.length,r=_M(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),bM({type:t,length:n,buffers:[null,i]})}function Nle(e,t,n,r,i=!0){const s=znt(r,e,i);return t(n,s.set),bM(s.data())}function EM(e){if(e instanceof Ft||e==null)return e;switch(e){case Q.Binary:return new jv;case Q.Bool:return new Bv;case Q.DateDay:return new KZe;case Q.DateMillisecond:case Q.Date:return new QZe;case Q.Dictionary:return new Mf(new eg,new $f);case Q.Float16:return new eue;case Q.Float32:return new ML;case Q.Float64:case Q.Float:return new FL;case Q.Int8:return new OL;case Q.Int16:return new RL;case Q.Int32:case Q.Int:return new $f;case Q.Int64:return new NL;case Q.IntervalDayTime:return new tet;case Q.Interval:case Q.IntervalYearMonth:return new net;case Q.Null:return new lc;case Q.TimeMicrosecond:return new ZZe;case Q.TimeMillisecond:case Q.Time:return new JZe;case Q.TimeNanosecond:return new eet;case Q.TimeSecond:return new XZe;case Q.Uint8:return new kL;case Q.Uint16:return new DL;case Q.Uint32:return new $L;case Q.Uint64:return new LL;case Q.Utf8:return new eg;default:Ht(`Unsupported type code: ${ul(e)}. Use a data type constructor instead?`)}}function Wnt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function kle(e,t){const n=Lk();return e(t,n.add),n}function Lk(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(uc(t))++e.dates,Wnt(t)&&++e.utcdays;else if(zd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=Lk());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=Lk())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return EM(qnt(e))}};return e}function qnt(e){const t=e.count-e.nulls;if(t===0)return Q.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?Q.Float64:n<128?Q.Int8:n<32768?Q.Int16:Q.Int32:n>=2**32?Q.Float64:n<256?Q.Uint8:n<65536?Q.Uint16:Q.Uint32}else{if(e.nums===t)return Q.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?Q.Int64:Ht(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?Q.Uint64:Ht(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return Q.Bool;if(e.utcdays===t)return Q.DateDay;if(e.dates===t)return Q.DateMillisecond;if(e.arrays===t){const n=An.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new ig(e.minlen,n):new rg(n)}else if(e.structs===t){const n=e.struct_prof;return new os(Object.keys(n).map(r=>An.new(r,n[r].type(),!0)))}else{if(e.strings>0)return Q.Dictionary;Ht("Type inference failure")}}}}function Gnt(e,t,n,r,i,s=!0){if(i=EM(i),!i){const o=kle(r,t);s=o.nulls>0,i=o.type()}return Nle(n,r,t,i,s)}function Ynt(e,t,n,r,i,s=!0){i=EM(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=Knt(o);if(u&&a&&oW(u.type,i))return u;const l=o.data;if(r1(l)){const c=Qnt(l);if(a&&c&&oW(c,i))return Hnt(l,c);i=i||c,s=!1}if(!i){const c=kle(r,o);s=c.nulls>0,i=c.type()}return Nle(n,r,o,i,s)}function Knt(e){return e instanceof bn?e:e.vector instanceof bn?e.vector:null}function Qnt(e){const n={Float32Array:ML,Float64Array:FL,Int8Array:OL,Int16Array:RL,Int32Array:$f,Uint8Array:kL,Uint16Array:DL,Uint32Array:$L,BigInt64Array:NL,BigUint64Array:LL}[e.constructor.name];return n?new n:null}function oW(e,t){return!e||!t?!0:e.compareTo(t)}function Xnt(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function Jnt(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&zd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const Znt=()=>Ht("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function ert(){try{return qs}catch{Znt()}}function Dle(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=trt(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&Ht("Column length mismatch"),a[l]=c});const u=ert();return new u(a)}function trt(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=ar(n)?n(e):_n(n)?n:null;if(_n(e))return{dataFrom:Gnt,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:Xnt(e,r,i)};if(nrt(e))return{dataFrom:Ynt,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:Jnt(e,r,i)};Ht("Unsupported input data type")}function nrt(e){return e&&ar(e.reify)}function rrt(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return Ont(Dle(e,r),n)}function irt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function srt(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&uc(u))++i,irt(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function cA(e,t){return ar(t)?t(e):t||e.columnNames()}function $le(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=srt(ort(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function ort(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function SM(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function art(e,t={}){const n=cA(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":uc(l)?JC(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return SM(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Lle(e,t={}){if(ar(t))return t(e)+"";const n=typeof e;if(n==="object"){if(uc(e))return t.utc?JC(e):iae(e);{const r=JSON.stringify(e,(s,o)=>r1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function fA(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function urt(e,t={}){const n=cA(e,t.columns),{align:r,format:i}=$le(e,n,t),s=lrt(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(Lle(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const v=g?a(r[y]):"",_=s[m]&&s[m](y,d,f)||"",S=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${m}${S?` style="${S}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return SM(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function lrt(e){return fA(e.style,t=>ar(t)?t:()=>t)}function crt(e,t=!0,n=!1){return e===void 0||e?t:n}const frt=e=>uc(e)?JC(e,!0):e;function drt(e,t={}){const n=crt(t.schema),r=t.format||{},i=cA(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||frt;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function hrt(e,t={}){const n=cA(e,t.columns),{align:r,format:i}=$le(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return SM(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Lle(u,i[l]))+"|"}}),a+`
`}function Mle(e,t){for(const[n,r]of ZC(t))e.set(n,r);return e}function prt(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function fc(e,t,n=new Map){return t=Ts(t)?e.columnName(t):t,zi(t)?n.set(t,t):_n(t)?t.forEach(r=>fc(e,r,n)):ar(t)?fc(e,t(e),n):cs(t)?Mle(n,t):Ht(`Invalid column selection: ${ul(t)}`),n}function dA(e,t){return e.toObject=t,e}function Fle(e){return _n(e)?e.map(Fle):e&&e.toObject?e.toObject():e}function ag(){return dA(e=>e.columnNames(),()=>({all:[]}))}function jle(...e){return e=e.flat(),dA(t=>{const n=fc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Fle(e)}))}function mrt(e,t){return dA(n=>{let r=Ts(e)?e:n.columnIndex(e),i=Ts(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function grt(e){return zi(e)&&(e=RegExp(prt(e))),dA(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function yrt(e){return r1(e.data)?e.data.constructor:Array}class $u extends NJe{static from(t,n){return new $u($Je(t,n),n)}static new(t,n){if(t instanceof $u)return t;const r={},i=[];for(const[s,o]of ZC(t))r[s]=o,i.push(s);return new $u(r,n||i)}constructor(t,n,r,i,s,o){fA(t,DJe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new $u(t||this._data,n||(t?null:this._names),o,i!==void 0?i:cZe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Ho(r).groupby(r.groups());return t.forEach(s=>{s=$u.new(s),s.numRows()!==n&&Ht("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Ht(`Unrecognized column: ${t}`)}object(t=0){return aW(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=fc(this,t.columns||ag()),o=Pae(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),dZe(this,u,a,n)}return a}*[Symbol.iterator](){const t=aW(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(yrt(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=fZe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Dle(this,t)}toArrowBuffer(t){return rrt(this,t)}toCSV(t){return art(this,t)}toHTML(t){return urt(this,t)}toJSON(t){return drt(this,t)}toMarkdown(t){return hrt(this,t)}}function aW(e){let t=e._builder;if(!t){const n=Pae(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class vrt{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function dn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=_rt[e.type];s&&s(e,t,n)}const Bb=(e,t,n)=>{dn(e.argument,t,n,e)},_2=(e,t,n)=>{dn(e.left,t,n,e),dn(e.right,t,n,e)},uW=(e,t,n)=>{dn(e.test,t,n,e),dn(e.consequent,t,n,e),e.alternate&&dn(e.alternate,t,n,e)},b2=(e,t,n)=>{bu(e.params,t,n,e),dn(e.body,t,n,e)},lW=(e,t,n)=>{dn(e.callee,t,n,e),bu(e.arguments,t,n,e)},bu=(e,t,n,r)=>{e.forEach(i=>dn(i,t,n,r))},_rt={TemplateLiteral:(e,t,n)=>{bu(e.expressions,t,n,e),bu(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{dn(e.object,t,n,e),dn(e.property,t,n,e)},CallExpression:lW,NewExpression:lW,ArrayExpression:(e,t,n)=>{bu(e.elements,t,n,e)},AssignmentExpression:_2,AwaitExpression:Bb,BinaryExpression:_2,LogicalExpression:_2,UnaryExpression:Bb,UpdateExpression:Bb,ConditionalExpression:uW,ObjectExpression:(e,t,n)=>{bu(e.properties,t,n,e)},Property:(e,t,n)=>{dn(e.key,t,n,e),dn(e.value,t,n,e)},ArrowFunctionExpression:b2,FunctionExpression:b2,FunctionDeclaration:b2,VariableDeclaration:(e,t,n)=>{bu(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{dn(e.id,t,n,e),dn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{dn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{bu(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{dn(e.expression,t,n,e)},IfStatement:uW,ForStatement:(e,t,n)=>{dn(e.init,t,n,e),dn(e.test,t,n,e),dn(e.update,t,n,e),dn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{dn(e.test,t,n,e),dn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{dn(e.body,t,n,e),dn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{dn(e.discriminant,t,n,e),bu(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&dn(e.test,t,n,e),bu(e.consequent,t,n,e)},ReturnStatement:Bb,Program:(e,t,n)=>{dn(e.body[0],t,n,e)}};function Ble(e){delete e.start,delete e.end,delete e.optional}function cW(e){Ble(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function brt(e){return dn(e,null,{Column:cW,Constant:cW,Default:Ble}),e}function si(e,t){return t&&t.type===e}function wrt(e){return si(mZe,e)||si(pZe,e)}function Ert(e){return ar(e)?e:()=>e}const Srt="Escaped functions are not valid as rollup or pivot values.";function Trt(e,t,n){e.aggronly&&Ht(Srt);const r="(row,data)=>fn("+Aae(e.table.columnNames())+",$)";return{escape:TL.escape(r,Ert(t.expr),n)}}var xrt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ule=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Irt="-----------------------------------------------------------------------------------------------------------------------------------------------------",Vle="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",w2={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},E2="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Crt={5:E2,"5module":E2+" export import",6:E2+" const class extends export import super"},Art=/^in(stanceof)?$/,Prt=new RegExp("["+Vle+"]"),Ort=new RegExp("["+Vle+Irt+"]");function Mk(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function dc(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Prt.test(String.fromCharCode(e)):t===!1?!1:Mk(e,Ule)}function ug(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Ort.test(String.fromCharCode(e)):t===!1?!1:Mk(e,Ule)||Mk(e,xrt)}var pn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function qo(e,t){return new pn(e,{beforeExpr:!0,binop:t})}var Go={beforeExpr:!0},Ds={startsExpr:!0},TM={};function on(e,t){return t===void 0&&(t={}),t.keyword=e,TM[e]=new pn(e,t)}var j={num:new pn("num",Ds),regexp:new pn("regexp",Ds),string:new pn("string",Ds),name:new pn("name",Ds),privateId:new pn("privateId",Ds),eof:new pn("eof"),bracketL:new pn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pn("]"),braceL:new pn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pn("}"),parenL:new pn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pn(")"),comma:new pn(",",Go),semi:new pn(";",Go),colon:new pn(":",Go),dot:new pn("."),question:new pn("?",Go),questionDot:new pn("?."),arrow:new pn("=>",Go),template:new pn("template"),invalidTemplate:new pn("invalidTemplate"),ellipsis:new pn("...",Go),backQuote:new pn("`",Ds),dollarBraceL:new pn("${",{beforeExpr:!0,startsExpr:!0}),eq:new pn("=",{beforeExpr:!0,isAssign:!0}),assign:new pn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:qo("||",1),logicalAND:qo("&&",2),bitwiseOR:qo("|",3),bitwiseXOR:qo("^",4),bitwiseAND:qo("&",5),equality:qo("==/!=/===/!==",6),relational:qo("</>/<=/>=",7),bitShift:qo("<</>>/>>>",8),plusMin:new pn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:qo("%",10),star:qo("*",10),slash:qo("/",10),starstar:new pn("**",{beforeExpr:!0}),coalesce:qo("??",1),_break:on("break"),_case:on("case",Go),_catch:on("catch"),_continue:on("continue"),_debugger:on("debugger"),_default:on("default",Go),_do:on("do",{isLoop:!0,beforeExpr:!0}),_else:on("else",Go),_finally:on("finally"),_for:on("for",{isLoop:!0}),_function:on("function",Ds),_if:on("if"),_return:on("return",Go),_switch:on("switch"),_throw:on("throw",Go),_try:on("try"),_var:on("var"),_const:on("const"),_while:on("while",{isLoop:!0}),_with:on("with"),_new:on("new",{beforeExpr:!0,startsExpr:!0}),_this:on("this",Ds),_super:on("super",Ds),_class:on("class",Ds),_extends:on("extends",Go),_export:on("export"),_import:on("import",Ds),_null:on("null",Ds),_true:on("true",Ds),_false:on("false",Ds),_in:on("in",{beforeExpr:!0,binop:7}),_instanceof:on("instanceof",{beforeExpr:!0,binop:7}),_typeof:on("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:on("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:on("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ea=/\r\n?|\n|\u2028|\u2029/,Rrt=new RegExp(Ea.source,"g");function Vg(e){return e===10||e===13||e===8232||e===8233}function zle(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Vg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Hle=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,na=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Wle=Object.prototype,Nrt=Wle.hasOwnProperty,krt=Wle.toString,c1=Object.hasOwn||function(e,t){return Nrt.call(e,t)},fW=Array.isArray||function(e){return krt.call(e)==="[object Array]"},dW=Object.create(null);function lf(e){return dW[e]||(dW[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function zf(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Drt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,zv=function(t,n){this.line=t,this.column=n};zv.prototype.offset=function(t){return new zv(this.line,this.column+t)};var hA=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function qle(e,t){for(var n=1,r=0;;){var i=zle(e,r,t);if(i<0)return new zv(n,t-r);++n,r=i}}var Fk={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},hW=!1;function $rt(e){var t={};for(var n in Fk)t[n]=e&&c1(e,n)?e[n]:Fk[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!hW&&typeof console=="object"&&console.warn&&(hW=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),fW(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return fW(t.onComment)&&(t.onComment=Lrt(t,t.onComment)),t}function Lrt(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new hA(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var Hv=1,zg=2,xM=4,Gle=8,Yle=16,Kle=32,IM=64,Qle=128,f1=256,CM=Hv|zg|f1;function AM(e,t){return zg|(e?xM:0)|(t?Gle:0)}var Rx=0,PM=1,Pc=2,Xle=3,Jle=4,Zle=5,li=function(t,n,r){this.options=t=$rt(t),this.sourceFile=t.sourceFile,this.keywords=lf(Crt[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=w2[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=lf(i);var s=(i?i+" ":"")+w2.strict;this.reservedWordsStrict=lf(s),this.reservedWordsStrictBind=lf(s+" "+w2.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ea).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=j.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Hv),this.regexpState=null,this.privateNameStack=[]},El={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};li.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};El.inFunction.get=function(){return(this.currentVarScope().flags&zg)>0};El.inGenerator.get=function(){return(this.currentVarScope().flags&Gle)>0&&!this.currentVarScope().inClassFieldInit};El.inAsync.get=function(){return(this.currentVarScope().flags&xM)>0&&!this.currentVarScope().inClassFieldInit};El.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&f1)return!1;if(t.flags&zg)return(t.flags&xM)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};El.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&IM)>0||n||this.options.allowSuperOutsideMethod};El.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Qle)>0};El.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};El.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(zg|f1))>0||n};El.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&f1)>0};li.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};li.parse=function(t,n){return new this(n,t).parse()};li.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};li.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(li.prototype,El);var Ps=li.prototype,Mrt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ps.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){na.lastIndex=e,e+=na.exec(this.input)[0].length;var t=Mrt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){na.lastIndex=e+t[0].length;var n=na.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Ea.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,na.lastIndex=e,e+=na.exec(this.input)[0].length,this.input[e]===";"&&e++}};Ps.eat=function(e){return this.type===e?(this.next(),!0):!1};Ps.isContextual=function(e){return this.type===j.name&&this.value===e&&!this.containsEsc};Ps.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Ps.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Ps.canInsertSemicolon=function(){return this.type===j.eof||this.type===j.braceR||Ea.test(this.input.slice(this.lastTokEnd,this.start))};Ps.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ps.semicolon=function(){!this.eat(j.semi)&&!this.insertSemicolon()&&this.unexpected()};Ps.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Ps.expect=function(e){this.eat(e)||this.unexpected()};Ps.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var pA=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ps.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Ps.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Ps.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ps.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var ft=li.prototype;ft.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==j.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var OM={kind:"loop"},Frt={kind:"switch"};ft.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;na.lastIndex=this.pos;var t=na.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(dc(r,!0)){for(var i=n+1;ug(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Art.test(s))return!0}return!1};ft.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;na.lastIndex=this.pos;var e=na.exec(this.input),t=this.pos+e[0].length,n;return!Ea.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(ug(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};ft.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=j._var,s="let"),r){case j._break:case j._continue:return this.parseBreakContinueStatement(i,r.keyword);case j._debugger:return this.parseDebuggerStatement(i);case j._do:return this.parseDoStatement(i);case j._for:return this.parseForStatement(i);case j._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case j._class:return e&&this.unexpected(),this.parseClass(i,!0);case j._if:return this.parseIfStatement(i);case j._return:return this.parseReturnStatement(i);case j._switch:return this.parseSwitchStatement(i);case j._throw:return this.parseThrowStatement(i);case j._try:return this.parseTryStatement(i);case j._const:case j._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case j._while:return this.parseWhileStatement(i);case j._with:return this.parseWithStatement(i);case j.braceL:return this.parseBlock(!0,i);case j.semi:return this.parseEmptyStatement(i);case j._export:case j._import:if(this.options.ecmaVersion>10&&r===j._import){na.lastIndex=this.pos;var o=na.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===j._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===j.name&&c.type==="Identifier"&&this.eat(j.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};ft.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(j.semi)||this.insertSemicolon()?e.label=null:this.type!==j.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};ft.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};ft.parseDoStatement=function(e){return this.next(),this.labels.push(OM),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(j._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(j.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};ft.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(OM),this.enterScope(0),this.expect(j.parenL),this.type===j.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===j._var||this.type===j._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new pA,u=this.parseExpression(t>-1?"await":!0,a);return this.type===j._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};ft.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,zy|(n?0:jk),!1,t)};ft.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(j._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};ft.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(j.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};ft.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(j.braceL),this.labels.push(Frt),this.enterScope(0);for(var t,n=!1;this.type!==j.braceR;)if(this.type===j._case||this.type===j._default){var r=this.type===j._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(j.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};ft.parseThrowStatement=function(e){return this.next(),Ea.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var jrt=[];ft.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Kle:0),this.checkLValPattern(e,t?Jle:Pc),this.expect(j.parenR),e};ft.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===j._catch){var t=this.startNode();this.next(),this.eat(j.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(j._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};ft.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};ft.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(OM),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};ft.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};ft.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};ft.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===j._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};ft.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};ft.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(j.braceL),e&&this.enterScope(0);this.type!==j.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};ft.parseFor=function(e,t){return e.init=t,this.expect(j.semi),e.test=this.type===j.semi?null:this.parseExpression(),this.expect(j.semi),e.update=this.type===j.parenR?null:this.parseExpression(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};ft.parseForIn=function(e,t){var n=this.type===j._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};ft.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(j.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===j._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(j.comma))break}return e};ft.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?PM:Pc,!1)};var zy=1,jk=2,ece=4;ft.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===j.star&&t&jk&&this.unexpected(),e.generator=this.eat(j.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&zy&&(e.id=t&ece&&this.type!==j.name?null:this.parseIdent(),e.id&&!(t&jk)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?PM:Pc:Xle));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(AM(e.async,e.generator)),t&zy||(e.id=this.type===j.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&zy?"FunctionDeclaration":"FunctionExpression")};ft.parseFunctionParams=function(e){this.expect(j.parenL),e.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ft.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(j.braceL);this.type!==j.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&Brt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};ft.parseClassElement=function(e){if(this.eat(j.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(j.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===j.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===j.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(j.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===j.parenL||o!=="method"||i||s){var l=!n.static&&Nx(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};ft.isClassElementNameStart=function(){return this.type===j.name||this.type===j.privateId||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword};ft.parseClassElementName=function(e){this.type===j.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};ft.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&Nx(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};ft.parseClassField=function(e){if(Nx(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Nx(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(j.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};ft.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(f1|IM);this.type!==j.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};ft.parseClassId=function(e,t){this.type===j.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Pc,!1)):(t===!0&&this.unexpected(),e.id=null)};ft.parseClassSuper=function(e){e.superClass=this.eat(j._extends)?this.parseExprSubscripts(null,!1):null};ft.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};ft.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];c1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function Brt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function Nx(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}ft.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};ft.parseExport=function(e,t){if(this.next(),this.eat(j.star))return this.parseExportAllDeclaration(e,t);if(this.eat(j._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};ft.parseExportDeclaration=function(e){return this.parseStatement(null)};ft.parseExportDefaultDeclaration=function(){var e;if(this.type===j._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,zy|ece,!1,e)}else if(this.type===j._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};ft.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),c1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};ft.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};ft.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};ft.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ft.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};ft.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(j.braceL);!this.eat(j.braceR);){if(n)n=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;t.push(this.parseExportSpecifier(e))}return t};ft.parseImport=function(e){return this.next(),this.type===j.string?(e.specifiers=jrt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===j.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};ft.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Pc),this.finishNode(e,"ImportSpecifier")};ft.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Pc),this.finishNode(e,"ImportDefaultSpecifier")};ft.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Pc),this.finishNode(e,"ImportNamespaceSpecifier")};ft.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===j.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(j.comma)))return e;if(this.type===j.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(j.braceL);!this.eat(j.braceR);){if(t)t=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;e.push(this.parseImportSpecifier())}return e};ft.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===j.string){var e=this.parseLiteral(this.value);return Drt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};ft.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};ft.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Sa=li.prototype;Sa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Sa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};Sa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Sa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==j.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Sa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case j.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(j.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case j.braceL:return this.parseObj(!0)}return this.parseIdent()};Sa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(j.comma),t&&this.type===j.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===j.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Sa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Sa.parseBindingListItem=function(e){return e};Sa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(j.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Sa.checkLValSimple=function(e,t,n){t===void 0&&(t=Rx);var r=t!==Rx;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Pc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(c1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Zle&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Sa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=Rx),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};Sa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=Rx),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Aa=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},mr={b_stat:new Aa("{",!1),b_expr:new Aa("{",!0),b_tmpl:new Aa("${",!1),p_stat:new Aa("(",!1),p_expr:new Aa("(",!0),q_tmpl:new Aa("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Aa("function",!1),f_expr:new Aa("function",!0),f_expr_gen:new Aa("function",!0,!1,null,!0),f_gen:new Aa("function",!1,!1,null,!0)},Hg=li.prototype;Hg.initialContext=function(){return[mr.b_stat]};Hg.curContext=function(){return this.context[this.context.length-1]};Hg.braceIsBlock=function(e){var t=this.curContext();return t===mr.f_expr||t===mr.f_stat?!0:e===j.colon&&(t===mr.b_stat||t===mr.b_expr)?!t.isExpr:e===j._return||e===j.name&&this.exprAllowed?Ea.test(this.input.slice(this.lastTokEnd,this.start)):e===j._else||e===j.semi||e===j.eof||e===j.parenR||e===j.arrow?!0:e===j.braceL?t===mr.b_stat:e===j._var||e===j._const||e===j.name?!1:!this.exprAllowed};Hg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Hg.updateContext=function(e){var t,n=this.type;n.keyword&&e===j.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};Hg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};j.parenR.updateContext=j.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===mr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};j.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?mr.b_stat:mr.b_expr),this.exprAllowed=!0};j.dollarBraceL.updateContext=function(){this.context.push(mr.b_tmpl),this.exprAllowed=!0};j.parenL.updateContext=function(e){var t=e===j._if||e===j._for||e===j._with||e===j._while;this.context.push(t?mr.p_stat:mr.p_expr),this.exprAllowed=!0};j.incDec.updateContext=function(){};j._function.updateContext=j._class.updateContext=function(e){e.beforeExpr&&e!==j._else&&!(e===j.semi&&this.curContext()!==mr.p_stat)&&!(e===j._return&&Ea.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===j.colon||e===j.braceL)&&this.curContext()===mr.b_stat)?this.context.push(mr.f_expr):this.context.push(mr.f_stat),this.exprAllowed=!1};j.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};j.backQuote.updateContext=function(){this.curContext()===mr.q_tmpl?this.context.pop():this.context.push(mr.q_tmpl),this.exprAllowed=!1};j.star.updateContext=function(e){if(e===j._function){var t=this.context.length-1;this.context[t]===mr.f_expr?this.context[t]=mr.f_expr_gen:this.context[t]=mr.f_gen}this.exprAllowed=!0};j.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==j.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Nt=li.prototype;Nt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};Nt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===j.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(j.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};Nt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new pA,r=!0);var a=this.start,u=this.startLoc;(this.type===j.parenL||this.type===j.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===j.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===j.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};Nt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(j.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(j.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};Nt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};Nt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==j._in)&&s>r){var o=this.type===j.logicalOR||this.type===j.logicalAND,a=this.type===j.coalesce;a&&(s=j.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===j.coalesce||a&&(this.type===j.logicalOR||this.type===j.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};Nt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Nt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===j.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&tce(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===j.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==j._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(j.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function tce(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&tce(e.expression)}Nt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};Nt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};Nt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(j.arrow)};Nt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};Nt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(j.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(j.bracketL);if(l||u&&this.type!==j.parenL&&this.type!==j.backQuote||this.eat(j.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(j.bracketR)):this.type===j.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(j.parenL)){var f=new pA,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===j.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};Nt.parseExprAtom=function(e,t,n){this.type===j.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case j._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===j.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==j.dot&&this.type!==j.bracketL&&this.type!==j.parenL&&this.unexpected(),this.finishNode(r,"Super");case j._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case j.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(j._function))return this.overrideContext(mr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(j.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===j.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(j.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case j.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case j.num:case j.string:return this.parseLiteral(this.value);case j._null:case j._true:case j._false:return r=this.startNode(),r.value=this.type===j._null?null:this.type===j._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case j.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case j.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(j.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case j.braceL:return this.overrideContext(mr.b_expr),this.parseObj(!1,e);case j._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case j._class:return this.parseClass(this.startNode(),!1);case j._new:return this.parseNew();case j.backQuote:return this.parseTemplate();case j._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Nt.parseExprAtomDefault=function(){this.unexpected()};Nt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===j.parenL&&!e)return this.parseDynamicImport(t);if(this.type===j.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Nt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(j.parenR)){var t=this.start;this.eat(j.comma)&&this.eat(j.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Nt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Nt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Nt.parseParenExpression=function(){this.expect(j.parenL);var e=this.parseExpression();return this.expect(j.parenR),e};Nt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Nt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new pA,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==j.parenR;)if(l?l=!1:this.expect(j.comma),s&&this.afterTrailingComma(j.parenR,!0)){c=!0;break}else if(this.type===j.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(j.parenR),e&&this.shouldParseArrow(u)&&this.eat(j.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};Nt.parseParenItem=function(e){return e};Nt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Urt=[];Nt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===j.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(j.parenL)?e.arguments=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Urt,this.finishNode(e,"NewExpression")};Nt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===j.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===j.backQuote,this.finishNode(n,"TemplateElement")};Nt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===j.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(j.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(j.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};Nt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===j.name||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===j.star)&&!Ea.test(this.input.slice(this.lastTokEnd,this.start))};Nt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(j.braceR);){if(r)r=!1;else if(this.expect(j.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(j.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};Nt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(j.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===j.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(j.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(j.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};Nt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Nt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===j.colon&&this.unexpected(),this.eat(j.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===j.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==j.comma&&this.type!==j.braceR&&this.type!==j.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===j.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};Nt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(j.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(j.bracketR),e.key;e.computed=!1}return e.key=this.type===j.num||this.type===j.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Nt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Nt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(AM(t,r.generator)|IM|(n?Qle:0)),this.expect(j.parenL),r.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};Nt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(AM(n,!1)|Yle),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};Nt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==j.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Zle),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};Nt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};Nt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,PM,t?null:n)}};Nt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(j.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===j.comma?o=null:this.type===j.ellipsis?(o=this.parseSpread(r),r&&this.type===j.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};Nt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};Nt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Nt.parseIdentNode=function(){var e=this.startNode();return this.type===j.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=j.name):this.unexpected(),e};Nt.parsePrivateIdent=function(){var e=this.startNode();return this.type===j.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Nt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===j.semi||this.canInsertSemicolon()||this.type!==j.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(j.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Nt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var kx=li.prototype;kx.raise=function(e,t){var n=qle(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};kx.raiseRecoverable=kx.raise;kx.curPosition=function(){if(this.options.locations)return new zv(this.curLine,this.pos-this.lineStart)};var ad=li.prototype,Vrt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};ad.enterScope=function(e){this.scopeStack.push(new Vrt(e))};ad.exitScope=function(){this.scopeStack.pop()};ad.treatFunctionsAsVarInScope=function(e){return e.flags&zg||!this.inModule&&e.flags&Hv};ad.declareName=function(e,t,n){var r=!1;if(t===Pc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&Hv&&delete this.undefinedExports[e]}else if(t===Jle){var s=this.currentScope();s.lexical.push(e)}else if(t===Xle){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Kle&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&Hv&&delete this.undefinedExports[e],u.flags&CM)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};ad.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};ad.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ad.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&CM)return t}};ad.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&CM&&!(t.flags&Yle))return t}};var mA=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new hA(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},d1=li.prototype;d1.startNode=function(){return new mA(this,this.start,this.startLoc)};d1.startNodeAt=function(e,t){return new mA(this,e,t)};function nce(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}d1.finishNode=function(e,t){return nce.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};d1.finishNodeAt=function(e,t,n,r){return nce.call(this,e,t,n,r)};d1.copyNode=function(e){var t=new mA(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var rce="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ice=rce+" Extended_Pictographic",sce=ice,oce=sce+" EBase EComp EMod EPres ExtPict",ace=oce,zrt=ace,Hrt={9:rce,10:ice,11:sce,12:oce,13:ace,14:zrt},Wrt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",qrt={9:"",10:"",11:"",12:"",13:"",14:Wrt},pW="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",uce="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",lce=uce+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",cce=lce+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",fce=cce+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",dce=fce+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Grt=dce+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Yrt={9:uce,10:lce,11:cce,12:fce,13:dce,14:Grt},hce={};function Krt(e){var t=hce[e]={binary:lf(Hrt[e]+" "+pW),binaryOfStrings:lf(qrt[e]),nonBinary:{General_Category:lf(pW),Script:lf(Yrt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var S2=0,mW=[9,10,11,12,13,14];S2<mW.length;S2+=1){var Qrt=mW[S2];Krt(Qrt)}var nt=li.prototype,Sl=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=hce[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Sl.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Sl.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Sl.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Sl.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Sl.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Sl.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Sl.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Sl.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Sl.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};nt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};nt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};nt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};nt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};nt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};nt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};nt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};nt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};nt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};nt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};nt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};nt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};nt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};nt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};nt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};nt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};nt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return pce(t)?(e.lastIntValue=t,e.advance(),!0):!1};function pce(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}nt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!pce(n);)e.advance();return e.pos!==t};nt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};nt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};nt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};nt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=zf(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=zf(e.lastIntValue);return!0}return!1};nt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Xrt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Xrt(e){return dc(e,!0)||e===36||e===95}nt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Jrt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Jrt(e){return ug(e,!0)||e===36||e===95||e===8204||e===8205}nt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};nt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};nt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};nt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};nt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};nt.regexp_eatZero=function(e){return e.current()===48&&!gA(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};nt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};nt.regexp_eatControlLetter=function(e){var t=e.current();return mce(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function mce(e){return e>=65&&e<=90||e>=97&&e<=122}nt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&Zrt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function Zrt(e){return e>=0&&e<=1114111}nt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};nt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var gce=0,hc=1,ra=2;nt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(eit(t))return e.lastIntValue=-1,e.advance(),hc;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ra&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return gce};function eit(e){return e===100||e===68||e===115||e===83||e===119||e===87}nt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),hc}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return gce};nt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){c1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};nt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return hc;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ra;e.raise("Invalid property name")};nt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";yce(t=e.current());)e.lastStringValue+=zf(t),e.advance();return e.lastStringValue!==""};function yce(e){return mce(e)||e===95}nt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";tit(t=e.current());)e.lastStringValue+=zf(t),e.advance();return e.lastStringValue!==""};function tit(e){return yce(e)||gA(e)}nt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};nt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ra&&e.raise("Negated character class may contain strings"),!0}return!1};nt.regexp_classContents=function(e){return e.current()===93?hc:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),hc)};nt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};nt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||bce(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};nt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};nt.regexp_classSetExpression=function(e){var t=hc,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ra&&(t=ra);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ra&&(t=hc);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ra&&(t=ra)}};nt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};nt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?hc:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};nt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ra&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};nt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};nt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ra&&(t=ra);return t};nt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?hc:ra};nt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&nit(n)||rit(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function nit(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function rit(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}nt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return iit(t)?(e.lastIntValue=t,e.advance(),!0):!1};function iit(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}nt.regexp_eatClassControlLetter=function(e){var t=e.current();return gA(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};nt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};nt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;gA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function gA(e){return e>=48&&e<=57}nt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;vce(n=e.current());)e.lastIntValue=16*e.lastIntValue+_ce(n),e.advance();return e.pos!==t};function vce(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function _ce(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}nt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};nt.regexp_eatOctalDigit=function(e){var t=e.current();return bce(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function bce(e){return e>=48&&e<=55}nt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!vce(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+_ce(i),e.advance()}return!0};var RM=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new hA(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},rn=li.prototype;rn.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new RM(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};rn.getToken=function(){return this.next(),new RM(this)};typeof Symbol<"u"&&(rn[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===j.eof,value:t}}}});rn.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(j.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};rn.readToken=function(e){return dc(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};rn.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};rn.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=zle(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};rn.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Vg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};rn.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Hle.test(String.fromCharCode(e)))++this.pos;else break e}}};rn.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};rn.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(j.ellipsis)):(++this.pos,this.finishToken(j.dot))};rn.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(j.assign,2):this.finishOp(j.slash,1)};rn.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?j.star:j.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=j.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(j.assign,n+1):this.finishOp(r,n)};rn.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(j.assign,3)}return this.finishOp(e===124?j.logicalOR:j.logicalAND,2)}return t===61?this.finishOp(j.assign,2):this.finishOp(e===124?j.bitwiseOR:j.bitwiseAND,1)};rn.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(j.assign,2):this.finishOp(j.bitwiseXOR,1)};rn.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ea.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(j.incDec,2):t===61?this.finishOp(j.assign,2):this.finishOp(j.plusMin,1)};rn.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(j.assign,n+1):this.finishOp(j.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(j.relational,n))};rn.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(j.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(j.arrow)):this.finishOp(e===61?j.eq:j.prefix,1)};rn.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(j.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(j.assign,3)}return this.finishOp(j.coalesce,2)}}return this.finishOp(j.question,1)};rn.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),dc(t,!0)||t===92))return this.finishToken(j.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+zf(t)+"'")};rn.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(j.parenL);case 41:return++this.pos,this.finishToken(j.parenR);case 59:return++this.pos,this.finishToken(j.semi);case 44:return++this.pos,this.finishToken(j.comma);case 91:return++this.pos,this.finishToken(j.bracketL);case 93:return++this.pos,this.finishToken(j.bracketR);case 123:return++this.pos,this.finishToken(j.braceL);case 125:return++this.pos,this.finishToken(j.braceR);case 58:return++this.pos,this.finishToken(j.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(j.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(j.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+zf(e)+"'")};rn.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};rn.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Ea.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Sl(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(j.regexp,{pattern:i,flags:o,value:u})};rn.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function sit(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function wce(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}rn.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=wce(this.input.slice(t,this.pos)),++this.pos):dc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,n)};rn.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=wce(this.input.slice(t,this.pos));return++this.pos,dc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),dc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=sit(this.input.slice(t,this.pos),n);return this.finishToken(j.num,s)};rn.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};rn.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Vg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(j.string,t)};var Ece={};rn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Ece)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};rn.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ece;this.raise(e,t)};rn.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===j.template||this.type===j.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(j.dollarBraceL)):(++this.pos,this.finishToken(j.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(j.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Vg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};rn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(j.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};rn.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return zf(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Vg(t)?"":String.fromCharCode(t)}};rn.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};rn.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(ug(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?dc:ug)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=zf(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};rn.readWord=function(){var e=this.readWord1(),t=j.name;return this.keywords.test(e)&&(t=TM[e]),this.finishToken(t,e)};var oit="8.11.3";li.acorn={Parser:li,version:oit,defaultOptions:Fk,Position:zv,SourceLocation:hA,getLineInfo:qle,Node:mA,TokenType:pn,tokTypes:j,keywordTypes:TM,TokContext:Aa,tokContexts:mr,isIdentifierChar:ug,isIdentifierStart:dc,Token:RM,isNewLine:Vg,lineBreak:Ea,lineBreakG:Rrt,nonASCIIwhitespace:Hle};function ait(e,t){return li.parse(e,t)}const NM={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},uit={ecmaVersion:11},gW="$",lit="d",cit="d1",fit="d2",Oi=e=>(t,n)=>n.error(t,e+" not allowed"),dit=Oi("Aggregate function"),hit=Oi("Window function"),pit="Invalid argument",kM="Invalid column reference",mit=kM+" (must be input to an aggregate function)",Sce="Invalid function call",git="Invalid member expression",yit="Invalid operator parameter",vit="Invalid param reference",_it="Invalid variable reference",bit="Variable not accessible in operator call",wit="Unsupported variable declaration",Eit="Unsupported destructuring pattern",Tce="Table expressions do not support closures",xce="Use aq.escape(fn) to use a function as-is (including closures)",Sit="use table.params({ name: value }) to define dynamic parameters",Tit="use aq.addFunction(name, fn) to add new op functions",xit=`
Note: ${Tce}. ${xce}, or ${Sit}.`,Ice=`
Note: ${Tce}. ${xce}, or ${Tit}.`,Iit=`The ${Iae} method is not valid in multi-table expressions.`;function Cit(e,t){const n=Ait(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,wrt(r)?(Oit(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=cit),e.scope.add(e.tuple2=fit),e.scope.add(e.$param=gW)):(e.scope.add(e.tuple=lit),e.scope.add(e.$param=gW)),dn(r,e,DM),e.root}function Ait(e){try{const t=e.field?Pit(e):_n(e)?ul(e):e;return ait(`expr=(${t})`,uit).body[0].expression.right}catch{Ht(`Expression parse error: ${e+""}`)}}function Pit(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const DM={FunctionDeclaration:Oi("Function definitions"),ForStatement:Oi("For loops"),ForOfStatement:Oi("For-of loops"),ForInStatement:Oi("For-in loops"),WhileStatement:Oi("While loops"),DoWhileStatement:Oi("Do-while loops"),AwaitExpression:Oi("Await expressions"),ArrowFunctionExpression:Oi("Function definitions"),AssignmentExpression:Oi("Assignments"),FunctionExpression:Oi("Function definitions"),NewExpression:Oi('Use of "new"'),UpdateExpression:Oi("Update expressions"),VariableDeclarator(e,t){Vk(e.id,t)},Identifier(e,t,n){Pce(e,t,n)&&!t.scope.has(e.name)&&t.error(e,_it,xit)},CallExpression(e,t){const n=Cce(e.callee),r=Sae(n)||Tae(n);if(r){if((t.join||t.aggregate===!1)&&EL(n)&&dit(e,t),(t.join||t.window===!1)&&SL(n)&&hit(e,t),t.$op=1,t.ast)Uk(e,n,t),e.arguments.forEach(i=>dn(i,t,Bk));else{const i=t.op(Rit(t,r,n,e.arguments));Object.assign(e,{type:vae,name:i.id})}return t.$op=0,!1}else Eae(n)?Uk(e,n,t):t.error(e,Sce,Ice)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!si(Tf,r))return;const{name:s}=r;if(Ace(e)&&si(Tf,i)&&Za(NM,i.name)){Nce(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return yW(e,o,t,Oce,n);if(s===t.$param)return yW(e,o,t,kit);t.paramsRef.has(s)?Wv(e,t.paramsRef.get(s)):t.columnRef.has(s)?Rce(r,s,t,e):Za(t.params,s)&&Wv(r,s)}};function yW(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(si(Mg,s))a=s.value;else try{dn(s,n,DM,e),a=n.param(s)}catch{n.error(e,git)}return r(e,a,t,n,i),!1}const Bk={...DM,VariableDeclarator:Oi("Variable declaration in operator call"),Identifier(e,t,n){Pce(e,t,n)&&t.error(e,bit)},CallExpression(e,t){const n=Cce(e.callee);Eae(n)?Uk(e,n,t):t.error(e,Sce,Ice)}};function Oit(e,t){e.generator&&Oi("Generator functions")(e,t),e.async&&Oi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(j0(t,n[0],"tuple1",i(1)),r>1&&j0(t,n[1],"tuple2",i(2)),r>2&&j0(t,n[2],"$param",s)):(j0(t,n[0],"tuple",i(0)),r>1&&j0(t,n[1],"$param",s))),t.root=e.body}function j0(e,t,n,r){si(Tf,t)?(e.scope.add(t.name),e[n]=t.name):si(gae,t)&&t.properties.forEach(i=>{const s=si(Tf,i.key)?i.key.name:si(Mg,i.key)?i.key.value:e.error(i,pit);si(Tf,i.value)||e.error(i.value,Eit),r(i.value.name,s)})}function Rit(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(dn(u,e,Bk),i.push(e.field(u))):l<a?(dn(u,e,Bk),s.push(e.param(u))):e.error(u,yit)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Cce(e){return si(Tf,e)?e.name:si(mae,e)?Ace(e)?Nit(e.property.name):e.property.name:null}function Ace(e){return si(Tf,e.object)&&e.object.name==="Math"}function Nit(e){return e==="max"?"greatest":e==="min"?"least":e}function Pce(e,t,n){const{name:r}=e;if(!(si(mae,n)&&n.property===e)){if(!(si(yae,n)&&n.key===e))if(t.paramsRef.has(r))Wv(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Rce(e,r,t,n);else if(Za(t.params,r))Wv(e,r);else if(Za(NM,r))Nce(e,r);else return!0}}function Oce(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,kM),r.aggronly&&!r.$op&&r.error(e,mit),xae(e,t,n,o,i)}function Rce(e,t,n,r){const[i,s]=n.columnRef.get(t);Oce(e,i,s,n,r)}function kit(e,t,n,r){r.params&&!Za(r.params,t)&&r.error(e,vit),Wv(e,t)}function Wv(e,t){e.type=bZe,e.name=t}function Nce(e,t){e.type=yZe,e.name=t,e.raw=NM[t]}function Uk(e,t,n){if(t===Iae){const r=n.table;r||n.error(e,Iit),Cae(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Ts(s)?r.columnName(s):s;return r.column(o)||n.error(i,kM),o}):r.columnNames())}else e.callee={type:_Ze,name:t}}function Vk(e,t){si(Tf,e)?t.scope.add(e.name):si(hZe,e)?e.elements.forEach(n=>Vk(n,t)):si(gae,e)?e.properties.forEach(n=>Vk(n.value,t)):t.error(e.id,wit)}const Dit={[i1]:1,[vae]:1};function fo(e,t={}){const n=t.generate||fx,r=t.compiler||TL,i=Lit(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=$it(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return si(Mg,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?brt(y):f(n(y),i));u.push(g),Dit[y.type]&&g!==y&&cs(g)&&(g.field=y.name)},error(m,y,g=""){const v=m.start-6,_=m.end-6,S=String(d.spec).slice(v,_);Ht(`${y}: "${S}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of ZC(e))d.value(m+"",y.escape?Trt(d,y,i):Cit(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function $it(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function Lit(e){return(e.table?T2(e.table):e.join?{...T2(e.join[1]),...T2(e.join[0])}:{})||{}}function T2(e){return e&&ar(e.params)?e.params():{}}const kce="Expr",Pa="ExprList",Dce="ExprNumber",oy="ExprObject",Yp="JoinKeys",Dx="JoinValues",Ko="Options",$M="OrderKeys",zc="SelectionList",Dd="TableRef",Kp="TableRefList",Mit="Descending",Fit="Query",jit="Selection",Bit="Verb",Uit="Window";function yA(e,t){return e&&e.expr?new vW({...e,...t}):new vW(t,e)}class vW{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...ar(this.expr)?{func:!0}:{}}}}function Vit(e){return yA(e,{desc:!0})}function Ah(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return yA(e,t?{expr:t,...r}:r)}function zit(e,t,n){return yA(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function Hit(e){const t=n=>n;return t.toString=()=>e,t}function _W(e,t){return t=t&&ar(t.query)?t.query():t,t&&ar(t.evaluate)?t.evaluate(null,e):e(t)}function $ce(e){return cs(e)&&(_n(e.all)||_n(e.matches)||_n(e.not)||_n(e.range))}function qv(e){return e&&ar(e.toObject)?e.toObject():ar(e)?{expr:String(e),func:!0}:_n(e)?e.map(qv):cs(e)?fA(e,t=>qv(t)):e}function LM(e){return _n(e)?e.map(LM):cs(e)?_n(e.verbs)?FM.from(e):_n(e.all)?ag():_n(e.range)?mrt(...e.range):_n(e.match)?grt(RegExp(...e.match)):_n(e.not)?jle(e.not.map(qv)):Wit(e):e}function Wit(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Ah(n):e.func===!0&&(t=n=Hit(n)),cs(e.window)){const{frame:r,peers:i}=e.window;t=n=zit(n,r,i)}e.desc===!0&&(t=Vit(n))}return e===t?fA(e,r=>LM(r)):t}function qit(e){return _n(e)?e.map(Git):e}function Git(e){const t=[];return uo(e).forEach(n=>{Ts(n)?t.push(n):zi(n)?t.push(Ah(n,null)):cs(n)&&n.expr||ar(n)?t.push(n):Ht(`Invalid key value: ${n+""}`)}),t}function Yit(e){return _n(e)?e.map(Kit):e}function Kit(e,t){return t<2?uo(e):e}function Qit(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(cs(r)&&!ar(r))for(const i in r)t.push(r[i]);else n=Ts(r)?r:zi(r)?Ah(n):ar(r)?n:Ht(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Xit={[kce]:jce,[Pa]:lg,[Dce]:rst,[oy]:Hf,[Yp]:ist,[Dx]:sst,[$M]:lg,[zc]:tst};function Jit(e,t,n){return t===Dd?bW(e):t===Kp?e.map(bW):Lce(qv(e),t,n)}function Lce(e,t,n){return t===Ko?e&&Zit(e,n):Xit[t](e)}function Zit(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Lce(i,t[r]):i}return n}function est(e,t){return fo({expr:e},{...t,ast:!0}).exprs[0]}function MM(e){return{type:i1,name:e}}function Mce(e){return{type:i1,index:e}}function Hf(e,t){if(zi(e))return est(e,t);if(e.expr){let n;if(e.field===!0?n=MM(e.expr):e.func===!0&&(n=Hf(e.expr,t)),n)return e.desc&&(n={type:Mit,expr:n}),e.window&&(n={type:Uit,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Hf(e[n],t),as:n}))}function Fce(e){const t=jit;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:lg(e.not)}:e.range?{type:t,operator:"range",arguments:lg(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Ht("Invalid input")}function tst(e){return uo(e).map(nst).flat()}function nst(e){return $ce(e)?Fce(e):Ts(e)?Mce(e):zi(e)?MM(e):cs(e)?Object.keys(e).map(t=>({type:i1,name:t,as:e[t]})):Ht("Invalid input")}function jce(e){return $ce(e)?Fce(e):Ts(e)?Mce(e):zi(e)?MM(e):cs(e)?Hf(e):Ht("Invalid input")}function lg(e){return uo(e).map(jce).flat()}function rst(e){return Ts(e)?e:Hf(e)}function ist(e){return _n(e)?e.map(lg):Hf(e,{join:!0})}function sst(e){return _n(e)?e.map((t,n)=>n<2?lg(t):Hf(t,{join:!0})):Hf(e,{join:!0})}function bW(e){return e&&ar(e.toAST)?e.toAST():e}class Bce{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===Yp?qit(a):o===Dx?Yit(a):o===$M?Qit(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=zk[t.verb],r=(n.schema||[]).map(({name:i})=>LM(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Dd?_W(n,o):s===Kp?o.map(a=>_W(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=qv(this[n])}),t}toAST(){const t={type:Bit,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=Jit(this[n],r,i)}),t}}function Bn(e,t){return Object.assign((...n)=>new Bce(e,t,n),{schema:t})}const zk={count:Bn("count",[{name:"options",type:Ko}]),derive:Bn("derive",[{name:"values",type:oy},{name:"options",type:Ko,props:{before:zc,after:zc}}]),filter:Bn("filter",[{name:"criteria",type:oy}]),groupby:Bn("groupby",[{name:"keys",type:Pa}]),orderby:Bn("orderby",[{name:"keys",type:$M}]),relocate:Bn("relocate",[{name:"columns",type:zc},{name:"options",type:Ko,props:{before:zc,after:zc}}]),rename:Bn("rename",[{name:"columns",type:zc}]),rollup:Bn("rollup",[{name:"values",type:oy}]),sample:Bn("sample",[{name:"size",type:Dce},{name:"options",type:Ko,props:{weight:kce}}]),select:Bn("select",[{name:"columns",type:zc}]),ungroup:Bn("ungroup"),unorder:Bn("unorder"),reify:Bn("reify"),dedupe:Bn("dedupe",[{name:"keys",type:Pa,default:[]}]),impute:Bn("impute",[{name:"values",type:oy},{name:"options",type:Ko,props:{expand:Pa}}]),fold:Bn("fold",[{name:"values",type:Pa},{name:"options",type:Ko}]),pivot:Bn("pivot",[{name:"keys",type:Pa},{name:"values",type:Pa},{name:"options",type:Ko}]),spread:Bn("spread",[{name:"values",type:Pa},{name:"options",type:Ko}]),unroll:Bn("unroll",[{name:"values",type:Pa},{name:"options",type:Ko,props:{drop:Pa}}]),lookup:Bn("lookup",[{name:"table",type:Dd},{name:"on",type:Yp},{name:"values",type:Pa}]),join:Bn("join",[{name:"table",type:Dd},{name:"on",type:Yp},{name:"values",type:Dx},{name:"options",type:Ko}]),cross:Bn("cross",[{name:"table",type:Dd},{name:"values",type:Dx},{name:"options",type:Ko}]),semijoin:Bn("semijoin",[{name:"table",type:Dd},{name:"on",type:Yp}]),antijoin:Bn("antijoin",[{name:"table",type:Dd},{name:"on",type:Yp}]),concat:Bn("concat",[{name:"tables",type:Kp}]),union:Bn("union",[{name:"tables",type:Kp}]),intersect:Bn("intersect",[{name:"tables",type:Kp}]),except:Bn("except",[{name:"tables",type:Kp}])};let FM=class Uce extends nae{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Uce(t.map(Bce.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return wW(this,"toObject")}toJSON(){return this.toObject()}toAST(){return wW(this,"toAST",{type:Fit})}};function wW(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function ost(e,t){return new FM(e._verbs.concat(t),e._params,e._table)}for(const e in zk){const t=zk[e];FM.prototype["__"+e]=function(n,...r){return ost(n,t(...r))}}function Wg(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function ast(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function jM(e,t){const n=Ho();return t.forEach((r,i)=>{const s=zi(r)?r:i;if(s){const o=e.column(i)||Ht(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Vce(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Ht("relocate requires a before or after option."),i&&s&&Ht("relocate accepts only one of the before or after options."),t=fc(e,t);const o=[...fc(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),jM(e,u)}function h1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function BM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ust(e,t=0,n=e.length){let r=n?e[t++]:mn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function lst(e,t=0,n=e.length){let r=n?e[t++]:mn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function Ub(e){return Lv(e)?e:+e}function cst(e,t){const n=e.length;if(!n)return mn;if((t=+t)<=0||n<2)return Ub(e[0]);if(t>=1)return Ub(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=Ub(e[i]);return Lv(s)?s:s+(Ub(e[i+1])-s)*(r-i)}class fst{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:ust(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:lst(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(BM)),cst(this._sorted,t)}}const $x=(e,t,n)=>Wg(t,"{"+h1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function dst(e,t){const{ops:n,output:r}=hst(e,t),i=e[0].fields,s=i.length,o=s===0?UM:s===1?pst:s===2?mst:Ht("Unsupported field count: "+s);return new o(i,n,r,t)}function hst(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=Sae(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class UM extends vrt{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new fst),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class pst extends UM{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=$x(n,s,"add"),this._rem=$x(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Ua(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Ua(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class mst extends UM{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=$x(n,s,"add"),this._rem=$x(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Ua(i)&&Ua(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Ua(i)&&Ua(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function Xh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=qg(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function qg(e,t,n){if(!t.length)return n;const r=zce(t),i=e.groups(),s=i?i.size:1;return n=n||XC(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Wce(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Hce(e,o);o.write(a,n,0)}),n}function zce(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(dst(r[i],t));return n}function Hce(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Wce(e,t,n){const{keys:r,size:i}=n,s=XC(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function qce(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Gce(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const EW=Gce(BM);function gst(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?Wg(["w","r","k"],"{"+h1(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,v){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,v=p.size,_=p.i0,S=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(v,m+Math.abs(g)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=EW.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=EW.right(o,o[p.i1-1])));for(let x=0;x<d;++x){const b=i[x],T=a[x];for(let I=_;I<p.i0;++I)b.rem(T,s[I],e);for(let I=S;I<p.i1;++I)b.add(T,s[I],e);b.write(T,u,l)}return h(p,u,l),u}};return p}const yst=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),vst=e=>!!e.peers;function _st(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Tae(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function bst(e,t,n,r={},i){const s=e.data(),o=wst(i,s),a=o.length,u=Wg(["r","d","op"],"{"+h1(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=Est(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function wst(e,t){const n={};return e.forEach(r=>{const i=yst(r),s=vst(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});EL(r.name)?a.push(r):u.push(_st(r))}),Object.values(n).map(r=>gst(t,r.frame,r.peers,r.winOps,zce(r.aggOps,r.frame[0]!=null?-1:1)))}function Est(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Sst(e){return SL(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function VM(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Ho(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=Tst(r),c=e.isGrouped()?e.groups().size:1,f=qg(e,u,XC(r.length,()=>Array(c)));return l.length?bst(e,a,n,f,l):xst(e,a,n,f),e.create(o)}function Tst(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Sst(s)?n:t).push(s)}return[t,n]}function xst(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function Ist(e,t,n={}){const r=VM(e,fo(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Vce(r,Object.keys(t).filter(i=>!e.column(i)),n)}function Cst(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const Vb=2147483648,Ast=4294967295;class Yce{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&Vb>>>t}set(t){this._bits[t>>5]|=Vb>>>t}clear(t){this._bits[t>>5]&=~(Vb>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Ast>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=Vb>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function Pst(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Yce(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function Ost(e,t){const n=fo({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=VM(e,n,{drop:!0}).column("p");r=s=>i[s]}return Pst(e,r)}function Kce(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=Xh(e,r,n),l=Ho(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(S=>{if(!a.has(S)){const x=l.add(S,[]);c.has(S)||(f.push(e.column(S)),d.push(x))}}),t.forEach(S=>{a.has(S)||(l.has(S)||l.add(S,[]),h.push(l.data[S]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,v=(S,x)=>{for(let b=0;b<y;++b)d[b].length=m+x,d[b].fill(f[b].get(S),m,m+x)},_=p?(S,x)=>{for(let b=0;b<x;++b)p[S+b]=b}:()=>{};if(g===1){const S=u[0],x=h[0];e.scan((b,T)=>{const I=uo(S(b,T)),D=Math.min(I.length,s);v(b,D);for(let $=0;$<D;++$)x[m+$]=I[$];_(m,D),m+=D})}else e.scan((S,x)=>{let b=0;const T=u.map(I=>{const D=uo(I(S,x));return b=Math.min(Math.max(b,D.length),s),D});v(S,b);for(let I=0;I<g;++I){const D=h[I],$=T[I];for(let B=0;B<b;++B)D[m+B]=$[B]}_(m,b),m+=b});return e.create(l.new())}function Rst(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=Xh(e,r,n);return Kce(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function tu(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Ts(o)?t.columnName(o):o,zi(o)?i.set(o,Ah(o)):ar(o)?fc(t,o).forEach(s):cs(o)?Mle(i,o):Ht(`Invalid ${e} value: ${o+""}`)};return uo(n).forEach(s),r.preparse&&r.preparse(i),fo(i,{table:t,...r})}function Nst(e,t,n){return Rst(e,tu("fold",e,t),n)}function SW(e,t,n,r){const i=n&&n.length;return kst(i?Dst(e,n,r):e,t,i)}function kst(e,{names:t,exprs:n,ops:r},i){const s=Xh(e,r,n),o=i?null:Ho(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Ua(p)?p:d(h)})}),i?e:e.create(o)}function Dst(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=dx(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=Ho(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(v=>g.push(y.get(v)))});const d=dx(o.map((p,m)=>y=>y[m])),h=Wg("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,v)=>g*v.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),TW(r,n,(g,v)=>{a.has(d(g))||(h(g),y[p++]=v[0])}),c.groupby({...r,keys:y})}else TW(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function TW(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function zM(e,{names:t,exprs:n,ops:r}){const i=Ho(),s=e.groups();return s&&qce(i,s),$st(t,n,s,qg(e,r),i),e.create(i.new())}function $st(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function Lst(e,t,n={}){if(t=fo(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Ht(`Invalid impute column ${ul(r)}`)),n.expand){const r={preparse:Mst,aggronly:!0},i=tu("impute",e,n.expand,r),s=zM(e.ungroup(),i);return SW(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return SW(e,t)}function Mst(e){e.forEach((t,n)=>t.field?e.set(n,fae(t+"")):0)}function Fst(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Qce(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function jst(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function Bst(e,t){const n=["i","a","j","b"];return Wg(n,"{"+h1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function Ust(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=Ho(),y=Array(p),g=Array(p);for(let S=0;S<r.length;++S)y[S]=m.add(r[S],[]),g[S]=i[S];const v=Bst(y,g);if((_n(n)?zst:Vst)(v,n,o,c,a,f,l,h,u,d),s.left)for(let S=0;S<u;++S)l[S]||v(a[S],o,-1,c);if(s.right)for(let S=0;S<d;++S)h[S]||v(-1,o,f[S],c);return e.create(m.new())}function Vst(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function zst(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,v,_=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,v=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,v=s,_=(b,T,I,D)=>e(I,D,b,T));const S=jst(v,m,y),x=p.length;for(let b=0;b<x;++b){const T=p[b],I=S.get(d(T,f));if(I){const D=I.length;for(let $=0;$<D;++$){const B=I[$];_(T,f,v[B],m),g[B]=1}h[b]=1}}}function Lx(e,t,n){const r=new Map;uo(n).forEach((s,o)=>{s=Ts(s)?t.columnName(s):s,zi(s)?r.set(o,Ah(s)):ar(s)||cs(s)&&s.expr?r.set(o,s):Ht(`Invalid ${e} key value: ${s+""}`)});const i=fo(r,{table:t,aggregate:!1,window:!1});return dx(i.exprs,!0)}function Hst(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function HM(e,t,n){if(n)zi(n)?n=[n,n]:_n(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=Hst(e.columnNames(),t.columnNames());r.length||Ht("Natural join requires shared column names."),n=[r,r]}return n}function Xce(e,t,n,r){return n.length!==r.length&&Ht("Mismatched number of join keys"),[Lx("join",e,n),Lx("join",t,r)]}const Wst={aggregate:!1,window:!1},qst={...Wst,index:1};function xW(e,t,n,r,i={}){n=HM(e,t,n);const s={join:[e,t]};let o;if(_n(n)){const[a,u]=n.map(uo);o=Xce(e,t,a,u),r||(r=Gst(e,a,u,i))}else o=fo({on:n},s).exprs[0],r||(r=[ag(),ag()]);return Ust(e,t,o,Yst(e,t,r,s,i&&i.suffix),i)}function Gst(e,t,n,r){const i=[];t.forEach((o,a)=>zi(o)&&o===n[a]?i.push(o):0);const s=jle(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${ul(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,ag()]:[ag(),s]}function Yst(e,t,n,r,i=[]){if(_n(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=tu("join",e,n[0],r)),u--&&(o=tu("join",t,n[1],qst)),u--&&(a=fo(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&IW(s.names,l,i[0]||"_1"),i[1]!==""&&IW(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return fo(n,r)}function IW(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function Kst(e,t,n,r={}){const i=new Yce(e.totalRows());return(_n(n)?Qst:Xst)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function Qst(e,t,n,[r,i]){const s=Qce(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function Xst(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function CW(e,t,n,r){n=HM(e,t,n);const i=_n(n)?Xce(e,t,...n.map(uo)):fo({on:n},{join:[e,t]}).exprs[0];return Kst(e,t,i,r)}function Jst(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Ho(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(mn)));const l=Qce(t,r),c=Wg(["lr","rr","data"],"{"+h1(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),Xh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function Zst(e,t,n,r){return n=HM(e,t,n),Jst(e,t,[Lx("lookup",e,n[0]),Lx("lookup",t,n[1])],tu("lookup",t,r))}const Hk=(e,t)=>e??t;function eot(e,t,n,r={}){const{keys:i,keyColumn:s}=tot(e,t,r),o=Hk(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>qg(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(not(n,a,e.groups(),u))}function tot(e,t,n){const r=n.limit>0?+n.limit:1/0,i=Hk(n.sort,!0),s=Hk(n.keySeparator,"_"),o=Xh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=qg(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function not({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Ho(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&qce(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function rot(e,t,n,r){return eot(e,tu("fold",e,t),tu("fold",e,n,{preparse:iot,aggronly:!0}),r)}function iot(e){e.forEach((t,n)=>t.field?e.set(n,uae(t+"")):0)}function sot(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),jM(e,fc(e,t,n))}function AW(e,t){return zM(e,fo(t,{table:e,aggronly:!0,window:!1}))}function oot(e,t,n,r){return(t?r?uot:aot:r?cot:lot)(e.length,e,n,r)}function aot(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Lg()|0];return t}function uot(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Gce(BM).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Lg())];return t}function lot(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Lg();s<e&&(t[s|0]=n[i])}return t}function cot(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Lg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function fot(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Lg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function dot(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):oot(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&fot(u),e.reify(u)}function hot(e,t,n={}){return dot(e,pot(e,t),mot(e,n.weight),n)}const Jce=e=>t=>e.get(t)||0;function pot(e,t){return Ts(t)?()=>t:Jce(zM(e,fo({size:t},{table:e,window:!1})).column("size"))}function mot(e,t){return t==null?null:(t=Ts(t)?e.columnName(t):t,Jce(zi(t)?e.column(t):VM(e,fo({w:t},{table:e}),{drop:!0}).column("w")))}function got(e,t){return jM(e,fc(e,t))}function yot(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=Xh(e,r,n),l=Ho(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=vot(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function vot(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=uo(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(mn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function _ot(e,t,n){return yot(e,tu("spread",e,t),n)}function bot(e,t){return e.concat(t).dedupe()}function wot(e,t,n){return Kce(e,tu("unroll",e,t),n&&n.drop?{...n,drop:tu("unroll",e,n.drop).names}:n)}function Eot(e,t){return e.create({groups:Sot(e,t)})}function Sot(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=Xh(e,r,n);const o=dx(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function Tot(e,t){return Eot(e,tu("groupby",e,t))}function xot(e,t){return e.create({order:t})}const Iot=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Cot(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=fo(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([fx(p,{index:"a",op:o}),fx(p,{index:"b",op:a})])},window:!1}),l=qg(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=Iot(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function Aot(e,t){return xot(e,Pot(e,t))}function Pot(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(cs(o)&&!ar(o))for(const a in o)i(o[a]);else i(Ts(o)?Ah(s,e.columnName(o)):zi(o)?Ah(s):ar(o)?s:Ht(`Invalid orderby field: ${s+""}`))}),Cot(e,r)}function Oot(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Ho();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>mn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function Rot(e,t){const n=Ho(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Wce(e,t,r):[Hce(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,v=0;g<a;++g)m.fill(y(o[g],d),v,v+=u[g+1])})}return e.create(n.new())}function Not(e){return e.isGrouped()?e.create({groups:null}):e}function kot(e){return e.isOrdered()?e.create({order:null}):e}const Dot={__antijoin:(e,t,n)=>CW(e,t,n,{anti:!0}),__count:(e,t={})=>AW(e,{[t.as||"count"]:lae()}),__cross:(e,t,n,r)=>xW(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Oot,__dedupe:ast,__derive:Ist,__except:Cst,__filter:Ost,__fold:Nst,__impute:Lst,__intersect:Fst,__join:xW,__lookup:Zst,__pivot:rot,__relocate:Vce,__rename:sot,__rollup:AW,__sample:hot,__select:got,__semijoin:CW,__spread:_ot,__union:bot,__unroll:wot,__groupby:Tot,__orderby:Aot,__ungroup:Not,__unorder:kot,__reduce:Rot};Object.assign($u.prototype,Dot);function $ot(e,t){return $u.new(e,t)}function WM(e,t){return $u.from(e,t)}function zb(e,t={}){const n=`d[${JSON.stringify(e)}]`,{maxbins:r,nice:i,minstep:s,step:o,offset:a}=t,u=[r,i,s,o];let l=u.length;for(;l&&u[--l]==null;)u.pop();const c=u.length?", "+u.map(f=>f+"").join(", "):"";return`d => op.bin(${n}, ...op.bins(${n}${c}), ${a||0})`}function $d(e){return yA(e,{escape:!0,toString(){Ht("Escaped values can not be serialized.")}})}$u.prototype;function Lot(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let Hb;const Mot=new Uint8Array(16);function Fot(){if(!Hb&&(Hb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hb(Mot)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function jot(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}const Bot=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),PW={randomUUID:Bot};function OW(e,t,n){if(PW.randomUUID&&!t&&!e)return PW.randomUUID();e=e||{};const r=e.random||(e.rng||Fot)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return jot(r)}let Ju=class{static get(){let t=OW();for(;this.ids.has(t);)t=OW();return this.ids.set(t,!0),t}};Ju.ids=new Map;function Ga(e){return"parent"in e}function Uot(e){return!Ga(e)}function Vot(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:Ju.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:Ju.get(),createdOn:Date.now(),val:r}]:[];return{id:Ju.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function zot({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:Ju.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:Ju.get(),createdOn:Date.now(),val:s}]:[];return{id:Ju.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Pr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Jot[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ph(e){return!!e&&!!e[Mo]}function Wf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Zot}(e)||Array.isArray(e)||!!e[Hy]||!!(!((t=e.constructor)===null||t===void 0)&&t[Hy])||vA(e)||_A(e))}function cg(e,t,n){n===void 0&&(n=!1),qf(e)===0?(n?Object.keys:XM)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function qf(e){var t=e[Mo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:vA(e)?2:_A(e)?3:0}function Gv(e,t){return qf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qw(e,t){return qf(e)===2?e.get(t):e[t]}function Zce(e,t,n){var r=qf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Hot(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function vA(e){return Qot&&e instanceof Map}function _A(e){return Xot&&e instanceof Set}function Td(e){return e.o||e.t}function qM(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=eat(e);delete t[Mo];for(var n=XM(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function GM(e,t){return t===void 0&&(t=!1),YM(e)||Ph(e)||!Wf(e)||(qf(e)>1&&(e.set=e.add=e.clear=e.delete=Wot),Object.freeze(e),t&&cg(e,function(n,r){return GM(r,!0)},!0)),e}function Wot(){Pr(2)}function YM(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Zu(e){var t=Yk[e];return t||Pr(18,e),t}function qot(e,t){Yk[e]||(Yk[e]=t)}function RW(){return{}.NODE_ENV==="production"||fg||Pr(0),fg}function x2(e,t){t&&(Zu("Patches"),e.u=[],e.s=[],e.v=t)}function Mx(e){Wk(e),e.p.forEach(Got),e.p=null}function Wk(e){e===fg&&(fg=e.l)}function NW(e){return fg={p:[],l:fg,h:e,m:!0,_:0}}function Got(e){var t=e[Mo];t.i===0||t.i===1?t.j():t.O=!0}function I2(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Zu("ES5").S(t,e,r),r?(n[Mo].P&&(Mx(t),Pr(4)),Wf(e)&&(e=Fx(t,e),t.l||jx(t,e)),t.u&&Zu("Patches").M(n[Mo].t,e,t.u,t.s)):e=Fx(t,n,[]),Mx(t),t.u&&t.v(t.u,t.s),e!==QM?e:void 0}function Fx(e,t,n){if(YM(t))return t;var r=t[Mo];if(!r)return cg(t,function(s,o){return kW(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return jx(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=qM(r.k):r.o;cg(r.i===3?new Set(i):i,function(s,o){return kW(e,r,i,s,o,n)}),jx(e,i,!1),n&&e.u&&Zu("Patches").R(r,n,e.u,e.s)}return r.o}function kW(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Pr(5),Ph(i)){var o=Fx(e,i,s&&t&&t.i!==3&&!Gv(t.D,r)?s.concat(r):void 0);if(Zce(n,r,o),!Ph(o))return;e.m=!1}if(Wf(i)&&!YM(i)){if(!e.h.F&&e._<1)return;Fx(e,i),t&&t.A.l||jx(e,i)}}function jx(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&GM(t,n)}function C2(e,t){var n=e[Mo];return(n?Td(n):e)[t]}function DW(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function qk(e){e.P||(e.P=!0,e.l&&qk(e.l))}function A2(e){e.o||(e.o=qM(e.t))}function Gk(e,t,n){var r=vA(t)?Zu("MapSet").N(t,n):_A(t)?Zu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:RW(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Kk;o&&(u=[a],l=ay);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Zu("ES5").J(t,n);return(n?n.A:RW()).p.push(r),r}function Yot(e){return Ph(e)||Pr(22,e),function t(n){if(!Wf(n))return n;var r,i=n[Mo],s=qf(n);if(i){if(!i.P&&(i.i<4||!Zu("ES5").K(i)))return i.t;i.I=!0,r=$W(n,s),i.I=!1}else r=$W(n,s);return cg(r,function(o,a){i&&Qw(i.t,o)===a||Zce(r,o,t(a))}),s===3?new Set(r):r}(e)}function $W(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return qM(e)}function Kot(){function e(r){if(!Wf(r))return r;if(Array.isArray(r))return r.map(e);if(vA(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(_A(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return Gv(r,Hy)&&(i[Hy]=r[Hy]),i}function t(r){return Ph(r)?e(r):r}var n="add";qot("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=qf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Pr(24),typeof u=="function"&&f==="prototype"&&Pr(24),typeof(u=Qw(u,f))!="object"&&Pr(15,o.join("/"))}var d=qf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Pr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Pr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;cg(a.D,function(h,p){var m=Qw(f,h),y=Qw(d,h),g=p?Gv(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var v=u.concat(h);l.push(g==="remove"?{op:g,path:v}:{op:g,path:v,value:y}),c.push(g===n?{op:"remove",path:v}:g==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=u.concat([v]);l.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===QM?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var LW,fg,KM=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Qot=typeof Map<"u",Xot=typeof Set<"u",MW=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",QM=KM?Symbol.for("immer-nothing"):((LW={})["immer-nothing"]=!0,LW),Hy=KM?Symbol.for("immer-draftable"):"__$immer_draftable",Mo=KM?Symbol.for("immer-state"):"__$immer_state",Jot={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Zot=""+Object.prototype.constructor,XM=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,eat=Object.getOwnPropertyDescriptors||function(e){var t={};return XM(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Yk={},Kk={get:function(e,t){if(t===Mo)return e;var n=Td(e);if(!Gv(n,t))return function(i,s,o){var a,u=DW(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Wf(r)?r:r===C2(e.t,t)?(A2(e),e.o[t]=Gk(e.A.h,r,e)):r},has:function(e,t){return t in Td(e)},ownKeys:function(e){return Reflect.ownKeys(Td(e))},set:function(e,t,n){var r=DW(Td(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=C2(Td(e),t),s=i==null?void 0:i[Mo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Hot(n,i)&&(n!==void 0||Gv(e.t,t)))return!0;A2(e),qk(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return C2(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,A2(e),qk(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Td(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Pr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Pr(12)}},ay={};cg(Kk,function(e,t){ay[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ay.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Pr(13),ay.set.call(this,e,t,void 0)},ay.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Pr(14),Kk.set.call(this,e[0],t,n,e[0])};var tat=function(){function e(n){var r=this;this.g=MW,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return u.produce(m,function(S){var x;return(x=s).call.apply(x,[y,S].concat(v))})}}var l;if(typeof s!="function"&&Pr(6),o!==void 0&&typeof o!="function"&&Pr(7),Wf(i)){var c=NW(r),f=Gk(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?Mx(c):Wk(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return x2(c,o),I2(m,c)},function(m){throw Mx(c),m}):(x2(c,o),I2(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===QM&&(l=void 0),r.F&&GM(l,!0),o){var h=[],p=[];Zu("Patches").M(i,l,h,p),o(h,p)}return l}Pr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Wf(n)||Pr(8),Ph(n)&&(n=Yot(n));var r=NW(this),i=Gk(this,n,void 0);return i[Mo].C=!0,Wk(r),i},t.finishDraft=function(n,r){var i=n&&n[Mo];({}).NODE_ENV!=="production"&&(i&&i.C||Pr(9),i.I&&Pr(10));var s=i.A;return x2(s,r),I2(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!MW&&Pr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Zu("Patches").$;return Ph(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Fo=new tat,nat=Fo.produce;Fo.produceWithPatches.bind(Fo);Fo.setAutoFreeze.bind(Fo);Fo.setUseProxies.bind(Fo);Fo.applyPatches.bind(Fo);Fo.createDraft.bind(Fo);Fo.finishDraft.bind(Fo);function rat(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=Vot({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Lre({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:Ju.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:Ju.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function iat(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=rat(e),s=G5e();s.startListening({matcher:UV(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=UV(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=Dre({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:Ju.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var sat=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oat=Object.prototype.hasOwnProperty;function Qk(e,t){return oat.call(e,t)}function Xk(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Qk(e,i)&&r.push(i);return r}function Js(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Jk(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function xd(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function efe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Zk(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Zk(e[t]))return!0}else if(typeof e=="object"){for(var r=Xk(e),i=r.length,s=0;s<i;s++)if(Zk(e[r[s]]))return!0}}return!1}function FW(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var tfe=function(e){sat(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,FW(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=FW(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),xr=tfe,aat=Js,Qp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Bx(n,this.path);r&&(r=Js(r));var i=ah(n,{op:"remove",path:this.from}).removed;return ah(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Bx(n,this.from);return ah(n,{op:"add",path:this.path,value:Js(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Yv(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},uat={add:function(e,t,n){return Jk(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Qp.move,copy:Qp.copy,test:Qp.test,_get:Qp._get};function Bx(e,t){if(t=="")return e;var n={op:"_get",path:t};return ah(e,n),n.value}function ah(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):Ux(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=Bx(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Yv(e,t.value),o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Js(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=Ux;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=efe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!Jk(h))throw new xr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);Jk(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new xr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=uat[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=Qp[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new xr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function bA(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Js(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=ah(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function lat(e,t,n){var r=ah(e,t);if(r.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Ux(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new xr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Qp[e.op]){if(typeof e.path!="string")throw new xr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new xr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new xr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Zk(e.value))throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new xr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new xr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=nfe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new xr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function nfe(e,t,n){try{if(!Array.isArray(e))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)bA(Js(t),Js(e),n||!0);else{n=n||Ux;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof xr)return i;throw i}}function Yv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Yv(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Yv(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const cat=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:xr,_areEquals:Yv,applyOperation:ah,applyPatch:bA,applyReducer:lat,deepClone:aat,getValueByPointer:Bx,validate:nfe,validator:Ux},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var JM=new WeakMap,fat=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),dat=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function hat(e){return JM.get(e)}function pat(e,t){return e.observers.get(t)}function mat(e,t){e.observers.delete(t.callback)}function gat(e,t){t.unobserve()}function yat(e,t){var n=[],r,i=hat(e);if(!i)i=new fat(e),JM.set(e,i);else{var s=pat(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Js(e),t){r.callback=t,r.next=null;var o=function(){eD(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){eD(r),clearTimeout(r.next),mat(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new dat(t,r)),r}function eD(e,t){t===void 0&&(t=!1);var n=JM.get(e.object);ZM(n.value,e.object,e.patches,"",t),e.patches.length&&bA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function ZM(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=Xk(t),o=Xk(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(Qk(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?ZM(c,f,n,r+"/"+xd(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+xd(l),value:Js(c)}),n.push({op:"replace",path:r+"/"+xd(l),value:Js(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+xd(l),value:Js(c)}),n.push({op:"remove",path:r+"/"+xd(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!Qk(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+xd(l),value:Js(t[l])})}}}function rfe(e,t,n){n===void 0&&(n=!1);var r=[];return ZM(e,t,r,"",n),r}const vat=Object.freeze(Object.defineProperty({__proto__:null,compare:rfe,generate:eD,observe:yat,unobserve:gat},Symbol.toStringTag,{value:"Module"}));Object.assign({},cat,vat,{JsonPatchError:tfe,deepClone:Js,escapePathComponent:xd,unescapePathComponent:efe});var uy=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(uy||{});function Xw(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=ife(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=Xw(i,t);return bA(a,Js(o),!0,!1).newDocument}function _at(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function Vx({registry:e,initialState:t}){let n=!1;const r=Lot(),i=iat(t);function s(c){return i.backend.nodes[c]}r.listen(uy.TRAVERSAL_START,()=>{n=!0}),r.listen(uy.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return Xw(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=Xw(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=rfe(g,f);if(_at(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=zot({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=Xw(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(uy.TRAVERSAL_START);const f=ife(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);wat(p,m)?Ga(p)&&d.push(...p.sideEffects.undo):Ga(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(uy.TRAVERSAL_END)},undo(){const{current:c}=i;return Ga(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return sfe(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function bat(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;Ga(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Ga(r)&&(r=n[r.parent]),Ga(i)&&(i=n[i.parent]);return r.id}function ife(e,t,n){const r=bat(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),Ga(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),Ga(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function wat(e,t){if(Ga(e)&&e.parent===t.id)return!0;if(Ga(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function sfe(e,t){return{...e,children:e.children.map(n=>sfe(t[n],t)),name:`${e.label}`}}Kot();function Eat(e){return e.length===2?nat(e):e}class dg{static create(){return new dg}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:Eat(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Qu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var Sat="Expected a function",jW=NaN,Tat="[object Symbol]",xat=/^\s+|\s+$/g,Iat=/^[-+]0x[0-9a-f]+$/i,Cat=/^0b[01]+$/i,Aat=/^0o[0-7]+$/i,Pat=parseInt,Oat=typeof Ks=="object"&&Ks&&Ks.Object===Object&&Ks,Rat=typeof self=="object"&&self&&self.Object===Object&&self,Nat=Oat||Rat||Function("return this")(),kat=Object.prototype,Dat=kat.toString,$at=Math.max,Lat=Math.min,P2=function(){return Nat.Date.now()};function Mat(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Sat);t=BW(t)||0,tD(n)&&(c=!!n.leading,f="maxWait"in n,s=f?$at(BW(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(b){var T=r,I=i;return r=i=void 0,l=b,o=e.apply(I,T),o}function p(b){return l=b,a=setTimeout(g,t),c?h(b):o}function m(b){var T=b-u,I=b-l,D=t-T;return f?Lat(D,s-I):D}function y(b){var T=b-u,I=b-l;return u===void 0||T>=t||T<0||f&&I>=s}function g(){var b=P2();if(y(b))return v(b);a=setTimeout(g,m(b))}function v(b){return a=void 0,d&&r?h(b):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function S(){return a===void 0?o:v(P2())}function x(){var b=P2(),T=y(b);if(r=arguments,i=this,u=b,T){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return x.cancel=_,x.flush=S,x}function tD(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Fat(e){return!!e&&typeof e=="object"}function jat(e){return typeof e=="symbol"||Fat(e)&&Dat.call(e)==Tat}function BW(e){if(typeof e=="number")return e;if(jat(e))return jW;if(tD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(xat,"");var n=Cat.test(e);return n||Aat.test(e)?Pat(e.slice(2),n?2:8):Iat.test(e)?jW:+e}var Bat=Mat;const pu=ma(Bat);function ofe({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=w.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=w.useMemo(()=>qC(".2s"),[]);return C.jsxs(C.Fragment,{children:[C.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:C.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:C.jsx(ao,{children:C.jsx(Un,{spacing:3,children:C.jsx(et,{size:14,style:{color:"#878E95"},children:r})})})})}),C.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),C.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>C.jsxs("g",{transform:`translate(${n}, ${a})`,children:[C.jsx("line",{x2:"-6",stroke:"currentColor"}),C.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),C.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const Uat=Object.freeze(Object.defineProperty({__proto__:null,YAxis:ofe},Symbol.toStringTag,{value:"Module"})),O2=15;function afe({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0,currSelected:a,svgRef:u}){const[l,c]=w.useState([0,0]),[f,d]=w.useState(!1);return w.useEffect(()=>{const h=Gr(u.current);if(h){const p=h.node().getBoundingClientRect();h.on("mousemove",m=>{const y=[m.clientX-p.x,m.clientY-p.y];if(c(y),f){const g=i.filter(v=>Math.abs(e(v[r.x])-y[0])<O2&&Math.abs(t(v[r.y])-y[1])<O2);if(m.ctrlKey||m.metaKey||!o){const v=new Set(a);g.forEach(S=>{v.has(S[r.ids])&&v.delete(S[r.ids])});const _=Array.from(v);n([[l[0],l[1]],[l[0],l[1]]],e,t,_.length===0?"clear":"drag",s.id,_)}else{const v=Array.from(new Set([...a,...g.map(_=>_[r.ids])]));v.length>0&&n([[l[0],l[1]],[l[0],l[1]]],e,t,"drag",s.id,v)}}}),h.on("mousedown",m=>{d(!0),m.stopPropagation(),m.preventDefault()}),h.on("mouseup",()=>{d(!1)})}},[l,s.id,a,i,f,o,r,n,u,e,t]),C.jsx("circle",{style:{cursor:f?"pointer":"default",pointerEvents:"none"},r:O2,fill:"darkgray",opacity:.5,cx:s.x1,cy:s.y1})}const Vat=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:afe},Symbol.toStringTag,{value:"Module"}));function Xp(e){const t=w.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return w.useLayoutEffect(()=>{t.current=e}),w.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const qn={top:15,left:100,right:15,bottom:130};function ufe({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u}){const[l,{height:c,width:f}]=Yu(),[d,h]=w.useState(i),[p]=Yu(),[m]=Yu(),y=w.useMemo(()=>f-qn.left-qn.right,[f]),g=w.useMemo(()=>c-qn.top-qn.bottom,[c]),v=w.useMemo(()=>{const O=Array.from(new Set(s.map(M=>M[d.category])));return YC(Joe).domain(O)},[s,d.category]),{xMin:_,yMin:S,xMax:x,yMax:b}=w.useMemo(()=>{const O=s.map(K=>+K[d.x]).filter(K=>K!==null),[M,k]=YT(O),ee=s.map(K=>+K[d.y]).filter(K=>K!==null),[te,re]=YT(ee);return{xMin:M,xMax:k,yMin:te,yMax:re}},[s,d.x,d.y]),T=w.useMemo(()=>{const O=x-_;return y<=0?null:d.dataType==="date"?lJe([qn.left,y+qn.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):$o([qn.left,y+qn.left]).domain([_-O/10,x+O/10]).nice()},[d.dataType,y,x,_]),I=w.useMemo(()=>{const O=b-S;return g<=0?null:$o([g+qn.top,qn.top]).domain([S-O/10,b+O/10]).nice()},[g,b,S]);w.useMemo(()=>{if(!T||!I)return()=>null;if(r==="Axis Selection"){const O=AKe().extent([[qn.left,qn.top+g-5],[qn.left+y,qn.top+g+5]]).on("brush end",k=>{k.sourceEvent!==void 0&&n([[k.selection[0],null],[k.selection[1],null]],T,I,k.mode,t.id)}),M=PKe().extent([[qn.left-5,qn.top],[qn.left+5,qn.top+g]]).on("brush end",k=>{k.sourceEvent!==void 0&&n([[null,k.selection[0]],[null,k.selection[1]]],T,I,k.mode,t.id)});return p.current&&m.current&&(Gr(m.current).call(M),Gr(p.current).call(O),t.hasBrush||(Gr(m.current).call(M.move,[I(b),I(S)]),Gr(p.current).call(O.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),I(b)],[T(new Date("2015-12-31")),I(S)]],T,I,"drag",t.id))),()=>{Gr(m.current).call(M.move,[I(b),I(S)]),Gr(p.current).call(O.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),I(b)],[T(new Date("2015-12-31")),I(S)]],T,I,"clear",t.id)}}if(r==="Rectangular Selection"){const O=OKe().extent([[qn.left,qn.top],[qn.left+y,qn.top+g]]).on("brush",M=>{M.sourceEvent!==void 0&&n([[M.selection[0][0],M.selection[0][1]],[M.selection[1][0],M.selection[1][1]]],T,I,M.mode,t.id)}).on("end",M=>{M.selection===null&&M.sourceEvent!==void 0&&(Gr(l.current).call(O.move,null),e(null))});return Gr(l.current).call(O),()=>{Gr(l.current).call(O.move,null),n([[null,null],[null,null]],T,I,"clear",t.id)}}return r==="Slider Selection"?()=>n([[T(_),I(b)],[T(x),I(S)]],T,I,"clear",t.id):r==="Paintbrush Selection"?()=>n([[T(_),I(b)],[T(x),I(S)]],T,I,"clear",t.id,[]):()=>null},[t,r,p,m,g,l,n,y,x,_,T,b,S,I]),w.useEffect(()=>{r==="Slider Selection"&&T&&I&&n([[T(_),I(b)],[T(x),I(S)]],T,I,null,t.id)},[r,x,_,T,b,S,I]);const D=w.useMemo(()=>o.length===0?null:new Set(o),[o]),$=w.useMemo(()=>!T||!I?null:s.filter(O=>d.year?+O.Year===d.year:!0).map((O,M)=>{if(O[d.x]===null||O[d.y]===null)return null;const k=d.dataType==="date"?T(new Date(O[d.x])):T(O[d.x]);return C.jsx(L_,{withinPortal:!0,label:O[d.ids],children:C.jsx("circle",{opacity:D&&!D.has(O[d.ids])?.3:.7,r:3,fill:D&&!D.has(O[d.ids])?"lightgray":d.hideCat?"gray":v(O[d.category]),cx:k,cy:I(O[d.y])},M)},M)}),[D,v,s,T,I,d]);w.useEffect(()=>{r==="Axis Selection"&&NGe(".handle").style("fill","darkgrey")},[t,r]);const B=Xp(O=>{h({...d,year:O?+O:void 0})});return C.jsxs(Or,{spacing:0,children:[C.jsx(Un,{mr:qn.right,style:{justifyContent:"space-between"},children:d.year?C.jsxs(Or,{spacing:0,children:[C.jsx(et,{size:12,ml:qn.left,children:d.year}),C.jsx(JI,{min:2008,max:2022,value:d.year,onChange:B,ml:qn.left,style:{width:"150px"},label:d.year})]}):null}),C.jsxs(Un,{style:{width:"100%",height:"100%"},noWrap:!0,children:[C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:l,style:{height:"500px",width:d.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[T&&I?C.jsxs("g",{children:[C.jsx(ofe,{yScale:I,label:d.y,horizontalPosition:qn.left,xRange:T.range()}),C.jsx(n1,{xScale:T,yRange:I.range(),isDate:d.dataType==="date",vertPosition:g+qn.top,label:d.x,ticks:T.ticks(d.brushType==="Axis Selection"?12:5).map(O=>({value:O.toString(),offset:T(O)}))})]}):null,$,C.jsx("g",{id:"brushXRef",ref:p}),C.jsx("g",{id:"brushYRef",ref:m}),T&&I&&r==="Paintbrush Selection"?C.jsx(afe,{currSelected:o,svgRef:l,brushState:t,setBrushedSpace:n,params:d,data:s.filter(O=>d.year?+O.Year===d.year:!0),isSelect:u,xScale:T,yScale:I}):null]}),r==="Slider Selection"&&T&&I?C.jsxs(Or,{style:{flexGrow:1},spacing:50,children:[C.jsxs(Or,{spacing:0,children:[C.jsx(et,{children:d.x}),C.jsx(pN,{minRange:1,label:null,min:T.domain()[0],max:T.domain()[1],labelAlwaysOn:!1,onChange:O=>{n([[T(O[0]),t.y1],[T(O[1]),t.y2]],T,I,"drag",t.id)},style:{width:"300px"},marks:T.ticks(5).map(O=>({value:O,label:O})),value:[T.invert(t.x1),T.invert(t.x2)]})]}),C.jsxs(Or,{spacing:0,children:[C.jsx(et,{children:d.y}),C.jsx(pN,{minRange:1,label:null,min:I.domain()[0],max:I.domain()[1],onChange:O=>{n([[t.x1,I(O[1])],[t.x2,I(O[0])]],T,I,"drag",t.id)},style:{width:"300px"},marks:I.ticks(5).map(O=>({value:O,label:O})),value:[I.invert(t.y2),I.invert(t.y1)]})]})]}):null]})]})}const zat=Object.freeze(Object.defineProperty({__proto__:null,Scatter:ufe},Symbol.toStringTag,{value:"Module"})),vo={top:15,left:100,right:15,bottom:130};function lfe({setFilteredTable:e,brushState:t,setSelection:n,brushType:r,initialParams:i,data:s,brushedPoints:o,onClose:a,isPaintbrushSelect:u,dataTable:l}){const[c,{height:f,width:d}]=Yu(),[h,p]=w.useState(i),m=w.useMemo(()=>d-vo.left-vo.right,[d]),y=w.useMemo(()=>f-vo.top-vo.bottom,[f]),g=w.useMemo(()=>h.hideCat?l.groupby(t.xCol).count():l.groupby(t.xCol,"Survived").count(),[t.xCol,l,h.hideCat]),v=w.useMemo(()=>{if(!s)return null;const T=WM(s);return h.hideCat?T.groupby(t.xCol).count():T.groupby(t.xCol,"Survived").count()},[t.xCol,s,h.hideCat]),_=w.useMemo(()=>g?$o([vo.top,y+vo.top]).domain([0,Sh(g.objects().map(T=>T.count))].reverse()).nice():null,[g,y]),S=w.useMemo(()=>g?Yh([vo.left,m+vo.left]).domain(g.array(t.xCol).sort()).paddingInner(.1):null,[g,m,t.xCol]),x=w.useMemo(()=>!S||!_||!v?null:v.objects().map((T,I)=>C.jsxs("g",{children:[h.hideCat?C.jsx("rect",{onClick:D=>n(l.objects().filter($=>$[t.xCol]===T[t.xCol]).map($=>$.Name),D),x:S(T[t.xCol]),y:y-(y-_(T.count)),fill:"gray",width:S.bandwidth(),height:vo.top+y-_(T.count)}):C.jsx("rect",{onClick:D=>n(l.objects().filter($=>$[t.xCol]===T[t.xCol]&&$.Survived===T.Survived).map($=>$.Name),D),x:T.Survived==="Yes"?S(T[t.xCol]):S(T[t.xCol])+S.bandwidth()/2,y:y-(y-_(T.count)),fill:T.Survived==="Yes"?"#f28e2c":"#4e79a7",width:S.bandwidth()/2,height:vo.top+y-_(T.count)}),C.jsx("text",{x:S(T[t.xCol])+(h.hideCat?S.bandwidth()/2:T.Survived==="Yes"?S.bandwidth()/4:S.bandwidth()*.75),y:_(T.count)-10,style:{textAnchor:"middle",dominantBaseline:"middle",fontSize:14},children:T.count})]},`${I}fullRects`)),[v,t.xCol,l,y,h.hideCat,n,S,_]),b=w.useMemo(()=>!S||!_||!g?null:g.objects().map((T,I)=>C.jsx("g",{style:{cursor:"pointer"},children:C.jsx("rect",{onClick:D=>n(l.objects().filter($=>$[t.xCol]===T[t.xCol]&&(h.hideCat?!0:$.Survived===T.Survived)).map($=>$.Name),D),opacity:.7,x:T.Survived==="Yes"||h.hideCat?S(T[t.xCol]):S(T[t.xCol])+S.bandwidth()/2,fill:"lightgray",width:h.hideCat?S.bandwidth():S.bandwidth()/2,y:y-(y-_(T.count)),height:vo.top+y-_(T.count)})},`${I}survRects`)),[g,t.xCol,l,y,h.hideCat,n,S,_]);return _&&S&&v?C.jsx(Or,{spacing:0,children:C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:c,style:{height:"500px",width:h.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(n1,{xScale:S,yRange:_.range(),vertPosition:y+vo.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:[...new Set(l.array(t.xCol))].map(T=>({value:T,offset:S(T)+S.bandwidth()/2}))}),_?C.jsx(QC,{label:"Count",yScale:_,horizontalPosition:vo.left,xRange:S.range(),ticks:_.ticks(5).map(T=>({value:T.toString(),offset:_(T)}))}):null,b,x]})}):null}const Hat=Object.freeze(Object.defineProperty({__proto__:null,Histogram:lfe},Symbol.toStringTag,{value:"Module"})),du={top:15,left:100,right:15,bottom:130};function cfe({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,initialParams:i,data:s,allData:o,setSelection:a,brushedPoints:u,onClose:l,isPaintbrushSelect:c}){const[f,{height:d,width:h}]=Yu(),[p,m]=w.useState(i),y=w.useMemo(()=>h-du.left-du.right,[h]),g=w.useMemo(()=>d-du.top-du.bottom,[d]),v=w.useMemo(()=>$o([du.top,g+du.top]).domain([0,Sh(o.map(T=>+T[t.yCol]))].reverse()).nice(),[o,t.yCol,g]),_=w.useMemo(()=>Yh([du.left,y+du.left]).domain([...new Set(o.map(T=>T[t.xCol].toString()))].sort()).paddingInner(.01),[y,o,t.xCol]),S=w.useMemo(()=>WM(o.map(T=>({...T,Age:+T.Age}))),[o]),x=w.useMemo(()=>new Set(s.map(T=>T[p.ids])),[s,p.ids]),b=w.useMemo(()=>{let T=p.hideCat?S.groupby(t.xCol,{group:zb(t.yCol,{maxbins:20}),group_max:zb(t.yCol,{maxbins:20,offset:1})}):S.groupby(t.xCol,"Survived",{group:zb(t.yCol,{maxbins:20}),group_max:zb(t.yCol,{maxbins:20,offset:1})});T=T.rollup({ids:By.array_agg(p.ids),count:By.count()}).orderby("group");const I=T.derive({ids:$d(O=>O.ids.filter(M=>x.has(M))),count:$d(O=>O.ids.filter(M=>x.has(M)).length)}).orderby("group"),D=$o([0,_.bandwidth()/2]).domain([0,Sh(T.array("count"))]),$=PH(O=>D(O[1])+_.bandwidth()/2,O=>v(O[0])).curve(RH),B=PH(O=>_.bandwidth()/2-D(O[1]),O=>v(O[0])).curve(RH);return C.jsx("g",{children:_.domain().map(O=>C.jsx("g",{style:{cursor:"pointer"},children:p.hideCat?C.jsxs("g",{children:[C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O).map(k=>k.ids).flat(),M),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${$(T.objects().filter(M=>M[t.xCol]===O).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O).map(k=>k.ids).flat(),M),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${B(T.objects().filter(M=>M[t.xCol]===O).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O).map(k=>k.ids).flat(),M),transform:`translate(${_(O)}, 0)`,d:`${$(I.objects().filter(M=>M[t.xCol]===O).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"}),C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O).map(k=>k.ids).flat(),M),transform:`translate(${_(O)}, 0)`,d:`${B(I.objects().filter(M=>M[t.xCol]===O).map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"gray"})]}):C.jsxs("g",{children:[C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O&&k.Survived==="Yes").map(k=>k.ids).flat(),M),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${$(T.objects().filter(M=>M[t.xCol]===O&&M.Survived==="Yes").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O&&k.Survived==="No").map(k=>k.ids).flat(),M),opacity:.7,transform:`translate(${_(O)}, 0)`,d:`${B(T.objects().filter(M=>M[t.xCol]===O&&M.Survived==="No").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"lightgray"}),C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O&&k.Survived==="Yes").map(k=>k.ids).flat(),M),transform:`translate(${_(O)}, 0)`,d:`${$(I.objects().filter(M=>M[t.xCol]===O&&M.Survived==="Yes").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#f28e2c"}),C.jsx("path",{onClick:M=>a(T.objects().filter(k=>k[t.xCol]===O&&k.Survived==="No").map(k=>k.ids).flat(),M),transform:`translate(${_(O)}, 0)`,d:`${B(I.objects().filter(M=>M[t.xCol]===O&&M.Survived==="No").map(M=>[M.group,M.count]))}L${_.bandwidth()/2},${v.range()[0]}L${_.bandwidth()/2},${v.range()[1]}Z`,fill:"#4e79a7"})]})},O))})},[t.xCol,t.yCol,x,S,p.hideCat,p.ids,a,_,v]);return C.jsx(Or,{spacing:0,children:C.jsxs("svg",{id:"scatterSvgBrushStudy",ref:f,style:{height:"500px",width:p.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C.jsx(n1,{xScale:_,yRange:v.range(),vertPosition:g+du.top,showLines:!1,stringTicks:!0,label:t.xCol,ticks:_.domain().map(T=>({value:T,offset:_(T)+_.bandwidth()/2}))}),v?C.jsx(QC,{label:t.yCol,yScale:v,horizontalPosition:du.left,xRange:_.range(),ticks:v.ticks(5).map(T=>({value:T.toString(),offset:v(T)}))}):null,b]})})}const Wat=Object.freeze(Object.defineProperty({__proto__:null,Violin:cfe},Symbol.toStringTag,{value:"Module"}));function UW({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=w.useState(null),[s,o]=w.useState(e.brushState?{...e.brushState,selection:[]}:{0:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,xCol:e.x,yCol:e.y,id:0,type:"scatter"},selection:[]}),[a,u]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{zKe(`/ThinkAloud/data/${e.dataset}.csv`).then(b=>{c(b)})},[e]);const f=w.useMemo(()=>l?WM(l):null,[l]);w.useEffect(()=>{if(n){const b=n.all.brush||n.all;o(b);const T=new Set(b.selection);if(f){const I=f.filter($d(D=>T.has(D[e.ids])));i(I)}}},[f,e.ids,n]);const{actions:d,trrack:h}=w.useMemo(()=>{const b=dg.create(),T=b.register("brush",(O,M)=>(O.all={brush:M},O)),I=b.register("brushMove",(O,M)=>(O.all={brush:M},O)),D=b.register("brushResize",(O,M)=>(O.all={brush:M},O)),$=b.register("brushClear",(O,M)=>(O.all={brush:M},O)),B=Vx({registry:b,initialState:{all:s}});return{actions:{brush:T,brushMove:I,brushResize:D,clearBrush:$},trrack:B}},[]),p=w.useCallback((b,T)=>{b==="drag"?h.apply("Move Brush",d.brushMove(T)):(b==="handle"||b==="click")&&h.apply("Brush",d.brush(T)),t({status:!0,provenanceGraph:h.graph.backend,answers:{}})},[d,t,h]),m=w.useMemo(()=>pu(p,50,{maxWait:50}),[p]),y=w.useCallback((b,T,I,D,$,B)=>{if(!T||!I)return;const O=s[$],M=T.invert(b[0][0]||O.x1),k=T.invert(b[1][0]||O.x2),ee=I.invert(b[1][1]||O.y2),te=I.invert(b[0][1]||O.y1);let re=null;if(D==="clear")re=f;else if(B){const P=new Set(B);re=f.filter($d(V=>P.has(V[e.ids])))}else e.brushType==="Axis Selection"?re=f.filter($d(P=>new Date(P[e.x])>=new Date(M)&&new Date(P[e.x])<=new Date(k)&&P[e.y]>=ee&&P[e.y]<=te)):re=f.filter($d(P=>P[e.x]>=M&&P[e.x]<=k&&P[e.y]>=ee&&P[e.y]<=te));const K={xCol:O.xCol,yCol:O.yCol,x1:b[0][0]||(O==null?void 0:O.x1)||0,x2:b[1][0]||(O==null?void 0:O.x2)||0,y1:b[0][1]||(O==null?void 0:O.y1)||0,y2:b[1][1]||(O==null?void 0:O.y2)||0,hasBrush:D!=="clear",id:$},ie=D!=="clear"?re==null?void 0:re.array(e.ids):[];o({...s,[$]:K,selection:ie}),D==="drag"||D==="handle"||D==="click"?m(D,{...s,[$]:K,selection:ie}):D==="clear"&&h.apply("Clear Brush",d.clearBrush({...s,[$]:K,selection:ie})),i(re)},[s,f,e,h,m,d]),g=w.useMemo(()=>r?r==null?void 0:r.groupby(e.category).count():f?f==null?void 0:f.groupby(e.category).count():null,[r,f,e.category]),v=w.useCallback(b=>{i(b)},[]),_=w.useCallback((b,T)=>{const I=new Set(T.ctrlKey||T.metaKey?[...s.selection,...b]:b),D=f.filter($d($=>I.has($[e.ids])));o({...s,selection:[...I]}),i(D),p("click",{...s,selection:[...I]})},[s,f,p,e.ids]),S=w.useMemo(()=>(f==null?void 0:f.objects())||[],[f]),x=w.useMemo(()=>(r==null?void 0:r.objects())||[],[r]);return l?C.jsxs(Or,{spacing:"xs",children:[C.jsxs(Un,{children:[C.jsx(_i,{ml:60,compact:!0,style:{width:"130px"},disabled:s.selection.length===0,onClick:()=>{i(null),o({...s,selection:[]})},children:"Clear Selection"}),e.brushType==="Paintbrush Selection"?C.jsx(Jte,{defaultChecked:!0,value:a?"Select":"De-Select",onChange:b=>u(b==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:s.selection.length===0}]}):null,e.columns&&!e.hideCat?C.jsxs(C.Fragment,{children:[C.jsx(Nf,{color:"#f28e2c"}),C.jsx(et,{children:"Survived"}),C.jsx(Nf,{color:"#4e79a7"}),C.jsx(et,{children:"Died"})]}):null]}),C.jsxs(Un,{children:[Object.entries(s).map(b=>{const[T,I]=b;return T==="selection"?null:I.type==="histogram"?C.jsx(lfe,{onClose:D=>{const{[D]:$,...B}=s;o(B)},dataTable:f,setSelection:_,brushedPoints:s.selection,data:x.length>0?x:S,initialParams:{...e,x:I.xCol,y:I.yCol},brushType:e.brushType,brushState:I,isPaintbrushSelect:a,setFilteredTable:v},T):I.type==="violin"?C.jsx(cfe,{onClose:D=>{const{[D]:$,...B}=s;o(B)},allData:S,setSelection:_,brushedPoints:s.selection,data:x.length>0?x:S,initialParams:{...e,x:I.xCol,y:I.yCol},brushType:e.brushType,setBrushedSpace:y,brushState:I,isPaintbrushSelect:a,setFilteredTable:v},T):C.jsx(ufe,{onClose:D=>{const{[D]:$,...B}=s;o(B)},brushedPoints:s.selection,data:S,initialParams:{...e,x:I.xCol,y:I.yCol},brushType:e.brushType,setBrushedSpace:y,brushState:I,isPaintbrushSelect:a,setFilteredTable:v},T)}),e.hideCat?null:C.jsx(Sk,{fullTable:f,setSelection:_,data:S,parameters:e,barsTable:g})]})]}):C.jsx(sl,{})}const qat=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:UW,default:UW},Symbol.toStringTag,{value:"Module"})),Gat=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function ffe(e,t){return function(n){return t.map(r=>[r,KWe(n,i=>e(r-i))])}}function dfe(e){return function(t){return Math.abs(t/=e)<=1?.75*(1-t*t)/e:0}}function hfe(e,t){return e*t/(t-1)}function pfe(e,t,n){let r=Math.sqrt(hfe(t,n));return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*n**-.2}function Yat({values:e,xScale:t,ticks:n}){const r=$ot({values:e}).rollup({variance:By.variance("values"),q1:By.quantile("values",.25),q3:By.quantile("values",.75)}).objects()[0];return ffe(dfe(pfe(r.q3-r.q1,r.variance,e.length)),t.ticks(n))(e)}const Kat=Object.freeze(Object.defineProperty({__proto__:null,kdeCalc:Yat,kernelDensityEstimator:ffe,kernelEpanechnikov:dfe,silvermans:pfe,toSampleVariance:hfe},Symbol.toStringTag,{value:"Module"})),VW=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},Gg=e=>{const t=w.useRef(null),n=VW(e),[r,i]=w.useState(0),[s,o]=w.useState(0);w.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=VW({...n,width:n.width||r,height:n.height||s});return[t,a]},Qat=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:Gg},Symbol.toStringTag,{value:"Module"}));function mfe({data:e,xScale:t,yScale:n,height:r}){return C.jsx("g",{children:e.map((i,s)=>C.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const Xat=Object.freeze(Object.defineProperty({__proto__:null,Bars:mfe},Symbol.toStringTag,{value:"Module"}));function e4({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=w.useMemo(()=>{const o=$o().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(0,${a})`,children:[C.jsx("line",{x2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const Jat=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:e4},Symbol.toStringTag,{value:"Module"}));function gfe({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=w.useMemo(()=>{const o=Yh().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsx("g",{transform:`translate(${a}, 10)`,children:C.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const Zat=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:gfe},Symbol.toStringTag,{value:"Module"})),eut={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function tut({parameters:e}){const[n,r]=Gg(eut),i=Yh().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=$o().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(gfe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(e4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:C.jsx(mfe,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const nut=Object.freeze(Object.defineProperty({__proto__:null,default:tut},Symbol.toStringTag,{value:"Module"}));function yfe({data:e}){return C.jsx("g",{children:e.map(({bubble:t},n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const rut=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:yfe},Symbol.toStringTag,{value:"Module"}));function t4({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const iut=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:t4},Symbol.toStringTag,{value:"Module"})),sut={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},out=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=$Qe().size([t-10,n-10]).padding(1.5),o=hL(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},aut=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function uut({parameters:e}){const[t,n]=Gg(sut),r=out(e,n.width,n.height),i=aut(r,e.selectedIndices);return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[C.jsx(yfe,{data:r}),C.jsx(t4,{positions:i})]})})})}const lut=Object.freeze(Object.defineProperty({__proto__:null,default:uut},Symbol.toStringTag,{value:"Module"}));function vfe({arcs:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const cut=Object.freeze(Object.defineProperty({__proto__:null,Slices:vfe},Symbol.toStringTag,{value:"Module"}));function _fe({positions:e}){return C.jsx("g",{children:e.map((t,n)=>C.jsx("g",{transform:`translate(${t.centroid()})`,children:C.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const fut=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:_fe},Symbol.toStringTag,{value:"Module"})),dut={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},hut=TJe().value(e=>e.value),B0=150;function put({parameters:e}){const[t,n]=Gg(dut),r=hut(e.data),i=r.map(o=>AH().innerRadius(0).outerRadius(B0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>AH().outerRadius(B0+10).innerRadius(B0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return C.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:C.jsx("svg",{width:n.width,height:n.height,children:C.jsxs("g",{transform:`translate(${[n.marginLeft+B0,n.marginTop+B0].join(",")})`,children:[C.jsx(vfe,{arcs:i}),C.jsx(_fe,{positions:s})]})})})}const mut=Object.freeze(Object.defineProperty({__proto__:null,default:put},Symbol.toStringTag,{value:"Module"}));function bfe({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=w.useMemo(()=>{const o=$o().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return C.jsxs("g",{children:[C.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>C.jsxs("g",{transform:`translate(${a}, 0)`,children:[C.jsx("line",{y2:`${r}`,stroke:"currentColor"}),C.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const gut=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:bfe},Symbol.toStringTag,{value:"Module"}));function wfe({data:e,barWidth:t,yScale:n}){return C.jsx("g",{children:e.map((r,i)=>C.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const yut=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:wfe},Symbol.toStringTag,{value:"Module"})),vut={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function _ut({parameters:e}){const[n,r]=Gg(vut),i=Yh().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=$o().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,m)=>m===0||m===h.length-1),a=h=>h.filter((p,m)=>e.selectedIndices.includes(m)),u=h=>{const p=h.map(_=>+_.value),y=p.reduce((_,S)=>Number(_)+Number(S))/100,g={};p.forEach((_,S)=>{g[String.fromCharCode(S+65)]=_/y});const v=[g];return CJe().keys(e.data.map(_=>_.name))(v)},l=(h,p,m)=>h.filter((g,v)=>p.includes(v)).map(g=>({x:m,y:s(g[0][1])+.5*(s(g[0][0])-s(g[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return C.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:C.jsx("svg",{width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[C.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:C.jsx(bfe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),C.jsx("g",{transform:"translate(0, 0)",children:C.jsx(e4,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),C.jsxs("g",{transform:"translate(0, 0)",children:[C.jsx(wfe,{data:c,barWidth:f,yScale:s}),C.jsx(t4,{positions:d})]})]})})})}const but=Object.freeze(Object.defineProperty({__proto__:null,default:_ut},Symbol.toStringTag,{value:"Module"})),wut={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function Eut({parameters:e,setAnswer:t}){const[n,r]=Gg(wut),[i,s]=w.useState(100),[o,a]=w.useState(100),[u,l]=w.useState(300),{taskid:c}=e,{actions:f,trrack:d}=w.useMemo(()=>{const p=dg.create(),m=p.register("click",(g,v)=>(g.clickX=v.clickX,g.clickY=v.clickY,g.distance=v.distance,g)),y=Vx({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:m},trrack:y}},[]),h=w.useCallback(p=>{const m=Gr("#movingCircle"),y=Gr("#clickAccuracySvg"),g=lk(p,y.node()),v=[+m.attr("cx"),+m.attr("cy")],_=`${Math.round(Math.sqrt((g[0]-v[0])**2+(g[1]-v[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+_,clickX:g[0],clickY:g[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:_}})},[f,t,c,d]);return w.useEffect(()=>{const p=Math.random()*800,m=Math.random()*600,g=Math.sqrt((p-i)**2+(m-o)**2)/u*1e3;Gr(n.current).select("circle").transition().duration(g).ease(pKe).attr("cx",p).attr("cy",m).on("end",()=>{s(p),a(m)})},[n,u,i,o]),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:C.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:C.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[C.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),C.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),C.jsxs(tt,{children:["Adjust speed (px/s):",C.jsx(JI,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const Sut=Object.freeze(Object.defineProperty({__proto__:null,default:Eut},Symbol.toStringTag,{value:"Module"}));function zW({rankings:e}){return C.jsx("div",{style:{fontFamily:"sans-serif"},children:C.jsx("div",{children:e.map((t,n)=>C.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function Tut({parameters:e,setAnswer:t}){const n=su(),[r,i]=w.useState(""),{goToNextStep:s,isNextDisabled:o}=hie(),a=w.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=w.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=w.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=w.useCallback(()=>{o||s()},[o,s]);w.useEffect(()=>{const h=J_e([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),C.jsxs("div",{children:[C.jsxs(Bl,{children:[C.jsxs(Bl.Col,{span:2,children:[C.jsx(zW,{rankings:a==="r1"?e.data.r1:e.data.r2}),C.jsx(_i,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?C.jsx(Sz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),C.jsxs(Bl.Col,{span:2,children:[C.jsx(zW,{rankings:a==="r1"?e.data.r2:e.data.r1}),C.jsx(_i,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?C.jsx(Sz,{}):"Select this ranking"}),l&&r&&C.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&C.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const xut=Object.freeze(Object.defineProperty({__proto__:null,default:Tut},Symbol.toStringTag,{value:"Module"})),Iut=Object.assign({"../public/ThinkAloud/AddPlot.tsx":gWe,"../public/ThinkAloud/AudioTest.tsx":kWe,"../public/ThinkAloud/Bar.tsx":OJe,"../public/ThinkAloud/BrushPlot.tsx":qat,"../public/ThinkAloud/Histogram.tsx":Hat,"../public/ThinkAloud/Paintbrush.tsx":Vat,"../public/ThinkAloud/Scatter.tsx":zat,"../public/ThinkAloud/Violin.tsx":Wat,"../public/ThinkAloud/XAxisBar.tsx":AJe,"../public/ThinkAloud/YAxis.tsx":Uat,"../public/ThinkAloud/YAxisBar.tsx":PJe,"../public/ThinkAloud/types.ts":Gat,"../public/ThinkAloud/useKdeCalc.tsx":Kat,"../public/cleveland/BarChart.tsx":nut,"../public/cleveland/BubbleChart.tsx":lut,"../public/cleveland/PieChart.tsx":mut,"../public/cleveland/StackedBarChart.tsx":but,"../public/cleveland/chartcomponents/Bars.tsx":Xat,"../public/cleveland/chartcomponents/Bubbles.tsx":rut,"../public/cleveland/chartcomponents/DotMarks.tsx":iut,"../public/cleveland/chartcomponents/NumericAxisH.tsx":gut,"../public/cleveland/chartcomponents/NumericAxisV.tsx":Jat,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":Zat,"../public/cleveland/chartcomponents/Slices.tsx":cut,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":fut,"../public/cleveland/chartcomponents/StackedBars.tsx":yut,"../public/cleveland/hooks/useChartDimensions.tsx":Qat,"../public/click-accuracy-test/ClickAccuracyTest.tsx":Sut,"../public/fairness-jnd/FairnessJND.tsx":xut});function Cut({currentConfig:e,provState:t}){const n=su(),r=`../public/${e.path}`,i=Iut[r].default,s=Ja(),{updateResponseBlockValidation:o,setIframeAnswers:a}=ha(),u=w.useCallback(({status:l,provenanceGraph:c,answers:f})=>{s(o({location:"sidebar",currentStep:n,status:l,values:f,provenanceGraph:c})),s(a(Object.values(f).map(d=>d)))},[s,n]);return C.jsx(w.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:C.jsx(i,{parameters:e.parameters,setAnswer:u,provenanceState:t})})}function Aut({currentConfig:e}){const[t,n]=w.useState(null);return w.useEffect(()=>{fetch(`${_l}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:C.jsx(Do,{text:t})}function pc(){return Es(e=>e.config)}function Efe(){const e=su(),{setAlertModal:t}=ha(),n=Ja();w.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function HW({provState:e}){var T;const t=pc(),n=da(),{trialName:r}=zh(),i=t.components[r],s=O6(),o=gC(i)&&t.baseComponents?P6({},(T=t.baseComponents)==null?void 0:T[i.baseComponent],i):i,a=o.instruction||"",{instructionLocation:u}=o,l=t.uiConfig.sidebar&&(u==="sidebar"||u===void 0),[c,f]=w.useState(null),d=Ja(),{setIsRecording:h,setAnalysisTrialName:p}=ha(),{analysisTrialName:m,analysisProvState:y}=Es(I=>I),g=vl(),[v,_]=w.useState(null);w.useEffect(()=>{d(p(r))},[d,p,r]),w.useEffect(()=>{r&&m&&r!==m&&g(`../${m}`)},[m,r,g]),w.useEffect(()=>{!r||!t||!t.recordStudyAudio||!n.storageEngine||(c&&v&&n.storageEngine.saveAudio(c,v),t.tasksToNotRecordAudio&&t.tasksToNotRecordAudio.includes(r)?(_(null),f(null),d(h(!1))):(navigator.mediaDevices.getUserMedia({audio:!0}).then(D=>{const $=new MediaRecorder(D);$.start(),f($),d(h(!0))}),_(r)))},[r]),Efe();const{storageEngine:S}=da(),x=Ja(),{setAlertModal:b}=ha();return w.useEffect(()=>{(S==null?void 0:S.getEngine())!=="firebase"&&x(b({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[b,S,x]),C.jsxs(C.Fragment,{children:[u==="aboveStimulus"&&C.jsx(Do,{text:a}),C.jsx(qT,{status:s,config:o,location:"aboveStimulus"},`${r}-above-response-block`),C.jsxs(w.Suspense,{fallback:C.jsx("div",{children:"Loading..."}),children:[o.type==="markdown"&&C.jsx(Aut,{currentConfig:o}),o.type==="website"&&C.jsx(QHe,{currentConfig:o}),o.type==="image"&&C.jsx(JHe,{currentConfig:o}),o.type==="react-component"&&C.jsx(Cut,{currentConfig:o,provState:y})]},`${r}-stimulus`),(u==="belowStimulus"||u===void 0&&!l)&&C.jsx(Do,{text:a}),C.jsx(qT,{status:s,config:o,location:"belowStimulus"},`${r}-below-response-block`)]})}function Put(e){const[t]=S3();return C.jsx(x$e,{...e,to:{pathname:e.to,search:t.toString()}})}function Out(){const e=pc(),{storageEngine:t}=da(),{answers:n}=Es(s=>s),[r,i]=w.useState(!1);return w.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),Efe(),C.jsx(ao,{style:{height:"100%"},children:C.jsx(KI,{direction:"column",children:r?C.jsx(et,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?C.jsx(Do,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):C.jsxs(C.Fragment,{children:[C.jsx(et,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),C.jsx(ST,{h:"lg"}),C.jsx(ao,{children:C.jsx(sl,{color:"blue"})})]})})})}function Rut(e,t=!1){return typeof e=="number"?WW(e,t):WW(e.length,t).map(r=>r.map(i=>e[i]))}function WW(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function Sfe(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=Sfe(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function Nut(e,t){const n=Eh(e);return Sfe(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function Tfe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&Tfe(s,t,i,o)})}function kut(e){const t=[];return Tfe(e,t,"",0),t}function qW(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return Rut(i.sort(()=>.5-Math.random()),!0)}function Dut(e){const n=kut(e.sequence).map(s=>({[s]:qW(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Nut(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=qW(e,o))})}),i}const nD=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],Jw=["participantId","trialId","responseId"];function Zw(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function $ut(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=gC(i)&&i.baseComponent&&t.baseComponents?P6({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function Lut(e,t,n,r=[...Jw,...nD]){const s=(await t.getAllParticipantsData()).map(l=>$ut(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);Zw(u,e)}function Mut({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=n1e([...Jw,...nD]),o=w.useCallback(l=>{Jw.every(c=>l.includes(c))&&s(l)},[s]),a=w.useMemo(()=>[...Jw,...nD],[]),{storageEngine:u}=da();return u?C.jsxs(QI,{opened:e,size:"lg",onClose:t,title:C.jsx(et,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[C.jsx(tt,{children:C.jsx(g3,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:C.jsx(et,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),C.jsxs(KI,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[C.jsx(_i,{leftIcon:C.jsx(toe,{}),onClick:()=>Lut(n,u,r,i),children:"Download"}),C.jsx(_i,{onClick:t,color:"red",children:"Close"})]})]}):null}function Fut({studyConfig:e}){const{storageEngine:t}=da(),[n,{open:r,close:i}]=BQ(!1),[s,o]=w.useState(),[a,u]=w.useState(""),l=e.studyMetadata.title.replace(" ","_");w.useEffect(()=>{async function m(){if(t){const y=await t.getCurrentParticipantId(),g=await t.getParticipantData();u(y),o(g)}}m()},[t]);const c=w.useCallback(async()=>{Zw(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=w.useState(Math.floor(d/1e3));return w.useEffect(()=>{const m=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),C.jsxs(Or,{children:[C.jsx(_i,{leftIcon:C.jsx(lWe,{}),onClick:()=>Zw(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(cWe,{}),onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();Zw(JSON.stringify(m,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),C.jsx(_i,{disabled:!(t!=null&&t.isConnected()),leftIcon:C.jsx(toe,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&C.jsxs(et,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),C.jsx(Mut,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function wA(e){return e.components.flatMap(t=>typeof t=="string"?t:wA(t))}function GW(e,t){return wA(t).find(i=>e.indexOf(i)!==-1)}function jut(e,t){return wA(t).filter(i=>e.indexOf(i)!==-1)}function But({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=vl(),[o,{close:a,open:u}]=BQ(!1);return C.jsxs(jr,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[C.jsx(jr.Target,{children:C.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:C.jsx(Tte,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:C.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?C.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&jh.createPortal(C.jsx(jr.Dropdown,{onMouseLeave:a,children:C.jsx(et,{size:"sm",children:C.jsxs("div",{children:[r.description&&C.jsxs("div",{children:[C.jsx(et,{fw:900,display:"inline-block",mr:2,children:"Description:"}),C.jsx(et,{fw:400,component:"span",children:r.description})]}),r.meta&&C.jsxs(et,{children:[C.jsx(et,{fw:"900",component:"span",children:"Task Meta: "}),C.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function xfe({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=zh(),i=su(),s=pc(),o=w.useMemo(()=>{const a=Eh(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:GW(e,u),f=typeof l=="string"?l:GW(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return C.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return C.jsx(But,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=wA(a),c=jut(e,a);return C.jsx(Tte,{label:C.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",C.jsxs(wIe,{ml:5,children:[c.length,"/",l.length]}),C.jsx(et,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?C.jsx(uWe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:C.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:C.jsx(xfe,{order:a,sequence:e,depth:n+1})})},u)})})}function Uut(){const{showAdmin:e,sequence:t}=Es(s=>s),n=su(),r=pc(),i=w.useMemo(()=>{const s=Eh(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?C.jsx(H$,{p:"0",width:{base:300},style:{zIndex:0},children:C.jsxs(lJ,{p:"0",children:[n==="end"&&C.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[C.jsx(et,{size:"md",p:10,weight:"bold",children:"Download"}),C.jsx(Fut,{studyConfig:r})]}),C.jsx(et,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),C.jsx(xfe,{order:i,sequence:t})]})}):null}function Vut(){const{config:e,sequence:t}=Es(S=>S),n=Ja(),{toggleShowHelpText:r,toggleShowAdmin:i}=ha(),{storageEngine:s}=da(),o=Es(S=>S.isRecording),a=su(),u=e!==null?t.indexOf(a):0,l=t.length-1,c=u/l*100,[f,d]=w.useState(!1),h=e==null?void 0:e.uiConfig.logoPath,p=e==null?void 0:e.uiConfig.withProgressBar,[m]=w.useState(new URLSearchParams(window.location.search)),y=m.get("admin")||"f",g=fie(),v=bne(`/${g}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=v}).catch(S=>{console.error(S)})}return C.jsx(FX,{height:"70",p:"md",children:C.jsxs(Bl,{mt:-7,align:"center",children:[C.jsx(Bl.Col,{span:4,children:C.jsxs(Un,{align:"center",noWrap:!0,children:[C.jsx(k_,{maw:40,src:`${_l}${h}`,alt:"Study Logo"}),C.jsx(ST,{w:"md"}),C.jsx(qc,{order:4,children:e==null?void 0:e.studyMetadata.title}),o?C.jsxs(Un,{spacing:20,noWrap:!0,children:[C.jsx(et,{color:"red",children:"Recording audio"}),C.jsx(aoe,{})]}):null]})}),C.jsx(Bl.Col,{span:4,children:p&&C.jsx(zte,{radius:"md",size:"lg",value:c})}),C.jsx(Bl.Col,{span:4,children:C.jsxs(KI,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&C.jsx(_i,{variant:"outline",onClick:()=>n(r()),children:"Help"}),C.jsx(ST,{w:"md"}),y==="t"&&C.jsxs(Zo,{shadow:"md",width:200,zIndex:1,opened:f,onChange:d,children:[C.jsx(Zo.Target,{children:C.jsx(wv,{size:"lg",children:C.jsx(fWe,{})})}),C.jsxs(Zo.Dropdown,{children:[C.jsx(Zo.Item,{icon:C.jsx(Tz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),C.jsx(Zo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:C.jsx(hWe,{size:14}),children:"Contact"}),C.jsx(Zo.Item,{icon:C.jsx(Tz,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function zut(){var u;const e=(u=pc())==null?void 0:u.uiConfig.sidebar,t=pc(),n=su(),r=t.components[n],i=w.useMemo(()=>{var l;return r?gC(r)&&t.baseComponents?P6({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=O6(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?C.jsxs(Ty,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&C.jsx(Ty.Section,{bg:"gray.3",p:"xl",children:C.jsxs(et,{c:"gray.9",children:[C.jsx(et,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),C.jsx(Do,{text:o})]})}),C.jsx(Ty.Section,{p:"xl",children:C.jsx(qT,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):C.jsx(qT,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function Hut(){const{showHelpText:e,config:t}=Es(o=>o),n=Ja(),{toggleShowHelpText:r}=ha(),[i,s]=w.useState("");return w.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${_l}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),C.jsx(QI,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:C.jsx(Do,{text:i})})}function Wut(){const{alertModal:e}=Es(o=>o),{setAlertModal:t}=ha(),n=Ja(),[r,i]=w.useState(e.show),s=w.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return w.useEffect(()=>i(e.show),[e.show]),C.jsx(QI,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:C.jsxs(_X,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:C.jsx(sWe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[C.jsx(et,{my:"md",children:e.message}),C.jsx(tt,{style:{float:"right"},color:"red",children:C.jsx(_i,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function qut(){const e=w.useRef([]),n=pc().uiConfig.windowEventDebounceTime??100;return w.useEffect(()=>{const r=pu(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=pu(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=pu(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=pu(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=pu(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=pu(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=pu(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=pu(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=pu(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),C.jsx(die.Provider,{value:e,children:C.jsxs(UX,{navbar:C.jsx(zut,{}),aside:C.jsx(Uut,{}),header:C.jsx(Vut,{}),children:[C.jsx(Hut,{}),C.jsx(Wut,{}),C.jsx(I$e,{})]})})}var YW=Object.prototype.hasOwnProperty;function KW(e,t,n){for(n of e.keys())if(Wy(n,t))return n}function Wy(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Wy(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=KW(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=KW(t,i),!i)||!Wy(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(YW.call(e,n)&&++r&&!YW.call(t,n)||!(n in t)||!Wy(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Gut(e){var t=w.useRef(e),n=w.useRef(0);return Wy(e,t.current)||(t.current=e,n.current+=1),w.useMemo(function(){return t.current},[n.current])}function Yut(e,t){return w.useEffect(e,Gut(t))}const Ife=(e,t=null)=>{const[n,r]=w.useState("idle"),[i,s]=w.useState(null),[o,a]=w.useState(null),u=w.useRef(),l=w.useRef(!1);w.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=w.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return Yut(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},Wb=3,yp=25,qb=25,Gb=20,QW=1;function Kut({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=w.useState(!1),[l,{width:c}]=Yu();return C.jsxs("g",{onClick:()=>i(n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[C.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+QW,width:e(t.endTime)-e(t.startTime)-QW*2,y:r-yp,height:yp}),C.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-Wb,width:c+Wb*2,y:r-yp-qb-o,height:Gb,fill:"whitesmoke"}),C.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-Wb,x2:c+e(t.startTime)+Wb,y1:r-yp-qb+Gb-o,y2:r-yp-qb+Gb-o}),C.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-yp-qb-o,height:Gb,children:C.jsx(ao,{style:{width:"fit-content"},children:C.jsx(et,{weight:600,lineClamp:1,ref:l,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function Qut({xScale:e,answer:t,height:n,labelHeight:r=0}){return C.jsx("g",{children:C.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const XW=25,Xut=8;function Cfe({xScale:e,participantData:t,width:n,height:r,setSelectedTask:i,trialFilter:s}){const{analysisTrialName:o}=Es(l=>l),a=w.useMemo(()=>{let l=0;const c=Object.entries(t.answers||{}).filter(f=>s?f[0]===s:!0).sort((f,d)=>f[1].startTime-d[1].startTime);return c.map((f,d)=>{const[h,p]=f,m=d>0?c[d-l-1]:null;return m&&m[0].length*Xut+e(m[1].startTime)>e(p.startTime)?l+=1:l=0,{line:C.jsx(Qut,{labelHeight:l*XW,answer:p,height:r,xScale:e},h),label:C.jsx(Kut,{labelHeight:l*XW,isSelected:s?!1:o===h,setSelectedTask:i,answer:p,height:r,name:h,xScale:e},h)}})},[r,t.answers,o,i,s,e]),u=w.useMemo(()=>Object.entries(t.answers||{}).sort((c,f)=>c[1].startTime-f[1].startTime).map(c=>{const[f,d]=c,h=[];let p=[-1,-1],m="visible";if(d.windowEvents)for(let y=0;y<d.windowEvents.length;y+=1)d.windowEvents[y][1]==="visibility"&&(d.windowEvents[y][2]==="hidden"&&m==="visible"?(p=[d.windowEvents[y][0],-1],m="hidden"):d.windowEvents[y][2]==="visible"&&m==="hidden"&&(p[1]=d.windowEvents[y][0],h.push(p),p=[-1,-1],m="visible"));return h.map((y,g)=>C.jsx(L_,{withinPortal:!0,label:"Browsed away",children:C.jsx("rect",{x:e(y[0]),width:e(y[1])-e(y[0]),y:r-5,height:10})},g))}),[r,t,e]);return s?null:C.jsxs("svg",{style:{width:n,height:r,overflow:"visible"},children:[a.map(l=>l.line),a.map(l=>l.label),u]})}const R2={left:5,top:0,right:5,bottom:0};function Jut(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function Zut({participant:e,maxDuration:t}){const n=vl(),r=nd(),i=w.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const l=Object.values(e.answers).sort((c,f)=>c.startTime-f.startTime);return new Date(l[l.length-1].endTime-(l[1]?l[1].startTime:0)).getTime()},[e]),[s,{width:o}]=Yu(),a=w.useMemo(()=>!e.answers||Object.entries(e.answers).length===0?0:ak(Object.values(e.answers).map(c=>c.provenanceGraph?Object.keys(c.provenanceGraph.nodes).length:0)),[e]),u=w.useMemo(()=>{if(!e)return null;const l=Object.values(e.answers||{}).map(d=>[d.startTime,d.endTime]).flat(),c=YT(l);return $o([R2.left,o+R2.left+R2.right]).domain(c).clamp(!0)},[e,o]);return C.jsx(ao,{children:C.jsxs(Or,{spacing:25,ref:s,style:{width:"75%"},children:[C.jsxs(Un,{position:"apart",children:[C.jsx(IX,{size:25,component:j$e,target:"_blank",to:`${r.pathname}/${e.participantId}/ui`,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId}),C.jsx(et,{size:"xl",children:`${a}`}),C.jsx(et,{size:"xl",children:`${Jut(i)}`})]}),u?C.jsx(Cfe,{xScale:u,setSelectedTask:()=>null,participantData:e,width:o,height:250}):null]},e.participantId)})}function elt(e){return e?e.getAllParticipantsData():null}const JW=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],ZW=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function tlt(){const{storageEngine:e}=da(),{value:t,status:n}=Ife(elt,[e]),r=w.useMemo(()=>{if(!(n!=="success"||!t))return Sh(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return w.useMemo(()=>{if(!t)return 0;const i=t==null?void 0:t.filter(s=>ZW.includes(s.participantId)).map(s=>!s.answers||Object.entries(s.answers).length===0?0:ak(Object.values(s.answers).map(a=>a.provenanceGraph?Object.keys(a.provenanceGraph.nodes).length:0)));return Nz(i)},[t]),w.useMemo(()=>{if(!t)return 0;const i=t==null?void 0:t.filter(s=>JW.includes(s.participantId)).map(s=>!s.answers||Object.entries(s.answers).length===0?0:ak(Object.values(s.answers).map(a=>a.provenanceGraph?Object.keys(a.provenanceGraph.nodes).length:0)));return Nz(i)},[t]),n==="success"&&t?C.jsx(Or,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.filter(i=>ZW.includes(i.participantId)||JW.includes(i.participantId)).map(i=>C.jsx(Zut,{maxDuration:r,participant:i},i.participantId))}):C.jsx(sl,{})}var Afe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:Ks,()=>(()=>{var n={d:(c,f)=>{for(var d in f)n.o(f,d)&&!n.o(c,d)&&Object.defineProperty(c,d,{enumerable:!0,get:f[d]})},o:(c,f)=>Object.prototype.hasOwnProperty.call(c,f),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},r={};function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i(c)}function s(c){return function(f){if(Array.isArray(f))return o(f)}(c)||function(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}(c)||function(f,d){if(f){if(typeof f=="string")return o(f,d);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return o(f,d)}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(c,f){(f==null||f>c.length)&&(f=c.length);for(var d=0,h=new Array(f);d<f;d++)h[d]=c[d];return h}function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function u(c,f){for(var d=0;d<f.length;d++){var h=f[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,(p=h.key,m=void 0,m=function(y,g){if(i(y)!=="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var _=v.call(y,g||"default");if(i(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(y)}(p,"string"),i(m)==="symbol"?m:String(m)),h)}var p,m}n.r(r),n.d(r,{default:()=>l});var l=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.sampleRate;a(this,c),this._context=this._createContext(p),p||(p=this._context.sampleRate),this._sampleRate=p}var f,d;return f=c,d=[{key:"_createContext",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:44100;return window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,new AudioContext({sampleRate:h})}},{key:"context",get:function(){return this._context}},{key:"fetchAudio",value:async function(){for(var h=this,p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return await Promise.all(m.map(async function(g){var v;return v=g instanceof File||g instanceof Blob?await g.arrayBuffer():await fetch(g).then(function(_){return _.headers.has("Content-Type")&&!_.headers.get("Content-Type").includes("audio/")&&console.warn("Crunker: Attempted to fetch an audio file, but its MIME type is `".concat(_.headers.get("Content-Type").split(";")[0],"`. We'll try and continue anyway. (file: \"").concat(g,'")')),_.arrayBuffer()}),await h._context.decodeAudioData(v)}))}},{key:"mergeAudio",value:function(h){var p=this._context.createBuffer(this._maxNumberOfChannels(h),this._sampleRate*this._maxDuration(h),this._sampleRate);return h.forEach(function(m){for(var y=0;y<m.numberOfChannels;y++){for(var g=p.getChannelData(y),v=m.getChannelData(y),_=m.getChannelData(y).length-1;_>=0;_--)g[_]+=v[_];p.getChannelData(y).set(g)}}),p}},{key:"concatAudio",value:function(h){var p=this._context.createBuffer(this._maxNumberOfChannels(h),this._totalLength(h),this._sampleRate),m=0;return h.forEach(function(y){for(var g=0;g<y.numberOfChannels;g++)p.getChannelData(g).set(y.getChannelData(g),m);m+=y.length}),p}},{key:"padAudio",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(m===0)return h;if(p<0)throw new Error('Crunker: Parameter "padStart" in padAudio must be positive');if(m<0)throw new Error('Crunker: Parameter "seconds" in padAudio must be positive');for(var y=this._context.createBuffer(h.numberOfChannels,Math.ceil(h.length+m*h.sampleRate),h.sampleRate),g=0;g<h.numberOfChannels;g++){var v=h.getChannelData(g);y.getChannelData(g).set(v.subarray(0,Math.ceil(p*h.sampleRate)+1),0),y.getChannelData(g).set(v.subarray(Math.ceil(p*h.sampleRate)+2,y.length+1),Math.ceil((p+m)*h.sampleRate))}return y}},{key:"sliceAudio",value:function(h,p,m){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(p>=m)throw new Error('Crunker: "start" time should be less than "end" time in sliceAudio method');for(var v=Math.round((m-p)*this._sampleRate),_=Math.round(p*this._sampleRate),S=this._context.createBuffer(h.numberOfChannels,v,this._sampleRate),x=0;x<h.numberOfChannels;x++)for(var b=h.getChannelData(x),T=S.getChannelData(x),I=0;I<v;I++)T[I]=b[_+I],I<y*this._sampleRate&&(T[I]*=I/(y*this._sampleRate)),I>v-g*this._sampleRate&&(T[I]*=(v-I)/(g*this._sampleRate));return S}},{key:"play",value:function(h){var p=this._context.createBufferSource();return p.buffer=h,p.connect(this._context.destination),p.start(),p}},{key:"export",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"audio/wav",m=this._interleave(h),y=this._writeHeaders(m,h.numberOfChannels,h.sampleRate),g=new Blob([y],{type:p});return{blob:g,url:this._renderURL(g),element:this._renderAudioElement(g)}}},{key:"download",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"crunker",m=document.createElement("a");return m.style.display="none",m.href=this._renderURL(h),m.download="".concat(p,".").concat(h.type.split("/")[1]),m.click(),m}},{key:"notSupported",value:function(h){return this._isSupported()?void 0:h()}},{key:"close",value:function(){return this._context.close(),this}},{key:"_maxDuration",value:function(h){return Math.max.apply(Math,s(h.map(function(p){return p.duration})))}},{key:"_maxNumberOfChannels",value:function(h){return Math.max.apply(Math,s(h.map(function(p){return p.numberOfChannels})))}},{key:"_totalLength",value:function(h){return h.map(function(p){return p.length}).reduce(function(p,m){return p+m},0)}},{key:"_isSupported",value:function(){return"AudioContext"in window||"webkitAudioContext"in window||"mozAudioContext"in window}},{key:"_writeHeaders",value:function(h,p,m){var y=2*p,g=2*h.length,v=36+g,_=new ArrayBuffer(8+v),S=new DataView(_);return this._writeString(S,0,"RIFF"),S.setUint32(4,v,!0),this._writeString(S,8,"WAVE"),this._writeString(S,12,"fmt "),S.setUint32(16,16,!0),S.setUint16(20,1,!0),S.setUint16(22,p,!0),S.setUint32(24,m,!0),S.setUint32(28,m*y,!0),S.setUint16(32,y,!0),S.setUint16(34,16,!0),this._writeString(S,36,"data"),S.setUint32(40,g,!0),this._floatTo16BitPCM(S,h,44)}},{key:"_floatTo16BitPCM",value:function(h,p,m){for(var y=0;y<p.length;y++,m+=2){var g=Math.max(-1,Math.min(1,p[y]));h.setInt16(m,g<0?32768*g:32767*g,!0)}return h}},{key:"_writeString",value:function(h,p,m){for(var y=0;y<m.length;y++)h.setUint8(p+y,m.charCodeAt(y))}},{key:"_interleave",value:function(h){if(h.numberOfChannels===1)return h.getChannelData(0);for(var p=[],m=0;m<h.numberOfChannels;m++)p.push(h.getChannelData(m));for(var y=p.reduce(function(S,x){return S+x.length},0),g=new Float32Array(y),v=0,_=0;v<y;)p.forEach(function(S){g[v++]=S[_]}),_++;return g}},{key:"_renderAudioElement",value:function(h){var p=document.createElement("audio");return p.controls=!0,p.src=this._renderURL(h),p}},{key:"_renderURL",value:function(h){return(window.URL||window.webkitURL).createObjectURL(h)}}],d&&u(f.prototype,d),Object.defineProperty(f,"prototype",{writable:!1}),c}();return r})())})(Afe);var nlt=Afe.exports;const rlt=ma(nlt);function ilt(e,t){const[n,r]=w.useState(e),i=w.useRef(null),s=w.useRef(!0),o=()=>window.clearTimeout(i.current),a=w.useCallback(u=>{s.current&&(r(u),o(),s.current=!1,i.current=window.setTimeout(()=>{s.current=!0},t))},[t]);return w.useEffect(()=>o,[]),[n,a]}function slt({cx:e,cy:t,r:n,color:r}){return C.jsx("circle",{cx:e,cy:t,r:n,fill:r})}function olt({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i,taskName:s}){return C.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(o=>{const[a,u]=o;return C.jsx("g",{onClick:()=>i(a,u.createdOn,s),children:C.jsx(slt,{color:a===r?"cornflowerblue":"lightgray",cx:e(u.createdOn),cy:n/2,r:5})},a)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?C.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const eq={left:5,top:0,right:5,bottom:0};function alt({xScale:e,participantData:t,width:n,height:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:u,setIsPlaying:l,setSelectedTask:c}){const f=w.useMemo(()=>e.domain()[1]-e.domain()[0],[e]),{trialFilter:d}=zh();w.useEffect(()=>{if(!d||!t)return;const m=t.answers[d].provenanceGraph;if(!m)return;const{startTime:y}=t.answers.introduction,g=y+o;if(!i||!m.nodes[i]){s(m.root);return}let v=m.nodes[i];for(;;)if(g<v.createdOn){if(Uot(v))break;{const _=v.parent;if(g<m.nodes[_].createdOn)v=m.nodes[_];else break}}else if(v.children.length>0){const _=v.children[0];if(g>m.nodes[_].createdOn)v=m.nodes[_];else break}else break;v.id!==i&&s(v.id)},[i,t,o,s,d]);const h=w.useCallback((m,y,g)=>{a(y,(y-e.domain()[0])/f),s(m)},[s,a,f,e]),p=w.useMemo(()=>Object.entries(t.answers).filter(m=>d?d===m[0]:!0).map(m=>{const[y,g]=m;return C.jsx(olt,{taskName:y,answer:g,height:r,currentNode:i,setCurrentNode:h,xScale:e},y)}),[i,h,r,t.answers,d,e]);return C.jsx(Or,{children:C.jsxs("svg",{style:{width:n,height:r},children:[C.jsx("line",{stroke:"black",strokeWidth:1,x1:eq.left,x2:n+eq.left,y1:r/2,y2:r/2}),p]})})}const tq={top:5,left:5,right:5,bottom:5};function ult({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=w.useMemo(()=>e.map(s=>C.jsxs("g",{children:[C.jsx("line",{stroke:r>=s.lineStart&&r<=s.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:tq.top,y2:tq.top,x1:t(n+s.start*1e3)+2,x2:t(n+s.end*1e3)-2}),s.tags.map((o,a)=>C.jsx("g",{children:o.map((u,l)=>{const c=t(n+s.start*1e3),f=t(n+s.end*1e3);return C.jsx("foreignObject",{x:c+(f-c)/s.tags.length*(a+.5)-6+(-(o.length-1)*15/2+l*15),y:30,height:"20px",width:"20px",children:C.jsx(L_,{label:u.name,withArrow:!0,arrowSize:6,children:C.jsx(Nf,{size:12,color:u.color})})},u.name)})},a))]},s.start)),[r,n,e,t]);return C.jsx("svg",{style:{width:"100%",height:"50px"},children:i})}const llt=w.forwardRef(({color:e,name:t,...n},r)=>C.jsx("div",{ref:r,...n,children:C.jsxs(Un,{spacing:"xs",noWrap:!0,children:[C.jsx(Nf,{size:10,color:e}),C.jsx(et,{children:t})]})}));function clt({value:e,label:t,color:n,onRemove:r,classNames:i,...s}){const o=Toe(n).l;return C.jsx("div",{...s,children:C.jsxs(tt,{sx:a=>({display:"flex",cursor:"default",alignItems:"center",backgroundColor:n,border:`1px solid ${a.colorScheme==="dark"?a.colors.dark[7]:a.colors.gray[4]}`,paddingLeft:4,borderRadius:4}),children:[C.jsx(et,{color:o>.7?"dark":"white",sx:{lineHeight:1,fontSize:12},children:t}),C.jsx(P_,{onMouseDown:r,color:o>.7?"dark":"white",sx:{color:o>.7?"black":"white"},variant:"transparent",size:22,iconSize:14,tabIndex:-1})]})})}function flt({start:e,current:t,end:n,text:r,tags:i,selectedTags:s,addTag:o,onTextChange:a,deleteRowCallback:u,addRowCallback:l,onSelectTags:c,addRef:f}){return C.jsxs(Un,{position:"apart",style:{width:"100%"},noWrap:!0,children:[C.jsxs(Un,{noWrap:!0,spacing:0,style:{width:"100%"},children:[C.jsx(pWe,{height:40,width:20,viewBox:"10 0 14 24",strokeWidth:2,color:t>=e&&t<=n?"cornflowerblue":"lightgray"}),C.jsx($_,{ref:d=>d?f(d):null,style:{width:"100%"},variant:"unstyled",value:r,onChange:d=>{a(d.currentTarget.value)},onKeyDown:d=>{d.key==="Enter"&&d.currentTarget.selectionStart!==null?l(d.currentTarget.selectionStart):d.key==="Backspace"&&d.currentTarget.selectionStart===0&&d.currentTarget.selectionEnd===0&&(u(),d.preventDefault(),d.stopPropagation())}})]}),C.jsxs(Un,{noWrap:!0,style:{width:"400px"},children:[C.jsx(eS,{orientation:"vertical",size:"xs"}),C.jsx(g3,{nothingFound:"No tags found. Add more via the + button.",valueComponent:clt,itemComponent:llt,value:s.map(d=>d.name),onChange:d=>c(d.map(h=>i.find(p=>p.name===h))),style:{width:"380px"},data:i.map(d=>({...d,value:d.name,label:d.name}))})]})]})}function nq({addTagCallback:e,currentNames:t,editTag:n=!1}){const[r,i]=w.useState(""),[s,o]=w.useState("#fd7e14");return C.jsxs(Or,{spacing:"xs",children:[C.jsxs(Un,{children:[C.jsx(Nf,{color:s}),C.jsx($_,{required:!0,placeholder:"Enter tag name",value:r,onChange:a=>i(a.currentTarget.value),error:t.includes(r)?"Tag with this name already exists":null})]}),C.jsx(mee,{withPicker:!1,style:{width:"100%"},value:s,onChange:a=>o(a),swatches:["#2e2e2e","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"]}),C.jsx(_i,{disabled:r.length===0||t.includes(r),compact:!0,onClick:()=>e({color:s,name:r}),children:n?"Edit Tag":"Add Tag"})]})}function dlt({createTagCallback:e,tags:t}){const[n,r]=w.useState(!1);return C.jsxs(Or,{style:{width:"300px"},spacing:"xs",children:[t.length===0?C.jsx(et,{color:"dimmed",children:"No tags found. Create new tags below."}):null,t.map(i=>C.jsxs(Un,{position:"apart",children:[C.jsxs(Un,{children:[C.jsx(Nf,{color:i.color}),C.jsx(et,{children:i.name})]}),C.jsxs(jr,{trapFocus:!0,children:[C.jsx(jr.Target,{children:C.jsx(dWe,{color:"lightgray"})}),C.jsx(jr.Dropdown,{children:C.jsx(nq,{editTag:!0,currentNames:t.map(s=>s.name),addTagCallback:s=>{e(s)}})})]})]},i.name)),C.jsxs(jr,{trapFocus:!0,opened:n,children:[C.jsx(jr.Target,{children:C.jsx(_i,{variant:"light",onClick:()=>r(!n),children:"Create new tag"})}),C.jsx(jr.Dropdown,{children:C.jsx(nq,{currentNames:t.map(i=>i.name),addTagCallback:i=>{r(!0),e(i)}})})]})]})}function hlt({participant:e,playTime:t,setTranscriptLines:n,currentShownTranscription:r,setCurrentShownTranscription:i,transcriptList:s,setTranscriptList:o}){const[a,u]=w.useState(null),{trrackId:l,studyId:c,trialFilter:f}=zh(),[d,h]=w.useState([]),{storageEngine:p}=da(),m=pc(),y=w.useRef([]),g=Xp((x,b)=>{const T=[...s];T[x].text=b,o(T)}),v=Xp((x,b)=>{const T=[...s];T[x].selectedTags=b,o(T)}),_=Xp(x=>{if(x===0)return;const b=structuredClone(s);b[x-1].text=s[x-1].text+s[x].text,b[x-1].transcriptMappingEnd=s[x].transcriptMappingEnd,b[x-1].selectedTags=[...s[x-1].selectedTags,...s[x].selectedTags.filter(T=>!s[x-1].selectedTags.find(I=>I.name===T.name))],b.splice(x,1),b.filter(T=>T.transcriptMappingStart===b[x-1].transcriptMappingStart).forEach(T=>{T.transcriptMappingEnd=b[x-1].transcriptMappingEnd}),o(b),setTimeout(()=>{y.current[x-1].focus(),y.current[x-1].setSelectionRange(s[x-1].text.length,s[x-1].text.length,"none")})}),S=Xp((x,b)=>{const T=structuredClone(s),I=T[x];T.splice(x+1,0,{transcriptMappingEnd:I.transcriptMappingEnd,transcriptMappingStart:I.transcriptMappingStart,text:I.text.slice(b),selectedTags:I.selectedTags}),T[x].text=T[x].text.slice(0,b),o(T),setTimeout(()=>{y.current[x+1].focus(),y.current[x+1].setSelectionRange(0,0)})});return w.useEffect(()=>{const x=[];s.forEach((b,T)=>{a&&(T===0||b.transcriptMappingStart!==s[T-1].transcriptMappingStart)&&x.push({start:T===0?0:a.results[b.transcriptMappingStart-1].resultEndTime,end:a.results[b.transcriptMappingEnd].resultEndTime,lineStart:b.transcriptMappingStart,lineEnd:b.transcriptMappingEnd,tags:s.filter(I=>I.transcriptMappingStart===b.transcriptMappingStart&&I.transcriptMappingEnd===b.transcriptMappingEnd).map(I=>I.selectedTags)})}),n(x)},[s,n,a]),w.useEffect(()=>{c&&l&&e&&(p==null||p.getTranscription(e.sequence.filter(x=>m.tasksToNotRecordAudio===void 0||!m.tasksToNotRecordAudio.includes(x)).filter(x=>f?x===f:!0),l).then(x=>{const b=x.map(D=>JSON.parse(D));let T=0;const I=b.map(D=>{const $=D.results.map(B=>({...B,resultEndTime:+B.resultEndTime.split("s")[0]+T}));return T+=+D.results[D.results.length-1].resultEndTime.split("s")[0],$}).flat();u({results:I}),o(I.map((D,$)=>{var B;return{transcriptMappingStart:$,transcriptMappingEnd:$,text:((B=D.alternatives[0].transcript)==null?void 0:B.trim())||"",selectedTags:[]}})),i(0)}))},[p,c,l,m.tasksToNotRecordAudio,e,f,o,i]),w.useEffect(()=>{if(a&&r!==null&&e&&t>0){let x=r;const b=f?e.answers[f].startTime:e.answers.audioTest.startTime,T=Math.abs(t-b)/1e3;if(T>a.results[x].resultEndTime){for(;T>a.results[x].resultEndTime;)if(x+=1,x>a.results.length-1){x=a.results.length-1;break}}else if(x>0&&T<a.results[x-1].resultEndTime)for(;x>0&&T<a.results[x-1].resultEndTime;)x-=1;if(r===x)return;i(x)}},[r,e,t,i,a,f]),C.jsxs(Or,{spacing:0,children:[C.jsxs(Un,{mb:"xl",position:"apart",noWrap:!0,children:[C.jsx(et,{style:{flexGrow:1,textAlign:"center"},children:"Transcript"}),C.jsxs(jr,{children:[C.jsx(jr.Target,{children:C.jsxs(Un,{position:"center",style:{width:"380px",cursor:"pointer"},children:[C.jsx(eoe,{}),C.jsx(et,{children:"Tags"})]})}),C.jsx(jr.Dropdown,{children:C.jsx(dlt,{createTagCallback:x=>{h([...d,x])},tags:d})})]})]}),s.map((x,b)=>C.jsx(flt,{addRef:T=>{y.current[b]=T},onSelectTags:T=>v(b,T),addRowCallback:T=>S(b,T),deleteRowCallback:()=>_(b),onTextChange:T=>g(b,T),tags:d,selectedTags:x.selectedTags,addTag:T=>{h([...d,T]),v(b,[...x.selectedTags,T])},text:x.text,start:x.transcriptMappingStart,end:x.transcriptMappingEnd,current:r===null?0:r},b))]})}const N2={left:5,top:0,right:5,bottom:0};function plt(e,t){return t?t.getParticipantData(e):null}const rq=["participant1","participant2","participant3","participant4","participant5","participant6","participant7","participant8","participant9","participant10","participant11"],iq=["64889a71fa7592ae332fa34f","63626a68cf44b4184483c8e8","5c838a63532afd001506fd34","6171849094893d838e6e6f62","5b14898a30d562000155f1e9","5ba42e35984ec30001c6018d","5e690f83d1e0d41a69f00db8","65c10e659858a125507f47f7","616c844bac81732b87340f97","63f7a3b799889de3f13622db","65a4333efc75f965e7fc0cb5","65dca61cadaa2dd820a0f28c","65a00ba072965b5ce928d307","5cb3cdc781f3750001043bf2","5d76ac914c93440001c03fd7","65c691b5ca603ec8e389700e","5d31dc6e42678e001a0bdedd","6294ce94ea81c4554b141010","60743e408fd768b1a939ed4c","638a8c63c74f91261108cebf","5780d9a1900cc80001d2d1c2","5fa07c635b16f50d21483d5e","63ee65e3470c23cb401ca89a","5b99663d4cefb60001e7a214","63162bda14b96736b08a554d","6554e79557e3d6be08e32ceb","63d5021468a31efc02740c1e","63fbf0e3b18cc14adc0dbfb6","63beebaa4c5884797ff00a98","64217d8202361ad4dbed3596","58ff31a1d10e2b000108579e","63f779d27ba18edb4b6e5a57","62e023ae6d022e4d7bfc5db1","5e5521580ee1b951df544c3c","5bb756696322c5000159756c","637545d6428d85daeedc3df5","641ecfa9f83175a3d9f63636","611a8d23c1d17506a23df589","605e622287f0e806ffe04590"];function mlt(){const{trrackId:e,trialFilter:t}=zh(),{storageEngine:n}=da(),[r,i]=w.useState(0),[s,{width:o}]=Yu(),[a,u]=w.useState(null),{value:l,status:c}=Ife(plt,[e,n]),{saveAnalysisState:f}=ha(),d=Ja(),[h,p]=w.useState(!1),[m,y]=ilt(0,50),g=w.useRef(null),v=pc(),_=vl(),{analysisTrialName:S}=Es(A=>A),{setAnalysisTrialName:x}=ha(),[b,T]=w.useState(!0),I=w.useRef(null),[D,$]=w.useState([]),[B,O]=w.useState([]),M=w.useMemo(()=>[...rq,...iq],[]);w.useEffect(()=>{if(S&&l){const A=dg.create(),R=Vx({registry:A,initialState:{}});l.answers[S].provenanceGraph&&(R.importObject(Eh(l.answers[S].provenanceGraph)),I.current=R)}},[l,S]);const k=w.useCallback(A=>{var R;S&&l&&I.current&&(d(f(I.current.getState((R=l.answers[S].provenanceGraph)==null?void 0:R.nodes[A]))),I.current.to(A)),u(A)},[l,f,d,S,I]),ee=w.useCallback(A=>{var R;if(A!==S)if(d(x(A)),d(f(null)),l&&l.answers[A].provenanceGraph){const L=dg.create(),G=Vx({registry:L,initialState:{}});G.importObject(Eh(l.answers[A].provenanceGraph)),I.current=G,k(((R=l.answers[A].provenanceGraph)==null?void 0:R.root)||"")}else d(f(null)),u(null),I.current=null},[k,l,f,x,d,S]);w.useEffect(()=>{t&&ee(t)},[ee,t]);const te=Xp(A=>{if(l&&S&&(l.answers[S].endTime-l.answers.audioTest.startTime)/1e3<A?ee(l.sequence[l.sequence.indexOf(S)+1]):l&&S&&I.current&&I.current.current.children.length>0&&(I.current.graph.backend.nodes[I.current.current.children[0]].createdOn-l.answers.audioTest.startTime)/1e3<A&&k(I.current.current.children[0]),l&&S){const R=t?l.answers[t].startTime:l.answers.audioTest.startTime;y(A*1e3+R)}}),re=w.useCallback(A=>{if(A&&l&&e){const R=new rlt;n==null||n.getAudio(l.sequence.filter(L=>v.tasksToNotRecordAudio===void 0||!v.tasksToNotRecordAudio.includes(L)).filter(L=>t?L===t:!0),e).then(L=>{A&&R.fetchAudio(...L).then(G=>R.concatAudio(G)).then(G=>R.export(G,"audio/mp3")).then(G=>A.loadBlob(G.blob).then(()=>T(!1))).catch(G=>{throw new Error(G)}),A.on("timeupdate",te)})}},[v.tasksToNotRecordAudio,l,n,te,t,e]),K=ioe({container:g.current,plugins:[],onMount:re});w.useEffect(()=>{re(K)},[re,l,K]);const ie=w.useCallback((A,R)=>{y(A),K&&R&&(K==null||K.seekTo(R))},[y,K]),P=w.useCallback(A=>{p(A),K&&(A?K.play():K.pause())},[K]),V=w.useMemo(()=>{if(!l)return null;const A=Object.values(l.answers||{}).map(G=>[G.startTime,G.endTime]).flat(),R=YT(A);return $o([N2.left,o+N2.left+N2.right]).domain(t?[l.answers[t].startTime,l.answers[t].endTime]:R).clamp(!0)},[l,t,o]),Y=w.useCallback(A=>{if(!l)return;const R=M.indexOf(l.participantId);A?_(`../../${t?"../":""}${M[R+1]}/ui/${t||""}`,{relative:"path"}):_(`../../${t?"../":""}${M[R-1]}/ui/${t||""}`,{relative:"path"})},[M,_,l,t]);return C.jsx(Un,{noWrap:!0,spacing:25,children:C.jsxs(Or,{ref:s,style:{width:"100%"},spacing:25,children:[C.jsx(ao,{children:C.jsxs(Un,{children:[C.jsx(wv,{children:C.jsx(oWe,{onClick:()=>Y(!1)})}),C.jsx(ih,{style:{width:"300px"},value:l==null?void 0:l.participantId,onChange:A=>_(`../../${t?"../":""}${A}/ui/${t||""}`,{relative:"path"}),data:[...rq,...iq]}),C.jsx(ih,{style:{width:"300px"},clearable:!0,value:t,data:l?[...l.sequence]:[],onChange:A=>_(`${t?"../":""}${A||""}`,{relative:"path"})}),C.jsx(wv,{children:C.jsx(aWe,{onClick:()=>Y(!0)})})]})}),c==="success"&&l&&V?C.jsx(Cfe,{trialFilter:t,xScale:V,setSelectedTask:ee,participantData:l,width:o,height:200}):C.jsx(ao,{style:{height:"275px"},children:C.jsx(sl,{})}),V&&l!==null?C.jsxs(C.Fragment,{children:[C.jsxs(tt,{ref:g,ml:l&&V?V(l.answers.audioTest.startTime):0,mr:l&&V?V(l.answers["post-study-survey"].startTime):0,style:{WebkitBoxSizing:"border-box",width:`${l&&V?V(l.answers["post-study-survey"].startTime)-V(l.answers.audioTest.startTime):0}px`},children:[C.jsx(noe.Provider,{value:K,children:C.jsx(Z6,{id:"waveform"})},l.participantId),b?C.jsx(sl,{}):null]}),C.jsx(ult,{startTime:t?V.domain()[0]:l.answers.audioTest.startTime,xScale:V,transcriptLines:D,currentShownTranscription:r})]}):null,c==="success"&&l&&V?C.jsx(alt,{xScale:V,setSelectedTask:ee,playTime:m-l.answers.introduction.startTime,setPlayTime:ie,isPlaying:h,setIsPlaying:P,currentNode:a,setCurrentNode:k,participantData:l,width:o,height:50}):null,C.jsxs(Un,{children:[C.jsx(_i,{onClick:()=>P(!0),children:"Play"}),C.jsx(_i,{onClick:()=>P(!1),children:"Pause"}),C.jsx(et,{children:new Date(m).toLocaleString()})]}),C.jsx(Or,{children:l?C.jsx(hlt,{transcriptList:B,setTranscriptList:O,setCurrentShownTranscription:i,currentShownTranscription:r,participant:l,playTime:m,setTranscriptLines:$}):null})]})})}function glt({setProvState:e}){return C.jsx("div",{children:C.jsx(mlt,{})})}async function ylt(e,t){const n=await(await fetch(`${_l}${e}`)).text();return Sre(n,t)}function vlt({studyId:e,config:t,storage:n}){const r=Es(s=>s.sequence),i=w.useMemo(()=>{if(e&&t&&r){const s=[];return s.push({path:"/",element:C.jsx(Put,{to:`${r[0]}`,replace:!0})}),s.push({path:"/analysis/:trrackId/:trialName/",element:C.jsx(HW,{})}),s.push({path:"/analysis/:trrackId/ui/:trialFilter?/",element:C.jsx(glt,{setProvState:()=>null})}),s.push({path:"/analysis",element:C.jsx(tlt,{})}),s.push({path:"/:trialName",element:C.jsx(HW,{})}),s.push({path:"/end",element:C.jsx(Out,{})}),[{element:C.jsx(qut,{}),children:s}]}return[]},[t,r,e]);return Sne(i)}function _lt({globalConfig:e}){const{studyId:t}=zh();if(!t||!e.configsList.find(u=>bN(u)))throw new Error("Study id invalid");const[n,r]=w.useState(null);w.useEffect(()=>{const u=e.configsList.find(l=>bN(l)===t);if(u){const l=e.configs[u];ylt(`${l.path}`,u).then(c=>{r(c)})}},[e,t]);const[i,s]=w.useState(null),{storageEngine:o}=da(),[a]=S3();return w.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await Dut(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),d=await o.initializeParticipantSession(f,n,c),h=await g8e(t,n,d.sequence,d.answers);s(h)}u()},[o,n,t,a]),!i||!o?C.jsx(tt,{style:{height:"100vh"},children:C.jsx(ao,{style:{height:"100%"},children:C.jsx(sl,{style:{height:"100%"},size:60})})}):C.jsx(cie.Provider,{value:i,children:C.jsx(E3e,{store:i.store,children:C.jsx(vlt,{studyId:t,config:n,storage:o})})})}async function blt(){const t=await(await fetch(`${_l}configs/global.json`)).text();return W4e(t)}async function sq(e){const t={},n=e.configsList.map(i=>`${_l}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Sre(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function wlt(){const[e,t]=w.useState(null),[n,r]=w.useState({});return w.useEffect(()=>{async function i(){e&&r(await sq(e))}i()},[e]),w.useEffect(()=>{blt().then(i=>{t(i),sq(i).then(s=>{r(s)})})},[]),e?C.jsx(L$e,{basename:_l,children:C.jsxs(A$e,{children:[C.jsx(gN,{path:"/",element:C.jsx(U$e,{globalConfig:e,studyConfigs:n})}),C.jsx(gN,{path:"/:studyId/*",element:C.jsx(_lt,{globalConfig:e})})]})}):null}function Yb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pfe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof Yb=="function"&&Yb;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof Yb=="function"&&Yb,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,v=h.length;v;){for(g=h,h=[],y=-1;++y<v;)g[y]();v=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof Ks<"u"?Ks:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,b){if(typeof x!="function"&&this.state===l||typeof b!="function"&&this.state===u)return this;var T=new this.constructor(o);if(this.state!==c){var I=this.state===l?x:b;h(T,I,this.outcome)}else this.queue.push(new d(T,x,b));return T};function d(x,b,T){this.promise=x,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){a.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)};function h(x,b,T){s(function(){var I;try{I=b(T)}catch(D){return a.reject(x,D)}I===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,I)})}a.resolve=function(x,b){var T=y(p,b);if(T.status==="error")return a.reject(x,T.value);var I=T.value;if(I)m(x,I);else{x.state=l,x.outcome=b;for(var D=-1,$=x.queue.length;++D<$;)x.queue[D].callFulfilled(b)}return x},a.reject=function(x,b){x.state=u,x.outcome=b;for(var T=-1,I=x.queue.length;++T<I;)x.queue[T].callRejected(b);return x};function p(x){var b=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof b=="function")return function(){b.apply(x,arguments)}}function m(x,b){var T=!1;function I(O){T||(T=!0,a.reject(x,O))}function D(O){T||(T=!0,a.resolve(x,O))}function $(){b(D,I)}var B=y($);B.status==="error"&&I(B.value)}function y(x,b){var T={};try{T.value=x(b),T.status="success"}catch(I){T.status="error",T.value=I}return T}f.resolve=g;function g(x){return x instanceof this?x:a.resolve(new this(o),x)}f.reject=v;function v(x){var b=new this(o);return a.reject(b,x)}f.all=_;function _(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,I=!1;if(!T)return this.resolve([]);for(var D=new Array(T),$=0,B=-1,O=new this(o);++B<T;)M(x[B],B);return O;function M(k,ee){b.resolve(k).then(te,function(re){I||(I=!0,a.reject(O,re))});function te(re){D[ee]=re,++$===T&&!I&&(I=!0,a.resolve(O,D))}}}f.race=S;function S(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,I=!1;if(!T)return this.resolve([]);for(var D=-1,$=new this(o);++D<T;)B(x[D]);return $;function B(O){b.resolve(O).then(function(M){I||(I=!0,a.resolve($,M))},function(M){I||(I=!0,a.reject($,M))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Ks<"u"?Ks:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function o(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var F=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(F,J){F=F||[],J=J||{};try{return new Blob(F,J)}catch(oe){if(oe.name!=="TypeError")throw oe;for(var z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new z,ue=0;ue<F.length;ue+=1)se.append(F[ue]);return se.getBlob(J.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(F,J){J&&F.then(function(z){J(null,z)},function(z){J(z)})}function h(F,J,z){typeof J=="function"&&F.then(J),typeof z=="function"&&F.catch(z)}function p(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,v={},_=Object.prototype.toString,S="readonly",x="readwrite";function b(F){for(var J=F.length,z=new ArrayBuffer(J),se=new Uint8Array(z),ue=0;ue<J;ue++)se[ue]=F.charCodeAt(ue);return z}function T(F){return new f(function(J){var z=F.transaction(y,x),se=c([""]);z.objectStore(y).put(se,"key"),z.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),J(!1)},z.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),oe=navigator.userAgent.match(/Edge\//);J(oe||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function I(F){return typeof g=="boolean"?f.resolve(g):T(F).then(function(J){return g=J,g})}function D(F){var J=v[F.name],z={};z.promise=new f(function(se,ue){z.resolve=se,z.reject=ue}),J.deferredOperations.push(z),J.dbReady?J.dbReady=J.dbReady.then(function(){return z.promise}):J.dbReady=z.promise}function $(F){var J=v[F.name],z=J.deferredOperations.pop();if(z)return z.resolve(),z.promise}function B(F,J){var z=v[F.name],se=z.deferredOperations.pop();if(se)return se.reject(J),se.promise}function O(F,J){return new f(function(z,se){if(v[F.name]=v[F.name]||Y(),F.db)if(J)D(F),F.db.close();else return z(F.db);var ue=[F.name];J&&ue.push(F.version);var oe=u.open.apply(u,ue);J&&(oe.onupgradeneeded=function(be){var Ae=oe.result;try{Ae.createObjectStore(F.storeName),be.oldVersion<=1&&Ae.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw Oe}}),oe.onerror=function(be){be.preventDefault(),se(oe.error)},oe.onsuccess=function(){var be=oe.result;be.onversionchange=function(Ae){Ae.target.close()},z(be),$(F)}})}function M(F){return O(F,!1)}function k(F){return O(F,!0)}function ee(F,J){if(!F.db)return!0;var z=!F.db.objectStoreNames.contains(F.storeName),se=F.version<F.db.version,ue=F.version>F.db.version;if(se&&(F.version!==J&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ue||z){if(z){var oe=F.db.version+1;oe>F.version&&(F.version=oe)}return!0}return!1}function te(F){return new f(function(J,z){var se=new FileReader;se.onerror=z,se.onloadend=function(ue){var oe=btoa(ue.target.result||"");J({__local_forage_encoded_blob:!0,data:oe,type:F.type})},se.readAsBinaryString(F)})}function re(F){var J=b(atob(F.data));return c([J],{type:F.type})}function K(F){return F&&F.__local_forage_encoded_blob}function ie(F){var J=this,z=J._initReady().then(function(){var se=v[J._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return h(z,F,F),z}function P(F){D(F);for(var J=v[F.name],z=J.forages,se=0;se<z.length;se++){var ue=z[se];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return F.db=null,M(F).then(function(oe){return F.db=oe,ee(F)?k(F):oe}).then(function(oe){F.db=J.db=oe;for(var be=0;be<z.length;be++)z[be]._dbInfo.db=oe}).catch(function(oe){throw B(F,oe),oe})}function V(F,J,z,se){se===void 0&&(se=1);try{var ue=F.db.transaction(F.storeName,J);z(null,ue)}catch(oe){if(se>0&&(!F.db||oe.name==="InvalidStateError"||oe.name==="NotFoundError"))return f.resolve().then(function(){if(!F.db||oe.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),k(F)}).then(function(){return P(F).then(function(){V(F,J,z,se-1)})}).catch(z);z(oe)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function A(F){var J=this,z={db:null};if(F)for(var se in F)z[se]=F[se];var ue=v[z.name];ue||(ue=Y(),v[z.name]=ue),ue.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=ie);var oe=[];function be(){return f.resolve()}for(var Ae=0;Ae<ue.forages.length;Ae++){var Oe=ue.forages[Ae];Oe!==J&&oe.push(Oe._initReady().catch(be))}var Re=ue.forages.slice(0);return f.all(oe).then(function(){return z.db=ue.db,M(z)}).then(function($e){return z.db=$e,ee(z,J._defaultConfig.version)?k(z):$e}).then(function($e){z.db=ue.db=$e,J._dbInfo=z;for(var st=0;st<Re.length;st++){var Vt=Re[st];Vt!==J&&(Vt._dbInfo.db=z.db,Vt._dbInfo.version=z.version)}})}function R(F,J){var z=this;F=p(F);var se=new f(function(ue,oe){z.ready().then(function(){V(z._dbInfo,S,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(z._dbInfo.storeName),Re=Oe.get(F);Re.onsuccess=function(){var $e=Re.result;$e===void 0&&($e=null),K($e)&&($e=re($e)),ue($e)},Re.onerror=function(){oe(Re.error)}}catch($e){oe($e)}})}).catch(oe)});return d(se,J),se}function L(F,J){var z=this,se=new f(function(ue,oe){z.ready().then(function(){V(z._dbInfo,S,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(z._dbInfo.storeName),Re=Oe.openCursor(),$e=1;Re.onsuccess=function(){var st=Re.result;if(st){var Vt=st.value;K(Vt)&&(Vt=re(Vt));var vn=F(Vt,st.key,$e++);vn!==void 0?ue(vn):st.continue()}else ue()},Re.onerror=function(){oe(Re.error)}}catch(st){oe(st)}})}).catch(oe)});return d(se,J),se}function G(F,J,z){var se=this;F=p(F);var ue=new f(function(oe,be){var Ae;se.ready().then(function(){return Ae=se._dbInfo,_.call(J)==="[object Blob]"?I(Ae.db).then(function(Oe){return Oe?J:te(J)}):J}).then(function(Oe){V(se._dbInfo,x,function(Re,$e){if(Re)return be(Re);try{var st=$e.objectStore(se._dbInfo.storeName);Oe===null&&(Oe=void 0);var Vt=st.put(Oe,F);$e.oncomplete=function(){Oe===void 0&&(Oe=null),oe(Oe)},$e.onabort=$e.onerror=function(){var vn=Vt.error?Vt.error:Vt.transaction.error;be(vn)}}catch(vn){be(vn)}})}).catch(be)});return d(ue,z),ue}function le(F,J){var z=this;F=p(F);var se=new f(function(ue,oe){z.ready().then(function(){V(z._dbInfo,x,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(z._dbInfo.storeName),Re=Oe.delete(F);Ae.oncomplete=function(){ue()},Ae.onerror=function(){oe(Re.error)},Ae.onabort=function(){var $e=Re.error?Re.error:Re.transaction.error;oe($e)}}catch($e){oe($e)}})}).catch(oe)});return d(se,J),se}function ce(F){var J=this,z=new f(function(se,ue){J.ready().then(function(){V(J._dbInfo,x,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.clear();be.oncomplete=function(){se()},be.onabort=be.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ue(Re)}}catch(Re){ue(Re)}})}).catch(ue)});return d(z,F),z}function de(F){var J=this,z=new f(function(se,ue){J.ready().then(function(){V(J._dbInfo,S,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.count();Oe.onsuccess=function(){se(Oe.result)},Oe.onerror=function(){ue(Oe.error)}}catch(Re){ue(Re)}})}).catch(ue)});return d(z,F),z}function me(F,J){var z=this,se=new f(function(ue,oe){if(F<0){ue(null);return}z.ready().then(function(){V(z._dbInfo,S,function(be,Ae){if(be)return oe(be);try{var Oe=Ae.objectStore(z._dbInfo.storeName),Re=!1,$e=Oe.openKeyCursor();$e.onsuccess=function(){var st=$e.result;if(!st){ue(null);return}F===0||Re?ue(st.key):(Re=!0,st.advance(F))},$e.onerror=function(){oe($e.error)}}catch(st){oe(st)}})}).catch(oe)});return d(se,J),se}function we(F){var J=this,z=new f(function(se,ue){J.ready().then(function(){V(J._dbInfo,S,function(oe,be){if(oe)return ue(oe);try{var Ae=be.objectStore(J._dbInfo.storeName),Oe=Ae.openKeyCursor(),Re=[];Oe.onsuccess=function(){var $e=Oe.result;if(!$e){se(Re);return}Re.push($e.key),$e.continue()},Oe.onerror=function(){ue(Oe.error)}}catch($e){ue($e)}})}).catch(ue)});return d(z,F),z}function ye(F,J){J=m.apply(this,arguments);var z=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||z.name,F.storeName=F.storeName||z.storeName);var se=this,ue;if(!F.name)ue=f.reject("Invalid arguments");else{var oe=F.name===z.name&&se._dbInfo.db,be=oe?f.resolve(se._dbInfo.db):M(F).then(function(Ae){var Oe=v[F.name],Re=Oe.forages;Oe.db=Ae;for(var $e=0;$e<Re.length;$e++)Re[$e]._dbInfo.db=Ae;return Ae});F.storeName?ue=be.then(function(Ae){if(Ae.objectStoreNames.contains(F.storeName)){var Oe=Ae.version+1;D(F);var Re=v[F.name],$e=Re.forages;Ae.close();for(var st=0;st<$e.length;st++){var Vt=$e[st];Vt._dbInfo.db=null,Vt._dbInfo.version=Oe}var vn=new f(function(Sn,Tr){var ur=u.open(F.name,Oe);ur.onerror=function(Rs){var cd=ur.result;cd.close(),Tr(Rs)},ur.onupgradeneeded=function(){var Rs=ur.result;Rs.deleteObjectStore(F.storeName)},ur.onsuccess=function(){var Rs=ur.result;Rs.close(),Sn(Rs)}});return vn.then(function(Sn){Re.db=Sn;for(var Tr=0;Tr<$e.length;Tr++){var ur=$e[Tr];ur._dbInfo.db=Sn,$(ur._dbInfo)}}).catch(function(Sn){throw(B(F,Sn)||f.resolve()).catch(function(){}),Sn})}}):ue=be.then(function(Ae){D(F);var Oe=v[F.name],Re=Oe.forages;Ae.close();for(var $e=0;$e<Re.length;$e++){var st=Re[$e];st._dbInfo.db=null}var Vt=new f(function(vn,Sn){var Tr=u.deleteDatabase(F.name);Tr.onerror=function(){var ur=Tr.result;ur&&ur.close(),Sn(Tr.error)},Tr.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},Tr.onsuccess=function(){var ur=Tr.result;ur&&ur.close(),vn(ur)}});return Vt.then(function(vn){Oe.db=vn;for(var Sn=0;Sn<Re.length;Sn++){var Tr=Re[Sn];$(Tr._dbInfo)}}).catch(function(vn){throw(B(F,vn)||f.resolve()).catch(function(){}),vn})})}return d(ue,J),ue}var He={_driver:"asyncStorage",_initStorage:A,_support:l(),iterate:L,getItem:R,setItem:G,removeItem:le,clear:ce,length:de,key:me,keys:we,dropInstance:ye};function Ke(){return typeof openDatabase=="function"}var mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De="~~local_forage_type~",Ie=/^~~local_forage_type~([^~]+)~/,We="__lfsc__:",Wt=We.length,Ut="arbf",ze="blob",Fe="si08",at="ui08",dt="uic8",Ct="si16",Kt="si32",ge="ur16",Se="ui32",Le="fl32",Je="fl64",ct=Wt+Ut.length,En=Object.prototype.toString;function Me(F){var J=F.length*.75,z=F.length,se,ue=0,oe,be,Ae,Oe;F[F.length-1]==="="&&(J--,F[F.length-2]==="="&&J--);var Re=new ArrayBuffer(J),$e=new Uint8Array(Re);for(se=0;se<z;se+=4)oe=mt.indexOf(F[se]),be=mt.indexOf(F[se+1]),Ae=mt.indexOf(F[se+2]),Oe=mt.indexOf(F[se+3]),$e[ue++]=oe<<2|be>>4,$e[ue++]=(be&15)<<4|Ae>>2,$e[ue++]=(Ae&3)<<6|Oe&63;return Re}function rt(F){var J=new Uint8Array(F),z="",se;for(se=0;se<J.length;se+=3)z+=mt[J[se]>>2],z+=mt[(J[se]&3)<<4|J[se+1]>>4],z+=mt[(J[se+1]&15)<<2|J[se+2]>>6],z+=mt[J[se+2]&63];return J.length%3===2?z=z.substring(0,z.length-1)+"=":J.length%3===1&&(z=z.substring(0,z.length-2)+"=="),z}function ut(F,J){var z="";if(F&&(z=En.call(F)),F&&(z==="[object ArrayBuffer]"||F.buffer&&En.call(F.buffer)==="[object ArrayBuffer]")){var se,ue=We;F instanceof ArrayBuffer?(se=F,ue+=Ut):(se=F.buffer,z==="[object Int8Array]"?ue+=Fe:z==="[object Uint8Array]"?ue+=at:z==="[object Uint8ClampedArray]"?ue+=dt:z==="[object Int16Array]"?ue+=Ct:z==="[object Uint16Array]"?ue+=ge:z==="[object Int32Array]"?ue+=Kt:z==="[object Uint32Array]"?ue+=Se:z==="[object Float32Array]"?ue+=Le:z==="[object Float64Array]"?ue+=Je:J(new Error("Failed to get type for BinaryArray"))),J(ue+rt(se))}else if(z==="[object Blob]"){var oe=new FileReader;oe.onload=function(){var be=De+F.type+"~"+rt(this.result);J(We+ze+be)},oe.readAsArrayBuffer(F)}else try{J(JSON.stringify(F))}catch(be){console.error("Couldn't convert value into a JSON string: ",F),J(null,be)}}function Gt(F){if(F.substring(0,Wt)!==We)return JSON.parse(F);var J=F.substring(ct),z=F.substring(Wt,ct),se;if(z===ze&&Ie.test(J)){var ue=J.match(Ie);se=ue[1],J=J.substring(ue[0].length)}var oe=Me(J);switch(z){case Ut:return oe;case ze:return c([oe],{type:se});case Fe:return new Int8Array(oe);case at:return new Uint8Array(oe);case dt:return new Uint8ClampedArray(oe);case Ct:return new Int16Array(oe);case ge:return new Uint16Array(oe);case Kt:return new Int32Array(oe);case Se:return new Uint32Array(oe);case Le:return new Float32Array(oe);case Je:return new Float64Array(oe);default:throw new Error("Unkown type: "+z)}}var pt={serialize:ut,deserialize:Gt,stringToBuffer:Me,bufferToString:rt};function br(F,J,z,se){F.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],z,se)}function hn(F){var J=this,z={db:null};if(F)for(var se in F)z[se]=typeof F[se]!="string"?F[se].toString():F[se];var ue=new f(function(oe,be){try{z.db=openDatabase(z.name,String(z.version),z.description,z.size)}catch(Ae){return be(Ae)}z.db.transaction(function(Ae){br(Ae,z,function(){J._dbInfo=z,oe()},function(Oe,Re){be(Re)})},be)});return z.serializer=pt,ue}function Hn(F,J,z,se,ue,oe){F.executeSql(z,se,ue,function(be,Ae){Ae.code===Ae.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Oe,Re){Re.rows.length?oe(Oe,Ae):br(Oe,J,function(){Oe.executeSql(z,se,ue,oe)},oe)},oe):oe(be,Ae)},oe)}function hs(F,J){var z=this;F=p(F);var se=new f(function(ue,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Ae){Hn(Ae,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[F],function(Oe,Re){var $e=Re.rows.length?Re.rows.item(0).value:null;$e&&($e=be.serializer.deserialize($e)),ue($e)},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,J),se}function Os(F,J){var z=this,se=new f(function(ue,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Ae){Hn(Ae,be,"SELECT * FROM "+be.storeName,[],function(Oe,Re){for(var $e=Re.rows,st=$e.length,Vt=0;Vt<st;Vt++){var vn=$e.item(Vt),Sn=vn.value;if(Sn&&(Sn=be.serializer.deserialize(Sn)),Sn=F(Sn,vn.key,Vt+1),Sn!==void 0){ue(Sn);return}}ue()},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,J),se}function fi(F,J,z,se){var ue=this;F=p(F);var oe=new f(function(be,Ae){ue.ready().then(function(){J===void 0&&(J=null);var Oe=J,Re=ue._dbInfo;Re.serializer.serialize(J,function($e,st){st?Ae(st):Re.db.transaction(function(Vt){Hn(Vt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[F,$e],function(){be(Oe)},function(vn,Sn){Ae(Sn)})},function(Vt){if(Vt.code===Vt.QUOTA_ERR){if(se>0){be(fi.apply(ue,[F,Oe,z,se-1]));return}Ae(Vt)}})})}).catch(Ae)});return d(oe,z),oe}function Pn(F,J,z){return fi.apply(this,[F,J,z,1])}function Ta(F,J){var z=this;F=p(F);var se=new f(function(ue,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Ae){Hn(Ae,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[F],function(){ue()},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,J),se}function Dr(F){var J=this,z=new f(function(se,ue){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){Hn(be,oe,"DELETE FROM "+oe.storeName,[],function(){se()},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(z,F),z}function wr(F){var J=this,z=new f(function(se,ue){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){Hn(be,oe,"SELECT COUNT(key) as c FROM "+oe.storeName,[],function(Ae,Oe){var Re=Oe.rows.item(0).c;se(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(z,F),z}function Nn(F,J){var z=this,se=new f(function(ue,oe){z.ready().then(function(){var be=z._dbInfo;be.db.transaction(function(Ae){Hn(Ae,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[F+1],function(Oe,Re){var $e=Re.rows.length?Re.rows.item(0).key:null;ue($e)},function(Oe,Re){oe(Re)})})}).catch(oe)});return d(se,J),se}function ln(F){var J=this,z=new f(function(se,ue){J.ready().then(function(){var oe=J._dbInfo;oe.db.transaction(function(be){Hn(be,oe,"SELECT key FROM "+oe.storeName,[],function(Ae,Oe){for(var Re=[],$e=0;$e<Oe.rows.length;$e++)Re.push(Oe.rows.item($e).key);se(Re)},function(Ae,Oe){ue(Oe)})})}).catch(ue)});return d(z,F),z}function Gn(F){return new f(function(J,z){F.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,oe){for(var be=[],Ae=0;Ae<oe.rows.length;Ae++)be.push(oe.rows.item(Ae).name);J({db:F,storeNames:be})},function(ue,oe){z(oe)})},function(se){z(se)})})}function ps(F,J){J=m.apply(this,arguments);var z=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||z.name,F.storeName=F.storeName||z.storeName);var se=this,ue;return F.name?ue=new f(function(oe){var be;F.name===z.name?be=se._dbInfo.db:be=openDatabase(F.name,"","",0),F.storeName?oe({db:be,storeNames:[F.storeName]}):oe(Gn(be))}).then(function(oe){return new f(function(be,Ae){oe.db.transaction(function(Oe){function Re(vn){return new f(function(Sn,Tr){Oe.executeSql("DROP TABLE IF EXISTS "+vn,[],function(){Sn()},function(ur,Rs){Tr(Rs)})})}for(var $e=[],st=0,Vt=oe.storeNames.length;st<Vt;st++)$e.push(Re(oe.storeNames[st]));f.all($e).then(function(){be()}).catch(function(vn){Ae(vn)})},function(Oe){Ae(Oe)})})}):ue=f.reject("Invalid arguments"),d(ue,J),ue}var Zr={_driver:"webSQLStorage",_initStorage:hn,_support:Ke(),iterate:Os,getItem:hs,setItem:Pn,removeItem:Ta,clear:Dr,length:wr,key:Nn,keys:ln,dropInstance:ps};function zr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Z(F,J){var z=F.name+"/";return F.storeName!==J.storeName&&(z+=F.storeName+"/"),z}function W(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch{return!0}}function ne(){return!W()||localStorage.length>0}function he(F){var J=this,z={};if(F)for(var se in F)z[se]=F[se];return z.keyPrefix=Z(F,J._defaultConfig),ne()?(J._dbInfo=z,z.serializer=pt,f.resolve()):f.reject()}function pe(F){var J=this,z=J.ready().then(function(){for(var se=J._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var oe=localStorage.key(ue);oe.indexOf(se)===0&&localStorage.removeItem(oe)}});return d(z,F),z}function Xe(F,J){var z=this;F=p(F);var se=z.ready().then(function(){var ue=z._dbInfo,oe=localStorage.getItem(ue.keyPrefix+F);return oe&&(oe=ue.serializer.deserialize(oe)),oe});return d(se,J),se}function Ze(F,J){var z=this,se=z.ready().then(function(){for(var ue=z._dbInfo,oe=ue.keyPrefix,be=oe.length,Ae=localStorage.length,Oe=1,Re=0;Re<Ae;Re++){var $e=localStorage.key(Re);if($e.indexOf(oe)===0){var st=localStorage.getItem($e);if(st&&(st=ue.serializer.deserialize(st)),st=F(st,$e.substring(be),Oe++),st!==void 0)return st}}});return d(se,J),se}function Ce(F,J){var z=this,se=z.ready().then(function(){var ue=z._dbInfo,oe;try{oe=localStorage.key(F)}catch{oe=null}return oe&&(oe=oe.substring(ue.keyPrefix.length)),oe});return d(se,J),se}function it(F){var J=this,z=J.ready().then(function(){for(var se=J._dbInfo,ue=localStorage.length,oe=[],be=0;be<ue;be++){var Ae=localStorage.key(be);Ae.indexOf(se.keyPrefix)===0&&oe.push(Ae.substring(se.keyPrefix.length))}return oe});return d(z,F),z}function Mt(F){var J=this,z=J.keys().then(function(se){return se.length});return d(z,F),z}function je(F,J){var z=this;F=p(F);var se=z.ready().then(function(){var ue=z._dbInfo;localStorage.removeItem(ue.keyPrefix+F)});return d(se,J),se}function Jt(F,J,z){var se=this;F=p(F);var ue=se.ready().then(function(){J===void 0&&(J=null);var oe=J;return new f(function(be,Ae){var Oe=se._dbInfo;Oe.serializer.serialize(J,function(Re,$e){if($e)Ae($e);else try{localStorage.setItem(Oe.keyPrefix+F,Re),be(oe)}catch(st){(st.name==="QuotaExceededError"||st.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ae(st),Ae(st)}})})});return d(ue,z),ue}function Zt(F,J){if(J=m.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var z=this.config();F.name=F.name||z.name,F.storeName=F.storeName||z.storeName}var se=this,ue;return F.name?ue=new f(function(oe){F.storeName?oe(Z(F,se._defaultConfig)):oe(F.name+"/")}).then(function(oe){for(var be=localStorage.length-1;be>=0;be--){var Ae=localStorage.key(be);Ae.indexOf(oe)===0&&localStorage.removeItem(Ae)}}):ue=f.reject("Invalid arguments"),d(ue,J),ue}var gt={_driver:"localStorageWrapper",_initStorage:he,_support:zr(),iterate:Ze,getItem:Xe,setItem:Jt,removeItem:je,clear:pe,length:Mt,key:Ce,keys:it,dropInstance:Zt},On=function(J,z){return J===z||typeof J=="number"&&typeof z=="number"&&isNaN(J)&&isNaN(z)},jn=function(J,z){for(var se=J.length,ue=0;ue<se;){if(On(J[ue],z))return!0;ue++}return!1},St=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},Er={},Sr={},$r={INDEXEDDB:He,WEBSQL:Zr,LOCALSTORAGE:gt},ms=[$r.INDEXEDDB._driver,$r.WEBSQL._driver,$r.LOCALSTORAGE._driver],xi=["dropInstance"],Hr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xi),Hi={description:"",driver:ms.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wi(F,J){F[J]=function(){var z=arguments;return F.ready().then(function(){return F[J].apply(F,z)})}}function qe(){for(var F=1;F<arguments.length;F++){var J=arguments[F];if(J)for(var z in J)J.hasOwnProperty(z)&&(St(J[z])?arguments[0][z]=J[z].slice():arguments[0][z]=J[z])}return arguments[0]}var en=function(){function F(J){o(this,F);for(var z in $r)if($r.hasOwnProperty(z)){var se=$r[z],ue=se._driver;this[z]=ue,Er[ue]||this.defineDriver(se)}this._defaultConfig=qe({},Hi),this._config=qe({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(z){if((typeof z>"u"?"undefined":s(z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in z){if(se==="storeName"&&(z[se]=z[se].replace(/\W/g,"_")),se==="version"&&typeof z[se]!="number")return new Error("Database version must be a number.");this._config[se]=z[se]}return"driver"in z&&z.driver?this.setDriver(this._config.driver):!0}else return typeof z=="string"?this._config[z]:this._config},F.prototype.defineDriver=function(z,se,ue){var oe=new f(function(be,Ae){try{var Oe=z._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!z._driver){Ae(Re);return}for(var $e=Hr.concat("_initStorage"),st=0,Vt=$e.length;st<Vt;st++){var vn=$e[st],Sn=!jn(xi,vn);if((Sn||z[vn])&&typeof z[vn]!="function"){Ae(Re);return}}var Tr=function(){for(var cd=function(rP){return function(){var rp=new Error("Method "+rP+" is not implemented by the current driver"),ip=f.reject(rp);return d(ip,arguments[arguments.length-1]),ip}},i0=0,s0=xi.length;i0<s0;i0++){var o0=xi[i0];z[o0]||(z[o0]=cd(o0))}};Tr();var ur=function(cd){Er[Oe]&&console.info("Redefining LocalForage driver: "+Oe),Er[Oe]=z,Sr[Oe]=cd,be()};"_support"in z?z._support&&typeof z._support=="function"?z._support().then(ur,Ae):ur(!!z._support):ur(!0)}catch(Rs){Ae(Rs)}});return h(oe,se,ue),oe},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(z,se,ue){var oe=Er[z]?f.resolve(Er[z]):f.reject(new Error("Driver not found."));return h(oe,se,ue),oe},F.prototype.getSerializer=function(z){var se=f.resolve(pt);return h(se,z),se},F.prototype.ready=function(z){var se=this,ue=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return h(ue,z,z),ue},F.prototype.setDriver=function(z,se,ue){var oe=this;St(z)||(z=[z]);var be=this._getSupportedDrivers(z);function Ae(){oe._config.driver=oe.driver()}function Oe(st){return oe._extend(st),Ae(),oe._ready=oe._initStorage(oe._config),oe._ready}function Re(st){return function(){var Vt=0;function vn(){for(;Vt<st.length;){var Sn=st[Vt];return Vt++,oe._dbInfo=null,oe._ready=null,oe.getDriver(Sn).then(Oe).catch(vn)}Ae();var Tr=new Error("No available storage method found.");return oe._driverSet=f.reject(Tr),oe._driverSet}return vn()}}var $e=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=$e.then(function(){var st=be[0];return oe._dbInfo=null,oe._ready=null,oe.getDriver(st).then(function(Vt){oe._driver=Vt._driver,Ae(),oe._wrapLibraryMethodsWithReady(),oe._initDriver=Re(be)})}).catch(function(){Ae();var st=new Error("No available storage method found.");return oe._driverSet=f.reject(st),oe._driverSet}),h(this._driverSet,se,ue),this._driverSet},F.prototype.supports=function(z){return!!Sr[z]},F.prototype._extend=function(z){qe(this,z)},F.prototype._getSupportedDrivers=function(z){for(var se=[],ue=0,oe=z.length;ue<oe;ue++){var be=z[ue];this.supports(be)&&se.push(be)}return se},F.prototype._wrapLibraryMethodsWithReady=function(){for(var z=0,se=Hr.length;z<se;z++)Wi(this,Hr[z])},F.prototype.createInstance=function(z){return new F(z)},F}(),qi=new en;r.exports=qi},{3:3}]},{},[4])(4)})})(Pfe);var Elt=Pfe.exports;const Ofe=ma(Elt);let Kb;const Slt=new Uint8Array(16);function Tlt(){if(!Kb&&(Kb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kb(Slt)}const Ci=[];for(let e=0;e<256;++e)Ci.push((e+256).toString(16).slice(1));function xlt(e,t=0){return Ci[e[t+0]]+Ci[e[t+1]]+Ci[e[t+2]]+Ci[e[t+3]]+"-"+Ci[e[t+4]]+Ci[e[t+5]]+"-"+Ci[e[t+6]]+Ci[e[t+7]]+"-"+Ci[e[t+8]]+Ci[e[t+9]]+"-"+Ci[e[t+10]]+Ci[e[t+11]]+Ci[e[t+12]]+Ci[e[t+13]]+Ci[e[t+14]]+Ci[e[t+15]]}const Ilt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oq={randomUUID:Ilt};function aq(e,t,n){if(oq.randomUUID&&!t&&!e)return oq.randomUUID();e=e||{};const r=e.random||(e.rng||Tlt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return xlt(r)}class Rfe{constructor(t){go(this,"engine");go(this,"connected",!1);go(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function xm(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class Clt extends Rfe{constructor(){super("localStorage");go(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}getTranscription(n,r){return console.warn("not yet implemented",r),Promise.resolve(["not implemented"])}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Ofe.createInstance({name:n});const i=await xm(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await xm(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=aq();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=aq();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await xm(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var uq={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Alt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},n4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nfe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Alt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new Plt;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Plt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Olt=function(e){const t=Nfe(e);return n4.encodeByteArray(t,!0)},zx=function(e){return Olt(e).replace(/\./g,"")},kfe=function(e){try{return n4.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rlt=()=>Dfe().__FIREBASE_DEFAULTS__,Nlt=()=>{if(typeof process>"u"||typeof uq>"u")return;const e=uq.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},klt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kfe(e[1]);return t&&JSON.parse(t)},EA=()=>{try{return Rlt()||Nlt()||klt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$fe=e=>{var t,n;return(n=(t=EA())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Dlt=e=>{const t=$fe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Lfe=()=>{var e;return(e=EA())===null||e===void 0?void 0:e.config},Mfe=e=>{var t;return(t=EA())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $lt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zx(JSON.stringify(n)),zx(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Llt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jr())}function Mlt(){var e;const t=(e=EA())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Flt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jlt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Blt(){const e=Jr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ult(){return!Mlt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function Vlt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zlt="FirebaseError";class Tl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zlt,Object.setPrototypeOf(this,Tl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yg.prototype.create)}}class Yg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Hlt(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tl(i,a,r)}}function Hlt(e,t){return e.replace(Wlt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Wlt=/\{\$([^}]+)}/g;function qlt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qv(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(lq(s)&&lq(o)){if(!Qv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lq(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Glt(e,t){const n=new Ylt(e,t);return n.subscribe.bind(n)}class Ylt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Klt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=k2),i.error===void 0&&(i.error=k2),i.complete===void 0&&(i.complete=k2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Klt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function k2(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qlt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xlt=1e3,Jlt=2,Zlt=4*60*60*1e3,ect=.5;function tct(e,t=Xlt,n=Jlt){const r=t*Math.pow(n,e),i=Math.round(ect*r*(Math.random()-.5)*2);return Math.min(Zlt,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(e){return e&&e._delegate?e._delegate:e}class pl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nct{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Kv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ict(t))try{this.getOrInitializeService({instanceIdentifier:Id})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Id){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Id){return this.instances.has(t)}getOptions(t=Id){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rct(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Id){return this.component?this.component.multipleInstances?t:Id:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rct(e){return e===Id?void 0:e}function ict(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sct{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nct(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(an||(an={}));const oct={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},act=an.INFO,uct={[an.DEBUG]:"log",[an.VERBOSE]:"log",[an.INFO]:"info",[an.WARN]:"warn",[an.ERROR]:"error"},lct=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=uct[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class TA{constructor(t){this.name=t,this._logLevel=act,this._logHandler=lct,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in an))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oct[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,an.DEBUG,...t),this._logHandler(this,an.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,an.VERBOSE,...t),this._logHandler(this,an.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,an.INFO,...t),this._logHandler(this,an.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,an.WARN,...t),this._logHandler(this,an.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,an.ERROR,...t),this._logHandler(this,an.ERROR,...t)}}const cct=(e,t)=>t.some(n=>e instanceof n);let cq,fq;function fct(){return cq||(cq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dct(){return fq||(fq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ffe=new WeakMap,rD=new WeakMap,jfe=new WeakMap,D2=new WeakMap,r4=new WeakMap;function hct(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(xf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ffe.set(n,e)}).catch(()=>{}),r4.set(t,e),t}function pct(e){if(rD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});rD.set(e,t)}let iD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return rD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jfe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mct(e){iD=e(iD)}function gct(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call($2(this),t,...n);return jfe.set(r,t.sort?t.sort():[t]),xf(r)}:dct().includes(e)?function(...t){return e.apply($2(this),t),xf(Ffe.get(this))}:function(...t){return xf(e.apply($2(this),t))}}function yct(e){return typeof e=="function"?gct(e):(e instanceof IDBTransaction&&pct(e),cct(e,fct())?new Proxy(e,iD):e)}function xf(e){if(e instanceof IDBRequest)return hct(e);if(D2.has(e))return D2.get(e);const t=yct(e);return t!==e&&(D2.set(e,t),r4.set(t,e)),t}const $2=e=>r4.get(e);function vct(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=xf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xf(o.result),u.oldVersion,u.newVersion,xf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const _ct=["get","getKey","getAll","getAllKeys","count"],bct=["put","add","delete","clear"],L2=new Map;function dq(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(L2.get(t))return L2.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bct.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_ct.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return L2.set(t,s),s}mct(e=>({...e,get:(t,n,r)=>dq(t,n)||e.get(t,n,r),has:(t,n)=>!!dq(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wct{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ect(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ect(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sD="@firebase/app",hq="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new TA("@firebase/app"),Sct="@firebase/app-compat",Tct="@firebase/analytics-compat",xct="@firebase/analytics",Ict="@firebase/app-check-compat",Cct="@firebase/app-check",Act="@firebase/auth",Pct="@firebase/auth-compat",Oct="@firebase/database",Rct="@firebase/database-compat",Nct="@firebase/functions",kct="@firebase/functions-compat",Dct="@firebase/installations",$ct="@firebase/installations-compat",Lct="@firebase/messaging",Mct="@firebase/messaging-compat",Fct="@firebase/performance",jct="@firebase/performance-compat",Bct="@firebase/remote-config",Uct="@firebase/remote-config-compat",Vct="@firebase/storage",zct="@firebase/storage-compat",Hct="@firebase/firestore",Wct="@firebase/firestore-compat",qct="firebase",Gct="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="[DEFAULT]",Yct={[sD]:"fire-core",[Sct]:"fire-core-compat",[xct]:"fire-analytics",[Tct]:"fire-analytics-compat",[Cct]:"fire-app-check",[Ict]:"fire-app-check-compat",[Act]:"fire-auth",[Pct]:"fire-auth-compat",[Oct]:"fire-rtdb",[Rct]:"fire-rtdb-compat",[Nct]:"fire-fn",[kct]:"fire-fn-compat",[Dct]:"fire-iid",[$ct]:"fire-iid-compat",[Lct]:"fire-fcm",[Mct]:"fire-fcm-compat",[Fct]:"fire-perf",[jct]:"fire-perf-compat",[Bct]:"fire-rc",[Uct]:"fire-rc-compat",[Vct]:"fire-gcs",[zct]:"fire-gcs-compat",[Hct]:"fire-fst",[Wct]:"fire-fst-compat","fire-js":"fire-js",[qct]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map,aD=new Map;function Kct(e,t){try{e.container.addComponent(t)}catch(n){Oh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mc(e){const t=e.name;if(aD.has(t))return Oh.debug(`There were multiple attempts to register component ${t}.`),!1;aD.set(t,e);for(const n of Hx.values())Kct(n,e);return!0}function Kg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qct={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},If=new Yg("app","Firebase",Qct);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xct{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw If.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=Gct;function Bfe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:oD,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw If.create("bad-app-name",{appName:String(i)});if(n||(n=Lfe()),!n)throw If.create("no-options");const s=Hx.get(i);if(s){if(Qv(n,s.options)&&Qv(r,s.config))return s;throw If.create("duplicate-app",{appName:i})}const o=new sct(i);for(const u of aD.values())o.addComponent(u);const a=new Xct(n,r,o);return Hx.set(i,a),a}function i4(e=oD){const t=Hx.get(e);if(!t&&e===oD&&Lfe())return Bfe();if(!t)throw If.create("no-app",{appName:e});return t}function Ya(e,t,n){var r;let i=(r=Yct[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Oh.warn(a.join(" "));return}mc(new pl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jct="firebase-heartbeat-database",Zct=1,Xv="firebase-heartbeat-store";let M2=null;function Ufe(){return M2||(M2=vct(Jct,Zct,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xv)}catch(n){console.warn(n)}}}}).catch(e=>{throw If.create("idb-open",{originalErrorMessage:e.message})})),M2}async function eft(e){try{const n=(await Ufe()).transaction(Xv),r=await n.objectStore(Xv).get(Vfe(e));return await n.done,r}catch(t){if(t instanceof Tl)Oh.warn(t.message);else{const n=If.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Oh.warn(n.message)}}}async function pq(e,t){try{const r=(await Ufe()).transaction(Xv,"readwrite");await r.objectStore(Xv).put(t,Vfe(e)),await r.done}catch(n){if(n instanceof Tl)Oh.warn(n.message);else{const r=If.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oh.warn(r.message)}}}function Vfe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tft=1024,nft=30*24*60*60*1e3;class rft{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sft(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mq();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nft}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mq(),{heartbeatsToSend:r,unsentEntries:i}=ift(this._heartbeatsCache.heartbeats),s=zx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function mq(){return new Date().toISOString().substring(0,10)}function ift(e,t=tft){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gq(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gq(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sft{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?Vlt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eft(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pq(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function gq(e){return zx(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oft(e){mc(new pl("platform-logger",t=>new wct(t),"PRIVATE")),mc(new pl("heartbeat",t=>new rft(t),"PRIVATE")),Ya(sD,hq,e),Ya(sD,hq,"esm2017"),Ya("fire-js","")}oft("");var aft="firebase",uft="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ya(aft,uft,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe="firebasestorage.googleapis.com",Hfe="storageBucket",lft=2*60*1e3,cft=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Tl{constructor(t,n,r=0){super(F2(t),`Firebase Storage: ${n} (${F2(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return F2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function F2(e){return"storage/"+e}function s4(){const e="An unknown error occurred, please check the error payload for server response.";return new kr(Rr.UNKNOWN,e)}function fft(e){return new kr(Rr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function dft(e){return new kr(Rr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hft(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(Rr.UNAUTHENTICATED,e)}function pft(){return new kr(Rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mft(e){return new kr(Rr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function gft(){return new kr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yft(){return new kr(Rr.CANCELED,"User canceled the upload/download.")}function vft(e){return new kr(Rr.INVALID_URL,"Invalid URL '"+e+"'.")}function _ft(e){return new kr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function bft(){return new kr(Rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hfe+"' property when initializing the app?")}function wft(){return new kr(Rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Eft(){return new kr(Rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Sft(e){return new kr(Rr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function uD(e){return new kr(Rr.INVALID_ARGUMENT,e)}function Wfe(){return new kr(Rr.APP_DELETED,"The Firebase app was deleted.")}function Tft(e){return new kr(Rr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qy(e,t){return new kr(Rr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function U0(e){throw new kr(Rr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Co.makeFromUrl(t,n)}catch{return new Co(t,"")}if(r.path==="")return r;throw _ft(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===zfe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let S=0;S<_.length;S++){const x=_[S],b=x.regex.exec(t);if(b){const T=b[x.indices.bucket];let I=b[x.indices.path];I||(I=""),r=new Co(T,I),x.postModify(r);break}}if(r==null)throw vft(t);return r}}class xft{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ift(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Cft(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aft(e){return e!==void 0}function Pft(e){return typeof e=="object"&&!Array.isArray(e)}function o4(e){return typeof e=="string"||e instanceof String}function yq(e){return a4()&&e instanceof Blob}function a4(){return typeof Blob<"u"}function vq(e,t,n,r){if(r<t)throw uD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw uD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function qfe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(uh||(uh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oft(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rft{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Qb(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===uh.NO_ERROR,u=s.getStatus();if(!a||Oft(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===uh.ABORT;r(!1,new Qb(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Qb(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Aft(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=s4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Wfe():yft();o(u)}else{const u=gft();o(u)}};this.canceled_?n(!1,new Qb(!1,null,!0)):this.backoffId_=Ift(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Cft(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qb{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Nft(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function kft(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Dft(e,t){t&&(e["X-Firebase-GMPID"]=t)}function $ft(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Lft(e,t,n,r,i,s,o=!0){const a=qfe(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Dft(l,t),Nft(l,n),kft(l,s),$ft(l,r),new Rft(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mft(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Fft(...e){const t=Mft();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(a4())return new Blob(e);throw new kr(Rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jft(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bft(e){if(typeof atob>"u")throw Sft("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class j2{constructor(t,n){this.data=t,this.contentType=n||null}}function Uft(e,t){switch(e){case Uu.RAW:return new j2(Gfe(t));case Uu.BASE64:case Uu.BASE64URL:return new j2(Yfe(e,t));case Uu.DATA_URL:return new j2(zft(t),Hft(t))}throw s4()}function Gfe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Vft(e){let t;try{t=decodeURIComponent(e)}catch{throw qy(Uu.DATA_URL,"Malformed data URL.")}return Gfe(t)}function Yfe(e,t){switch(e){case Uu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw qy(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Uu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw qy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Bft(t)}catch(i){throw i.message.includes("polyfill")?i:qy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Kfe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw qy(Uu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Wft(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function zft(e){const t=new Kfe(e);return t.base64?Yfe(Uu.BASE64,t.rest):Vft(t.rest)}function Hft(e){return new Kfe(e).contentType}function Wft(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n){let r=0,i="";yq(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(yq(this.data_)){const r=this.data_,i=jft(r,t,n);return i===null?null:new Jc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Jc(r,!0)}}static getBlob(...t){if(a4()){const n=t.map(r=>r instanceof Jc?r.data_:r);return new Jc(Fft.apply(null,n))}else{const n=t.map(o=>o4(o)?Uft(Uu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Jc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qfe(e){let t;try{t=JSON.parse(e)}catch{return null}return Pft(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qft(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Gft(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Xfe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yft(e,t){return t}class gs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Yft}}let Xb=null;function Kft(e){return!o4(e)||e.length<2?e:Xfe(e)}function Jfe(){if(Xb)return Xb;const e=[];e.push(new gs("bucket")),e.push(new gs("generation")),e.push(new gs("metageneration")),e.push(new gs("name","fullPath",!0));function t(s,o){return Kft(o)}const n=new gs("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new gs("size");return i.xform=r,e.push(i),e.push(new gs("timeCreated")),e.push(new gs("updated")),e.push(new gs("md5Hash",null,!0)),e.push(new gs("cacheControl",null,!0)),e.push(new gs("contentDisposition",null,!0)),e.push(new gs("contentEncoding",null,!0)),e.push(new gs("contentLanguage",null,!0)),e.push(new gs("contentType",null,!0)),e.push(new gs("metadata","customMetadata",!0)),Xb=e,Xb}function Qft(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Co(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Xft(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Qft(r,e),r}function Zfe(e,t,n){const r=Qfe(t);return r===null?null:Xft(e,r,n)}function Jft(e,t,n,r){const i=Qfe(t);if(i===null||!o4(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=u4(d,n,r),p=qfe({alt:"media",token:l});return h+p})[0]}function Zft(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class ede{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tde(e){if(!e)throw s4()}function edt(e,t){function n(r,i){const s=Zfe(e,i,t);return tde(s!==null),s}return n}function tdt(e,t){function n(r,i){const s=Zfe(e,i,t);return tde(s!==null),Jft(s,i,e.host,e._protocol)}return n}function nde(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=pft():i=hft():n.getStatus()===402?i=dft(e.bucket):n.getStatus()===403?i=mft(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function ndt(e){const t=nde(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=fft(e.path)),s.serverResponse=i.serverResponse,s}return n}function rdt(e,t,n){const r=t.fullServerUrl(),i=u4(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new ede(i,s,tdt(e,n),o);return a.errorHandler=ndt(t),a}function idt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function sdt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=idt(null,t)),r}function odt(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=sdt(t,r,i),c=Zft(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Jc.getBlob(f,r,d);if(h===null)throw wft();const p={name:l.fullPath},m=u4(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,v=new ede(m,y,edt(e,n),g);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=nde(t),v}class adt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw U0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw U0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw U0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw U0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw U0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class udt extends adt{initXhr(){this.xhr_.responseType="text"}}function rde(){return new udt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n){this._service=t,n instanceof Co?this._location=n:this._location=Co.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Rh(t,n)}get root(){const t=new Co(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xfe(this._location.path)}get storage(){return this._service}get parent(){const t=qft(this._location.path);if(t===null)return null;const n=new Co(this._location.bucket,t);return new Rh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Tft(t)}}function ldt(e,t,n){e._throwIfRoot("uploadBytes");const r=odt(e.storage,e._location,Jfe(),new Jc(t,!0),n);return e.storage.makeRequestWithTokens(r,rde).then(i=>({metadata:i,ref:e}))}function cdt(e){e._throwIfRoot("getDownloadURL");const t=rdt(e.storage,e._location,Jfe());return e.storage.makeRequestWithTokens(t,rde).then(n=>{if(n===null)throw Eft();return n})}function fdt(e,t){const n=Gft(e._location.path,t),r=new Co(e._location.bucket,n);return new Rh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ddt(e){return/^[A-Za-z]+:\/\//.test(e)}function hdt(e,t){return new Rh(e,t)}function ide(e,t){if(e instanceof l4){const n=e;if(n._bucket==null)throw bft();const r=new Rh(n,n._bucket);return t!=null?ide(r,t):r}else return t!==void 0?fdt(e,t):e}function pdt(e,t){if(t&&ddt(t)){if(e instanceof l4)return hdt(e,t);throw uD("To use ref(service, url), the first argument must be a Storage instance.")}else return ide(e,t)}function _q(e,t){const n=t==null?void 0:t[Hfe];return n==null?null:Co.makeFromBucketSpec(n,e)}function mdt(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:$lt(i,e.app.options.projectId))}class l4{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zfe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lft,this._maxUploadRetryTime=cft,this._requests=new Set,i!=null?this._bucket=Co.makeFromBucketSpec(i,this._host):this._bucket=_q(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Co.makeFromBucketSpec(this._url,t):this._bucket=_q(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){vq("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){vq("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new xft(Wfe());{const o=Lft(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const bq="@firebase/storage",wq="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sde="storage";function Eq(e,t,n){return e=Vi(e),ldt(e,t,n)}function V0(e){return e=Vi(e),cdt(e)}function gd(e,t){return e=Vi(e),pdt(e,t)}function yd(e=i4(),t){e=Vi(e);const r=Kg(e,sde).getImmediate({identifier:t}),i=Dlt("storage");return i&&gdt(r,...i),r}function gdt(e,t,n,r={}){mdt(e,t,n,r)}function ydt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new l4(n,r,i,t,Jh)}function vdt(){mc(new pl(sde,ydt,"PUBLIC").setMultipleInstances(!0)),Ya(bq,wq,""),Ya(bq,wq,"esm2017")}vdt();var _dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue,c4=c4||{},kt=_dt||self;function xA(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function m1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function bdt(e){return Object.prototype.hasOwnProperty.call(e,B2)&&e[B2]||(e[B2]=++wdt)}var B2="closure_uid_"+(1e9*Math.random()>>>0),wdt=0;function Edt(e,t,n){return e.call.apply(e.bind,arguments)}function Sdt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function as(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?as=Edt:as=Sdt,as.apply(null,arguments)}function Jb(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ti(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function ud(){this.s=this.s,this.o=this.o}var Tdt=0;ud.prototype.s=!1;ud.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Tdt!=0)&&bdt(this)};ud.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ode=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function f4(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sq(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xA(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function us(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var xdt=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};kt.addEventListener("test",n,t),kt.removeEventListener("test",n,t)}catch{}return e}();function Jv(e){return/^[\s\xa0]*$/.test(e)}function IA(){var e=kt.navigator;return e&&(e=e.userAgent)?e:""}function Lu(e){return IA().indexOf(e)!=-1}function d4(e){return d4[" "](e),e}d4[" "]=function(){};function Idt(e,t){var n=vht;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Cdt=Lu("Opera"),hg=Lu("Trident")||Lu("MSIE"),ade=Lu("Edge"),lD=ade||hg,ude=Lu("Gecko")&&!(IA().toLowerCase().indexOf("webkit")!=-1&&!Lu("Edge"))&&!(Lu("Trident")||Lu("MSIE"))&&!Lu("Edge"),Adt=IA().toLowerCase().indexOf("webkit")!=-1&&!Lu("Edge");function lde(){var e=kt.document;return e?e.documentMode:void 0}var cD;e:{var U2="",V2=function(){var e=IA();if(ude)return/rv:([^\);]+)(\)|;)/.exec(e);if(ade)return/Edge\/([\d\.]+)/.exec(e);if(hg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Adt)return/WebKit\/(\S+)/.exec(e);if(Cdt)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(V2&&(U2=V2?V2[1]:""),hg){var z2=lde();if(z2!=null&&z2>parseFloat(U2)){cD=String(z2);break e}}cD=U2}var fD;if(kt.document&&hg){var Tq=lde();fD=Tq||parseInt(cD,10)||void 0}else fD=void 0;var Pdt=fD;function Zv(e,t){if(us.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ude){e:{try{d4(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Odt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zv.$.h.call(this)}}Ti(Zv,us);var Odt={2:"touch",3:"pen",4:"mouse"};Zv.prototype.h=function(){Zv.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var g1="closure_listenable_"+(1e6*Math.random()|0),Rdt=0;function Ndt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Rdt,this.fa=this.ia=!1}function CA(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function h4(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function kdt(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function cde(e){const t={};for(const n in e)t[n]=e[n];return t}const xq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fde(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<xq.length;s++)n=xq[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function AA(e){this.src=e,this.g={},this.h=0}AA.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=hD(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Ndt(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function dD(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ode(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(CA(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function hD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var p4="closure_lm_"+(1e6*Math.random()|0),H2={};function dde(e,t,n,r,i){if(r&&r.once)return pde(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)dde(e,t[s],n,r,i);return null}return n=y4(n),e&&e[g1]?e.O(t,n,m1(r)?!!r.capture:!!r,i):hde(e,t,n,!1,r,i)}function hde(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=m1(i)?!!i.capture:!!i,a=g4(e);if(a||(e[p4]=a=new AA(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Ddt(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xdt||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gde(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ddt(){function e(n){return t.call(e.src,e.listener,n)}const t=$dt;return e}function pde(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pde(e,t[s],n,r,i);return null}return n=y4(n),e&&e[g1]?e.P(t,n,m1(r)?!!r.capture:!!r,i):hde(e,t,n,!0,r,i)}function mde(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)mde(e,t[s],n,r,i);else r=m1(r)?!!r.capture:!!r,n=y4(n),e&&e[g1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=hD(s,n,r,i),-1<n&&(CA(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=g4(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hD(t,n,r,i)),(n=-1<e?t[e]:null)&&m4(n))}function m4(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[g1])dD(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gde(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=g4(t))?(dD(n,e),n.h==0&&(n.src=null,t[p4]=null)):CA(e)}}}function gde(e){return e in H2?H2[e]:H2[e]="on"+e}function $dt(e,t){if(e.fa)e=!0;else{t=new Zv(t,this);var n=e.listener,r=e.la||e.src;e.ia&&m4(e),e=n.call(r,t)}return e}function g4(e){return e=e[p4],e instanceof AA?e:null}var W2="__closure_events_fn_"+(1e9*Math.random()>>>0);function y4(e){return typeof e=="function"?e:(e[W2]||(e[W2]=function(t){return e.handleEvent(t)}),e[W2])}function bi(){ud.call(this),this.i=new AA(this),this.S=this,this.J=null}Ti(bi,ud);bi.prototype[g1]=!0;bi.prototype.removeEventListener=function(e,t,n,r){mde(this,e,t,n,r)};function ji(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new us(t,e);else if(t instanceof us)t.target=t.target||e;else{var i=t;t=new us(r,e),fde(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Zb(o,r,!0,t)&&i}if(o=t.g=e,i=Zb(o,r,!0,t)&&i,i=Zb(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Zb(o,r,!1,t)&&i}bi.prototype.N=function(){if(bi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)CA(n[r]);delete e.g[t],e.h--}}this.J=null};bi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};bi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Zb(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&dD(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var v4=kt.JSON.stringify;class Ldt{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Mdt(){var e=_4;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Fdt{constructor(){this.h=this.g=null}add(t,n){const r=yde.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yde=new Ldt(()=>new jdt,e=>e.reset());class jdt{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Bdt(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Udt(e){kt.setTimeout(()=>{throw e},0)}let e_,t_=!1,_4=new Fdt,vde=()=>{const e=kt.Promise.resolve(void 0);e_=()=>{e.then(Vdt)}};var Vdt=()=>{for(var e;e=Mdt();){try{e.h.call(e.g)}catch(n){Udt(n)}var t=yde;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}t_=!1};function PA(e,t){bi.call(this),this.h=e||1,this.g=t||kt,this.j=as(this.qb,this),this.l=Date.now()}Ti(PA,bi);Ue=PA.prototype;Ue.ga=!1;Ue.T=null;Ue.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ji(this,"tick"),this.ga&&(b4(this),this.start()))}};Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function b4(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ue.N=function(){PA.$.N.call(this),b4(this),delete this.g};function w4(e,t,n){if(typeof e=="function")n&&(e=as(e,n));else if(e&&typeof e.handleEvent=="function")e=as(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:kt.setTimeout(e,t||0)}function _de(e){e.g=w4(()=>{e.g=null,e.i&&(e.i=!1,_de(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class zdt extends ud{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_de(this)}N(){super.N(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function n_(e){ud.call(this),this.h=e,this.g={}}Ti(n_,ud);var Iq=[];function bde(e,t,n,r){Array.isArray(n)||(n&&(Iq[0]=n.toString()),n=Iq);for(var i=0;i<n.length;i++){var s=dde(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function wde(e){h4(e.g,function(t,n){this.g.hasOwnProperty(n)&&m4(t)},e),e.g={}}n_.prototype.N=function(){n_.$.N.call(this),wde(this)};n_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function OA(){this.g=!0}OA.prototype.Ea=function(){this.g=!1};function Hdt(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Wdt(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Jp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Gdt(e,n)+(r?" "+r:"")})}function qdt(e,t){e.info(function(){return"TIMEOUT: "+t})}OA.prototype.info=function(){};function Gdt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return v4(n)}catch{return t}}var Zh={},Cq=null;function RA(){return Cq=Cq||new bi}Zh.Ta="serverreachability";function Ede(e){us.call(this,Zh.Ta,e)}Ti(Ede,us);function r_(e){const t=RA();ji(t,new Ede(t))}Zh.STAT_EVENT="statevent";function Sde(e,t){us.call(this,Zh.STAT_EVENT,e),this.stat=t}Ti(Sde,us);function bs(e){const t=RA();ji(t,new Sde(t,e))}Zh.Ua="timingevent";function Tde(e,t){us.call(this,Zh.Ua,e),this.size=t}Ti(Tde,us);function y1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){e()},t)}var NA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xde={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function E4(){}E4.prototype.h=null;function Aq(e){return e.h||(e.h=e.i())}function Ide(){}var v1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function S4(){us.call(this,"d")}Ti(S4,us);function T4(){us.call(this,"c")}Ti(T4,us);var pD;function kA(){}Ti(kA,E4);kA.prototype.g=function(){return new XMLHttpRequest};kA.prototype.i=function(){return{}};pD=new kA;function _1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new n_(this),this.P=Ydt,e=lD?125:void 0,this.V=new PA(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Cde}function Cde(){this.i=null,this.g="",this.h=!1}var Ydt=45e3,Ade={},mD={};Ue=_1.prototype;Ue.setTimeout=function(e){this.P=e};function gD(e,t,n){e.L=1,e.A=$A(gc(t)),e.u=n,e.S=!0,Pde(e,null)}function Pde(e,t){e.G=Date.now(),b1(e),e.B=gc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Mde(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Cde,e.g=ihe(e.l,n?t:null,!e.u),0<e.O&&(e.M=new zdt(as(e.Pa,e,e.g),e.O)),bde(e.U,e.g,"readystatechange",e.nb),t=e.I?cde(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),r_(),Hdt(e.j,e.v,e.B,e.m,e.W,e.u)}Ue.nb=function(e){e=e.target;const t=this.M;t&&Vu(e)==3?t.l():this.Pa(e)};Ue.Pa=function(e){try{if(e==this.g)e:{const c=Vu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||lD||this.g&&(this.h.h||this.g.ja()||Nq(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?r_(3):r_(2)),DA(this);var n=this.g.da();this.ca=n;t:if(Ode(this)){var r=Nq(this.g);e="";var i=r.length,s=Vu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xd(this),Gy(this);var o="";break t}this.h.i=new kt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Wdt(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jv(a)){var l=a;break t}}l=null}if(n=l)Jp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yD(this,n);else{this.i=!1,this.s=3,bs(12),Xd(this),Gy(this);break e}}this.S?(Rde(this,c,o),lD&&this.i&&c==3&&(bde(this.U,this.V,"tick",this.mb),this.V.start())):(Jp(this.j,this.m,o,null),yD(this,o)),c==4&&Xd(this),this.i&&!this.J&&(c==4?ehe(this.l,this):(this.i=!1,b1(this)))}else mht(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bs(12)):(this.s=0,bs(13)),Xd(this),Gy(this)}}}catch{}finally{}};function Ode(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Rde(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=Kdt(e,n),i==mD){t==4&&(e.s=4,bs(14),r=!1),Jp(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Ade){e.s=4,bs(15),Jp(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Jp(e.j,e.m,i,null),yD(e,i);Ode(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,bs(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),O4(t),t.M=!0,bs(11))):(Jp(e.j,e.m,n,"[Invalid Chunked Response]"),Xd(e),Gy(e))}Ue.mb=function(){if(this.g){var e=Vu(this.g),t=this.g.ja();this.o<t.length&&(DA(this),Rde(this,e,t),this.i&&e!=4&&b1(this))}};function Kdt(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?mD:(n=Number(t.substring(n,r)),isNaN(n)?Ade:(r+=1,r+n>t.length?mD:(t=t.slice(r,r+n),e.o=r+n,t)))}Ue.cancel=function(){this.J=!0,Xd(this)};function b1(e){e.Y=Date.now()+e.P,Nde(e,e.P)}function Nde(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=y1(as(e.lb,e),t)}function DA(e){e.C&&(kt.clearTimeout(e.C),e.C=null)}Ue.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(qdt(this.j,this.B),this.L!=2&&(r_(),bs(17)),Xd(this),this.s=2,Gy(this)):Nde(this,this.Y-e)};function Gy(e){e.l.H==0||e.J||ehe(e.l,e)}function Xd(e){DA(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,b4(e.V),wde(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function yD(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||vD(n.i,e))){if(!e.K&&vD(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Gx(n),jA(n);else break e;P4(n),bs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=y1(as(n.ib,n),6e3));if(1>=Bde(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Jd(n,11)}else if((e.K||n.g==e)&&Gx(n),!Jv(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(x4(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,rr(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=rhe(r,r.J?r.pa:null,r.Y),o.K){Ude(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(DA(a),b1(a)),r.g=o}else Jde(r);0<n.j.length&&BA(n)}else l[0]!="stop"&&l[0]!="close"||Jd(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Jd(n,7):A4(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}r_(4)}catch{}}function Qdt(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(xA(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Xdt(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(xA(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function kde(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(xA(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Xdt(e),r=Qdt(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Dde=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jdt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function lh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof lh){this.h=e.h,Wx(this,e.j),this.s=e.s,this.g=e.g,qx(this,e.m),this.l=e.l;var t=e.i,n=new i_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pq(this,n),this.o=e.o}else e&&(t=String(e).match(Dde))?(this.h=!1,Wx(this,t[1]||"",!0),this.s=ly(t[2]||""),this.g=ly(t[3]||"",!0),qx(this,t[4]),this.l=ly(t[5]||"",!0),Pq(this,t[6]||"",!0),this.o=ly(t[7]||"")):(this.h=!1,this.i=new i_(null,this.h))}lh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cy(t,Oq,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(cy(t,Oq,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(cy(n,n.charAt(0)=="/"?tht:eht,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cy(n,rht)),e.join("")};function gc(e){return new lh(e)}function Wx(e,t,n){e.j=n?ly(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pq(e,t,n){t instanceof i_?(e.i=t,iht(e.i,e.h)):(n||(t=cy(t,nht)),e.i=new i_(t,e.h))}function rr(e,t,n){e.i.set(t,n)}function $A(e){return rr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ly(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cy(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Zdt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zdt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Oq=/[#\/\?@]/g,eht=/[#\?:]/g,tht=/[#\?]/g,nht=/[#\?@]/g,rht=/#/g;function i_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ld(e){e.g||(e.g=new Map,e.h=0,e.i&&Jdt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ue=i_.prototype;Ue.add=function(e,t){ld(this),this.i=null,e=Qg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $de(e,t){ld(e),t=Qg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lde(e,t){return ld(e),t=Qg(e,t),e.g.has(t)}Ue.forEach=function(e,t){ld(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ue.ta=function(){ld(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ue.Z=function(e){ld(this);let t=[];if(typeof e=="string")Lde(this,e)&&(t=t.concat(this.g.get(Qg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ue.set=function(e,t){return ld(this),this.i=null,e=Qg(this,e),Lde(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ue.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Mde(e,t,n){$de(e,t),0<n.length&&(e.i=null,e.g.set(Qg(e,t),f4(n)),e.h+=n.length)}Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Qg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function iht(e,t){t&&!e.j&&(ld(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($de(this,r),Mde(this,i,n))},e)),e.j=t}var sht=class{constructor(e,t){this.g=e,this.map=t}};function Fde(e){this.l=e||oht,kt.PerformanceNavigationTiming?(e=kt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(kt.g&&kt.g.Ka&&kt.g.Ka()&&kt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oht=10;function jde(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Bde(e){return e.h?1:e.g?e.g.size:0}function vD(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function x4(e,t){e.g?e.g.add(t):e.h=t}function Ude(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Fde.prototype.cancel=function(){if(this.i=Vde(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Vde(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return f4(e.i)}var aht=class{stringify(e){return kt.JSON.stringify(e,void 0)}parse(e){return kt.JSON.parse(e,void 0)}};function uht(){this.g=new aht}function lht(e,t,n){const r=n||"";try{kde(e,function(i,s){let o=i;m1(i)&&(o=v4(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cht(e,t){const n=new OA;if(kt.Image){const r=new Image;r.onload=Jb(ew,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jb(ew,n,r,"TestLoadImage: error",!1,t),r.onabort=Jb(ew,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jb(ew,n,r,"TestLoadImage: timeout",!1,t),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ew(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function LA(e){this.l=e.ec||null,this.j=e.ob||!1}Ti(LA,E4);LA.prototype.g=function(){return new MA(this.l,this.j)};LA.prototype.i=function(e){return function(){return e}}({});function MA(e,t){bi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=I4,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ti(MA,bi);var I4=0;Ue=MA.prototype;Ue.open=function(e,t){if(this.readyState!=I4)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,s_(this)};Ue.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||kt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,w1(this)),this.readyState=I4};Ue.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,s_(this)),this.g&&(this.readyState=3,s_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zde(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function zde(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ue.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?w1(this):s_(this),this.readyState==3&&zde(this)}};Ue.Za=function(e){this.g&&(this.response=this.responseText=e,w1(this))};Ue.Ya=function(e){this.g&&(this.response=e,w1(this))};Ue.ka=function(){this.g&&w1(this)};function w1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,s_(e)}Ue.setRequestHeader=function(e,t){this.v.append(e,t)};Ue.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ue.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function s_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(MA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var fht=kt.JSON.parse;function Nr(e){bi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hde,this.L=this.M=!1}Ti(Nr,bi);var Hde="",dht=/^https?$/i,hht=["POST","PUT"];Ue=Nr.prototype;Ue.Oa=function(e){this.M=e};Ue.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pD.g(),this.C=this.u?Aq(this.u):Aq(pD),this.g.onreadystatechange=as(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Rq(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=kt.FormData&&e instanceof kt.FormData,!(0<=ode(hht,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gde(this),0<this.B&&((this.L=pht(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.ua,this)):this.A=w4(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Rq(this,s)}};function pht(e){return hg&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ue.ua=function(){typeof c4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))};function Rq(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wde(e),FA(e)}function Wde(e){e.F||(e.F=!0,ji(e,"complete"),ji(e,"error"))}Ue.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ji(this,"complete"),ji(this,"abort"),FA(this))};Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),FA(this,!0)),Nr.$.N.call(this)};Ue.La=function(){this.s||(this.G||this.v||this.l?qde(this):this.kb())};Ue.kb=function(){qde(this)};function qde(e){if(e.h&&typeof c4<"u"&&(!e.C[1]||Vu(e)!=4||e.da()!=2)){if(e.v&&Vu(e)==4)w4(e.La,0,e);else if(ji(e,"readystatechange"),Vu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Dde)[1]||null;!i&&kt.self&&kt.self.location&&(i=kt.self.location.protocol.slice(0,-1)),r=!dht.test(i?i.toLowerCase():"")}n=r}if(n)ji(e,"complete"),ji(e,"success");else{e.m=6;try{var s=2<Vu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Wde(e)}}finally{FA(e)}}}}function FA(e,t){if(e.g){Gde(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ji(e,"ready");try{n.onreadystatechange=r}catch{}}}function Gde(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(kt.clearTimeout(e.A),e.A=null)}Ue.isActive=function(){return!!this.g};function Vu(e){return e.g?e.g.readyState:0}Ue.da=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}};Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ue.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),fht(t)}};function Nq(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hde:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function mht(e){const t={};e=(e.g&&2<=Vu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Jv(e[r]))continue;var n=Bdt(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}kdt(t,function(r){return r.join(", ")})}Ue.Ia=function(){return this.m};Ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Yde(e){let t="";return h4(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function C4(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yde(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):rr(e,t,n))}function z0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kde(e){this.Ga=0,this.j=[],this.l=new OA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=z0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=z0("baseRetryDelayMs",5e3,e),this.hb=z0("retryDelaySeedMs",1e4,e),this.eb=z0("forwardChannelMaxRetries",2,e),this.xa=z0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fde(e&&e.concurrentRequestLimit),this.Ja=new uht,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ue=Kde.prototype;Ue.ra=8;Ue.H=1;function A4(e){if(Qde(e),e.H==3){var t=e.W++,n=gc(e.I);if(rr(n,"SID",e.K),rr(n,"RID",t),rr(n,"TYPE","terminate"),E1(e,n),t=new _1(e,e.l,t),t.L=2,t.A=$A(gc(n)),n=!1,kt.navigator&&kt.navigator.sendBeacon)try{n=kt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&kt.Image&&(new Image().src=t.A,n=!0),n||(t.g=ihe(t.l,null),t.g.ha(t.A)),t.G=Date.now(),b1(t)}nhe(e)}function jA(e){e.g&&(O4(e),e.g.cancel(),e.g=null)}function Qde(e){jA(e),e.u&&(kt.clearTimeout(e.u),e.u=null),Gx(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&kt.clearTimeout(e.m),e.m=null)}function BA(e){if(!jde(e.i)&&!e.m){e.m=!0;var t=e.Na;e_||vde(),t_||(e_(),t_=!0),_4.add(t,e),e.C=0}}function ght(e,t){return Bde(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=y1(as(e.Na,e,t),the(e,e.C)),e.C++,!0)}Ue.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new _1(this,this.l,e);let s=this.s;if(this.U&&(s?(s=cde(s),fde(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xde(this,i,t),n=gc(this.I),rr(n,"RID",e),rr(n,"CVER",22),this.F&&rr(n,"X-HTTP-Session-Id",this.F),E1(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Yde(s)))+"&"+t:this.o&&C4(n,this.o,s)),x4(this.i,i),this.bb&&rr(n,"TYPE","init"),this.P?(rr(n,"$req",t),rr(n,"SID","null"),i.aa=!0,gD(i,n,null)):gD(i,n,t),this.H=2}}else this.H==3&&(e?kq(this,e):this.j.length==0||jde(this.i)||kq(this))};function kq(e,t){var n;t?n=t.m:n=e.W++;const r=gc(e.I);rr(r,"SID",e.K),rr(r,"RID",n),rr(r,"AID",e.V),E1(e,r),e.o&&e.s&&C4(r,e.o,e.s),n=new _1(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Xde(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),x4(e.i,n),gD(n,r,t)}function E1(e,t){e.na&&h4(e.na,function(n,r){rr(t,r,n)}),e.h&&kde({},function(n,r){rr(t,r,n)})}function Xde(e,t,n){n=Math.min(e.j.length,n);var r=e.h?as(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{lht(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Jde(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;e_||vde(),t_||(e_(),t_=!0),_4.add(t,e),e.A=0}}function P4(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=y1(as(e.Ma,e),the(e,e.A)),e.A++,!0)}Ue.Ma=function(){if(this.u=null,Zde(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=y1(as(this.jb,this),e)}};Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bs(10),jA(this),Zde(this))};function O4(e){e.B!=null&&(kt.clearTimeout(e.B),e.B=null)}function Zde(e){e.g=new _1(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=gc(e.wa);rr(t,"RID","rpc"),rr(t,"SID",e.K),rr(t,"AID",e.V),rr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&rr(t,"TO",e.qa),rr(t,"TYPE","xmlhttp"),E1(e,t),e.o&&e.s&&C4(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=$A(gc(t)),n.u=null,n.S=!0,Pde(n,e)}Ue.ib=function(){this.v!=null&&(this.v=null,jA(this),P4(this),bs(19))};function Gx(e){e.v!=null&&(kt.clearTimeout(e.v),e.v=null)}function ehe(e,t){var n=null;if(e.g==t){Gx(e),O4(e),e.g=null;var r=2}else if(vD(e.i,t))n=t.F,Ude(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=RA(),ji(r,new Tde(r,n)),BA(e)}else Jde(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&ght(e,t)||r==2&&P4(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jd(e,5);break;case 4:Jd(e,10);break;case 3:Jd(e,6);break;default:Jd(e,2)}}}function the(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Jd(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=as(e.pb,e);n||(n=new lh("//www.google.com/images/cleardot.gif"),kt.location&&kt.location.protocol=="http"||Wx(n,"https"),$A(n)),cht(n.toString(),r)}else bs(2);e.H=0,e.h&&e.h.za(t),nhe(e),Qde(e)}Ue.pb=function(e){e?(this.l.info("Successfully pinged google.com"),bs(2)):(this.l.info("Failed to ping google.com"),bs(1))};function nhe(e){if(e.H=0,e.ma=[],e.h){const t=Vde(e.i);(t.length!=0||e.j.length!=0)&&(Sq(e.ma,t),Sq(e.ma,e.j),e.i.i.length=0,f4(e.j),e.j.length=0),e.h.ya()}}function rhe(e,t,n){var r=n instanceof lh?gc(n):new lh(n);if(r.g!="")t&&(r.g=t+"."+r.g),qx(r,r.m);else{var i=kt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new lh(null);r&&Wx(s,r),t&&(s.g=t),i&&qx(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&rr(r,n,t),rr(r,"VER",e.ra),E1(e,r),r}function ihe(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Nr(new LA({ob:n})):new Nr(e.va),t.Oa(e.J),t}Ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function she(){}Ue=she.prototype;Ue.Ba=function(){};Ue.Aa=function(){};Ue.za=function(){};Ue.ya=function(){};Ue.isActive=function(){return!0};Ue.Va=function(){};function Yx(){if(hg&&!(10<=Number(Pdt)))throw Error("Environmental error: no available transport.")}Yx.prototype.g=function(e,t){return new jo(e,t)};function jo(e,t){bi.call(this),this.g=new Kde(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Jv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jv(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xg(this)}Ti(jo,bi);jo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;bs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rhe(e,null,e.Y),BA(e)};jo.prototype.close=function(){A4(this.g)};jo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=v4(e),e=n);t.j.push(new sht(t.fb++,e)),t.H==3&&BA(t)};jo.prototype.N=function(){this.g.h=null,delete this.j,A4(this.g),delete this.g,jo.$.N.call(this)};function ohe(e){S4.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ti(ohe,S4);function ahe(){T4.call(this),this.status=1}Ti(ahe,T4);function Xg(e){this.g=e}Ti(Xg,she);Xg.prototype.Ba=function(){ji(this.g,"a")};Xg.prototype.Aa=function(e){ji(this.g,new ohe(e))};Xg.prototype.za=function(e){ji(this.g,new ahe)};Xg.prototype.ya=function(){ji(this.g,"b")};function yht(){this.blockSize=-1}function nu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ti(nu,yht);nu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function q2(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}nu.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)q2(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){q2(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){q2(this,r),i=0;break}}this.h=i,this.i+=t};nu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ln(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var vht={};function R4(e){return-128<=e&&128>e?Idt(e,function(t){return new Ln([t|0],0>t?-1:0)}):new Ln([e|0],0>e?-1:0)}function zu(e){if(isNaN(e)||!isFinite(e))return Im;if(0>e)return Di(zu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_D;return new Ln(t,0)}function uhe(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Di(uhe(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zu(Math.pow(t,8)),r=Im,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=zu(Math.pow(t,s)),r=r.R(s).add(zu(o))):(r=r.R(n),r=r.add(zu(o)))}return r}var _D=4294967296,Im=R4(0),bD=R4(1),Dq=R4(16777216);Ue=Ln.prototype;Ue.ea=function(){if(ia(this))return-Di(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_D+r)*t,t*=_D}return e};Ue.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(zl(this))return"0";if(ia(this))return"-"+Di(this).toString(e);for(var t=zu(Math.pow(e,6)),n=this,r="";;){var i=Qx(n,t).g;n=Kx(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,zl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ue.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function zl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ia(e){return e.h==-1}Ue.X=function(e){return e=Kx(this,e),ia(e)?-1:zl(e)?0:1};function Di(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ln(n,~e.h).add(bD)}Ue.abs=function(){return ia(this)?Di(this):this};Ue.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ln(n,n[n.length-1]&-2147483648?-1:0)};function Kx(e,t){return e.add(Di(t))}Ue.R=function(e){if(zl(this)||zl(e))return Im;if(ia(this))return ia(e)?Di(this).R(Di(e)):Di(Di(this).R(e));if(ia(e))return Di(this.R(Di(e)));if(0>this.X(Dq)&&0>e.X(Dq))return zu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,tw(n,2*r+2*i),n[2*r+2*i+1]+=s*u,tw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,tw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,tw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ln(n,0)};function tw(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function H0(e,t){this.g=e,this.h=t}function Qx(e,t){if(zl(t))throw Error("division by zero");if(zl(e))return new H0(Im,Im);if(ia(e))return t=Qx(Di(e),t),new H0(Di(t.g),Di(t.h));if(ia(t))return t=Qx(e,Di(t)),new H0(Di(t.g),t.h);if(30<e.g.length){if(ia(e)||ia(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bD,r=t;0>=r.X(e);)n=$q(n),r=$q(r);var i=vp(n,1),s=vp(r,1);for(r=vp(r,2),n=vp(n,2);!zl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=vp(r,1),n=vp(n,1)}return t=Kx(e,i.R(t)),new H0(i,t)}for(i=Im;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zu(n),o=s.R(t);ia(o)||0<o.X(e);)n-=r,s=zu(n),o=s.R(t);zl(s)&&(s=bD),i=i.add(s),e=Kx(e,o)}return new H0(i,e)}Ue.gb=function(e){return Qx(this,e).h};Ue.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ln(n,this.h&e.h)};Ue.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ln(n,this.h|e.h)};Ue.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ln(n,this.h^e.h)};function $q(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ln(n,e.h)}function vp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ln(i,e.h)}Yx.prototype.createWebChannel=Yx.prototype.g;jo.prototype.send=jo.prototype.u;jo.prototype.open=jo.prototype.m;jo.prototype.close=jo.prototype.close;NA.NO_ERROR=0;NA.TIMEOUT=8;NA.HTTP_ERROR=6;xde.COMPLETE="complete";Ide.EventType=v1;v1.OPEN="a";v1.CLOSE="b";v1.ERROR="c";v1.MESSAGE="d";bi.prototype.listen=bi.prototype.O;Nr.prototype.listenOnce=Nr.prototype.P;Nr.prototype.getLastError=Nr.prototype.Sa;Nr.prototype.getLastErrorCode=Nr.prototype.Ia;Nr.prototype.getStatus=Nr.prototype.da;Nr.prototype.getResponseJson=Nr.prototype.Wa;Nr.prototype.getResponseText=Nr.prototype.ja;Nr.prototype.send=Nr.prototype.ha;Nr.prototype.setWithCredentials=Nr.prototype.Oa;nu.prototype.digest=nu.prototype.l;nu.prototype.reset=nu.prototype.reset;nu.prototype.update=nu.prototype.j;Ln.prototype.add=Ln.prototype.add;Ln.prototype.multiply=Ln.prototype.R;Ln.prototype.modulo=Ln.prototype.gb;Ln.prototype.compare=Ln.prototype.X;Ln.prototype.toNumber=Ln.prototype.ea;Ln.prototype.toString=Ln.prototype.toString;Ln.prototype.getBits=Ln.prototype.D;Ln.fromNumber=zu;Ln.fromString=uhe;var _ht=function(){return new Yx},bht=function(){return RA()},G2=NA,wht=xde,Eht=Zh,Lq={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nw=Ide,Sht=Nr,Tht=nu,Cm=Ln;const Mq="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new TA("@firebase/firestore");function W0(){return Nh.logLevel}function Be(e,...t){if(Nh.logLevel<=an.DEBUG){const n=t.map(N4);Nh.debug(`Firestore (${Jg}): ${e}`,...n)}}function ml(e,...t){if(Nh.logLevel<=an.ERROR){const n=t.map(N4);Nh.error(`Firestore (${Jg}): ${e}`,...n)}}function o_(e,...t){if(Nh.logLevel<=an.WARN){const n=t.map(N4);Nh.warn(`Firestore (${Jg}): ${e}`,...n)}}function N4(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e="Unexpected state"){const t=`FIRESTORE (${Jg}) INTERNAL ASSERTION FAILED: `+e;throw ml(t),new Error(t)}function Jn(e,t){e||Rt()}function jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Tl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xht{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Iht{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Bs.UNAUTHENTICATED))}shutdown(){}}class Cht{constructor(t){this.t=t,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new el;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new el,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new el)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jn(typeof r.accessToken=="string"),new xht(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Jn(t===null||typeof t=="string"),new Bs(t)}}class Aht{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pht{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Aht(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oht{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rht{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Jn(typeof n.token=="string"),this.R=n.token,new Oht(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nht(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Nht(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function In(e,t){return e<t?-1:e>t?1:0}function pg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ai.fromMillis(Date.now())}static fromDate(t){return ai.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ai(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?In(this.nanoseconds,t.nanoseconds):In(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.timestamp=t}static fromTimestamp(t){return new $t(t)}static min(){return new $t(new ai(0,0))}static max(){return new $t(new ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t,n,r){n===void 0?n=0:n>t.length&&Rt(),r===void 0?r=t.length-n:r>t.length-n&&Rt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return a_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof a_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ir extends a_{construct(t,n,r){return new ir(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ve(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ir(n)}static emptyPath(){return new ir([])}}const kht=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends a_{construct(t,n,r){return new $i(t,n,r)}static isValidIdentifier(t){return kht.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ve(Te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ve(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ve(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ve(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(n)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ir.fromString(t))}static fromName(t){return new ht(ir.fromString(t).popFirst(5))}static empty(){return new ht(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ir.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ir.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ir(t.slice()))}}function Dht(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(r===1e9?new ai(n+1,0):new ai(n,r));return new Gf(i,ht.empty(),t)}function $ht(e){return new Gf(e.readTime,e.key,-1)}class Gf{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Gf($t.min(),ht.empty(),-1)}static max(){return new Gf($t.max(),ht.empty(),-1)}}function Lht(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(e.documentKey,t.documentKey),n!==0?n:In(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mht="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fht{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(e){if(e.code!==Te.FAILED_PRECONDITION||e.message!==Mht)throw e;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):xe.reject(n)}static resolve(t){return new xe((n,r)=>{n(t)})}static reject(t){return new xe((n,r)=>{r(t)})}static waitFor(t){return new xe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=xe.resolve(!1);for(const r of t)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new xe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new xe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new el,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Yy(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=D4(r.target.error);this.V.reject(new Yy(t,i))}}static open(t,n,r,i){try{return new k4(n,t.transaction(i,r))}catch(s){throw new Yy(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Bht(n)}}class Zd{constructor(t,n,r){this.name=t,this.version=n,this.p=r,Zd.S(Jr())===12.2&&ml("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),Ld(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!SA())return!1;if(Zd.C())return!0;const t=Jr(),n=Zd.S(t),r=0<n&&n<10,i=Zd.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(Be("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Yy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Ve(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Ve(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Yy(t,o))},i.onupgradeneeded=s=>{Be("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Be("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=k4.open(this.db,t,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),xe.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(Be("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class jht{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Ld(this.k.delete())}}class Yy extends Ve{constructor(t,n){super(Te.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function T1(e){return e.name==="IndexedDbTransactionError"}class Bht{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Be("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ld(r)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),Ld(this.store.add(t))}get(t){return Ld(this.store.get(t)).next(n=>(n===void 0&&(n=null),Be("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),Ld(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),Ld(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new xe((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new xe((r,i)=>{n.onerror=s=>{const o=D4(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new xe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new jht(a),l=n(a.primaryKey,a.value,u);if(l instanceof xe){const c=l.catch(f=>(u.done(),xe.reject(f)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>xe.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Ld(e){return new xe((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=D4(r.target.error);n(i)}})}let Fq=!1;function D4(e){const t=Zd.S(Jr());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fq||(Fq=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}$4._e=-1;function UA(e){return e==null}function Xx(e){return e===0&&1/e==-1/0}function Uht(e){return typeof e=="number"&&Number.isInteger(e)&&!Xx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function che(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n){this.comparator=t,this.root=n||Ri.EMPTY}insert(t,n){return new _r(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(t){return new _r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rw(this.root,t,this.comparator,!1)}getReverseIterator(){return new rw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rw(this.root,t,this.comparator,!0)}}class rw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ri{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=s??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ri(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const t=this.left.check();if(t!==this.right.check())throw Rt();return t+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ri(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this.comparator=t,this.data=new _r(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bq(this.data.getIterator())}getIteratorFrom(t){return new Bq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Bi)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Bi(this.comparator);return n.data=t,n}}class Bq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new Va([])}unionWith(t){let n=new Bi($i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Va(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return pg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fhe("Invalid base64 string: "+s):s}}(t);return new fs(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new fs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return In(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const Vht=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yf(e){if(Jn(!!e),typeof e=="string"){let t=0;const n=Vht.exec(e);if(Jn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yr(e.seconds),nanos:Yr(e.nanos)}}function Yr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function kh(e){return typeof e=="string"?fs.fromBase64String(e):fs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function M4(e){const t=e.mapValue.fields.__previous_value__;return L4(t)?M4(t):t}function u_(e){const t=Yf(e.mapValue.fields.__local_write_time__.timestampValue);return new ai(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zht{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class l_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new l_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof l_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?L4(e)?4:Hht(e)?9007199254740991:10:Rt()}function gl(e,t){if(e===t)return!0;const n=Dh(e);if(n!==Dh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return u_(e).isEqual(u_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yf(i.timestampValue),a=Yf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return kh(i.bytesValue).isEqual(kh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Yr(i.geoPointValue.latitude)===Yr(s.geoPointValue.latitude)&&Yr(i.geoPointValue.longitude)===Yr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yr(i.integerValue)===Yr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yr(i.doubleValue),a=Yr(s.doubleValue);return o===a?Xx(o)===Xx(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return pg(e.arrayValue.values||[],t.arrayValue.values||[],gl);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(jq(o)!==jq(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!gl(o[u],a[u])))return!1;return!0}(e,t);default:return Rt()}}function c_(e,t){return(e.values||[]).find(n=>gl(n,t))!==void 0}function mg(e,t){if(e===t)return 0;const n=Dh(e),r=Dh(t);if(n!==r)return In(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return In(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Yr(s.integerValue||s.doubleValue),u=Yr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return Uq(e.timestampValue,t.timestampValue);case 4:return Uq(u_(e),u_(t));case 5:return In(e.stringValue,t.stringValue);case 6:return function(s,o){const a=kh(s),u=kh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=In(a[l],u[l]);if(c!==0)return c}return In(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=In(Yr(s.latitude),Yr(o.latitude));return a!==0?a:In(Yr(s.longitude),Yr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=mg(a[l],u[l]);if(c)return c}return In(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===iw.mapValue&&o===iw.mapValue)return 0;if(s===iw.mapValue)return 1;if(o===iw.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=In(u[f],c[f]);if(d!==0)return d;const h=mg(a[u[f]],l[c[f]]);if(h!==0)return h}return In(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Rt()}}function Uq(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return In(e,t);const n=Yf(e),r=Yf(t),i=In(n.seconds,r.seconds);return i!==0?i:In(n.nanos,r.nanos)}function gg(e){return wD(e)}function wD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Yf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return kh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ht.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=wD(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${wD(n.fields[o])}`;return i+"}"}(e.mapValue):Rt()}function Vq(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ED(e){return!!e&&"integerValue"in e}function F4(e){return!!e&&"arrayValue"in e}function zq(e){return!!e&&"nullValue"in e}function Hq(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eE(e){return!!e&&"mapValue"in e}function Ky(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zg(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ky(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ky(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Hht(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t){this.value=t}static empty(){return new sa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!eE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ky(n)}setAll(t){let n=$i.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ky(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());eE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];eE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Zg(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new sa(Ky(this.value))}}function dhe(e){const t=[];return Zg(e.fields,(n,r)=>{const i=new $i([n]);if(eE(r)){const s=dhe(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Va(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ss(t,0,$t.min(),$t.min(),$t.min(),sa.empty(),0)}static newFoundDocument(t,n,r,i){return new ss(t,1,n,$t.min(),r,i,0)}static newNoDocument(t,n){return new ss(t,2,n,$t.min(),$t.min(),sa.empty(),0)}static newUnknownDocument(t,n){return new ss(t,3,n,$t.min(),$t.min(),sa.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ss&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ss(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n){this.position=t,this.inclusive=n}}function Wq(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),n.key):r=mg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qq(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Wht(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{}class Xr extends hhe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Ght(t,n,r):n==="array-contains"?new Qht(t,r):n==="in"?new Xht(t,r):n==="not-in"?new Jht(t,r):n==="array-contains-any"?new Zht(t,r):new Xr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Yht(t,r):new Kht(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mg(n,this.value)):n!==null&&Dh(this.value)===Dh(n)&&this.matchesComparison(mg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ru extends hhe{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ru(t,n)}matches(t){return phe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function phe(e){return e.op==="and"}function mhe(e){return qht(e)&&phe(e)}function qht(e){for(const t of e.filters)if(t instanceof ru)return!1;return!0}function SD(e){if(e instanceof Xr)return e.field.canonicalString()+e.op.toString()+gg(e.value);if(mhe(e))return e.filters.map(t=>SD(t)).join(",");{const t=e.filters.map(n=>SD(n)).join(",");return`${e.op}(${t})`}}function ghe(e,t){return e instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.field.isEqual(i.field)&&gl(r.value,i.value)}(e,t):e instanceof ru?function(r,i){return i instanceof ru&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ghe(o,i.filters[a]),!0):!1}(e,t):void Rt()}function yhe(e){return e instanceof Xr?function(n){return`${n.field.canonicalString()} ${n.op} ${gg(n.value)}`}(e):e instanceof ru?function(n){return n.op.toString()+" {"+n.getFilters().map(yhe).join(" ,")+"}"}(e):"Filter"}class Ght extends Xr{constructor(t,n,r){super(t,n,r),this.key=ht.fromName(r.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class Yht extends Xr{constructor(t,n){super(t,"in",n),this.keys=vhe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Kht extends Xr{constructor(t,n){super(t,"not-in",n),this.keys=vhe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vhe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class Qht extends Xr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return F4(n)&&c_(n.arrayValue,this.value)}}class Xht extends Xr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&c_(this.value.arrayValue,n)}}class Jht extends Xr{constructor(t,n){super(t,"not-in",n)}matches(t){if(c_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!c_(this.value.arrayValue,n)}}class Zht extends Xr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!F4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>c_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ept{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Gq(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ept(e,t,n,r,i,s,o)}function j4(e){const t=jt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>SD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),UA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>gg(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>gg(r)).join(",")),t.ce=n}return t.ce}function B4(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wht(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ghe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qq(e.startAt,t.startAt)&&qq(e.endAt,t.endAt)}function TD(e){return ht.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tpt(e,t,n,r,i,s,o,a){return new e0(e,t,n,r,i,s,o,a)}function U4(e){return new e0(e)}function Yq(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _he(e){return e.collectionGroup!==null}function Qy(e){const t=jt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bi($i.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new f_(s,r))}),n.has($i.keyField().canonicalString())||t.le.push(new f_($i.keyField(),r))}return t.le}function tl(e){const t=jt(e);return t.he||(t.he=npt(t,Qy(e))),t.he}function npt(e,t){if(e.limitType==="F")return Gq(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new f_(i.field,s)});const n=e.endAt?new Jx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jx(e.startAt.position,e.startAt.inclusive):null;return Gq(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xD(e,t){const n=e.filters.concat([t]);return new e0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ID(e,t,n){return new e0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function VA(e,t){return B4(tl(e),tl(t))&&e.limitType===t.limitType}function bhe(e){return`${j4(tl(e))}|lt:${e.limitType}`}function Cp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yhe(i)).join(", ")}]`),UA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gg(i)).join(",")),`Target(${r})`}(tl(e))}; limitType=${e.limitType})`}function zA(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Qy(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=Wq(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Qy(r),i)||r.endAt&&!function(o,a,u){const l=Wq(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Qy(r),i))}(e,t)}function rpt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function whe(e){return(t,n)=>{let r=!1;for(const i of Qy(e)){const s=ipt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ipt(e,t,n){const r=e.field.isKeyField()?ht.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?mg(u,l):Rt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Zg(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return che(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spt=new _r(ht.comparator);function yc(){return spt}const Ehe=new _r(ht.comparator);function fy(...e){let t=Ehe;for(const n of e)t=t.insert(n.key,n);return t}function She(e){let t=Ehe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function eh(){return Xy()}function The(){return Xy()}function Xy(){return new t0(e=>e.toString(),(e,t)=>e.isEqual(t))}const opt=new _r(ht.comparator),apt=new Bi(ht.comparator);function tn(...e){let t=apt;for(const n of e)t=t.add(n);return t}const upt=new Bi(In);function lpt(){return upt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xx(t)?"-0":t}}function Ihe(e){return{integerValue:""+e}}function cpt(e,t){return Uht(t)?Ihe(t):xhe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this._=void 0}}function fpt(e,t,n){return e instanceof d_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&L4(s)&&(s=M4(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof h_?Ahe(e,t):e instanceof p_?Phe(e,t):function(i,s){const o=Che(i,s),a=Kq(o)+Kq(i.Ie);return ED(o)&&ED(i.Ie)?Ihe(a):xhe(i.serializer,a)}(e,t)}function dpt(e,t,n){return e instanceof h_?Ahe(e,t):e instanceof p_?Phe(e,t):n}function Che(e,t){return e instanceof Zx?function(r){return ED(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class d_ extends HA{}class h_ extends HA{constructor(t){super(),this.elements=t}}function Ahe(e,t){const n=Ohe(t);for(const r of e.elements)n.some(i=>gl(i,r))||n.push(r);return{arrayValue:{values:n}}}class p_ extends HA{constructor(t){super(),this.elements=t}}function Phe(e,t){let n=Ohe(t);for(const r of e.elements)n=n.filter(i=>!gl(i,r));return{arrayValue:{values:n}}}class Zx extends HA{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Kq(e){return Yr(e.integerValue||e.doubleValue)}function Ohe(e){return F4(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpt{constructor(t,n){this.field=t,this.transform=n}}function ppt(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof h_&&i instanceof h_||r instanceof p_&&i instanceof p_?pg(r.elements,i.elements,gl):r instanceof Zx&&i instanceof Zx?gl(r.Ie,i.Ie):r instanceof d_&&i instanceof d_}(e.transform,t.transform)}class mpt{constructor(t,n){this.version=t,this.transformResults=n}}class Ql{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ql}static exists(t){return new Ql(void 0,t)}static updateTime(t){return new Ql(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class WA{}function Rhe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new khe(e.key,Ql.none()):new x1(e.key,e.data,Ql.none());{const n=e.data,r=sa.empty();let i=new Bi($i.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ep(e.key,r,new Va(i.toArray()),Ql.none())}}function gpt(e,t,n){e instanceof x1?function(i,s,o){const a=i.value.clone(),u=Xq(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ep?function(i,s,o){if(!tE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Xq(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Nhe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Jy(e,t,n,r){return e instanceof x1?function(s,o,a,u){if(!tE(s.precondition,o))return a;const l=s.value.clone(),c=Jq(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof ep?function(s,o,a,u){if(!tE(s.precondition,o))return a;const l=Jq(s.fieldTransforms,u,o),c=o.data;return c.setAll(Nhe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return tE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function ypt(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Che(r.transform,i||null);s!=null&&(n===null&&(n=sa.empty()),n.set(r.field,s))}return n||null}function Qq(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pg(r,i,(s,o)=>ppt(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class x1 extends WA{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ep extends WA{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Nhe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Xq(e,t,n){const r=new Map;Jn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,dpt(o,a,n[i]))}return r}function Jq(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fpt(s,o,t))}return r}class khe extends WA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vpt extends WA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pt{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&gpt(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Jy(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Jy(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=The();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Rhe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),tn())}isEqual(t){return this.batchId===t.batchId&&pg(this.mutations,t.mutations,(n,r)=>Qq(n,r))&&pg(this.baseMutations,t.baseMutations,(n,r)=>Qq(n,r))}}class V4{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Jn(t.mutations.length===r.length);let i=function(){return opt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new V4(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpt{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wpt{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,fn;function Ept(e){switch(e){default:return Rt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function Dhe(e){if(e===void 0)return ml("GRPC error has no .code"),Te.UNKNOWN;switch(e){case Wr.OK:return Te.OK;case Wr.CANCELLED:return Te.CANCELLED;case Wr.UNKNOWN:return Te.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Te.INTERNAL;case Wr.UNAVAILABLE:return Te.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Te.NOT_FOUND;case Wr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Wr.ABORTED:return Te.ABORTED;case Wr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Wr.DATA_LOSS:return Te.DATA_LOSS;default:return Rt()}}(fn=Wr||(Wr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Spt(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpt=new Cm([4294967295,4294967295],0);function Zq(e){const t=Spt().encode(e),n=new Tht;return n.update(t),new Uint8Array(n.digest())}function eG(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Cm([n,r],0),new Cm([i,s],0)]}class z4{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dy(`Invalid padding: ${n}`);if(r<0)throw new dy(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dy(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new dy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Cm.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Cm.fromNumber(r)));return i.compare(Tpt)===1&&(i=new Cm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Zq(t),[r,i]=eG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new z4(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Zq(t),[r,i]=eG(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class dy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,I1.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new qA($t.min(),i,new _r(In),yc(),tn())}}class I1{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new I1(r,n,tn(),tn(),tn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class $he{constructor(t,n){this.targetId=t,this.fe=n}}class Lhe{constructor(t,n,r=fs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tG{constructor(){this.ge=0,this.pe=rG(),this.ye=fs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=tn(),n=tn(),r=tn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Rt()}}),new I1(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=rG()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Jn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class xpt{constructor(t){this.Le=t,this.ke=new Map,this.qe=yc(),this.Qe=nG(),this.Ke=new _r(In)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Rt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(TD(s))if(r===0){const o=new ht(s.path);this.We(n,o,ss.newNoDocument(o,$t.min()))}else Jn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=kh(r).toUint8Array()}catch(u){if(u instanceof fhe)return o_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new z4(o,i,s)}catch(u){return o_(u instanceof dy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&TD(a.target)){const u=new ht(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,ss.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=tn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new qA(t,n,this.Ke,this.qe,r);return this.qe=yc(),this.Qe=nG(),this.Ke=new _r(In),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new tG,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Bi(In),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new tG),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function nG(){return new _r(ht.comparator)}function rG(){return new _r(ht.comparator)}const Ipt={asc:"ASCENDING",desc:"DESCENDING"},Cpt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Apt={and:"AND",or:"OR"};class Ppt{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function CD(e,t){return e.useProto3Json||UA(t)?t:{value:t}}function eI(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mhe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Opt(e,t){return eI(e,t.toTimestamp())}function nl(e){return Jn(!!e),$t.fromTimestamp(function(n){const r=Yf(n);return new ai(r.seconds,r.nanos)}(e))}function H4(e,t){return AD(e,t).canonicalString()}function AD(e,t){const n=function(i){return new ir(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Fhe(e){const t=ir.fromString(e);return Jn(zhe(t)),t}function PD(e,t){return H4(e.databaseId,t.path)}function Y2(e,t){const n=Fhe(t);if(n.get(1)!==e.databaseId.projectId)throw new Ve(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ve(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ht(Bhe(n))}function jhe(e,t){return H4(e.databaseId,t)}function Rpt(e){const t=Fhe(e);return t.length===4?ir.emptyPath():Bhe(t)}function OD(e){return new ir(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bhe(e){return Jn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function iG(e,t,n){return{name:PD(e,t),fields:n.value.mapValue.fields}}function Npt(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Rt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Jn(c===void 0||typeof c=="string"),fs.fromBase64String(c||"")):(Jn(c===void 0||c instanceof Uint8Array),fs.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Te.UNKNOWN:Dhe(l.code);return new Ve(c,l.message||"")}(o);n=new Lhe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Y2(e,r.document.name),s=nl(r.document.updateTime),o=r.document.createTime?nl(r.document.createTime):$t.min(),a=new sa({mapValue:{fields:r.document.fields}}),u=ss.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new nE(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Y2(e,r.document),s=r.readTime?nl(r.readTime):$t.min(),o=ss.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Y2(e,r.document),s=r.removedTargetIds||[];n=new nE([],s,i,null)}else{if(!("filter"in t))return Rt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wpt(i,s),a=r.targetId;n=new $he(a,o)}}return n}function kpt(e,t){let n;if(t instanceof x1)n={update:iG(e,t.key,t.value)};else if(t instanceof khe)n={delete:PD(e,t.key)};else if(t instanceof ep)n={update:iG(e,t.key,t.data),updateMask:Vpt(t.fieldMask)};else{if(!(t instanceof vpt))return Rt();n={verify:PD(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof d_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof h_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof p_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zx)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Rt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Opt(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Rt()}(e,t.precondition)),n}function Dpt(e,t){return e&&e.length>0?(Jn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?nl(i.updateTime):nl(s);return o.isEqual($t.min())&&(o=nl(s)),new mpt(o,i.transformResults||[])}(n,t))):[]}function $pt(e,t){return{documents:[jhe(e,t.path)]}}function Lpt(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jhe(e,i);const s=function(l){if(l.length!==0)return Vhe(ru.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Ap(d.field),direction:jpt(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=CD(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:i}}function Mpt(e){let t=Rpt(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Uhe(f);return d instanceof ru&&mhe(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new f_(Pp(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,UA(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new Jx(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new Jx(h,d)}(n.endAt)),tpt(t,i,o,s,a,"F",u,l)}function Fpt(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Uhe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pp(n.unaryFilter.field);return Xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pp(n.unaryFilter.field);return Xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pp(n.unaryFilter.field);return Xr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pp(n.unaryFilter.field);return Xr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(e):e.fieldFilter!==void 0?function(n){return Xr.create(Pp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ru.create(n.compositeFilter.filters.map(r=>Uhe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Rt()}}(n.compositeFilter.op))}(e):Rt()}function jpt(e){return Ipt[e]}function Bpt(e){return Cpt[e]}function Upt(e){return Apt[e]}function Ap(e){return{fieldPath:e.canonicalString()}}function Pp(e){return $i.fromServerFormat(e.fieldPath)}function Vhe(e){return e instanceof Xr?function(n){if(n.op==="=="){if(Hq(n.value))return{unaryFilter:{field:Ap(n.field),op:"IS_NAN"}};if(zq(n.value))return{unaryFilter:{field:Ap(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hq(n.value))return{unaryFilter:{field:Ap(n.field),op:"IS_NOT_NAN"}};if(zq(n.value))return{unaryFilter:{field:Ap(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ap(n.field),op:Bpt(n.op),value:n.value}}}(e):e instanceof ru?function(n){const r=n.getFilters().map(i=>Vhe(i));return r.length===1?r[0]:{compositeFilter:{op:Upt(n.op),filters:r}}}(e):Rt()}function Vpt(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function zhe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n,r,i,s=$t.min(),o=$t.min(),a=fs.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new cf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpt{constructor(t){this.ct=t}}function Hpt(e){const t=Mpt({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ID(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpt{constructor(){this._n=new qpt}addToCollectionParentIndex(t,n){return this._n.add(n),xe.resolve()}getCollectionParents(t,n){return xe.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return xe.resolve()}deleteFieldIndex(t,n){return xe.resolve()}deleteAllFieldIndexes(t){return xe.resolve()}createTargetIndexes(t,n){return xe.resolve()}getDocumentsMatchingTarget(t,n){return xe.resolve(null)}getIndexType(t,n){return xe.resolve(0)}getFieldIndexes(t,n){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,n){return xe.resolve(Gf.min())}getMinOffsetFromCollectionGroup(t,n){return xe.resolve(Gf.min())}updateCollectionGroup(t,n,r){return xe.resolve()}updateIndexEntries(t,n){return xe.resolve()}}class qpt{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Bi(ir.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Bi(ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new yg(0)}static Bn(){return new yg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpt{constructor(){this.changes=new t0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ss.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ypt{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpt{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Jy(r.mutation,i,Va.empty(),ai.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,tn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=tn()){const i=eh();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=fy();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=eh();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,tn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=yc();const o=Xy(),a=function(){return Xy()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ep)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Jy(c.mutation,l,c.mutation.getFieldMask(),ai.now())):o.set(l.key,Va.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Ypt(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Xy();let i=new _r((o,a)=>o-a),s=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Va.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||tn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=The();c.forEach(d=>{if(!s.has(d)){const h=Rhe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_he(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):xe.resolve(eh());let a=-1,u=s;return o.next(l=>xe.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,tn())).next(c=>({batchId:a,changes:She(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(r=>{let i=fy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=fy();return this.indexManager.getCollectionParents(t,s).next(a=>xe.forEach(a,u=>{const l=function(f,d){return new e0(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,ss.newInvalidDocument(c)))});let a=fy();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Jy(c.mutation,l,Va.empty(),ai.now()),zA(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpt{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return xe.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nl(i.createTime)}}(n)),xe.resolve()}getNamedQuery(t,n){return xe.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Hpt(i.bundledQuery),readTime:nl(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xpt{constructor(){this.overlays=new _r(ht.comparator),this.hr=new Map}getOverlay(t,n){return xe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=eh();return xe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),xe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),xe.resolve()}getOverlaysForCollection(t,n,r){const i=eh(),s=n.length+1,o=new ht(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return xe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new _r((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=eh(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=eh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return xe.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bpt(n,r));let s=this.hr.get(n);s===void 0&&(s=tn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.Pr=new Bi(pi.Ir),this.Tr=new Bi(pi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new pi(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new pi(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new ht(new ir([])),r=new pi(n,t),i=new pi(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new ht(new ir([])),r=new pi(n,t),i=new pi(n,t+1);let s=tn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new pi(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class pi{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return ht.comparator(t.key,n.key)||In(t.pr,n.pr)}static Er(t,n){return In(t.pr,n.pr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jpt{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bi(pi.Ir)}checkEmpty(t){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _pt(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new pi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(t,n){return xe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new pi(n,0),i=new pi(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bi(In);return n.forEach(i=>{const s=new pi(i,0),o=new pi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),xe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const o=new pi(new ht(s),0);let a=new Bi(In);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),xe.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Jn(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return xe.forEach(n.mutations,i=>{const s=new pi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new pi(n,0),i=this.wr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,xe.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zpt{constructor(t){this.vr=t,this.docs=function(){return new _r(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():ss.newInvalidDocument(n))}getEntries(t,n){let r=yc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ss.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=yc();const o=n.path,a=new ht(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Lht($ht(c),r)<=0||(i.has(c.key)||zA(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Rt()}Fr(t,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new emt(this)}getSize(t){return xe.resolve(this.size)}}class emt extends Gpt{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),xe.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tmt{constructor(t){this.persistence=t,this.Mr=new t0(n=>j4(n),B4),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Or=0,this.Nr=new W4,this.targetCount=0,this.Br=yg.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),xe.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new yg(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,xe.resolve()}updateTargetData(t,n){return this.qn(n),xe.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return xe.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),xe.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),xe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return xe.resolve(r)}containsKey(t,n){return xe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nmt{constructor(t,n){this.Lr={},this.overlays={},this.kr=new $4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new tmt(this),this.indexManager=new Wpt,this.remoteDocumentCache=function(i){return new Zpt(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new zpt(n),this.$r=new Qpt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Xpt,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new Jpt(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Be("MemoryPersistence","Starting transaction:",t);const i=new rmt(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class rmt extends Fht{constructor(t){super(),this.currentSequenceNumber=t}}class q4{constructor(t){this.persistence=t,this.zr=new W4,this.jr=null}static Hr(t){return new q4(t)}get Jr(){if(this.jr)return this.jr;throw Rt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),xe.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),xe.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Jr,r=>{const i=ht.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,$t.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return xe.or([()=>xe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=tn(),i=tn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G4(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class imt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class smt{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ult()?8:Zd.v(Jr())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new imt;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(W0()<=an.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",Cp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xe.resolve()):(W0()<=an.DEBUG&&Be("QueryEngine","Query:",Cp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(W0()<=an.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",Cp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,tl(n))):xe.resolve())}ji(t,n){if(Yq(n))return xe.resolve(null);let r=tl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ID(n,null,"F"),r=tl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=tn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,ID(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return Yq(n)||i.isEqual($t.min())?xe.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?xe.resolve(null):(W0()<=an.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cp(n)),this.es(t,o,n,Dht(i,-1)).next(a=>a))})}Zi(t,n){let r=new Bi(whe(t));return n.forEach((i,s)=>{zA(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return W0()<=an.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Cp(n)),this.zi.getDocumentsMatchingQuery(t,n,Gf.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class omt{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new _r(In),this.rs=new t0(s=>j4(s),B4),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kpt(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function amt(e,t,n,r){return new omt(e,t,n,r)}async function Hhe(e,t){const n=jt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=tn();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function umt(e,t){const n=jt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);Jn(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=tn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Whe(e){const t=jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function lmt(e,t){const n=jt(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(fs.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=yc(),l=tn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(cmt(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual($t.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function cmt(e,t,n){let r=tn(),i=tn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=yc();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual($t.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function fmt(e,t){const n=jt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function dmt(e,t){const n=jt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,xe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new cf(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function RD(e,t,n){const r=jt(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!T1(o))throw o;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function sG(e,t,n){const r=jt(e);let i=$t.min(),s=tn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=jt(u),d=f.rs.get(c);return d!==void 0?xe.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,tl(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:$t.min(),n?s:tn())).next(a=>(hmt(r,rpt(t),a),{documents:a,hs:s})))}function hmt(e,t,n){let r=e.ss.get(t)||$t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class oG{constructor(){this.activeTargetIds=lpt()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pmt{constructor(){this.no=new oG,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new oG,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mmt{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw=null;function K2(){return sw===null?sw=function(){return 268435456+Math.round(2147483648*Math.random())}():sw++,"0x"+sw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gmt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ymt{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class vmt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=K2(),u=this.bo(n,r.toUriEncodedString());Be("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(Be("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw o_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=gmt[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=K2();return new Promise((o,a)=>{const u=new Sht;u.setWithCredentials(!0),u.listenOnce(wht.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case G2.NO_ERROR:const c=u.getResponseJson();Be(Zi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case G2.TIMEOUT:Be(Zi,`RPC '${t}' ${s} timed out`),a(new Ve(Te.DEADLINE_EXCEEDED,"Request time out"));break;case G2.HTTP_ERROR:const f=u.getStatus();if(Be(Zi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(g)>=0?g:Te.UNKNOWN}(h.status);a(new Ve(p,h.message))}else a(new Ve(Te.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ve(Te.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{Be(Zi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Be(Zi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=K2(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=_ht(),a=bht(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Be(Zi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new ymt({lo:y=>{h?Be(Zi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Be(Zi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Be(Zi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},ho:()=>f.close()}),m=(y,g,v)=>{y.listen(g,_=>{try{v(_)}catch(S){setTimeout(()=>{throw S},0)}})};return m(f,nw.EventType.OPEN,()=>{h||Be(Zi,`RPC '${t}' stream ${i} transport opened.`)}),m(f,nw.EventType.CLOSE,()=>{h||(h=!0,Be(Zi,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),m(f,nw.EventType.ERROR,y=>{h||(h=!0,o_(Zi,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new Ve(Te.UNAVAILABLE,"The operation could not be completed")))}),m(f,nw.EventType.MESSAGE,y=>{var g;if(!h){const v=y.data[0];Jn(!!v);const _=v,S=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(S){Be(Zi,`RPC '${t}' stream ${i} received error:`,S);const x=S.status;let b=function(D){const $=Wr[D];if($!==void 0)return Dhe($)}(x),T=S.message;b===void 0&&(b=Te.INTERNAL,T="Unknown error status: "+x+" with message "+S.message),h=!0,p.Vo(new Ve(b,T)),f.close()}else Be(Zi,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),m(a,Eht.STAT_EVENT,y=>{y.stat===Lq.PROXY?Be(Zi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===Lq.NOPROXY&&Be(Zi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function Q2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e){return new Ppt(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qhe(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(ml(n.toString()),ml("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new Ve(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _mt extends Ghe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=Npt(this.serializer,t),r=function(s){if(!("targetChange"in s))return $t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$t.min():o.readTime?nl(o.readTime):$t.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=OD(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=TD(u)?{documents:$pt(s,u)}:{query:Lpt(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Mhe(s,o.resumeToken);const l=CD(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo($t.min())>0){a.readTime=eI(s,o.snapshotVersion.toTimestamp());const l=CD(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Fpt(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=OD(this.serializer),n.removeTarget=t,this.t_(n)}}class bmt extends Ghe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(Jn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=Dpt(t.writeResults,t.commitTime),r=nl(t.commitTime);return this.listener.T_(r,n)}return Jn(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=OD(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>kpt(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wmt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Ve(Te.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,AD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(Te.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,AD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(Te.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Emt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ml(n),this.g_=!1):Be("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Smt{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{tp(this)&&(Be("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=jt(u);l.v_.add(4),await A1(l),l.x_.set("Unknown"),l.v_.delete(4),await C1(l)}(this))})}),this.x_=new Emt(r,i)}}async function C1(e){if(tp(e))for(const t of e.F_)await t(!0)}async function A1(e){for(const t of e.F_)await t(!1)}function Yhe(e,t){const n=jt(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Q4(n)?K4(n):n0(n).Jo()&&Y4(n,t))}function Khe(e,t){const n=jt(e),r=n0(n);n.C_.delete(t),r.Jo()&&Qhe(n,t),n.C_.size===0&&(r.Jo()?r.Xo():tp(n)&&n.x_.set("Unknown"))}function Y4(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}n0(e).c_(t)}function Qhe(e,t){e.O_.Oe(t),n0(e).l_(t)}function K4(e){e.O_=new xpt({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),n0(e).start(),e.x_.p_()}function Q4(e){return tp(e)&&!n0(e).Ho()&&e.C_.size>0}function tp(e){return jt(e).v_.size===0}function Xhe(e){e.O_=void 0}async function Tmt(e){e.C_.forEach((t,n)=>{Y4(e,t)})}async function xmt(e,t){Xhe(e),Q4(e)?(e.x_.S_(t),K4(e)):e.x_.set("Unknown")}async function Imt(e,t,n){if(e.x_.set("Online"),t instanceof Lhe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await tI(e,r)}else if(t instanceof nE?e.O_.$e(t):t instanceof $he?e.O_.Je(t):e.O_.Ge(t),!n.isEqual($t.min()))try{const r=await Whe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(fs.EMPTY_BYTE_STRING,c.snapshotVersion)),Qhe(s,u);const f=new cf(c.target,u,l,c.sequenceNumber);Y4(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),await tI(e,r)}}async function tI(e,t,n){if(!T1(t))throw t;e.v_.add(1),await A1(e),e.x_.set("Offline"),n||(n=()=>Whe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Be("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await C1(e)})}function Jhe(e,t){return t().catch(n=>tI(e,n,t))}async function YA(e){const t=jt(e),n=Kf(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Cmt(t);)try{const i=await fmt(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,Amt(t,i)}catch(i){await tI(t,i)}Zhe(t)&&epe(t)}function Cmt(e){return tp(e)&&e.D_.length<10}function Amt(e,t){e.D_.push(t);const n=Kf(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Zhe(e){return tp(e)&&!Kf(e).Ho()&&e.D_.length>0}function epe(e){Kf(e).start()}async function Pmt(e){Kf(e).d_()}async function Omt(e){const t=Kf(e);for(const n of e.D_)t.I_(n.mutations)}async function Rmt(e,t,n){const r=e.D_.shift(),i=V4.from(r,t,n);await Jhe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await YA(e)}async function Nmt(e,t){t&&Kf(e).P_&&await async function(r,i){if(function(o){return Ept(o)&&o!==Te.ABORTED}(i.code)){const s=r.D_.shift();Kf(r).Zo(),await Jhe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await YA(r)}}(e,t),Zhe(e)&&epe(e)}async function uG(e,t){const n=jt(e);n.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=tp(n);n.v_.add(3),await A1(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await C1(n)}async function kmt(e,t){const n=jt(e);t?(n.v_.delete(2),await C1(n)):t||(n.v_.add(2),await A1(n),n.x_.set("Unknown"))}function n0(e){return e.N_||(e.N_=function(n,r,i){const s=jt(n);return s.R_(),new _mt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Tmt.bind(null,e),To:xmt.bind(null,e),u_:Imt.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Q4(e)?K4(e):e.x_.set("Unknown")):(await e.N_.stop(),Xhe(e))})),e.N_}function Kf(e){return e.B_||(e.B_=function(n,r,i){const s=jt(n);return s.R_(),new bmt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Pmt.bind(null,e),To:Nmt.bind(null,e),E_:Omt.bind(null,e),T_:Rmt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await YA(e)):(await e.B_.stop(),e.D_.length>0&&(Be("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new X4(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J4(e,t){if(ml("AsyncQueue",`${t}: ${e}`),T1(e))return new Ve(Te.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=fy(),this.sortedSet=new _r(this.comparator)}static emptySet(t){return new Am(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Am)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Am;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(){this.L_=new _r(ht.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Rt():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class vg{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vg(t,n,Am.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&VA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dmt{constructor(){this.q_=void 0,this.Q_=[]}}class $mt{constructor(){this.queries=new t0(t=>bhe(t),VA),this.onlineState="Unknown",this.K_=new Set}}async function tpe(e,t){const n=jt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Dmt),i)try{s.q_=await n.onListen(r)}catch(o){const a=J4(o,`Initialization of query '${Cp(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&Z4(n)}async function npe(e,t){const n=jt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Lmt(e,t){const n=jt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Z4(n)}function Mmt(e,t,n){const r=jt(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Z4(e){e.K_.forEach(t=>{t.next()})}class rpe{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new vg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=vg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipe{constructor(t){this.key=t}}class spe{constructor(t){this.key=t}}class Fmt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=tn(),this.mutatedKeys=tn(),this.ua=whe(t),this.ca=new Am(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new lG,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=zA(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this.ua(h,u)>0||l&&this.ua(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return m(h)-m(p)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new vg(this.query,t.ca,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new lG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=tn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new spe(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new ipe(r))}),n}Ra(t){this.oa=t.hs,this.aa=tn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return vg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class jmt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Bmt{constructor(t){this.key=t,this.ma=!1}}class Umt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new t0(a=>bhe(a),VA),this.pa=new Map,this.ya=new Set,this.wa=new _r(ht.comparator),this.Sa=new Map,this.ba=new W4,this.Da={},this.Ca=new Map,this.va=yg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Vmt(e,t){const n=Jmt(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await dmt(n.localStore,tl(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await zmt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Yhe(n.remoteStore,o)}return i}async function zmt(e,t,n,r,i){e.Ma=(f,d,h)=>async function(m,y,g,v){let _=y.view.ha(g);_.Xi&&(_=await sG(m.localStore,y.query,!1).then(({documents:T})=>y.view.ha(T,_)));const S=v&&v.targetChanges.get(y.targetId),x=v&&v.targetMismatches.get(y.targetId)!=null,b=y.view.applyChanges(_,m.isPrimaryClient,S,x);return fG(m,y.targetId,b.da),b.snapshot}(e,f,d,h);const s=await sG(e.localStore,t,!0),o=new Fmt(t,s.hs),a=o.ha(s.documents),u=I1.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);fG(e,n,l.da);const c=new jmt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function Hmt(e,t){const n=jt(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!VA(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await RD(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Khe(n.remoteStore,r.targetId),ND(n,r.targetId)}).catch(S1)):(ND(n,r.targetId),await RD(n.localStore,r.targetId,!0))}async function Wmt(e,t,n){const r=Zmt(e);try{const i=await function(o,a){const u=jt(o),l=ai.now(),c=a.reduce((h,p)=>h.add(p.key),tn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=yc(),m=tn();return u.os.getEntries(h,c).next(y=>{p=y,p.forEach((g,v)=>{v.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const v of a){const _=ypt(v,f.get(v.key).overlayedDocument);_!=null&&g.push(new ep(v.key,_,dhe(_.value.mapValue),Ql.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:She(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new _r(In)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await P1(r,i.changes),await YA(r.remoteStore)}catch(i){const s=J4(i,"Failed to persist write");n.reject(s)}}async function ope(e,t){const n=jt(e);try{const r=await lmt(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Jn(o.ma):i.removedDocuments.size>0&&(Jn(o.ma),o.ma=!1))}),await P1(n,r,t)}catch(r){await S1(r)}}function cG(e,t,n){const r=jt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=jt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(l=!0)}),l&&Z4(u)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qmt(e,t,n){const r=jt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new _r(ht.comparator);o=o.insert(s,ss.newNoDocument(s,$t.min()));const a=tn().add(s),u=new qA($t.min(),new Map,new _r(In),o,a);await ope(r,u),r.wa=r.wa.remove(s),r.Sa.delete(t),e5(r)}else await RD(r.localStore,t,!1).then(()=>ND(r,t,n)).catch(S1)}async function Gmt(e,t){const n=jt(e),r=t.batch.batchId;try{const i=await umt(n.localStore,t);upe(n,r,null),ape(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await P1(n,i)}catch(i){await S1(i)}}async function Ymt(e,t,n){const r=jt(e);try{const i=await function(o,a){const u=jt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Jn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);upe(r,t,n),ape(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await P1(r,i)}catch(i){await S1(i)}}function ape(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function upe(e,t,n){const r=jt(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function ND(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||lpe(e,r)})}function lpe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(Khe(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),e5(e))}function fG(e,t,n){for(const r of n)r instanceof ipe?(e.ba.addReference(r.key,t),Kmt(e,r)):r instanceof spe?(Be("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||lpe(e,r.key)):Rt()}function Kmt(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Be("SyncEngine","New document in limbo: "+n),e.ya.add(r),e5(e))}function e5(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new ht(ir.fromString(t)),r=e.va.next();e.Sa.set(r,new Bmt(n)),e.wa=e.wa.insert(n,r),Yhe(e.remoteStore,new cf(tl(U4(n.path)),r,"TargetPurposeLimboResolution",$4._e))}}async function P1(e,t,n){const r=jt(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=G4.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=jt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>xe.forEach(l,d=>xe.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>xe.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!T1(f))throw f;Be("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,m)}}}(r.localStore,s))}async function Qmt(e,t){const n=jt(e);if(!n.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const r=await Hhe(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new Ve(Te.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await P1(n,r.us)}}function Xmt(e,t){const n=jt(e),r=n.Sa.get(t);if(r&&r.ma)return tn().add(r.key);{let i=tn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Jmt(e){const t=jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ope.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xmt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qmt.bind(null,t),t.fa.u_=Lmt.bind(null,t.eventManager),t.fa.xa=Mmt.bind(null,t.eventManager),t}function Zmt(e){const t=jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gmt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ymt.bind(null,t),t}class dG{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=GA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return amt(this.persistence,new smt,t.initialUser,this.serializer)}createPersistence(t){return new nmt(q4.Hr,this.serializer)}createSharedClientState(t){return new pmt}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class egt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cG(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qmt.bind(null,this.syncEngine),await kmt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $mt}()}createDatastore(t){const n=GA(t.databaseInfo.databaseId),r=function(s){return new vmt(s)}(t.databaseInfo);return function(s,o,a,u){return new wmt(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Smt(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>cG(this.syncEngine,n,0),function(){return aG.D()?new aG:new mmt}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new Umt(i,s,o,a,u,l);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=jt(r);Be("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await A1(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cpe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):ml("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tgt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bs.UNAUTHENTICATED,this.clientId=lhe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Be("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=J4(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function X2(e,t){e.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Hhe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hG(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fpe(e);Be("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>uG(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>uG(t.remoteStore,i)),e._onlineComponents=t}function ngt(e){return e.name==="FirebaseError"?e.code===Te.FAILED_PRECONDITION||e.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function fpe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{await X2(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ngt(n))throw n;o_("Error using user provided cache. Falling back to memory cache: "+n),await X2(e,new dG)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),await X2(e,new dG);return e._offlineComponents}async function t5(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),await hG(e,e._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),await hG(e,new egt))),e._onlineComponents}function rgt(e){return fpe(e).then(t=>t.persistence)}function igt(e){return t5(e).then(t=>t.remoteStore)}function sgt(e){return t5(e).then(t=>t.syncEngine)}async function dpe(e){const t=await t5(e),n=t.eventManager;return n.onListen=Vmt.bind(null,t.syncEngine),n.onUnlisten=Hmt.bind(null,t.syncEngine),n}function ogt(e){return e.asyncQueue.enqueue(async()=>{const t=await rgt(e),n=await igt(e);return t.setNetworkEnabled(!0),function(i){const s=jt(i);return s.v_.delete(0),C1(s)}(n)})}function agt(e,t,n={}){const r=new el;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new cpe({next:d=>{o.enqueueAndForget(()=>npe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new Ve(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new Ve(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new rpe(U4(a.path),c,{includeMetadataChanges:!0,Z_:!0});return tpe(s,f)}(await dpe(e),e.asyncQueue,t,n,r)),r.promise}function ugt(e,t,n={}){const r=new el;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new cpe({next:d=>{o.enqueueAndForget(()=>npe(s,f)),d.fromCache&&u.source==="server"?l.reject(new Ve(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new rpe(a,c,{includeMetadataChanges:!0,Z_:!0});return tpe(s,f)}(await dpe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hpe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ppe(e,t,n){if(!n)throw new Ve(Te.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lgt(e,t,n,r){if(t===!0&&r===!0)throw new Ve(Te.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function mG(e){if(!ht.isDocumentKey(e))throw new Ve(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function gG(e){if(ht.isDocumentKey(e))throw new Ve(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function KA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rt()}function $h(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ve(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KA(e);throw new Ve(Te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ve(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ve(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lgt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hpe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n5{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ve(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yG(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Iht;switch(r.type){case"firstParty":return new Pht(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pG.get(n);r&&(Be("ComponentProvider","Removing Datastore"),pG.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new np(this.firestore,t,this._query)}}class so{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new so(this.firestore,t,this._key)}}class Cf extends np{constructor(t,n,r){super(t,n,U4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new so(this.firestore,null,new ht(t))}withConverter(t){return new Cf(this.firestore,t,this._path)}}function J2(e,t,...n){if(e=Vi(e),ppe("collection","path",t),e instanceof n5){const r=ir.fromString(t,...n);return gG(r),new Cf(e,null,r)}{if(!(e instanceof so||e instanceof Cf))throw new Ve(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ir.fromString(t,...n));return gG(r),new Cf(e.firestore,null,r)}}function $s(e,t,...n){if(e=Vi(e),arguments.length===1&&(t=lhe.newId()),ppe("doc","path",t),e instanceof n5){const r=ir.fromString(t,...n);return mG(r),new so(e,null,new ht(r))}{if(!(e instanceof so||e instanceof Cf))throw new Ve(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ir.fromString(t,...n));return mG(r),new so(e.firestore,e instanceof Cf?e.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cgt{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new qhe(this,"async_queue_retry"),this._u=()=>{const n=Q2();n&&Be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=Q2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=Q2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new el;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!T1(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ml("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=X4.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Rt()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class O1 extends n5{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new cgt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mpe(this),this._firestoreClient.terminate()}}function fgt(e,t,n){n||(n="(default)");const r=Kg(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Qv(s,t))return i;throw new Ve(Te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Ve(Te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ve(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function QA(e){return e._firestoreClient||mpe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mpe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new zht(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hpe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tgt(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function dgt(e){return ogt(QA(e=$h(e,O1)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _g(fs.fromBase64String(t))}catch(n){throw new Ve(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new _g(fs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ve(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ve(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ve(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return In(this._lat,t._lat)||In(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hgt=/^__.*__$/;class pgt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ep(t,this.data,this.fieldMask,n,this.fieldTransforms):new x1(t,this.data,n,this.fieldTransforms)}}function gpe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class o5{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new o5(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return nI(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(gpe(this.du)&&hgt.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class mgt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||GA(t)}Su(t,n,r,i=!1){return new o5({du:t,methodName:n,wu:r,path:$i.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ype(e){const t=e._freezeSettings(),n=GA(e._databaseId);return new mgt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ggt(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);bpe("Data must be an object, but it was:",o,r);const a=vpe(r,o);let u,l;if(s.merge)u=new Va(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=vgt(t,f,n);if(!o.contains(d))throw new Ve(Te.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);bgt(c,d)||c.push(d)}u=new Va(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new pgt(new sa(a),u,l)}class a5 extends i5{_toFieldTransform(t){return new hpt(t.path,new d_)}isEqual(t){return t instanceof a5}}function ygt(e,t,n,r=!1){return u5(n,e.Su(r?4:3,t))}function u5(e,t){if(_pe(e=Vi(e)))return bpe("Unsupported field value:",t,e),vpe(e,t);if(e instanceof i5)return function(r,i){if(!gpe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=u5(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Vi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cpt(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ai.fromDate(r);return{timestampValue:eI(i.serializer,s)}}if(r instanceof ai){const s=new ai(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eI(i.serializer,s)}}if(r instanceof s5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _g)return{bytesValue:Mhe(i.serializer,r._byteString)};if(r instanceof so){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:H4(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${KA(r)}`)}(e,t)}function vpe(e,t){const n={};return che(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zg(e,(r,i)=>{const s=u5(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _pe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ai||e instanceof s5||e instanceof _g||e instanceof so||e instanceof i5)}function bpe(e,t,n){if(!_pe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=KA(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function vgt(e,t,n){if((t=Vi(t))instanceof r5)return t._internalPath;if(typeof t=="string")return wpe(e,t);throw nI("Field path arguments must be of type string or ",e,!1,void 0,n)}const _gt=new RegExp("[~\\*/\\[\\]]");function wpe(e,t,n){if(t.search(_gt)>=0)throw nI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new r5(...t.split("."))._internalPath}catch{throw nI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function nI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ve(Te.INVALID_ARGUMENT,a+e+u)}function bgt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new so(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wgt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(l5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wgt extends Epe{data(){return super.data()}}function l5(e,t){return typeof t=="string"?wpe(e,t):t instanceof r5?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Egt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ve(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c5{}class Spe extends c5{}function Sgt(e,t,...n){let r=[];t instanceof c5&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof d5).length,a=s.filter(u=>u instanceof f5).length;if(o>1||o>0&&a>0)throw new Ve(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class f5 extends Spe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new f5(t,n,r)}_apply(t){const n=this._parse(t);return Tpe(t._query,n),new np(t.firestore,t.converter,xD(t._query,n))}_parse(t){const n=ype(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ve(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){_G(f,c);const h=[];for(const p of f)h.push(vG(u,s,p));d={arrayValue:{values:h}}}else d=vG(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||_G(f,c),d=ygt(a,o,f,c==="in"||c==="not-in");return Xr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class d5 extends c5{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new d5(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ru.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)Tpe(o,u),o=xD(o,u)}(t._query,n),new np(t.firestore,t.converter,xD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h5 extends Spe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new h5(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new Ve(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new f_(s,o)}(t._query,this._field,this._direction);return new np(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new e0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Tgt(e,t="asc"){const n=t,r=l5("orderBy",e);return h5._create(r,n)}function vG(e,t,n){if(typeof(n=Vi(n))=="string"){if(n==="")throw new Ve(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_he(t)&&n.indexOf("/")!==-1)throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ir.fromString(n));if(!ht.isDocumentKey(r))throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vq(e,new ht(r))}if(n instanceof so)return Vq(e,n._key);throw new Ve(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KA(n)}.`)}function _G(e,t){if(!Array.isArray(e)||e.length===0)throw new Ve(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tpe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ve(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ve(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class xgt{convertValue(t,n="none"){switch(Dh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(kh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Rt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Zg(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new s5(Yr(t.latitude),Yr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=M4(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(u_(t));default:return null}}convertTimestamp(t){const n=Yf(t);return new ai(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ir.fromString(t);Jn(zhe(r));const i=new l_(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(n)||ml(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Igt(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xpe extends Epe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new rE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(l5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rE extends xpe{data(t={}){return super.data(t)}}class Cgt{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new rE(this._firestore,this._userDataWriter,r.key,r,new hy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new rE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new rE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Agt(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Agt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e){e=$h(e,so);const t=$h(e.firestore,O1);return agt(QA(t),e._key).then(n=>Ogt(t,e,n))}class Ipe extends xgt{constructor(t){super(),this.firestore=t}convertBytes(t){return new _g(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new so(this.firestore,null,n)}}function bG(e){e=$h(e,np);const t=$h(e.firestore,O1),n=QA(t),r=new Ipe(t);return Egt(e._query),ugt(n,e._query).then(i=>new Cgt(t,r,e,i))}function vd(e,t,n){e=$h(e,so);const r=$h(e.firestore,O1),i=Igt(e.converter,t,n);return Pgt(r,[ggt(ype(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Ql.none())])}function Pgt(e,t){return function(r,i){const s=new el;return r.asyncQueue.enqueueAndForget(async()=>Wmt(await sgt(r),i,s)),s.promise}(QA(e),t)}function Ogt(e,t,n){const r=n.docs.get(t._key),i=new Ipe(e);return new xpe(e,i,t._key,r,new hy(n.hasPendingWrites,n.fromCache),t.converter)}function Rgt(){return new a5("serverTimestamp")}(function(t,n=!0){(function(i){Jg=i})(Jh),mc(new pl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new O1(new Cht(r.getProvider("auth-internal")),new Rht(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ve(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ya(Mq,"4.4.2",t),Ya(Mq,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Map,Cpe={activated:!1,tokenObservers:[]},Ngt={initialized:!1,enabled:!1};function ui(e){return kD.get(e)||Object.assign({},Cpe)}function kgt(e,t){return kD.set(e,t),kD.get(e)}function XA(){return Ngt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ape="https://content-firebaseappcheck.googleapis.com/v1",Dgt="exchangeRecaptchaV3Token",$gt="exchangeDebugToken",wG={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Lgt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mgt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Kv,this.pending.promise.catch(n=>{}),await Fgt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Kv,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Fgt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jgt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Zs=new Yg("appCheck","AppCheck",jgt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function p5(e){if(!ui(e).activated)throw Zs.create("use-before-activation",{appName:e.name})}function Ppe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=ow(n)+"d:"),r&&(o+=ow(r)+"h:"),o+=ow(i)+"m:"+ow(s)+"s",o}function ow(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Zs.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Zs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Zs.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Bgt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Ape}/projects/${n}/apps/${r}:${Dgt}?key=${i}`,body:{recaptcha_v3_token:t}}}function Ope(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Ape}/projects/${n}/apps/${r}:${$gt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ugt="firebase-app-check-database",Vgt=1,m_="firebase-app-check-store",Rpe="debug-token";let aw=null;function Npe(){return aw||(aw=new Promise((e,t)=>{try{const n=indexedDB.open(Ugt,Vgt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Zs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(m_,{keyPath:"compositeKey"})}}}catch(n){t(Zs.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),aw)}function zgt(e){return Dpe($pe(e))}function Hgt(e,t){return kpe($pe(e),t)}function Wgt(e){return kpe(Rpe,e)}function qgt(){return Dpe(Rpe)}async function kpe(e,t){const r=(await Npe()).transaction(m_,"readwrite"),s=r.objectStore(m_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Zs.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Dpe(e){const n=(await Npe()).transaction(m_,"readonly"),i=n.objectStore(m_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Zs.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function $pe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new TA("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ggt(e){if(SA()){let t;try{t=await zgt(e)}catch(n){g_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function Z2(e,t){return SA()?Hgt(e,t).catch(n=>{g_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Ygt(){let e;try{e=await qgt()}catch{}if(e)return e;{const t=Qlt();return Wgt(t).catch(n=>g_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){return XA().enabled}async function y5(){const e=XA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Kgt(){const e=Dfe(),t=XA();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Kv;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Ygt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qgt={error:"UNKNOWN_ERROR"};function Xgt(e){return n4.encodeString(JSON.stringify(e),!1)}async function DD(e,t=!1){const n=e.app;p5(n);const r=ui(n);let i=r.token,s;if(i&&!Zp(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(Zp(u)?i=u:await Z2(n,void 0))}if(!t&&i&&Zp(i))return{token:i.token};let o=!1;if(g5()){r.exchangeTokenPromise||(r.exchangeTokenPromise=m5(Ope(n,await y5()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await Z2(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ui(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?g_.warn(u.message):g_.error(u),s=u}let a;return i?s?Zp(i)?a={token:i.token,internalError:s}:a=TG(s):(a={token:i.token},r.token=i,await Z2(n,i)):a=TG(s),o&&Fpe(n,a),a}async function Jgt(e){const t=e.app;p5(t);const{provider:n}=ui(t);if(g5()){const r=await y5(),{token:i}=await m5(Ope(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Lpe(e,t,n,r){const{app:i}=e,s=ui(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Zp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),SG(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>SG(e))}function Mpe(e,t){const n=ui(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function SG(e){const{app:t}=e,n=ui(t);let r=n.tokenRefresher;r||(r=Zgt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Zgt(e){const{app:t}=e;return new Mgt(async()=>{const n=ui(t);let r;if(n.token?r=await DD(e,!0):r=await DD(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ui(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},wG.RETRIAL_MIN_WAIT,wG.RETRIAL_MAX_WAIT)}function Fpe(e,t){const n=ui(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Zp(e){return e.expireTimeMillis-Date.now()>0}function TG(e){return{token:Xgt(Qgt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0t{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ui(this.app);for(const n of t)Mpe(this.app,n.next);return Promise.resolve()}}function t0t(e,t){return new e0t(e,t)}function n0t(e){return{getToken:t=>DD(e,t),getLimitedUseToken:()=>Jgt(e),addTokenListener:t=>Lpe(e,"INTERNAL",t),removeTokenListener:t=>Mpe(e.app,t)}}const r0t="@firebase/app-check",i0t="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0t="https://www.google.com/recaptcha/api.js";function o0t(e,t){const n=new Kv,r=ui(e);r.reCAPTCHAState={initialized:n};const i=a0t(e),s=EG(!1);return s?xG(e,t,s,i,n):c0t(()=>{const o=EG(!1);if(!o)throw new Error("no recaptcha");xG(e,t,o,i,n)}),n.promise}function xG(e,t,n,r,i){n.ready(()=>{l0t(e,t,n,r),i.resolve(n)})}function a0t(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function u0t(e){p5(e);const n=await ui(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ui(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function l0t(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ui(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ui(e).reCAPTCHAState.succeeded=!1}}),s=ui(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function c0t(e){const t=document.createElement("script");t.src=s0t,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;d0t(this._throttleData);const i=await u0t(this._app).catch(o=>{throw Zs.create("recaptcha-error")});if(!(!((t=ui(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Zs.create("recaptcha-error");let s;try{s=await m5(Bgt(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=f0t(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Zs.create("throttled",{time:Ppe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=Kg(t,"heartbeat"),o0t(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof v5?this._siteKey===t._siteKey:!1}}function f0t(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Lgt,httpStatus:e};{const n=t?t.backoffCount:0,r=tct(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function d0t(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Zs.create("throttled",{time:Ppe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0t(e=i4(),t){e=Vi(e);const n=Kg(e,"app-check");if(XA().initialized||Kgt(),g5()&&y5().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Zs.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return p0t(e,t.provider,t.isTokenAutoRefreshEnabled),ui(e).isTokenAutoRefreshEnabled&&Lpe(r,"INTERNAL",()=>{}),r}function p0t(e,t,n){const r=kgt(e,Object.assign({},Cpe));r.activated=!0,r.provider=t,r.cachedTokenPromise=Ggt(e).then(i=>(i&&Zp(i)&&(r.token=i,Fpe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const m0t="app-check",IG="app-check-internal";function g0t(){mc(new pl(m0t,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return t0t(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(IG).initialize()})),mc(new pl(IG,e=>{const t=e.getProvider("app-check").getImmediate();return n0t(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ya(r0t,i0t)}g0t();function jpe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y0t=jpe,Bpe=new Yg("auth","Firebase",jpe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new TA("@firebase/auth");function v0t(e,...t){rI.logLevel<=an.WARN&&rI.warn(`Auth (${Jh}): ${e}`,...t)}function iE(e,...t){rI.logLevel<=an.ERROR&&rI.error(`Auth (${Jh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e,...t){throw _5(e,...t)}function rl(e,...t){return _5(e,...t)}function _0t(e,t,n){const r=Object.assign(Object.assign({},y0t()),{[t]:n});return new Yg("auth","Firebase",r).create(t,{appName:e.name})}function _5(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Bpe.create(e,...t)}function Lt(e,t,...n){if(!e)throw _5(t,...n)}function Hl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw iE(t),new Error(t)}function _c(e,t){e||Hl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function b0t(){return CG()==="http:"||CG()==="https:"}function CG(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0t(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b0t()||Flt()||"connection"in navigator)?navigator.onLine:!0}function E0t(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n){this.shortDelay=t,this.longDelay=n,_c(n>t,"Short delay should be less than long delay!"),this.isMobile=Llt()||jlt()}get(){return w0t()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(e,t){_c(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Upe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0t=new R1(3e4,6e4);function JA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function r0(e,t,n,r,i={}){return Vpe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=p1(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),Upe.fetch()(Hpe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Vpe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},S0t),t);try{const i=new x0t(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw uw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uw(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw uw(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw uw(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _0t(e,c,l);vc(e,c)}}catch(i){if(i instanceof Tl)throw i;vc(e,"network-request-failed",{message:String(i)})}}async function zpe(e,t,n,r,i={}){const s=await r0(e,t,n,r,i);return"mfaPendingCredential"in s&&vc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Hpe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?b5(e.config,i):`${e.config.apiScheme}://${i}`}class x0t{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rl(this.auth,"network-request-failed")),T0t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rl(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0t(e,t){return r0(e,"POST","/v1/accounts:delete",t)}async function C0t(e,t){return r0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function A0t(e,t=!1){const n=Vi(e),r=await n.getIdToken(t),i=w5(r);Lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zy(eR(i.auth_time)),issuedAtTime:Zy(eR(i.iat)),expirationTime:Zy(eR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function eR(e){return Number(e)*1e3}function w5(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return iE("JWT malformed, contained fewer than 3 sections"),null;try{const i=kfe(n);return i?JSON.parse(i):(iE("Failed to decode base64 JWT payload"),null)}catch(i){return iE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function P0t(e){const t=w5(e);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Tl&&O0t(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function O0t({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0t{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpe{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zy(this.lastLoginAt),this.creationTime=Zy(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(e){var t;const n=e.auth,r=await e.getIdToken(),i=await y_(e,C0t(n,{idToken:r}));Lt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?D0t(s.providerUserInfo):[],a=k0t(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wpe(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function N0t(e){const t=Vi(e);await iI(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function k0t(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function D0t(e){return e.map(t=>{var{providerId:n}=t,r=xL(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0t(e,t){const n=await Vpe(e,{},async()=>{const r=p1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Hpe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Upe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L0t(e,t){return r0(e,"POST","/v2/accounts:revokeToken",JA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P0t(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Lt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $0t(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new v_;return r&&(Lt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Lt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Lt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new v_,this.toJSON())}_performRefresh(){return Hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(e,t){Lt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ch{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=xL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R0t(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wpe(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await y_(this,this.stsTokenManager.getToken(this.auth,t));return Lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return A0t(this,t)}reload(){return N0t(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ch(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await iI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await y_(this,I0t(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:S,isAnonymous:x,providerData:b,stsTokenManager:T}=n;Lt(_&&T,t,"internal-error");const I=v_.fromJSON(this.name,T);Lt(typeof _=="string",t,"internal-error"),jc(f,t.name),jc(d,t.name),Lt(typeof S=="boolean",t,"internal-error"),Lt(typeof x=="boolean",t,"internal-error"),jc(h,t.name),jc(p,t.name),jc(m,t.name),jc(y,t.name),jc(g,t.name),jc(v,t.name);const D=new ch({uid:_,auth:t,email:d,emailVerified:S,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:I,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(D.providerData=b.map($=>Object.assign({},$))),y&&(D._redirectEventId=y),D}static async _fromIdTokenResponse(t,n,r=!1){const i=new v_;i.updateFromServerResponse(n);const s=new ch({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await iI(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=new Map;function Wl(e){_c(e instanceof Function,"Expected a class definition");let t=AG.get(e);return t?(_c(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,AG.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qpe.type="NONE";const PG=qpe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e,t,n){return`firebase:${e}:${t}:${n}`}class Pm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sE(this.userKey,i.apiKey,s),this.fullPersistenceKey=sE("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ch._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Pm(Wl(PG),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Wl(PG);const o=sE(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=ch._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Pm(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Pm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kpe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gpe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xpe(t))return"Blackberry";if(Jpe(t))return"Webos";if(E5(t))return"Safari";if((t.includes("chrome/")||Ype(t))&&!t.includes("edge/"))return"Chrome";if(Qpe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gpe(e=Jr()){return/firefox\//i.test(e)}function E5(e=Jr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ype(e=Jr()){return/crios\//i.test(e)}function Kpe(e=Jr()){return/iemobile/i.test(e)}function Qpe(e=Jr()){return/android/i.test(e)}function Xpe(e=Jr()){return/blackberry/i.test(e)}function Jpe(e=Jr()){return/webos/i.test(e)}function ZA(e=Jr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function M0t(e=Jr()){var t;return ZA(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function F0t(){return Blt()&&document.documentMode===10}function Zpe(e=Jr()){return ZA(e)||Qpe(e)||Jpe(e)||Xpe(e)||/windows phone/i.test(e)||Kpe(e)}function j0t(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(e,t=[]){let n;switch(e){case"Browser":n=OG(Jr());break;case"Worker":n=`${OG(Jr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0t{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0t(e,t={}){return r0(e,"GET","/v2/passwordPolicy",JA(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0t=6;class z0t{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:V0t,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0t{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RG(this),this.idTokenSubscription=new RG(this),this.beforeStateQueue=new B0t(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bpe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Pm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await iI(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=E0t()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Vi(t):null;return n&&Lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await U0t(this),n=new z0t(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yg("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L0t(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wl(t)||this._popupRedirectResolver;Lt(n,this,"argument-error"),this.redirectPersistenceManager=await Pm.create(this,[Wl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eme(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&v0t(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function eP(e){return Vi(e)}class RG{constructor(t){this.auth=t,this.observer=null,this.addObserver=Glt(n=>this.observer=n)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W0t(e){S5=e}function q0t(e){return S5.loadJS(e)}function G0t(){return S5.gapiScript}function Y0t(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0t(e,t){const n=Kg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qv(s,t??{}))return i;vc(i,"already-initialized")}return n.initialize({options:t})}function Q0t(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function X0t(e,t,n){const r=eP(e);Lt(r._canInitEmulator,r,"emulator-config-failed"),Lt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=tme(t),{host:o,port:a}=J0t(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Z0t()}function tme(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function J0t(e){const t=tme(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NG(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:NG(o)}}}function NG(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Z0t(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nme{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hl("not implemented")}_getIdTokenResponse(t){return Hl("not implemented")}_linkToIdToken(t,n){return Hl("not implemented")}_getReauthenticationResolver(t){return Hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(e,t){return zpe(e,"POST","/v1/accounts:signInWithIdp",JA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eyt="http://localhost";class Lh extends nme{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Lh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):vc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=xL(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Lh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Om(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Om(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Om(t,n)}buildRequest(){const t={requestUri:eyt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=p1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rme{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends rme{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends N1{constructor(){super("facebook.com")}static credential(t){return Lh._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zc.credentialFromTaggedObject(t)}static credentialFromError(t){return Zc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zc.credential(t.oauthAccessToken)}catch{return null}}}Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends N1{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Lh._fromParams({providerId:ef.PROVIDER_ID,signInMethod:ef.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ef.credentialFromTaggedObject(t)}static credentialFromError(t){return ef.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ef.credential(n,r)}catch{return null}}}ef.GOOGLE_SIGN_IN_METHOD="google.com";ef.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends N1{constructor(){super("github.com")}static credential(t){return Lh._fromParams({providerId:tf.PROVIDER_ID,signInMethod:tf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tf.credentialFromTaggedObject(t)}static credentialFromError(t){return tf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tf.credential(t.oauthAccessToken)}catch{return null}}}tf.GITHUB_SIGN_IN_METHOD="github.com";tf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends N1{constructor(){super("twitter.com")}static credential(t,n){return Lh._fromParams({providerId:nf.PROVIDER_ID,signInMethod:nf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return nf.credentialFromTaggedObject(t)}static credentialFromError(t){return nf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return nf.credential(n,r)}catch{return null}}}nf.TWITTER_SIGN_IN_METHOD="twitter.com";nf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tyt(e,t){return zpe(e,"POST","/v1/accounts:signUp",JA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await ch._fromIdTokenResponse(t,r,i),o=kG(r);return new Qf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=kG(r);return new Qf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function kG(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nyt(e){var t;const n=eP(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Qf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await tyt(n,{returnSecureToken:!0}),i=await Qf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI extends Tl{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sI.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new sI(t,n,r,i)}}function ime(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sI._fromErrorAndOperation(e,s,t,r):s})}async function ryt(e,t,n=!1){const r=await y_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iyt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await y_(e,ime(r,i,t,e),n);Lt(s.idToken,r,"internal-error");const o=w5(s.idToken);Lt(o,r,"internal-error");const{sub:a}=o;return Lt(e.uid===a,r,"user-mismatch"),Qf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function syt(e,t,n=!1){const r="signIn",i=await ime(e,r,t),s=await Qf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function oyt(e,t,n,r){return Vi(e).onIdTokenChanged(t,n,r)}function ayt(e,t,n){return Vi(e).beforeAuthStateChanged(t,n)}const oI="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oI,"1"),this.storage.removeItem(oI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uyt(){const e=Jr();return E5(e)||ZA(e)}const lyt=1e3,cyt=10;class ome extends sme{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uyt()&&j0t(),this.fallbackToPolling=Zpe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);F0t()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,cyt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},lyt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ome.type="LOCAL";const fyt=ome;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame extends sme{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ame.type="SESSION";const ume=ame;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dyt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new tP(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await dyt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hyt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=T5("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){return window}function pyt(e){il().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lme(){return typeof il().WorkerGlobalScope<"u"&&typeof il().importScripts=="function"}async function myt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gyt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function yyt(){return lme()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cme="firebaseLocalStorageDb",vyt=1,aI="firebaseLocalStorage",fme="fbase_key";class k1{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nP(e,t){return e.transaction([aI],t?"readwrite":"readonly").objectStore(aI)}function _yt(){const e=indexedDB.deleteDatabase(cme);return new k1(e).toPromise()}function LD(){const e=indexedDB.open(cme,vyt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(aI,{keyPath:fme})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(aI)?t(r):(r.close(),await _yt(),t(await LD()))})})}async function DG(e,t,n){const r=nP(e,!0).put({[fme]:t,value:n});return new k1(r).toPromise()}async function byt(e,t){const n=nP(e,!1).get(t),r=await new k1(n).toPromise();return r===void 0?null:r.value}function $G(e,t){const n=nP(e,!0).delete(t);return new k1(n).toPromise()}const wyt=800,Eyt=3;class dme{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await LD(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Eyt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lme()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tP._getInstance(yyt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await myt(),!this.activeServiceWorker)return;this.sender=new hyt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gyt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await LD();return await DG(t,oI,"1"),await $G(t,oI),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DG(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>byt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$G(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=nP(i,!1).getAll();return new k1(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wyt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dme.type="LOCAL";const Syt=dme;new R1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tyt(e,t){return t?Wl(t):(Lt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5 extends nme{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Om(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Om(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Om(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function xyt(e){return syt(e.auth,new x5(e),e.bypassAuthState)}function Iyt(e){const{auth:t,user:n}=e;return Lt(n,t,"internal-error"),iyt(n,new x5(e),e.bypassAuthState)}async function Cyt(e){const{auth:t,user:n}=e;return Lt(n,t,"internal-error"),ryt(n,new x5(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xyt;case"linkViaPopup":case"linkViaRedirect":return Cyt;case"reauthViaPopup":case"reauthViaRedirect":return Iyt;default:vc(this.auth,"internal-error")}}resolve(t){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ayt=new R1(2e3,1e4);class em extends hme{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,em.currentPopupAction&&em.currentPopupAction.cancel(),em.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){_c(this.filter.length===1,"Popup operations only handle one event");const t=T5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(rl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,em.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ayt.get())};t()}}em.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pyt="pendingRedirect",oE=new Map;class Oyt extends hme{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=oE.get(this.auth._key());if(!t){try{const r=await Ryt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}oE.set(this.auth._key(),t)}return this.bypassAuthState||oE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ryt(e,t){const n=Dyt(t),r=kyt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Nyt(e,t){oE.set(e._key(),t)}function kyt(e){return Wl(e._redirectPersistence)}function Dyt(e){return sE(Pyt,e.config.apiKey,e.name)}async function $yt(e,t,n=!1){const r=eP(e),i=Tyt(r,t),o=await new Oyt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lyt=10*60*1e3;class Myt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Fyt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!pme(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rl(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lyt&&this.cachedEventUids.clear(),this.cachedEventUids.has(LG(t))}saveEventToCache(t){this.cachedEventUids.add(LG(t)),this.lastProcessedEventTime=Date.now()}}function LG(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pme({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Fyt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pme(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jyt(e,t={}){return r0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Byt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uyt=/^https?/;async function Vyt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jyt(e);for(const n of t)try{if(zyt(n))return}catch{}vc(e,"unauthorized-domain")}function zyt(e){const t=$D(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Uyt.test(n))return!1;if(Byt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hyt=new R1(3e4,6e4);function MG(){const e=il().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Wyt(e){return new Promise((t,n)=>{var r,i,s;function o(){MG(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{MG(),n(rl(e,"network-request-failed"))},timeout:Hyt.get()})}if(!((i=(r=il().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=il().gapi)===null||s===void 0)&&s.load)o();else{const a=Y0t("iframefcb");return il()[a]=()=>{gapi.load?o():n(rl(e,"network-request-failed"))},q0t(`${G0t()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw aE=null,t})}let aE=null;function qyt(e){return aE=aE||Wyt(e),aE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gyt=new R1(5e3,15e3),Yyt="__/auth/iframe",Kyt="emulator/auth/iframe",Qyt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xyt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jyt(e){const t=e.config;Lt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?b5(t,Kyt):`https://${e.config.authDomain}/${Yyt}`,r={apiKey:t.apiKey,appName:e.name,v:Jh},i=Xyt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${p1(r).slice(1)}`}async function Zyt(e){const t=await qyt(e),n=il().gapi;return Lt(n,e,"internal-error"),t.open({where:document.body,url:Jyt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qyt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rl(e,"network-request-failed"),a=il().setTimeout(()=>{s(o)},Gyt.get());function u(){il().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const evt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tvt=500,nvt=600,rvt="_blank",ivt="http://localhost";class FG{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function svt(e,t,n,r=tvt,i=nvt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},evt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Jr().toLowerCase();n&&(a=Ype(l)?rvt:n),Gpe(l)&&(t=t||ivt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(M0t(l)&&a!=="_self")return ovt(t||"",a),new FG(null);const f=window.open(t||"",a,c);Lt(f,e,"popup-blocked");try{f.focus()}catch{}return new FG(f)}function ovt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const avt="__/auth/handler",uvt="emulator/auth/handler",lvt=encodeURIComponent("fac");async function jG(e,t,n,r,i,s){Lt(e.config.authDomain,e,"auth-domain-config-required"),Lt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jh,eventId:i};if(t instanceof rme){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",qlt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof N1){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${lvt}=${encodeURIComponent(u)}`:"";return`${cvt(e)}?${p1(a).slice(1)}${l}`}function cvt({config:e}){return e.emulator?b5(e,uvt):`https://${e.authDomain}/${avt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="webStorageSupport";class fvt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ume,this._completeRedirectFn=$yt,this._overrideRedirectResult=Nyt}async _openPopup(t,n,r,i){var s;_c((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jG(t,n,r,$D(),i);return svt(t,o,T5())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await jG(t,n,r,$D(),i);return pyt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_c(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Zyt(t),r=new Myt(t);return n.register("authEvent",i=>(Lt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tR,{type:tR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tR];o!==void 0&&n(!!o),vc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vyt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zpe()||E5()||ZA()}}const dvt=fvt;var BG="@firebase/auth",UG="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hvt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pvt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mvt(e){mc(new pl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eme(e)},l=new H0t(r,i,s,u);return Q0t(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),mc(new pl("auth-internal",t=>{const n=eP(t.getProvider("auth").getImmediate());return(r=>new hvt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ya(BG,UG,pvt(e)),Ya(BG,UG,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gvt=5*60,yvt=Mfe("authIdTokenMaxAge")||gvt;let VG=null;const vvt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yvt)return;const i=n==null?void 0:n.token;VG!==i&&(VG=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _vt(e=i4()){const t=Kg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=K0t(e,{popupRedirectResolver:dvt,persistence:[Syt,fyt,ume]}),r=Mfe("authTokenSyncURL");if(r){const s=vvt(r);ayt(n,s,()=>s(n.currentUser)),oyt(n,o=>s(o))}const i=$fe("auth");return i&&X0t(n,`http://${i}`),n}function bvt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}W0t({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=rl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bvt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mvt("Browser");class wvt extends Rfe{constructor(){super("firebase");go(this,"RECAPTCHAV3TOKEN","6LfZJ4EpAAAAAORbyljBz16Te5vhCpEz2L2QgqtQ");go(this,"firestore");go(this,"collectionPrefix","prod-");go(this,"studyCollection");go(this,"studyId","");go(this,"localForage",Ofe.createInstance({name:"currentParticipantId"}));go(this,"localProvenanceCopy",{});go(this,"localWindowEvents",{});const n=A3.parse(`
{
  apiKey: "AIzaSyC2_p8u5-7qcczQFzjlJSyhW4IM033QSuc",
  authDomain: "think-aloud-study.firebaseapp.com",
  projectId: "think-aloud-study",
  storageBucket: "think-aloud-study.appspot.com",
  messagingSenderId: "864986161913",
  appId: "1:864986161913:web:f70b4b25c3262928e53828",
  measurementId: "G-DNH5M7FC68"
}
`),r=Bfe(n);this.firestore=fgt(r,{});try{h0t(r,{provider:new v5(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=_vt();if(await nyt(n),!n.currentUser)throw new Error("Login failed with firebase");await dgt(this.firestore);const r=await $s(this.firestore,".info/connected");await _p(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await xm(JSON.stringify(r));this.studyCollection=J2(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=$s(this.studyCollection,"configs"),o=J2(s,"configs"),a=$s(o,i);return await vd(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=$s(this.studyCollection,this.currentParticipantId),o=(await _p(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o===null||!o.answers[l]||(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await xm(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await vd(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=$s(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=$s(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await vd(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=$s(this.studyCollection,"audioTags");await vd(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=$s(this.studyCollection,"audioTags");return((n=(await _p(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=$s(this.studyCollection,n);await vd(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=$s(this.studyCollection,n);return((r=(await _p(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n,r){n.addEventListener("dataavailable",i=>{const s=yd(),o=gd(s,`${this.studyId}/audio/${this.currentParticipantId}_${r}`);Eq(o,i.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(i=>i.stop())}async getAudio(n,r){const i=yd(),s=await Promise.all(n.map(async a=>await V0(gd(i,`${this.studyId}/audio/${r}_${a}`))));return Promise.all(s.map(a=>new Promise(u=>{const l=new XMLHttpRequest;l.responseType="blob",l.onload=()=>{const c=l.response,f=URL.createObjectURL(c);u(f)},l.open("GET",a),l.send()})))}async getTranscription(n,r){const i=yd(),s=await Promise.all(n.map(async a=>await V0(gd(i,`${this.studyId}/audio/${r}_${a}.wav_transcription.txt`))));return Promise.all(s.map(a=>new Promise(u=>{const l=new XMLHttpRequest;l.responseType="blob",l.onload=()=>{l.response.text().then(f=>{u(f)})},l.open("GET",a),l.send()})))}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.getSequenceArray();if(!r)throw new Error("Latin square not initialized");const i=$s(this.studyCollection,"sequenceAssignment"),s=J2(i,"sequenceAssignment"),o=$s(s,n||this.currentParticipantId);await vd(o,{participantId:n||this.currentParticipantId,timestamp:Rgt()});const a=Sgt(s,Tgt("timestamp","asc")),c=(await bG(a)).docs.map(d=>d.data()).findIndex(d=>d.participantId===n||this.currentParticipantId),f=r[c%r.length];if(!f)throw new Error("Latin square is empty");return f}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await bG(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=$s(this.studyCollection,n||this.currentParticipantId);if(r=(await _p(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,u])=>{u!==void 0&&(u.provenanceGraph=s[a],u.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=$s(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await _p(r)).data()),!s){const o=await xm(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await vd(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=yd(),s=gd(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await V0(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=yd(),o=gd(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await Eq(o,a)}}async _getFirebaseProvenance(n){const r=yd(),i=gd(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await V0(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=yd(),i=gd(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await V0(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function Evt(){let e,t=!1;{const n=new wvt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Clt;await n.connect(),e=n}return e}function Svt(){const{storageEngine:e,setStorageEngine:t}=da();return w.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await Evt();t(r)}n()},[t,e]),C.jsx(wlt,{})}nR.createRoot(document.getElementById("root")).render(C.jsx(N.StrictMode,{children:C.jsx(MDe,{children:C.jsx(AQ,{theme:{components:{roo:{styles:()=>({mark:{backgroundColor:"transparent",color:"cornflowerblue"}})}}},children:C.jsx(Svt,{})})})}));
